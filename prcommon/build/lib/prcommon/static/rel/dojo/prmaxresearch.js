/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

//>>built
require({cache:{"research/freelance/FreelanceEdit":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../freelance/templates/FreelanceEdit.html","dijit/layout/BorderContainer","dojo/request","ttl/utilities2","dojo/json","dojo/data/ItemFileReadStore","dojo/_base/lang","dojo/topic","dojo/dom-attr","dijit/layout/ContentPane","dijit/form/Form","dijit/form/TextBox","dijit/form/ValidationTextBox","dijit/form/FilteringSelect","research/employees/EmployeeSelect","dojox/validate","prcommon2/interests/Interests","dijit/form/Textarea","dojox/form/BusyButton","dijit/form/NumberTextBox","research/audit/AuditViewer","research/ResearchDetails","research/freelance/FreelanceDelete","prcommon2/web/WebButton","prcommon2/web/WebButton"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b){return _1("research.freelance.FreelanceEdit",[_2,_4],{templateString:_3,constructor:function(){this._saved_call_back=_9.hitch(this,this._saved);this._load_call_back=_9.hitch(this,this._loaded);this._deleted_call_back=_9.hitch(this,this._deleted_call);this.outletid=-1;},postCreate:function(){this.prmax_outlettypeid.set("store",PRCOMMON.utils.stores.OutletTypes());this.prmax_outlettypeid.set("value",42);this.reasoncodeid.set("store",PRCOMMON.utils.stores.Research_Reason_Update_Codes());this.reasoncodeid.set("value",PRCOMMON.utils.stores.Reason_Upd_Default);this.countryid.set("store",PRCOMMON.utils.stores.Countries());this.delete_ctrl.set("dialog",this.delete_dlg);this.blog_show.set("source",this.blog);this.www_show.set("source",this.www);this.facebook_show.set("source",this.facebook);this.twitter_show.set("source",this.twitter);this.linkedin_show.set("source",this.linkedin);this.instagram_show.set("source",this.instagram);this.inherited(arguments);},_saved:function(_c){if(_c.success=="OK"){alert("Freelance Updated");if(_c.data.comm.tel!=this.tel.get("value")){this.tel.set("value",_c.data.comm.tel);}if(_c.data.comm.fax!=this.fax.get("value")){this.fax.set("value",_c.data.comm.fax);}this._clear_reason();}else{alert("Failed to update ");}this.savenode.cancel();},_clear_reason:function(){this.reasoncodeid.set("value",PRCOMMON.utils.stores.Reason_Upd_Default);},_save:function(){if(_6.form_validator(this.requirednode)==false){alert("Not all required field filled in");throw "N";}var _d=this.requirednode.get("value");_d["outletid"]=this.outletid;_5.post("/research/admin/outlets/research_freelance_check",_6.make_params({data:_d})).then(this._deleted_call_back);},_deleted_call:function(_e){if(_e.success=="DEL"){if(confirm("Freelance '"+_e.data.outlet_name+"' has previously asked to be deleted.\nDo you want to proceed?")){data=this.requirednode.get("value");data["reasoncodeid"]=this.reasoncodeid.get("value");data["outletid"]=this.outletid;_5.post("/research/admin/outlets/freelance_research_update",_6.make_params({data:data})).then(this._saved_call_back);}}else{data=this.requirednode.get("value");data["reasoncodeid"]=this.reasoncodeid.get("value");data["outletid"]=this.outletid;_5.post("/research/admin/outlets/freelance_research_update",_6.make_params({data:data})).then(this._saved_call_back);}this.savenode.cancel();},new_freelance:function(){this.clear();},clear:function(){this.savenode.cancel();this.selectcontact.clear();this.outletid=-1;this.address1.set("value","");this.address2.set("value","");this.townname.set("value","");this.county.set("value","");this.postcode.set("value","");this.www.set("value","");this.email.set("value","");this.tel.set("value","");this.fax.set("value","");this.mobile.set("value","");this.interests.set("value","");this.profile.set("value","");this.countryid.set("value",1);this.twitter.set("value","");this.facebook.set("value","");this.linkedin.set("value","");this.instagram.set("value","");this.blog.set("value","");this.prmax_outlettypeid.set("value",42);this._clear_reason();},load:function(_f){this.outletid=_f;this._name="";this.outlet_audit_ctrl.load(this.outletid);_5.post("/research/admin/outlets/freelance_get_for_load",_6.make_params({data:{outletid:_f}})).then(this._load_call_back);},_loaded:function(_10){if(_10.success=="OK"){var _11=_10.data;this._name=_11.contact.familyname;this.selectcontact.contactid.set("value",_11.employee.contactid);_b.set(this.selectcontact.contactid.display,"innerHTML",_11.contactname);this.sortname.set("value",_11.outlet.sortname);this.job_title.set("value",_11.employee.job_title);this.outletid=_11.outlet.outletid;this.address1.set("value",_11.address.address1);this.address2.set("value",_11.address.address2);this.townname.set("value",_11.address.townname);this.county.set("value",_11.address.county);this.postcode.set("value",_11.address.postcode);this.www.set("value",_11.outlet.www);this.email.set("value",_11.comm.email);this.tel.set("value",_11.comm.tel);this.fax.set("value",_11.comm.fax);this.mobile.set("value",_11.comm.mobile);this.interests.set("value",_11.interests);this.profile.set("value",_11.profile);this.countryid.set("value",_11.outlet.countryid);this.twitter.set("value",_11.comm.twitter);this.facebook.set("value",_11.comm.facebook);this.linkedin.set("value",_11.comm.linkedin);this.instagram.set("value",_11.comm.instagram);this.blog.set("value",_11.comm.blog);this.prmax_outlettypeid.set("value",_11.outlet.prmax_outlettypeid);this._clear_reason();this.outlet_research_ctrl.load(_11.outlet.outletid,19);}else{alert("Problem Loading freelancer");}},_delete:function(){this.delete_ctrl.load(this.outletid,this._name);this.delete_dlg.show();}});});},"research/employees/People":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../employees/templates/People.html","dijit/layout/BorderContainer","ttl/grid/Grid","ttl/store/JsonRest","dojo/store/Cache","dojo/store/Observable","dojo/store/Memory","dojo/data/ItemFileReadStore","dojo/request","ttl/utilities2","dojo/json","dojo/_base/lang","dojo/topic","dojo/dom-attr","dojo/dom-class","dijit/layout/ContentPane","dijit/Toolbar","dijit/form/DropDownButton","dijit/TooltipDialog","dijit/form/TextBox","dijit/form/CheckBox","dijit/form/Button","dijit/form/ValidationTextBox","dijit/form/Form","research/employees/PersonNew","research/employees/PersonDelete","research/audit/AuditViewer","research/employees/ContactMerge",],function(_12,_13,_14,_15,_16,_17,_18,_19,_1a,_1b,_1c,_1d,_1e,_1f,_20,_21,_22){return _12("research.employees.People",[_13,_15],{templateString:_14,gutters:true,constructor:function(){this._store=new _19(new _17({target:"/research/admin/contacts/research_contactlist",idProperty:"contactid"}));this.people_employee_model=new _17({target:"/research/admin/contacts/research_contact_employee",idProperty:"employeesid"});this._sourcetypes=new _1b({url:"/common/lookups?searchtype=sourcetypes&nofilter=1"});this._sourcetypes2=new _1b({url:"/common/lookups?searchtype=sourcetypes"});this._GetEntryCallBack=_1f.hitch(this,this._get_contact_entry);this._load_call_back=_1f.hitch(this,this._load_call);this._updated_call_back=_1f.hitch(this,this._updated_call);this._check_call_back=_1f.hitch(this,this._check_call);_20.subscribe(PRCOMMON.Events.Person_Added,_1f.hitch(this,this._person_add_event));_20.subscribe(PRCOMMON.Events.Person_Update,_1f.hitch(this,this._person_update_event));_20.subscribe(PRCOMMON.Events.Person_Delete,_1f.hitch(this,this._person_delete_event));_20.subscribe("contacts/merge_contact",_1f.hitch(this,this._contact_merge_event));},postCreate:function(){var _23=[{label:"Id",className:"dgrid-column-nbr-right",field:"contactid"},{label:"Display Name",className:"standard",field:"contactname"},{label:"Source",className:"standard",field:"sourcename"},{label:"Country",className:"dgrid-column-status-large",field:"countryname"}];this.people_grid=new _16({columns:_23,selectionMode:"single",store:this._store});this.people_grid_view.set("content",this.people_grid);this.people_grid.on("dgrid-select",_1f.hitch(this,this._on_cell_call));_23=[{label:"Outlet Name",className:"dgrid-column-address-short",field:"outletname"},{label:"Job Title ",className:"dgrid-column-address-short",field:"job_title"},{label:"Source",className:"dgrid-column-status-small",field:"sourcename"},{label:"Media Channel",className:"dgrid-column-status",field:"prmax_outlettypename"},{label:"Country",className:"dgrid-column-status-large",field:"countryname"}];this.people_details_employee_grid=new _16({columns:_23,selectionMode:"single",store:this.people_employee_model});this.reasoncodeid.set("store",PRCOMMON.utils.stores.Research_Reason_Update_Codes());this.reasoncodeid.set("value",PRCOMMON.utils.stores.Reason_Upd_Default);this.filter_sourcetype.set("store",this._sourcetypes);this.filter_sourcetype.set("value",-1);this.sourcetypeid.set("store",this._sourcetypes2);this.countryid.set("store",PRCOMMON.utils.stores.Countries());this.filter_country.set("store",PRCOMMON.utils.stores.Countries());this.filter_country.set("value",1);this.inherited(arguments);},startup:function(){this.inherited(arguments);this.people_details_employee_grid_view.set("content",this.people_details_employee_grid);},_on_cell_call:function(e){this._row=e.rows[0].data;this.contactid.set("value",this._row.contactid);this.people_details_employee_grid.set("query",{contactid:this._row.contactid});this.audit_ctrl.load(this._row.contactid);_1c.post("/research/admin/contacts/get",_1d.make_params({data:{contactid:this._row.contactid}})).then(this._load_call_back);this.controls.selectChild(this.details_view);this.details_view.selectChild(this.details_tab);},_load_call:function(_24){if(_24.success=="OK"){this.prefix.set("value",_24.contact.prefix);this.firstname.set("value",_24.contact.firstname);this.familyname.set("value",_24.contact.familyname);this.middlename.set("value",_24.contact.middlename);this.sourcetypeid.set("value",_24.contact.sourcetypeid);this.countryid.set("value",_24.contact.countryid);this.reasoncodeid.set("value",PRCOMMON.utils.stores.Reason_Upd_Default);if(_24.contact.inuse==true){_22.add(this.deletebtn.domNode,"prmaxhidden");}else{_22.remove(this.deletebtn.domNode,"prmaxhidden");}}},_execute:function(){var _25={};if(arguments[0].filter.length>0){_25["filter"]=arguments[0].filter;}if(arguments[0].filter_personid.length>0){_25["contactid"]=arguments[0].filter_personid;}if(arguments[0].filter_sourcetype!=-1){_25["sourcetypeid"]=arguments[0].filter_sourcetype;}if(arguments[0].filter_country!=""){_25["filter_countryid"]=arguments[0].filter_country;}this.people_grid.set("query",_25);},_clear_filter:function(){this.filter.set("value","");this.filter_personid.set("value","");this.filter_sourcetype.set("value",-1);this.filter_country.set("value",-1);},_add:function(){this.person_add_ctrl.clear();this.person_add_ctrl.load(this.person_add_dlg);this.person_add_dlg.show();},_person_add_event:function(_26){this._store.add(_26);this.person_add_dlg.hide();},_person_update_event:function(_27){this._store.put(_27);},_person_delete_event:function(_28){this._store.remove(_28.contactid);this.controls.selectChild(this.blank);this._row=null;this.person_delete_dlg.hide();},_update_contact:function(){if(_1d.form_validator(this.formUpdate)==false){alert("Not all required field filled in");throw "N";}_1c.post("/research/admin/contacts/research_check",_1d.make_params({data:this.formUpdate.get("value")})).then(this._check_call_back);},_check_call:function(_29){if(_29.success=="DEL"){if(confirm("Contact '"+_29.data.firstname+" "+_29.data.familyname+"' has previously asked to be deleted.\nDo you want to proceed?")){_1c.post("/research/admin/contacts/research_update",_1d.make_params({data:this.formUpdate.get("value")})).then(this._updated_call_back);}}else{if(_29.success=="DU"){if((_29.exist==true&&confirm("Contact already exist with same Firstname and Surname.\nDo you want to proceed?"))||_29.exist==false){_1c.post("/research/admin/contacts/research_update",_1d.make_params({data:this.formUpdate.get("value")})).then(this._updated_call_back);}}else{if(_29.success=="DEL+DU"){if(confirm("Contact '"+_29.data.deletionhistory.firstname+" "+_29.data.deletionhistory.familyname+"' has previously asked to be deleted.\nDo you want to proceed?")){if((_29.data.exist==true&&confirm("Contact already exist with same Firstname and Surname.\nDo you want to proceed?"))||_29.data.exist==false){_1c.post("/research/admin/contacts/research_update",_1d.make_params({data:this.formUpdate.get("value")})).then(this._updated_call_back);}}}else{if(_29.success=="OK"){_1c.post("/research/admin/contacts/research_update",_1d.make_params({data:this.formUpdate.get("value")})).then(this._updated_call_back);}}}}this.updatenode.cancel();},_clear_reason:function(){this.reasoncodeid.set("value",PRCOMMON.utils.stores.Reason_Upd_Default);},_updated_call:function(_2a){if(_2a.success=="OK"){alert("Contact Updated");_20.publish(PRCOMMON.Events.Person_Update,_2a.contact);this._clear_reason();}else{alert("Problem Updated Contact");}this.updatenode.cancel();},_delete_contact:function(){this.person_delete_ctrl.load(this._row.contactid,this._row.contactname);this.person_delete_dlg.show();},_merge_contact:function(){this.contact_merge_ctrl.load(this._row.contactid,this._row.contactname,this.contact_merge_dlg);},_contact_merge_event:function(_2b){this._store.remove(_2b.sourcecontactid);this.contactid.set("value",_2b.contactid);this.prefix.set("value",_2b.contact.prefix);this.firstname.set("value",_2b.contact.firstname);this.familyname.set("value",_2b.contact.familyname);this.middlename.set("value",_2b.contact.middlename);this.sourcetypeid.set("value",_2b.contact.sourcetypeid);this.people_details_employee_grid.set("query",{contactid:_2b.contactid});this.audit_ctrl.load(_2b.contactid);},});});},"research/translations/translatejobrole":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../translations/templates/translatejobrole.html","dojo/request","ttl/utilities2","dojo/_base/lang","dojo/data/ItemFileReadStore","dojo/json","prcommon2/roles/Roles","prcommon2/interests/Interests"],function(_2c,_2d,_2e,_2f,_30,_31,_32,_33){return _2c("research.translations.translatejobrole",[_2d],{templateString:_2e,gutters:false,constructor:function(){this._load_details_call_back=_31.hitch(this,this._load_details_call);this._update_translation_call_back=_31.hitch(this,this._update_translation_call);},load:function(_34,_35){this._show_func=_35;this.datasourcetranslationid.set("value",_34);_2f.post("/research/international/translation/get_record",_30.make_params({data:{datasourcetranslationid:_34}})).then(this._load_details_call_back);},_load_details_call:function(_36){if(_36.success=="OK"){this.roles.set("value",_36.data.roles);this._show_func("jobroles");this.interests.set("value",_36.data.interests);this._show_func("jobroles");}},_update_translation:function(){if(_30.form_validator(this.form)==false){alert("Not all required fields filled in");throw "N";}var tmp=_33.parse(this.roles.get("value"));var _37=_33.parse(this.interests.get("value"));var _38=this.form.get("value");_38["translation"]=_33.stringify(tmp["data"]);_38["extended_translation"]=_33.stringify(_37["data"]);_2f.post("/research/international/translation/update",_30.make_params({data:_38})).then(this._update_translation_call_back);},_update_translation_call:function(_39){if(_39.success=="OK"){this._show_func("jobroles",_39.data);}}});});},"prcommon2/search/Publisher":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../search/templates/Publisher.html","prcommon2/search/std_search","dojo/_base/lang","dojo/dom-attr","dojo/dom-class","dojo/dom-style","dojo/json","dojo/data/ItemFileReadStore","dojox/data/JsonRestStore","prcommon2/search/std_search","dijit/form/FilteringSelect","prcommon2/search/SearchCount"],function(_3a,_3b,_3c,_3d,_3e,_3f,_40,_41,_42,_43,_44){return _3a("prcommon2.search.Publisher",[_3b,_3d],{templateString:_3c,constructor:function(){this.store=new _44({target:"/research/admin/publisher/search_list",mode:"search",labelAttribute:"publishername",idProperty:"publisherid"});},postCreate:function(){this.select.set("store",this.store);this.select.set("value",-1);},_changed:function(){this._get_selector(this._get_data());},clear:function(){this.select.set("value",-1);this._get_selector("All");this.inherited(arguments);},_setValueAttr:function(_45){var _46=false;this.clear();this._get_selector(this._getValueAttr());},_getValueAttr:function(){return this._get_data();},_get_data:function(){if(this.select.get("value")==""){this.select.set("value",-1);}var _47=parseInt(this.select.get("value"));if(this._extended){return {data:_47};}else{this.value=(_47!=null&&_47!=-1)?_42.stringify(_47):"";return this.value;}},_focus:function(){this.select.focus();},_capture_extended_content:function(_48){var tmp=this.inherited(arguments);tmp.partial=0;return tmp;}});});},"research/outlets/OutletMoveContact":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../outlets/templates/OutletMoveContact.html","dojo/request","ttl/utilities2","dojo/_base/lang","dojo/topic","dojo/dom-attr","ttl/store/JsonRest","dojo/dom-class","dijit/layout/ContentPane","dijit/form/Button","dijit/form/TextBox","dijit/form/FilteringSelect","dijit/form/Form"],function(_49,_4a,_4b,_4c,_4d,_4e,_4f,_50,_51,_52){return _49("research.outlets.OutletMoveContact",[_4a],{templateString:_4b,constructor:function(){this._move_call_back=_4e.hitch(this,this._move_call);this._outlet_selected_call_back=_4e.hitch(this,this._outlet_selected_call);this._outlets=new _51({target:"/research/admin/outlets/list_research",idProperty:"outletid"});this._outletdesks=new _51({target:"/research/admin/desks/list_outlet_desks",idProperty:"outletdeskid"});},postCreate:function(){this.inherited(arguments);this.outletid.set("store",this._outlets);this.outletdeskid.set("store",this._outletdesks);this._outlet=null;},_move_contact:function(){if(_4d.form_validator(this.form)==false){alert("Not all required fields filled in");throw "N";}if(confirm("Move Contact?")){_4c.post("/research/admin/outlets/research_move_contact",_4d.make_params({data:this.form.get("value")})).then(this._move_call_back);}},_move_call:function(_53){if(_53.success=="OK"){_4f.publish(PRCOMMON.Events.Employee_Deleted,{has_deleted:true,employeeid:parseInt(this.employeeid.get("value"))});alert("Contact Moved. Please verify the 'Research tab' to make sure these changes haven't effected it");if(_53.data.source_series==true&&_53.data.destination_series==false){alert("Series members were affected. Please run employee synchronisation process");}else{if(_53.data.source_series==false&&_53.data.destination_series==true){alert("Series members of DESTINATION publication were affected. Please run employee synchronisation process for DESTINATION publication");}else{if(_53.data.source_series==true&&_53.data.destination_series==true){alert("Series members of BOTH source AND destination publications were affected. Please run employee synchronisation process for both of them");}}}this._dialog.hide();this.clear();}else{alert("Problem Moving Contact");}},clear:function(){this.outletid.set("value",null);this.outletdeskid.set("value",-1);_50.set(this.heading,"innerHTML","");_52.add(this.desk_view,"prmaxhidden");},clear2:function(){this.outletid.set("value",null);this.outletdeskid.set("value",-1);},load:function(_54,_55,_56,_57){this.clear();this.employeeid.set("value",_54);_50.set(this.heading,"innerHTML",_55);this._dialog=_56;this.outletid.set("query",{ioutletid:_57});this.outletid.set("value",null);},_close_dlg:function(){this._dialog.hide();this.clear();},_outlet_selected:function(_58){if(this.outletid.value!=""){_4c.post("/research/admin/outlets/research_outlet_is_child",_4d.make_params({data:{outletid:this.outletid.value}})).then(this._outlet_selected_call_back);}},_outlet_selected_call:function(_59){if(_59.is_child==false){this.outletdeskid.set("query",{outletid:_59.outletid});this.outletdeskid.set("value",null);_52.remove(this.desk_view,"prmaxhidden");}else{alert("Cannot move a contact to a child outlet. Please select a parent outlet.");this.clear2();}},});});},"dijit/selection":function(){define(["dojo/_base/array","dojo/dom","dojo/_base/lang","dojo/sniff","dojo/_base/window","dijit/focus"],function(_5a,dom,_5b,has,_5c,_5d){var _5e=function(win){var doc=win.document;this.getType=function(){if(doc.getSelection){var _5f="text";var _60;try{_60=win.getSelection();}catch(e){}if(_60&&_60.rangeCount==1){var _61=_60.getRangeAt(0);if((_61.startContainer==_61.endContainer)&&((_61.endOffset-_61.startOffset)==1)&&(_61.startContainer.nodeType!=3)){_5f="control";}}return _5f;}else{return doc.selection.type.toLowerCase();}};this.getSelectedText=function(){if(doc.getSelection){var _62=win.getSelection();return _62?_62.toString():"";}else{if(this.getType()=="control"){return null;}return doc.selection.createRange().text;}};this.getSelectedHtml=function(){if(doc.getSelection){var _63=win.getSelection();if(_63&&_63.rangeCount){var i;var _64="";for(i=0;i<_63.rangeCount;i++){var _65=_63.getRangeAt(i).cloneContents();var div=doc.createElement("div");div.appendChild(_65);_64+=div.innerHTML;}return _64;}return null;}else{if(this.getType()=="control"){return null;}return doc.selection.createRange().htmlText;}};this.getSelectedElement=function(){if(this.getType()=="control"){if(doc.getSelection){var _66=win.getSelection();return _66.anchorNode.childNodes[_66.anchorOffset];}else{var _67=doc.selection.createRange();if(_67&&_67.item){return doc.selection.createRange().item(0);}}}return null;};this.getParentElement=function(){if(this.getType()=="control"){var p=this.getSelectedElement();if(p){return p.parentNode;}}else{if(doc.getSelection){var _68=doc.getSelection();if(_68){var _69=_68.anchorNode;while(_69&&(_69.nodeType!=1)){_69=_69.parentNode;}return _69;}}else{var r=doc.selection.createRange();r.collapse(true);return r.parentElement();}}return null;};this.hasAncestorElement=function(_6a){return this.getAncestorElement.apply(this,arguments)!=null;};this.getAncestorElement=function(_6b){var _6c=this.getSelectedElement()||this.getParentElement();return this.getParentOfType(_6c,arguments);};this.isTag=function(_6d,_6e){if(_6d&&_6d.tagName){var _6f=_6d.tagName.toLowerCase();for(var i=0;i<_6e.length;i++){var _70=String(_6e[i]).toLowerCase();if(_6f==_70){return _70;}}}return "";};this.getParentOfType=function(_71,_72){while(_71){if(this.isTag(_71,_72).length){return _71;}_71=_71.parentNode;}return null;};this.collapse=function(_73){if(doc.getSelection){var _74=win.getSelection();if(_74.removeAllRanges){if(_73){_74.collapseToStart();}else{_74.collapseToEnd();}}else{_74.collapse(_73);}}else{var _75=doc.selection.createRange();_75.collapse(_73);_75.select();}};this.remove=function(){var sel=doc.selection;if(doc.getSelection){sel=win.getSelection();sel.deleteFromDocument();return sel;}else{if(sel.type.toLowerCase()!="none"){sel.clear();}return sel;}};this.selectElementChildren=function(_76,_77){var _78;_76=dom.byId(_76);if(doc.getSelection){var _79=win.getSelection();if(has("opera")){if(_79.rangeCount){_78=_79.getRangeAt(0);}else{_78=doc.createRange();}_78.setStart(_76,0);_78.setEnd(_76,(_76.nodeType==3)?_76.length:_76.childNodes.length);_79.addRange(_78);}else{_79.selectAllChildren(_76);}}else{_78=_76.ownerDocument.body.createTextRange();_78.moveToElementText(_76);if(!_77){try{_78.select();}catch(e){}}}};this.selectElement=function(_7a,_7b){var _7c;_7a=dom.byId(_7a);if(doc.getSelection){var _7d=doc.getSelection();_7c=doc.createRange();if(_7d.removeAllRanges){if(has("opera")){if(_7d.getRangeAt(0)){_7c=_7d.getRangeAt(0);}}_7c.selectNode(_7a);_7d.removeAllRanges();_7d.addRange(_7c);}}else{try{var tg=_7a.tagName?_7a.tagName.toLowerCase():"";if(tg==="img"||tg==="table"){_7c=_5c.body(doc).createControlRange();}else{_7c=_5c.body(doc).createRange();}_7c.addElement(_7a);if(!_7b){_7c.select();}}catch(e){this.selectElementChildren(_7a,_7b);}}};this.inSelection=function(_7e){if(_7e){var _7f;var _80;if(doc.getSelection){var sel=win.getSelection();if(sel&&sel.rangeCount>0){_80=sel.getRangeAt(0);}if(_80&&_80.compareBoundaryPoints&&doc.createRange){try{_7f=doc.createRange();_7f.setStart(_7e,0);if(_80.compareBoundaryPoints(_80.START_TO_END,_7f)===1){return true;}}catch(e){}}}else{_80=doc.selection.createRange();try{_7f=_7e.ownerDocument.body.createTextRange();_7f.moveToElementText(_7e);}catch(e2){}if(_80&&_7f){if(_80.compareEndPoints("EndToStart",_7f)===1){return true;}}}}return false;};this.getBookmark=function(){var bm,rg,tg,sel=doc.selection,cf=_5d.curNode;if(doc.getSelection){sel=win.getSelection();if(sel){if(sel.isCollapsed){tg=cf?cf.tagName:"";if(tg){tg=tg.toLowerCase();if(tg=="textarea"||(tg=="input"&&(!cf.type||cf.type.toLowerCase()=="text"))){sel={start:cf.selectionStart,end:cf.selectionEnd,node:cf,pRange:true};return {isCollapsed:(sel.end<=sel.start),mark:sel};}}bm={isCollapsed:true};if(sel.rangeCount){bm.mark=sel.getRangeAt(0).cloneRange();}}else{rg=sel.getRangeAt(0);bm={isCollapsed:false,mark:rg.cloneRange()};}}}else{if(sel){tg=cf?cf.tagName:"";tg=tg.toLowerCase();if(cf&&tg&&(tg=="button"||tg=="textarea"||tg=="input")){if(sel.type&&sel.type.toLowerCase()=="none"){return {isCollapsed:true,mark:null};}else{rg=sel.createRange();return {isCollapsed:rg.text&&rg.text.length?false:true,mark:{range:rg,pRange:true}};}}bm={};try{rg=sel.createRange();bm.isCollapsed=!(sel.type=="Text"?rg.htmlText.length:rg.length);}catch(e){bm.isCollapsed=true;return bm;}if(sel.type.toUpperCase()=="CONTROL"){if(rg.length){bm.mark=[];var i=0,len=rg.length;while(i<len){bm.mark.push(rg.item(i++));}}else{bm.isCollapsed=true;bm.mark=null;}}else{bm.mark=rg.getBookmark();}}else{}}return bm;};this.moveToBookmark=function(_81){var _82=_81.mark;if(_82){if(doc.getSelection){var sel=win.getSelection();if(sel&&sel.removeAllRanges){if(_82.pRange){var n=_82.node;n.selectionStart=_82.start;n.selectionEnd=_82.end;}else{sel.removeAllRanges();sel.addRange(_82);}}else{}}else{if(doc.selection&&_82){var rg;if(_82.pRange){rg=_82.range;}else{if(_5b.isArray(_82)){rg=doc.body.createControlRange();_5a.forEach(_82,function(n){rg.addElement(n);});}else{rg=doc.body.createTextRange();rg.moveToBookmark(_82);}}rg.select();}}}};this.isCollapsed=function(){return this.getBookmark().isCollapsed;};};var _83=new _5e(window);_83.SelectionManager=_5e;return _83;});},"research/lookups/Roles":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../lookups/templates/Roles.html","dijit/layout/BorderContainer","ttl/grid/Grid","ttl/store/JsonRest","dojo/store/Cache","dojo/store/Observable","dojo/store/Memory","dojo/request","ttl/utilities2","dojo/json","dojo/_base/lang","dojo/dom-class","dijit/layout/ContentPane","dijit/Toolbar","dijit/form/DropDownButton","dijit/TooltipDialog","dijit/form/TextBox","dijit/form/CheckBox","dijit/form/Button","dijit/form/ValidationTextBox","dijit/form/Form","prcommon2/interests/Interests"],function(_84,_85,_86,_87,_88,_89,_8a,_8b,_8c,_8d,_8e,_8f,_90,_91){return _84("research.lookup.Roles",[_85,_87],{templateString:_86,gutters:true,constructor:function(){this._store=new _8b(new _89({target:"/research/admin/roles/rolesall",idProperty:"prmaxroleid"}));this._add_role_call=_90.hitch(this,this._add_role);this._load_role_call=_90.hitch(this,this._load_role);this._set_visible_call=_90.hitch(this,this._set_visible);this._find_roles_response_call=_90.hitch(this,this._find_roles_response);this._load_synonims_call=_90.hitch(this,this._load_synonims);this._load_roles_rebuild_call=_90.hitch(this,this._load_roles_rebuild);},postCreate:function(){var _92=[{label:" ",field:"prmaxroleid",sortable:false,formatter:_8e.generic_view,className:"grid-field-image-view"},{label:"P",field:"visible",sortable:false,formatter:_8e.check_cell,className:"grid-field-image-view"},{label:"Roles",className:"standard",field:"prmaxrole"},{label:"Job Roles",className:"standard",field:"roles"}];this.grid=new _88({columns:_92,selectionMode:"single",store:this._store,query:{visible:true}});this.grid.on("dgrid-select",_90.hitch(this,this._on_cell_call));this.inherited(arguments);},startup:function(){this.inherited(arguments);this.grid_view.set("content",this.grid);},_find_roles_response:function(_93){this.role_list.options.length=0;for(var key in _93.data){var _94=_93.data[key];this.role_list.options[this.role_list.options.length]=new Option(_94[1],_94[0]);}},_find_roles:function(){var tmp=this.role_list_select.get("value");if(tmp.length>0){_8d.post("/research/admin/roles/find",_8e.make_params({data:{prmaxroleid:this._row.prmaxroleid,prmaxrole:tmp}})).then(this._find_roles_response_call);}},_load_role:function(_95){this.visible_change.set("checked",_95.data.prmaxrole.visible);_91.remove(this.detail_view,"prmaxhidden");this._show_details();this.role_select.options.length=0;for(var key in _95.data.prmaxroleslist){var _96=_95.data.prmaxroleslist[key];this.role_select.options[this.role_select.options.length]=new Option(_96.prmaxrole,_96.synonymid);}if(_95.data.prmaxlistinterests!=null){this.interests.set("value",_95.data.prmaxlistinterests);}if(_95.data.prmaxrole.visible==true){_91.remove(this.details_ext,"prmaxhidden");}},_on_cell_call:function(e){this.interests.clear();this.role_list.options.length=0;this.role_list_select.set("value","");this._row=e.rows[0].data;_8d.post("/research/admin/roles/getext",_8e.make_params({data:{prmaxroleid:this._row.prmaxroleid}})).then(this._load_role_call);},_clear_filter:function(){this.filter.set("value","");this.visible_only.set("checked",false);},_execute:function(){var _97={filter:arguments[0].filter};if(arguments[0].visible.length>0){_97["visible"]=true;}this.grid.set("query",_97);this._clear();},_add_role:function(_98){if(_98.success=="OK"){this._store.add(_98.data);alert("Role Added");}else{if(_98.success=="DU"){alert("Role Already Exists");}else{alert("Prioblem Adding role");}}},_execute_add:function(){if(this.rolename.isValid()==false){alert("No Role Specified");}else{_8d.post("/research/admin/roles/add",_8e.make_params({data:{rolename:arguments[0].rolename}})).then(this._add_role_call);}return false;},_clear:function(){this._row=null;_91.add(this.detail_view,"prmaxhidden");this.interests.clear();this.role_list.options.length=0;this.role_list_select.set("value","");},_set_visible:function(_99){if(_99.success=="OK"){this._show_details();alert("Role Primary Status Updated");}},_show_details:function(){if(this.visible_change.get("checked")==true){_91.remove(this.details_ext,"prmaxhidden");}else{_91.add(this.details_ext,"prmaxhidden");}},_set_primary:function(){var _9a={prmaxroleid:this._row.prmaxroleid};if(this.visible_change.get("checked")){_9a["visible"]=1;}_8d.post("/research/admin/roles/role_set_visible",_8e.make_params({data:_9a})).then(this._set_visible_call);},_selection_options:function(){this.button_single.set("disabled",this.role_list.selectedIndex!=-1?false:true);this.button_del_all.set("disabled",this.role_select.length?false:true);this.button_del_single.set("disabled",this.role_select.selectedIndex!=-1?false:true);},role_select_single:function(){for(var c=0;c<this.role_list.options.length;c++){var _9b=this.role_list.options[c];if(_9b.selected){_9b.selected=false;var _9c=true;for(var c1=0;c1<this.role_select.options.length;c1++){if(this.role_select.options[c1].value==_9b.value){_9c=false;break;}}if(_9c){this.role_select.options[this.role_select.options.length]=new Option(_9b.text,_9b.value);}}}},role_remove_all:function(){this.role_select.options.length=0;this._selection_options();},role_remove_single:function(){this.role_select.options[this.role_select.selectedIndex]=null;this._selection_options();},_load_roles_rebuild:function(_9d){if(_9d.success=="OK"){alert("Updated");}else{alert("Problem Updating");}},_load_synonims:function(_9e){if(_9e.success=="OK"){alert("Synonims Updated");}else{alert("Problem Updating Synonims");}},_update_synonims:function(){var _9f=new Array();for(var c=0;c<this.role_select.options.length;c++){_9f.push(parseInt(this.role_select.options[c].value));}var _a0={prmaxroleid:this._row.prmaxroleid,roles:_8f.stringify(_9f),interests:this.interests.get("value")};_8d.post("/research/admin/roles/update_synonims",_8e.make_params({data:_a0})).then(this._load_synonims_call);}});});},"research/questionnaires/Coverage":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../questionnaires/templates/Coverage.html","dijit/layout/BorderContainer","dijit/layout/ContentPane","dojo/topic","dojo/_base/lang","ttl/utilities2","dojo/request","dojo/dom-attr","dijit/layout/ContentPane","dijit/form/Form","dijit/form/TextBox"],function(_a1,_a2,_a3,_a4,_a5,_a6,_a7,_a8,_a9,_aa){return _a1("research.questionnaires.Coverage",[_a2,_a4],{templateString:_a3,constructor:function(){this._update_call_back=_a7.hitch(this,this._update_call);this._error_call_back=_a7.hitch(this,this._error_call);},postCreate:function(){this.inherited(arguments);this.reasoncodeid.set("store",PRCOMMON.utils.stores.Research_Reason_Add_Codes());this.reasoncodeid.set("value",PRCOMMON.utils.stores.Reason_Add_Default);},load:function(_ab,_ac,_ad){this.coverage.set("value",_ac.coverage);_aa.set(this.feedback,"innerHTML","");for(var key in _ad){var _ae=_ad[key];switch(_ae.fieldid){case 54:_aa.set(this.feedback,"innerHTML",_ae.value);break;}}this.researchprojectitemid.set("value",_ab.researchprojectitemid);this.savenode.cancel();},clear:function(){this.savenode.cancel();_aa.set(this.feedback,"innerHTML","");},_update_coding:function(){if(_a8.form_validator(this.form)==false){alert("Not all required field filled in");this.savenode.cancel();throw "N";}var _af=this.form.get("value");_af["reasoncodeid"]=this.reasoncodeid.get("value");_a9.post("/research/admin/projects/user_feed_coverage",_a8.make_params({data:_af})).then(this._update_call_back,this._error_call_back);},_update_call:function(_b0){if(_b0.success=="OK"){alert("Coverage Updated");}else{alert("Problem");}this.savenode.cancel();},_error_call:function(){this.savenode.cancel();}});});},"research/questionnaires/SendSingle":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../questionnaires/templates/SendSingle.html","dojo/request","ttl/utilities2","dojo/json","dojo/_base/lang","dojo/topic","dojo/dom-attr","dojo/dom-class","dijit/form/RadioButton","dijit/form/FilteringSelect","dijit/form/Button",],function(_b1,_b2,_b3,_b4,_b5,_b6,_b7,_b8,_b9,_ba){return _b1("research.questionnaires.SendSingle",[_b2],{templateString:_b3,constructor:function(){this._send_call_back=dojo.hitch(this,this._send_call);},postCreate:function(){this.reasoncodeid.set("store",PRCOMMON.utils.stores.Research_Reason_Add_Codes());this.reasoncodeid.set("value",PRCOMMON.utils.stores.Reason_Add_Default);this.inherited(arguments);},_send:function(){if(_b5.form_validator(this.form)==false){alert("Not all required fields filled in");throw "N";}_b4.post("/research/admin/send_questionnaire",_b5.make_params({data:this.form.get("value")})).then(this._send_call_back);},_send_call:function(_bb){if(_bb.success=="OK"){alert("Questionnaire Sent");this._dialog.hide();}else{alert("Problem Sending Questionnaire");this.sendemail.cancel();}},_close:function(){this._dialog.hide();},load:function(_bc,_bd,_be,_bf,_c0){this._clear();this.objecttypeid.set("value",_bd);this.objectid.set("value",_bc);this.toemail.set("value",_be);this.toname.set("value",_bf);this._dialog=_c0;this._dialog.show();},_clear:function(){this.sendemail.cancel();this.objecttypeid.set("value",-1);this.objectid.set("value",-1);this.toname.set("value","");this.toemail.set("value","");this.subject.set("value","");this.body.set("value","");}});});},"prcommon2/contact/ContactSelect":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../contact/templates/ContactSelect.html","dojo/json","dojo/request","ttl/utilities2","ttl/store/JsonRest","dojo/store/Observable","dojo/_base/lang","dojo/topic","ttl/grid/Grid","dojo/dom-attr","dojo/dom-class","dijit/form/TextBox","dijit/form/Button","dijit/Dialog","dijit/layout/BorderContainer","prcommon2/search/EmployeeSearch","dijit/layout/ContentPane","dojox/data/JsonRestStore","dijit/form/RadioButton","dijit/form/FilteringSelect","research/employees/PersonNew","research/employees/PersonEdit","research/employees/ContactMerge",],function(_c1,_c2,_c3,_c4,_c5,_c6,_c7,_c8,_c9,_ca,_cb,_cc,_cd){return _c1("prcommon2.contact.ConctactSelect",[_c2],{templateString:_c3,name:"",value:"",searchtypeid:6,constructor:function(){this._contactid=null;this._selected_call_back=null;this.model=new _c8(new _c7({target:"/research/admin/contacts/research_contactlist",idProperty:"contactid"}));this.people_employee_model=new _c7({target:"/research/admin/contacts/research_contact_employee",idProperty:"employeesid"});_ca.subscribe(PRCOMMON.Events.Person_Added,_c9.hitch(this,this._add_event));_ca.subscribe(PRCOMMON.Events.Person_Delete,_c9.hitch(this,this._person_delete_event));_ca.subscribe(PRCOMMON.Events.Person_Update,_c9.hitch(this,this._person_update_event));_ca.subscribe("contacts/merge_contact",_c9.hitch(this,this._person_merge_event));},postCreate:function(){var _ce=[{label:" ",className:"grid-field-icon-view",formatter:_c6.format_row_ctrl},{label:"Id",className:"dgrid-column-nbr-right",field:"contactid"},{label:"Contact",className:"standard",field:"contactname"},{label:"Source",className:"dgrid-column-status-small",field:"sourcename"}];this.people_grid=new _cb({columns:_ce,selectionMode:"single",store:this.model});this.people_grid_view.set("content",this.people_grid);this.people_grid.on(".dgrid-cell:click",_c9.hitch(this,this._on_cell_call));this.inherited(arguments);},_setValueAttr:function(_cf){this._contactid=_cf;},_setDisplayvalueAttr:function(_d0){_cc.set(this.display,"innerHTML",_d0);},_getValueAttr:function(){return this._contactid;},_clear:function(){this.clear();},_select:function(){this.select_dlg.startup();this.select_dlg.show();},clear:function(){this._contactid=null;_cc.set(this.display,"innerHTML","");},_close:function(){this.select_dlg.hide();},_search:function(){var _d1={};if(this.filter.get("value").length>0){_d1["filter"]=this.filter.get("value");}if(this.filter_personid.get("value").length>0){_d1["contactid"]=this.filter_personid.get("value");}this.people_grid.set("query",_d1);this.searchbutton.cancel();},_on_cell_call:function(e){var _d2=this.people_grid.cell(e);this._contact=_d2.row.data;if(_d2.column.id==0){this.person_edit_ctrl.load(this.person_edit_dlg,this._contact.contactid,this._contact.contactname);this.person_edit_dlg.show();}else{if(this._contact&&this._selected_call_back){this._selected_call_back(this._contact);this.select_dlg.hide();}}},_setCallbackAttr:function(_d3){this._selected_call_back=_d3;},_add_contact:function(){this.person_add_ctrl.clear();this.person_add_ctrl.load(this.person_add_dlg);this.person_add_dlg.show();},_add_event:function(_d4){this.model.add(_d4);this.person_add_dlg.hide();},_close_person_info:function(){this.person_info_dlg.hide();},_delete_contact:function(){this.person_delete_ctrl.load(this._contact.contactid,this._contact.contactname);this.person_delete_dlg.show();},_person_delete_event:function(_d5){this.model.remove(_d5.contactid);},_person_merge_event:function(_d6){this.model.remove(_d6.sourcecontactid);},_person_update_event:function(_d7){this.model.put(_d7);},});});},"dijit/Viewport":function(){define(["dojo/Evented","dojo/on","dojo/domReady","dojo/sniff","dojo/window"],function(_d8,on,_d9,has,_da){var _db=new _d8();var _dc;_d9(function(){var _dd=_da.getBox();_db._rlh=on(window,"resize",function(){var _de=_da.getBox();if(_dd.h==_de.h&&_dd.w==_de.w){return;}_dd=_de;_db.emit("resize");});if(has("ie")==8){var _df=screen.deviceXDPI;setInterval(function(){if(screen.deviceXDPI!=_df){_df=screen.deviceXDPI;_db.emit("resize");}},500);}if(has("ios")){on(document,"focusin",function(evt){_dc=evt.target;});on(document,"focusout",function(evt){_dc=null;});}});_db.getEffectiveBox=function(doc){var box=_da.getBox(doc);var tag=_dc&&_dc.tagName&&_dc.tagName.toLowerCase();if(has("ios")&&_dc&&!_dc.readOnly&&(tag=="textarea"||(tag=="input"&&/^(color|email|number|password|search|tel|text|url)$/.test(_dc.type)))){box.h*=(orientation==0||orientation==180?0.66:0.4);var _e0=_dc.getBoundingClientRect();box.h=Math.max(box.h,_e0.top+_e0.height);}return box;};return _db;});},"research/questionnaires/OutletUpdate":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../questionnaires/templates/OutletUpdate.html","dijit/layout/BorderContainer","ttl/grid/Grid","ttl/store/JsonRest","dojo/store/Observable","dojo/request","ttl/utilities2","dojo/json","dojo/data/ItemFileReadStore","dojo/_base/lang","dojo/topic","dojo/dom-attr","dijit/layout/TabContainer","research/questionnaires/OutletEditMainDetails","dijit/layout/BorderContainer","dijit/layout/ContentPane","dijit/layout/StackContainer","research/questionnaires/Profile","research/questionnaires/EmployeeEdit","dijit/Dialog","research/questionnaires/Coding","research/questionnaires/Coverage","research/questionnaires/Research","research/questionnaires/EmployeeDelete","research/employees/EmployeeDelete","research/employees/EmployeeEdit","research/outlets/OutletSetPrimary","research/outlets/OutletMoveContact","research/outlets/OutletCopyContact","research/employees/EmployeeMerge"],function(_e1,_e2,_e3,_e4,_e5,_e6,_e7,_e8,_e9,_ea,_eb,_ec,_ed,_ee){return _e1("research.questionnaires.OutletUpdate",[_e2,_e4],{templateString:_e3,gutters:false,constructor:function(){this._load_call_back=_ec.hitch(this,this._load_call);this._store=new _e7(new _e6({target:"/research/admin/projects/journalist_changes",idProperty:"key"}));this._load_new_employee_call_back=_ec.hitch(this,this._load_new_employee_call);_ed.subscribe(PRCOMMON.Events.Employee_Quest_Add,_ec.hitch(this,this._employee_add_event));_ed.subscribe(PRCOMMON.Events.Employee_Add,_ec.hitch(this,this._employee_add_event));_ed.subscribe(PRCOMMON.Events.Employee_Quest_Updated,_ec.hitch(this,this._employee_update_event));_ed.subscribe("/emp/set_primary",_ec.hitch(this,this._employee_set_primary_event));_ed.subscribe("/quest/emp_del",_ec.hitch(this,this._employee_delete_event));this._row_data=null;this._outletdesks=null;this.std_menu=null;this.std_menu_primary=null;},postCreate:function(){var _ef=[{label:" ",field:"isprimary",className:"grid-field-image-view",formatter:this._row_button_small},{label:"Done?",field:"applied",className:"dgrid-column-status-small",formatter:this._action_done_function},{label:"Contact",className:"standard",field:"contactname"},{label:"Job Title",className:"standard",field:"job_title"},{label:"Action",field:"actiontypedescription",className:"dgrid-column-statusl"}];this.grid=new _e5({columns:_ef,selectionMode:"single",store:this._store});this.outlet_contact_grid_view.set("content",this.grid);this.grid.on(".dgrid-cell:click",_ec.hitch(this,this._on_cell_call));this.inherited(arguments);},_row_button_small:function(_f0){if(_f0==null){return "...";}if(_f0){return "<p style=\"background-color:red;padding:0x;margin:0px\">&nbsp; </p>";}return "<img height=\"10px\" width=\"10px\" style=\"padding:0x;margin:0px\" src=\"/prcommon/images/rowctrl.gif\"></img>";},_action_done_function:function(_f1){if(_f1==1){return "Yes";}return "";},_action_function:function(_f2){if(_f2!=null){if(_f2==3){return "<img height=\"16px\" width=\"16px\" style=\"padding:0x;margin:0px\" src=\"/prcommon/images/delete.gif\"></img>";}else{return "<img src=\"/prcommon/images/view.png\" alt=\"view\" width=\"16\" height=\"16\" style=\"padding:0px;margin:0px\"/>";}}else{return "";}},_on_cell_call:function(e){var _f3=this.grid.cell(e);if(_f3==null||_f3.row==null){return;}if(_f3.column.field=="isprimary"){if(_f3.row.data.actiontypeid==2||_f3.row.data.actiontypeid==-1){this._row_data=_f3.row.data;this._show_menu(e,_f3.row.data);return;}}if(_f3.row.data.actiontypeid==3&&_f3.row.data.applied==1){if(_f3.row.data.isprimary==true){alert("Cannot Delete as is Primary");return;}this._row_data=_f3.row.data;this._show_menu(e,_f3.row.data);return;}if(_f3.row.data.actiontypeid==3&&_f3.row.data.applied==0){if(_f3.row.data.isprimary==true){alert("Cannot Delete as is Primary");}else{this._row_data=_f3.row.data;this.delete_ctrl.load(_f3.row.data.key,_f3.row.data.job_title,_f3.row.data.contactname);}}else{if(_f3.row.data.actiontypeid==1&&_f3.row.data.applied==0){this._row_data=_f3.row.data;_e8.post("/research/admin/projects/load_new_employee_feedback",_e9.make_params({data:{researchprojectitemid:this._researchprojectitemid,objectid:_f3.row.data.objectid}})).then(this._load_new_employee_call_back);}else{if(_f3.row.data.applied==0&&_f3.row.data.actiontypeid==2){this._row_data=_f3.row.data;_e8.post("/research/admin/projects/load_employee_feedback",_e9.make_params({data:{researchprojectitemid:this._researchprojectitemid,objectid:_f3.row.data.objectid}})).then(this._load_new_employee_call_back);}else{if(_f3.row.data.actiontypeid==-1&&_f3.row.data.typeid=="E"){this._row_data=_f3.row.data;_e8.post("/research/admin/projects/load_employee",_e9.make_params({data:{objectid:_f3.row.data.objectid}})).then(this._load_new_employee_call_back);}}}}},_load_new_employee_call:function(_f4){if(_f4.success=="OK"){this.contact_edit.load(_f4.data.data,_f4.data.user_changes,this._outletdesks);this.contact_edit_container.selectChild(this.contact_edit);}else{alert("Problem Loading Changes");}},_employee_delete_event:function(_f5){if(this._row_data!=null){this._row_data.applied=1;this._store.remove(_f5);this.contact_edit_container.selectChild(this.blank_cont_view);}},_load_call:function(_f6){if(_f6.success=="OK"){this.outlet_main.load(_f6.data.projectitem,_f6.data.outlet,_f6.data.user_changes);this.outlet_profile_ctrl.load(_f6.data.projectitem,_f6.data.outlet,_f6.data.user_changes);this.outlet_coding_ctrl.load(_f6.data.projectitem,_f6.data.outlet,_f6.data.user_changes);this.outlet_coverage_ctrl.load(_f6.data.projectitem,_f6.data.outlet,_f6.data.user_changes);this.research_ctrl.load(_f6.data.projectitem,_f6.data.research,_f6.data.user_changes);this.grid.set("query",{researchprojectitemid:_f6.data.projectitem.researchprojectitemid});var tmp=_f6.data.outlet.outlet.outletid+" - "+_f6.data.outlet.outlet.outletname;_ee.set(this.outlet_details_view,"innerHTML",tmp);this._outletid=_f6.data.outlet.outlet.outletid;this._outletdesks=_f6.data.outlet.outletdesks;}},load:function(_f7){this.clear();this._researchprojectitemid=_f7;_e8.post("/research/admin/projects/load_user_feedback",_e9.make_params({data:{researchprojectitemid:_f7}})).then(this._load_call_back);},clear:function(){this.contact_edit_container.selectChild(this.blank_cont_view);},_employee_add_event:function(key){if(this._row_data!=null){this._row_data.applied=1;this._store.put(this._row_data);this.contact_edit_container.selectChild(this.blank_cont_view);}else{key.typeid="E";key.key=key.typeid+key.employeeid;key.objectid=key.employeeid;key.actiontypeid=-1;this._store.add(key);}},_employee_update_event:function(_f8,_f9,_fa){if(_fa=="desk"&&this._row_data!=null&&this._row_data!=undefined){this._row_data.applied=1;if(_f9!=null){this._row_data.job_title=_f9.job_title;this._row_data.contactname=_f9.contactname;}this._store.put(this._row_data);this.contact_edit_container.selectChild(this.blank_cont_view);}},_show_menu:function(e,_fb){if(_fb.actiontypeid==3&&this.std_menu===null){this.std_menu=new dijit.Menu();this.std_menu.addChild(new dijit.MenuItem({label:"Delete Contact",onClick:_ec.hitch(this,this._delete_employee),iconClass:"dijitPrmaxIcon dijitPrmaxEmployee"}));this.std_menu.startup();}else{if(this.std_menu===null){this.std_menu=new dijit.Menu();this.std_menu.addChild(new dijit.MenuItem({label:"Add Contact",onClick:_ec.hitch(this,this._add_employee),iconClass:"dijitPrmaxIcon dijitPrmaxEmployee"}));this.std_menu.addChild(new dijit.MenuItem({label:"Delete Contact",onClick:_ec.hitch(this,this._delete_employee),iconClass:"dijitPrmaxIcon dijitPrmaxEmployee"}));this.std_menu.addChild(new dijit.MenuItem({label:"Set Primary Contact",onClick:_ec.hitch(this,this._primary_contact),iconClass:"dijitPrmaxIcon dijitPrmaxEmployee"}));this.std_menu.startup();}}if(this.std_menu_primary===null){this.std_menu_primary=new dijit.Menu();this.std_menu_primary.addChild(new dijit.MenuItem({label:"Add Contact",onClick:_ec.hitch(this,this._add_employee),iconClass:"dijitPrmaxIcon dijitPrmaxEmployee"}));this.std_menu_primary.startup();}if(_fb.isprimary==true){this.std_menu_primary._openMyself(e);}else{this.std_menu._openMyself(e);}},_add_employee:function(){this._row_data=null;this.employee_change_ctrl.set("dialog",this.employee_change_dlg);this.employee_change_ctrl.load(-1,this._outletid,"",this._outletdesks);this.employee_change_dlg.show();this.contact_edit_container.selectChild(this.blank_cont_view);},_delete_employee:function(){this.delete_ctrl.load(this._row_data.key,this._row_data.job_title,this._row_data.contactname);},_primary_contact:function(){this.employee_set_primary_ctrl.load(this._row_data.objectid,this._row_data.contactname,this._row_data.job_title,this.employee_set_primary_dlg);this.employee_set_primary_dlg.show();},_employee_set_primary_event:function(){this.grid.set("query",{researchprojectitemid:this._researchprojectitemid});},});});},"dijit/Dialog":function(){define(["require","dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/Deferred","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/fx","dojo/i18n","dojo/keys","dojo/_base/lang","dojo/on","dojo/ready","dojo/sniff","dojo/window","dojo/dnd/Moveable","dojo/dnd/TimedMoveable","./focus","./_base/manager","./_Widget","./_TemplatedMixin","./_CssStateMixin","./form/_FormMixin","./_DialogMixin","./DialogUnderlay","./layout/ContentPane","./layout/utils","dojo/text!./templates/Dialog.html","./a11yclick","dojo/i18n!./nls/common"],function(_fc,_fd,_fe,_ff,_100,dom,_101,_102,_103,fx,i18n,keys,lang,on,_104,has,_105,_106,_107,_108,_109,_10a,_10b,_10c,_10d,_10e,_10f,_110,_111,_112){var _113=new _100();_113.resolve(true);function nop(){};var _114=_ff("dijit._DialogBase"+(has("dojo-bidi")?"_NoBidi":""),[_10b,_10d,_10e,_10c],{templateString:_112,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:{node:"titleNode",type:"innerHTML"},open:false,duration:_109.defaultDuration,refocus:true,autofocus:true,_firstFocusItem:null,_lastFocusItem:null,draggable:true,_setDraggableAttr:function(val){this._set("draggable",val);},maxRatio:0.9,closable:true,_setClosableAttr:function(val){this.closeButtonNode.style.display=val?"":"none";this._set("closable",val);},postMixInProperties:function(){var _115=i18n.getLocalization("dijit","common");lang.mixin(this,_115);this.inherited(arguments);},postCreate:function(){_103.set(this.domNode,{display:"none",position:"absolute"});this.ownerDocumentBody.appendChild(this.domNode);this.inherited(arguments);_fe.after(this,"onExecute",lang.hitch(this,"hide"),true);_fe.after(this,"onCancel",lang.hitch(this,"hide"),true);this._modalconnects=[];},onLoad:function(){this.resize();this._position();if(this.autofocus&&_116.isTop(this)){this._getFocusItems();_108.focus(this._firstFocusItem);}this.inherited(arguments);},focus:function(){this._getFocusItems();_108.focus(this._firstFocusItem);},_endDrag:function(){var _117=_102.position(this.domNode),_118=_105.getBox(this.ownerDocument);_117.y=Math.min(Math.max(_117.y,0),(_118.h-_117.h));_117.x=Math.min(Math.max(_117.x,0),(_118.w-_117.w));this._relativePosition=_117;this._position();},_setup:function(){var node=this.domNode;if(this.titleBar&&this.draggable){this._moveable=new ((has("ie")==6)?_107:_106)(node,{handle:this.titleBar});_fe.after(this._moveable,"onMoveStop",lang.hitch(this,"_endDrag"),true);}else{_101.add(node,"dijitDialogFixed");}this.underlayAttrs={dialogId:this.id,"class":_fd.map(this["class"].split(/\s/),function(s){return s+"_underlay";}).join(" "),_onKeyDown:lang.hitch(this,"_onKey"),ownerDocument:this.ownerDocument};},_size:function(){this.resize();},_position:function(){if(!_101.contains(this.ownerDocumentBody,"dojoMove")){var node=this.domNode,_119=_105.getBox(this.ownerDocument),p=this._relativePosition,bb=_102.position(node),l=Math.floor(_119.l+(p?Math.min(p.x,_119.w-bb.w):(_119.w-bb.w)/2)),t=Math.floor(_119.t+(p?Math.min(p.y,_119.h-bb.h):(_119.h-bb.h)/2));_103.set(node,{left:l+"px",top:t+"px"});}},_onKey:function(evt){if(evt.keyCode==keys.TAB){this._getFocusItems();var node=evt.target;if(this._firstFocusItem==this._lastFocusItem){evt.stopPropagation();evt.preventDefault();}else{if(node==this._firstFocusItem&&evt.shiftKey){_108.focus(this._lastFocusItem);evt.stopPropagation();evt.preventDefault();}else{if(node==this._lastFocusItem&&!evt.shiftKey){_108.focus(this._firstFocusItem);evt.stopPropagation();evt.preventDefault();}}}}else{if(this.closable&&evt.keyCode==keys.ESCAPE){this.onCancel();evt.stopPropagation();evt.preventDefault();}}},show:function(){if(this.open){return _113.promise;}if(!this._started){this.startup();}if(!this._alreadyInitialized){this._setup();this._alreadyInitialized=true;}if(this._fadeOutDeferred){this._fadeOutDeferred.cancel();_116.hide(this);}var win=_105.get(this.ownerDocument);this._modalconnects.push(on(win,"scroll",lang.hitch(this,"resize",null)));this._modalconnects.push(on(this.domNode,"keydown",lang.hitch(this,"_onKey")));_103.set(this.domNode,{opacity:0,display:""});this._set("open",true);this._onShow();this.resize();this._position();var _11a;this._fadeInDeferred=new _100(lang.hitch(this,function(){_11a.stop();delete this._fadeInDeferred;}));this._fadeInDeferred.then(undefined,nop);var _11b=this._fadeInDeferred.promise;_11a=fx.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:lang.hitch(this,function(){_116.show(this,this.underlayAttrs);}),onEnd:lang.hitch(this,function(){if(this.autofocus&&_116.isTop(this)){this._getFocusItems();_108.focus(this._firstFocusItem);}this._fadeInDeferred.resolve(true);delete this._fadeInDeferred;})}).play();return _11b;},hide:function(){if(!this._alreadyInitialized||!this.open){return _113.promise;}if(this._fadeInDeferred){this._fadeInDeferred.cancel();}var _11c;this._fadeOutDeferred=new _100(lang.hitch(this,function(){_11c.stop();delete this._fadeOutDeferred;}));this._fadeOutDeferred.then(undefined,nop);this._fadeOutDeferred.then(lang.hitch(this,"onHide"));var _11d=this._fadeOutDeferred.promise;_11c=fx.fadeOut({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,function(){this.domNode.style.display="none";_116.hide(this);this._fadeOutDeferred.resolve(true);delete this._fadeOutDeferred;})}).play();if(this._scrollConnected){this._scrollConnected=false;}var h;while(h=this._modalconnects.pop()){h.remove();}if(this._relativePosition){delete this._relativePosition;}this._set("open",false);return _11d;},resize:function(dim){if(this.domNode.style.display!="none"){this._checkIfSingleChild();if(!dim){if(this._shrunk){if(this._singleChild){if(typeof this._singleChildOriginalStyle!="undefined"){this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle;delete this._singleChildOriginalStyle;}}_fd.forEach([this.domNode,this.containerNode,this.titleBar,this.actionBarNode],function(node){if(node){_103.set(node,{position:"static",width:"auto",height:"auto"});}});this.domNode.style.position="absolute";}var _11e=_105.getBox(this.ownerDocument);_11e.w*=this.maxRatio;_11e.h*=this.maxRatio;var bb=_102.position(this.domNode);if(bb.w>=_11e.w||bb.h>=_11e.h){dim={w:Math.min(bb.w,_11e.w),h:Math.min(bb.h,_11e.h)};this._shrunk=true;}else{this._shrunk=false;}}if(dim){_102.setMarginBox(this.domNode,dim);var _11f=[];if(this.titleBar){_11f.push({domNode:this.titleBar,region:"top"});}if(this.actionBarNode){_11f.push({domNode:this.actionBarNode,region:"bottom"});}var _120={domNode:this.containerNode,region:"center"};_11f.push(_120);var _121=_111.marginBox2contentBox(this.domNode,dim);_111.layoutChildren(this.domNode,_121,_11f);if(this._singleChild){var cb=_111.marginBox2contentBox(this.containerNode,_120);this._singleChild.resize({w:cb.w,h:cb.h});}else{this.containerNode.style.overflow="auto";this._layoutChildren();}}else{this._layoutChildren();}if(!has("touch")&&!dim){this._position();}}},_layoutChildren:function(){_fd.forEach(this.getChildren(),function(_122){if(_122.resize){_122.resize();}});},destroy:function(){if(this._fadeInDeferred){this._fadeInDeferred.cancel();}if(this._fadeOutDeferred){this._fadeOutDeferred.cancel();}if(this._moveable){this._moveable.destroy();}var h;while(h=this._modalconnects.pop()){h.remove();}_116.hide(this);this.inherited(arguments);}});if(has("dojo-bidi")){_114=_ff("dijit._DialogBase",_114,{_setTitleAttr:function(_123){this._set("title",_123);this.titleNode.innerHTML=_123;this.applyTextDir(this.titleNode);},_setTextDirAttr:function(_124){if(this._created&&this.textDir!=_124){this._set("textDir",_124);this.set("title",this.title);}}});}var _125=_ff("dijit.Dialog",[_110,_114],{});_125._DialogBase=_114;var _116=_125._DialogLevelManager={_beginZIndex:950,show:function(_126,_127){ds[ds.length-1].focus=_108.curNode;var _128=ds[ds.length-1].dialog?ds[ds.length-1].zIndex+2:_125._DialogLevelManager._beginZIndex;_103.set(_126.domNode,"zIndex",_128);_10f.show(_127,_128-1);ds.push({dialog:_126,underlayAttrs:_127,zIndex:_128});},hide:function(_129){if(ds[ds.length-1].dialog==_129){ds.pop();var pd=ds[ds.length-1];if(ds.length==1){_10f.hide();}else{_10f.show(pd.underlayAttrs,pd.zIndex-1);}if(_129.refocus){var _12a=pd.focus;if(pd.dialog&&(!_12a||!dom.isDescendant(_12a,pd.dialog.domNode))){pd.dialog._getFocusItems();_12a=pd.dialog._firstFocusItem;}if(_12a){try{_12a.focus();}catch(e){}}}}else{var idx=_fd.indexOf(_fd.map(ds,function(elem){return elem.dialog;}),_129);if(idx!=-1){ds.splice(idx,1);}}},isTop:function(_12b){return ds[ds.length-1].dialog==_12b;}};var ds=_125._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];_108.watch("curNode",function(attr,_12c,node){var _12d=ds[ds.length-1].dialog;if(node&&_12d&&!_12d._fadeOutDeferred&&node.ownerDocument==_12d.ownerDocument){do{if(node==_12d.domNode||_101.contains(node,"dijitPopup")){return;}}while(node=node.parentNode);_12d.focus();}});if(has("dijit-legacy-requires")){_104(0,function(){var _12e=["dijit/TooltipDialog"];_fc(_12e);});}return _125;});},"research/outlets/OutletEdit":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../outlets/templates/OutletEdit.html","dijit/layout/BorderContainer","ttl/grid/Grid","ttl/store/JsonRest","dojo/store/Observable","dojo/request","ttl/utilities2","dojo/json","dojo/data/ItemFileReadStore","dojo/_base/lang","dojo/topic","dojo/dom-attr","dojo/dom-class","dijit/layout/TabContainer","research/outlets/OutletEditMainDetails","dijit/layout/BorderContainer","dijit/layout/ContentPane","dijit/layout/StackContainer","research/employees/EmployeeEdit","research/outlets/Profile","research/outlets/Coding","research/audit/AuditViewer","research/ResearchDetails","research/outlets/AdvanceView","dijit/Dialog","research/employees/EmployeeDelete","research/outlets/OutletSetPrimary","research/employees/EmployeeEdit","research/employees/EmployeeDelete","research/outlets/OutletDesks","research/outlets/OutletMoveContact","research/outlets/OutletCopyContact","research/employees/EmployeeMerge","research/employees/ContactMerge",],function(_12f,_130,_131,_132,Grid,_133,_134,_135,_136,json,_137,lang,_138,_139,_13a){return _12f("research.outlets.OutletEdit",[_130,_132],{templateString:_131,gutters:false,prefix:"edit",constructor:function(){this.private_menu=null;this.std_menu=null;this.private_menu_limited=null;this.deleted_menu=null;this._outletdesks=0;this.outlet_contact_model=new _134(new _133({target:"/research/admin/employees/contactlist_rest",idProperty:"employeeid"}));_138.subscribe(PRCOMMON.Events.Employee_Deleted,lang.hitch(this,this._employee_deleted_event));_138.subscribe(PRCOMMON.Events.Employee_Add,lang.hitch(this,this._employee_add_event));_138.subscribe(PRCOMMON.Events.Employee_Updated,lang.hitch(this,this._employee_update_event));_138.subscribe("/emp/set_primary",lang.hitch(this,this._employee_set_primary_event));_138.subscribe("/coding/update",lang.hitch(this,this._outlet_update_event));_138.subscribe("/employee/delete_request",lang.hitch(this,this._employee_deleted_request_event));this._load_call_back=lang.hitch(this,this._load_call);},postCreate:function(){var _13b=[{label:" ",className:"grid-field-icon-view",field:"prn_primary",formatter:this._row_button_small},{label:"Contact",className:"dgrid-column-contact",field:"contactname"},{label:"Job Title",className:"dgrid-column-contact",field:"job_title"},{label:"Desk Name",className:"dgrid-column-status",field:"deskname"},{label:"Source",className:"dgrid-column-status-small",field:"sourcename"},{label:"Status",className:"dgrid-column-status-small",field:"prmaxstatusid",formatter:_136.format_deleted_ctrl}];var _13c=[{label:" ",className:"grid-field-icon-view",field:"prn_primary",formatter:this._row_button_small,editable:false},{label:"Contact",className:"dgrid-column-contact",field:"contactname",editable:false},{label:"Job Title",className:"dgrid-column-contact",field:"job_title",editable:false},{label:"Desk Name",className:"dgrid-column-status",field:"deskname",editable:false},{label:"Source",className:"dgrid-column-status-small",field:"sourcename",editable:false},{label:"Status",className:"dgrid-column-status-small",field:"prmaxstatusid",formatter:_136.format_deleted_ctrl,editable:false}];this.outlet_contact_grid=new Grid({columns:_13b,selectionMode:"single",store:this.outlet_contact_model});this.outlet_contact_no_edit_grid=new Grid({columns:_13c,selectionMode:"single",store:this.outlet_contact_model,editable:false});this.outlet_contact_grid_view.set("content",this.outlet_contact_grid);this.outlet_contact_no_edit_view.set("content",this.outlet_contact_no_edit_grid);this.outlet_contact_grid.on(" .dgrid-cell:click",lang.hitch(this,this._on_cell_call));this.outlet_contact_grid.on(".dgrid-row:contextmenu",lang.hitch(this,this.on_row_context_menu));this.employee_delete_ctrl.set("dialog",this.employee_delete_dlg);this.employee_change_ctrl.set("dialog",this.employee_change_dlg);this.employee_set_primary_ctrl.set("dialog",this.employee_set_primary_dlg);this.inherited(arguments);},_row_button_small:function(_13d){if(_13d==null){return "...";}if(_13d){return "<p style=\"background-color:red;padding:0x;margin:0px\">&nbsp; </p>";}return "<img height=\"10px\" width=\"10px\" style=\"padding:0x;margin:0px\" src=\"/prcommon/images/rowctrl.gif\"></img>";},on_row_context_menu:function(e){this._menu(e);e.preventDefault();},_menu:function(e){this._row=this.outlet_contact_grid.row(e).data;if(this.std_menu===null){this.std_menu=new dijit.Menu();this.std_menu.addChild(new dijit.MenuItem({label:"Add Contact",onClick:lang.hitch(this,this._add_employee),iconClass:"dijitPrmaxIcon dijitPrmaxEmployee"}));this.std_menu.startup();}if(this.deleted_menu===null){this.deleted_menu=new dijit.Menu();this.deleted_menu.addChild(new dijit.MenuItem({label:"Add Contact",onClick:lang.hitch(this,this._add_employee),iconClass:"dijitPrmaxIcon dijitPrmaxEmployee"}));this.deleted_menu.addChild(new dijit.MenuItem({label:"Delete Contact",onClick:lang.hitch(this,this._delete_employee),iconClass:"dijitPrmaxIcon dijitPrmaxEmployee"}));this.deleted_menu.startup();}if(this.private_menu===null){this.private_menu=new dijit.Menu();this.private_menu.addChild(new dijit.MenuItem({label:"Delete Contact",onClick:lang.hitch(this,this._delete_employee),iconClass:"dijitPrmaxIcon dijitPrmaxEmployee"}));this.private_menu.addChild(new dijit.MenuItem({label:"Add Contact",onClick:lang.hitch(this,this._add_employee),iconClass:"dijitPrmaxIcon dijitPrmaxEmployee"}));this.private_menu.addChild(new dijit.MenuItem({label:"Set Primary Contact",onClick:lang.hitch(this,this._primary_contact),iconClass:"dijitPrmaxIcon dijitPrmaxEmployee"}));this.private_menu.addChild(new dijit.MenuItem({label:"Move to Publication",onClick:lang.hitch(this,this._move_to_other_outlet)}));this.private_menu.addChild(new dijit.MenuItem({label:"Copy to Publication",onClick:lang.hitch(this,this._copy_to_other_outlet)}));this.private_menu.addChild(new dijit.MenuItem({label:"Merge Contact to ",onClick:lang.hitch(this,this._merge_contact)}));this.private_menu.startup();}if(this.private_menu_limited===null){this.private_menu_limited=new dijit.Menu();this.private_menu_limited.addChild(new dijit.MenuItem({label:"Add Contact",onClick:lang.hitch(this,this._add_employee),iconClass:"dijitPrmaxIcon dijitPrmaxEmployee"}));this.private_menu_limited.addChild(new dijit.MenuItem({label:"Copy to Publication",onClick:lang.hitch(this,this._copy_to_other_outlet)}));this.private_menu_limited.startup();}if(this._row.prmaxstatusid==2){this.deleted_menu._openMyself(e);}else{if(this._row.prn_primary){this.private_menu_limited._openMyself(e);}else{this.private_menu._openMyself(e);}}},_merge_contact:function(){this.employee_merge_ctrl.load(this._row.employeeid,this._outletid,this._row.job_title,this._row.contactname,this.employee_merge_dlg);},_on_cell_call:function(e){var cell=this.outlet_contact_grid.cell(e);if(cell!=null){this._row=cell.row.data;if(cell.column.field=="prn_primary"){this._menu(e);}else{this.contact_edit.load(this._row.employeeid,this._row.outletid,this.id,this._outletdesks);this.contact_edit_container.selectChild(this.contact_edit);}}},_move_to_other_outlet:function(){this.employee_move_ctrl.load(this._row.employeeid,this._row.job_title+":"+this._row.contactname,this.employee_move_dlg,this._outletid);this.employee_move_dlg.show();},_copy_to_other_outlet:function(){this.employee_copy_ctrl.load(this._row.employeeid,this._row.job_title+":"+this._row.contactname,this.employee_copy_dlg,this._outletid);this.employee_copy_dlg.show();},_primary_contact:function(){this.employee_set_primary_ctrl.load(this._row.employeeid,this._row.contactname,this._row.job_title,this.employee_set_primary_dlg);this.employee_set_primary_dlg.show();},_delete_employee:function(){this.employee_delete_ctrl.load(this._row.employeeid,this._row.job_title,this._row.contactname,this.employee_delete_dlg);this.employee_delete_dlg.show();},_add_employee:function(){this.employee_change_ctrl.load(-1,this._outletid,"",this._outletdesks);this.employee_change_dlg.show();},_load_call:function(_13e){if(_13e.success=="OK"){this._outletdesks=_13e.outlet.outletdesks;if(_13e.outlet.profile.profile!=null&&_13e.outlet.profile.profile.seriesparentid&&_13e.outlet.researchdetails.no_sync==false){this.contact_grid.selectChild(this.outlet_contact_no_edit_view);this.outlet_contact_no_edit_grid.set("query",{outletid:this._outletid});this.outlet_main.address1.set("disabled",true);this.outlet_main.address2.set("disabled",true);this.outlet_main.postcode.set("disabled",true);this.outlet_main.townname.set("disabled",true);this.outlet_main.county.set("disabled",true);this.outlet_main.tel.set("disabled",true);this.outlet_main.fax.set("disabled",true);}else{this.contact_grid.selectChild(this.outlet_contact_view);this.outlet_contact_grid.set("query",{outletid:this._outletid,extended:1});this.outlet_main.address1.set("disabled",false);this.outlet_main.address2.set("disabled",false);this.outlet_main.postcode.set("disabled",false);this.outlet_main.townname.set("disabled",false);this.outlet_main.county.set("disabled",false);this.outlet_main.tel.set("disabled",false);this.outlet_main.fax.set("disabled",false);}this.outlet_main.load(this._outletid,_13e.outlet,_13e.outlet.profile);if(_13e.outlet.serieschildren.length>0){_13a.remove(this.outlet_main.synchrbtn.domNode,"prmaxhidden");}else{_13a.add(this.outlet_main.synchrbtn.domNode,"prmaxhidden");}this.outlet_profile_ctrl.load(this._outletid,_13e.outlet,_13e.outlet.profile);this.outlet_coding_ctrl.load(this._outletid,_13e.outlet,_13e.outlet.profile,this.prefix);this.outlet_research_ctrl.load(this._outletid,_13e.outlet.outlet.outlettypeid);this.outlet_desk_ctrl.load(this._outletid,_13e.outlet.outlet.outlettypeid);this.outlet_advance_ctrl.load(this._outletid);this.contact_edit_container.selectChild(this.blank_cont_view);this.contact_edit.clear();var tmp=_13e.outlet.outlet.outletid+" - "+_13e.outlet.outlet.outletname;_139.set(this.outlet_details_view,"innerHTML",tmp);}},load:function(_13f,_140){this._outletid=_13f;if(_140!=""&&_140!=undefined){this.prefix=_140;}this.outlet_audit_ctrl.load(this._outletid);if(this._outletid==-1){this.clear();}else{_135.post("/research/admin/outlets/research_outlet_edit_get",_136.make_params({data:{outletid:_13f}})).then(this._load_call_back);}},clear:function(){this.outlet_main.clear();this.outlet_contact_grid.set("query","");this.outlet_profile_ctrl.clear();_139.set(this.outlet_details_view,"innerHTML","");},_employee_deleted_event:function(_141){if(_141.has_deleted){this.outlet_contact_model.remove(_141.employeeid);}else{this.outlet_contact_grid.set("query",{outletid:this._outletid,extended:1});}this.contact_edit_container.selectChild(this.blank_cont_view);},_employee_update_event:function(_142){if(_142==null){this.outlet_contact_grid.set("query",{outletid:this._outletid,extended:1});}else{this.outlet_contact_model.put(_142);}},_employee_add_event:function(_143){_143.sourcename="PRmax";this.outlet_contact_model.add(_143);},_outlet_deleted_event:function(_144){this.clear();},_employee_deleted_request_event:function(_145,_146){if(this.id==_146){this._delete_employee();}},_outlet_update_event:function(_147){if(_147.outlet.profile.profile!=null&&_147.outlet.profile.profile.seriesparentid&&_147.outlet.researchdetails.no_sync==false){this.contact_grid.selectChild(this.outlet_contact_no_edit_view);this.outlet_contact_no_edit_grid.set("query",{outletid:this._outletid});this.outlet_main.address1.set("disabled",true);this.outlet_main.address2.set("disabled",true);this.outlet_main.postcode.set("disabled",true);this.outlet_main.townname.set("disabled",true);this.outlet_main.county.set("disabled",true);this.outlet_main.tel.set("disabled",true);this.outlet_main.fax.set("disabled",true);}else{this.contact_grid.selectChild(this.outlet_contact_view);this.outlet_contact_grid.set("query",{outletid:this._outletid,extended:1});this.outlet_main.address1.set("disabled",false);this.outlet_main.address2.set("disabled",false);this.outlet_main.postcode.set("disabled",false);this.outlet_main.townname.set("disabled",false);this.outlet_main.county.set("disabled",false);this.outlet_main.tel.set("disabled",false);this.outlet_main.fax.set("disabled",false);}if(_147.outlet.serieschildren.length>0){_13a.remove(this.outlet_main.synchrbtn.domNode,"prmaxhidden");}else{_13a.add(this.outlet_main.synchrbtn.domNode,"prmaxhidden");}},_employee_set_primary_event:function(){this.outlet_contact_no_edit_grid.set("query",{outletid:this._outletid});this.outlet_contact_grid.set("query",{outletid:this._outletid,extended:1});}});});},"research/lookups/WebDates":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../lookups/templates/WebDates.html","dijit/layout/BorderContainer","ttl/grid/Grid","ttl/store/JsonRest","dojo/store/Observable","dojo/request","ttl/utilities2","dojo/json","dojo/topic","dojo/_base/lang","dijit/layout/ContentPane","dijit/Toolbar","dijit/form/DropDownButton","dijit/TooltipDialog","dijit/form/TextBox","dijit/form/Button","dijit/form/ValidationTextBox","dijit/form/Form","prcommon2/web/WebDatesAdd","dijit/Dialog"],function(_148,_149,_14a,_14b,Grid,_14c,_14d,_14e,_14f,json,_150,lang){return _148("research.lookups.WebDates",[_149,_14b],{templateString:_14a,gutters:true,constructor:function(){this._store=new _14d(new _14c({target:"/research/admin/webdates/list",idProperty:"webauditdateid"}));_150.subscribe(PRCOMMON.Events.Web_Dates_Update,lang.hitch(this,this._update_event));_150.subscribe(PRCOMMON.Events.Web_Dates_Added,lang.hitch(this,this._add_event));_150.subscribe(PRCOMMON.Events.Web_Dates_Deleted,lang.hitch(this,this._delete_event));},postCreate:function(){var _151=[{label:" ",field:"webauditdateid",sortable:false,formatter:_14f.generic_view,className:"grid-field-image-view"},{label:"Web Dates ",className:"standard",field:"webauditdatedescription"}];this.grid=new Grid({columns:_151,selectionMode:"single",store:this._store,query:{}});this.grid.on("dgrid-select",dojo.hitch(this,this._on_cell_call));this.webdates_add_ctrl.set("dialog",this.webdates_add_dlg);this.webdates_update_ctrl.set("dialog",this.webdates_update_dlg);this.inherited(arguments);},startup:function(){this.inherited(arguments);this.grid_view.set("content",this.grid);},_on_cell_call:function(e){this.webdates_update_ctrl.load(e.rows[0].data.webauditdateid);},_execute:function(){var _152={};if(arguments[0].filter){_152["webauditdatedescription"]=arguments[0].filter;}this.grid.set("query",_152);},_new_web_dates:function(){this.webdates_add_ctrl.clear();this.webdates_add_dlg.show();},_clear_filter:function(){this.filter.set("value","");},_update_event:function(_153){this._store.put(_153);},_add_event:function(_154){this._store.add(_154);},_delete_event:function(_155){this._store.remove(_155);}});});},"research/lookups/Interests":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../lookups/templates/Interests.html","dijit/layout/BorderContainer","ttl/grid/Grid","ttl/store/JsonRest","dojo/store/Observable","dojo/store/Memory","dojo/request","ttl/utilities2","dojo/json","dojo/topic","dojo/_base/lang","dojo/dom-attr","dojo/dom-class","dojo/on","dijit/layout/ContentPane","dijit/Toolbar","dijit/form/DropDownButton","dijit/TooltipDialog","dijit/form/TextBox","dijit/form/CheckBox","dijit/form/Button","dijit/form/ValidationTextBox","dijit/form/Form","prcommon2/interests/Interests"],function(_156,_157,_158,_159,Grid,_15a,_15b,_15c,_15d,_15e,json,_15f,lang,_160,_161,on){return _156("research.lookup.Interests",[_157,_159],{templateString:_158,gutters:true,constructor:function(){this._store=new _15b(new _15a({target:"/research/admin/interests/list",idProperty:"interestid"}));this.interest_outlet_used=new _15b(new _15a({target:"/research/admin/interests/research_where_used_outlet",idProperty:"outletid"}));this.interest_employee_used=new _15b(new _15a({target:"/research/admin/interests/research_where_used_employee",idProperty:"employeeid"}));this._add_interest_call_back=lang.hitch(this,this._add_interest_call);this._rename_interest_call_back=lang.hitch(this,this._rename_interest_call);this._delete_interest_call_back=lang.hitch(this,this._delete_interest_call);this._delete_outlet_call_back=lang.hitch(this,this._delete_outlet_call);this._delete_employee_call_back=lang.hitch(this,this._delete_employee_call);this._transfer_selection_call_back=lang.hitch(this,this._transfer_selection_call);this._transfer_call_back=lang.hitch(this,this._transfer_call);},postCreate:function(){var _162=[{label:"Id",className:"dgrid-column-nbr-right",field:"interestid"},{label:"Keywords",className:"standard",field:"interestname"},{label:"Parent",className:"standard",field:"parentname"},{label:"is_section",className:"dgrid-column-type-small",field:"is_section"}];this.interest_grid=new Grid({columns:_162,selectionMode:"single",store:this._store,sort:[{attribute:"interestname",descending:false}]});this.interest_grid_view.set("content",this.interest_grid);this.interest_grid.on("dgrid-select",lang.hitch(this,this._on_cell_call));this.interest_grid.set("query",{});var _162=[{label:"Outlet Name",className:"standard",field:"outletname"},{label:" ",className:"grid-field-image-view",formatter:_15e.delete_icon}];this.interest_outlet_used_grid=new Grid({columns:_162,selectionMode:"single",store:this.interest_outlet_used});this.interest_outlet_used_grid_view.set("content",this.interest_outlet_used_grid);this.interest_outlet_used_grid.on("dgrid-select",lang.hitch(this,this._outlet_where_used));var _162=[{label:"Outlet Name",className:"standard",field:"outletname"},{label:"Contact",className:"standard",field:"contactname"},{label:"Job Title",className:"standard",field:"job_title"},{label:" ",className:"grid-field-image-view",formatter:_15e.delete_icon}];this.interest_employee_used_grid=new Grid({columns:_162,selectionMode:"single",store:this.interest_employee_used,query:{}});this.interest_employee_used_grid.on("dgrid-select",lang.hitch(this,this._contact_where_used));this.master_type.set("store",PRCOMMON.utils.stores.Interest_Filter());this.master_type.set("value",-1);this.master_type2.set("store",PRCOMMON.utils.stores.Interest_Filter());this.master_type2.set("value",-1);on(this.transfer_list_select.domNode,"onkeyup",lang.hitch(this,this._transfer_select));on(this.transfer_list,"onchange",lang.hitch(this,this._transfer_selection_options));_15f.subscribe(PRCOMMON.Events.Interest_Delete,lang.hitch(this,this._interest_delete_event));_15f.subscribe(PRCOMMON.Events.Interest_Update,lang.hitch(this,this._interest_update_event));_15f.subscribe(PRCOMMON.Events.Interest_Add,lang.hitch(this,this._interest_add_event));this.inherited(arguments);},startup:function(){this.inherited(arguments);this.interest_employee_used_grid_view.set("content",this.interest_employee_used_grid);},_delete_outlet_call:function(_163){if(_163.success=="OK"){this.interest_outlet_used.remove(this._outlet_row.outletid);this._outlet_row=null;}},_outlet_where_used:function(e){if(confirm("Delete Coverage")){this._outlet_row=e.rows[0].data;_15d.post("/research/admin/interests/research_delete_from_outlet",_15e.make_params({data:{outletid:this._outlet_row.outletid,interestid:this._interestid}})).then(this._delete_outlet_call_back);}},_delete_employee_call:function(_164){if(_164.success=="OK"){this.interest_employee_used.remove(this._employee_row.employeeid);this._employee_row=null;}},_contact_where_used:function(e){if(confirm("Delete Employee")){this._employee_row=e.rows[0].data;_15d.post("/research/admin/interests/research_delete_from_employee",_15e.make_params({data:{employeeid:this._employee_row.employeeid,interestid:this._interestid}})).then(this._delete_employee_call_back);}},_execute:function(){var _165={filter:arguments[0].filter};this.interest_grid.set("query",_165);this._clear();},_add_interest_call:function(_166){if(_166.success=="OK"){_15f.publish(PRCOMMON.Events.Interest_Add,_166.data);alert("Keyword Added");this._clear_add();}else{if(_166.success=="DU"){alert("Keywords all ready exists");}else{alert("Problem adding Keyword");}}},_execute_add:function(){if(this.interestname.isValid()==false){alert("No Keywords Specified");}else{var _167={interestname:arguments[0].interestname,parentinterestid:arguments[0].interestparentid};if(arguments[0].is_new_section[0]=="on"){_167["is_section"]=1;}_15d.post("/research/admin/interests/research_add",_15e.make_params({data:_167})).then(this._add_interest_call_back);}return false;},_clear_filter:function(){this.filter.set("value","");},_clear_add:function(){this.interestname.set("value","");this.master_type.set("value",-1);},_clear:function(){this.interest_view.selectChild(this.blank);this._interestid=null;this._row=null;this.interest_outlet_used_grid.set("query",{});this.interest_employee_used_grid.set("query",{});},_on_cell_call:function(e){var row=e.rows[0].data;this.interest_view.selectChild(this.details_view);this.interest_outlet_used_grid.set("query",{interestid:row.interestid});this.interest_employee_used_grid.set("query",{interestid:row.interestid});this._interestid=row.interestid;_160.set(this.interest_name,"innerHTML",row.interestname);this.is_section.set("value",row.is_section);this.interestname2.set("value",row.interestname);if(row.parentinterestid==null||row.parentinterestid==""){this.master_type2.set("value",-1);}else{this.master_type2.set("value",row.parentinterestid);}this._row=row;},_delete_interest_call:function(_168){if(_168.success=="OK"){_15f.publish(PRCOMMON.Events.Interest_Delete,_168.data.interest.interestid);alert("Keywords Delete");}else{alert("Problem Deleting Keywords may still be in use ");}},_delete_interest:function(){if(confirm("Delete Keywords")){_15d.post("/research/admin/interests/research_delete",_15e.make_params({data:{interestid:this._interestid}})).then(this._delete_interest_call_back);}return false;},_rename_interest_call:function(_169){if(_169.success=="OK"){_15f.publish(PRCOMMON.Events.Interest_Update,_169.data);_160.set(this.interest_name,"innerHTML",_169.data.interest.interestname);alert("Keywords Renamed");}else{if(_169.success=="DU"){alert("Already Exists");}else{alert("Problem Renaming Keyword");}}},_rename_interest:function(){if(this.interestname2.isValid()==false){alert("No Keyword Specified");return false;}if(confirm("Update Keyword")){var _16a={interestname:this.interestname2.get("value"),parentinterestid:this.master_type2.get("value"),interestid:this._interestid};if(this.is_section.get("checked")){_16a["is_section"]=1;}_15d.post("/research/admin/interests/research_rename",_15e.make_params({data:_16a})).then(this._rename_interest_call_back);}return false;},_interest_delete_event:function(_16b){this._store.remove(_16b);this._clear();},_interest_update_event:function(data){this._store.put(data);},_interest_add_event:function(data){this._store.add(data);},_transfere:function(){_161.toggle(this.show_transfer,"prmaxhidden");},_transfer_call:function(_16c){if(_16c.success=="OK"){this.interest_outlet_used_grid.set("query",{interestid:this._interestid});this.interest_employee_used_grid.set("query",{interestid:this._interestid});this._clear_transfer_selection_box();this._transfere();alert("Keywords Moved");}else{alert("Problem Moving Keywords");}},_transfere_do:function(){if(parseInt(this.transfer_list.options[this.transfer_list.selectedIndex].value)==this._interestid){alert("Cannot Move too it's self");return;}if(confirm("Move Keyword to "+this.transfer_list.options[this.transfer_list.selectedIndex].text+"?")){_15d.post("/research/admin/interests/research_move_interest",_15e.make_params({data:{frominterestid:this._interestid,tointerestid:this.transfer_list.options[this.transfer_list.selectedIndex].value}})).then(this._transfer_call_back);}},_transfer_selection_call:function(_16d){if(this._transactionid==_16d.transactionid){this._clear_transfer_selection_box();for(var i=0;i<_16d.data.length;++i){var _16e=_16d.data[i];this.transfer_list.options[this.transfer_list.options.length]=new Option(_16e[0]+"("+_16e[1]+")",_16e[1]);}this._transfer_selection_options();}},_transfer_select:function(){var data=this.transfer_list_select.get("value");if(data.length>0){this._transactionid=PRCOMMON.utils.uuid.createUUID();_15d.post("/interests/listuserselection",_15e.make_params({data:{word:data,filter:-1,interesttypeid:1,transactionid:this._transactionid,restrict:0}})).then(this._transfer_selection_call_back);}else{this._clear_transfer_selection_box();this._transfer_selection_options();}},_transfer_selection_options:function(){},_clear_transfer_selection_box:function(){this.transfer_list.options.length=0;},_transfer_selection_options:function(){this.transfer_do.set("disabled",this.transfer_list.selectedIndex!=-1?false:true);}});});},"prcommon2/outlet/OutletSelectPanel":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../outlet/templates/OutletSelectPanel.html","dijit/layout/BorderContainer","dojo/json","dojo/request","ttl/utilities2","ttl/store/JsonRest","dojo/store/Observable","dojo/_base/lang","dojo/topic","ttl/grid/Grid","dojo/dom-attr","dojo/dom-class","dijit/form/TextBox","dijit/form/Button","dijit/Dialog","dijit/layout/ContentPane"],function(_16f,_170,_171,_172,json,_173,_174,_175,_176,lang,_177,Grid,_178,_179){return _16f("prcommon2.outlet.OutletSelectPanel",[_170,_172],{templateString:_171,gutters:false,searchtypeid:6,constructor:function(){this._outletid=null;this._dialog=null;this._callback=null;this.model=new _176(new _175({target:"/search/list_outlet_rest",idProperty:"outletid"}));},postCreate:function(){var _17a=[{label:"Name",className:"standard",field:"outletname"}];this.searchgrid=new Grid({columns:[{label:"Name",className:"standard",field:"outletname"}],selectionMode:"single",store:this.model,query:{}});this.select_search_view.set("content",this.searchgrid);this.searchgrid.on("dgrid-select",dojo.hitch(this,this._on_cell_call));this.inherited(arguments);},_search:function(){this.searchgrid.set("query",{extended_search:1,outletname:this.outletname.get("value")});},_clear_search:function(){this.searchgrid.set("value","");},_on_cell_call:function(e){this._callback(e.rows[0].data);if(this._dialog){this._dialog.hide();}},_setDialogAttr:function(_17b){this._dialog=_17b;},_setCallbackAttr:function(_17c){this._callback=_17c;},_close:function(){if(this._dialog){this._dialog.hide();}}});});},"research/usersettings":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../research/templates/usersettings.html","dojo/request","ttl/utilities2","dojo/_base/lang","dijit/form/TextBox","dijit/form/Button","dijit/form/ValidationTextBox","dijit/form/Form","dojox/validate","dojox/form/BusyButton"],function(_17d,_17e,_17f,_180,_181,lang){return _17d("research.usersettings",[_17e],{templateString:_17f,constructor:function(){this._load_call_back=lang.hitch(this,this._load_call);this._update_call_back=lang.hitch(this,this._update_call);},postCreate:function(){this.inherited(arguments);_180.post("/research/admin/user/research_get_settings",_181.make_params({})).then(this._load_call_back);},_load_call:function(_182){if(_182.success=="OK"){this.display_name.set("value",_182.user.display_name);this.job_title.set("value",_182.user.job_title);this.email_address.set("value",_182.user.email_address);this.tel.set("value",_182.user.tel);this.savenode.set("disabled",false);}else{alert("problem loading settings");}},_update_call:function(_183){if(_183.success=="OK"){alert("Settings Updated");}else{if(_183.success=="DU"){alert("Email Address Already Exists");}else{alert("Problem Saving settings");}}this.savenode.cancel();},_update:function(){if(_181.form_validator(this.form)==false){alert("Not all required field filled in");throw "N";}if(confirm("Update Settings?")){_180.post("/research/admin/user/research_update_settings",_181.make_params({data:this.form.get("value")})).then(this._update_call_back);}}});});},"research/translations/translationcirculationsource":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../translations/templates/translationcirculationsource.html","dojo/request","ttl/utilities2","dojo/_base/lang","dojo/data/ItemFileReadStore","dijit/form/ValidationTextBox"],function(_184,_185,_186,_187,_188,lang,_189){return _184("research.translations.translationcirculationsource",[_185],{templateString:_186,gutters:false,constructor:function(){this._load_details_call_back=lang.hitch(this,this._load_details_call);this._update_translation_call_back=lang.hitch(this,this._update_translation_call);this._languages=new _189({url:"/common/lookups?searchtype=circulationsource&nofilter=1"});},postCreate:function(){this.languageid.set("store",this._languages);this.inherited(arguments);},load:function(_18a,_18b){this._show_func=_18b;this.datasourcetranslationid.set("value",_18a);_187.post("/research/international/translation/get_record",_188.make_params({data:{datasourcetranslationid:_18a}})).then(this._load_details_call_back);},_load_details_call:function(_18c){if(_18c.success=="OK"){this.languageid.set("value",_18c.data.translation);this._show_func("circulation-source");}},_update_translation:function(){if(_188.form_validator(this.form)==false){alert("Not all required fields filled in");throw "N";}_187.post("/research/international/translation/update",_188.make_params({data:this.form.get("value")})).then(this._update_translation_call_back);},_update_translation_call:function(_18d){if(_18d.success=="OK"){this._show_func("circulation-source",_18d.data);}}});});},"prcommon2/search/SearchRoles":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../search/templates/SearchRoles.html","prcommon2/search/std_search","dojo/_base/lang","dojo/dom-attr","dojo/dom-class","dojo/dom-style","prcommon2/roles/Roles","prcommon2/search/SearchCount"],function(_18e,_18f,_190,_191,lang,_192,_193,_194){return _18e("prcommon2.search.SearchRoles",[_18f,_191],{templateString:_190,name:"",value:"",showdefaultoption:true,constructor:function(){this.disabled=false;this._extended=false;this._load_selection_call=lang.hitch(this,this._load_selection);},postCreate:function(){this.roles_search.set("keytypeid",this.keytypeid);this.roles_search.countnode=this.countnode;if(this.showdefaultoption==true){_193.remove(this.roles_search.show_search_integration,"prmaxhidden");}else{_194.set(this.selectarea,"display","none");}this.inherited(arguments);},clear:function(){this.roles_search.clear();this.inherited(arguments);},_setValueAttr:function(_195){this.roles_search.set("value",_195);if(this.roles_search.get("count")>0){this.make_open();}},_getValueAttr:function(){return this.roles_search.get("value");},_getIsDefaultAttr:function(){return this.roles_search.search_only.get("checked");},_setExtendedAttr:function(_196){this._extended=_196;this.roles_search.set("extended",_196);},_capture_extended_content:function(data){return data;},_setDisabledAttr:function(_197){this.disabled=_197;},_getDisabledAttr:function(){return this.disabled;},_focus:function(){this.roles_search.master_type_text.focus();}});});},"dijit/form/RadioButton":function(){define(["dojo/_base/declare","./CheckBox","./_RadioButtonMixin"],function(_198,_199,_19a){return _198("dijit.form.RadioButton",[_199,_19a],{baseClass:"dijitRadio"});});},"dijit/MenuSeparator":function(){define(["dojo/_base/declare","dojo/dom","./_WidgetBase","./_TemplatedMixin","./_Contained","dojo/text!./templates/MenuSeparator.html"],function(_19b,dom,_19c,_19d,_19e,_19f){return _19b("dijit.MenuSeparator",[_19c,_19d,_19e],{templateString:_19f,buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.domNode,false);},isFocusable:function(){return false;}});});},"dijit/form/ToggleButton":function(){define(["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(_1a0,_1a1,_1a2,_1a3){return _1a0("dijit.form.ToggleButton",[_1a2,_1a3],{baseClass:"dijitToggleButton",setChecked:function(_1a4){_1a1.deprecated("setChecked("+_1a4+") is deprecated. Use set('checked',"+_1a4+") instead.","","2.0");this.set("checked",_1a4);}});});},"research/questionnaires/Research":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../questionnaires/templates/Research.html","dijit/layout/BorderContainer","dijit/layout/ContentPane","dojo/topic","dojo/_base/lang","ttl/utilities2","dojo/request","dojox/data/JsonRestStore","dojo/data/ItemFileReadStore","dijit/layout/ContentPane","dijit/form/Form","dijit/form/TextBox","dijit/form/FilteringSelect","dijit/form/Button","dojox/form/BusyButton"],function(_1a5,_1a6,_1a7,_1a8,_1a9,_1aa,lang,_1ab,_1ac,_1ad,_1ae){return _1a5("research.questionnaires.Research",[_1a6,_1a8],{templateString:_1a7,constructor:function(){this._update_call_back=lang.hitch(this,this._update_call);this._error_call_back=lang.hitch(this,this._error_call);},postCreate:function(){this.reasoncodeid.set("store",PRCOMMON.utils.stores.Research_Reason_Add_Codes());this.reasoncodeid.set("value",PRCOMMON.utils.stores.Reason_Add_Default);this.inherited(arguments);},_reset_fields:function(){this.surname_modified.clear();this.firstname_modified.clear();this.prefix_modified.clear();this.email_modified.clear();this.job_title_modified.clear();},load:function(_1af,_1b0,_1b1){this._reset_fields();this.surname.set("value",_1b0.surname);this.firstname.set("value",_1b0.firstname);this.prefix.set("value",_1b0.prefix);this.email.set("value",_1b0.email);this.job_title.set("value",_1b0.job_title);for(var key in _1b1){var _1b2=_1b1[key];switch(_1b2.fieldid){case 55:this.surname_modified.load(_1b2.value,_1b0.surname,this.surname);break;case 56:this.firstname_modified.load(_1b2.value,_1b0.firstname,this.firstname);break;case 57:this.prefix_modified.load(_1b2.value,_1b0.prefix,this.prefix);break;case 58:this.email_modified.load(_1b2.value,_1b0.email,this.email);break;case 60:this.job_title_modified.load(_1b2.value,_1b0.job_title,this.job_title);break;}}this.researchprojectitemid.set("value",_1af.researchprojectitemid);this.savenode.cancel();},clear:function(){this.outletid.set("value",-1);this.savenode.cancel();},_update_coding:function(){if(_1ab.form_validator(this.form)==false){alert("Not all required field filled in");this.savenode.cancel();throw "N";}var _1b3=this.form.get("value");_1b3["reasoncodeid"]=this.reasoncodeid.get("value");_1ac.post("/research/admin/projects/user_feed_research",_1ab.make_params({data:_1b3})).then(this._update_call_back,this._error_call_back);},_update_call:function(_1b4){if(_1b4.success=="OK"){alert("Research Details Updated");}else{alert("Problem");}this.savenode.cancel();},_error_call:function(){this.savenode.cancel();}});});},"dgrid/_StoreMixin":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred","dojo/on","dojo/aspect","put-selector/put"],function(_1b5,_1b6,lang,_1b7,_1b8,_1b9,put){function noop(_1ba){return _1ba;};function _1bb(err){if(typeof err!=="object"){err=new Error(err);}else{if(err.dojoType==="cancel"){return;}}err.grid=this;if(_1b8.emit(this.domNode,"dgrid-error",{grid:this,error:err,cancelable:true,bubbles:true})){}};return _1b6(null,{store:null,query:null,queryOptions:null,getBeforePut:true,noDataMessage:"",loadingMessage:"",constructor:function(){this.query={};this.queryOptions={};this.dirty={};this._updating={};this._columnsWithSet={};_1b9.before(this,"configStructure",lang.hitch(this,function(){this._columnsWithSet={};}));},postCreate:function(){this.inherited(arguments);if(this.store){this._updateNotifyHandle(this.store);}},destroy:function(){this.inherited(arguments);if(this._notifyHandle){this._notifyHandle.remove();}},_configColumn:function(_1bc){if(_1bc.set){this._columnsWithSet[_1bc.field]=_1bc;}this.inherited(arguments);},_updateNotifyHandle:function(_1bd){if(this._notifyHandle){this._notifyHandle.remove();delete this._notifyHandle;}if(_1bd&&typeof _1bd.notify==="function"){this._notifyHandle=_1b9.after(_1bd,"notify",lang.hitch(this,"_onNotify"),true);var sort=this.get("sort");if(!sort||!sort.length){}}},_setStore:function(_1be,_1bf,_1c0){this._updateNotifyHandle(_1be);this.store=_1be;this.dirty={};this.set("query",_1bf,_1c0);},_setQuery:function(_1c1,_1c2){var sort=_1c2&&_1c2.sort;this.query=_1c1!==undefined?_1c1:this.query;this.queryOptions=_1c2||this.queryOptions;sort?this.set("sort",sort):this.refresh();},setStore:function(_1c3,_1c4,_1c5){_1b5.deprecated("setStore(...)","use set(\"store\", ...) instead","dgrid 0.4");this.set("store",_1c3,_1c4,_1c5);},setQuery:function(_1c6,_1c7){_1b5.deprecated("setQuery(...)","use set(\"query\", ...) instead","dgrid 0.4");this.set("query",_1c6,_1c7);},_getQueryOptions:function(){var _1c8=lang.delegate(this.queryOptions,{});if(typeof (this._sort)==="function"||this._sort.length){_1c8.sort=this._sort;}return _1c8;},_getQuery:function(){var q=this.query;return typeof q=="object"&&q!=null?lang.delegate(q,{}):q;},_setSort:function(_1c9,_1ca){if(this.store){this._lastCollection=null;}this.inherited(arguments);},_onNotify:function(_1cb,_1cc){this.inherited(arguments);if(_1cb&&this._numObservers<1){this.refresh({keepScrollPosition:true});}},refresh:function(){var _1cd=this.inherited(arguments);if(!this.store){this.noDataNode=put(this.contentNode,"div.dgrid-no-data");this.noDataNode.innerHTML=this.noDataMessage;}return _1cd;},renderArray:function(){var self=this;var rows=this.inherited(arguments);if(!this.store){_1b7.when(rows,function(_1ce){if(_1ce.length&&self.noDataNode){put(self.noDataNode,"!");}});}return rows;},insertRow:function(_1cf,_1d0,_1d1,i,_1d2){var _1d3=this.store,_1d4=this.dirty,id=_1d3&&_1d3.getIdentity(_1cf),_1d5;if(id in _1d4&&!(id in this._updating)){_1d5=_1d4[id];}if(_1d5){_1cf=lang.delegate(_1cf,_1d5);}return this.inherited(arguments);},updateDirty:function(id,_1d6,_1d7){var _1d8=this.dirty,_1d9=_1d8[id];if(!_1d9){_1d9=_1d8[id]={};}_1d9[_1d6]=_1d7;},setDirty:function(id,_1da,_1db){_1b5.deprecated("setDirty(...)","use updateDirty() instead","dgrid 0.4");this.updateDirty(id,_1da,_1db);},save:function(){var self=this,_1dc=this.store,_1dd=this.dirty,dfd=new _1b7(),_1de=dfd.promise,_1df=function(id){var data;return (self.getBeforePut||!(data=self.row(id).data))?function(){return _1dc.get(id);}:function(){return data;};};function _1e0(id,_1e1){return function(_1e2){var _1e3=self._columnsWithSet,_1e4=self._updating,key,data;if(typeof _1e2.set==="function"){_1e2.set(_1e1);}else{for(key in _1e1){_1e2[key]=_1e1[key];}}for(key in _1e3){data=_1e3[key].set(_1e2);if(data!==undefined){_1e2[key]=data;}}_1e4[id]=true;return _1b7.when(_1dc.put(_1e2),function(){delete _1dd[id];delete _1e4[id];});};};for(var id in _1dd){var put=_1e0(id,_1dd[id]);_1de=_1de.then(_1df(id)).then(put);}dfd.resolve();return _1de;},revert:function(){this.dirty={};this.refresh();},_trackError:function(func){var _1e5;if(typeof func=="string"){func=lang.hitch(this,func);}try{_1e5=func();}catch(err){_1bb.call(this,err);}return _1b7.when(_1e5,noop,lang.hitch(this,_1bb));},newRow:function(){var row=this.inherited(arguments);if(this.noDataNode){put(this.noDataNode,"!");delete this.noDataNode;}return row;},removeRow:function(_1e6,_1e7){var row={element:_1e6};if(!_1e7&&this.noDataMessage&&(this.up(row).element===_1e6)&&(this.down(row).element===_1e6)){this.noDataNode=put(this.contentNode,"div.dgrid-no-data");this.noDataNode.innerHTML=this.noDataMessage;}return this.inherited(arguments);}});});},"prcommon2/date/DateSearchExtended":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../date/templates/DateSearchExtended.html","ttl/utilities2","dojo/json","prcommon2/search/std_search","dojo/dom-attr","dojo/dom-class","dijit/form/TextBox","dijit/form/DateTextBox","dijit/form/CheckBox","prcommon2/search/SearchCount","dijit/form/ComboBox"],function(_1e8,_1e9,_1ea,_1eb,json,_1ec,_1ed,_1ee){return _1e8("prcommon2.date.DateSearchExtended",[_1e9,_1ec],{noselection:"No Selection",name:"",value:"",required:false,templateString:_1ea,postCreate:function(){this.from_date_box.set("value",new Date());this.to_date_box.set("value",new Date());this.inherited(arguments);},_get_data:function(){var _1ef=this.option.get("value");if(_1ef!=this.noselection){return json.stringify({option:_1ef,from_date:_1eb.to_json_date(this.from_date_box.get("value")),to_date:_1eb.to_json_date(this.to_date_box.get("value")),month:this.month_checkbox.get("value")});}return "";},_default_settings:function(){this.option.set("value",this.noselection);this.from_date_box.set("value",new Date());this.to_date_box.set("value",new Date());this.month_checkbox.set("checked",true);},_setValueAttr:function(_1f0){if(_1f0==null||_1f0===""){this._default_settings();}else{obj=json.parse(_1f0);try{this.option.set("value",obj.option);this.from_date_box.set("value",_1eb.from_json_date(obj.from_date));this.to_date_box.set("value",_1eb.from_json_date(obj.to_date));this.month_checkbox.set("checked",obj.month);}catch(e){this._default_settings();}}this._show_options();this._get_selector(this._get_data());},_getValueAttr:function(){return this._get_data();},_option_changed:function(){this._show_options();this._get_selector(this._get_data());},_show_options:function(){var _1f1=false;var _1f2=false;switch(this.option.get("value")){case this.noselection:break;case "After":_1f1=true;break;case "Before":_1f1=true;break;case "Between":_1f1=true;_1f2=true;break;}if(_1f1){dojo.removeClass(this.from_date_box.domNode,"prmaxhidden");}else{dojo.addClass(this.from_date_box.domNode,"prmaxhidden");}if(_1f2){_1ee.remove(this.to_date_box.domNode,"prmaxhidden");_1ee.remove(this.to_box_label,"prmaxhidden");}else{_1ee.add(this.to_date_box.domNode,"prmaxhidden");_1ee.add(this.to_box_label,"prmaxhidden");}},_date_changed:function(){this._get_selector(this._get_data());},clear:function(){this._setValueAttr(null);}});});},"research/lookups/MarketSector":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../lookups/templates/MarketSector.html","dijit/layout/BorderContainer","ttl/grid/Grid","ttl/store/JsonRest","dojo/store/Observable","dojo/request","ttl/utilities2","dojo/json","dojo/topic","dojo/_base/lang","dijit/layout/ContentPane","dijit/Toolbar","dijit/form/DropDownButton","dijit/TooltipDialog","dijit/form/TextBox","dijit/form/Button","dijit/form/ValidationTextBox","dijit/form/Form","prcommon2/marketsector/MarketSectorAdd","dijit/Dialog"],function(_1f3,_1f4,_1f5,_1f6,Grid,_1f7,_1f8,_1f9,_1fa,json,_1fb,lang){return _1f3("research.lookups.MarketSector",[_1f4,_1f6],{templateString:_1f5,gutters:true,constructor:function(){this._store=new _1f8(new _1f7({target:"/research/admin/marketsector/list",idProperty:"marketsectorid"}));_1fb.subscribe(PRCOMMON.Events.Market_Sector_Update,lang.hitch(this,this._update_event));_1fb.subscribe(PRCOMMON.Events.Market_Sector_Added,lang.hitch(this,this._add_event));_1fb.subscribe(PRCOMMON.Events.Market_Sector_Deleted,lang.hitch(this,this._delete_event));},postCreate:function(){var _1fc=[{label:" ",field:"marketsectorid",sortable:false,formatter:_1fa.generic_view,className:"grid-field-image-view"},{label:"Market Sector ",className:"standard",field:"marketsectordescription"}];this.grid=new Grid({columns:_1fc,selectionMode:"single",store:this._store,query:{}});this.grid.on("dgrid-select",dojo.hitch(this,this._on_cell_call));this.marketsector_add_ctrl.set("dialog",this.marketsector_add_dlg);this.marketsector_update_ctrl.set("dialog",this.marketsector_update_dlg);this.inherited(arguments);},startup:function(){this.inherited(arguments);this.grid_view.set("content",this.grid);},_on_cell_call:function(e){this.marketsector_update_ctrl.load(e.rows[0].data.marketsectorid);},_execute:function(){var _1fd={};if(arguments[0].filter){_1fd["marketsectordescription"]=arguments[0].filter;}this.grid.set("query",_1fd);},_new_market_sector:function(){this.marketsector_add_ctrl.clear();this.marketsector_add_dlg.show();},_clear_filter:function(){this.filter.set("value","");},_update_event:function(_1fe){this._store.put(_1fe);},_add_event:function(_1ff){this._store.add(_1ff);},_delete_event:function(_200){this._store.remove(_200);}});});},"dijit/_DialogMixin":function(){define(["dojo/_base/declare","./a11y"],function(_201,a11y){return _201("dijit._DialogMixin",null,{actionBarTemplate:"",execute:function(){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.get("value"));},_getFocusItems:function(){var _202=a11y._getTabNavigable(this.domNode);this._firstFocusItem=_202.lowest||_202.first||this.closeButtonNode||this.domNode;this._lastFocusItem=_202.last||_202.highest||this._firstFocusItem;}});});},"dojox/json/schema":function(){define(["dojo/_base/kernel","dojox","dojo/_base/array"],function(dojo,_203){dojo.getObject("json.schema",true,_203);_203.json.schema.validate=function(_204,_205){return this._validate(_204,_205,false);};_203.json.schema.checkPropertyChange=function(_206,_207,_208){return this._validate(_206,_207,_208||"property");};_203.json.schema.mustBeValid=function(_209){if(!_209.valid){throw new TypeError(dojo.map(_209.errors,function(_20a){return "for property "+_20a.property+": "+_20a.message;}).join(", "));}};_203.json.schema._validate=function(_20b,_20c,_20d){var _20e=[];function _20f(_210,_211,path,i){var l;path+=path?typeof i=="number"?"["+i+"]":typeof i=="undefined"?"":"."+i:i;function _212(_213){_20e.push({property:path,message:_213});};if((typeof _211!="object"||_211 instanceof Array)&&(path||typeof _211!="function")){if(typeof _211=="function"){if(!(Object(_210) instanceof _211)){_212("is not an instance of the class/constructor "+_211.name);}}else{if(_211){_212("Invalid schema/property definition "+_211);}}return null;}if(_20d&&_211.readonly){_212("is a readonly field, it can not be changed");}if(_211["extends"]){_20f(_210,_211["extends"],path,i);}function _214(type,_215){if(type){if(typeof type=="string"&&type!="any"&&(type=="null"?_215!==null:typeof _215!=type)&&!(_215 instanceof Array&&type=="array")&&!(type=="integer"&&_215%1===0)){return [{property:path,message:(typeof _215)+" value found, but a "+type+" is required"}];}if(type instanceof Array){var _216=[];for(var j=0;j<type.length;j++){if(!(_216=_214(type[j],_215)).length){break;}}if(_216.length){return _216;}}else{if(typeof type=="object"){var _217=_20e;_20e=[];_20f(_215,type,path);var _218=_20e;_20e=_217;return _218;}}}return [];};if(_210===undefined){if(!_211.optional){_212("is missing and it is not optional");}}else{_20e=_20e.concat(_214(_211.type,_210));if(_211.disallow&&!_214(_211.disallow,_210).length){_212(" disallowed value was matched");}if(_210!==null){if(_210 instanceof Array){if(_211.items){if(_211.items instanceof Array){for(i=0,l=_210.length;i<l;i++){_20e.concat(_20f(_210[i],_211.items[i],path,i));}}else{for(i=0,l=_210.length;i<l;i++){_20e.concat(_20f(_210[i],_211.items,path,i));}}}if(_211.minItems&&_210.length<_211.minItems){_212("There must be a minimum of "+_211.minItems+" in the array");}if(_211.maxItems&&_210.length>_211.maxItems){_212("There must be a maximum of "+_211.maxItems+" in the array");}}else{if(_211.properties){_20e.concat(_219(_210,_211.properties,path,_211.additionalProperties));}}if(_211.pattern&&typeof _210=="string"&&!_210.match(_211.pattern)){_212("does not match the regex pattern "+_211.pattern);}if(_211.maxLength&&typeof _210=="string"&&_210.length>_211.maxLength){_212("may only be "+_211.maxLength+" characters long");}if(_211.minLength&&typeof _210=="string"&&_210.length<_211.minLength){_212("must be at least "+_211.minLength+" characters long");}if(typeof _211.minimum!==undefined&&typeof _210==typeof _211.minimum&&_211.minimum>_210){_212("must have a minimum value of "+_211.minimum);}if(typeof _211.maximum!==undefined&&typeof _210==typeof _211.maximum&&_211.maximum<_210){_212("must have a maximum value of "+_211.maximum);}if(_211["enum"]){var _21a=_211["enum"];l=_21a.length;var _21b;for(var j=0;j<l;j++){if(_21a[j]===_210){_21b=1;break;}}if(!_21b){_212("does not have a value in the enumeration "+_21a.join(", "));}}if(typeof _211.maxDecimal=="number"&&(_210.toString().match(new RegExp("\\.[0-9]{"+(_211.maxDecimal+1)+",}")))){_212("may only have "+_211.maxDecimal+" digits of decimal places");}}}return null;};function _219(_21c,_21d,path,_21e){if(typeof _21d=="object"){if(typeof _21c!="object"||_21c instanceof Array){_20e.push({property:path,message:"an object is required"});}for(var i in _21d){if(_21d.hasOwnProperty(i)&&!(i.charAt(0)=="_"&&i.charAt(1)=="_")){var _21f=_21c[i];var _220=_21d[i];_20f(_21f,_220,path,i);}}}for(i in _21c){if(_21c.hasOwnProperty(i)&&!(i.charAt(0)=="_"&&i.charAt(1)=="_")&&_21d&&!_21d[i]&&_21e===false){_20e.push({property:path,message:(typeof _21f)+"The property "+i+" is not defined in the schema and the schema does not allow additional properties"});}var _221=_21d&&_21d[i]&&_21d[i].requires;if(_221&&!(_221 in _21c)){_20e.push({property:path,message:"the presence of the property "+i+" requires that "+_221+" also be present"});}_21f=_21c[i];if(_21d&&typeof _21d=="object"&&!(i in _21d)){_20f(_21f,_21e,path,i);}if(!_20d&&_21f&&_21f.$schema){_20e=_20e.concat(_20f(_21f,_21f.$schema,path,i));}}return _20e;};if(_20c){_20f(_20b,_20c,"",_20d||"");}if(!_20d&&_20b&&_20b.$schema){_20f(_20b,_20b.$schema,"","");}return {valid:!_20e.length,errors:_20e};};return _203.json.schema;});},"dijit/form/_SearchMixin":function(){define(["dojo/_base/declare","dojo/keys","dojo/_base/lang","dojo/query","dojo/string","dojo/when","../registry"],function(_222,keys,lang,_223,_224,when,_225){return _222("dijit.form._SearchMixin",null,{pageSize:Infinity,store:null,fetchProperties:{},query:{},list:"",_setListAttr:function(list){this._set("list",list);},searchDelay:200,searchAttr:"name",queryExpr:"${0}*",ignoreCase:true,_patternToRegExp:function(_226){return new RegExp("^"+_226.replace(/(\\.)|(\*)|(\?)|\W/g,function(str,_227,star,_228){return star?".*":_228?".":_227?_227:"\\"+str;})+"$",this.ignoreCase?"mi":"m");},_abortQuery:function(){if(this.searchTimer){this.searchTimer=this.searchTimer.remove();}if(this._queryDeferHandle){this._queryDeferHandle=this._queryDeferHandle.remove();}if(this._fetchHandle){if(this._fetchHandle.abort){this._cancelingQuery=true;this._fetchHandle.abort();this._cancelingQuery=false;}if(this._fetchHandle.cancel){this._cancelingQuery=true;this._fetchHandle.cancel();this._cancelingQuery=false;}this._fetchHandle=null;}},_processInput:function(evt){if(this.disabled||this.readOnly){return;}var key=evt.charOrCode;var _229=false;this._prev_key_backspace=false;switch(key){case keys.DELETE:case keys.BACKSPACE:this._prev_key_backspace=true;this._maskValidSubsetError=true;_229=true;break;default:_229=typeof key=="string"||key==229;}if(_229){if(!this.store){this.onSearch();}else{this.searchTimer=this.defer("_startSearchFromInput",1);}}},onSearch:function(){},_startSearchFromInput:function(){this._startSearch(this.focusNode.value);},_startSearch:function(text){this._abortQuery();var _22a=this,_223=lang.clone(this.query),_22b={start:0,count:this.pageSize,queryOptions:{ignoreCase:this.ignoreCase,deep:true}},qs=_224.substitute(this.queryExpr,[text.replace(/([\\\*\?])/g,"\\$1")]),q,_22c=function(){var _22d=_22a._fetchHandle=_22a.store.query(_223,_22b);if(_22a.disabled||_22a.readOnly||(q!==_22a._lastQuery)){return;}when(_22d,function(res){_22a._fetchHandle=null;if(!_22a.disabled&&!_22a.readOnly&&(q===_22a._lastQuery)){when(_22d.total,function(_22e){res.total=_22e;var _22f=_22a.pageSize;if(isNaN(_22f)||_22f>res.total){_22f=res.total;}res.nextPage=function(_230){_22b.direction=_230=_230!==false;_22b.count=_22f;if(_230){_22b.start+=res.length;if(_22b.start>=res.total){_22b.count=0;}}else{_22b.start-=_22f;if(_22b.start<0){_22b.count=Math.max(_22f+_22b.start,0);_22b.start=0;}}if(_22b.count<=0){res.length=0;_22a.onSearch(res,_223,_22b);}else{_22c();}};_22a.onSearch(res,_223,_22b);});}},function(err){_22a._fetchHandle=null;if(!_22a._cancelingQuery){}});};lang.mixin(_22b,this.fetchProperties);if(this.store._oldAPI){q=qs;}else{q=this._patternToRegExp(qs);q.toString=function(){return qs;};}this._lastQuery=_223[this.searchAttr]=q;this._queryDeferHandle=this.defer(_22c,this.searchDelay);},constructor:function(){this.query={};this.fetchProperties={};},postMixInProperties:function(){if(!this.store){var list=this.list;if(list){this.store=_225.byId(list);}}this.inherited(arguments);}});});},"research/translations/basicedit":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../translations/templates/basicedit.html","dojo/request","ttl/utilities2","dojo/_base/lang","dijit/form/ValidationTextBox"],function(_231,_232,_233,_234,_235,lang){return _231("research.translations.basicedit",[_232],{templateString:_233,gutters:false,constructor:function(){this._load_details_call_back=lang.hitch(this,this._load_details_call);this._update_translation_call_back=lang.hitch(this,this._update_translation_call);},postCreate:function(){this.inherited(arguments);},load:function(_236,_237){this._show_func=_237;this.datasourcetranslationid.set("value",_236);_234.post("/research/international/translation/get_record",_235.make_params({data:{datasourcetranslationid:_236}})).then(this._load_details_call_back);},_load_details_call:function(_238){if(_238.success=="OK"){this.translation.set("value",_238.data.translation);this._show_func("basic");}},_update_translation:function(){if(_235.form_validator(this.form)==false){alert("Not all required fields filled in");throw "N";}_234.post("/research/international/translation/update",_235.make_params({data:this.form.get("value")})).then(this._update_translation_call_back);},_update_translation_call:function(_239){if(_239.success=="OK"){this._show_func("basic",_239.data);}}});});},"dgrid/Keyboard":function(){define(["dojo/_base/declare","dojo/aspect","dojo/on","dojo/_base/lang","dojo/has","put-selector/put","./util/misc","dojo/_base/Deferred","dojo/_base/sniff"],function(_23a,_23b,on,lang,has,put,_23c,_23d){var _23e={checkbox:1,radio:1,button:1},_23f=/\bdgrid-cell\b/,_240=/\bdgrid-row\b/;var _241=_23a(null,{pageSkip:10,tabIndex:0,keyMap:null,headerKeyMap:null,postMixInProperties:function(){this.inherited(arguments);if(!this.keyMap){this.keyMap=lang.mixin({},_241.defaultKeyMap);}if(!this.headerKeyMap){this.headerKeyMap=lang.mixin({},_241.defaultHeaderKeyMap);}},postCreate:function(){this.inherited(arguments);var grid=this;function _242(_243){var _244=_243.target;return _244.type&&(!_23e[_244.type]||_243.keyCode==32);};function _245(_246){var _247=grid.cellNavigation,_248=_247?_23f:_240,_249=_246===grid.headerNode,_24a=_246;function _24b(){if(grid._focusedHeaderNode){grid._focusedHeaderNode.tabIndex=-1;}if(grid.showHeader){if(_247){for(var i=0,_24c,_24d=grid.headerNode.getElementsByTagName("th");(_24c=_24d[i]);++i){if(_248.test(_24c.className)){grid._focusedHeaderNode=_24a=_24c;break;}}}else{grid._focusedHeaderNode=_24a=grid.headerNode;}if(_24a){_24a.tabIndex=grid.tabIndex;}}};if(_249){_24b();_23b.after(grid,"renderHeader",_24b,true);}else{_23b.after(grid,"renderArray",function(ret){return _23d.when(ret,function(ret){var _24e=grid._focusedNode||_24a;if(_248.test(_24e.className)&&_23c.contains(_246,_24e)){return ret;}for(var i=0,_24f=_246.getElementsByTagName("*"),_250;(_250=_24f[i]);++i){if(_248.test(_250.className)){_24e=grid._focusedNode=_250;break;}}_24e.tabIndex=grid.tabIndex;return ret;});});}grid._listeners.push(on(_246,"mousedown",function(_251){if(!_242(_251)){grid._focusOnNode(_251.target,_249,_251);}}));grid._listeners.push(on(_246,"keydown",function(_252){if(_252.metaKey||_252.altKey){return;}var _253=grid[_249?"headerKeyMap":"keyMap"][_252.keyCode];if(_253&&!_242(_252)){_253.call(grid,_252);}}));};if(this.tabableHeader){_245(this.headerNode);on(this.headerNode,"dgrid-cellfocusin",function(){grid.scrollTo({x:this.scrollLeft});});}_245(this.contentNode);},removeRow:function(_254){if(!this._focusedNode){return this.inherited(arguments);}var self=this,_255=document.activeElement===this._focusedNode,_256=this[this.cellNavigation?"cell":"row"](this._focusedNode),_257=_256.row||_256,_258;_254=_254.element||_254;if(_254===_257.element){_258=this.down(_257,true);if(!_258||_258.element===_254){_258=this.up(_257,true);}this._removedFocus={active:_255,rowId:_257.id,columnId:_256.column&&_256.column.id,siblingId:!_258||_258.element===_254?undefined:_258.id};setTimeout(function(){if(self._removedFocus){self._restoreFocus(_257.id);}},0);this._focusedNode=null;}this.inherited(arguments);},insertRow:function(_259){var _25a=this.inherited(arguments);if(this._removedFocus&&!this._removedFocus.wait){this._restoreFocus(_25a);}return _25a;},_restoreFocus:function(row){var _25b=this._removedFocus,_25c,cell;row=row&&this.row(row);_25c=row&&row.element&&row.id===_25b.rowId?row:typeof _25b.siblingId!=="undefined"&&this.row(_25b.siblingId);if(_25c&&_25c.element){if(!_25c.element.parentNode.parentNode){_25b.wait=true;return;}if(typeof _25b.columnId!=="undefined"){cell=this.cell(_25c,_25b.columnId);if(cell&&cell.element){_25c=cell;}}if(_25b.active&&_25c.element.offsetHeight!==0){this._focusOnNode(_25c,false,null);}else{put(_25c.element,".dgrid-focus");_25c.element.tabIndex=this.tabIndex;this._focusedNode=_25c.element;}}delete this._removedFocus;},addKeyHandler:function(key,_25d,_25e){return _23b.after(this[_25e?"headerKeyMap":"keyMap"],key,_25d,true);},_focusOnNode:function(_25f,_260,_261){var _262="_focused"+(_260?"Header":"")+"Node",_263=this[_262],_264=this.cellNavigation?"cell":"row",cell=this[_264](_25f),_265,_266,_267,_268,i;_25f=cell&&cell.element;if(!_25f){return;}if(this.cellNavigation){_265=_25f.getElementsByTagName("input");for(i=0,_267=_265.length;i<_267;i++){_266=_265[i];if((_266.tabIndex!=-1||"_dgridLastValue" in _266)&&!_266.disabled){if(has("ie")<8){_266.style.position="relative";}_266.focus();if(has("ie")<8){_266.style.position="";}_268=true;break;}}}if(_261!==null){_261=lang.mixin({grid:this},_261);if(_261.type){_261.parentType=_261.type;}if(!_261.bubbles){_261.bubbles=true;}}if(_263){put(_263,"!dgrid-focus[!tabIndex]");if(has("ie")<8){_263.style.position="";}if(_261){_261[_264]=this[_264](_263);on.emit(_263,"dgrid-cellfocusout",_261);}}_263=this[_262]=_25f;if(_261){_261[_264]=cell;}var _269=this.cellNavigation?_23f:_240;if(!_268&&_269.test(_25f.className)){if(has("ie")<8){_25f.style.position="relative";}_25f.tabIndex=this.tabIndex;_25f.focus();}put(_25f,".dgrid-focus");if(_261){on.emit(_263,"dgrid-cellfocusin",_261);}},focusHeader:function(_26a){this._focusOnNode(_26a||this._focusedHeaderNode,true);},focus:function(_26b){var node=_26b||this._focusedNode;if(node){this._focusOnNode(node,false);}else{this.contentNode.focus();}}});var _26c=_241.moveFocusVertical=function(_26d,_26e){var _26f=this.cellNavigation,_270=this[_26f?"cell":"row"](_26d),_271=_26f&&_270.column.id,next=this.down(this._focusedNode,_26e,true);if(_26f){next=this.cell(next,_271);}this._focusOnNode(next,false,_26d);_26d.preventDefault();};var _272=_241.moveFocusUp=function(_273){_26c.call(this,_273,-1);};var _274=_241.moveFocusDown=function(_275){_26c.call(this,_275,1);};var _276=_241.moveFocusPageUp=function(_277){_26c.call(this,_277,-this.pageSkip);};var _278=_241.moveFocusPageDown=function(_279){_26c.call(this,_279,this.pageSkip);};var _27a=_241.moveFocusHorizontal=function(_27b,_27c){if(!this.cellNavigation){return;}var _27d=!this.row(_27b),_27e=this["_focused"+(_27d?"Header":"")+"Node"];this._focusOnNode(this.right(_27e,_27c),_27d,_27b);_27b.preventDefault();};var _27f=_241.moveFocusLeft=function(_280){_27a.call(this,_280,-1);};var _281=_241.moveFocusRight=function(_282){_27a.call(this,_282,1);};var _283=_241.moveHeaderFocusEnd=function(_284,_285){var _286;if(this.cellNavigation){_286=this.headerNode.getElementsByTagName("th");this._focusOnNode(_286[_285?0:_286.length-1],true,_284);}_284.preventDefault();};var _287=_241.moveHeaderFocusHome=function(_288){_283.call(this,_288,true);};var _289=_241.moveFocusEnd=function(_28a,_28b){var self=this,_28c=this.cellNavigation,_28d=this.contentNode,_28e=_28b?0:_28d.scrollHeight,_28f=_28d.scrollTop+_28e,_290=_28d[_28b?"firstChild":"lastChild"],_291=_290.className.indexOf("dgrid-preload")>-1,_292=_291?_290[(_28b?"next":"previous")+"Sibling"]:_290,_293=_292.offsetTop+(_28b?0:_292.offsetHeight),_294;if(_291){while(_292&&_292.className.indexOf("dgrid-row")<0){_292=_292[(_28b?"next":"previous")+"Sibling"];}if(!_292){return;}}if(!_291||_290.offsetHeight<1){if(_28c){_292=this.cell(_292,this.cell(_28a).column.id);}this._focusOnNode(_292,false,_28a);}else{if(!has("dom-addeventlistener")){_28a=lang.mixin({},_28a);}_294=_23b.after(this,"renderArray",function(rows){_294.remove();return _23d.when(rows,function(rows){var _295=rows[_28b?0:rows.length-1];if(_28c){_295=self.cell(_295,self.cell(_28a).column.id);}self._focusOnNode(_295,false,_28a);});});}if(_28f===_293){_28a.preventDefault();}};var _296=_241.moveFocusHome=function(_297){_289.call(this,_297,true);};function _298(_299){_299.preventDefault();};_241.defaultKeyMap={32:_298,33:_276,34:_278,35:_289,36:_296,37:_27f,38:_272,39:_281,40:_274};_241.defaultHeaderKeyMap={32:_298,35:_283,36:_287,37:_27f,39:_281};return _241;});},"dijit/form/SimpleTextarea":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/sniff","./TextBox"],function(_29a,_29b,has,_29c){return _29a("dijit.form.SimpleTextarea",_29c,{baseClass:"dijitTextBox dijitTextArea",rows:"3",cols:"20",templateString:"<textarea ${!nameAttrSetting} data-dojo-attach-point='focusNode,containerNode,textbox' autocomplete='off'></textarea>",postMixInProperties:function(){if(!this.value&&this.srcNodeRef){this.value=this.srcNodeRef.value;}this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);if(has("ie")&&this.cols){_29b.add(this.textbox,"dijitTextAreaCols");}},filter:function(_29d){if(_29d){_29d=_29d.replace(/\r/g,"");}return this.inherited(arguments);},_onInput:function(e){if(this.maxLength){var _29e=parseInt(this.maxLength);var _29f=this.textbox.value.replace(/\r/g,"");var _2a0=_29f.length-_29e;if(_2a0>0){var _2a1=this.textbox;if(_2a1.selectionStart){var pos=_2a1.selectionStart;var cr=0;if(has("opera")){cr=(this.textbox.value.substring(0,pos).match(/\r/g)||[]).length;}this.textbox.value=_29f.substring(0,pos-_2a0-cr)+_29f.substring(pos-cr);_2a1.setSelectionRange(pos-_2a0,pos-_2a0);}else{if(this.ownerDocument.selection){_2a1.focus();var _2a2=this.ownerDocument.selection.createRange();_2a2.moveStart("character",-_2a0);_2a2.text="";_2a2.select();}}}}this.inherited(arguments);}});});},"research/frame":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../research/templates/frame.html","dijit/layout/BorderContainer","dojox/collections/Dictionary","dijit/layout/ContentPane","dojox/layout/ExpandoPane","dojo/data/ItemFileReadStore","dijit/tree/ForestStoreModel","dijit/Tree","dijit/layout/StackContainer"],function(_2a3,_2a4,_2a5,_2a6,_2a7,_2a8){return _2a3("research.frame",[_2a4,_2a6],{templateString:_2a5,gutters:true,constructor:function(){this._windows=new _2a7();this._start_up_call_back=dojo.hitch(this,this._start_up_call);},postCreate:function(){this.inherited(arguments);},_start_up_call:function(){var _2a9=new _2a8({title:this._obj.id.toString(),content:"<div dojoType='"+this._obj.content[0]+"' style='width:100%;height:100%'></div>"});this.zone.addChild(_2a9,0);this._windows.add(this._obj.id,_2a9.id);setTimeout("dijit.byId('"+this.zone.id+"').selectChild('"+_2a9.id+"');",1);},_SelectNode:function(){this._obj=arguments[0];if(this._windows.containsKey(this._obj.id)==false){var _2aa=null;if(this._obj.type==0){require(["dijit/layout/ContentPane",this._obj.content[0].split(".").join("/")],this._start_up_call_back);}else{if(this._obj.type==2){var _2aa=new dijit.layout.ContentPane({title:this._obj.id.toString(),href:this._obj.page});this.zone.addChild(_2aa,0);setTimeout("dijit.byId('"+this.zone.id+"').selectChild('"+_2aa.id+"');",10);this._windows.add(this._obj.id,_2aa.id);}}}else{var wid=this._windows.entry(this._obj.id).value;this.zone.selectChild(dijit.byId(wid));}}});});},"research/projects/outletwizard":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../projects/templates/outletwizard.html","dijit/layout/BorderContainer","ttl/grid/Grid","ttl/store/JsonRest","dojo/store/Observable","dojo/request","ttl/utilities2","dojo/json","dojo/topic","dojo/_base/lang","dojo/dom-attr","dijit/layout/StackContainer","dijit/layout/ContentPane"],function(_2ab,_2ac,_2ad,_2ae,Grid,_2af,_2b0,_2b1,_2b2,json,_2b3,lang,_2b4){return _2ab("research.projects.outletwizard",[_2ac,_2ae],{templateString:_2ad,gutters:false,constructor:function(){},postCreate:function(){this.inherited(arguments);}});});},"research/employees/ContactInterests":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../employees/templates/ContactInterests.html","dojo/topic","dojo/_base/lang","dojo/request","ttl/utilities2"],function(_2b5,_2b6,_2b7,_2b8,lang,_2b9,_2ba){return _2b5("research.employees.ContactInterests",[_2b6],{templateString:_2b7,constructor:function(){this._dialog=null;this._changed_call_back=lang.hitch(this,this._changed_call);},_change_interests:function(){if(confirm("Change Keywords from the Selected Contact to these Keywords")){_2b9.post("/research/admin/employees/research_contact_interests",_2ba.make_params({data:this.form.get("value")})).then(this._changed_call_back);}},_changed_call:function(_2bb){if(_2bb.success=="OK"){alert("Contact Keywords Changed");this._dialog.hide();}else{alert("Problem Changing Contact Keywords");}},_setDialogAttr:function(_2bc){this._dialog=_2bc;}});});},"xstyle/has-class":function(){define(["dojo/has"],function(has){var _2bd={};return function(){var test,args=arguments;for(var i=0;i<args.length;i++){var test=args[i];if(!_2bd[test]){_2bd[test]=true;var _2be=test.match(/^(no-)?(.+?)((-[\d\.]+)(-[\d\.]+)?)?$/),_2bf=has(_2be[2]),_2c0=-_2be[4];if((_2c0>0?_2c0<=_2bf&&(-_2be[5]||_2c0)>=_2bf:!!_2bf)==!_2be[1]){document.documentElement.className+=" has-"+test;}}}};});},"research/lookups/Countries":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../lookups/templates/Countries.html","dijit/layout/BorderContainer","ttl/grid/Grid","ttl/store/JsonRest","dojo/store/Observable","dojo/request","ttl/utilities2","dojo/json","dojo/data/ItemFileReadStore","dojo/_base/lang","dijit/layout/ContentPane","dijit/Toolbar","dijit/form/DropDownButton","dijit/TooltipDialog","dijit/form/TextBox","dijit/form/Button","dijit/form/ValidationTextBox","dijit/form/Form","dojox/form/BusyButton"],function(_2c1,_2c2,_2c3,_2c4,Grid,_2c5,_2c6,_2c7,_2c8,json,_2c9,lang){return _2c1("research.lookup.Countries",[_2c2,_2c4],{templateString:_2c3,gutters:true,constructor:function(){this.countries=new _2c6(new _2c5({target:"/research/admin/countries/list",idProperty:"countryid"}));this.countrytypes_filter=new _2c9({url:"/common/lookups?searchtype=countrytypes&nofilter=1"});this.countrytypes=new _2c9({url:"/common/lookups?searchtype=countrytypes"});this.countries_list=new _2c9({url:"/common/lookups?searchtype=countries&nofilter=1"});this._add_call_back=lang.hitch(this,this._add_call);this._upd_call_back=lang.hitch(this,this._upd_call);this._show_edit_call_back=lang.hitch(this,this._show_edit_call);},postCreate:function(){var _2ca=[{label:"Name",className:"standard",field:"countryname"},{label:"Type",className:"standard",field:"countrytypedescription"},{label:"Parent",className:"standard",field:"parentcountryname"}];this.countries_grid=new Grid({columns:_2ca,selectionMode:"single",store:this.countries,query:{}});this.countries_grid.on("dgrid-select",lang.hitch(this,this._select_country));this.countrytypeid_filter.set("store",this.countrytypes_filter);this.countrytypeid_filter.set("value",-1);this.countrytypeid.set("store",this.countrytypes);this.countrytypeid.set("value",1);this.regioncountryid.set("store",this.countries_list);this.regioncountryid.set("value",-1);this.upd_countrytypeid.set("store",this.countrytypes);this.upd_regioncountryid.set("store",this.countries_list);this.inherited(arguments);},_select_country:function(e){_2c7.post("/research/admin/countries/countries_get",_2c8.make_params({data:{countryid:e.rows[0].data.countryid}})).then(this._show_edit_call_back);},_show_edit_call:function(_2cb){if(_2cb.success=="OK"){this.upd_countryid.set("value",_2cb.data.countryid);this.upd_countryname.set("value",_2cb.data.countryname);this.upd_countrytypeid.set("value",_2cb.data.countrytypeid);this.upd_regioncountryid.set("value",(_2cb.data.regioncountryid==null)?-1:_2cb.data.regioncountryid);this.updbtn.cancel();this.upd_dlg.show();}else{alert("Problem Loading");}},startup:function(){this.inherited(arguments);this.countries_grid_view.set("content",this.countries_grid);},_execute:function(){var _2cc={};if(arguments[0].countrytypeid!=-1){_2cc["countrytypeid"]=arguments[0].countrytypeid;}if(arguments[0].filter!=""){_2cc["countryname"]=arguments[0].filter;}this.countries_grid.set("query",_2cc);},_clear_filter:function(){this.filter.set("value","");this.countrytypeid.set("value",-1);},_add:function(){if(_2c8.form_validator(this.form)==false){alert("Not all required field filled in");throw "N";}if(confirm("Add Country")){_2c7.post("/research/admin/countries/countries_add",_2c8.make_params({data:this.form.get("value")})).then(this._add_call_back);}},_add_call:function(_2cd){if(_2cd.success=="OK"){this.countries.add(_2cd.country);alert("Added");this.add_dlg.hide();}else{if(_2cd.message){alert(_2cd.message);}else{alert("Problem");}}this.addbtn.cancel();this.updbtn.cancel();},_upd_call:function(_2ce){if(_2ce.success=="OK"){this.countries.put(_2ce.country);alert("Updated");this.upd_dlg.hide();}else{if(_2ce.success=="DU"){alert("Already Exists");}else{if(_2ce.message){alert(_2ce.message);}else{alert("Problem");}}}this.addbtn.cancel();this.updbtn.cancel();},_show_new:function(){this.countryname.set("value","");this.countrytypeid.set("value",1);this.regioncountryid.set("value",-1);this.add_dlg.show();this.countryname.focus();},_update:function(){if(_2c8.form_validator(this.upd_form)==false){alert("Not all required field filled in");throw "N";}_2c7.post("/research/admin/countries/countries_update",_2c8.make_params({data:this.upd_form.get("value")})).then(this._upd_call_back);}});});},"dgrid/tree":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/Deferred","dojo/query","dojo/on","dojo/aspect","./util/has-css3","./Grid","dojo/has!touch?./util/touch","put-selector/put"],function(_2cf,_2d0,_2d1,_2d2,on,_2d3,has,Grid,_2d4,put){function _2d5(_2d6,_2d7,_2d8,_2d9){var dir=this.grid.isRTL?"right":"left",cls=".dgrid-expando-icon",node;if(_2d7){cls+=".ui-icon.ui-icon-triangle-1-"+(_2d8?"se":"e");}node=put("div"+cls+"[style=margin-"+dir+": "+(_2d6*(this.indentWidth||9))+"px; float: "+dir+"]");node.innerHTML="&nbsp;";return node;};function _2da(_2db){var _2dc=this,_2dd=this.style.height;if(_2dd){this.style.display=_2dd=="0px"?"none":"block";}if(_2db){put(this,".dgrid-tree-resetting");setTimeout(function(){put(_2dc,"!dgrid-tree-resetting");});}this.style.height="";};function tree(_2de){var _2df=_2de.renderCell||Grid.defaultRenderCell;var _2e0,_2e1;if(!_2de){_2de={};}_2de.shouldExpand=_2de.shouldExpand||function(row,_2e2,_2e3){return _2e3;};_2d3.after(_2de,"init",function(){var grid=_2de.grid,_2e4=".dgrid-content .dgrid-column-"+_2de.id,_2e5=[];grid.cleanEmptyObservers=false;if(!grid.store){throw new Error("dgrid tree column plugin requires a store to operate.");}if(!_2de.renderExpando){_2de.renderExpando=_2d5;}_2e5.push(grid.on(_2de.expandOn||".dgrid-expando-icon:click,"+_2e4+":dblclick,"+_2e4+":keydown",function(_2e6){var row=grid.row(_2e6);if((!grid.store.mayHaveChildren||grid.store.mayHaveChildren(row.data))&&(_2e6.type!="keydown"||_2e6.keyCode==32)&&!(_2e6.type=="dblclick"&&_2e1&&_2e1.count>1&&row.id==_2e1.id&&_2e6.target.className.indexOf("dgrid-expando-icon")>-1)){grid.expand(row);}if(_2e6.target.className.indexOf("dgrid-expando-icon")>-1){if(_2e1&&_2e1.id==grid.row(_2e6).id){_2e1.count++;}else{_2e1={id:grid.row(_2e6).id,count:1};}}}));if(has("touch")){_2e5.push(grid.on(_2d4.selector(_2e4,_2d4.dbltap),function(){grid.expand(this);}));}if(!grid._expanded){grid._expanded={};}_2e5.push(_2d3.after(grid,"insertRow",function(_2e7){var row=this.row(_2e7),_2e8=_2de.shouldExpand(row,_2e0,this._expanded[row.id]);if(_2e8){this.expand(_2e7,true,true);}return _2e7;}));_2e5.push(_2d3.before(grid,"removeRow",function(_2e9,_2ea){var _2eb=_2e9.connected;if(_2eb){_2d2(">.dgrid-row",_2eb).forEach(function(_2ec){grid.removeRow(_2ec,true);});if(!_2ea){put(_2eb,"!");}}}));if(_2de.collapseOnRefresh){_2e5.push(_2d3.after(grid,"cleanup",function(){this._expanded={};}));}grid._calcRowHeight=function(_2ed){var _2ee=_2ed.connected;return _2ed.offsetHeight+(_2ee?_2ee.offsetHeight:0);};grid.expand=function(_2ef,_2f0,_2f1){var row=_2ef.element?_2ef:grid.row(_2ef),_2f2=has("transitionend"),dfd=new _2d1(),_2f3=dfd.promise;dfd.resolve();_2ef=row.element;_2ef=_2ef.className.indexOf("dgrid-expando-icon")>-1?_2ef:_2d2(".dgrid-expando-icon",_2ef)[0];_2f1=_2f1||_2de.enableTransitions===false;if(_2ef&&_2ef.mayHaveChildren&&(_2f1||_2f0!==!!this._expanded[row.id])){var _2f4=_2f0===undefined?!this._expanded[row.id]:_2f0;put(_2ef,".ui-icon-triangle-1-"+(_2f4?"se":"e")+"!ui-icon-triangle-1-"+(_2f4?"e":"se"));var _2f5=row.element,_2f6=_2f5.connected,_2f7,_2f8,_2f9={originalQuery:this.query};if(!_2f6){_2f6=_2f9.container=_2f5.connected=put(_2f5,"+div.dgrid-tree-container");var _2fa=function(_2fb){return grid.store.getChildren(row.data,_2fb);};if(_2de.allowDuplicates){_2f9.parentId=row.id;}if("level" in _2ef){_2fa.level=_2ef.level;}_2f3=_2f3.then(function(){if(grid.renderQuery){return grid.renderQuery(_2fa,_2f9);}var _2fc=put(_2f6,"div");var rows=grid.renderArray(_2fa(_2f9),_2fc,"level" in _2fa?{queryLevel:_2fa.level}:{});_2d1.when(rows,function(){put(_2fc,"!");});return rows;});if(_2f2){on(_2f6,_2f2,_2da);}else{_2da.call(_2f6);}}_2f6.hidden=!_2f4;_2f7=_2f6.style;if(!_2f2||_2f1){_2f7.display=_2f4?"block":"none";_2f7.height="";}else{if(_2f4){_2f7.display="block";_2f8=_2f6.scrollHeight;_2f7.height="0px";}else{put(_2f6,".dgrid-tree-resetting");_2f7.height=_2f6.scrollHeight+"px";}setTimeout(function(){put(_2f6,"!dgrid-tree-resetting");_2f7.height=_2f4?(_2f8?_2f8+"px":"auto"):"0px";});}if(_2f4){this._expanded[row.id]=true;}else{delete this._expanded[row.id];}}return _2f3;};_2d3.after(_2de,"destroy",function(){_2d0.forEach(_2e5,function(l){l.remove();});delete grid.expand;delete grid._calcRowHeight;});});_2de.renderCell=function(_2fd,_2fe,td,_2ff){var grid=_2de.grid,_300=Number(_2ff&&_2ff.queryLevel)+1,_301=!grid.store.mayHaveChildren||grid.store.mayHaveChildren(_2fd),_302=_2ff.parentId,_303,node;_300=_2e0=isNaN(_300)?0:_300;_303=_2de.renderExpando(_300,_301,grid._expanded[(_302?_302+"-":"")+grid.store.getIdentity(_2fd)],_2fd);_303.level=_300;_303.mayHaveChildren=_301;node=_2df.call(_2de,_2fd,_2fe,td,_2ff);if(node&&node.nodeType){put(td,_303);put(td,node);}else{td.insertBefore(_303,td.firstChild);}};return _2de;};tree.defaultRenderExpando=_2d5;return tree;});},"research/translations/translateclassification":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../translations/templates/translateclassification.html","dojo/request","ttl/utilities2","dojo/_base/lang","dojo/data/ItemFileReadStore","dojo/json","prcommon2/interests/Interests"],function(_304,_305,_306,_307,_308,lang,_309,json){return _304("research.translations.translateclassification",[_305],{templateString:_306,gutters:false,constructor:function(){this._load_details_call_back=lang.hitch(this,this._load_details_call);this._update_translation_call_back=lang.hitch(this,this._update_translation_call);this._outlettypes=new _309({url:"/common/lookups?searchtype=prmaxoutlettypes&nofilter=1"});},postCreate:function(){this.outlettypeid.set("store",this._outlettypes);this.inherited(arguments);},load:function(_30a,_30b){this._show_func=_30b;this.datasourcetranslationid.set("value",_30a);_307.post("/research/international/translation/get_record",_308.make_params({data:{datasourcetranslationid:_30a}})).then(this._load_details_call_back);},_load_details_call:function(_30c){if(_30c.success=="OK"){this.interests.set("value",_30c.data.interests);this.outlettypeid.set("value",_30c.data.translation);this._show_func("classification");}},_update_translation:function(){if(_308.form_validator(this.form)==false){alert("Not all required fields filled in");throw "N";}var tmp=json.parse(this.interests.get("value"));var _30d=this.form.get("value");_30d["extended_translation"]=json.stringify(tmp["data"]);_307.post("/research/international/translation/update",_308.make_params({data:_30d})).then(this._update_translation_call_back);},_update_translation_call:function(_30e){if(_30e.success=="OK"){this._show_func("classification",_30e.data);}}});});},"prcommon2/query/query":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../query/templates/query.html","dijit/layout/BorderContainer","dojo/_base/lang","dojo/dom-attr","dojo/dom-class","dojo/dom-style","dojo/request","ttl/utilities2","dojox/data/JsonRestStore"],function(_30f,_310,_311,_312,lang,_313,_314,_315,_316,_317,_318){return _30f("prcommon2.query.query",[_310,_312],{templateString:_311,constructor:function(){this._QueryCallBack=lang.hitch(this,this._QueryCall);this._QueryLoadCallBack=lang.hitch(this,this._QueryLoadCall);this._QuerySaveCallBack=lang.hitch(this,this._QuerySaveCall);this.queries=new _318({target:"/query/queries_research",idProperty:"queryhistoryid",labelAttribute:"queryhistoryname"});},postCreate:function(){this.select.set("store",this.queries);this.inherited(arguments);},_QueryCall:function(_319){if(_319.success=="OK"){this.result_view.setContent(_319.data);}else{alert("problem");}this.execute_button.cancel();},_Execute:function(){var _31a=dojo.attr(this.query_text,"value");_316.post("/query/execute",_317.make_params({data:{query_text:_31a}})).then(this._QueryCallBack);},_QueryLoadCall:function(_31b){if(_31b.success=="OK"){dojo.attr(this.query_text,"value",_31b.data.query_text);}else{alert("problem");}},_Load:function(){_316.post("/query/load",_317.make_params({data:{queryhistoryid:this.select.get("value")}})).then(this._QueryLoadCallBack);},_Save:function(){var _31c=dojo.attr(this.query_text,"value");if(_31c.length>0){this.savedlg.show();}},_CancelDialog:function(){this.savedlg.hide();},_QuerySaveCall:function(_31d){if(_31d.success=="OK"){alert("Query Saved");this._CancelDialog();}else{alert("problem");}},_Query_Save:function(){if(_317.form_validator(this.formNode)==false){alert("Not all required field filled in");throw "B";}var _31e=dojo.attr(this.query_text,"value");_316.post("/query/save2",_317.make_params({data:{query_text:_31e,subject:this.subject_name.get("value"),typeid:1}})).then(this._QuerySaveCallBack);},_To_Excel:function(){this.query_text_to_excel.set("value",dojo.attr(this.query_text,"value"));this.tmp_to_excel.set("value",new Date());return true;}});});},"dojo/data/util/filter":function(){define(["../../_base/lang"],function(lang){var _31f={};lang.setObject("dojo.data.util.filter",_31f);_31f.patternToRegExp=function(_320,_321){var rxp="^";var c=null;for(var i=0;i<_320.length;i++){c=_320.charAt(i);switch(c){case "\\":rxp+=c;i++;rxp+=_320.charAt(i);break;case "*":rxp+=".*";break;case "?":rxp+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":rxp+="\\";default:rxp+=c;}}rxp+="$";if(_321){return new RegExp(rxp,"mi");}else{return new RegExp(rxp,"m");}};return _31f;});},"research/audit/AuditViewer":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../audit/templates/AuditViewer.html","dijit/layout/BorderContainer","ttl/grid/Grid","ttl/store/JsonRest","dojo/store/Observable","dijit/layout/ContentPane","dijit/form/TextBox","dijit/form/Button","dijit/form/Form",],function(_322,_323,_324,_325,Grid,_326,_327){return _322("research.audit.AuditViewer",[_323,_325],{templateString:_324,gutters:true,objecttypeid:-1,objectisbase:false,constructor:function(){this.results=new _326({target:"/research/admin/audit_trail",idProperty:"activityid"});this.details=new _326({target:"/research/admin/audit_details"});},postCreate:function(){var _328=null;if(this.objectisbase==true){_328=[{label:"Date",className:"standard",field:"activitydate"},{label:"Action",className:"dgrid-column-status-small",field:"actiontypedescription"},{label:"Reason",className:"standard",field:"reasoncodedescription"},{label:"User",className:"standard",field:"display_name"},{label:"Type",className:"standard",field:"objecttypename"}];}else{_328=[{label:"Date",className:"standard",field:"activitydate"},{label:"Action",className:"dgrid-column-status-small",field:"actiontypedescription"},{label:"Reason",className:"standard",field:"reasoncodedescription"},{label:"User",className:"standard",field:"display_name"},];}this.result_grid=new Grid({columns:_328,selectionMode:"single",store:this.results});this.result_grid_view.set("content",this.result_grid);this.result_grid.on("dgrid-select",dojo.hitch(this,this._on_cell_call));_328=[{label:"Field",className:"standard",field:"fieldname"},{label:"From",className:"standard",field:"fromvalue"},{label:"To",className:"standard",field:"tovalue"}];this.details_grid=new Grid({columns:_328,selectionMode:"single",store:this.details});this.details_grid_view.set("content",this.details_grid);this.filterdate.set("value",new Date());this.inherited(arguments);},_on_cell_call:function(e){this.details_grid.set("query",{activityid:e.rows[0].data.activityid});},load:function(_329){this.clear();this._objectid=_329;},_filter:function(){var d=this.filterdate.get("value");this.result_grid.set("query",{filterdate:d.getFullYear()+"-"+(d.getMonth()+1)+"-"+d.getDate(),objecttypeid:this.objecttypeid,objectisbase:this.objectisbase,objectid:this._objectid});},clear:function(){this.result_grid.set("query",{});this.details_grid.set("query",{});}});});},"prcommon2/common/ExpandedText":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../common/templates/ExpandedText.html","dijit/layout/BorderContainer","dijit/form/Textarea","dijit/form/Button","dijit/form/Form","dojox/form/BusyButton"],function(_32a,_32b,_32c,_32d){return _32a("prcommon2.common.ExpandedText",[_32b,_32d],{templateString:_32c,constructor:function(){},_close:function(){this._dialog.hide();this.text_point.set("value","");},_save:function(){this._ctrl.set("value",this.text_point.get("value"));this._dialog.hide();this.text_point.set("value","");},show_control:function(ctrl,_32e,_32f){this._ctrl=ctrl;this._dialog=_32e;this._dialog.set("title",_32f);this.text_point.set("value",this._ctrl.get("value"));this._dialog.show();}});});},"research/outlets/Outlets":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../outlets/templates/Outlets.html","dijit/layout/BorderContainer","dojo/topic","dojo/_base/lang","dojo/dom-attr","dojox/layout/ExpandoPane","research/search","dijit/layout/StackContainer","dijit/layout/ContentPane","research/outlets/OutletEdit","research/freelance/FreelanceEdit","research/employees/ContactInterests","research/international/Edit"],function(_330,_331,_332,_333,_334,lang,_335){return _330("research.outlets.Outlets",[_331,_333],{templateString:_332,gutters:false,constructor:function(){_334.subscribe(PRCOMMON.Events.Display_Load,lang.hitch(this,this._load_event));_334.subscribe(PRCOMMON.Events.Outlet_Deleted,lang.hitch(this,this._outlet_deleted_event));_334.subscribe("LoadParentOutlet",lang.hitch(this,this._load_event));_334.subscribe("LoadChildOutlet",lang.hitch(this,this._load_event));},_load_event:function(_336,_337,_338){if(_338!=1&&_338!=2&&_338!=3){this.controls.selectChild(this.internationaledit);this.internationaledit.load(_336);}else{if(_337=="freelance"){this.controls.selectChild(this.freelanceedit);this.freelanceedit.load(_336);}else{this.controls.selectChild(this.outletedit);this.outletedit.load(_336);}}},_outlet_deleted_event:function(data){this.controls.selectChild(this.blank);this.freelanceedit.clear();this.outletedit.clear();}});});},"prcommon2/search/PrmaxOutletTypes":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../search/templates/PrmaxOutletTypes.html","prcommon2/search/std_search","dojo/data/ItemFileReadStore","dojox/collections/Dictionary","dojo/json","dijit/form/CheckBox","dijit/form/Button"],function(_339,_33a,_33b,_33c,_33d,_33e,json){return _339("prcommon2.search.PrmaxOutletTypes",[_33a,_33c],{templateString:_33b,name:"",value:"",title:"",search:"",size:"7",testmode:false,constructor:function(){this._fieldList=[1,2,3,4,5,6,7,8,9];this._values="";this.items=new _33d({url:"/common/lookups?searchtype=prmaxoutlettypes"});this.items.fetch();this._clear_selection_list_call=dojo.hitch(this,this._clear_selection_list);this._load_selection_call=dojo.hitch(this,this._load_selection);this._control_buttons_call=dojo.hitch(this,this._control_buttons);this._selected=new _33e();this._group_types=new _33e();this._group_types.add(1,"national");this._group_types.add(2,"regional");this._group_types.add(3,"business");this._group_types.add(4,"consumer");this._group_types.add(5,"radio");this._group_types.add(6,"television");this._group_types.add(7,"internet");this._group_types.add(8,"news");this._group_types.add(9,"parliamentary");this._primary=new _33e();this._primary.add(1,1);this._primary.add(2,6);this._primary.add(3,13);this._primary.add(4,15);this._primary.add(5,24);this._primary.add(6,27);this._primary.add(7,null);this._primary.add(8,43);this._primary.add(9,null);},postCreate:function(){for(var key in this._fieldList){var _33f=this._fieldList[key];dojo.attr(this["node"+_33f+"label"],"for",this["node"+_33f].id);dojo.connect(this["node"+_33f],"onClick",dojo.hitch(this,this._select_primary,_33f));dojo.connect(this["node"+_33f+"button"],"onclick",dojo.hitch(this,this._select_list,_33f));}dojo.connect(this.outlet_type_list,"onchange",this._control_buttons_call);dojo.connect(this.outlet_type_select,"onchange",this._control_buttons_call);dojo.connect(this.outlet_type_list,"ondblclick",dojo.hitch(this,this._outlet_select_dbl));},_control_buttons:function(){this.button_all.set("disabled",this.outlet_type_list.length?false:true);this.button_single.set("disabled",this.outlet_type_list.selectedIndex!=-1?false:true);this.button_del_all.set("disabled",this.outlet_type_select.length?false:true);this.button_del_single.set("disabled",this.outlet_type_select.selectedIndex!=-1?false:true);},clear:function(){this._selected.clear();this.outlet_type_list.options.length=0;this.outlet_type_select.options.length=0;this._get_selector(this._get_data());for(var key in this._fieldList){this["node"+this._fieldList[key]].set("checked",false);}this.inherited(arguments);},_setValueAttr:function(_340){var open=false;this.clear();for(var key in _340.data){open=true;}this._get_selector(this._get_data());if(open){this.MakeOpen();}},_getValueAttr:function(){return this._get_data();},_clear_selection_list:function(size,_341){this.outlet_type_list.options.length=0;},_load_selection:function(_342,_343){for(i=0;i<_342.length;i++){var item=_342[i];this.outlet_type_list.options[this.outlet_type_list.options.length]=new Option(item.name,item.id);}},_select_list:function(_344){this.items.fetch({query:{grouptypeid:this._group_types.item(_344)},onBegin:this._clear_selection_list_call,onComplete:this._load_selection_call});},_select_primary:function(_345){if(this["node"+_345].get("checked")){this.items.fetch({query:{grouptypeid:this._group_types.item(_345)},onBegin:this._clear_selection_list_call,onComplete:this._load_selection_call});var pid=this._primary.item(_345);if(pid!=null&&this._selected.containsKey(pid)==false){var v=this.items._getItemByIdentity(pid);this._select_item(pid,v.name);this._control_buttons();this._get_selector(this._getValueAttr());}}else{this.outlet_type_list.options.length=0;var pid=this._primary.item(_345);if(this._selected.containsKey(pid)){this._selected.remove(pid);for(var c=0;c<this.outlet_type_select.options.length;c++){var _346=this.outlet_type_select.options[c];if(parseInt(_346.value)==pid){this.outlet_type_select.options[c]=null;this._control_buttons();this._get_selector(this._getValueAttr());break;}}}}},_select_item:function(id,name){if(this._selected.containsKey(id)==false){this.outlet_type_select.options[this.outlet_type_select.options.length]=new Option(name,id);this._selected.add(id,name);}},_get_data:function(){var data=this._selected.getKeyList();var obj={data:data,logic:2};if(this._extended){return obj;}else{var data=this._selected.count>0?json.stringify(obj):"";this.value=data;return data;}},_focus:function(){this.node1.focus();},_outlet_type_select_all:function(){var _347=false;for(var c=0;c<this.outlet_type_list.options.length;c++){var _348=this.outlet_type_list.options[c];var _349=parseInt(_348.value);if(this._selected.containsKey(_349)==false){this.outlet_type_select.options[this.outlet_type_select.options.length]=new Option(_348.text,_348.value);this._selected.add(_349,_348.text);}}this.outlet_type_list.options.length=0;this._get_selector(this._getValueAttr());this._control_buttons();},_outlet_type_select_single:function(){var _34a=false;for(var c=0;c<this.outlet_type_list.options.length;c++){var _34b=this.outlet_type_list.options[c];if(_34b.selected){var _34c=parseInt(_34b.value);if(this._selected.containsKey(_34c)==false){this.outlet_type_select.options[this.outlet_type_select.options.length]=new Option(_34b.text,_34b.value);this._selected.add(_34c,_34b.text);this.outlet_type_list.options[c]=null;--c;_34a=true;}}}if(_34a){this._get_selector(this._getValueAttr());}this._control_buttons();},_outlet_type_remove_all:function(){for(var c=0;c<this.outlet_type_select.options.length;c++){var _34d=this.outlet_type_select.options[c];var _34e=parseInt(_34d.value);this._selected.remove(_34e);this.outlet_type_list.options[this.outlet_type_list.options.length]=new Option(_34d.text,_34d.value);}this.outlet_type_select.options.length=0;this._get_selector(this._getValueAttr());this._control_buttons();},_outlet_type_remove_single:function(){var _34f=false;for(var c=0;c<this.outlet_type_select.options.length;c++){var _350=this.outlet_type_select.options[c];if(_350.selected){var _351=parseInt(_350.value);this._selected.remove(_351);_34f=true;this.outlet_type_list.options[this.outlet_type_list.options.length]=new Option(_350.text,_350.value);this.outlet_type_select.options[c]=null;--c;}}if(_34f){this._get_selector(this._getValueAttr());this._control_buttons();}},_outlet_select_dbl:function(){this._outlet_type_select_single();},_capture_extended_content:function(data){return data;},_setValueAttr:function(_352){this.clear();var data=_352.data;var open=false;if(data==null||data==undefined){data=_352;}for(var key in data){var pid=data[key];var v=this.items._getItemByIdentity(pid);this._select_item(pid,v.name);open=true;}this._control_buttons();this._get_selector(this._getValueAttr());if(open){this.make_open();}}});});},"dijit/tree/ForestStoreModel":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","./TreeStoreModel"],function(_353,_354,_355,lang,_356){return _354("dijit.tree.ForestStoreModel",_356,{rootId:"$root$",rootLabel:"ROOT",query:null,constructor:function(_357){this.root={store:this,root:true,id:_357.rootId,label:_357.rootLabel,children:_357.rootChildren};},mayHaveChildren:function(item){return item===this.root||this.inherited(arguments);},getChildren:function(_358,_359,_35a){if(_358===this.root){if(this.root.children){_359(this.root.children);}else{this.store.fetch({query:this.query,onComplete:lang.hitch(this,function(_35b){this.root.children=_35b;_359(_35b);}),onError:_35a});}}else{this.inherited(arguments);}},isItem:function(_35c){return (_35c===this.root)?true:this.inherited(arguments);},fetchItemByIdentity:function(_35d){if(_35d.identity==this.root.id){var _35e=_35d.scope||_355.global;if(_35d.onItem){_35d.onItem.call(_35e,this.root);}}else{this.inherited(arguments);}},getIdentity:function(item){return (item===this.root)?this.root.id:this.inherited(arguments);},getLabel:function(item){return (item===this.root)?this.root.label:this.inherited(arguments);},newItem:function(args,_35f,_360){if(_35f===this.root){this.onNewRootItem(args);return this.store.newItem(args);}else{return this.inherited(arguments);}},onNewRootItem:function(){},pasteItem:function(_361,_362,_363,_364,_365){if(_362===this.root){if(!_364){this.onLeaveRoot(_361);}}this.inherited(arguments,[_361,_362===this.root?null:_362,_363===this.root?null:_363,_364,_365]);if(_363===this.root){this.onAddToRoot(_361);}},onAddToRoot:function(item){},onLeaveRoot:function(item){},_requeryTop:function(){var _366=this.root.children||[];this.store.fetch({query:this.query,onComplete:lang.hitch(this,function(_367){this.root.children=_367;if(_366.length!=_367.length||_353.some(_366,function(item,idx){return _367[idx]!=item;})){this.onChildrenChange(this.root,_367);}})});},onNewItem:function(item,_368){this._requeryTop();this.inherited(arguments);},onDeleteItem:function(item){if(_353.indexOf(this.root.children,item)!=-1){this._requeryTop();}this.inherited(arguments);},onSetItem:function(item,_369,_36a,_36b){this._requeryTop();this.inherited(arguments);}});});},"dojox/form/BusyButton":function(){define(["./_BusyButtonMixin","dijit/form/Button","dojo/_base/declare"],function(_36c,_36d,_36e){var _36f=_36e("dojox.form.BusyButton",[_36d,_36c],{});return _36f;});},"dgrid/editor":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","dojo/_base/Deferred","dojo/on","dojo/aspect","dojo/has","dojo/query","dojo/when","./Grid","put-selector/put","dojo/_base/sniff"],function(_370,lang,_371,_372,on,_373,has,_374,when,Grid,put){function _375(_376,_377){_376.value=_377;if(_376.type=="radio"||_376.type=="checkbox"){_376.checked=_376.defaultChecked=!!_377;}};function _378(_379,_37a){if(typeof _37a=="number"){_379=isNaN(_379)?_379:parseFloat(_379);}else{if(typeof _37a=="boolean"){_379=_379=="true"?true:_379=="false"?false:_379;}else{if(_37a instanceof Date){var _37b=new Date(_379);_379=isNaN(_37b.getTime())?_379:_37b;}}}return _379;};function _37c(_37d,cmp){if(typeof cmp.get=="function"){return _378(cmp.get("value"));}else{return _378(cmp[cmp.type=="checkbox"||cmp.type=="radio"?"checked":"value"]);}};function _37e(grid,cell,_37f,_380,_381){var _382,row,_383,_384;if((_37f&&_37f.valueOf())!=(_380&&_380.valueOf())){_382=cell.element;row=cell.row;_383=cell.column;if(_383.field&&row){_384={grid:grid,cell:cell,rowId:row.id,oldValue:_37f,value:_380,bubbles:true,cancelable:true};if(_381&&_381.type){_384.parentType=_381.type;}if(on.emit(_382,"dgrid-datachange",_384)){if(grid.updateDirty){grid.updateDirty(row.id,_383.field,_380);_383.autoSave&&setTimeout(function(){grid._trackError("save");},0);}else{row.data[_383.field]=_380;}}else{var cmp;if((cmp=_382.widget)){cmp._dgridIgnoreChange=true;cmp.set("value",_37f);setTimeout(function(){cmp._dgridIgnoreChange=false;},0);}else{if((cmp=_382.input)){_375(cmp,_37f);}}return _37f;}}}return _380;};function _385(grid,cmp,_386){var cell=grid.cell(cmp.domNode||cmp),_387=cell.column,_388,id,_389,_38a=grid._activeCell;if(!cmp.isValid||cmp.isValid()){_388=_37e(grid,cell,_38a?grid._activeValue:cmp._dgridLastValue,_37c(_387,cmp),_386);if(_38a){grid._activeValue=_388;}else{cmp._dgridLastValue=_388;}if(cmp.type==="radio"&&cmp.name&&!_387.editOn&&_387.field){_389=grid.row(cmp);_374("input[type=radio][name="+cmp.name+"]",grid.contentNode).forEach(function(_38b){var row=grid.row(_38b);if(_38b!==cmp&&_38b._dgridLastValue){_38b._dgridLastValue=false;if(grid.updateDirty){grid.updateDirty(row.id,_387.field,false);}else{row.data[_387.field]=false;}}});for(id in grid.dirty){if(_389.id!==id&&grid.dirty[id][_387.field]){grid.updateDirty(id,_387.field,false);}}}}};function _38c(_38d){var _38e=_38d.editor,_38f=_38d.editOn,grid=_38d.grid,_390=typeof _38e!="string",args,cmp,node,_391,_392;args=_38d.editorArgs||{};if(typeof args=="function"){args=args.call(grid,_38d);}if(_390){cmp=new _38e(args);node=cmp.focusNode||cmp.domNode;node.className+=" dgrid-input";cmp.connect(cmp,_38f?"onBlur":"onChange",function(){if(!cmp._dgridIgnoreChange){_385(grid,this,{type:"widget"});}});}else{_392=function(evt){var _393=evt.target;if("_dgridLastValue" in _393&&_393.className.indexOf("dgrid-input")>-1){_385(grid,_393,evt);}};if(!_38d.grid._hasInputListener){grid._hasInputListener=true;grid.on("change",function(evt){_392(evt);});}_391=_38e=="textarea"?"textarea":"input[type="+_38e+"]";cmp=node=put(_391+".dgrid-input",lang.mixin({name:_38d.field,tabIndex:isNaN(_38d.tabIndex)?-1:_38d.tabIndex},args));if(has("ie")<9||(has("ie")&&has("quirks"))){if(_38e=="radio"||_38e=="checkbox"){on(cmp,"click",function(evt){_392(evt);});}else{on(cmp,"change",function(evt){_392(evt);});}}}return cmp;};function _394(_395,_396){var cmp=_38c(_395),grid=_395.grid,_397=cmp.domNode,node=cmp.domNode||cmp,_398=cmp.focusNode||node,_399=_397?function(){cmp.set("value",cmp._dgridLastValue);}:function(){_375(cmp,cmp._dgridLastValue);_385(_395.grid,cmp);},_39a;function blur(){var _39b=grid._activeCell;_398.blur();if(typeof grid.focus==="function"){setTimeout(function(){grid.focus(_39b);},_397&&has("ie")<9?15:0);}};function _39c(){var _39d=node.parentNode,i=_39d.children.length-1,_39e={alreadyHooked:true},cell=grid.cell(node);on.emit(cell.element,"dgrid-editor-hide",{grid:grid,cell:cell,column:_395,editor:cmp,bubbles:true,cancelable:false});_395._editorBlurHandle.pause();_39d.removeChild(node);if(cell.row){put(cell.element,"!dgrid-cell-editing");while(i--){put(_39d.firstChild,"!");}Grid.appendIfNode(_39d,_395.renderCell(_395.grid.row(_39d).data,grid._activeValue,_39d,grid._activeOptions?lang.delegate(_39e,grid._activeOptions):_39e));}grid._focusedEditorCell=grid._activeCell=grid._activeValue=grid._activeOptions=null;};function _39f(evt){var key=evt.keyCode||evt.which;if(key==27){_399();grid._activeValue=cmp._dgridLastValue;blur();}else{if(key==13&&_395.dismissOnEnter!==false){blur();}}};_39a=on(_398,"keydown",_39f);(_395._editorBlurHandle=on.pausable(cmp,"blur",_39c)).pause();return cmp;};function _3a0(cmp,_3a1,_3a2,_3a3){var _3a4=cmp.domNode;if(!_3a4){_375(cmp,_3a3);}_3a2.innerHTML="";put(_3a2,".dgrid-cell-editing");put(_3a2,cmp.domNode||cmp);if(_3a4&&!_3a1.editOn){_3a1.grid._editorsPendingStartup.push([cmp,_3a1,_3a2,_3a3]);}else{_3a5(cmp,_3a1,_3a2,_3a3);}};function _3a5(cmp,_3a6,_3a7,_3a8){var grid=_3a6.grid;if(cmp.domNode){if(!cmp._started){cmp.startup();}cmp._dgridIgnoreChange=true;cmp.set("value",_3a8);setTimeout(function(){cmp._dgridIgnoreChange=false;},0);}cmp._dgridLastValue=_3a8;if(grid._activeCell){grid._activeValue=_3a8;on.emit(_3a7,"dgrid-editor-show",{grid:grid,cell:grid.cell(_3a7),column:_3a6,editor:cmp,bubbles:true,cancelable:false});}};function _3a9(grid){var args=grid._editorsPendingStartup;for(var i=args.length;i--;){_3a5.apply(null,args[i]);}grid._editorsPendingStartup=[];};function edit(cell){var row,_3aa,_3ab,_3ac,_3ad,_3ae,cmp,dfd,node,self=this;function show(dfd){_3aa.grid._activeCell=_3ab;_3a0(_3aa.editorInstance,_3aa,_3ab,_3ae);_3aa._editTimer=setTimeout(function(){if(cmp.focus){cmp.focus();}if(_3aa._editorBlurHandle){_3aa._editorBlurHandle.resume();}_3aa._editTimer=null;dfd.resolve(cmp);},0);};if(!cell.column){cell=this.cell(cell);}if(!cell||!cell.element){return null;}_3aa=cell.column;_3ad=_3aa.field;_3ab=cell.element.contents||cell.element;if((cmp=_3aa.editorInstance)){if(_3aa.grid._activeCell!=_3ab){row=cell.row;_3ac=this.dirty&&this.dirty[row.id];_3ae=(_3ac&&_3ad in _3ac)?_3ac[_3ad]:_3aa.get?_3aa.get(row.data):row.data[_3ad];if(!_3aa.canEdit||_3aa.canEdit(cell.row.data,_3ae)){dfd=new _372();node=cmp.domNode||cmp;if(node.offsetWidth){node.blur();setTimeout(function(){show(dfd);},0);}else{show(dfd);}return dfd.promise;}}}else{if(_3aa.editor){cmp=_3ab.widget||_3ab.input;if(cmp){dfd=new _372();if(cmp.focus){cmp.focus();}dfd.resolve(cmp);return dfd.promise;}}}return null;};return function(_3af,_3b0,_3b1){var _3b2=_3af.renderCell||Grid.defaultRenderCell,_3b3=[],_3b4;function _3b5(_3b6){var grid=_3b6.grid,_3b7,_3b8;if(!grid.edit){grid.edit=edit;grid._editorsPendingStartup=[];_3b3.push(on(grid.domNode,".dgrid-input:focusin",function(){grid._focusedEditorCell=grid.cell(this);}));_3b7=grid._editorFocusoutHandle=on.pausable(grid.domNode,".dgrid-input:focusout",function(){grid._focusedEditorCell=null;});_3b3.push(_3b7);_3b3.push(_373.before(grid,"removeRow",function(row){var _3b9=grid._focusedEditorCell;row=grid.row(row);if(_3b9&&_3b9.row.id===row.id){_3b8=_3b9;_3b7.pause();setTimeout(function(){_3b7.resume();_3b8=null;},0);}}));_3b3.push(_373.after(grid,"insertRow",function(_3ba){var row=grid.row(_3ba);if(_3b8&&_3b8.row.id===row.id){grid.edit(grid.cell(row,_3b8.column.id));}return _3ba;}));_3b3.push(_373.after(grid,"renderArray",function(rows){when(rows,function(_3bb){if(_3bb.length){_3a9(grid);}else{grid._editorsPendingStartup=[];}});return rows;}));_3b3.push(_373.after(grid,"_onNotification",function(){_3a9(grid);}));}};if(!_3af){_3af={};}_3af.editor=_3b0=_3b0||_3af.editor||"text";_3af.editOn=_3b1=_3b1||_3af.editOn;_3b4=typeof _3b0!="string";if(_3af.widgetArgs){_370.deprecated("column.widgetArgs","use column.editorArgs instead","dgrid 0.4");_3af.editorArgs=_3af.widgetArgs;}_373.after(_3af,"init",_3b1?function(){_3b5(_3af);_3af.editorInstance=_394(_3af,_3b2);}:function(){var grid=_3af.grid;_3b5(_3af);if(_3b4){_3b3.push(_373.before(grid,"removeRow",function(_3bc){var _3bd=grid.cell(_3bc,_3af.id).element,_3be=_3bd&&(_3bd.contents||_3bd).widget;if(_3be){grid._editorFocusoutHandle.pause();_3be.destroyRecursive();}}));}});_373.after(_3af,"destroy",function(){_371.forEach(_3b3,function(l){l.remove();});if(_3af._editorBlurHandle){_3af._editorBlurHandle.remove();}if(_3af._editTimer){clearTimeout(_3af._editTimer);}if(_3b1&&_3b4){_3af.editorInstance.destroyRecursive();}_3af.grid.edit=null;_3af.grid._editorsPendingStartup=null;});_3af.renderCell=_3b1?function(_3bf,_3c0,cell,_3c1){var grid=_3af.grid;if(!_3c1||!_3c1.alreadyHooked){on(cell.tagName=="TD"?cell:cell.parentNode,_3b1,function(){grid._activeOptions=_3c1;grid.edit(this);});}return _3b2.call(_3af,_3bf,_3c0,cell,_3c1);}:function(_3c2,_3c3,cell,_3c4){if(!_3af.canEdit||_3af.canEdit(_3c2,_3c3)){var cmp=_38c(_3af);_3a0(cmp,_3af,cell,_3c3);cell[_3b4?"widget":"input"]=cmp;}else{return _3b2.call(_3af,_3c2,_3c3,cell,_3c4);}};return _3af;};});},"dijit/Menu":function(){define(["require","dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","dojo/_base/window","dojo/window","./popup","./DropDownMenu","dojo/ready"],function(_3c5,_3c6,_3c7,dom,_3c8,_3c9,_3ca,keys,lang,on,has,win,_3cb,pm,_3cc,_3cd){if(has("dijit-legacy-requires")){_3cd(0,function(){var _3ce=["dijit/MenuItem","dijit/PopupMenuItem","dijit/CheckedMenuItem","dijit/MenuSeparator"];_3c5(_3ce);});}return _3c7("dijit.Menu",_3cc,{constructor:function(){this._bindings=[];},targetNodeIds:[],selector:"",contextMenuForWindow:false,leftClickToOpen:false,refocus:true,postCreate:function(){if(this.contextMenuForWindow){this.bindDomNode(this.ownerDocumentBody);}else{_3c6.forEach(this.targetNodeIds,this.bindDomNode,this);}this.inherited(arguments);},_iframeContentWindow:function(_3cf){return _3cb.get(this._iframeContentDocument(_3cf))||this._iframeContentDocument(_3cf)["__parent__"]||(_3cf.name&&document.frames[_3cf.name])||null;},_iframeContentDocument:function(_3d0){return _3d0.contentDocument||(_3d0.contentWindow&&_3d0.contentWindow.document)||(_3d0.name&&document.frames[_3d0.name]&&document.frames[_3d0.name].document)||null;},bindDomNode:function(node){node=dom.byId(node,this.ownerDocument);var cn;if(node.tagName.toLowerCase()=="iframe"){var _3d1=node,_3d2=this._iframeContentWindow(_3d1);cn=win.body(_3d2.document);}else{cn=(node==win.body(this.ownerDocument)?this.ownerDocument.documentElement:node);}var _3d3={node:node,iframe:_3d1};_3c8.set(node,"_dijitMenu"+this.id,this._bindings.push(_3d3));var _3d4=lang.hitch(this,function(cn){var _3d5=this.selector,_3d6=_3d5?function(_3d7){return on.selector(_3d5,_3d7);}:function(_3d8){return _3d8;},self=this;return [on(cn,_3d6(this.leftClickToOpen?"click":"contextmenu"),function(evt){evt.stopPropagation();evt.preventDefault();if((new Date()).getTime()<self._lastKeyDown+500){return;}self._scheduleOpen(this,_3d1,{x:evt.pageX,y:evt.pageY},evt.target);}),on(cn,_3d6("keydown"),function(evt){if(evt.keyCode==93||(evt.shiftKey&&evt.keyCode==keys.F10)||(self.leftClickToOpen&&evt.keyCode==keys.SPACE)){evt.stopPropagation();evt.preventDefault();self._scheduleOpen(this,_3d1,null,evt.target);self._lastKeyDown=(new Date()).getTime();}})];});_3d3.connects=cn?_3d4(cn):[];if(_3d1){_3d3.onloadHandler=lang.hitch(this,function(){var _3d9=this._iframeContentWindow(_3d1),cn=win.body(_3d9.document);_3d3.connects=_3d4(cn);});if(_3d1.addEventListener){_3d1.addEventListener("load",_3d3.onloadHandler,false);}else{_3d1.attachEvent("onload",_3d3.onloadHandler);}}},unBindDomNode:function(_3da){var node;try{node=dom.byId(_3da,this.ownerDocument);}catch(e){return;}var _3db="_dijitMenu"+this.id;if(node&&_3c8.has(node,_3db)){var bid=_3c8.get(node,_3db)-1,b=this._bindings[bid],h;while((h=b.connects.pop())){h.remove();}var _3dc=b.iframe;if(_3dc){if(_3dc.removeEventListener){_3dc.removeEventListener("load",b.onloadHandler,false);}else{_3dc.detachEvent("onload",b.onloadHandler);}}_3c8.remove(node,_3db);delete this._bindings[bid];}},_scheduleOpen:function(_3dd,_3de,_3df,_3e0){if(!this._openTimer){this._openTimer=this.defer(function(){delete this._openTimer;this._openMyself({target:_3e0,delegatedTarget:_3dd,iframe:_3de,coords:_3df});},1);}},_openMyself:function(args){var _3e1=args.target,_3e2=args.iframe,_3e3=args.coords,_3e4=!_3e3;this.currentTarget=args.delegatedTarget;if(_3e3){if(_3e2){var ifc=_3c9.position(_3e2,true),_3e5=this._iframeContentWindow(_3e2),_3e6=_3c9.docScroll(_3e5.document);var cs=_3ca.getComputedStyle(_3e2),tp=_3ca.toPixelValue,left=(has("ie")&&has("quirks")?0:tp(_3e2,cs.paddingLeft))+(has("ie")&&has("quirks")?tp(_3e2,cs.borderLeftWidth):0),top=(has("ie")&&has("quirks")?0:tp(_3e2,cs.paddingTop))+(has("ie")&&has("quirks")?tp(_3e2,cs.borderTopWidth):0);_3e3.x+=ifc.x+left-_3e6.x;_3e3.y+=ifc.y+top-_3e6.y;}}else{_3e3=_3c9.position(_3e1,true);_3e3.x+=10;_3e3.y+=10;}var self=this;var _3e7=this._focusManager.get("prevNode");var _3e8=this._focusManager.get("curNode");var _3e9=!_3e8||(dom.isDescendant(_3e8,this.domNode))?_3e7:_3e8;function _3ea(){if(self.refocus&&_3e9){_3e9.focus();}pm.close(self);};pm.open({popup:this,x:_3e3.x,y:_3e3.y,onExecute:_3ea,onCancel:_3ea,orient:this.isLeftToRight()?"L":"R"});this.focus();if(!_3e4){this.defer(function(){this._cleanUp(true);});}this._onBlur=function(){this.inherited("_onBlur",arguments);pm.close(this);};},destroy:function(){_3c6.forEach(this._bindings,function(b){if(b){this.unBindDomNode(b.node);}},this);this.inherited(arguments);}});});},"research/feedback/Completed":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../feedback/templates/Completed.html","dojo/request","ttl/utilities2","dojo/json","dojo/data/ItemFileReadStore","dojo/_base/lang","dojo/topic","dijit/layout/ContentPane","dijit/Toolbar","dijit/form/DropDownButton","dijit/TooltipDialog","dijit/form/TextBox","dijit/form/Button","dijit/form/ValidationTextBox","dijit/form/Form","dojox/form/BusyButton"],function(_3eb,_3ec,_3ed,_3ee,_3ef,json,_3f0,lang,_3f1){return _3eb("research.feedback.Completed",[_3ec],{templateString:_3ed,constructor:function(){this._completed_call_back=lang.hitch(this,this._completed_call);},postCreate:function(){this.reasoncodes.set("store",PRCOMMON.utils.stores.Research_Reason_Add_Email());this.inherited(arguments);},_complete_submit:function(){if(_3ef.form_validator(this.form)==false){alert("Not all required fields filled in");throw "N";}if(confirm("Complete Email?")){_3ee.post("/research/admin/bemails/completed",_3ef.make_params({data:this.form.get("value")})).then(this._completed_call_back);}},_completed_call:function(_3f2){if(_3f2.success=="OK"){alert("Completed");this.clear();_3f1.publish(PRCOMMON.Events.BouncedEmail_Completed,this.bounceddistributionid.get("value"));}else{alert("Problem Completing Bounnced Email");}},clear:function(){this.bounceddistributionid.set("value",-1);this.reasoncodes.set("value",null);this.reason.set("value","");this.has_been_research.set("value",false);},load:function(_3f3){this.bounceddistributionid.set("value",_3f3);this.reasoncodes.set("value",null);this.has_been_research.set("value",false);this.reason.focus();},focus:function(){this.reason.focus();}});});},"dijit/_base/window":function(){define(["dojo/window","../main"],function(_3f4,_3f5){_3f5.getDocumentWindow=function(doc){return _3f4.get(doc);};});},"dojo/store/Observable":function(){define(["../_base/kernel","../_base/lang","../when","../_base/array"],function(_3f6,lang,when,_3f7){var _3f8=function(_3f9){var _3fa,_3fb=[],_3fc=0;_3f9=lang.delegate(_3f9);_3f9.notify=function(_3fd,_3fe){_3fc++;var _3ff=_3fb.slice();for(var i=0,l=_3ff.length;i<l;i++){_3ff[i](_3fd,_3fe);}};var _400=_3f9.query;_3f9.query=function(_401,_402){_402=_402||{};var _403=_400.apply(this,arguments);if(_403&&_403.forEach){var _404=lang.mixin({},_402);delete _404.start;delete _404.count;var _405=_3f9.queryEngine&&_3f9.queryEngine(_401,_404);var _406=_3fc;var _407=[],_408;_403.observe=function(_409,_40a){if(_407.push(_409)==1){_3fb.push(_408=function(_40b,_40c){when(_403,function(_40d){var _40e=_40d.length!=_402.count;var i,l,_409;if(++_406!=_3fc){throw new Error("Query is out of date, you must observe() the query prior to any data modifications");}var _40f,_410=-1,_411=-1;if(_40c!==_3fa){var _412=[].concat(_40d);if(_405&&!_40b){_412=_405(_40d);}for(i=0,l=_40d.length;i<l;i++){var _413=_40d[i];if(_3f9.getIdentity(_413)==_40c){if(_412.indexOf(_413)<0){continue;}_40f=_413;_410=i;if(_405||!_40b){_40d.splice(i,1);}break;}}}if(_405){if(_40b&&(_405.matches?_405.matches(_40b):_405([_40b]).length)){var _414=_410>-1?_410:_40d.length;_40d.splice(_414,0,_40b);_411=_3f7.indexOf(_405(_40d),_40b);_40d.splice(_414,1);if((_402.start&&_411==0)||(!_40e&&_411==_40d.length)){_411=-1;}else{_40d.splice(_411,0,_40b);}}}else{if(_40b){if(_40c!==_3fa){_411=_410;}else{if(!_402.start){_411=_3f9.defaultIndex||0;_40d.splice(_411,0,_40b);}}}}if((_410>-1||_411>-1)&&(_40a||!_405||(_410!=_411))){var _415=_407.slice();for(i=0;_409=_415[i];i++){_409(_40b||_40f,_410,_411);}}});});}var _416={};_416.remove=_416.cancel=function(){var _417=_3f7.indexOf(_407,_409);if(_417>-1){_407.splice(_417,1);if(!_407.length){_3fb.splice(_3f7.indexOf(_3fb,_408),1);}}};return _416;};}return _403;};var _418;function _419(_41a,_41b){var _41c=_3f9[_41a];if(_41c){_3f9[_41a]=function(_41d){var _41e;if(_41a==="put"){_41e=_3f9.getIdentity(_41d);}if(_418){return _41c.apply(this,arguments);}_418=true;try{var _41f=_41c.apply(this,arguments);when(_41f,function(_420){_41b((typeof _420=="object"&&_420)||_41d,_41e);});return _41f;}finally{_418=false;}};}};_419("put",function(_421,_422){_3f9.notify(_421,_422);});_419("add",function(_423){_3f9.notify(_423);});_419("remove",function(id){_3f9.notify(undefined,id);});return _3f9;};lang.setObject("dojo.store.Observable",_3f8);return _3f8;});},"dijit/form/MappedTextBox":function(){define(["dojo/_base/declare","dojo/sniff","dojo/dom-construct","./ValidationTextBox"],function(_424,has,_425,_426){return _424("dijit.form.MappedTextBox",_426,{postMixInProperties:function(){this.inherited(arguments);this.nameAttrSetting="";},_setNameAttr:"valueNode",serialize:function(val){return val.toString?val.toString():"";},toString:function(){var val=this.filter(this.get("value"));return val!=null?(typeof val=="string"?val:this.serialize(val,this.constraints)):"";},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);this.valueNode=_425.place("<input type='hidden'"+((this.name&&!has("msapp"))?" name=\""+this.name.replace(/"/g,"&quot;")+"\"":"")+"/>",this.textbox,"after");},reset:function(){this.valueNode.value="";this.inherited(arguments);}});});},"dojo/dnd/Moveable":function(){define(["../_base/array","../_base/declare","../_base/lang","../dom","../dom-class","../Evented","../on","../topic","../touch","./common","./Mover","../_base/window"],function(_427,_428,lang,dom,_429,_42a,on,_42b,_42c,dnd,_42d,win){var _42e=_428("dojo.dnd.Moveable",[_42a],{handle:"",delay:0,skip:false,constructor:function(node,_42f){this.node=dom.byId(node);if(!_42f){_42f={};}this.handle=_42f.handle?dom.byId(_42f.handle):null;if(!this.handle){this.handle=this.node;}this.delay=_42f.delay>0?_42f.delay:0;this.skip=_42f.skip;this.mover=_42f.mover?_42f.mover:_42d;this.events=[on(this.handle,_42c.press,lang.hitch(this,"onMouseDown")),on(this.handle,"dragstart",lang.hitch(this,"onSelectStart")),on(this.handle,"selectstart",lang.hitch(this,"onSelectStart"))];},markupFactory:function(_430,node,Ctor){return new Ctor(node,_430);},destroy:function(){_427.forEach(this.events,function(_431){_431.remove();});this.events=this.node=this.handle=null;},onMouseDown:function(e){if(this.skip&&dnd.isFormElement(e)){return;}if(this.delay){this.events.push(on(this.handle,_42c.move,lang.hitch(this,"onMouseMove")),on(this.handle.ownerDocument,_42c.release,lang.hitch(this,"onMouseUp")));this._lastX=e.pageX;this._lastY=e.pageY;}else{this.onDragDetected(e);}e.stopPropagation();e.preventDefault();},onMouseMove:function(e){if(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay){this.onMouseUp(e);this.onDragDetected(e);}e.stopPropagation();e.preventDefault();},onMouseUp:function(e){for(var i=0;i<2;++i){this.events.pop().remove();}e.stopPropagation();e.preventDefault();},onSelectStart:function(e){if(!this.skip||!dnd.isFormElement(e)){e.stopPropagation();e.preventDefault();}},onDragDetected:function(e){new this.mover(this.node,e,this);},onMoveStart:function(_432){_42b.publish("/dnd/move/start",_432);_429.add(win.body(),"dojoMove");_429.add(this.node,"dojoMoveItem");},onMoveStop:function(_433){_42b.publish("/dnd/move/stop",_433);_429.remove(win.body(),"dojoMove");_429.remove(this.node,"dojoMoveItem");},onFirstMove:function(){},onMove:function(_434,_435){this.onMoving(_434,_435);var s=_434.node.style;s.left=_435.l+"px";s.top=_435.t+"px";this.onMoved(_434,_435);},onMoving:function(){},onMoved:function(){}});return _42e;});},"dojo/store/util/QueryResults":function(){define(["../../_base/array","../../_base/lang","../../when"],function(_436,lang,when){var _437=function(_438){if(!_438){return _438;}var _439=!!_438.then;if(_439){_438=lang.delegate(_438);}function _43a(_43b){_438[_43b]=function(){var args=arguments;var _43c=when(_438,function(_43d){Array.prototype.unshift.call(args,_43d);return _437(_436[_43b].apply(_436,args));});if(_43b!=="forEach"||_439){return _43c;}};};_43a("forEach");_43a("filter");_43a("map");if(_438.total==null){_438.total=when(_438,function(_43e){return _43e.length;});}return _438;};lang.setObject("dojo.store.util.QueryResults",_437);return _437;});},"dijit/form/CheckBox":function(){define(["require","dojo/_base/declare","dojo/dom-attr","dojo/has","dojo/query","dojo/ready","./ToggleButton","./_CheckBoxMixin","dojo/text!./templates/CheckBox.html","dojo/NodeList-dom","../a11yclick"],function(_43f,_440,_441,has,_442,_443,_444,_445,_446){if(has("dijit-legacy-requires")){_443(0,function(){var _447=["dijit/form/RadioButton"];_43f(_447);});}return _440("dijit.form.CheckBox",[_444,_445],{templateString:_446,baseClass:"dijitCheckBox",_setValueAttr:function(_448,_449){if(typeof _448=="string"){this.inherited(arguments);_448=true;}if(this._created){this.set("checked",_448,_449);}},_getValueAttr:function(){return this.checked&&this._get("value");},_setIconClassAttr:null,_setNameAttr:"focusNode",postMixInProperties:function(){this.inherited(arguments);this.checkedAttrSetting="";},_fillContent:function(){},_onFocus:function(){if(this.id){_442("label[for='"+this.id+"']").addClass("dijitFocusedLabel");}this.inherited(arguments);},_onBlur:function(){if(this.id){_442("label[for='"+this.id+"']").removeClass("dijitFocusedLabel");}this.inherited(arguments);}});});},"dijit/form/Textarea":function(){define(["dojo/_base/declare","dojo/dom-style","./_ExpandingTextAreaMixin","./SimpleTextarea"],function(_44a,_44b,_44c,_44d){return _44a("dijit.form.Textarea",[_44d,_44c],{baseClass:"dijitTextBox dijitTextArea dijitExpandingTextArea",cols:"",buildRendering:function(){this.inherited(arguments);_44b.set(this.textbox,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"});}});});},"dijit/form/DropDownButton":function(){define(["dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/query","../registry","../popup","./Button","../_Container","../_HasDropDown","dojo/text!./templates/DropDownButton.html","../a11yclick"],function(_44e,_44f,lang,_450,_451,_452,_453,_454,_455,_456){return _44e("dijit.form.DropDownButton",[_453,_454,_455],{baseClass:"dijitDropDownButton",templateString:_456,_fillContent:function(){var _457=this.srcNodeRef;var dest=this.containerNode;if(_457&&dest){while(_457.hasChildNodes()){var _458=_457.firstChild;if(_458.hasAttribute&&(_458.hasAttribute("data-dojo-type")||_458.hasAttribute("dojoType")||_458.hasAttribute("data-"+_44f._scopeName+"-type")||_458.hasAttribute(_44f._scopeName+"Type"))){this.dropDownContainer=this.ownerDocument.createElement("div");this.dropDownContainer.appendChild(_458);}else{dest.appendChild(_458);}}}},startup:function(){if(this._started){return;}if(!this.dropDown&&this.dropDownContainer){this.dropDown=_451.byNode(this.dropDownContainer.firstChild);delete this.dropDownContainer;}if(this.dropDown){_452.hide(this.dropDown);}this.inherited(arguments);},isLoaded:function(){var _459=this.dropDown;return (!!_459&&(!_459.href||_459.isLoaded));},loadDropDown:function(_45a){var _45b=this.dropDown;var _45c=_45b.on("load",lang.hitch(this,function(){_45c.remove();_45a();}));_45b.refresh();},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown;}});});},"dijit/_base/scroll":function(){define(["dojo/window","../main"],function(_45d,_45e){_45e.scrollIntoView=function(node,pos){_45d.scrollIntoView(node,pos);};});},"research/questionnaires/Coding":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../questionnaires/templates/Coding.html","dijit/layout/BorderContainer","dijit/layout/ContentPane","dojo/topic","dojo/_base/lang","ttl/utilities2","dojo/request","dojox/data/JsonRestStore","dojo/data/ItemFileReadStore","dojo/dom-attr","dojo/dom-construct","dojo/dom","dojo/on","dojo/_base/array","dijit/form/Button","dijit/form/TextBox","dijit/layout/ContentPane","dijit/form/Form","dijit/form/FilteringSelect","dijit/form/Button","dojox/form/BusyButton","dijit/Dialog","dijit/form/Textarea","prcommon2/outlet/OutletSelect","prcommon2/outlet/SelectMultipleOutlets"],function(_45f,_460,_461,_462,_463,_464,lang,_465,_466,_467,_468,_469,_46a,dom,on,_46b,_46c,_46d){return _45f("research.questionnaires.Coding",[_460,_462],{templateString:_461,constructor:function(){this._update_call_back=lang.hitch(this,this._update_call);this._error_call_back=lang.hitch(this,this._error_call);},postCreate:function(){this.prmax_outlettypeid.set("store",PRCOMMON.utils.stores.OutletTypes());this.reasoncodeid.set("store",PRCOMMON.utils.stores.Research_Reason_Add_Codes());this.reasoncodeid.set("value",PRCOMMON.utils.stores.Reason_Add_Default);this.seriesparentid.set("parentbtnvalue",false);this.inherited(arguments);},_reset_fields:function(){},load:function(_46e,_46f,_470){_469.set(this.seriesfeedback,"innerHTML","");this.seriesparentid.set("parentbtnvalue",false);this._reset_fields();this.prmax_outlettypeid.set("value",_46f.outlet.prmax_outlettypeid);this.interests.set("value",_46f.interests);if(_46f.serieschildren.length>0){_46a.destroy("serieschildren_table");if(dom.byId("serieschildren_td")){_46a.destroy("serieschildren_td");}_46a.create("td",{"align":"right","class":"prmaxrowtag","valign":"top","style":{"padding-top":"10px"},"id":"serieschildren_td",innerHTML:"Series Children"},"serieschildren_tr","first");td2=_46a.create("td",{},"serieschildren_tr","last");div=_46a.create("div",{"id":"serieschildren_div"},td2);_46a.create("table",{"id":"serieschildren_table"},"serieschildren_div","first");_46b.forEach(_46f.serieschildren,function(_471,i){var tr=_46a.create("tr",{},"serieschildren_table"),td=_46a.create("td",{},tr),_472=_46a.create(new _46d({value:_471.outletname,"readonly":"readonly"}).placeAt(td,"first"));});}else{_46a.destroy("serieschildren_table");_46a.destroy("serieschildren_td");}if(_46f.profile.profile){this.seriesparentid.set("parentbtnvalue",false);this.seriesparentid.set("value",_46f.profile.profile.seriesparentid);this.supplementofid.set("value",_46f.profile.profile.supplementofid);this.seriesparentid.set("displayvalue",_46f.profile.seriesparentname);this.supplementofid.set("displayvalue",_46f.profile.supplementofname);}else{this.seriesparentid.set("value",null);this.supplementofid.set("value",null);this.seriesparentid.set("displayvalue","");this.supplementofid.set("displayvalue","");}for(var key in _470){var _473=_470[key];switch(_473.fieldid){case 45:this.seriesparentid_modified.load(_473.value,_46f.profile.profile.seriesparentid,this.seriesparentid);break;case 47:this.supplementofid_modified.load(_473.value,_46f.profile.profile.supplementofid,this.supplementofid);break;case 52:this.supplements_modified.load(_473.value,_46f.supplements,this.supplements);break;case 53:this.editions_modified.load(_473.value,_46f.editions,this.editions);break;case 64:_469.set(this.seriesfeedback,"innerHTML",_473.value);break;}}this.researchprojectitemid.set("value",_46e.researchprojectitemid);this.savenode.cancel();},clear:function(){this.outletid.set("value",-1);_469.set(this.seriesfeedback,"innerHTML","");this.savenode.cancel();},_update_coding:function(){if(_465.form_validator(this.form)==false){alert("Not all required field filled in");this.savenode.cancel();throw "N";}var _474=this.form.get("value");_474["reasoncodeid"]=this.reasoncodeid.get("value");_466.post("/research/admin/projects/user_feed_coding",_465.make_params({data:_474})).then(this._update_call_back,this._error_call_back);},_update_call:function(_475){if(_475.success=="OK"){alert("Coding Updated");}else{alert("Problem");}this.savenode.cancel();},_error_call:function(){this.savenode.cancel();}});});},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(_476,_477){return _476("dijit._Contained",null,{_getSibling:function(_478){var p=this.getParent();return (p&&p._getSiblingOfChild&&p._getSiblingOfChild(this,_478=="previous"?-1:1))||null;},getPreviousSibling:function(){return this._getSibling("previous");},getNextSibling:function(){return this._getSibling("next");},getIndexInParent:function(){var p=this.getParent();if(!p||!p.getIndexOfChild){return -1;}return p.getIndexOfChild(this);}});});},"research/audit/AuditDelete":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../audit/templates/AuditDelete.html","dijit/layout/BorderContainer","ttl/grid/Grid","ttl/store/JsonRest","dojo/store/Observable","dojo/request","ttl/utilities2","dojo/json","dojo/data/ItemFileReadStore","dojo/_base/lang","dojo/topic","dijit/layout/ContentPane","dijit/Toolbar","dijit/form/DropDownButton","dijit/TooltipDialog","dijit/form/TextBox","dijit/form/Button","dijit/form/ValidationTextBox","dijit/form/Form","dojox/form/BusyButton"],function(_479,_47a,_47b,_47c,Grid,_47d,_47e,_47f,_480,json,_481,lang,_482){return _479("research.audit.AuditDelete",[_47a,_47c],{templateString:_47b,objecttypeid:1,constructor:function(){this._activities=new _47d({target:"/research/admin/audit_delete_trail_list",labelAttribute:"name",idProperty:"activityid"});},postCreate:function(){var _483=[{label:"Date",className:"standard",field:"activitydate"},{label:"Outlet Name",className:"standard",field:"name"},{label:"Action",width:"60px",field:"actiontypedescription"},{label:"Reason",className:"standard",field:"reasoncodedescription"},{label:"Reason Details",className:"standard",field:"reason"}];this.result_grid=new Grid({columns:_483,selectionMode:"none",store:new _47d({target:"/research/admin/audit_delete_trail",idProperty:"activityid"}),query:{objecttypeid:this.objecttypeid}});this.result_grid_view.set("content",this.result_grid);this.filterdate.set("value",new Date());this.filteroutlet.set("value","");this.inherited(arguments);},load:function(_484){this.clear();this._objectid=_484;},clear:function(){this.result_grid.set("query",{});},_clear_filter:function(){this.filterdate.set("value",Date.now());this.filteroutlet.set("value","");},_execute:function(){var _485={};_485["objecttypeid"]=this.objecttypeid;if(arguments[0].filterdate!=null){_485["filterdate"]=arguments[0].filterdate.getFullYear()+"-"+(arguments[0].filterdate.getMonth()+1)+"-"+arguments[0].filterdate.getDate();}if(arguments[0].filteroutlet!=""){_485["filteroutlet"]=arguments[0].filteroutlet;}this.result_grid.set("query",_485);},});});},"research/outlets/OutletNew":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../outlets/templates/OutletNew.html","dijit/layout/BorderContainer","ttl/grid/Grid","dojox/data/JsonRestStore","ttl/store/JsonRest","dojo/store/Observable","dojo/request","ttl/utilities2","dojo/json","dojo/data/ItemFileReadStore","dojo/_base/lang","dojo/topic","dijit/layout/ContentPane","dijit/form/Form","dijit/form/TextBox","dijit/form/ValidationTextBox","dijit/form/FilteringSelect","research/employees/EmployeeSelect","dojox/validate","prcommon2/interests/Interests","prcommon2/geographical/Geographical","dijit/form/Textarea","dojox/form/BusyButton","dijit/form/NumberTextBox"],function(_486,_487,_488,_489,Grid,_48a,_48b,_48c,_48d,_48e,json,_48f,lang,_490){return _486("research.outlets.OutletNew",[_487,_489],{templateString:_488,constructor:function(){this._updated_call_back=dojo.hitch(this,this._updated_call);this._deleted_call_back=lang.hitch(this,this._deleted_call);this._store=new _48f({target:"/research/admin/deletionhistory/list",idProperty:"deletionhistoryid"});},postCreate:function(){this.prmax_outlettypeid.set("store",PRCOMMON.utils.stores.OutletTypes_noFreelancer());this.reasoncodeid.set("store",PRCOMMON.utils.stores.Research_Reason_Add_Codes());this.countryid.set("store",PRCOMMON.utils.stores.Countries());this.reasoncodeid.set("value",PRCOMMON.utils.stores.Reason_Add_Default);this.countryid.set("value",1);this.inherited(arguments);},_update:function(){if(_48e.form_validator(this.form)==false){alert("Not all required field filled in");throw "N";}if(confirm("Add Outlet?")){_48d.post("/research/admin/outlets/research_check",_48e.make_params({data:this.form.get("value")})).then(this._deleted_call_back);}},_deleted_call:function(_491){if(_491.success=="DEL"){if(confirm("Outlet '"+_491.data.outlet_name+"' with domain '"+_491.data.domain+"' has previously asked to be deleted.\nDo you want to proceed?")){_48d.post("/research/admin/outlets/research_add_main",_48e.make_params({data:this.form.get("value")})).then(this._updated_call_back);}}else{_48d.post("/research/admin/outlets/research_add_main",_48e.make_params({data:this.form.get("value")})).then(this._updated_call_back);}this.savebtn.cancel();},_updated_call:function(_492){if(_492.success=="OK"){alert("Outlet Added");this.clear();this.outletname.focus();}else{alert("Failed to add");}this.savebtn.cancel();},clear:function(){this.countryid.set("value",1);this.outletname.set("value","");this.prmax_outlettypeid.set("value",null);this.selectcontact.clear();this.jobtitle.set("value","");this.www.set("value","");this.reasoncodeid.set("value",PRCOMMON.utils.stores.Reason_Add_Default);this.savebtn.cancel();}});});},"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(_493,_494,_495,_496){return _494("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},addChild:function(_497,_498){var _499=this.containerNode;if(_498>0){_499=_499.firstChild;while(_498>0){if(_499.nodeType==1){_498--;}_499=_499.nextSibling;}if(_499){_498="before";}else{_499=this.containerNode;_498="last";}}_495.place(_497.domNode,_499,_498);if(this._started&&!_497._started){_497.startup();}},removeChild:function(_49a){if(typeof _49a=="number"){_49a=this.getChildren()[_49a];}if(_49a){var node=_49a.domNode;if(node&&node.parentNode){node.parentNode.removeChild(node);}}},hasChildren:function(){return this.getChildren().length>0;},_getSiblingOfChild:function(_49b,dir){var _49c=this.getChildren(),idx=_493.indexOf(_49c,_49b);return _49c[idx+dir];},getIndexOfChild:function(_49d){return _493.indexOf(this.getChildren(),_49d);}});});},"dijit/layout/BorderContainer":function(){define(["dojo/_base/array","dojo/cookie","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/on","dojo/touch","../_WidgetBase","../_Widget","../_TemplatedMixin","./LayoutContainer","./utils"],function(_49e,_49f,_4a0,_4a1,_4a2,_4a3,_4a4,keys,lang,on,_4a5,_4a6,_4a7,_4a8,_4a9,_4aa){var _4ab=_4a0("dijit.layout._Splitter",[_4a7,_4a8],{live:true,templateString:"<div class=\"dijitSplitter\" data-dojo-attach-event=\"onkeydown:_onKeyDown,press:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse\" tabIndex=\"0\" role=\"separator\"><div class=\"dijitSplitterThumb\"></div></div>",constructor:function(){this._handlers=[];},postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);this._factor=/top|left/.test(this.region)?1:-1;this._cookieName=this.container.id+"_"+this.region;},buildRendering:function(){this.inherited(arguments);_4a1.add(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));if(this.container.persist){var _4ac=_49f(this._cookieName);if(_4ac){this.child.domNode.style[this.horizontal?"height":"width"]=_4ac;}}},_computeMaxSize:function(){var dim=this.horizontal?"h":"w",_4ad=_4a3.getMarginBox(this.child.domNode)[dim],_4ae=_49e.filter(this.container.getChildren(),function(_4af){return _4af.region=="center";})[0];var _4b0=_4a3.getContentBox(_4ae.domNode)[dim]-10;return Math.min(this.child.maxSize,_4ad+_4b0);},_startDrag:function(e){if(!this.cover){this.cover=_4a2.place("<div class=dijitSplitterCover></div>",this.child.domNode,"after");}_4a1.add(this.cover,"dijitSplitterCoverActive");if(this.fake){_4a2.destroy(this.fake);}if(!(this._resize=this.live)){(this.fake=this.domNode.cloneNode(true)).removeAttribute("id");_4a1.add(this.domNode,"dijitSplitterShadow");_4a2.place(this.fake,this.domNode,"after");}_4a1.add(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active");if(this.fake){_4a1.remove(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");}var _4b1=this._factor,_4b2=this.horizontal,axis=_4b2?"pageY":"pageX",_4b3=e[axis],_4b4=this.domNode.style,dim=_4b2?"h":"w",_4b5=_4a4.getComputedStyle(this.child.domNode),_4b6=_4a3.getMarginBox(this.child.domNode,_4b5)[dim],max=this._computeMaxSize(),min=Math.max(this.child.minSize,_4a3.getPadBorderExtents(this.child.domNode,_4b5)[dim]+10),_4b7=this.region,_4b8=_4b7=="top"||_4b7=="bottom"?"top":"left",_4b9=parseInt(_4b4[_4b8],10),_4ba=this._resize,_4bb=lang.hitch(this.container,"_layoutChildren",this.child.id),de=this.ownerDocument;this._handlers=this._handlers.concat([on(de,_4a5.move,this._drag=function(e,_4bc){var _4bd=e[axis]-_4b3,_4be=_4b1*_4bd+_4b6,_4bf=Math.max(Math.min(_4be,max),min);if(_4ba||_4bc){_4bb(_4bf);}_4b4[_4b8]=_4bd+_4b9+_4b1*(_4bf-_4be)+"px";}),on(de,"dragstart",function(e){e.stopPropagation();e.preventDefault();}),on(this.ownerDocumentBody,"selectstart",function(e){e.stopPropagation();e.preventDefault();}),on(de,_4a5.release,lang.hitch(this,"_stopDrag"))]);e.stopPropagation();e.preventDefault();},_onMouse:function(e){var o=(e.type=="mouseover"||e.type=="mouseenter");_4a1.toggle(this.domNode,"dijitSplitterHover",o);_4a1.toggle(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",o);},_stopDrag:function(e){try{if(this.cover){_4a1.remove(this.cover,"dijitSplitterCoverActive");}if(this.fake){_4a2.destroy(this.fake);}_4a1.remove(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active dijitSplitterShadow");this._drag(e);this._drag(e,true);}finally{this._cleanupHandlers();delete this._drag;}if(this.container.persist){_49f(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365});}},_cleanupHandlers:function(){var h;while(h=this._handlers.pop()){h.remove();}},_onKeyDown:function(e){this._resize=true;var _4c0=this.horizontal;var tick=1;switch(e.keyCode){case _4c0?keys.UP_ARROW:keys.LEFT_ARROW:tick*=-1;case _4c0?keys.DOWN_ARROW:keys.RIGHT_ARROW:break;default:return;}var _4c1=_4a3.getMarginSize(this.child.domNode)[_4c0?"h":"w"]+this._factor*tick;this.container._layoutChildren(this.child.id,Math.max(Math.min(_4c1,this._computeMaxSize()),this.child.minSize));e.stopPropagation();e.preventDefault();},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;delete this.cover;delete this.fake;this.inherited(arguments);}});var _4c2=_4a0("dijit.layout._Gutter",[_4a7,_4a8],{templateString:"<div class=\"dijitGutter\" role=\"presentation\"></div>",postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);},buildRendering:function(){this.inherited(arguments);_4a1.add(this.domNode,"dijitGutter"+(this.horizontal?"H":"V"));}});var _4c3=_4a0("dijit.layout.BorderContainer",_4a9,{gutters:true,liveSplitters:true,persist:false,baseClass:"dijitBorderContainer",_splitterClass:_4ab,postMixInProperties:function(){if(!this.gutters){this.baseClass+="NoGutter";}this.inherited(arguments);},_setupChild:function(_4c4){this.inherited(arguments);var _4c5=_4c4.region,ltr=_4c4.isLeftToRight();if(_4c5=="leading"){_4c5=ltr?"left":"right";}if(_4c5=="trailing"){_4c5=ltr?"right":"left";}if(_4c5){if(_4c5!="center"&&(_4c4.splitter||this.gutters)&&!_4c4._splitterWidget){var _4c6=_4c4.splitter?this._splitterClass:_4c2;if(lang.isString(_4c6)){_4c6=lang.getObject(_4c6);}var _4c7=new _4c6({id:_4c4.id+"_splitter",container:this,child:_4c4,region:_4c5,live:this.liveSplitters});_4c7.isSplitter=true;_4c4._splitterWidget=_4c7;var _4c8=_4c5=="bottom"||_4c5==(this.isLeftToRight()?"right":"left");_4a2.place(_4c7.domNode,_4c4.domNode,_4c8?"before":"after");_4c7.startup();}}},layout:function(){this._layoutChildren();},removeChild:function(_4c9){var _4ca=_4c9._splitterWidget;if(_4ca){_4ca.destroy();delete _4c9._splitterWidget;}this.inherited(arguments);},getChildren:function(){return _49e.filter(this.inherited(arguments),function(_4cb){return !_4cb.isSplitter;});},getSplitter:function(_4cc){return _49e.filter(this.getChildren(),function(_4cd){return _4cd.region==_4cc;})[0]._splitterWidget;},resize:function(_4ce,_4cf){if(!this.cs||!this.pe){var node=this.domNode;this.cs=_4a4.getComputedStyle(node);this.pe=_4a3.getPadExtents(node,this.cs);this.pe.r=_4a4.toPixelValue(node,this.cs.paddingRight);this.pe.b=_4a4.toPixelValue(node,this.cs.paddingBottom);_4a4.set(node,"padding","0px");}this.inherited(arguments);},_layoutChildren:function(_4d0,_4d1){if(!this._borderBox||!this._borderBox.h){return;}var _4d2=[];_49e.forEach(this._getOrderedChildren(),function(pane){_4d2.push(pane);if(pane._splitterWidget){_4d2.push(pane._splitterWidget);}});var dim={l:this.pe.l,t:this.pe.t,w:this._borderBox.w-this.pe.w,h:this._borderBox.h-this.pe.h};_4aa.layoutChildren(this.domNode,dim,_4d2,_4d0,_4d1);},destroyRecursive:function(){_49e.forEach(this.getChildren(),function(_4d3){var _4d4=_4d3._splitterWidget;if(_4d4){_4d4.destroy();}delete _4d3._splitterWidget;});this.inherited(arguments);}});_4c3.ChildWidgetProperties={splitter:false,minSize:0,maxSize:Infinity};lang.mixin(_4c3.ChildWidgetProperties,_4a9.ChildWidgetProperties);lang.extend(_4a6,_4c3.ChildWidgetProperties);_4c3._Splitter=_4ab;_4c3._Gutter=_4c2;return _4c3;});},"prcommon2/interests/Interests":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../interests/templates/Interests.html","prcommon2/search/std_search","dojo/json","dojo/request","ttl/utilities2","dijit/popup","dojo/dom-class","dojo/dom-style","dojo/_base/lang","dojo/dom-attr","dojo/on","prcommon2/search/SearchCount","dijit/form/TextBox","dijit/form/FilteringSelect","dijit/form/CheckBox","dijit/form/Button","dijit/Tooltip","dijit/Dialog"],function(_4d5,_4d6,_4d7,_4d8,json,_4d9,_4da,_4db,_4dc,_4dd,lang,_4de,on){return _4d5("prcommon2.interests.Interests",[_4d6,_4d8],{templateString:_4d7,name:"",value:"",displaytitle:"Keywords",search:"",size:"7",testmode:false,selectonly:false,startopen:false,interesttypeid:1,nofilter:false,restrict:1,compact:false,showhelp:false,constructor:function(){this.disabled=false;this._extended=false;this._load_selection_call=lang.hitch(this,this._load_selection);this.interest_timer=null;},statup2:function(){this.master_type.set("value",-1);this.inherited(arguments);},postCreate:function(){this.master_type.set("store",PRCOMMON.utils.stores.interest_sections());this.master_type.set("value",-1);on(this.interest_list_select.domNode,"keyup",lang.hitch(this,this._interest_select));on(this.interest_list,"change",lang.hitch(this,this.interest_update_selection));on(this.interest_list,"dblclick",lang.hitch(this,this.interest_select_dbl));_4de.set(this.andorlabel,"for",this.andor.id);if(this.selectonly==true){_4dd.set(this.andor.domNode,"display","None");_4dd.set(this.countnode.domNode,"display","None");_4dd.set(this.andorlabel,"display","None");}else{this.andor_tip.set("connectId",this.andor.id);}if(this.nofilter){_4dd.set(this.master_type.domNode,"display","none");}if(this.startopen==true){_4dd.set(this.togglectrl,"display","none");_4dd.set(this.selectarea,"display","block");}if(this.showhelp==true){_4dc.remove(this.show_help_btn,"prmaxhidden");}if(this.compact==true){_4dc.add(this.button_all.domNode,"prmaxhidden");_4dc.add(this.button_del_all.domNode,"prmaxhidden");_4dc.add(this.button_all_line,"prmaxhidden");_4dc.add(this.button_del_all_line,"prmaxhidden");}this.inherited(arguments);},clear:function(){this._clear_selection_box();this._clear_selected_box();this.master_type.set("value",-1);this.interest_list_select.set("value","");this._get_selector(this._getValueAttr());this._selection_options();if(this.selectonly==false){this.inherited(arguments);}},clear_selection:function(){this._clear_selection_box();this.interest_list_select.set("value","");this._get_selector(this._getValueAttr());},_send_request:function(data,_4df){this._transactionid=PRCOMMON.utils.uuid.createUUID();_4d9.post("/interests/listuserselection",_4da.make_params({data:{word:data,filter:_4df,logic:this.andor.get("value"),interesttypeid:this.interesttypeid,keytypeid:this.keytypeid,restrict:this.restrict,transactionid:this._transactionid}})).then(this._load_selection_call);},_interest_select:function(p1,_4e0){var data=this.interest_list_select.get("value");var _4e1=this.master_type.get("value");if(_4e0!=null){data=_4e0;}if(_4e1=="-1"&&data=="*"){data="";}if(data.length>0){if(this.interest_timer){clearTimeout(this.interest_timer);this.interest_timer=null;}this.interest_timer=setTimeout(lang.hitch(this,this._send_request,data,_4e1),this.searchTime);}else{this.interest_timer=null;this._clear_selection_box();this._selection_options();}},_load_selection:function(_4e2){if(this._transactionid==_4e2.transactionid){this._clear_selection_box();for(var i=0;i<_4e2.data.length;++i){var _4e3=_4e2.data[i];this.interest_list.options[this.interest_list.options.length]=new Option(_4e3[0],_4e3[1]);}this._selection_options();}},_clear_selection_box:function(){this.interest_list.options.length=0;},_clear_selected_box:function(){this.interest_select.length=0;},and_or:function(){this._get_selector(this._getValueAttr(),true);},interest_update_selection:function(){this._selection_options();},interest_select_dbl:function(){this.interest_select_single();this._selection_options();},interest_select_all:function(){for(var c=0;c<this.interest_list.options.length;c++){var _4e4=this.interest_list.options[c];var _4e5=true;for(var c1=0;c1<this.interest_select.options.length;c1++){if(this.interest_select.options[c1].value==_4e4.value){_4e5=false;break;}}if(_4e5){this.interest_select.options[this.interest_select.options.length]=new Option(_4e4.text,_4e4.value);}}this._get_selector(this._getValueAttr());this.interest_list.options.length=0;this.interest_update_selection();},interest_select_single:function(){for(var c=0;c<this.interest_list.options.length;c++){var _4e6=this.interest_list.options[c];if(_4e6.selected){_4e6.selected=false;var _4e7=true;for(var c1=0;c1<this.interest_select.options.length;c1++){if(this.interest_select.options[c1].value==_4e6.value){_4e7=false;break;}}if(_4e7){this.interest_select.options[this.interest_select.options.length]=new Option(_4e6.text,_4e6.value);this._get_selector(this._getValueAttr());}}}},interest_remove_all:function(){this.interest_select.options.length=0;this.interest_update_selection();this._get_selector(this._getValueAttr());},interest_remove_single:function(){for(var c=0;c<this.interest_select.options.length;c++){if(this.interest_select.options[c].selected){this.interest_select.options[c]=null;}}this.interest_update_selection();this._get_selector(this._getValueAttr());},add_select:function(data){this.interest_select.options[this.interest_select.options.length]=new Option(data.interestname,data.interestid);},_setValueAttr:function(_4e8){this.clear();if(_4e8!=null){var data=_4e8.data;var open=false;if(data==null||data==undefined){data=_4e8;}for(var key in data){var _4e9=data[key];this.interest_select.options[this.interest_select.options.length]=new Option(_4e9.interestname,_4e9.interestid);open=true;}if(open){this.make_open();}this._get_selector(this._getValueAttr());}},_getValueAttr:function(){var data=Array();for(var c=0;c<this.interest_select.options.length;c++){if(this._extended){data[c]={interestid:parseInt(this.interest_select.options[c].value),interestname:this.interest_select.options[c].text};}else{data[c]=parseInt(this.interest_select.options[c].value);}}var obj={data:data,logic:this.andor.get("value")};if(this._extended){return obj;}else{var data=data.length>0?json.stringify(obj):"";this.value=data;return data;}},_getCountAttr:function(){return this.interest_select.options.length;},_setExtendedAttr:function(_4ea){this._extended=_4ea;},change_filter:function(){this._interest_select(null,"*");},_selection_options:function(){this.button_all.set("disabled",this.interest_list.length?false:true);this.button_single.set("disabled",this.interest_list.selectedIndex!=-1?false:true);this.button_del_all.set("disabled",this.interest_select.length?false:true);this.button_del_single.set("disabled",this.interest_select.selectedIndex!=-1?false:true);},_capture_extended_content:function(data){var _4eb=this.andor.get("value");return lang.mixin(data,{logic:_4eb});},_setDisabledAttr:function(_4ec){this.disabled=_4ec;},_getDisabledAttr:function(){return this.disabled;},_get_selector:function(){if(this.selectonly==false){this.inherited(arguments);}},_focus:function(){this.interest_list_select.focus();},_toggle:function(){if(this.open==false&&(this.master_type.get("value")==null||this.master_type.get("value").length==0)){this.master_type.set("value",-1);}this.inherited(arguments);},_show_help:function(){this.show_help_dialog.show();},_hide_help:function(){this.show_help_dialog.hide();}});});},"prcommon2/advance/advance":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../advance/templates/advance.html","dojo/request","ttl/utilities2","dojo/json","dojo/_base/lang","dojo/topic","dojo/dom-attr","dojo/dom-class","dojox/data/JsonRestStore","dijit/layout/ContentPane","dojo/store/Observable","dijit/form/Form","dijit/form/TextBox","dijit/form/ValidationTextBox","dijit/form/FilteringSelect","dijit/form/Textarea","dijit/form/Textarea","dijit/form/Select","dojox/form/BusyButton","prcommon2/date/DateExtended","prcommon2/interests/Interests"],function(_4ed,_4ee,_4ef,_4f0,_4f1,json,lang,_4f2,_4f3,_4f4,_4f5,_4f6){return _4ed("prcommon2.advance.advance",[_4ee,_4f6],{templateString:_4ef,constructor:function(){this._save_call_back=lang.hitch(this,this._save_call);this._load_call_back=lang.hitch(this,this._load_call);},postCreate:function(){this.inherited(arguments);},_save_call:function(_4f7){if(_4f7.success=="OK"){if(this.advancefeatureid.get("value")==-1){_4f2.publish(PRCOMMON.Events.Feature_Added,_4f7.data);alert("Feature Added");this.clear();}else{_4f2.publish(PRCOMMON.Events.Feature_Updated,_4f7.data);alert("Feature Updated");}}else{alert("Problem with Feature");}this.savenode.cancel();},_save:function(){if(_4f1.form_validator(this.form)==false){alert("Not all required field filled in");throw "N";}_4f0.post("/advance/save",_4f1.make_params({data:this.form.get("value")})).then(this._save_call_back);},load:function(_4f8,_4f9){this.modelemployees=new _4f5({target:"/research/admin/employees/listcombo_extended_nocontact/"+_4f9,idProperty:"employeeid"});this.employeeid.set("store",this.modelemployees);this._remove();if(_4f8!=-1){_4f0.post("/advance/get_ext",_4f1.make_params({data:{advancefeatureid:_4f8}})).then(this._load_call_back);}else{this.clear();this.advancefeatureid.set("value",-1);this.outletid.set("value",_4f9);}},_load_call:function(_4fa){if(_4fa.success=="OK"){this.outletid.set("value",_4fa.data.advance.outletid);this.advancefeatureid.set("value",_4fa.data.advance.advancefeatureid);this.editorial_date.set("value",_4fa.data.advance.editorial_date_full);this.cover_date.set("value",_4fa.data.advance.cover_date_full);this.publication_date.set("value",_4fa.data.advance.publication_date_full);this.feature.set("value",_4fa.data.advance.feature);this.featuredescription.set("value",_4fa.data.advance.featuredescription);if(_4fa.data.advance.employeeid!=null){this.employeeid.set("value",_4fa.data.advance.employeeid);}else{this.employeeid.set("value",-1);}_4f4.remove(this.domNode,"prmaxhidden");}else{this.advancefeatureid.set("value",-1);alert("Problem Loading Feature");}},clear:function(){this.advancefeatureid.set("value",-1);this.editorial_date.set("value",null);this.cover_date.set("value",null);this.publication_date.set("value",null);this.feature.set("value","");this.featuredescription.set("value","");this.employeeid.set("value",-1);this._remove();},newmode:function(){_4f4.remove(this.domNode,"prmaxhidden");},_remove:function(){this.employeeid.textbox.value="";this.employeeid.valueNode.value=null;this.employeeid.displayMessage("");this.employeeid._lastDisplayedValue="";this.employeeid._updatePlaceHolder();this.employeeid.validate(this.focused);}});});},"research/search":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../research/templates/search.html","dijit/layout/BorderContainer","ttl/grid/Grid","ttl/store/JsonRest","dojo/store/Observable","dojo/request","ttl/utilities2","dojo/json","dojo/data/ItemFileReadStore","dojo/_base/lang","dojo/topic","dojo/_base/array","dijit/registry","dojo/on","dijit/layout/ContentPane","dijit/Toolbar","dijit/form/DropDownButton","dijit/TooltipDialog","dijit/form/TextBox","dijit/form/Button","dijit/form/ValidationTextBox","dijit/form/Form","dojox/form/BusyButton","prcommon2/search/OutletSearch","prcommon2/search/FreelanceSearch","prcommon2/search/EmployeeSearch","prcommon2/search/SmartSearch"],function(_4fb,_4fc,_4fd,_4fe,Grid,_4ff,_500,_501,_502,json,_503,lang,_504,_505,_506,on){return _4fb("research.search",[_4fc,_4fe],{templateString:_4fd,searchtypeid:3,form_name:"std_search_outlet_form",constructor:function(){this.model=new _500(new _4ff({target:"/search/list_rest",idProperty:"sessionsearchid"}));this._load_call_back=lang.hitch(this,this._load_call);this._clear_all_call_back=lang.hitch(this,this._clear_all_call);_504.subscribe(PRCOMMON.Events.SearchSession_Changed,lang.hitch(this,this._search_update_event));_504.subscribe(PRCOMMON.Events.Outlet_Updated,lang.hitch(this,this._outlet_update_event));_504.subscribe(PRCOMMON.Events.Outlet_Deleted,lang.hitch(this,this._outlet_deleted_event));},postCreate:function(){var _507=[{label:" ",className:"grid-field-image-view",field:"prmax_outletgroupid",formatter:_502.outlet_type},{label:"Name",className:"standard",field:"outletname"},{label:"Contact",className:"standard",field:"contactname"},{label:"Source",className:"dgrid-column-status-small",field:"sourcename"},{label:"Id",className:"dgrid-column-status-small",field:"outletid"}];this.searchgrid=new Grid({columns:_507,selectionMode:"single",store:this.model,query:_502.EMPTYGRID,sort:[{attribute:"prmax_outletgroupid",descending:false}]});this.searchgrid_view.set("content",this.searchgrid);this.searchgrid.on("dgrid-select",lang.hitch(this,this._on_cell_call));on(this.search_form_pane,"onLoad",lang.hitch(this,this._connect_pane));this.contact_interest_ctrl.set("dialog",this.contact_interest_dlg);this.inherited(arguments);},_connect_pane:function(){on(_506.byId(this.form_name),"onSubmit",lang.hitch(this,this._submit));},_submit:function(){this._do_search();},_search:function(){this._do_search();this.searchbutton.makeBusy();},_load_call:function(_508){_504.publish(PRCOMMON.Events.SearchSession_Changed,[_508.data]);this.searchbutton.cancel();},_get_form:function(){var form=null;_505.every(this.search_form_pane.selectedChildWidget.getChildren(),function(_509){if(_509.formid!=null){form=_509;}});return form;},_do_search:function(){var form=this._get_form();form.setExtendedMode(false);var _50a=form.get("value");_50a["mode"]=1;_50a["search_partial"]=2;_50a["searchtypeid"]=3;_501.post("/search/dosearch",_502.make_params({data:_50a})).then(this._load_call_back);},_search_update_event:function(data){this.refresh(data);},refresh:function(data){this.searchgrid.set("query",{searchtypeid:this.searchtypeid,research:1});},_clear_search:function(){var form=this._get_form();_505.every(form.getChildren(),function(_50b){if(_50b.Clear!=null){_50b.Clear();}if(_50b.clear!=null){_50b.clear();}return true;});this.searchbutton.cancel();},_clear_search_results:function(){_501.post("/search/sessionclear",_502.make_params({data:{searchtypeid:3}})).then(this._clear_all_call_back);},_clear_all_call:function(_50c){if(_50c.success=="OK"){this.refresh({outletid:-1,employeeid:-1,outlettypeid:-1});}},_on_cell_call:function(e){var row=e.rows[0].data;_504.publish(PRCOMMON.Events.Display_Load,row.outletid,row.prmax_outletgroupid,row.sourcetypeid);},_outlet_update_event:function(_50d){},_outlet_deleted_event:function(_50e){for(var key in _50e.search){this.model.remove(_50e.search[key]);}},_contact_interests:function(){this.contact_interest_dlg.show();}});});},"dijit/_base/wai":function(){define(["dojo/dom-attr","dojo/_base/lang","../main","../hccss"],function(_50f,lang,_510){var _511={hasWaiRole:function(elem,role){var _512=this.getWaiRole(elem);return role?(_512.indexOf(role)>-1):(_512.length>0);},getWaiRole:function(elem){return lang.trim((_50f.get(elem,"role")||"").replace("wairole:",""));},setWaiRole:function(elem,role){_50f.set(elem,"role",role);},removeWaiRole:function(elem,role){var _513=_50f.get(elem,"role");if(!_513){return;}if(role){var t=lang.trim((" "+_513+" ").replace(" "+role+" "," "));_50f.set(elem,"role",t);}else{elem.removeAttribute("role");}},hasWaiState:function(elem,_514){return elem.hasAttribute?elem.hasAttribute("aria-"+_514):!!elem.getAttribute("aria-"+_514);},getWaiState:function(elem,_515){return elem.getAttribute("aria-"+_515)||"";},setWaiState:function(elem,_516,_517){elem.setAttribute("aria-"+_516,_517);},removeWaiState:function(elem,_518){elem.removeAttribute("aria-"+_518);}};lang.mixin(_510,_511);return _510;});},"dojo/dnd/Mover":function(){define(["../_base/array","../_base/declare","../_base/lang","../sniff","../_base/window","../dom","../dom-geometry","../dom-style","../Evented","../on","../touch","./common","./autoscroll"],function(_519,_51a,lang,has,win,dom,_51b,_51c,_51d,on,_51e,dnd,_51f){return _51a("dojo.dnd.Mover",[_51d],{constructor:function(node,e,host){this.node=dom.byId(node);this.marginBox={l:e.pageX,t:e.pageY};this.mouseButton=e.button;var h=(this.host=host),d=node.ownerDocument;function _520(e){e.preventDefault();e.stopPropagation();};this.events=[on(d,_51e.move,lang.hitch(this,"onFirstMove")),on(d,_51e.move,lang.hitch(this,"onMouseMove")),on(d,_51e.release,lang.hitch(this,"onMouseUp")),on(d,"dragstart",_520),on(d.body,"selectstart",_520)];_51f.autoScrollStart(d);if(h&&h.onMoveStart){h.onMoveStart(this);}},onMouseMove:function(e){_51f.autoScroll(e);var m=this.marginBox;this.host.onMove(this,{l:m.l+e.pageX,t:m.t+e.pageY},e);e.preventDefault();e.stopPropagation();},onMouseUp:function(e){if(has("webkit")&&has("mac")&&this.mouseButton==2?e.button==0:this.mouseButton==e.button){this.destroy();}e.preventDefault();e.stopPropagation();},onFirstMove:function(e){var s=this.node.style,l,t,h=this.host;switch(s.position){case "relative":case "absolute":l=Math.round(parseFloat(s.left))||0;t=Math.round(parseFloat(s.top))||0;break;default:s.position="absolute";var m=_51b.getMarginBox(this.node);var b=win.doc.body;var bs=_51c.getComputedStyle(b);var bm=_51b.getMarginBox(b,bs);var bc=_51b.getContentBox(b,bs);l=m.l-(bc.l-bm.l);t=m.t-(bc.t-bm.t);break;}this.marginBox.l=l-this.marginBox.l;this.marginBox.t=t-this.marginBox.t;if(h&&h.onFirstMove){h.onFirstMove(this,e);}this.events.shift().remove();},destroy:function(){_519.forEach(this.events,function(_521){_521.remove();});var h=this.host;if(h&&h.onMoveStop){h.onMoveStop(this);}this.events=this.node=this.host=null;}});});},"research/questionnaires/EmployeeEdit":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dijit/layout/ContentPane","dojo/text!../questionnaires/templates/EmployeeEdit.html","dojo/request","ttl/utilities2","dojo/json","dojo/_base/lang","dojo/topic","dojox/data/JsonRestStore","dojo/store/Observable","dojo/dom-attr","dojo/dom-class","dijit/form/RadioButton","dijit/form/FilteringSelect","dijit/form/Button","dojox/validate","research/employees/EmployeeSelect","prcommon2/roles/Roles","prcommon2/web/WebButton"],function(_522,_523,_524,_525,_526,_527,json,lang,_528,_529,_52a,_52b,_52c){return _522("research.questionnaires.EmployeeEdit",[_523,_524],{templateString:_525,prmaxcontext:"outlet",constructor:function(){this._saved_call=lang.hitch(this,this._saved);this._error_call_back=lang.hitch(this,this._error_call);this._copy_interests_call=lang.hitch(this,this._copy_interests);this._desklist=null;this._count_desks=0;this._has_address_old=null;this._has_address_new=null;this._series_parent=false;this.outletid=-1;},_saved:function(_52d){if(_52d.success=="OK"){if(this.employeeidnode.get("value")==-1){_528.publish(PRCOMMON.Events.Employee_Quest_Add,"A"+_52d.objectid);alert("Contact added. Please verify the 'Research tab' to make sure these changes haven't effected it");}else{try{_528.publish(PRCOMMON.Events.Employee_Quest_Updated,"E"+this.employeeid,_52d.data,this.prmaxcontext);}catch(e){alert(e);}alert("Contact updated. Please verify the 'Research tab' to make sure these changes haven't effected it");}if(_52d.data.series==true){alert("Series members were affected. Please run employee synchronisation process");}this._has_address_old=this._has_address_new;if(this._has_address_new==false){this._clear_address();}if(_52d.data.tel!=this.tel.get("value")){this.tel.set("value",_52d.data.tel);}if(_52d.data.fax!=this.fax.get("value")){this.fax.set("value",_52d.data.fax);}}else{alert("Problem with Employee ");}this.savenode.cancel();},postCreate:function(){this.facebook_show.set("source",this.facebook);this.twitter_show.set("source",this.twitter);this.linkedin_show.set("source",this.linkedin);this.instagram_show.set("source",this.instagram);this.inherited(arguments);},_reset_fields:function(){this.job_title_modified.clear();this.mobile_modified.clear();this.email_modified.clear();this.tel_modified.clear();this.fax_modified.clear();this.twitter_modified.clear();this.facebook_modified.clear();this.linkedin_modified.clear();this.instagram_modified.clear();},load:function(data,_52e,_52f){this._reset_fields();this.employeeid=-1;if(_52f){this._count_desks=_52f.length;}if(data.employeeid){this.employeeid=data.employee.employeeid;this.outletid=data.outlet.outletid;this.employeeidnode.set("value",data.employee.employeeid);this.researchprojectitemid.set("value",data.researchprojectitemid);this.researchprojectitemchangeid.set("value",data.researchprojectitemchangeid);this.job_title.set("value",data.employee.job_title);this.email.set("value",data.comm.email);this.tel.set("value",data.comm.tel);this.fax.set("value",data.comm.fax);this.twitter.set("value",data.comm.twitter);this.facebook.set("value",data.comm.facebook);this.linkedin.set("value",data.comm.linkedin);this.instagram.set("value",data.comm.instagram);this.mobile.set("value",data.comm.mobile);this.interests_org.set("value",data.interests);_52b.set(this.interests,"innerHTML"," ");this.profile.set("value",data.employee.profile);this.jobroles.set("value",data.jobroles);this._desklist=new _529({target:"/research/admin/desks/list_outlet_desks/"+data.employee.outletid+"/",idProperty:"outletdeskid"});this.outletdeskid.set("store",this._desklist);this.outletdeskid.set("value",(data.employee.outletdeskid==null)?-1:data.employee.outletdeskid);_52c.remove(this.copy_keywords_btn,"prmaxhidden");if(data.contact_name_display!=undefined){_52b.set(this.contact_name_display,"innerHTML",data.contact_name_display);}else{_52b.set(this.contact_name_display,"innerHTML","");}if(data.employee.contactid==null){this.selectcontact.set_no_contact();}else{this.selectcontact.set("checked",false);this.selectcontact.contactid.set("value",data.employee.contactid);_52b.set(this.selectcontact.contactid.display,"innerHTML",data.contactname);}if(data.employee.communicationid==null){this.no_address.set("checked",false);this._has_address_old=false;this._address_show_do(false);}else{if(data.address!=null){this.no_address.set("checked",true);this._has_address_old=true;this._address_show_do(true);this.address1.set("value",data.address.address1);this.address2.set("value",data.address.address2);this.townname.set("value",data.address.townname);this.county.set("value",data.address.county);this.postcode.set("value",data.address.postcode);}else{this.no_address.set("checked",false);this._has_address_old=false;this._clear_address();}}for(var key in _52e){var _530=_52e[key];switch(_530.fieldid){case 2:this.job_title_modified.load(_530.value,data.employee.job_title,this.job_title);break;case 7:this.mobile_modified.load(_530.value,data.comm.mobile,this.mobile);break;case 4:this.email_modified.load(_530.value,data.comm.email,this.email);break;case 5:this.tel_modified.load(_530.value,data.comm.tel,this.tel);break;case 6:this.fax_modified.load(_530.value,data.comm.fax,this.fax);break;case 25:this.twitter_modified.load(_530.value,data.comm.twitter,this.twitter);break;case 26:this.facebook_modified.load(_530.value,data.comm.facebook,this.facebook);break;case 28:this.linkedin_modified.load(_530.value,data.comm.linkedin,this.linkedin);break;case 72:this.instagram_modified.load(_530.value,data.comm.instagram,this.instagram);break;case 12:var _531="";this.address1_modified.load(_530.value,data.address==null?"":data.address.address1,this.address1);break;case 13:this.address2_modified.load(_530.value,data.address==null?"":data.address.address2,this.address2);break;case 14:this.townname_modified.load(_530.value,data.address==null?"":data.address.townname,this.townname);break;case 15:this.county_modified.load(_530.value,data.address==null?"":data.address.county,this.county);break;case 16:this.postcode_modified.load(_530.value,data.address==null?"":data.address.postcode,this.postcode);break;case 8:_52b.set(this.interests,"innerHTML",_530.value);break;case 49:this.no_address.set("checked",_530.value);this._address_show_do(_530.value);break;}}}else{this.employeeidnode.set("value",-1);this.outletid=data.outletid;this.researchprojectitemid.set("value",data.researchprojectitemid);this.researchprojectitemchangeid.set("value",data.researchprojectitemchangeid);this.job_title.set("value",data.job_title);this.email.set("value",data.email);this.tel.set("value",data.tel);this.fax.set("value",data.fax);this.twitter.set("value",data.twitter);this.facebook.set("value",data.facebook);this.linkedin.set("value",data.linkedin);this.instagram.set("value",data.instagram);this.mobile.set("value",data.mobile);this.profile.set("value","");this.jobroles.set("value",null);this.selectcontact.set_no_contact();this.no_address.set("checked",data.alt_address);this._address_show_do(data.alt_address);this.address1.set("value",data.address1);this.address2.set("value",data.address2);this.townname.set("value",data.townname);this.county.set("value",data.county);this.postcode.set("value",data.postcode);_52b.set(this.interests,"innerHTML",data.interests);this.interests_org.set("value",null);if(data.contact_name_display!=undefined){_52b.set(this.contact_name_display,"innerHTML",data.contact_name_display);}else{_52b.set(this.contact_name_display,"innerHTML","");}this.selectcontact.set("checked",false);this.selectcontact.set("value",null);_52b.set(this.selectcontact.contactid.display,"innerHTML","Select Contact");this._desklist=new _529({target:"/research/admin/desks/list_outlet_desks/"+data.outletid+"/",idProperty:"outletdeskid"});this.outletdeskid.set("store",this._desklist);this.outletdeskid.set("value",(data.outletdeskid==null)?-1:data.outletdeskid);_52c.add(this.copy_keywords_btn,"prmaxhidden");}this.savenode.cancel();},_save:function(){if(_527.form_validator(this.formnode)==false){alert("Not all required field filled in");throw "N";}if(this._count_desks!=0&&(this.outletdeskid.get("value")=="-1"||this.outletdeskid.get("value")==-1)){alert("Please enter Desk");this.savenode.cancel();throw "N";}var _532=this.formnode.get("value");_532["has_address_old"]=this._has_address_old;_532["outletid"]=this.outletid;if(this._has_address_new!=null){_532["has_address_new"]=this._has_address_new;}else{_532["has_address_new"]=this._has_address_old;}url=(this.employeeid==-1)?"/research/admin/projects/new_employee":"/research/admin/projects/update_employee";_526.post(url,_527.make_params({data:_532})).then(this._saved_call,this._error_call_back);},clear:function(){this.employeeidnode.set("value",-1);this.selectcontact.clear();this.job_title.set("value","");this.email.set("value","");this.tel.set("value","");this.fax.set("value","");this.mobile.set("value","");this.profile.set("value","");this.selectcontact.clear();this.reason.set("value","");this.no_address.set("checked",false);this.twitter.set("value","");this.facebook.set("value","");this.linkedin.set("value","");this.instagram.set("value","");this.outletdeskid.set("value",-1);this.interests_org.set("");this._clear_address();_52b.set(this.interests,"innerHTML","");this.jobroles.clear();},_address_show:function(){this._address_show_do(this.no_address.get("checked"));if(this.no_address.get("checked")){this._has_address_old=false;this._has_address_new=true;}else{this._has_address_old=true;this._has_address_new=false;}},_address_show_do:function(_533){var _534=["addr1","addr2","addr3","addr4","addr5"];if(_533==false){for(var key in _534){_52c.add(this[_534[key]],"prmaxhidden");}}else{for(var key in _534){_52c.remove(this[_534[key]],"prmaxhidden");}}},_error_call:function(){this.savenode.cancel();},_clear_address:function(){this._address_show_do(false);this.address1.set("value","");this.address2.set("value","");this.townname.set("value","");this.county.set("value","");this.postcode.set("value","");},_copy_keywords_btn:function(){_526.post("/research/admin/employees/research_copy_interests_outlet_to_employee",_527.make_params({data:{employeeid:this.employeeid,outletid:this.outletid,reasoncodeid:8}})).then(this._copy_interests_call);},_copy_interests:function(_535){if(_535.success=="OK"){this.interests_org.set("value",_535.data.interests);}},});});},"research/projects/view":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../projects/templates/view.html","dijit/layout/BorderContainer","ttl/grid/Grid","ttl/store/JsonRest","dojo/store/Observable","dojo/request","ttl/utilities2","dojo/json","dojo/topic","dojo/_base/lang","dojox/layout/ExpandoPane","dijit/layout/StackContainer","dijit/layout/ContentPane","research/projects/outletwizard","research/projects/edit","research/projects/update","dijit/Toolbar","dijit/form/DropDownButton","dijit/TooltipDialog","dijit/form/TextBox","dijit/form/Button"],function(_536,_537,_538,_539,Grid,_53a,_53b,_53c,_53d,json,_53e,lang){return _536("research.projects.view",[_537,_539],{templateString:_538,gutters:false,constructor:function(){this.model=new _53b(new _53a({target:"/research/admin/projects/projects_list",idProperty:"researchprojectid"}));this._project_deleted_call_back=lang.hitch(this,this._project_deleted_call);this._project_send_call_back=lang.hitch(this,this._project_send_call);this._project_add_desks_call_back=lang.hitch(this,this._project_add_desks_call);this.std_menu=null;this._is_monthly_std_menu=null;_53e.subscribe("/project/update",lang.hitch(this,this._update_event));_53e.subscribe("/project/add",lang.hitch(this,this._add_event));},postCreate:function(){var _53f=[{label:" ",field:"menu",className:"grid-field-image-view",formatter:_53d.format_row_ctrl},{label:"Id",className:"dgrid-column-nbr-right",field:"researchprojectid"},{label:"Project",className:"standard",field:"researchprojectname"},{label:"Owner",className:"standard",field:"ownername"},{label:"Start Date",className:"dgrid-column-date-small",field:"start_date_display"},{label:"Complete Date",className:"dgrid-column-date-small",field:"questionnaire_completed_display"},{label:"Nbr",className:"dgrid-column-nbr-right",field:"count"},{label:"R. Comp",className:"dgrid-column-nbr-right",field:"completed"},{label:"C. Comp",className:"dgrid-column-nbr-right",field:"customer_completed"},{label:"Nbr Em",className:"dgrid-column-nbr-right",field:"nbr_to_email"}];this.projects_grid=new Grid({columns:_53f,selectionMode:"single",store:this.model,sort:[{attribute:"researchprojectid",descending:true}]});this.projects.set("content",this.projects_grid);this.projects_grid.on(" .dgrid-cell:click",lang.hitch(this,this._on_cell_call));_53e.subscribe("/projects/list",lang.hitch(this,this._show_list_event));this.inherited(arguments);},_project_deleted_call:function(_540){if(_540.success=="OK"){this.model.remove(_540.researchprojectid);}else{alert("Problem Deleting Project");}},_project_add_desks_call:function(_541){if(_541.success=="OK"){alert("All desks added successfully");this.projects_grid.set("query",{});}else{alert("Problem Adding Desks on Project");}},_on_cell_call:function(e){var cell=this.projects_grid.cell(e);if(cell==null||cell.row==null){return;}this._selected_row=cell.row.data;if(cell.column.field=="menu"){this._show_menu(e);}else{this._edit_project();}},_show_menu:function(evt){var menu=null;if(this._selected_row.ismonthly==true){if(this._is_monthly_std_menu===null){this._is_monthly_std_menu=new dijit.Menu();this._is_monthly_std_menu.addChild(new dijit.MenuItem({label:"Delete Project",onClick:lang.hitch(this,this._delete_project)}));this._is_monthly_std_menu.addChild(new dijit.MenuItem({label:"Edit Project",onClick:lang.hitch(this,this._edit_project)}));this._is_monthly_std_menu.addChild(new dijit.MenuItem({label:"Update Project",onClick:lang.hitch(this,this._update_project)}));this._is_monthly_std_menu.addChild(new dijit.MenuItem({label:"Add Desks",onClick:lang.hitch(this,this._add_desks)}));this._is_monthly_std_menu.startup();}menu=this._is_monthly_std_menu;}else{if(this.std_menu===null){this.std_menu=new dijit.Menu();if(PRMAX.Settings.is_r_adm==true){this.std_menu.addChild(new dijit.MenuItem({label:"Send Email",onClick:lang.hitch(this,this._send_quest)}));}this.std_menu.addChild(new dijit.MenuItem({label:"Delete Project",onClick:lang.hitch(this,this._delete_project)}));this.std_menu.addChild(new dijit.MenuItem({label:"Edit Project",onClick:lang.hitch(this,this._edit_project)}));this.std_menu.addChild(new dijit.MenuItem({label:"Update Project",onClick:lang.hitch(this,this._update_project)}));this.std_menu.addChild(new dijit.MenuItem({label:"Add Desks",onClick:lang.hitch(this,this._add_desks)}));this.std_menu.startup();}menu=this.std_menu;}menu._openMyself(evt);},_add_desks:function(){if(confirm("Add all desks for projectid "+this._selected_row.researchprojectid+"?")){_53c.post("/research/admin/projects/project_add_desks",_53d.make_params({data:{researchprojectid:this._selected_row.researchprojectid}})).then(this._project_add_desks_call_back);}},_edit_project:function(){this.edit.load(this._selected_row);this.zone.selectChild(this.edit);},_show_projects:function(){this.zone.selectChild(this.projects_views);},_refresh:function(){this.projects_grid.set("query",{});},_show_list_event:function(){this.projects_grid.set("query",{});this.zone.selectChild(this.projects_views);},_delete_project:function(){if(confirm("Delete Project")){_53c.post("/research/admin/projects/project_delete",_53d.make_params({data:{researchprojectid:this._selected_row.researchprojectid}})).then(this._project_deleted_call_back);}},_update_project:function(){this.update_ctrl.load(this._selected_row.researchprojectid);},_send_quest:function(){_53c.post("/research/admin/projects/project_send",_53d.make_params({data:{researchprojectid:this._selected_row.researchprojectid}})).then(this._project_send_call_back);},_project_send_call:function(_542){if(_542.success=="OK"){alert("Set Up for sending");this.model.put(_542.data);}else{alert("Problem sending emails");}},_clear_filter:function(){this.researchprojectname.set("value","");},_execute:function(){var _543={};if(arguments[0].researchprojectname.length>0){_543["researchprojectname"]=arguments[0].researchprojectname;}this.projects_grid.set("query",_543);},_update_event:function(_544){this.model.put(_544);},_add_event:function(_545){this.model.add(_545);}});});},"dijit/form/ComboBoxMixin":function(){define(["dojo/_base/declare","dojo/Deferred","dojo/_base/kernel","dojo/_base/lang","dojo/store/util/QueryResults","./_AutoCompleterMixin","./_ComboBoxMenu","../_HasDropDown","dojo/text!./templates/DropDownBox.html"],function(_546,_547,_548,lang,_549,_54a,_54b,_54c,_54d){return _546("dijit.form.ComboBoxMixin",[_54c,_54a],{dropDownClass:_54b,hasDownArrow:true,templateString:_54d,baseClass:"dijitTextBox dijitComboBox",cssStateNodes:{"_buttonNode":"dijitDownArrowButton"},_setHasDownArrowAttr:function(val){this._set("hasDownArrow",val);this._buttonNode.style.display=val?"":"none";},_showResultList:function(){this.displayMessage("");this.inherited(arguments);},_setStoreAttr:function(_54e){if(!_54e.get){lang.mixin(_54e,{_oldAPI:true,get:function(id){var _54f=new _547();this.fetchItemByIdentity({identity:id,onItem:function(_550){_54f.resolve(_550);},onError:function(_551){_54f.reject(_551);}});return _54f.promise;},query:function(_552,_553){var _554=new _547(function(){_555.abort&&_555.abort();});_554.total=new _547();var _555=this.fetch(lang.mixin({query:_552,onBegin:function(_556){_554.total.resolve(_556);},onComplete:function(_557){_554.resolve(_557);},onError:function(_558){_554.reject(_558);}},_553));return _549(_554);}});}this._set("store",_54e);},postMixInProperties:function(){var _559=this.params.store||this.store;if(_559){this._setStoreAttr(_559);}this.inherited(arguments);if(!this.params.store&&this.store&&!this.store._oldAPI){var _55a=this.declaredClass;lang.mixin(this.store,{getValue:function(item,attr){_548.deprecated(_55a+".store.getValue(item, attr) is deprecated for builtin store.  Use item.attr directly","","2.0");return item[attr];},getLabel:function(item){_548.deprecated(_55a+".store.getLabel(item) is deprecated for builtin store.  Use item.label directly","","2.0");return item.name;},fetch:function(args){_548.deprecated(_55a+".store.fetch() is deprecated for builtin store.","Use store.query()","2.0");var shim=["dojo/data/ObjectStore"];require(shim,lang.hitch(this,function(_55b){new _55b({objectStore:this}).fetch(args);}));}});}},buildRendering:function(){this.inherited(arguments);this.focusNode.setAttribute("aria-autocomplete",this.autoComplete?"both":"list");}});});},"dijit/form/Select":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/i18n","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","./_FormSelectWidget","../_HasDropDown","../DropDownMenu","../MenuItem","../MenuSeparator","../Tooltip","../_KeyNavMixin","../registry","dojo/text!./templates/Select.html","dojo/i18n!./nls/validate"],function(_55c,_55d,_55e,_55f,_560,i18n,keys,lang,on,has,_561,_562,_563,_564,_565,_566,_567,_568,_569){var _56a=_55d("dijit.form._SelectMenu",_563,{autoFocus:true,buildRendering:function(){this.inherited(arguments);this.domNode.setAttribute("role","listbox");},postCreate:function(){this.inherited(arguments);this.own(on(this.domNode,"selectstart",function(evt){evt.preventDefault();evt.stopPropagation();}));},focus:function(){var _56b=false,val=this.parentWidget.value;if(lang.isArray(val)){val=val[val.length-1];}if(val){_55c.forEach(this.parentWidget._getChildren(),function(_56c){if(_56c.option&&(val===_56c.option.value)){_56b=true;this.focusChild(_56c,false);}},this);}if(!_56b){this.inherited(arguments);}}});var _56d=_55d("dijit.form.Select"+(has("dojo-bidi")?"_NoBidi":""),[_561,_562,_567],{baseClass:"dijitSelect dijitValidationTextBox",templateString:_569,_buttonInputDisabled:has("ie")?"disabled":"",required:false,state:"",message:"",tooltipPosition:[],emptyLabel:"&#160;",_isLoaded:false,_childrenLoaded:false,labelType:"html",_fillContent:function(){this.inherited(arguments);if(this.options.length&&!this.value&&this.srcNodeRef){var si=this.srcNodeRef.selectedIndex||0;this._set("value",this.options[si>=0?si:0].value);}this.dropDown=new _56a({id:this.id+"_menu",parentWidget:this});_55f.add(this.dropDown.domNode,this.baseClass.replace(/\s+|$/g,"Menu "));},_getMenuItemForOption:function(_56e){if(!_56e.value&&!_56e.label){return new _565({ownerDocument:this.ownerDocument});}else{var _56f=lang.hitch(this,"_setValueAttr",_56e);var item=new _564({option:_56e,label:(this.labelType==="text"?(_56e.label||"").toString().replace(/&/g,"&amp;").replace(/</g,"&lt;"):_56e.label)||this.emptyLabel,onClick:_56f,ownerDocument:this.ownerDocument,dir:this.dir,textDir:this.textDir,disabled:_56e.disabled||false});item.focusNode.setAttribute("role","option");return item;}},_addOptionItem:function(_570){if(this.dropDown){this.dropDown.addChild(this._getMenuItemForOption(_570));}},_getChildren:function(){if(!this.dropDown){return [];}return this.dropDown.getChildren();},focus:function(){if(!this.disabled&&this.focusNode.focus){try{this.focusNode.focus();}catch(e){}}},focusChild:function(_571){if(_571){this.set("value",_571.option);}},_getFirst:function(){var _572=this._getChildren();return _572.length?_572[0]:null;},_getLast:function(){var _573=this._getChildren();return _573.length?_573[_573.length-1]:null;},childSelector:function(node){var node=_568.byNode(node);return node&&node.getParent()==this.dropDown;},onKeyboardSearch:function(item,evt,_574,_575){if(item){this.focusChild(item);}},_loadChildren:function(_576){if(_576===true){if(this.dropDown){delete this.dropDown.focusedChild;this.focusedChild=null;}if(this.options.length){this.inherited(arguments);}else{_55c.forEach(this._getChildren(),function(_577){_577.destroyRecursive();});var item=new _564({ownerDocument:this.ownerDocument,label:this.emptyLabel});this.dropDown.addChild(item);}}else{this._updateSelection();}this._isLoaded=false;this._childrenLoaded=true;if(!this._loadingStore){this._setValueAttr(this.value,false);}},_refreshState:function(){if(this._started){this.validate(this.focused);}},startup:function(){this.inherited(arguments);this._refreshState();},_setValueAttr:function(_578){this.inherited(arguments);_55e.set(this.valueNode,"value",this.get("value"));this._refreshState();},_setNameAttr:"valueNode",_setDisabledAttr:function(_579){this.inherited(arguments);this._refreshState();},_setRequiredAttr:function(_57a){this._set("required",_57a);this.focusNode.setAttribute("aria-required",_57a);this._refreshState();},_setOptionsAttr:function(_57b){this._isLoaded=false;this._set("options",_57b);},_setDisplay:function(_57c){var lbl=(this.labelType==="text"?(_57c||"").replace(/&/g,"&amp;").replace(/</g,"&lt;"):_57c)||this.emptyLabel;this.containerNode.innerHTML="<span role=\"option\" aria-selected=\"true\" class=\"dijitReset dijitInline "+this.baseClass.replace(/\s+|$/g,"Label ")+"\">"+lbl+"</span>";},validate:function(_57d){var _57e=this.disabled||this.isValid(_57d);this._set("state",_57e?"":(this._hasBeenBlurred?"Error":"Incomplete"));this.focusNode.setAttribute("aria-invalid",_57e?"false":"true");var _57f=_57e?"":this._missingMsg;if(_57f&&this.focused&&this._hasBeenBlurred){_566.show(_57f,this.domNode,this.tooltipPosition,!this.isLeftToRight());}else{_566.hide(this.domNode);}this._set("message",_57f);return _57e;},isValid:function(){return (!this.required||this.value===0||!(/^\s*$/.test(this.value||"")));},reset:function(){this.inherited(arguments);_566.hide(this.domNode);this._refreshState();},postMixInProperties:function(){this.inherited(arguments);this._missingMsg=i18n.getLocalization("dijit.form","validate",this.lang).missingMessage;},postCreate:function(){this.inherited(arguments);this.own(on(this.domNode,"selectstart",function(evt){evt.preventDefault();evt.stopPropagation();}));this.domNode.setAttribute("aria-expanded","false");var _580=this._keyNavCodes;delete _580[keys.LEFT_ARROW];delete _580[keys.RIGHT_ARROW];},_setStyleAttr:function(_581){this.inherited(arguments);_55f.toggle(this.domNode,this.baseClass.replace(/\s+|$/g,"FixedWidth "),!!this.domNode.style.width);},isLoaded:function(){return this._isLoaded;},loadDropDown:function(_582){this._loadChildren(true);this._isLoaded=true;_582();},destroy:function(_583){if(this.dropDown&&!this.dropDown._destroyed){this.dropDown.destroyRecursive(_583);delete this.dropDown;}_566.hide(this.domNode);this.inherited(arguments);},_onFocus:function(){this.validate(true);},_onBlur:function(){_566.hide(this.domNode);this.inherited(arguments);this.validate(false);}});if(has("dojo-bidi")){_56d=_55d("dijit.form.Select",_56d,{_setDisplay:function(_584){this.inherited(arguments);this.applyTextDir(this.containerNode);}});}_56d._Menu=_56a;function _585(_586){return function(evt){if(!this._isLoaded){this.loadDropDown(lang.hitch(this,_586,evt));}else{this.inherited(_586,arguments);}};};_56d.prototype._onContainerKeydown=_585("_onContainerKeydown");_56d.prototype._onContainerKeypress=_585("_onContainerKeypress");return _56d;});},"dijit/Calendar":function(){define(["dojo/_base/array","dojo/date","dojo/date/locale","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","./CalendarLite","./_Widget","./_CssStateMixin","./_TemplatedMixin","./form/DropDownButton"],function(_587,date,_588,_589,_58a,_58b,_58c,_58d,keys,lang,on,has,_58e,_58f,_590,_591,_592){var _593=_589("dijit.Calendar",[_58e,_58f,_590],{baseClass:"dijitCalendar",cssStateNodes:{"decrementMonth":"dijitCalendarArrow","incrementMonth":"dijitCalendarArrow","previousYearLabelNode":"dijitCalendarPreviousYear","nextYearLabelNode":"dijitCalendarNextYear"},setValue:function(_594){_58d.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",_594);},_createMonthWidget:function(){return new _593._MonthDropDownButton({id:this.id+"_mddb",tabIndex:-1,onMonthSelect:lang.hitch(this,"_onMonthSelect"),lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode);},postCreate:function(){this.inherited(arguments);this.own(on(this.domNode,"keydown",lang.hitch(this,"_onKeyDown")),on(this.dateRowsNode,"mouseover",lang.hitch(this,"_onDayMouseOver")),on(this.dateRowsNode,"mouseout",lang.hitch(this,"_onDayMouseOut")),on(this.dateRowsNode,"mousedown",lang.hitch(this,"_onDayMouseDown")),on(this.dateRowsNode,"mouseup",lang.hitch(this,"_onDayMouseUp")));},_onMonthSelect:function(_595){var date=new this.dateClassObj(this.currentFocus);date.setDate(1);date.setMonth(_595);var _596=this.dateModule.getDaysInMonth(date);var _597=this.currentFocus.getDate();date.setDate(Math.min(_597,_596));this._setCurrentFocusAttr(date);},_onDayMouseOver:function(evt){var node=_58b.contains(evt.target,"dijitCalendarDateLabel")?evt.target.parentNode:evt.target;if(node&&((node.dijitDateValue&&!_58b.contains(node,"dijitCalendarDisabledDate"))||node==this.previousYearLabelNode||node==this.nextYearLabelNode)){_58b.add(node,"dijitCalendarHoveredDate");this._currentNode=node;}},_onDayMouseOut:function(evt){if(!this._currentNode){return;}if(evt.relatedTarget&&evt.relatedTarget.parentNode==this._currentNode){return;}var cls="dijitCalendarHoveredDate";if(_58b.contains(this._currentNode,"dijitCalendarActiveDate")){cls+=" dijitCalendarActiveDate";}_58b.remove(this._currentNode,cls);this._currentNode=null;},_onDayMouseDown:function(evt){var node=evt.target.parentNode;if(node&&node.dijitDateValue&&!_58b.contains(node,"dijitCalendarDisabledDate")){_58b.add(node,"dijitCalendarActiveDate");this._currentNode=node;}},_onDayMouseUp:function(evt){var node=evt.target.parentNode;if(node&&node.dijitDateValue){_58b.remove(node,"dijitCalendarActiveDate");}},handleKey:function(evt){var _598=-1,_599,_59a=this.currentFocus;switch(evt.keyCode){case keys.RIGHT_ARROW:_598=1;case keys.LEFT_ARROW:_599="day";if(!this.isLeftToRight()){_598*=-1;}break;case keys.DOWN_ARROW:_598=1;case keys.UP_ARROW:_599="week";break;case keys.PAGE_DOWN:_598=1;case keys.PAGE_UP:_599=evt.ctrlKey||evt.altKey?"year":"month";break;case keys.END:_59a=this.dateModule.add(_59a,"month",1);_599="day";case keys.HOME:_59a=new this.dateClassObj(_59a);_59a.setDate(1);break;default:return true;}if(_599){_59a=this.dateModule.add(_59a,_599,_598);}this._setCurrentFocusAttr(_59a);return false;},_onKeyDown:function(evt){if(!this.handleKey(evt)){evt.stopPropagation();evt.preventDefault();}},onValueSelected:function(){},onChange:function(_59b){this.onValueSelected(_59b);},getClassForDate:function(){}});_593._MonthDropDownButton=_589("dijit.Calendar._MonthDropDownButton",_592,{onMonthSelect:function(){},postCreate:function(){this.inherited(arguments);this.dropDown=new _593._MonthDropDown({id:this.id+"_mdd",onChange:this.onMonthSelect});},_setMonthAttr:function(_59c){var _59d=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,_59c);this.dropDown.set("months",_59d);this.containerNode.innerHTML=(has("ie")==6?"":"<div class='dijitSpacer'>"+this.dropDown.domNode.innerHTML+"</div>")+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+_59d[_59c.getMonth()]+"</div>";}});_593._MonthDropDown=_589("dijit.Calendar._MonthDropDown",[_58f,_591,_590],{months:[],baseClass:"dijitCalendarMonthMenu dijitMenu",templateString:"<div data-dojo-attach-event='ondijitclick:_onClick'></div>",_setMonthsAttr:function(_59e){this.domNode.innerHTML="";_587.forEach(_59e,function(_59f,idx){var div=_58c.create("div",{className:"dijitCalendarMonthLabel",month:idx,innerHTML:_59f},this.domNode);div._cssState="dijitCalendarMonthLabel";},this);},_onClick:function(evt){this.onChange(_58a.get(evt.target,"month"));},onChange:function(){}});return _593;});},"research/outlets/OutletSetPrimary":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../outlets/templates/OutletSetPrimary.html","dojo/request","ttl/utilities2","dojo/json","dojo/_base/lang","dojo/topic","dojo/dom-attr","dijit/layout/ContentPane","dijit/form/TextBox","dijit/form/Button","dijit/form/FilteringSelect","dijit/form/Form","dijit/form/Textarea"],function(_5a0,_5a1,_5a2,_5a3,_5a4,json,lang,_5a5,_5a6){return _5a0("research.outlets.OutletSetPrimary",[_5a1],{templateString:_5a2,constructor:function(){this._set_primary_call_back=lang.hitch(this,this._set_primary_call);},postCreate:function(){dojo.connect(this.form,"onSubmit",lang.hitch(this,this._set_primary_submit));this.reasoncodes.set("store",PRCOMMON.utils.stores.Research_Reason_Update_Codes());this.inherited(arguments);},_set_primary_submit:function(){if(_5a4.form_validator(this.form)==false){alert("Not all required fields filled in");throw "N";}if(confirm("Set Primary  Contact "+_5a6.get(this.heading,"innerHTML")+"?")){_5a3.post("/research/admin/employees/research_set_primary",_5a4.make_params({data:this.form.get("value")})).then(this._set_primary_call_back);}},_set_primary_call:function(_5a7){if(_5a7.success=="OK"){alert("Outlet Primary Contact Changed. Please verify the 'Research tab' to make sure these changes haven't effected it");if(_5a7.employee.series==true){alert("Series members were affected. Please run employee synchronisation process");}this.clear();_5a5.publish("/emp/set_primary");this._dialog.hide();}else{alert("Problem Changed Primary Contact");}},clear:function(){this.employeeid.set("value",-1);this.reasoncodes.set("value",PRCOMMON.utils.stores.Reason_Upd_Default);_5a6.set(this.heading,"innerHTML","");},load:function(_5a8,_5a9,_5aa,_5ab){this._dialog=_5ab;this.employeeid.set("value",_5a8);_5a6.set(this.heading,"innerHTML",_5a9);this.reasoncodes.set("value",PRCOMMON.utils.stores.Reason_Upd_Default);},});});},"dojox/validate/regexp":function(){define(["dojo/_base/lang","dojo/regexp","dojox/main"],function(lang,_5ac,_5ad){var _5ae=lang.getObject("validate.regexp",true,_5ad);_5ae=_5ad.validate.regexp={ipAddress:function(_5af){_5af=(typeof _5af=="object")?_5af:{};if(typeof _5af.allowDottedDecimal!="boolean"){_5af.allowDottedDecimal=true;}if(typeof _5af.allowDottedHex!="boolean"){_5af.allowDottedHex=true;}if(typeof _5af.allowDottedOctal!="boolean"){_5af.allowDottedOctal=true;}if(typeof _5af.allowDecimal!="boolean"){_5af.allowDecimal=true;}if(typeof _5af.allowHex!="boolean"){_5af.allowHex=true;}if(typeof _5af.allowIPv6!="boolean"){_5af.allowIPv6=true;}if(typeof _5af.allowHybrid!="boolean"){_5af.allowHybrid=true;}var _5b0="((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";var _5b1="(0[xX]0*[\\da-fA-F]?[\\da-fA-F]\\.){3}0[xX]0*[\\da-fA-F]?[\\da-fA-F]";var _5b2="(0+[0-3][0-7][0-7]\\.){3}0+[0-3][0-7][0-7]";var _5b3="(0|[1-9]\\d{0,8}|[1-3]\\d{9}|4[01]\\d{8}|42[0-8]\\d{7}|429[0-3]\\d{6}|"+"4294[0-8]\\d{5}|42949[0-5]\\d{4}|429496[0-6]\\d{3}|4294967[01]\\d{2}|42949672[0-8]\\d|429496729[0-5])";var _5b4="0[xX]0*[\\da-fA-F]{1,8}";var _5b5="([\\da-fA-F]{1,4}\\:){7}[\\da-fA-F]{1,4}";var _5b6="([\\da-fA-F]{1,4}\\:){6}"+"((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";var a=[];if(_5af.allowDottedDecimal){a.push(_5b0);}if(_5af.allowDottedHex){a.push(_5b1);}if(_5af.allowDottedOctal){a.push(_5b2);}if(_5af.allowDecimal){a.push(_5b3);}if(_5af.allowHex){a.push(_5b4);}if(_5af.allowIPv6){a.push(_5b5);}if(_5af.allowHybrid){a.push(_5b6);}var _5b7="";if(a.length>0){_5b7="("+a.join("|")+")";}return _5b7;},host:function(_5b8){_5b8=(typeof _5b8=="object")?_5b8:{};if(typeof _5b8.allowIP!="boolean"){_5b8.allowIP=true;}if(typeof _5b8.allowLocal!="boolean"){_5b8.allowLocal=false;}if(typeof _5b8.allowPort!="boolean"){_5b8.allowPort=true;}if(typeof _5b8.allowNamed!="boolean"){_5b8.allowNamed=false;}var _5b9="(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)";var _5ba="(?:[a-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)";var _5bb=_5b8.allowPort?"(\\:\\d+)?":"";var _5bc="((?:"+_5b9+"\\.)+"+_5ba+"\\.?)";if(_5b8.allowIP){_5bc+="|"+_5ae.ipAddress(_5b8);}if(_5b8.allowLocal){_5bc+="|localhost";}if(_5b8.allowNamed){_5bc+="|^[^-][a-zA-Z0-9_-]*";}return "("+_5bc+")"+_5bb;},url:function(_5bd){_5bd=(typeof _5bd=="object")?_5bd:{};if(!("scheme" in _5bd)){_5bd.scheme=[true,false];}var _5be=_5ac.buildGroupRE(_5bd.scheme,function(q){if(q){return "(https?|ftps?)\\://";}return "";});var _5bf="(/(?:[^?#\\s/]+/)*(?:[^?#\\s/]+(?:\\?[^?#\\s/]*)?(?:#[A-Za-z][\\w.:-]*)?)?)?";return _5be+_5ae.host(_5bd)+_5bf;},emailAddress:function(_5c0){_5c0=(typeof _5c0=="object")?_5c0:{};if(typeof _5c0.allowCruft!="boolean"){_5c0.allowCruft=false;}_5c0.allowPort=false;var _5c1="([!#-'*+\\-\\/-9=?A-Z^-~]+[.])*[!#-'*+\\-\\/-9=?A-Z^-~]+";var _5c2=_5c1+"@"+_5ae.host(_5c0);if(_5c0.allowCruft){_5c2="<?(mailto\\:)?"+_5c2+">?";}return _5c2;},emailAddressList:function(_5c3){_5c3=(typeof _5c3=="object")?_5c3:{};if(typeof _5c3.listSeparator!="string"){_5c3.listSeparator="\\s;,";}var _5c4=_5ae.emailAddress(_5c3);var _5c5="("+_5c4+"\\s*["+_5c3.listSeparator+"]\\s*)*"+_5c4+"\\s*["+_5c3.listSeparator+"]?\\s*";return _5c5;},numberFormat:function(_5c6){_5c6=(typeof _5c6=="object")?_5c6:{};if(typeof _5c6.format=="undefined"){_5c6.format="###-###-####";}var _5c7=function(_5c8){return _5ac.escapeString(_5c8,"?").replace(/\?/g,"\\d?").replace(/#/g,"\\d");};return _5ac.buildGroupRE(_5c6.format,_5c7);},ca:{postalCode:function(){return "([A-Z][0-9][A-Z] [0-9][A-Z][0-9])";},province:function(){return "(AB|BC|MB|NB|NL|NS|NT|NU|ON|PE|QC|SK|YT)";}},us:{state:function(_5c9){_5c9=(typeof _5c9=="object")?_5c9:{};if(typeof _5c9.allowTerritories!="boolean"){_5c9.allowTerritories=true;}if(typeof _5c9.allowMilitary!="boolean"){_5c9.allowMilitary=true;}var _5ca="AL|AK|AZ|AR|CA|CO|CT|DE|DC|FL|GA|HI|ID|IL|IN|IA|KS|KY|LA|ME|MD|MA|MI|MN|MS|MO|MT|"+"NE|NV|NH|NJ|NM|NY|NC|ND|OH|OK|OR|PA|RI|SC|SD|TN|TX|UT|VT|VA|WA|WV|WI|WY";var _5cb="AS|FM|GU|MH|MP|PW|PR|VI";var _5cc="AA|AE|AP";if(_5c9.allowTerritories){_5ca+="|"+_5cb;}if(_5c9.allowMilitary){_5ca+="|"+_5cc;}return "("+_5ca+")";}}};return _5ae;});},"dijit/_base/manager":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(_5cd,_5ce,lang,_5cf,_5d0){var _5d1={};_5cd.forEach(["byId","getUniqueId","findWidgets","_destroyAll","byNode","getEnclosingWidget"],function(name){_5d1[name]=_5cf[name];});lang.mixin(_5d1,{defaultDuration:_5ce["defaultDuration"]||200});lang.mixin(_5d0,_5d1);return _5d0;});},"dojo/data/ItemFileReadStore":function(){define(["../_base/kernel","../_base/lang","../_base/declare","../_base/array","../_base/xhr","../Evented","./util/filter","./util/simpleFetch","../date/stamp"],function(_5d2,lang,_5d3,_5d4,xhr,_5d5,_5d6,_5d7,_5d8){var _5d9=_5d3("dojo.data.ItemFileReadStore",[_5d5],{constructor:function(_5da){this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._jsonFileUrl=_5da.url;this._ccUrl=_5da.url;this.url=_5da.url;this._jsonData=_5da.data;this.data=null;this._datatypeMap=_5da.typeMap||{};if(!this._datatypeMap["Date"]){this._datatypeMap["Date"]={type:Date,deserialize:function(_5db){return _5d8.fromISOString(_5db);}};}this._features={"dojo.data.api.Read":true,"dojo.data.api.Identity":true};this._itemsByIdentity=null;this._storeRefPropName="_S";this._itemNumPropName="_0";this._rootItemPropName="_RI";this._reverseRefMap="_RRM";this._loadInProgress=false;this._queuedFetches=[];if(_5da.urlPreventCache!==undefined){this.urlPreventCache=_5da.urlPreventCache?true:false;}if(_5da.hierarchical!==undefined){this.hierarchical=_5da.hierarchical?true:false;}if(_5da.clearOnClose){this.clearOnClose=true;}if("failOk" in _5da){this.failOk=_5da.failOk?true:false;}},url:"",_ccUrl:"",data:null,typeMap:null,clearOnClose:false,urlPreventCache:false,failOk:false,hierarchical:true,_assertIsItem:function(item){if(!this.isItem(item)){throw new Error(this.declaredClass+": Invalid item argument.");}},_assertIsAttribute:function(_5dc){if(typeof _5dc!=="string"){throw new Error(this.declaredClass+": Invalid attribute argument.");}},getValue:function(item,_5dd,_5de){var _5df=this.getValues(item,_5dd);return (_5df.length>0)?_5df[0]:_5de;},getValues:function(item,_5e0){this._assertIsItem(item);this._assertIsAttribute(_5e0);return (item[_5e0]||[]).slice(0);},getAttributes:function(item){this._assertIsItem(item);var _5e1=[];for(var key in item){if((key!==this._storeRefPropName)&&(key!==this._itemNumPropName)&&(key!==this._rootItemPropName)&&(key!==this._reverseRefMap)){_5e1.push(key);}}return _5e1;},hasAttribute:function(item,_5e2){this._assertIsItem(item);this._assertIsAttribute(_5e2);return (_5e2 in item);},containsValue:function(item,_5e3,_5e4){var _5e5=undefined;if(typeof _5e4==="string"){_5e5=_5d6.patternToRegExp(_5e4,false);}return this._containsValue(item,_5e3,_5e4,_5e5);},_containsValue:function(item,_5e6,_5e7,_5e8){return _5d4.some(this.getValues(item,_5e6),function(_5e9){if(_5e9!==null&&!lang.isObject(_5e9)&&_5e8){if(_5e9.toString().match(_5e8)){return true;}}else{if(_5e7===_5e9){return true;}}});},isItem:function(_5ea){if(_5ea&&_5ea[this._storeRefPropName]===this){if(this._arrayOfAllItems[_5ea[this._itemNumPropName]]===_5ea){return true;}}return false;},isItemLoaded:function(_5eb){return this.isItem(_5eb);},loadItem:function(_5ec){this._assertIsItem(_5ec.item);},getFeatures:function(){return this._features;},getLabel:function(item){if(this._labelAttr&&this.isItem(item)){return this.getValue(item,this._labelAttr);}return undefined;},getLabelAttributes:function(item){if(this._labelAttr){return [this._labelAttr];}return null;},filter:function(_5ed,_5ee,_5ef){var _5f0=[],i,key;if(_5ed.query){var _5f1,_5f2=_5ed.queryOptions?_5ed.queryOptions.ignoreCase:false;var _5f3={};for(key in _5ed.query){_5f1=_5ed.query[key];if(typeof _5f1==="string"){_5f3[key]=_5d6.patternToRegExp(_5f1,_5f2);}else{if(_5f1 instanceof RegExp){_5f3[key]=_5f1;}}}for(i=0;i<_5ee.length;++i){var _5f4=true;var _5f5=_5ee[i];if(_5f5===null){_5f4=false;}else{for(key in _5ed.query){_5f1=_5ed.query[key];if(!this._containsValue(_5f5,key,_5f1,_5f3[key])){_5f4=false;}}}if(_5f4){_5f0.push(_5f5);}}_5ef(_5f0,_5ed);}else{for(i=0;i<_5ee.length;++i){var item=_5ee[i];if(item!==null){_5f0.push(item);}}_5ef(_5f0,_5ed);}},_fetchItems:function(_5f6,_5f7,_5f8){var self=this;if(this._loadFinished){this.filter(_5f6,this._getItemsArray(_5f6.queryOptions),_5f7);}else{if(this._jsonFileUrl!==this._ccUrl){_5d2.deprecated(this.declaredClass+": ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_5f6,filter:lang.hitch(self,"filter"),findCallback:lang.hitch(self,_5f7)});}else{this._loadInProgress=true;var _5f9={url:self._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk};var _5fa=xhr.get(_5f9);_5fa.addCallback(function(data){try{self._getItemsFromLoadedData(data);self._loadFinished=true;self._loadInProgress=false;self.filter(_5f6,self._getItemsArray(_5f6.queryOptions),_5f7);self._handleQueuedFetches();}catch(e){self._loadFinished=true;self._loadInProgress=false;_5f8(e,_5f6);}});_5fa.addErrback(function(_5fb){self._loadInProgress=false;_5f8(_5fb,_5f6);});var _5fc=null;if(_5f6.abort){_5fc=_5f6.abort;}_5f6.abort=function(){var df=_5fa;if(df&&df.fired===-1){df.cancel();df=null;}if(_5fc){_5fc.call(_5f6);}};}}else{if(this._jsonData){try{this._loadFinished=true;this._getItemsFromLoadedData(this._jsonData);this._jsonData=null;self.filter(_5f6,this._getItemsArray(_5f6.queryOptions),_5f7);}catch(e){_5f8(e,_5f6);}}else{_5f8(new Error(this.declaredClass+": No JSON source data was provided as either URL or a nested Javascript object."),_5f6);}}}},_handleQueuedFetches:function(){if(this._queuedFetches.length>0){for(var i=0;i<this._queuedFetches.length;i++){var _5fd=this._queuedFetches[i],_5fe=_5fd.args,_5ff=_5fd.filter,_600=_5fd.findCallback;if(_5ff){_5ff(_5fe,this._getItemsArray(_5fe.queryOptions),_600);}else{this.fetchItemByIdentity(_5fe);}}this._queuedFetches=[];}},_getItemsArray:function(_601){if(_601&&_601.deep){return this._arrayOfAllItems;}return this._arrayOfTopLevelItems;},close:function(_602){if(this.clearOnClose&&this._loadFinished&&!this._loadInProgress){if(((this._jsonFileUrl==""||this._jsonFileUrl==null)&&(this.url==""||this.url==null))&&this.data==null){}this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._itemsByIdentity=null;this._loadInProgress=false;this._queuedFetches=[];}},_getItemsFromLoadedData:function(_603){var _604=false,self=this;function _605(_606){return (_606!==null)&&(typeof _606==="object")&&(!lang.isArray(_606)||_604)&&(!lang.isFunction(_606))&&(_606.constructor==Object||lang.isArray(_606))&&(typeof _606._reference==="undefined")&&(typeof _606._type==="undefined")&&(typeof _606._value==="undefined")&&self.hierarchical;};function _607(_608){self._arrayOfAllItems.push(_608);for(var _609 in _608){var _60a=_608[_609];if(_60a){if(lang.isArray(_60a)){var _60b=_60a;for(var k=0;k<_60b.length;++k){var _60c=_60b[k];if(_605(_60c)){_607(_60c);}}}else{if(_605(_60a)){_607(_60a);}}}}};this._labelAttr=_603.label;var i,item;this._arrayOfAllItems=[];this._arrayOfTopLevelItems=_603.items;for(i=0;i<this._arrayOfTopLevelItems.length;++i){item=this._arrayOfTopLevelItems[i];if(lang.isArray(item)){_604=true;}_607(item);item[this._rootItemPropName]=true;}var _60d={},key;for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];for(key in item){if(key!==this._rootItemPropName){var _60e=item[key];if(_60e!==null){if(!lang.isArray(_60e)){item[key]=[_60e];}}else{item[key]=[null];}}_60d[key]=key;}}while(_60d[this._storeRefPropName]){this._storeRefPropName+="_";}while(_60d[this._itemNumPropName]){this._itemNumPropName+="_";}while(_60d[this._reverseRefMap]){this._reverseRefMap+="_";}var _60f;var _610=_603.identifier;if(_610){this._itemsByIdentity={};this._features["dojo.data.api.Identity"]=_610;for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];_60f=item[_610];var _611=_60f[0];if(!Object.hasOwnProperty.call(this._itemsByIdentity,_611)){this._itemsByIdentity[_611]=item;}else{if(this._jsonFileUrl){throw new Error(this.declaredClass+":  The json data as specified by: ["+this._jsonFileUrl+"] is malformed.  Items within the list have identifier: ["+_610+"].  Value collided: ["+_611+"]");}else{if(this._jsonData){throw new Error(this.declaredClass+":  The json data provided by the creation arguments is malformed.  Items within the list have identifier: ["+_610+"].  Value collided: ["+_611+"]");}}}}}else{this._features["dojo.data.api.Identity"]=Number;}for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];item[this._storeRefPropName]=this;item[this._itemNumPropName]=i;}for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];for(key in item){_60f=item[key];for(var j=0;j<_60f.length;++j){_60e=_60f[j];if(_60e!==null&&typeof _60e=="object"){if(("_type" in _60e)&&("_value" in _60e)){var type=_60e._type;var _612=this._datatypeMap[type];if(!_612){throw new Error("dojo.data.ItemFileReadStore: in the typeMap constructor arg, no object class was specified for the datatype '"+type+"'");}else{if(lang.isFunction(_612)){_60f[j]=new _612(_60e._value);}else{if(lang.isFunction(_612.deserialize)){_60f[j]=_612.deserialize(_60e._value);}else{throw new Error("dojo.data.ItemFileReadStore: Value provided in typeMap was neither a constructor, nor a an object with a deserialize function");}}}}if(_60e._reference){var _613=_60e._reference;if(!lang.isObject(_613)){_60f[j]=this._getItemByIdentity(_613);}else{for(var k=0;k<this._arrayOfAllItems.length;++k){var _614=this._arrayOfAllItems[k],_615=true;for(var _616 in _613){if(_614[_616]!=_613[_616]){_615=false;}}if(_615){_60f[j]=_614;}}}if(this.referenceIntegrity){var _617=_60f[j];if(this.isItem(_617)){this._addReferenceToMap(_617,item,key);}}}else{if(this.isItem(_60e)){if(this.referenceIntegrity){this._addReferenceToMap(_60e,item,key);}}}}}}}},_addReferenceToMap:function(_618,_619,_61a){},getIdentity:function(item){var _61b=this._features["dojo.data.api.Identity"];if(_61b===Number){return item[this._itemNumPropName];}else{var _61c=item[_61b];if(_61c){return _61c[0];}}return null;},fetchItemByIdentity:function(_61d){var item,_61e;if(!this._loadFinished){var self=this;if(this._jsonFileUrl!==this._ccUrl){_5d2.deprecated(this.declaredClass+": ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null&&this._jsonData==null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_61d});}else{this._loadInProgress=true;var _61f={url:self._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk};var _620=xhr.get(_61f);_620.addCallback(function(data){var _621=_61d.scope?_61d.scope:_5d2.global;try{self._getItemsFromLoadedData(data);self._loadFinished=true;self._loadInProgress=false;item=self._getItemByIdentity(_61d.identity);if(_61d.onItem){_61d.onItem.call(_621,item);}self._handleQueuedFetches();}catch(error){self._loadInProgress=false;if(_61d.onError){_61d.onError.call(_621,error);}}});_620.addErrback(function(_622){self._loadInProgress=false;if(_61d.onError){var _623=_61d.scope?_61d.scope:_5d2.global;_61d.onError.call(_623,_622);}});}}else{if(this._jsonData){self._getItemsFromLoadedData(self._jsonData);self._jsonData=null;self._loadFinished=true;item=self._getItemByIdentity(_61d.identity);if(_61d.onItem){_61e=_61d.scope?_61d.scope:_5d2.global;_61d.onItem.call(_61e,item);}}}}else{item=this._getItemByIdentity(_61d.identity);if(_61d.onItem){_61e=_61d.scope?_61d.scope:_5d2.global;_61d.onItem.call(_61e,item);}}},_getItemByIdentity:function(_624){var item=null;if(this._itemsByIdentity){if(Object.hasOwnProperty.call(this._itemsByIdentity,_624)){item=this._itemsByIdentity[_624];}}else{if(Object.hasOwnProperty.call(this._arrayOfAllItems,_624)){item=this._arrayOfAllItems[_624];}}if(item===undefined){item=null;}return item;},getIdentityAttributes:function(item){var _625=this._features["dojo.data.api.Identity"];if(_625===Number){return null;}else{return [_625];}},_forceLoad:function(){var self=this;if(this._jsonFileUrl!==this._ccUrl){_5d2.deprecated(this.declaredClass+": ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){var _626={url:this._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk,sync:true};var _627=xhr.get(_626);_627.addCallback(function(data){try{if(self._loadInProgress!==true&&!self._loadFinished){self._getItemsFromLoadedData(data);self._loadFinished=true;}else{if(self._loadInProgress){throw new Error(this.declaredClass+":  Unable to perform a synchronous load, an async load is in progress.");}}}catch(e){throw e;}});_627.addErrback(function(_628){throw _628;});}else{if(this._jsonData){self._getItemsFromLoadedData(self._jsonData);self._jsonData=null;self._loadFinished=true;}}}});lang.extend(_5d9,_5d7);return _5d9;});},"dijit/form/ComboButton":function(){define(["dojo/_base/declare","dojo/keys","../focus","./DropDownButton","dojo/text!./templates/ComboButton.html","../a11yclick"],function(_629,keys,_62a,_62b,_62c){return _629("dijit.form.ComboButton",_62b,{templateString:_62c,_setIdAttr:"",_setTabIndexAttr:["focusNode","titleNode"],_setTitleAttr:"titleNode",optionsTitle:"",baseClass:"dijitComboButton",cssStateNodes:{"buttonNode":"dijitButtonNode","titleNode":"dijitButtonContents","_popupStateNode":"dijitDownArrowButton"},_focusedNode:null,_onButtonKeyDown:function(evt){if(evt.keyCode==keys[this.isLeftToRight()?"RIGHT_ARROW":"LEFT_ARROW"]){_62a.focus(this._popupStateNode);evt.stopPropagation();evt.preventDefault();}},_onArrowKeyDown:function(evt){if(evt.keyCode==keys[this.isLeftToRight()?"LEFT_ARROW":"RIGHT_ARROW"]){_62a.focus(this.titleNode);evt.stopPropagation();evt.preventDefault();}},focus:function(_62d){if(!this.disabled){_62a.focus(_62d=="start"?this.titleNode:this._popupStateNode);}}});});},"dijit/WidgetSet":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","./registry"],function(_62e,_62f,_630,_631){var _632=_62f("dijit.WidgetSet",null,{constructor:function(){this._hash={};this.length=0;},add:function(_633){if(this._hash[_633.id]){throw new Error("Tried to register widget with id=="+_633.id+" but that id is already registered");}this._hash[_633.id]=_633;this.length++;},remove:function(id){if(this._hash[id]){delete this._hash[id];this.length--;}},forEach:function(func,_634){_634=_634||_630.global;var i=0,id;for(id in this._hash){func.call(_634,this._hash[id],i++,this._hash);}return this;},filter:function(_635,_636){_636=_636||_630.global;var res=new _632(),i=0,id;for(id in this._hash){var w=this._hash[id];if(_635.call(_636,w,i++,this._hash)){res.add(w);}}return res;},byId:function(id){return this._hash[id];},byClass:function(cls){var res=new _632(),id,_637;for(id in this._hash){_637=this._hash[id];if(_637.declaredClass==cls){res.add(_637);}}return res;},toArray:function(){var ar=[];for(var id in this._hash){ar.push(this._hash[id]);}return ar;},map:function(func,_638){return _62e.map(this.toArray(),func,_638);},every:function(func,_639){_639=_639||_630.global;var x=0,i;for(i in this._hash){if(!func.call(_639,this._hash[i],x++,this._hash)){return false;}}return true;},some:function(func,_63a){_63a=_63a||_630.global;var x=0,i;for(i in this._hash){if(func.call(_63a,this._hash[i],x++,this._hash)){return true;}}return false;}});_62e.forEach(["forEach","filter","byClass","map","every","some"],function(func){_631[func]=_632.prototype[func];});return _632;});},"dijit/form/RangeBoundTextBox":function(){define(["dojo/_base/declare","dojo/i18n","./MappedTextBox","dojo/i18n!./nls/validate"],function(_63b,i18n,_63c){var _63d=_63b("dijit.form.RangeBoundTextBox",_63c,{rangeMessage:"",rangeCheck:function(_63e,_63f){return ("min" in _63f?(this.compare(_63e,_63f.min)>=0):true)&&("max" in _63f?(this.compare(_63e,_63f.max)<=0):true);},isInRange:function(){return this.rangeCheck(this.get("value"),this.constraints);},_isDefinitelyOutOfRange:function(){var val=this.get("value");if(val==null){return false;}var _640=false;if("min" in this.constraints){var min=this.constraints.min;_640=this.compare(val,((typeof min=="number")&&min>=0&&val!=0)?0:min)<0;}if(!_640&&("max" in this.constraints)){var max=this.constraints.max;_640=this.compare(val,((typeof max!="number")||max>0)?max:0)>0;}return _640;},_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange();},isValid:function(_641){return this.inherited(arguments)&&((this._isEmpty(this.textbox.value)&&!this.required)||this.isInRange(_641));},getErrorMessage:function(_642){var v=this.get("value");if(v!=null&&v!==""&&(typeof v!="number"||!isNaN(v))&&!this.isInRange(_642)){return this.rangeMessage;}return this.inherited(arguments);},postMixInProperties:function(){this.inherited(arguments);if(!this.rangeMessage){this.messages=i18n.getLocalization("dijit.form","validate",this.lang);this.rangeMessage=this.messages.rangeMessage;}}});return _63d;});},"ttl/Amduuid":function(){define(["dojo/_base/declare"],function(_643){return _643("ttl.Amduuid",null,{createUUID:function(){var dg=new Date(1582,10,15,0,0,0,0);var dc=new Date();var t=dc.getTime()-dg.getTime();var h="-";var tl=this.getIntegerBits(t,0,31);var tm=this.getIntegerBits(t,32,47);var thv=this.getIntegerBits(t,48,59)+"1";var csar=this.getIntegerBits(this.rand(4095),0,7);var csl=this.getIntegerBits(this.rand(4095),0,7);var n=this.getIntegerBits(this.rand(8191),0,7)+this.getIntegerBits(this.rand(8191),8,15)+this.getIntegerBits(this.rand(8191),0,7)+this.getIntegerBits(this.rand(8191),8,15)+this.getIntegerBits(this.rand(8191),0,15);return tl+h+tm+h+thv+h+csar+csl+h+n;},getIntegerBits:function(val,_644,end){var _645=this.returnBase(val,16);var _646=new Array();var _647="";var i=0;for(i=0;i<_645.length;i++){_646.push(_645.substring(i,i+1));}for(i=Math.floor(_644/4);i<=Math.floor(end/4);i++){if(!_646[i]||_646[i]==""){_647+="0";}else{_647+=_646[i];}}return _647;},returnBase:function(_648,base){return (_648).toString(base).toUpperCase();},rand:function(max){return Math.floor(Math.random()*(max+1));}});});},"prcommon2/deletionhistory/DeletionHistoryAdd":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../deletionhistory/templates/DeletionHistoryAdd.html","dojo/request","ttl/utilities2","dojo/json","dojo/_base/lang","dojo/dom-class","dojo/dom-attr","dojo/topic","dojo/data/ItemFileReadStore","dojox/data/JsonRestStore","dijit/form/TextBox","dijit/form/Button","dijit/form/Form","dojox/form/BusyButton","dijit/form/DateTextBox"],function(_649,_64a,_64b,_64c,_64d,json,lang,_64e,_64f,_650,_651,_652){return _649("prcommon2.deletionhistory.DeletionHistoryAdd",[_64a],{templateString:_64b,mode:"add",constructor:function(){this.deletionhistorytypes=new _651({url:"/common/lookups?searchtype=deletionhistorytype"});this._users=new _651({url:"/common/lookups?searchtype=users&group=dataadmin&nofilter"});this._researchprojects=new _652({target:"/research/admin/projects/get_list",labelAttribute:"researchprojectname",idProperty:"researchprojectid"});this._add_call_back=lang.hitch(this,this._add_call);this._load_call_back=lang.hitch(this,this._load_call);this._update_call_back=lang.hitch(this,this._update_call);this._delete_call_back=lang.hitch(this,this._delete_call);this._dialog=null;this._deletionhistoryid=null;},postCreate:function(){this.reasoncodeid.set("store",PRCOMMON.utils.stores.Research_Reason_Del_Hist_Codes());this.deletionhistorytypeid.set("store",this.deletionhistorytypes);this.deletiondate.set("value",new Date());this.iuserid.set("store",this._users);this.iuserid.set("value",-1);this.deletionhistorytypeid.set("value",1);this.reasoncodeid.set("value",29);this.researchprojectid.set("store",this._researchprojects);this.inherited(arguments);_64e.remove(this.close_button,"prmaxhidden");_64e.add(this.delete_button,"prmaxhidden");},_add_deletionhistory:function(){if(_64d.form_validator(this.form)==false){alert("Not all required field filled in");this.savenode.cancel();throw "N";}var data=this.form.get("value");data["deletiondate"]=_64d.to_json_date(this.deletiondate.get("value"));if(this.mode=="add"){if(confirm("Add Deletion?")){_64c.post("/research/admin/deletionhistory/deletionhistory_add",_64d.make_params({data:data})).then(this._add_call_back);}}else{if(confirm("Update Deletion?")){_64c.post("/research/admin/deletionhistory/deletionhistory_update",_64d.make_params({data:data})).then(this._update_call_back);}}},_add_call:function(_653){if(_653.success=="OK"){alert("Deletion Added");this.clear();if(this._dialog){this._dialog.hide();}_650.publish("deletionhistory/add",_653.deletionhistory);this._deletionhistoryid=_653.deletionhistory.deletionhistoryid;}else{if(_653.success=="DU"){alert("Already Exists");this.deletionhistorydescription.focus();}else{alert("Failed");}}this.savenode.cancel();},_update_call:function(_654){if(_654.success=="OK"){alert("Deletion Updated");_650.publish("deletionhistory/update",_654.deletionhistory);this.clear();if(this._dialog){this._dialog.hide();}this._deletionhistoryid=_654.deletionhistory.deletionhistoryid;}else{if(_654.success=="DU"){alert("Already Exists");this.deletionhistorydescription.focus();}else{alert("Failed");}}this.savenode.cancel();},clear:function(){this.deletionhistoryid.set("value",-1);this.outlet_name.set("value","");this.firstname.set("value","");this.familyname.set("value","");this.domain.set("value","");this.researchprojectid.set("value",-1);this.reasoncodeid.set("value",29);this.deletionhistorytypeid.set("value",1);this.iuserid.set("value",-1);this.objectid.set("value","");this.savenode.cancel();},focus:function(){this.deletionhistorydescription.focus();},_setDialogAttr:function(_655){this._dialog=_655;},load:function(_656){this.clear();_64e.add(this.close_button,"prmaxhidden");_64e.remove(this.delete_button,"prmaxhidden");this._deletionhistoryid=_656;_64c.post("/research/admin/deletionhistory/deletionhistory_get",_64d.make_params({data:{deletionhistoryid:_656}})).then(this._load_call_back);},_load_call:function(_657){if(_657.success=="OK"){this.deletiondate.set("value",_657.data.deletiondate);this.objectid.set("value",_657.data.objectid);this.deletionhistoryid.set("value",_657.data.deletionhistoryid);this.deletionhistorydescription.set("value",_657.data.deletionhistorydescription);this.outlet_name.set("value",_657.data.outlet_name);this.firstname.set("value",_657.data.firstname);this.familyname.set("value",_657.data.familyname);this.domain.set("value",_657.data.domain);this.reasoncodeid.set("value",_657.data.reasoncodeid);this.deletionhistorytypeid.set("value",_657.data.deletionhistorytypeid);this.iuserid.set("value",_657.data.userid);if(_657.data.researchprojectid!=null){this.researchprojectid.set("value",_657.data.researchprojectid);}else{this.researchprojectid.set("value",-1);}this._dialog.show();}else{alert("Problem");}},_close:function(){if(this._dialog){this._dialog.hide();}},_delete:function(){_64c.post("/research/admin/deletionhistory/deletionhistory_delete",_64d.make_params({data:{deletionhistoryid:this._deletionhistoryid}})).then(this._delete_call_back);},_delete_call:function(_658){if(_658.success=="OK"){alert("Deletion deleted");_650.publish("deletionhistory/delete",[this._deletionhistoryid]);}else{alert("Failed");}this._dialog.hide();}});});},"research/outlets/OutletEditMainDetails":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../outlets/templates/OutletEditMainDetails.html","dijit/layout/BorderContainer","dojo/topic","dojo/_base/lang","ttl/utilities2","dojo/request","dojo/dom-attr","dojox/data/JsonRestStore","dojo/data/ItemFileReadStore","dijit/layout/ContentPane","dijit/form/Form","dijit/form/ValidationTextBox","dijit/form/FilteringSelect","dojox/validate/regexp","dijit/form/Button","dijit/form/NumberTextBox","prcommon2/interests/Interests","prcommon2/geographical/Geographical","dojox/form/BusyButton","dijit/Dialog","dojox/validate","research/outlets/OutletDelete","prcommon2/web/WebSourcesAdd","prcommon2/web/WebDatesAdd","prcommon2/circulation/CirculationSourcesAdd","prcommon2/circulation/CirculationDatesAdd","prcommon2/web/WebButton","prcommon2/dialogs/SynchroniseDialog"],function(_659,_65a,_65b,_65c,_65d,lang,_65e,_65f,_660,_661,_662){return _659("research.outlets.OutletEditMainDetails",[_65a,_65c],{templateString:_65b,gutters:true,constructor:function(){this._updated_call_back=lang.hitch(this,this._updated_call);this._media_only_call_back=lang.hitch(this,this._media_only_call);this._synchronise_call_back=lang.hitch(this,this._synchronise_call);this._complete_call_back=lang.hitch(this,this._complete_call);this._deleted_call_back=lang.hitch(this,this._deleted_call);this._circulationsources=new _661({target:"/research/admin/circulationsources/list",labelAttribute:"circulationsourcedescription",idProperty:"circulationsourceid"});this._circulationauditdates=new _661({target:"/research/admin/circulationdates/list",labelAttribute:"circulationauditdatedescription",idProperty:"circulationauditdateid"});this._websources=new _661({target:"/research/admin/websources/list",labelAttribute:"websourcedescription",idProperty:"websourceid"});this._webauditdates=new _661({target:"/research/admin/webdates/list",labelAttribute:"webauditdatedescription",idProperty:"webauditdateid"});this._costs=new _662({url:"/common/lookups?searchtype=outletprices"});this._mediaaccesstypes=new _662({url:"/common/lookups?searchtype=mediaaccesstypes"});_65d.subscribe(PRCOMMON.Events.Outlet_Updated,lang.hitch(this,this._outlet_update_event));},postCreate:function(){this.frequency.set("store",PRCOMMON.utils.stores.Frequency());this.reasoncodeid.set("store",PRCOMMON.utils.stores.Research_Reason_Update_Codes());this.reasoncodeid.set("value",PRCOMMON.utils.stores.Reason_Upd_Default);this.countryid.set("store",PRCOMMON.utils.stores.Countries());this.circulationsource_add_ctrl.set("dialog",this.circulationsource_add_dlg);this.circulationsourceid.set("store",this._circulationsources);this.circulationdates_add_ctrl.set("dialog",this.circulationdates_add_dlg);this.circulationauditdateid.set("store",this._circulationauditdates);this.websource_add_ctrl.set("dialog",this.websource_add_dlg);this.websourceid.set("store",this._websources);this.webdates_add_ctrl.set("dialog",this.webdates_add_dlg);this.webauditdateid.set("store",this._webauditdates);this.outletpriceid.set("store",this._costs);this.mediaaccesstypeid.set("store",this._mediaaccesstypes);this.www_show.set("source",this.www);this.facebook_show.set("source",this.facebook);this.twitter_show.set("source",this.twitter);this.linkedin_show.set("source",this.linkedin);this.instagram_show.set("source",this.instagram);this.circulation_show.set("source","https://www.abc.org.uk/");this.inherited(arguments);},_deleted_call:function(_663){if(_663.success=="DEL"){if(confirm("Outlet '"+_663.data.outlet_name+"' with domain '"+_663.data.domain+"' has previously asked to be deleted.\nDo you want to proceed?")){var data=this.form.get("value");data["reasoncodeid"]=this.reasoncodeid.get("value");data["no_sync"]=this.no_sync.get("checked");_65f.post("/research/admin/outlets/research_main_update",_65e.make_params({data:data})).then(this._updated_call_back);}}else{var data=this.form.get("value");data["reasoncodeid"]=this.reasoncodeid.get("value");data["no_sync"]=this.no_sync.get("checked");_65f.post("/research/admin/outlets/research_main_update",_65e.make_params({data:data})).then(this._updated_call_back);}this.updatebtn.cancel();},_updated_call:function(_664){if(_664.success=="OK"){alert("Updated");_65d.publish(PRCOMMON.Events.Outlet_Updated,_664.data);this._clear_reason();}else{alert("Failed to updated");}this.updatebtn.cancel();},_outlet_update_event:function(data){if(data.comm.tel!=this.tel.get("value")){this.tel.set("value",data.comm.tel);}if(data.comm.fax!=this.fax.get("value")){this.fax.set("value",data.comm.fax);}},clear:function(){},_clear_reason:function(){this.reasoncodeid.set("value",PRCOMMON.utils.stores.Reason_Upd_Default);this.updatebtn.cancel();},load:function(_665,_666,_667){this._clear_reason();this._outletid=_665;this.outletname.set("value",_666.outlet.outletname);this.sortname.set("value",_666.outlet.sortname);this.countryid.set("value",_666.outlet.countryid);this.address1.set("value",_666.address.address1);this.address2.set("value",_666.address.address2);this.townname.set("value",_666.address.townname);this.county.set("value",_666.address.county);this.postcode.set("value",_666.address.postcode);this.circulation.set("value",_666.outlet.circulation);this.webbrowsers.set("value",_666.outlet.webbrowsers);this.frequency.set("value",_666.outlet.frequencyid);this.www.set("value",_666.outlet.www);this.email.set("value",_666.communications.email);this.tel.set("value",_666.communications.tel);this.fax.set("value",_666.communications.fax);this.linkedin.set("value",_666.communications.linkedin);this.twitter.set("value",_666.communications.twitter);this.facebook.set("value",_666.communications.facebook);this.instagram.set("value",_666.communications.instagram);this.circulationsourceid.set("value",_666.outlet.circulationsourceid);this.circulationauditdateid.set("value",_666.outlet.circulationauditdateid);this.websourceid.set("value",_666.outlet.websourceid);this.webauditdateid.set("value",_666.outlet.webauditdateid);if(_666.outlet.outletpriceid==null){this.outletpriceid.set("value",1);}else{this.outletpriceid.set("value",_666.outlet.outletpriceid);}if(_666.outlet.mediaaccesstypeid==null){this.mediaaccesstypeid.set("value",1);}else{this.mediaaccesstypeid.set("value",_666.outlet.mediaaccesstypeid);}if(_667.profile){this.subtitle.set("value",_667.profile.subtitle);this.officialjournalof.set("value",_667.profile.officialjournalof);this.incorporating.set("value",_667.profile.incorporating);this.frequencynotes.set("value",_667.profile.frequencynotes);}else{this.subtitle.set("value","");this.officialjournalof.set("value","");this.incorporating.set("value","");this.frequencynotes.set("value","");}this.no_sync.set("value",_666.researchdetails.no_sync);this.outletid.set("value",_666.outlet.outletid);this.reasoncodeid.set("value",PRCOMMON.utils.stores.Reason_Upd_Default);},_setCheckedAttr:function(_668){this.no_sync.set("checked",_668);},_update:function(){if(_65e.form_validator(this.form)==false){alert("Not all required field filled in");this.updatebtn.cancel();throw "N";}var data=this.form.get("value");data["no_sync"]=this.no_sync.get("checked");_65f.post("/research/admin/outlets/research_check",_65e.make_params({data:data})).then(this._deleted_call_back);},_delete:function(){this.outlet_delete_ctrl.load(this._outletid,this.outletname.get("value"),this.outlet_delete_dlg);this.outlet_delete_dlg.show();},_media_only_call:function(_669){if(_669.success=="OK"){alert("Social Media Only Updated");}else{alert("Problem Updating Social Media Only");}},_update_media_only:function(){if(this.twitter.isValid()==false||this.facebook.isValid()==false||this.instagram.isValid()==false||this.linkedin.isValid()==false){alert("Invalid Data");return false;}_65f.post("/research/admin/outlets/research_update_media",_65e.make_params({data:this.form.get("value")})).then(this._media_only_call_back);},_new_circulation_source:function(){this.circulationsource_add_ctrl.clear();this.circulationsource_add_dlg.show();},_new_circulation_date:function(){this.circulationdates_add_ctrl.clear();this.circulationdates_add_dlg.show();},_add_circulation_source_event:function(_66a){this.circulationsourceid.set("value",_66a.circulationsourceid);},_add_circulation_dates_event:function(_66b){this.circulationauditdateid.set("value",_66b.circulationauditdateid);},_new_web_source:function(){this.websource_add_ctrl.clear();this.websource_add_dlg.show();},_new_web_date:function(){this.webdates_add_ctrl.clear();this.webdates_add_dlg.show();},_add_web_source_event:function(_66c){this.websourceid.set("value",_66c.websourceid);},_add_web_dates_event:function(_66d){this.webauditdateid.set("value",_66d.webauditdateid);},_synchronise:function(){var _66e={};var _66f=this._outletid;_66e["outletid"]=_66f;this.synchronise_dlg.show();this.synchronise_node.SetCompleted(this._complete_call_back);this.synchronise_node.start(_66e);},_synchronise_call:function(_670){if(_670.success=="OK"){alert("Employees Synchronised");this._complete_call();}else{alert("Employees Synchronisation Failed");}},_complete_call:function(){this.synchrbtn.cancel();this.synchronise_dlg.hide();}});});},"research/outlets/AdvanceView":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../outlets/templates/AdvanceView.html","dijit/layout/BorderContainer","ttl/grid/Grid","ttl/store/JsonRest","dojo/store/Observable","dojo/request","ttl/utilities2","dojo/json","dojo/data/ItemFileReadStore","dojo/_base/lang","dojo/topic","dijit/layout/ContentPane","dijit/Toolbar","dijit/form/DropDownButton","dijit/TooltipDialog","dijit/form/TextBox","dijit/form/Button","dijit/form/ValidationTextBox","dijit/form/Form","dojox/form/BusyButton","dijit/Dialog","prcommon2/advance/advance","research/advance/researchadvance","research/advance/AdvanceDelete","research/advance/AdvanceDuplicate"],function(_671,_672,_673,_674,Grid,_675,_676,_677,_678,json,_679,lang,_67a){return _671("research.advance.AdvanceView",[_672,_674],{templateString:_673,constructor:function(){this.advance_feature_model=new _676(new _675({target:"/advance/listoutlet_all",idProperty:"advancefeatureid"}));this._outletid=-1;_67a.subscribe(PRCOMMON.Events.Feature_Added,lang.hitch(this,this._advance_add_event));_67a.subscribe(PRCOMMON.Events.Feature_Deleted,lang.hitch(this,this._advance_delete_event));_67a.subscribe(PRCOMMON.Events.Feature_Updated,lang.hitch(this,this._advance_update_event));},postCreate:function(){this.inherited(arguments);var _67b=[{label:"Description",className:"dgrid-column-address-short",field:"feature"},{label:"Publication Date",className:"dgrid-column-address-short",field:"pub_date_display"},{label:" ",className:"grid-field-image-view",field:"",formatter:_678.format_row_ctrl},{label:" ",className:"grid-field-image-view",field:"",formatter:_678.delete_row_ctrl},{label:" ",className:"grid-field-image-view",field:"",formatter:_678.format_copy_ctrl}];this.outlet_advance_grid=new Grid({columns:_67b,selectionMode:"single",store:this.advance_feature_model,sort:[{attribute:"pub_date_display",descending:false}]});this.advance_feature_view.set("content",this.outlet_advance_grid);this.outlet_advance_grid.on(".dgrid-row:click",lang.hitch(this,this._on_cell_call));this.advance_delete_ctrl.set("dialog",this.advance_delete_dlg);this.advance_duplicate_ctrl.set("dialog",this.advance_duplicate_dlg);this.newfeature.newmode();},_on_cell_call:function(e){var cell=this.outlet_advance_grid.cell(e);if(cell.column.id=="0"||cell.column.id=="1"||cell.column.id=="2"){this.viewfeature.load(cell.row.data.advancefeatureid,this._outletid);}if(cell.column.id=="3"){this.advance_delete_ctrl.load(cell.row.data.advancefeatureid,cell.row.data.feature);this.advance_delete_dlg.show();}if(cell.column.id=="4"){this.advance_duplicate_ctrl.load(cell.row.data.advancefeatureid,cell.row.data.feature);this.advance_duplicate_dlg.show();}},load:function(_67c){this._outletid=_67c;this.viewfeature.load(-1,_67c);this.newfeature.load(-1,_67c);this.outlet_advance_grid.set("query",{outletid:this._outletid});},_advance_add_event:function(_67d){this.advance_feature_model.add(_67d);},_advance_delete_event:function(_67e){this.advance_feature_model.remove(_67e.advancefeatureid);},_advance_update_event:function(_67f){this.advance_feature_model.put(_67f);}});});},"research/translations/translatelanguage":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../translations/templates/translatelanguage.html","dojo/request","ttl/utilities2","dojo/_base/lang","dojo/data/ItemFileReadStore","dijit/form/ValidationTextBox"],function(_680,_681,_682,_683,_684,lang,_685){return _680("research.translations.translatelanguage",[_681],{templateString:_682,gutters:false,constructor:function(){this._load_details_call_back=lang.hitch(this,this._load_details_call);this._update_translation_call_back=lang.hitch(this,this._update_translation_call);this._languages=new _685({url:"/common/lookups?searchtype=languages&nofilter=1"});},postCreate:function(){this.languageid.set("store",this._languages);this.inherited(arguments);},load:function(_686,_687){this._show_func=_687;this.datasourcetranslationid.set("value",_686);_683.post("/research/international/translation/get_record",_684.make_params({data:{datasourcetranslationid:_686}})).then(this._load_details_call_back);},_load_details_call:function(_688){if(_688.success=="OK"){this.languageid.set("value",_688.data.translation);this._show_func("language");}},_update_translation:function(){if(_684.form_validator(this.form)==false){alert("Not all required fields filled in");throw "N";}_683.post("/research/international/translation/update",_684.make_params({data:this.form.get("value")})).then(this._update_translation_call_back);},_update_translation_call:function(_689){if(_689.success=="OK"){this._show_func("language",_689.data);}}});});},"research/lookups/DeletionHistory":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../lookups/templates/DeletionHistory.html","dijit/layout/BorderContainer","ttl/grid/Grid","dojox/data/JsonRestStore","ttl/store/JsonRest","dojo/store/Observable","dojo/data/ItemFileReadStore","dojo/request","ttl/utilities2","dojo/json","dojo/topic","dojo/_base/lang","dijit/layout/ContentPane","dijit/Toolbar","dijit/form/DropDownButton","dijit/TooltipDialog","dijit/form/TextBox","dijit/form/Button","dijit/form/ValidationTextBox","dijit/form/Form","dijit/Dialog","prcommon2/deletionhistory/DeletionHistoryAdd"],function(_68a,_68b,_68c,_68d,Grid,_68e,_68f,_690,_691,_692,_693,json,_694,lang){return _68a("research.lookups.DeletionHistory",[_68b,_68d],{templateString:_68c,gutters:true,constructor:function(){this._store=new _690(new _68f({target:"/research/admin/deletionhistory/list",idProperty:"deletionhistoryid"}));this.deletionhistorytypes=new _691({url:"/common/lookups?searchtype=deletionhistorytype"});this._users=new _691({url:"/common/lookups?searchtype=users&group=dataadmin&nofilter"});this._researchprojects=new _68e({target:"/research/admin/projects/get_list",labelAttribute:"researchprojectname",idProperty:"researchprojectid"});_694.subscribe("deletionhistory/update",lang.hitch(this,this._update_event));_694.subscribe("deletionhistory/add",lang.hitch(this,this._add_event));_694.subscribe("deletionhistory/delete",lang.hitch(this,this._delete_event));},postCreate:function(){var _695=[{label:" ",field:"deletionhistoryid",sortable:false,formatter:_693.generic_view,className:"grid-field-image-view"},{label:"Date",className:"standard",field:"deletiondate"},{label:"ID",className:"standard",field:"objectid"},{label:"Description",className:"standard",field:"deletionhistorydescription"},{label:"Outletname",className:"standard",field:"outlet_name"},{label:"Firstname",className:"standard",field:"firstname"},{label:"Surname",className:"standard",field:"familyname"},{label:"Domain",className:"standard",field:"domain"},{label:"Project",className:"standard",field:"researchprojectname"},{label:"Reason",className:"standard",field:"reasoncodedescription"},{label:"Type",className:"standard",field:"deletionhistorytypedescription"},{label:"User",className:"standard",field:"user_name"}];this.grid=new Grid({columns:_695,selectionMode:"single",store:this._store,query:{}});this.grid.on("dgrid-select",dojo.hitch(this,this._on_cell_call));this.deletionhistory_add_ctrl.set("dialog",this.deletionhistory_add_dlg);this.deletionhistory_update_ctrl.set("dialog",this.deletionhistory_update_dlg);this.filter_researchprojectid.set("store",this._researchprojects);this.filter_reasoncodeid.set("store",PRCOMMON.utils.stores.Research_Reason_Del_Hist_Codes());this.filter_deletionhistorytypeid.set("store",this.deletionhistorytypes);this.filter_userid.set("store",this._users);this.inherited(arguments);},startup:function(){this.inherited(arguments);this.grid_view.set("content",this.grid);},_on_cell_call:function(e){this.deletionhistory_update_ctrl.load(e.rows[0].data.deletionhistoryid);},_execute:function(){var _696={};if(arguments[0].filter_deletiondate!=null){_696["deletiondate"]=arguments[0].filter_deletiondate.getFullYear()+"-"+(arguments[0].filter_deletiondate.getMonth()+1)+"-"+arguments[0].filter_deletiondate.getDate();}if(arguments[0].filter_deletionhistorydescription){_696["deletionhistorydescription"]=arguments[0].filter_deletionhistorydescription;}if(arguments[0].filter_outlet_name){_696["outlet_name"]=arguments[0].filter_outlet_name;}if(arguments[0].filter_firstname){_696["firstname"]=arguments[0].filter_firstname;}if(arguments[0].filter_familyname){_696["familyname"]=arguments[0].filter_familyname;}if(arguments[0].filter_domain){_696["domain"]=arguments[0].filter_domain;}if(arguments[0].filter_researchprojectid){_696["researchprojectid"]=arguments[0].filter_researchprojectid;}if(arguments[0].filter_reasoncodeid){_696["reasoncodeid"]=arguments[0].filter_reasoncodeid;}if(arguments[0].filter_deletionhistorytypeid){_696["deletionhistorytypeid"]=arguments[0].filter_deletionhistorytypeid;}if(arguments[0].filter_userid){_696["iuserid"]=arguments[0].filter_userid;}this.grid.set("query",_696);},_new_deletionhistory:function(){this.deletionhistory_add_ctrl.clear();this.deletionhistory_add_dlg.show();},_clear_filter:function(){this.filter_deletiondate.set("value",null);this.filter_deletionhistorydescription.set("value","");this.filter_outlet_name.set("value","");this.filter_firstname.set("value","");this.filter_familyname.set("value","");this.filter_domain.set("value","");this.filter_researchprojectid.set("value",null);this.filter_reasoncodeid.set("value",null);this.filter_deletionhistorytypeid.set("value",null);this.filter_userid.set("value",null);},_update_event:function(_697){this._store.put(_697);},_add_event:function(_698){this._store.add(_698);},_delete_event:function(_699){this._store.remove(_699);}});});},"dijit/DialogUnderlay":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/aspect","dojo/dom-attr","dojo/dom-style","dojo/on","dojo/window","./_Widget","./_TemplatedMixin","./BackgroundIframe","./Viewport","./main"],function(_69a,lang,_69b,_69c,_69d,on,_69e,_69f,_6a0,_6a1,_6a2,_6a3){var _6a4=_69a("dijit.DialogUnderlay",[_69f,_6a0],{templateString:"<div class='dijitDialogUnderlayWrapper'><div class='dijitDialogUnderlay' tabIndex='-1' data-dojo-attach-point='node'></div></div>",dialogId:"","class":"",_modalConnects:[],_setDialogIdAttr:function(id){_69c.set(this.node,"id",id+"_underlay");this._set("dialogId",id);},_setClassAttr:function(_6a5){this.node.className="dijitDialogUnderlay "+_6a5;this._set("class",_6a5);},postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.own(on(this.domNode,"keydown",lang.hitch(this,"_onKeyDown")));this.inherited(arguments);},layout:function(){var is=this.node.style,os=this.domNode.style;os.display="none";var _6a6=_69e.getBox(this.ownerDocument);os.top=_6a6.t+"px";os.left=_6a6.l+"px";is.width=_6a6.w+"px";is.height=_6a6.h+"px";os.display="block";},show:function(){this.domNode.style.display="block";this.open=true;this.layout();this.bgIframe=new _6a1(this.domNode);var win=_69e.get(this.ownerDocument);this._modalConnects=[_6a2.on("resize",lang.hitch(this,"layout")),on(win,"scroll",lang.hitch(this,"layout"))];},hide:function(){this.bgIframe.destroy();delete this.bgIframe;this.domNode.style.display="none";while(this._modalConnects.length){(this._modalConnects.pop()).remove();}this.open=false;},destroy:function(){while(this._modalConnects.length){(this._modalConnects.pop()).remove();}this.inherited(arguments);},_onKeyDown:function(){}});_6a4.show=function(_6a7,_6a8){var _6a9=_6a4._singleton;if(!_6a9||_6a9._destroyed){_6a9=_6a3._underlay=_6a4._singleton=new _6a4(_6a7);}else{if(_6a7){_6a9.set(_6a7);}}_69d.set(_6a9.domNode,"zIndex",_6a8);if(!_6a9.open){_6a9.show();}};_6a4.hide=function(){var _6aa=_6a4._singleton;if(_6aa&&!_6aa._destroyed){_6aa.hide();}};return _6a4;});},"dijit/form/_ToggleButtonMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(_6ab,_6ac){return _6ab("dijit.form._ToggleButtonMixin",null,{checked:false,_aria_attr:"aria-pressed",_onClick:function(evt){var _6ad=this.checked;this._set("checked",!_6ad);var ret=this.inherited(arguments);this.set("checked",ret?this.checked:_6ad);return ret;},_setCheckedAttr:function(_6ae,_6af){this._set("checked",_6ae);var node=this.focusNode||this.domNode;if(this._created){if(_6ac.get(node,"checked")!=!!_6ae){_6ac.set(node,"checked",!!_6ae);}}node.setAttribute(this._aria_attr,String(_6ae));this._handleOnChange(_6ae,_6af);},postCreate:function(){this.inherited(arguments);var node=this.focusNode||this.domNode;if(this.checked){node.setAttribute("checked","checked");}if(this._resetValue===undefined){this._lastValueReported=this._resetValue=this.checked;}},reset:function(){this._hasBeenBlurred=false;this.set("checked",this.params.checked||false);}});});},"xstyle/css":function(){define(["require"],function(_6b0){"use strict";function _6b1(tag,id,_6b2){var _6b3=document.documentElement;var _6b4=_6b3.insertBefore(document.createElement(tag),_6b3.firstChild);_6b4.id=id;var _6b5=(_6b4.currentStyle||getComputedStyle(_6b4,null)||{})[_6b2];_6b3.removeChild(_6b4);return _6b5;};return {load:function(_6b6,_6b7,_6b8,_6b9){var url=_6b7.toUrl(_6b6);var _6ba;if(url.match(/!$/)){_6ba={wait:false};url=url.slice(0,-1);}var _6bb=_6b7.cache&&_6b7.cache["url:"+url];if(_6bb!=null){if(_6bb.xCss){var _6bc=_6bb.parser;var xCss=_6bb.xCss;_6bb=_6bb.cssText;}if(typeof _6bb=="string"){_6b0(["./core/load-css"],function(load){_6bd(load.insertCss(_6bb));});}else{_6bd();}if(xCss){}return;}function _6bd(_6be){var _6bf=_6b1("x-parse",null,"content");var _6c0=_6be&&(_6be.sheet||_6be.styleSheet);if(_6bf&&_6bf!="none"&&_6bf!="normal"){_6b7([eval(_6bf)],function(_6c1){if(_6be){_6c1.process(_6be,_6b8);}else{_6c1.processAll();_6b8(_6c0);}});}else{_6b8(_6c0);}};var _6c2=_6b1("div",_6b6.replace(/\//g,"-").replace(/\..*/,"")+"-loaded","display");if(_6c2=="none"){return _6bd();}_6b0(["./core/load-css"],function(load){load(url,_6bd,_6ba);});}};});},"dojo/store/util/SimpleQueryEngine":function(){define(["../../_base/array"],function(_6c3){return function(_6c4,_6c5){switch(typeof _6c4){default:throw new Error("Can not query with a "+typeof _6c4);case "object":case "undefined":var _6c6=_6c4;_6c4=function(_6c7){for(var key in _6c6){var _6c8=_6c6[key];if(_6c8&&_6c8.test){if(!_6c8.test(_6c7[key],_6c7)){return false;}}else{if(_6c8!=_6c7[key]){return false;}}}return true;};break;case "string":if(!this[_6c4]){throw new Error("No filter function "+_6c4+" was found in store");}_6c4=this[_6c4];case "function":}function _6c9(_6ca){var _6cb=_6c3.filter(_6ca,_6c4);var _6cc=_6c5&&_6c5.sort;if(_6cc){_6cb.sort(typeof _6cc=="function"?_6cc:function(a,b){for(var sort,i=0;sort=_6cc[i];i++){var _6cd=a[sort.attribute];var _6ce=b[sort.attribute];_6cd=_6cd!=null?_6cd.valueOf():_6cd;_6ce=_6ce!=null?_6ce.valueOf():_6ce;if(_6cd!=_6ce){return !!sort.descending==(_6cd==null||_6cd>_6ce)?-1:1;}}return 0;});}if(_6c5&&(_6c5.start||_6c5.count)){var _6cf=_6cb.length;_6cb=_6cb.slice(_6c5.start||0,(_6c5.start||0)+(_6c5.count||Infinity));_6cb.total=_6cf;}return _6cb;};_6c9.matches=_6c4;return _6c9;};});},"prcommon2/contact/ContactSelectMain":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../contact/templates/ContactSelectMain.html","dojo/json","dojo/request","ttl/utilities2","ttl/store/JsonRest","dojo/store/Observable","dojo/_base/lang","dojo/topic","ttl/grid/Grid","dojo/dom-attr","dojo/dom-class","dijit/form/TextBox","dijit/form/Button","dijit/Dialog","dijit/layout/BorderContainer","prcommon2/search/EmployeeSearch","dijit/layout/ContentPane","dojox/data/JsonRestStore","dijit/form/RadioButton","dijit/form/FilteringSelect","research/employees/PersonNew","research/employees/PersonEdit","research/employees/ContactMerge",],function(_6d0,_6d1,_6d2,json,_6d3,_6d4,_6d5,_6d6,lang,_6d7,Grid,_6d8,_6d9){return _6d0("prcommon2.contact.ConctactSelectMain",[_6d1],{templateString:_6d2,name:"",value:"",placeHolder:"",searchtypeid:6,constructor:function(){this._contactid=null;this._contact=null;this._selected_call_back=null;this._outletid=null;this.model=new _6d6(new _6d5({target:"/research/admin/contacts/research_contactlist",idProperty:"contactid"}));this.people_employee_model=new _6d5({target:"/research/admin/contacts/research_contact_employee",idProperty:"employeesid"});_6d7.subscribe(PRCOMMON.Events.Person_Added,lang.hitch(this,this._add_event));_6d7.subscribe(PRCOMMON.Events.Person_Delete,lang.hitch(this,this._person_delete_event));_6d7.subscribe(PRCOMMON.Events.Person_Update,lang.hitch(this,this._person_update_event));_6d7.subscribe("contacts/merge_contact",lang.hitch(this,this._person_merge_event));},postCreate:function(){var _6da=[{label:" ",className:"grid-field-icon-view",formatter:_6d4.format_row_ctrl},{label:"Id",className:"dgrid-column-nbr-right",field:"contactid"},{label:"Contact",className:"standard",field:"contactname"},{label:"Source",className:"dgrid-column-status-small",field:"sourcename"}];this.people_grid=new Grid({columns:_6da,selectionMode:"single",store:this.model,query:_6d4.EMPTYGRID});this.people_grid_view.set("content",this.people_grid);this.people_grid.on(".dgrid-cell:click",lang.hitch(this,this._on_cell_call));_6d8.set(this.display,"innerHTML",this.placeHolder);this.inherited(arguments);},_setValueAttr:function(_6db){this._contactid=_6db;},_setOutletidvalueAttr:function(_6dc){this._outletid=_6dc;},_setDisplayvalueAttr:function(_6dd){_6d8.set(this.display,"innerHTML",_6dd);},_getValueAttr:function(){return this._contactid;},_clear:function(){this.clear();},_select:function(){this.select_dlg.startup();this._clear_search();this.select_dlg.show();},_clear_search:function(){this.filter.set("value",null);this.filter_personid.set("value",null);var _6de=_6d4.EMPTYGRID;this.people_grid.set("query",_6de);},clear:function(){this._contactid=null;_6d8.set(this.display,"innerHTML",this.placeHolder);},_close:function(){this.select_dlg.hide();},_search:function(){var _6df={};if(this.filter.get("value").length>0){_6df["filter"]=this.filter.get("value");}if(this.filter_personid.get("value").length>0){_6df["contactid"]=this.filter_personid.get("value");}if(this._outletid){_6df["outletid"]=this._outletid;}this.people_grid.set("query",_6df);this.searchbutton.cancel();},_on_cell_call:function(e){var cell=this.people_grid.cell(e);this._contact=cell.row.data;if(cell.column.id==0){this.person_edit_ctrl.load(this.person_edit_dlg,this._contact.contactid,this._contact.contactname);this.person_edit_dlg.show();}else{_6d8.set(this.display,"innerHTML",this._contact.contactname);this._contactid=this._contact.contactid;this.select_dlg.hide();}},_setCallbackAttr:function(func){this._selected_call_back=func;},_add_contact:function(){this.person_add_ctrl.clear();this.person_add_ctrl.load(this.person_add_dlg);this.person_add_dlg.show();},_add_event:function(_6e0){this.model.add(_6e0);this._clear();this.person_add_dlg.hide();},_close_person_info:function(){this.person_info_dlg.hide();},_delete_contact:function(){this.person_delete_ctrl.load(this._contact.contactid,this._contact.contactname);this.person_delete_dlg.show();},_person_delete_event:function(_6e1){this.model.remove(_6e1.contactid);},_person_merge_event:function(_6e2){this.model.remove(_6e2.sourcecontactid);},_person_update_event:function(_6e3){this.model.put(_6e3);},});});},"research/clippings/ipcb_outlets":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../clippings/templates/ipcb_outlets.html","dojo/request","ttl/utilities2","dojo/_base/lang","dojo/data/ItemFileReadStore","dojo/store/Observable","ttl/store/JsonRest","dojox/data/JsonRestStore","dijit/form/FilteringSelect"],function(_6e4,_6e5,_6e6,_6e7,_6e8,lang,_6e9,_6ea,_6eb,_6ec){return _6e4("research.clippings.ipcb_outlets",[_6e5],{templateString:_6e6,constructor:function(){this._countries=new _6e9({url:"/common/lookups?searchtype=countries"});this._outlets=new _6ec({target:"/research/clippings/list_outlets",idProperty:"outletid"});this._load_details_call_back=lang.hitch(this,this._load_details_call);this._update_translation_call_back=lang.hitch(this,this._update_translation_call);},postCreate:function(){this.countryid.set("store",this._countries);this.countryid.set("value",1);this.outletid.set("store",this._outlets);this.inherited(arguments);},_change_country:function(){var _6ed=this.countryid.get("value");this.outletid.set("query",{"countryid":_6ed});},load:function(_6ee,_6ef){this._show_func=_6ef;this.outletexternallinkid.set("value",_6ee);_6e7.post("/research/clippings/get_outlet_trans_record",_6e8.make_params({data:{outletexternallinkid:_6ee}})).then(this._load_details_call_back);},_load_details_call:function(_6f0){if(_6f0.success=="OK"){this._show_func("ipcb_outlets");this.outletid.set("value",_6f0.data.outletid);}},_update_outlet:function(){if(_6e8.form_validator(this.form)==false){alert("Not all required fields filled in");throw "N";}_6e7.post("/research/clippings/update_outlet_trans",_6e8.make_params({data:this.form.get("value")})).then(this._update_translation_call_back);},_update_translation_call:function(_6f1){if(_6f1.success=="OK"){this._show_func("ipcb_outlets",_6f1.data);}}});});},"research/lookups/Geographical":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../lookups/templates/Geographical.html","dijit/layout/BorderContainer","ttl/grid/Grid","ttl/store/JsonRest","dojo/store/Observable","dojo/request","ttl/utilities2","dojo/json","dojo/data/ItemFileReadStore","dojo/_base/lang","dijit/layout/ContentPane","dijit/Toolbar","dijit/form/DropDownButton","dijit/TooltipDialog","dijit/form/TextBox","dijit/form/CheckBox","dijit/form/Button","dijit/form/ValidationTextBox","dijit/form/Form","dijit/layout/StackContainer","prcommon2/interests/Interests","prcommon2/geographical/GeographicalEdit","dijit/layout/TabContainer"],function(_6f2,_6f3,_6f4,_6f5,Grid,_6f6,_6f7,_6f8,_6f9,json,_6fa,lang){return _6f2("research.lookup.Geographical",[_6f3,_6f5],{templateString:_6f4,gutters:true,constructor:function(){this.geographical_types=new _6fa({url:"/common/lookups?searchtype=geographicallookuptypes&nofilter=1"});this._store=new _6f7(new _6f6({target:"/research/admin/geographical/list",idProperty:"geographicalid"}));this._coverage_store=new _6f6({target:"/research/admin/geographical/coverage",idProperty:"coverageid"});this.children_store=new _6f6({target:"/research/admin/geographical/geographical_children",idProperty:"geographicalareaid"});dojo.subscribe(PRCOMMON.Events.Geographical_Area_Delete,lang.hitch(this,this._geog_delete_event));dojo.subscribe(PRCOMMON.Events.Geographical_Area_Update,lang.hitch(this,this._geog_update_event));dojo.subscribe(PRCOMMON.Events.Geographical_Area_Add,lang.hitch(this,this._geog_add_event));dojo.subscribe(PRCOMMON.Events.Coverage_Moved,lang.hitch(this,this._coverage_moved_event));},postCreate:function(){var _6fb=[{label:" ",field:"geographicalid",sortable:false,formatter:_6f9.generic_view,className:"grid-field-image-view"},{label:"Id",field:"geographicalid",className:"dgrid-column-nbr-right"},{label:"Area",className:"standard",field:"geographicalname"},{label:"Type",className:"dgrid-column-status-large",field:"geographicallookupdescription"}];this.geographical_grid=new Grid({columns:_6fb,selectionMode:"single",store:this._store,query:{},sort:[{attribute:"geographicalname",descending:false}]});this.geographical_grid.on("dgrid-select",lang.hitch(this,this._on_geographical_grid_call));var _6fb=[{label:"Outlet",className:"standard",field:"outletname"}];this.coverage_grid=new Grid({columns:_6fb,selectionMode:"none",store:this._coverage_store});this.geographicallookups.set("store",this.geographical_types);this.geographicallookups.set("value",-1);this.inherited(arguments);},startup:function(){this.inherited(arguments);this.coverage_grid_view.set("content",this.coverage_grid);this.geographical_grid_view.set("content",this.geographical_grid);},_execute:function(){var _6fc={filter:arguments[0].filter,geographicallookuptypeid:-1};if(arguments[0].geographicallookuptypeid!="-1"){_6fc["geographicallookuptypeid"]=arguments[0].geographicallookuptypeid;}this.geographical_grid.set("query",_6fc);},_clear_filter:function(){this.filter.set("value","");this.geographicallookuptypeid.set("value",-1);},_on_geographical_grid_call:function(evt){this._row=evt.rows[0].data;this._show_details();},_show_details:function(){this.edit_view.selectChild(this.edit_view_page);this.geographical_edit.load(this._row.geographicalid);this.coverage_grid.set("query",{geographicalid:this._row.geographicalid});},_hide_details:function(){this.edit_view.selectChild(this.blank);this.geographical_edit.load(-1);this._row=null;},_add_new:function(){this.geographical_add.load(-1,this.geographical_add_dlg);this.geographical_add_dlg.show();},_geog_delete_event:function(_6fd){this._store.remove(_6fd);this._hide_details();},_geog_update_event:function(data){this._store.put(data);},_geog_add_event:function(data){this._store.add(data);},_coverage_moved_event:function(){this.coverage_grid.set("query",{geographicalid:this._row.geographicalid});}});});},"dojox/json/ref":function(){define(["dojo/_base/array","dojo/_base/json","dojo/_base/kernel","dojo/_base/lang","dojo/date/stamp","dojox"],function(_6fe,_6ff,dojo,lang,_700,_701){lang.getObject("json",true,_701);return _701.json.ref={resolveJson:function(root,args){args=args||{};var _702=args.idAttribute||"id";var _703=this.refAttribute;var _704=args.idAsRef;var _705=args.idPrefix||"";var _706=args.assignAbsoluteIds;var _707=args.index||{};var _708=args.timeStamps;var ref,_709=[];var _70a=/^(.*\/)?(\w+:\/\/)|[^\/\.]+\/\.\.\/|^.*\/(\/)/;var _70b=this._addProp;var F=function(){};function walk(it,stop,_70c,_70d,_70e,_70f,_710){var i,_711,val,id=_702 in it?it[_702]:_70c;if(_702 in it||((id!==undefined)&&_70d)){id=(_705+id).replace(_70a,"$2$3");}var _712=_70f||it;if(id!==undefined){if(_706){it.__id=id;}if(args.schemas&&(!(it instanceof Array))&&(val=id.match(/^(.+\/)[^\.\[]*$/))){_70e=args.schemas[val[1]];}if(_707[id]&&((it instanceof Array)==(_707[id] instanceof Array))){_712=_707[id];delete _712.$ref;delete _712._loadObject;_711=true;}else{var _713=_70e&&_70e.prototype;if(_713){F.prototype=_713;_712=new F();}}_707[id]=_712;if(_708){_708[id]=args.time;}}while(_70e){var _714=_70e.properties;if(_714){for(i in it){var _715=_714[i];if(_715&&_715.format=="date-time"&&typeof it[i]=="string"){it[i]=_700.fromISOString(it[i]);}}}_70e=_70e["extends"];}var _716=it.length;for(i in it){if(i==_716){break;}if(it.hasOwnProperty(i)){val=it[i];if((typeof val=="object")&&val&&!(val instanceof Date)&&i!="__parent"){ref=val[_703]||(_704&&val[_702]);if(it!=_709&&(!ref||!val.__parent)){val.__parent=_710?_710:_712;}if(ref){delete it[i];var path=ref.toString().replace(/(#)([^\.\[])/,"$1.$2").match(/(^([^\[]*\/)?[^#\.\[]*)#?([\.\[].*)?/);if(_707[(_705+ref).replace(_70a,"$2$3")]){ref=_707[(_705+ref).replace(_70a,"$2$3")];}else{if((ref=(path[1]=="$"||path[1]=="this"||path[1]==="")?root:_707[(_705+path[1]).replace(_70a,"$2$3")])){if(path[3]){path[3].replace(/(\[([^\]]+)\])|(\.?([^\.\[]+))/g,function(t,a,b,c,d){ref=ref&&ref[b?b.replace(/[\"\'\\]/,""):d];});}}}if(ref){val=ref;}else{if(!stop){var _717;if(!_717){_709.push(_712);}_717=true;val=walk(val,false,val[_703],true,_715);val._loadObject=args.loader;}}}else{if(!stop){val=walk(val,_709==it,id===undefined?undefined:_70b(id,i),false,_715,_712!=it&&typeof _712[i]=="object"&&_712[i],it);}}}it[i]=val;if(_712!=it&&!_712.__isDirty){var old=_712[i];_712[i]=val;if(_711&&val!==old&&!_712._loadObject&&!(i.charAt(0)=="_"&&i.charAt(1)=="_")&&i!="$ref"&&!(val instanceof Date&&old instanceof Date&&val.getTime()==old.getTime())&&!(typeof val=="function"&&typeof old=="function"&&val.toString()==old.toString())&&_707.onUpdate){_707.onUpdate(_712,i,old,val);}}}}if(_711&&(_702 in it||_712 instanceof Array)){for(i in _712){if(!_712.__isDirty&&_712.hasOwnProperty(i)&&!it.hasOwnProperty(i)&&!(i.charAt(0)=="_"&&i.charAt(1)=="_")&&!(_712 instanceof Array&&isNaN(i))){if(_707.onUpdate&&i!="_loadObject"&&i!="_idAttr"){_707.onUpdate(_712,i,_712[i],undefined);}delete _712[i];while(_712 instanceof Array&&_712.length&&_712[_712.length-1]===undefined){_712.length--;}}}}else{if(_707.onLoad){_707.onLoad(_712);}}return _712;};if(root&&typeof root=="object"){root=walk(root,false,args.defaultId,true);walk(_709,false);}return root;},fromJson:function(str,args){function ref(_718){var _719={};_719[this.refAttribute]=_718;return _719;};var root;try{root=eval("("+str+")");}catch(e){throw new SyntaxError("Invalid JSON string: "+e.message+" parsing: "+str);}if(root){return this.resolveJson(root,args);}return root;},toJson:function(it,_71a,_71b,_71c,_71d){var _71e=this._useRefs;var _71f=this._addProp;var _720=this.refAttribute;_71b=_71b||"";var _721={};var _722={};var _723=_71d?true:false;var _724=1;function _725(){var str=(_724++).toString();if(_722.hasOwnProperty(str)){return _725();}return str;};function _726(it,path,_727){if(typeof it=="object"&&it){var _728;if(it instanceof Date){return "\""+_700.toISOString(it,{zulu:true})+"\"";}var id=it.__id;if(id){if(path!="#"&&((_71e&&!id.match(/#/))||_721[id])){var ref=id;if(id.charAt(0)!="#"){if(it.__clientId==id){ref="cid:"+id;}else{if(id.substring(0,_71b.length)==_71b){ref=id.substring(_71b.length);}else{ref=id;}}}var _729={};_729[_720]=ref;return _6ff.toJson(_729,_71a);}path=id;}else{if(_723){if(!(it instanceof Array)){path=_725();it.__id=path;_722[path]=it;}}else{it.__id=path;_722[path]=it;}}_721[path]=it;_727=_727||"";var _72a=_71a?_727+_6ff.toJsonIndentStr:"";var _72b=_71a?"\n":"";var sep=_71a?" ":"";if(it instanceof Array){var res=_6fe.map(it,function(obj,i){var val=_726(obj,_723?undefined:_71f(path,i),_72a);if(typeof val!="string"){val="undefined";}return _72b+_72a+val;});return "["+res.join(","+sep)+_72b+_727+"]";}var _72c=[];if(_723&&(typeof it[_71d]==="undefined")){_72c.push(_72b+_72a+_6ff._escapeString(_71d)+":"+sep+_6ff.toJson(it.__id));}for(var i in it){if(it.hasOwnProperty(i)){var _72d;if(typeof i=="number"){_72d="\""+i+"\"";}else{if(typeof i=="string"&&(i.charAt(0)!="_"||i.charAt(1)!="_")){_72d=_6ff._escapeString(i);}else{continue;}}var val=_726(it[i],_723?undefined:_71f(path,i),_72a);if(typeof val!="string"){continue;}_72c.push(_72b+_72a+_72d+":"+sep+val);}}return "{"+_72c.join(","+sep)+_72b+_727+"}";}else{if(typeof it=="function"&&_701.json.ref.serializeFunctions){return it.toString();}}return _6ff.toJson(it);};var json=_726(it,_723?undefined:"#","");if(!_71c){for(var i in _722){delete _722[i].__id;}}return json;},_addProp:function(id,prop){return id+(id.match(/#/)?id.length==1?"":".":"#")+prop;},refAttribute:"$ref",_useRefs:false,serializeFunctions:false};});},"prcommon2/marketsector/MarketSectorAdd":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../marketsector/templates/MarketSectorAdd.html","dojo/request","ttl/utilities2","dojo/json","dojo/_base/lang","dojo/dom-class","dojo/topic","dijit/form/TextBox","dijit/form/Button","dijit/form/Form","dojox/form/BusyButton"],function(_72e,_72f,_730,_731,_732,json,lang,_733,_734){return _72e("prcommon2.marketsector.MarketSectorAdd",[_72f],{templateString:_730,mode:"add",constructor:function(){this._add_call_back=lang.hitch(this,this._add_call);this._load_call_back=lang.hitch(this,this._load_call);this._update_call_back=lang.hitch(this,this._update_call);this._delete_call_back=lang.hitch(this,this._delete_call);this._dialog=null;},postCreate:function(){this.inherited(arguments);},_add_marketsector:function(){if(_732.form_validator(this.form)==false){alert("Not all required field filled in");this.savenode.cancel();throw "N";}if(this.mode=="add"){if(confirm("Add Market Sector?")){_731.post("/research/admin/marketsector/add",_732.make_params({data:this.form.get("value")})).then(this._add_call_back);}}else{if(confirm("Update Market Sector?")){_731.post("/research/admin/marketsector/update",_732.make_params({data:this.form.get("value")})).then(this._update_call_back);}}},_add_call:function(_735){if(_735.success=="OK"){alert("Market Sector Added");this.clear();if(this._dialog){this._dialog.hide();}_734.publish(PRCOMMON.Events.Market_Sector_Added,_735.data.marketsector);}else{if(_735.success=="DU"){alert("Market Sector Already Exists");this.marketsectordescription.focus();}else{alert("Failed");}}this.savenode.cancel();},_update_call:function(_736){if(_736.success=="OK"){alert("Market Sector Updated");_734.publish(PRCOMMON.Events.Market_Sector_Update,_736.data.marketsector);this.clear();if(this._dialog){this._dialog.hide();}}else{if(_736.success=="DU"){alert("Web Dates Already Exists");this.marketSectordescription.focus();}else{alert("Failed");}}this.savenode.cancel();},clear:function(){this.marketsectordescription.set("value","");this.marketsectorid.set("value",-1);this.savenode.cancel();},focus:function(){this.marketsectordescription.focus();},_setDialogAttr:function(_737){this._dialog=_737;},load:function(_738){this.clear();_731.post("/research/admin/marketsector/get",_732.make_params({data:{marketsectorid:_738}})).then(this._load_call_back);},_load_call:function(_739){if(_739.success=="OK"){this.marketsectorid.set("value",_739.data.marketsector.marketsectorid);this.marketsectordescription.set("value",_739.data.marketsector.marketsectordescription);if(_739.data.inuse==true){_733.add(this.delete_button,"prmaxhidden");}else{_733.remove(this.delete_button,"prmaxhidden");}this._dialog.show();}else{alert("Problem");}},_close:function(){if(this._dialog){this._dialog.hide();}},_delete:function(){if(confirm("Delete Market Sector?")){_731.post("/research/admin/marketsector/delete",_732.make_params({data:{marketsectorid:this.marketsectorid.get("value")}})).then(this._delete_call_back);}},_delete_call:function(_73a){if(_73a.success=="OK"){alert("Market Sector Deleted");if(this._dialog){this._dialog.hide();}_734.publish(PRCOMMON.Events.Market_Sector_Deleted,this.marketsectorid.get("value"));}else{alert("Failed");}}});});},"dojox/form/_BusyButtonMixin":function(){define(["dojo/_base/lang","dojo/dom-attr","dojo/dom-class","dijit/form/Button","dijit/form/DropDownButton","dijit/form/ComboButton","dojo/i18n","dojo/i18n!dijit/nls/loading","dojo/_base/declare"],function(lang,_73b,_73c,_73d,_73e,_73f,i18n,_740,_741){return _741("dojox.form._BusyButtonMixin",null,{isBusy:false,isCancelled:false,busyLabel:"",timeout:null,useIcon:true,postMixInProperties:function(){this.inherited(arguments);if(!this.busyLabel){this.busyLabel=i18n.getLocalization("dijit","loading",this.lang).loadingState;}},postCreate:function(){this.inherited(arguments);this._label=this.containerNode.innerHTML;this._initTimeout=this.timeout;if(this.isBusy){this.makeBusy();}},makeBusy:function(){this.isBusy=true;this.isCancelled=false;if(this._disableHandle){this._disableHandle.remove();}this._disableHandle=this.defer(function(){this.set("disabled",true);});this.setLabel(this.busyLabel,this.timeout);},cancel:function(){this.isCancelled=true;if(this._disableHandle){this._disableHandle.remove();}this.set("disabled",false);this.isBusy=false;this.setLabel(this._label);if(this._timeout){clearTimeout(this._timeout);}this.timeout=this._initTimeout;},resetTimeout:function(_742){if(this._timeout){clearTimeout(this._timeout);}if(_742){this._timeout=setTimeout(lang.hitch(this,function(){this.cancel();}),_742);}else{if(_742==undefined||_742===0){this.cancel();}}},setLabel:function(_743,_744){this.label=_743;while(this.containerNode.firstChild){this.containerNode.removeChild(this.containerNode.firstChild);}this.containerNode.appendChild(document.createTextNode(this.label));if(this.showLabel==false&&!_73b.get(this.domNode,"title")){this.titleNode.title=lang.trim(this.containerNode.innerText||this.containerNode.textContent||"");}if(_744){this.resetTimeout(_744);}else{this.timeout=null;}if(this.useIcon&&this.isBusy){var node=new Image();node.src=this._blankGif;_73b.set(node,"id",this.id+"_icon");_73c.add(node,"dojoxBusyButtonIcon");this.containerNode.appendChild(node);}},_onClick:function(e){if(!this.isBusy){this.inherited(arguments);if(!this.isCancelled){this.makeBusy();}}}});});},"research/freelance/FreelanceNew":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../freelance/templates/FreelanceNew.html","dijit/layout/BorderContainer","ttl/grid/Grid","ttl/store/JsonRest","dojo/store/Observable","dojo/request","ttl/utilities2","dojo/json","dojo/data/ItemFileReadStore","dojo/_base/lang","dojo/topic","dijit/layout/ContentPane","dijit/form/Form","dijit/form/TextBox","dijit/form/ValidationTextBox","dijit/form/FilteringSelect","research/employees/EmployeeSelect","dojox/validate","prcommon2/interests/Interests","dijit/form/Textarea","dojox/form/BusyButton","dijit/form/NumberTextBox"],function(_745,_746,_747,_748,Grid,_749,_74a,_74b,_74c,json,_74d,lang,_74e){return _745("research.freelance.FreelanceNew",[_746,_748],{templateString:_747,constructor:function(){this._saved_call_back=lang.hitch(this,this._saved);this._load_call_back=lang.hitch(this,this._loaded);this._deleted_call_back=lang.hitch(this,this._deleted_call);this.outletid=-1;},postCreate:function(){this.reasoncodeid.set("store",PRCOMMON.utils.stores.Research_Reason_Add_Codes());this.reasoncodeid.set("value",PRCOMMON.utils.stores.Reason_Add_Default);this.countryid.set("store",PRCOMMON.utils.stores.Countries());this.countryid.set("value",1);this.inherited(arguments);},_saved:function(_74f){if(_74f.success=="OK"){alert("Freelance Added");this.new_freelance();this.selectcontact.focus();}else{alert("Failed");}this.savenode.cancel();},_save:function(){var data={};if(_74c.form_validator(this.requirednode)==false){alert("Not all required field filled in");throw "N";}if(confirm("Add Freelance?")){_74b.post("/research/admin/outlets/research_freelance_check",_74c.make_params({data:this.requirednode.get("value")})).then(this._deleted_call_back);}},_deleted_call:function(_750){if(_750.success=="DEL"){if(confirm("Freelance '"+_750.data.outlet_name+"' has previously asked to be deleted.\nDo you want to proceed?")){data=this.requirednode.get("value");data["outletid"]=this.outletid;_74b.post("/research/admin/outlets/freelance_research_add",_74c.make_params({data:data})).then(this._saved_call_back);}}else{data=this.requirednode.get("value");data["outletid"]=this.outletid;_74b.post("/research/admin/outlets/freelance_research_add",_74c.make_params({data:data})).then(this._saved_call_back);}this.savenode.cancel();},new_freelance:function(){this.clear();},clear:function(){this.savenode.cancel();this.selectcontact.clear();this.countryid.set("value",1);this.address1.set("value","");this.address2.set("value","");this.townname.set("value","");this.county.set("value","");this.postcode.set("value","");this.www.set("value","");this.email.set("value","");this.tel.set("value","");this.fax.set("value","");this.mobile.set("value","");this.interests.set("value","");this.profile.set("value","");this.reason.set("value","");this.reasoncodeid.set("value",PRCOMMON.utils.stores.Reason_Add_Default);this.twitter.set("value","");this.facebook.set("value","");this.linkedin.set("value","");this.instagram.set("value","");}});});},"dijit/_KeyNavMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/on","dijit/registry","dijit/_FocusMixin"],function(_751,_752,_753,keys,lang,on,_754,_755){return _752("dijit._KeyNavMixin",_755,{tabIndex:"0",childSelector:null,postCreate:function(){this.inherited(arguments);_753.set(this.domNode,"tabIndex",this.tabIndex);if(!this._keyNavCodes){var _756=this._keyNavCodes={};_756[keys.HOME]=lang.hitch(this,"focusFirstChild");_756[keys.END]=lang.hitch(this,"focusLastChild");_756[this.isLeftToRight()?keys.LEFT_ARROW:keys.RIGHT_ARROW]=lang.hitch(this,"_onLeftArrow");_756[this.isLeftToRight()?keys.RIGHT_ARROW:keys.LEFT_ARROW]=lang.hitch(this,"_onRightArrow");_756[keys.UP_ARROW]=lang.hitch(this,"_onUpArrow");_756[keys.DOWN_ARROW]=lang.hitch(this,"_onDownArrow");}var self=this,_757=typeof this.childSelector=="string"?this.childSelector:lang.hitch(this,"childSelector");this.own(on(this.domNode,"keypress",lang.hitch(this,"_onContainerKeypress")),on(this.domNode,"keydown",lang.hitch(this,"_onContainerKeydown")),on(this.domNode,"focus",lang.hitch(this,"_onContainerFocus")),on(this.containerNode,on.selector(_757,"focusin"),function(evt){self._onChildFocus(_754.getEnclosingWidget(this),evt);}));},_onLeftArrow:function(){},_onRightArrow:function(){},_onUpArrow:function(){},_onDownArrow:function(){},focus:function(){this.focusFirstChild();},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1);},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1);},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild());},focusLastChild:function(){this.focusChild(this._getLastFocusableChild());},focusChild:function(_758,last){if(!_758){return;}if(this.focusedChild&&_758!==this.focusedChild){this._onChildBlur(this.focusedChild);}_758.set("tabIndex",this.tabIndex);_758.focus(last?"end":"start");},_onContainerFocus:function(evt){if(evt.target!==this.domNode||this.focusedChild){return;}this.focus();},_onFocus:function(){_753.set(this.domNode,"tabIndex","-1");this.inherited(arguments);},_onBlur:function(evt){_753.set(this.domNode,"tabIndex",this.tabIndex);if(this.focusedChild){this.focusedChild.set("tabIndex","-1");this.lastFocusedChild=this.focusedChild;this._set("focusedChild",null);}this.inherited(arguments);},_onChildFocus:function(_759){if(_759&&_759!=this.focusedChild){if(this.focusedChild&&!this.focusedChild._destroyed){this.focusedChild.set("tabIndex","-1");}_759.set("tabIndex",this.tabIndex);this.lastFocused=_759;this._set("focusedChild",_759);}},_searchString:"",multiCharSearchDuration:1000,onKeyboardSearch:function(item,evt,_75a,_75b){if(item){this.focusChild(item);}},_keyboardSearchCompare:function(item,_75c){var _75d=item.domNode,text=item.label||(_75d.focusNode?_75d.focusNode.label:"")||_75d.innerText||_75d.textContent||"",_75e=text.replace(/^\s+/,"").substr(0,_75c.length).toLowerCase();return (!!_75c.length&&_75e==_75c)?-1:0;},_onContainerKeydown:function(evt){var func=this._keyNavCodes[evt.keyCode];if(func){func(evt,this.focusedChild);evt.stopPropagation();evt.preventDefault();this._searchString="";}else{if(evt.keyCode==keys.SPACE&&this._searchTimer&&!(evt.ctrlKey||evt.altKey||evt.metaKey)){evt.stopImmediatePropagation();evt.preventDefault();this._keyboardSearch(evt," ");}}},_onContainerKeypress:function(evt){if(evt.charCode<=keys.SPACE||evt.ctrlKey||evt.altKey||evt.metaKey){return;}evt.preventDefault();evt.stopPropagation();this._keyboardSearch(evt,String.fromCharCode(evt.charCode).toLowerCase());},_keyboardSearch:function(evt,_75f){var _760=null,_761,_762=0,_763=lang.hitch(this,function(){if(this._searchTimer){this._searchTimer.remove();}this._searchString+=_75f;var _764=/^(.)\1*$/.test(this._searchString);var _765=_764?1:this._searchString.length;_761=this._searchString.substr(0,_765);this._searchTimer=this.defer(function(){this._searchTimer=null;this._searchString="";},this.multiCharSearchDuration);var _766=this.focusedChild||null;if(_765==1||!_766){_766=this._getNextFocusableChild(_766,1);if(!_766){return;}}var stop=_766;do{var rc=this._keyboardSearchCompare(_766,_761);if(!!rc&&_762++==0){_760=_766;}if(rc==-1){_762=-1;break;}_766=this._getNextFocusableChild(_766,1);}while(_766&&_766!=stop);});_763();this.onKeyboardSearch(_760,evt,_761,_762);},_onChildBlur:function(){},_getNextFocusableChild:function(_767,dir){var _768=_767;do{if(!_767){_767=this[dir>0?"_getFirst":"_getLast"]();if(!_767){break;}}else{_767=this._getNext(_767,dir);}if(_767!=null&&_767!=_768&&_767.isFocusable()){return _767;}}while(_767!=_768);return null;},_getFirst:function(){return null;},_getLast:function(){return null;},_getNext:function(_769,dir){if(_769){_769=_769.domNode;while(_769){_769=_769[dir<0?"previousSibling":"nextSibling"];if(_769&&"getAttribute" in _769){var w=_754.byNode(_769);if(w){return w;}}}}return null;}});});},"dijit/form/_TextBoxMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/sniff","dojo/keys","dojo/_base/lang","dojo/on","../main"],function(_76a,_76b,dom,has,keys,lang,on,_76c){var _76d=_76b("dijit.form._TextBoxMixin"+(has("dojo-bidi")?"_NoBidi":""),null,{trim:false,uppercase:false,lowercase:false,propercase:false,maxLength:"",selectOnClick:false,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints);},_setValueAttr:function(_76e,_76f,_770){var _771;if(_76e!==undefined){_771=this.filter(_76e);if(typeof _770!="string"){if(_771!==null&&((typeof _771!="number")||!isNaN(_771))){_770=this.filter(this.format(_771,this.constraints));}else{_770="";}if(this.compare(_771,this.filter(this.parse(_770,this.constraints)))!=0){_770=null;}}}if(_770!=null&&((typeof _770)!="number"||!isNaN(_770))&&this.textbox.value!=_770){this.textbox.value=_770;this._set("displayedValue",this.get("displayedValue"));}this.inherited(arguments,[_771,_76f]);},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value);},_setDisplayedValueAttr:function(_772){if(_772==null){_772="";}else{if(typeof _772!="string"){_772=String(_772);}}this.textbox.value=_772;this._setValueAttr(this.get("value"),undefined);this._set("displayedValue",this.get("displayedValue"));},format:function(_773){return _773==null?"":(_773.toString?_773.toString():_773);},parse:function(_774){return _774;},_refreshState:function(){},onInput:function(){},_onInput:function(evt){this._lastInputEventValue=this.textbox.value;this._processInput(this._lastInputProducingEvent||evt);delete this._lastInputProducingEvent;if(this.intermediateChanges){this._handleOnChange(this.get("value"),false);}},_processInput:function(){this._refreshState();this._set("displayedValue",this.get("displayedValue"));},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);function _775(e){var _776;if(e.type=="keydown"&&e.keyCode!=229){_776=e.keyCode;switch(_776){case keys.SHIFT:case keys.ALT:case keys.CTRL:case keys.META:case keys.CAPS_LOCK:case keys.NUM_LOCK:case keys.SCROLL_LOCK:return;}if(!e.ctrlKey&&!e.metaKey&&!e.altKey){switch(_776){case keys.NUMPAD_0:case keys.NUMPAD_1:case keys.NUMPAD_2:case keys.NUMPAD_3:case keys.NUMPAD_4:case keys.NUMPAD_5:case keys.NUMPAD_6:case keys.NUMPAD_7:case keys.NUMPAD_8:case keys.NUMPAD_9:case keys.NUMPAD_MULTIPLY:case keys.NUMPAD_PLUS:case keys.NUMPAD_ENTER:case keys.NUMPAD_MINUS:case keys.NUMPAD_PERIOD:case keys.NUMPAD_DIVIDE:return;}if((_776>=65&&_776<=90)||(_776>=48&&_776<=57)||_776==keys.SPACE){return;}var _777=false;for(var i in keys){if(keys[i]===e.keyCode){_777=true;break;}}if(!_777){return;}}}_776=e.charCode>=32?String.fromCharCode(e.charCode):e.charCode;if(!_776){_776=(e.keyCode>=65&&e.keyCode<=90)||(e.keyCode>=48&&e.keyCode<=57)||e.keyCode==keys.SPACE?String.fromCharCode(e.keyCode):e.keyCode;}if(!_776){_776=229;}if(e.type=="keypress"){if(typeof _776!="string"){return;}if((_776>="a"&&_776<="z")||(_776>="A"&&_776<="Z")||(_776>="0"&&_776<="9")||(_776===" ")){if(e.ctrlKey||e.metaKey||e.altKey){return;}}}var faux={faux:true},attr;for(attr in e){if(!/^(layer[XY]|returnValue|keyLocation)$/.test(attr)){var v=e[attr];if(typeof v!="function"&&typeof v!="undefined"){faux[attr]=v;}}}lang.mixin(faux,{charOrCode:_776,_wasConsumed:false,preventDefault:function(){faux._wasConsumed=true;e.preventDefault();},stopPropagation:function(){e.stopPropagation();}});this._lastInputProducingEvent=faux;if(this.onInput(faux)===false){faux.preventDefault();faux.stopPropagation();}if(faux._wasConsumed){return;}if(has("ie")<=9){switch(e.keyCode){case keys.TAB:case keys.ESCAPE:case keys.DOWN_ARROW:case keys.UP_ARROW:case keys.LEFT_ARROW:case keys.RIGHT_ARROW:break;default:if(e.keyCode==keys.ENTER&&this.textbox.tagName.toLowerCase()!="textarea"){break;}this.defer(function(){if(this.textbox.value!==this._lastInputEventValue){on.emit(this.textbox,"input",{bubbles:true});}});}}};this.own(on(this.textbox,"keydown, keypress, paste, cut, compositionend",lang.hitch(this,_775)),on(this.textbox,"input",lang.hitch(this,"_onInput")),on(this.domNode,"keypress",function(e){e.stopPropagation();}));},_blankValue:"",filter:function(val){if(val===null){return this._blankValue;}if(typeof val!="string"){return val;}if(this.trim){val=lang.trim(val);}if(this.uppercase){val=val.toUpperCase();}if(this.lowercase){val=val.toLowerCase();}if(this.propercase){val=val.replace(/[^\s]+/g,function(word){return word.substring(0,1).toUpperCase()+word.substring(1);});}return val;},_setBlurValue:function(){this._setValueAttr(this.get("value"),true);},_onBlur:function(e){if(this.disabled){return;}this._setBlurValue();this.inherited(arguments);},_isTextSelected:function(){return this.textbox.selectionStart!=this.textbox.selectionEnd;},_onFocus:function(by){if(this.disabled||this.readOnly){return;}if(this.selectOnClick&&by=="mouse"){this._selectOnClickHandle=on.once(this.domNode,"mouseup, touchend",lang.hitch(this,function(evt){if(!this._isTextSelected()){_76d.selectInputText(this.textbox);}}));this.own(this._selectOnClickHandle);this.defer(function(){if(this._selectOnClickHandle){this._selectOnClickHandle.remove();this._selectOnClickHandle=null;}},500);}this.inherited(arguments);this._refreshState();},reset:function(){this.textbox.value="";this.inherited(arguments);}});if(has("dojo-bidi")){_76d=_76b("dijit.form._TextBoxMixin",_76d,{_setValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.focusNode);},_setDisplayedValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.focusNode);},_onInput:function(){this.applyTextDir(this.focusNode);this.inherited(arguments);}});}_76d._setSelectionRange=_76c._setSelectionRange=function(_778,_779,stop){if(_778.setSelectionRange){_778.setSelectionRange(_779,stop);}};_76d.selectInputText=_76c.selectInputText=function(_77a,_77b,stop){_77a=dom.byId(_77a);if(isNaN(_77b)){_77b=0;}if(isNaN(stop)){stop=_77a.value?_77a.value.length:0;}try{_77a.focus();_76d._setSelectionRange(_77a,_77b,stop);}catch(e){}};return _76d;});},"prcommon2/outlet/OutletSelect":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../outlet/templates/OutletSelect.html","dojo/json","dojo/request","ttl/utilities2","ttl/store/JsonRest","dojo/store/Observable","dojo/_base/lang","dojo/topic","ttl/grid/Grid","dojo/dom-attr","dojo/dom-class","dojo/_base/array","dijit/form/TextBox","dijit/form/Button","dijit/Dialog","dijit/layout/BorderContainer","prcommon2/search/OutletSearch","prcommon2/outlet/OutletSelectDetails","dijit/layout/ContentPane","dojox/form/BusyButton"],function(_77c,_77d,_77e,json,_77f,_780,_781,_782,lang,_783,Grid,_784,_785,_786){return _77c("prcommon2.outlet.OutletSelect",[_77d],{templateString:_77e,name:"",value:"",mode:"outlet",searchtypeid:6,placeHolder:"Select Outlet",source_url:"/search/list_rest",constructor:function(){this._outletid=null;this._circulation=0;this._load_call_back=lang.hitch(this,this._load_call);this.show_parentbtn=false;},postCreate:function(){var _787=[{label:" ",className:"grid-field-image-view",field:"prmax_outletgroupid",formatter:_780.outlet_type},{label:"Name",className:"standard",field:"outletname"},{label:"Contact",className:"standard",field:"contactname"},{label:"Source",className:"dgrid-column-status-small",field:"sourcename"},{label:"Id",className:"dgrid-column-accountnbr",field:"outletid"},{label:" ",name:"edit",className:"dgrid-column-type-boolean",field:"outletid",formatter:_780.format_row_ctrl},];this.model=new _782(new _781({target:this.source_url,idProperty:"sessionsearchid"}));this.searchgrid=new Grid({columns:_787,selectionMode:"single",store:this.model,sort:[{attribute:"outletname",descending:false}],query:_780.EMPTYGRID});this.select_search_view.set("content",this.searchgrid);this.searchgrid.on(".dgrid-cell:click",lang.hitch(this,this._on_cell_call));_785.add(this.clearbtn.domNode,"prmaxhidden");_785.add(this.parentbtn.domNode,"prmaxhidden");_784.set(this.display,"innerHTML",this.placeHolder);this.inherited(arguments);this.selectdetails_ctrl.set("dialog",lang.hitch(this,this._show_details_function));},_show_details_function:function(_788){if(_788=="show"){this.selectdetails_dlg.show();}else{this.selectdetails_dlg.hide();}},_load_call:function(_789){if(_789.outlet){outletid=_789.outlet.outlet.outletid;sourcetypeid=_789.outlet.outlet.sourcetypeid;prmax_grouptypeid="";if(_789.outlet.outlet.outlettypeid==19){prmax_grouptypeid="freelance";}_783.publish("LoadParentOutlet",outletid,prmax_grouptypeid,sourcetypeid);}this.refresh();this.searchbutton.cancel();},_setValueAttr:function(_78a){this._outletid=_78a;this._set_view();},_setDisplayvalueAttr:function(_78b){if(_78b==""||_78b==null){_784.set(this.display,"innerHTML",this.placeHolder);_785.add(this.display,"PlaceHolder");}else{_784.set(this.display,"innerHTML",_78b);_785.remove(this.display,"PlaceHolder");_783.publish("/outlet/circulation",[this._circulation]);}},_setParentbtnvalueAttr:function(_78c){if(_78c){this.show_parentbtn=_78c;}},_getValueAttr:function(){return this._outletid;},_clear:function(){this.clear();},_load_parent_outlet:function(){_77f.post("/research/admin/outlets/research_outlet_edit_get",_780.make_params({data:{outletid:this._outletid}})).then(this._load_call_back);},_set_view:function(){if(this._outletid==null){_785.add(this.clearbtn.domNode,"prmaxhidden");_785.add(this.parentbtn.domNode,"prmaxhidden");_785.add(this.display,"PlaceHolder");}else{_785.remove(this.clearbtn.domNode,"prmaxhidden");_785.remove(this.display,"PlaceHolder");if(this.show_parentbtn){_785.remove(this.parentbtn.domNode,"prmaxhidden");}}},_select:function(){this.select_dlg.show();},clear:function(){this._outletid=null;_784.set(this.display,"innerHTML",this.placeHolder);this._set_view();},_close:function(){this.select_dlg.hide();},_get_form:function(){var form=null;_786.every(this.search_form_pane.getChildren(),function(_78d){if(_78d.formid!=null){form=_78d;}});return form;},_search:function(){var form=this._get_form();form.setExtendedMode(false);var _78e=form.get("value");_78e["mode"]=1;_78e["search_partial"]=2;_78e["searchtypeid"]=this.searchtypeid;this.searchbutton.makeBusy();_77f.post("/search/dosearch",_780.make_params({data:_78e})).then(this._load_call_back);},refresh:function(){this.searchgrid.set("query",{searchtypeid:this.searchtypeid});},_clear_search:function(){var form=this._get_form();_786.every(form.getDescendants(),function(_78f){if(_78f.Clear!=null){_78f.Clear();}return true;});this.searchbutton.cancel();},_clear_search_results:function(){_77f.post("/search/sessionclear",_780.make_params({data:{searchtypeid:this.searchtypeid}})).then(this._clear_all_call_back);},_search_update_event:function(data){this.refresh(data);},_on_cell_call:function(e){var cell=this.searchgrid.cell(e);if(cell.row==null||cell.row==undefined){return;}this._row=cell.row.data;this._outletid=this._row.outletid;this._circulation=this._row.circulation;if(cell.column.id==5){this.selectdetails_dlg.startup();this.selectdetails_dlg.show();this.selectdetails_ctrl.load(this._outletid,this.mode);}else{_784.set(this.display,"innerHTML",this._row.outletname);this.select_dlg.hide();this._set_view();_783.publish("/outlet/circulation",[this._circulation]);}},});});},"research/questionnaires/EmployeeDelete":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dijit/layout/ContentPane","dojo/text!../questionnaires/templates/EmployeeDelete.html","dojo/request","ttl/utilities2","dojo/_base/lang","dojo/topic","dojo/dom-attr","dojo/dom-class","dijit/form/RadioButton","dojox/form/BusyButton"],function(_790,_791,_792,_793,_794,_795,lang,_796,_797,_798){return _790("research.questionnaires.EmployeeDelete",[_791,_792],{templateString:_793,constructor:function(){this._delete_call_back=lang.hitch(this,this._delete_call);this._error_call_back=lang.hitch(this,this._error_call);},load:function(_799,_79a,_79b){this.objectid.set("value",_799);_797.set(this.employee_name,"text",_79a+_79b);this.savenode.cancel();this.dialog_ctrl.show();},_delete_call:function(_79c){if(_79c.success=="OK"){alert("Contact Deleted");this.dialog_ctrl.hide();this.objectid.set("value","-1");_797.set(this.employee_name,"text","");if(_79c.data.series==true){alert("Series members were affected. Please run employee synchronisation process");}_796.publish("/quest/emp_del",_79c.data.objectid);}else{alert("Problem with Employee ");}this.savenode.cancel();},_delete_contact:function(){if(_795.form_validator(this.form)==false){alert("Not all required field filled in");throw "N";}_794.post("/research/admin/projects/delete_employee_feedback",_795.make_params({data:this.form.get("value")})).then(this._delete_call_back,this._error_call_back);},clear:function(){_797.set(this.employee_name,"innerHTML","");this.objectid.set("value","-1");},_error_call:function(){this.savenode.cancel();}});});},"dgrid/Selection":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/Deferred","dojo/on","dojo/has","dojo/aspect","./List","dojo/has!touch?./util/touch","put-selector/put","dojo/query","dojo/_base/sniff"],function(_79d,_79e,_79f,on,has,_7a0,List,_7a1,put){has.add("dom-comparedocumentposition",function(_7a2,doc,_7a3){return !!_7a3.compareDocumentPosition;});has.add("pointer",function(_7a4){return "PointerEvent" in _7a4?"pointer":"MSPointerEvent" in _7a4?"MSPointer":false;});has.add("css-user-select",function(_7a5,doc,_7a6){var _7a7=_7a6.style,_7a8=["Khtml","O","ms","Moz","Webkit"],i=_7a8.length,name="userSelect";do{if(typeof _7a7[name]!=="undefined"){return name;}}while(i--&&(name=_7a8[i]+"UserSelect"));return false;});has.add("dom-selectstart",typeof document.onselectstart!=="undefined");var _7a9=has("mac")?"metaKey":"ctrlKey",_7aa=has("css-user-select"),_7ab=has("pointer"),_7ac=_7ab&&_7ab.slice(0,2)==="MS",_7ad=_7ab?_7ab+(_7ac?"Down":"down"):"mousedown",_7ae=_7ab?_7ab+(_7ac?"Up":"up"):"mouseup";function _7af(node,_7b0){var _7b1=node.unselectable=_7b0?"on":"",_7b2=node.getElementsByTagName("*"),i=_7b2.length;while(--i){if(_7b2[i].tagName==="INPUT"||_7b2[i].tagName==="TEXTAREA"){continue;}_7b2[i].unselectable=_7b1;}};function _7b3(grid,_7b4){var node=grid.bodyNode,_7b5=_7b4?"text":has("ff")<21?"-moz-none":"none";if(_7aa&&_7aa!=="msUserSelect"){node.style[_7aa]=_7b5;}else{if(has("dom-selectstart")){if(!_7b4&&!grid._selectstartHandle){grid._selectstartHandle=on(node,"selectstart",function(evt){var tag=evt.target&&evt.target.tagName;if(tag!=="INPUT"&&tag!=="TEXTAREA"){evt.preventDefault();}});}else{if(_7b4&&grid._selectstartHandle){grid._selectstartHandle.remove();delete grid._selectstartHandle;}}}else{_7af(node,!_7b4);if(!_7b4&&!grid._unselectableHandle){grid._unselectableHandle=_7a0.after(grid,"renderRow",function(row){_7af(row,true);return row;});}else{if(_7b4&&grid._unselectableHandle){grid._unselectableHandle.remove();delete grid._unselectableHandle;}}}}};return _79e(null,{selectionDelegate:".dgrid-row",selectionEvents:_7ad+","+_7ae+",dgrid-cellfocusin",selectionTouchEvents:has("touch")?_7a1.tap:null,deselectOnRefresh:true,allowSelectAll:false,selection:{},selectionMode:"extended",allowTextSelection:undefined,_selectionTargetType:"rows",create:function(){this.selection={};return this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this._initSelectionEvents();var _7b6=this.selectionMode;this.selectionMode="";this._setSelectionMode(_7b6);},destroy:function(){this.inherited(arguments);if(this._selectstartHandle){this._selectstartHandle.remove();}if(this._unselectableHandle){this._unselectableHandle.remove();}if(this._removeDeselectSignals){this._removeDeselectSignals();}},_setSelectionMode:function(mode){if(mode==this.selectionMode){return;}this.clearSelection();this.selectionMode=mode;this._selectionHandlerName="_"+mode+"SelectionHandler";this._setAllowTextSelection(this.allowTextSelection);},setSelectionMode:function(mode){_79d.deprecated("setSelectionMode(...)","use set(\"selectionMode\", ...) instead","dgrid 0.4");this.set("selectionMode",mode);},_setAllowTextSelection:function(_7b7){if(typeof _7b7!=="undefined"){_7b3(this,_7b7);}else{_7b3(this,this.selectionMode==="none");}this.allowTextSelection=_7b7;},_handleSelect:function(_7b8,_7b9){if(!this[this._selectionHandlerName]||!this.allowSelect(this.row(_7b9))||(_7b8.type==="dgrid-cellfocusin"&&_7b8.parentType==="mousedown")||(_7b8.type===_7ae&&_7b9!=this._waitForMouseUp)){return;}this._waitForMouseUp=null;this._selectionTriggerEvent=_7b8;if(!_7b8.keyCode||!_7b8.ctrlKey||_7b8.keyCode==32){if(!_7b8.shiftKey&&_7b8.type===_7ad&&this.isSelected(_7b9)){this._waitForMouseUp=_7b9;}else{this[this._selectionHandlerName](_7b8,_7b9);}}this._selectionTriggerEvent=null;},_singleSelectionHandler:function(_7ba,_7bb){var _7bc=_7ba.keyCode?_7ba.ctrlKey:_7ba[_7a9];if(this._lastSelected===_7bb){this.select(_7bb,null,!_7bc||!this.isSelected(_7bb));}else{this.clearSelection();this.select(_7bb);this._lastSelected=_7bb;}},_multipleSelectionHandler:function(_7bd,_7be){var _7bf=this._lastSelected,_7c0=_7bd.keyCode?_7bd.ctrlKey:_7bd[_7a9],_7c1;if(!_7bd.shiftKey){_7c1=_7c0?null:true;_7bf=null;}this.select(_7be,_7bf,_7c1);if(!_7bf){this._lastSelected=_7be;}},_extendedSelectionHandler:function(_7c2,_7c3){if(_7c2.button===2?!this.isSelected(_7c3):!(_7c2.keyCode?_7c2.ctrlKey:_7c2[_7a9])){this.clearSelection(null,true);}this._multipleSelectionHandler(_7c2,_7c3);},_toggleSelectionHandler:function(_7c4,_7c5){this.select(_7c5,null,null);},_initSelectionEvents:function(){var grid=this,_7c6=this.contentNode,_7c7=this.selectionDelegate;this._selectionEventQueues={deselect:[],select:[]};if(has("touch")&&!has("pointer")&&this.selectionTouchEvents){on(_7c6,_7a1.selector(_7c7,this.selectionTouchEvents),function(evt){grid._handleSelect(evt,this);grid._ignoreMouseSelect=this;});on(_7c6,on.selector(_7c7,this.selectionEvents),function(_7c8){if(grid._ignoreMouseSelect!==this){grid._handleSelect(_7c8,this);}else{if(_7c8.type===_7ae){grid._ignoreMouseSelect=null;}}});}else{on(_7c6,on.selector(_7c7,this.selectionEvents),function(_7c9){grid._handleSelect(_7c9,this);});}if(this.addKeyHandler){this.addKeyHandler(32,function(_7ca){grid._handleSelect(_7ca,_7ca.target);});}if(this.allowSelectAll){this.on("keydown",function(_7cb){if(_7cb[_7a9]&&_7cb.keyCode==65&&!/\bdgrid-input\b/.test(_7cb.target.className)){_7cb.preventDefault();grid[grid.allSelected?"clearSelection":"selectAll"]();}});}if(this._setStore){_7a0.after(this,"_setStore",function(){grid._updateDeselectionAspect();});}this._updateDeselectionAspect();},_updateDeselectionAspect:function(){var self=this,_7cc=this.store,_7cd,_7ce;function _7cf(_7d0,_7d1,_7d2){var id=_7d1||(_7d0&&_7d0[self.idProperty||"id"]);if(id!=null){var row=self.row(id),_7d3=row&&self.selection[row.id];if(_7d3){self[_7d2](row,null,_7d3);}}};if(this._removeDeselectSignals){this._removeDeselectSignals();}if(_7cc&&_7cc.notify){_7cd=_7a0.before(_7cc,"notify",function(_7d4,_7d5){if(!_7d4){_7cf(_7d4,_7d5,"deselect");}});_7ce=_7a0.after(_7cc,"notify",function(_7d6,_7d7){_7cf(_7d6,_7d7,"select");},true);this._removeDeselectSignals=function(){_7cd.remove();_7ce.remove();};}else{_7cd=_7a0.before(this,"removeRow",function(_7d8,_7d9){var row;if(!_7d9){row=this.row(_7d8);if(row&&(row.id in this.selection)){this.deselect(row);}}});this._removeDeselectSignals=function(){_7cd.remove();};}},allowSelect:function(row){return true;},_fireSelectionEvent:function(type){var _7da=this._selectionEventQueues[type],_7db=this._selectionTriggerEvent,_7dc;_7dc={bubbles:true,grid:this};if(_7db){_7dc.parentType=_7db.type;}_7dc[this._selectionTargetType]=_7da;on.emit(this.contentNode,"dgrid-"+type,_7dc);this._selectionEventQueues[type]=[];},_fireSelectionEvents:function(){var _7dd=this._selectionEventQueues,type;for(type in _7dd){if(_7dd[type].length){this._fireSelectionEvent(type);}}},_select:function(row,_7de,_7df){var _7e0,_7e1,_7e2,_7e3,_7e4;if(typeof _7df==="undefined"){_7df=true;}if(!row.element){row=this.row(row);}if(_7df===false||this.allowSelect(row)){_7e0=this.selection;_7e1=!!_7e0[row.id];if(_7df===null){_7df=!_7e1;}_7e2=row.element;if(!_7df&&!this.allSelected){delete this.selection[row.id];}else{_7e0[row.id]=_7df;}if(_7e2){if(_7df){put(_7e2,".dgrid-selected"+(this.addUiClasses?".ui-state-active":""));}else{put(_7e2,"!dgrid-selected!ui-state-active");}}if(_7df!==_7e1&&_7e2){this._selectionEventQueues[(_7df?"":"de")+"select"].push(row);}if(_7de){if(!_7de.element){_7de=this.row(_7de);}if(!_7de){this._lastSelected=_7e2;return;}_7e3=_7de.element;if(_7e3){_7e4=this._determineSelectionDirection(_7e2,_7e3);if(!_7e4){_7e3=document.getElementById(_7e3.id);_7e4=this._determineSelectionDirection(_7e2,_7e3);}while(row.element!=_7e3&&(row=this[_7e4](row))){this._select(row,null,_7df);}}}}},_determineSelectionDirection:has("dom-comparedocumentposition")?function(from,to){var _7e5=to.compareDocumentPosition(from);if(_7e5&1){return false;}return _7e5===2?"down":"up";}:function(from,to){if(to.sourceIndex<1){return false;}return to.sourceIndex>from.sourceIndex?"down":"up";},select:function(row,_7e6,_7e7){this._select(row,_7e6,_7e7);this._fireSelectionEvents();},deselect:function(row,_7e8){this.select(row,_7e8,false);},clearSelection:function(_7e9,_7ea){this.allSelected=false;for(var id in this.selection){if(_7e9!==id){this._select(id,null,false);}}if(!_7ea){this._lastSelected=null;}this._fireSelectionEvents();},selectAll:function(){this.allSelected=true;this.selection={};for(var i in this._rowIdToObject){var row=this.row(this._rowIdToObject[i]);this._select(row.id,null,true);}this._fireSelectionEvents();},isSelected:function(_7eb){if(typeof _7eb==="undefined"||_7eb===null){return false;}if(!_7eb.element){_7eb=this.row(_7eb);}return (_7eb.id in this.selection)?!!this.selection[_7eb.id]:this.allSelected&&(!_7eb.data||this.allowSelect(_7eb));},refresh:function(){if(this.deselectOnRefresh){this.clearSelection();}this._lastSelected=null;return this.inherited(arguments);},renderArray:function(){var grid=this,rows=this.inherited(arguments);_79f.when(rows,function(rows){var _7ec=grid.selection,i,row,_7ed;for(i=0;i<rows.length;i++){row=grid.row(rows[i]);_7ed=row.id in _7ec?_7ec[row.id]:grid.allSelected;if(_7ed){grid._select(row,null,_7ed);}}grid._fireSelectionEvents();});return rows;}});});},"dijit/form/TextBox":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-style","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/sniff","./_FormValueWidget","./_TextBoxMixin","dojo/text!./templates/TextBox.html","../main"],function(_7ee,_7ef,_7f0,_7f1,lang,on,has,_7f2,_7f3,_7f4,_7f5){var _7f6=_7ee("dijit.form.TextBox"+(has("dojo-bidi")?"_NoBidi":""),[_7f2,_7f3],{templateString:_7f4,_singleNodeTemplate:"<input class=\"dijit dijitReset dijitLeft dijitInputField\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" type=\"${type}\" ${!nameAttrSetting} />",_buttonInputDisabled:has("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){var type=this.type.toLowerCase();if(this.templateString&&this.templateString.toLowerCase()=="input"||((type=="hidden"||type=="file")&&this.templateString==this.constructor.prototype.templateString)){this.templateString=this._singleNodeTemplate;}this.inherited(arguments);},postCreate:function(){this.inherited(arguments);if(has("ie")<9){this.defer(function(){try{var s=_7f0.getComputedStyle(this.domNode);if(s){var ff=s.fontFamily;if(ff){var _7f7=this.domNode.getElementsByTagName("INPUT");if(_7f7){for(var i=0;i<_7f7.length;i++){_7f7[i].style.fontFamily=ff;}}}}}catch(e){}});}},_setPlaceHolderAttr:function(v){this._set("placeHolder",v);if(!this._phspan){this._attachPoints.push("_phspan");this._phspan=_7ef.create("span",{className:"dijitPlaceHolder dijitInputField"},this.textbox,"after");this.own(on(this._phspan,"mousedown",function(evt){evt.preventDefault();}),on(this._phspan,"touchend, pointerup, MSPointerUp",lang.hitch(this,function(){this.focus();})));}this._phspan.innerHTML="";this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(v));this._updatePlaceHolder();},_onInput:function(evt){this.inherited(arguments);this._updatePlaceHolder();},_updatePlaceHolder:function(){if(this._phspan){this._phspan.style.display=(this.placeHolder&&!this.textbox.value)?"":"none";}},_setValueAttr:function(_7f8,_7f9,_7fa){this.inherited(arguments);this._updatePlaceHolder();},getDisplayedValue:function(){_7f1.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.","","2.0");return this.get("displayedValue");},setDisplayedValue:function(_7fb){_7f1.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",_7fb);},_onBlur:function(e){if(this.disabled){return;}this.inherited(arguments);this._updatePlaceHolder();if(has("mozilla")){if(this.selectOnClick){this.textbox.selectionStart=this.textbox.selectionEnd=undefined;}}},_onFocus:function(by){if(this.disabled||this.readOnly){return;}this.inherited(arguments);this._updatePlaceHolder();}});if(has("ie")<9){_7f6.prototype._isTextSelected=function(){var _7fc=this.ownerDocument.selection.createRange();var _7fd=_7fc.parentElement();return _7fd==this.textbox&&_7fc.text.length>0;};_7f5._setSelectionRange=_7f3._setSelectionRange=function(_7fe,_7ff,stop){if(_7fe.createTextRange){var r=_7fe.createTextRange();r.collapse(true);r.moveStart("character",-99999);r.moveStart("character",_7ff);r.moveEnd("character",stop-_7ff);r.select();}};}if(has("dojo-bidi")){_7f6=_7ee("dijit.form.TextBox",_7f6,{_setPlaceHolderAttr:function(v){this.inherited(arguments);this.applyTextDir(this._phspan);}});}return _7f6;});},"dijit/form/_DateTimeTextBox":function(){define(["dojo/date","dojo/date/locale","dojo/date/stamp","dojo/_base/declare","dojo/_base/lang","./RangeBoundTextBox","../_HasDropDown","dojo/text!./templates/DropDownBox.html"],function(date,_800,_801,_802,lang,_803,_804,_805){new Date("X");var _806=_802("dijit.form._DateTimeTextBox",[_803,_804],{templateString:_805,hasDownArrow:true,cssStateNodes:{"_buttonNode":"dijitDownArrowButton"},_unboundedConstraints:{},pattern:_800.regexp,datePackage:"",postMixInProperties:function(){this.inherited(arguments);this._set("type","text");},compare:function(val1,val2){var _807=this._isInvalidDate(val1);var _808=this._isInvalidDate(val2);if(_807||_808){return (_807&&_808)?0:(!_807?1:-1);}var _809=this.format(val1,this._unboundedConstraints),_80a=this.format(val2,this._unboundedConstraints),_80b=this.parse(_809,this._unboundedConstraints),_80c=this.parse(_80a,this._unboundedConstraints);return _809==_80a?0:date.compare(_80b,_80c,this._selector);},autoWidth:true,format:function(_80d,_80e){if(!_80d){return "";}return this.dateLocaleModule.format(_80d,_80e);},"parse":function(_80f,_810){return this.dateLocaleModule.parse(_80f,_810)||(this._isEmpty(_80f)?null:undefined);},serialize:function(val,_811){if(val.toGregorian){val=val.toGregorian();}return _801.toISOString(val,_811);},dropDownDefaultValue:new Date(),value:new Date(""),_blankValue:null,popupClass:"",_selector:"",constructor:function(_812){_812=_812||{};this.dateModule=_812.datePackage?lang.getObject(_812.datePackage,false):date;this.dateClassObj=this.dateModule.Date||Date;if(!(this.dateClassObj instanceof Date)){this.value=new this.dateClassObj(this.value);}this.dateLocaleModule=_812.datePackage?lang.getObject(_812.datePackage+".locale",false):_800;this._set("pattern",this.dateLocaleModule.regexp);this._invalidDate=this.constructor.prototype.value.toString();},buildRendering:function(){this.inherited(arguments);if(!this.hasDownArrow){this._buttonNode.style.display="none";}if(!this.hasDownArrow){this._buttonNode=this.domNode;this.baseClass+=" dijitComboBoxOpenOnClick";}},_setConstraintsAttr:function(_813){_813.selector=this._selector;_813.fullYear=true;var _814=_801.fromISOString;if(typeof _813.min=="string"){_813.min=_814(_813.min);if(!(this.dateClassObj instanceof Date)){_813.min=new this.dateClassObj(_813.min);}}if(typeof _813.max=="string"){_813.max=_814(_813.max);if(!(this.dateClassObj instanceof Date)){_813.max=new this.dateClassObj(_813.max);}}this.inherited(arguments);this._unboundedConstraints=lang.mixin({},this.constraints,{min:null,max:null});},_isInvalidDate:function(_815){return !_815||isNaN(_815)||typeof _815!="object"||_815.toString()==this._invalidDate;},_setValueAttr:function(_816,_817,_818){if(_816!==undefined){if(typeof _816=="string"){_816=_801.fromISOString(_816);}if(this._isInvalidDate(_816)){_816=null;}if(_816 instanceof Date&&!(this.dateClassObj instanceof Date)){_816=new this.dateClassObj(_816);}}this.inherited(arguments,[_816,_817,_818]);if(this.value instanceof Date){this.filterString="";}if(_817!==false&&this.dropDown){this.dropDown.set("value",_816,false);}},_set:function(attr,_819){if(attr=="value"){if(_819 instanceof Date&&!(this.dateClassObj instanceof Date)){_819=new this.dateClassObj(_819);}var _81a=this._get("value");if(_81a instanceof this.dateClassObj&&this.compare(_819,_81a)==0){return;}}this.inherited(arguments);},_setDropDownDefaultValueAttr:function(val){if(this._isInvalidDate(val)){val=new this.dateClassObj();}this._set("dropDownDefaultValue",val);},openDropDown:function(_81b){if(this.dropDown){this.dropDown.destroy();}var _81c=lang.isString(this.popupClass)?lang.getObject(this.popupClass,false):this.popupClass,_81d=this,_81e=this.get("value");this.dropDown=new _81c({onChange:function(_81f){_81d.set("value",_81f,true);},id:this.id+"_popup",dir:_81d.dir,lang:_81d.lang,value:_81e,textDir:_81d.textDir,currentFocus:!this._isInvalidDate(_81e)?_81e:this.dropDownDefaultValue,constraints:_81d.constraints,filterString:_81d.filterString,datePackage:_81d.datePackage,isDisabledDate:function(date){return !_81d.rangeCheck(date,_81d.constraints);}});this.inherited(arguments);},_getDisplayedValueAttr:function(){return this.textbox.value;},_setDisplayedValueAttr:function(_820,_821){this._setValueAttr(this.parse(_820,this.constraints),_821,_820);}});return _806;});},"dijit/layout/StackContainer":function(){define(["dojo/_base/array","dojo/cookie","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/has","dojo/_base/lang","dojo/on","dojo/ready","dojo/topic","dojo/when","../registry","../_WidgetBase","./_LayoutWidget"],function(_822,_823,_824,_825,_826,has,lang,on,_827,_828,when,_829,_82a,_82b){if(has("dijit-legacy-requires")){_827(0,function(){var _82c=["dijit/layout/StackController"];require(_82c);});}var _82d=_824("dijit.layout.StackContainer",_82b,{doLayout:true,persist:false,baseClass:"dijitStackContainer",buildRendering:function(){this.inherited(arguments);_825.add(this.domNode,"dijitLayoutContainer");},postCreate:function(){this.inherited(arguments);this.own(on(this.domNode,"keydown",lang.hitch(this,"_onKeyDown")));},startup:function(){if(this._started){return;}var _82e=this.getChildren();_822.forEach(_82e,this._setupChild,this);if(this.persist){this.selectedChildWidget=_829.byId(_823(this.id+"_selectedChild"));}else{_822.some(_82e,function(_82f){if(_82f.selected){this.selectedChildWidget=_82f;}return _82f.selected;},this);}var _830=this.selectedChildWidget;if(!_830&&_82e[0]){_830=this.selectedChildWidget=_82e[0];_830.selected=true;}_828.publish(this.id+"-startup",{children:_82e,selected:_830,textDir:this.textDir});this.inherited(arguments);},resize:function(){if(!this._hasBeenShown){this._hasBeenShown=true;var _831=this.selectedChildWidget;if(_831){this._showChild(_831);}}this.inherited(arguments);},_setupChild:function(_832){var _833=_832.domNode,_834=_826.place("<div role='tabpanel' class='"+this.baseClass+"ChildWrapper dijitHidden'>",_832.domNode,"replace"),_835=_832["aria-label"]||_832.title||_832.label;if(_835){_834.setAttribute("aria-label",_835);}_826.place(_833,_834);_832._wrapper=_834;this.inherited(arguments);if(_833.style.display=="none"){_833.style.display="block";}_832.domNode.removeAttribute("title");},addChild:function(_836,_837){this.inherited(arguments);if(this._started){_828.publish(this.id+"-addChild",_836,_837);this.layout();if(!this.selectedChildWidget){this.selectChild(_836);}}},removeChild:function(page){var idx=_822.indexOf(this.getChildren(),page);this.inherited(arguments);_826.destroy(page._wrapper);delete page._wrapper;if(this._started){_828.publish(this.id+"-removeChild",page);}if(this._descendantsBeingDestroyed){return;}if(this.selectedChildWidget===page){this.selectedChildWidget=undefined;if(this._started){var _838=this.getChildren();if(_838.length){this.selectChild(_838[Math.max(idx-1,0)]);}}}if(this._started){this.layout();}},selectChild:function(page,_839){var d;page=_829.byId(page);if(this.selectedChildWidget!=page){d=this._transition(page,this.selectedChildWidget,_839);this._set("selectedChildWidget",page);_828.publish(this.id+"-selectChild",page,this._focused);if(this.persist){_823(this.id+"_selectedChild",this.selectedChildWidget.id);}}return when(d||true);},_transition:function(_83a,_83b){if(_83b){this._hideChild(_83b);}var d=this._showChild(_83a);if(_83a.resize){if(this.doLayout){_83a.resize(this._containerContentBox||this._contentBox);}else{_83a.resize();}}return d;},_adjacent:function(_83c){var _83d=this.getChildren();var _83e=_822.indexOf(_83d,this.selectedChildWidget);_83e+=_83c?1:_83d.length-1;return _83d[_83e%_83d.length];},forward:function(){return this.selectChild(this._adjacent(true),true);},back:function(){return this.selectChild(this._adjacent(false),true);},_onKeyDown:function(e){_828.publish(this.id+"-containerKeyDown",{e:e,page:this});},layout:function(){var _83f=this.selectedChildWidget;if(_83f&&_83f.resize){if(this.doLayout){_83f.resize(this._containerContentBox||this._contentBox);}else{_83f.resize();}}},_showChild:function(page){var _840=this.getChildren();page.isFirstChild=(page==_840[0]);page.isLastChild=(page==_840[_840.length-1]);page._set("selected",true);if(page._wrapper){_825.replace(page._wrapper,"dijitVisible","dijitHidden");}return (page._onShow&&page._onShow())||true;},_hideChild:function(page){page._set("selected",false);if(page._wrapper){_825.replace(page._wrapper,"dijitHidden","dijitVisible");}page.onHide&&page.onHide();},closeChild:function(page){var _841=!page.onClose||page.onClose(this,page);if(_841){this.removeChild(page);page.destroyRecursive();}},destroyDescendants:function(_842){this._descendantsBeingDestroyed=true;this.selectedChildWidget=undefined;_822.forEach(this.getChildren(),function(_843){if(!_842){this.removeChild(_843);}_843.destroyRecursive(_842);},this);this._descendantsBeingDestroyed=false;}});_82d.ChildWidgetProperties={selected:false,disabled:false,closable:false,iconClass:"dijitNoIcon",showTitle:true};lang.extend(_82a,_82d.ChildWidgetProperties);return _82d;});},"dijit/form/_RadioButtonMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/_base/lang","dojo/query!css2","../registry"],function(_844,_845,_846,lang,_847,_848){return _845("dijit.form._RadioButtonMixin",null,{type:"radio",_getRelatedWidgets:function(){var ary=[];_847("input[type=radio]",this.focusNode.form||this.ownerDocument).forEach(lang.hitch(this,function(_849){if(_849.name==this.name&&_849.form==this.focusNode.form){var _84a=_848.getEnclosingWidget(_849);if(_84a){ary.push(_84a);}}}));return ary;},_setCheckedAttr:function(_84b){this.inherited(arguments);if(!this._created){return;}if(_84b){_844.forEach(this._getRelatedWidgets(),lang.hitch(this,function(_84c){if(_84c!=this&&_84c.checked){_84c.set("checked",false);}}));}},_getSubmitValue:function(_84d){return _84d==null?"on":_84d;},_onClick:function(e){if(this.checked||this.disabled){e.stopPropagation();e.preventDefault();return false;}if(this.readOnly){e.stopPropagation();e.preventDefault();_844.forEach(this._getRelatedWidgets(),lang.hitch(this,function(_84e){_846.set(this.focusNode||this.domNode,"checked",_84e.checked);}));return false;}var _84f=false;var _850;_844.some(this._getRelatedWidgets(),function(_851){if(_851.checked){_850=_851;return true;}return false;});this.checked=true;_850&&(_850.checked=false);if(this.onClick(e)===false||e.defaultPrevented){_84f=true;}this.checked=false;_850&&(_850.checked=true);if(_84f){e.preventDefault();}else{this.set("checked",true);}return !_84f;}});});},"dgrid/extensions/DijitRegistry":function(){define(["dojo/_base/declare","dojo/dom-geometry","dijit/registry"],function(_852,_853,_854){return _852(null,{minSize:0,maxSize:Infinity,layoutPriority:0,showTitle:true,buildRendering:function(){_854.add(this);this.inherited(arguments);this.domNode.setAttribute("widgetId",this.id);},startup:function(){if(this._started){return;}this.inherited(arguments);var _855=_854.getEnclosingWidget(this.domNode.parentNode);if(_855&&_855.isLayoutContainer){this._resizeHandle.remove();}},destroyRecursive:function(){this.destroy();},destroy:function(){this.inherited(arguments);_854.remove(this.id);},getChildren:function(){return [];},isLeftToRight:function(){return !this.isRTL;},resize:function(_856){if(_856){_853.setMarginBox(this.domNode,_856);}this.inherited(arguments);},_set:function(prop,_857){this[prop]=_857;},watch:function(){},getParent:function(){return _854.getEnclosingWidget(this.domNode.parentNode);}});});},"dijit/form/Form":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/_base/kernel","dojo/sniff","../_Widget","../_TemplatedMixin","./_FormMixin","../layout/_ContentPaneResizeMixin"],function(_858,_859,_85a,has,_85b,_85c,_85d,_85e){return _858("dijit.form.Form",[_85b,_85c,_85d,_85e],{name:"",action:"",method:"",encType:"","accept-charset":"",accept:"",target:"",templateString:"<form data-dojo-attach-point='containerNode' data-dojo-attach-event='onreset:_onReset,onsubmit:_onSubmit' ${!nameAttrSetting}></form>",postMixInProperties:function(){this.nameAttrSetting=this.name?("name='"+this.name+"'"):"";this.inherited(arguments);},execute:function(){},onExecute:function(){},_setEncTypeAttr:function(_85f){_859.set(this.domNode,"encType",_85f);if(has("ie")){this.domNode.encoding=_85f;}this._set("encType",_85f);},reset:function(e){var faux={returnValue:true,preventDefault:function(){this.returnValue=false;},stopPropagation:function(){},currentTarget:e?e.target:this.domNode,target:e?e.target:this.domNode};if(!(this.onReset(faux)===false)&&faux.returnValue){this.inherited(arguments,[]);}},onReset:function(){return true;},_onReset:function(e){this.reset(e);e.stopPropagation();e.preventDefault();return false;},_onSubmit:function(e){var fp=this.constructor.prototype;if(this.execute!=fp.execute||this.onExecute!=fp.onExecute){_85a.deprecated("dijit.form.Form:execute()/onExecute() are deprecated. Use onSubmit() instead.","","2.0");this.onExecute();this.execute(this.getValues());}if(this.onSubmit(e)===false){e.stopPropagation();e.preventDefault();}},onSubmit:function(){return this.isValid();},submit:function(){if(!(this.onSubmit()===false)){this.containerNode.submit();}}});});},"research/lookups/WebSources":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../lookups/templates/WebSources.html","dijit/layout/BorderContainer","ttl/grid/Grid","ttl/store/JsonRest","dojo/store/Observable","dojo/request","ttl/utilities2","dojo/json","dojo/topic","dojo/_base/lang","dijit/layout/ContentPane","dijit/Toolbar","dijit/form/DropDownButton","dijit/TooltipDialog","dijit/form/TextBox","dijit/form/Button","dijit/form/ValidationTextBox","dijit/form/Form","prcommon2/web/WebSourcesAdd","dijit/Dialog"],function(_860,_861,_862,_863,Grid,_864,_865,_866,_867,json,_868,lang){return _860("research.lookups.WebSources",[_861,_863],{templateString:_862,gutters:true,constructor:function(){this._store=new _865(new _864({target:"/research/admin/websources/list",idProperty:"websourceid"}));_868.subscribe(PRCOMMON.Events.Web_Sources_Update,lang.hitch(this,this._update_event));_868.subscribe(PRCOMMON.Events.Web_Sources_Added,lang.hitch(this,this._add_event));},postCreate:function(){var _869=[{label:" ",field:"websourceid",sortable:false,formatter:_867.generic_view,className:"grid-field-image-view"},{label:"Web Sources ",className:"standard",field:"websourcedescription"}];this.grid=new Grid({columns:_869,selectionMode:"single",store:this._store,query:{}});this.grid.on("dgrid-select",dojo.hitch(this,this._on_cell_call));this.websource_add_ctrl.set("dialog",this.websource_add_dlg);this.websource_update_ctrl.set("dialog",this.websource_update_dlg);this.inherited(arguments);},startup:function(){this.inherited(arguments);this.grid_view.set("content",this.grid);},_on_cell_call:function(e){this.websource_update_ctrl.load(e.rows[0].data.websourceid);},_execute:function(){var _86a={};if(arguments[0].filter){_86a["websourcedescription"]=arguments[0].filter;}this.grid.set("query",_86a);},_new_web_source:function(){this.websource_add_ctrl.clear();this.websource_add_dlg.show();},_clear_filter:function(){this.filter.set("value","");},_update_event:function(_86b){this._store.put(_86b);},_add_event:function(_86c){this._store.add(_86c);}});});},"dijit/form/_FormWidgetMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","dojo/window","../a11y"],function(_86d,_86e,_86f,_870,lang,_871,on,has,_872,a11y){return _86e("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:false,intermediateChanges:false,scrollOnFocus:true,_setIdAttr:"focusNode",_setDisabledAttr:function(_873){this._set("disabled",_873);if(/^(button|input|select|textarea|optgroup|option|fieldset)$/i.test(this.focusNode.tagName)){_86f.set(this.focusNode,"disabled",_873);}else{this.focusNode.setAttribute("aria-disabled",_873?"true":"false");}if(this.valueNode){_86f.set(this.valueNode,"disabled",_873);}if(_873){this._set("hovering",false);this._set("active",false);var _874="tabIndex" in this.attributeMap?this.attributeMap.tabIndex:("_setTabIndexAttr" in this)?this._setTabIndexAttr:"focusNode";_86d.forEach(lang.isArray(_874)?_874:[_874],function(_875){var node=this[_875];if(has("webkit")||a11y.hasDefaultTabStop(node)){node.setAttribute("tabIndex","-1");}else{node.removeAttribute("tabIndex");}},this);}else{if(this.tabIndex!=""){this.set("tabIndex",this.tabIndex);}}},_onFocus:function(by){if(by=="mouse"&&this.isFocusable()){var _876=this.own(on(this.focusNode,"focus",function(){_877.remove();_876.remove();}))[0];var _878=has("pointer-events")?"pointerup":has("MSPointer")?"MSPointerUp":has("touch-events")?"touchend, mouseup":"mouseup";var _877=this.own(on(this.ownerDocumentBody,_878,lang.hitch(this,function(evt){_877.remove();_876.remove();if(this.focused){if(evt.type=="touchend"){this.defer("focus");}else{this.focus();}}})))[0];}if(this.scrollOnFocus){this.defer(function(){_872.scrollIntoView(this.domNode);});}this.inherited(arguments);},isFocusable:function(){return !this.disabled&&this.focusNode&&(_870.get(this.domNode,"display")!="none");},focus:function(){if(!this.disabled&&this.focusNode.focus){try{this.focusNode.focus();}catch(e){}}},compare:function(val1,val2){if(typeof val1=="number"&&typeof val2=="number"){return (isNaN(val1)&&isNaN(val2))?0:val1-val2;}else{if(val1>val2){return 1;}else{if(val1<val2){return -1;}else{return 0;}}}},onChange:function(){},_onChangeActive:false,_handleOnChange:function(_879,_87a){if(this._lastValueReported==undefined&&(_87a===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_879;}this._pendingOnChange=this._pendingOnChange||(typeof _879!=typeof this._lastValueReported)||(this.compare(_879,this._lastValueReported)!=0);if((this.intermediateChanges||_87a||_87a===undefined)&&this._pendingOnChange){this._lastValueReported=_879;this._pendingOnChange=false;if(this._onChangeActive){if(this._onChangeHandle){this._onChangeHandle.remove();}this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(_879);});}}},create:function(){this.inherited(arguments);this._onChangeActive=true;},destroy:function(){if(this._onChangeHandle){this._onChangeHandle.remove();this.onChange(this._lastValueReported);}this.inherited(arguments);}});});},"dijit/_base/place":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/window","../place","../main"],function(_87b,lang,_87c,_87d,_87e){var _87f={};_87f.getViewport=function(){return _87c.getBox();};_87f.placeOnScreen=_87d.at;_87f.placeOnScreenAroundElement=function(node,_880,_881,_882){var _883;if(lang.isArray(_881)){_883=_881;}else{_883=[];for(var key in _881){_883.push({aroundCorner:key,corner:_881[key]});}}return _87d.around(node,_880,_883,true,_882);};_87f.placeOnScreenAroundNode=_87f.placeOnScreenAroundElement;_87f.placeOnScreenAroundRectangle=_87f.placeOnScreenAroundElement;_87f.getPopupAroundAlignment=function(_884,_885){var _886={};_87b.forEach(_884,function(pos){var ltr=_885;switch(pos){case "after":_886[_885?"BR":"BL"]=_885?"BL":"BR";break;case "before":_886[_885?"BL":"BR"]=_885?"BR":"BL";break;case "below-alt":ltr=!ltr;case "below":_886[ltr?"BL":"BR"]=ltr?"TL":"TR";_886[ltr?"BR":"BL"]=ltr?"TR":"TL";break;case "above-alt":ltr=!ltr;case "above":default:_886[ltr?"TL":"TR"]=ltr?"BL":"BR";_886[ltr?"TR":"TL"]=ltr?"BR":"BL";break;}});return _886;};lang.mixin(_87e,_87f);return _87e;});},"research/outlets/Profile":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../outlets/templates/Profile.html","dijit/layout/BorderContainer","dijit/layout/ContentPane","dojo/topic","dojo/_base/lang","ttl/utilities2","dojo/request","dojo/dom-attr","dojox/data/JsonRestStore","dojo/data/ItemFileReadStore","dijit/layout/ContentPane","dijit/form/Form","dijit/form/TextBox","dijit/form/FilteringSelect","dijit/form/Button","dojox/form/BusyButton","dijit/Dialog","dijit/form/Textarea","prcommon2/outlet/OutletSelect","prcommon2/circulation/CirculationSourcesAdd","prcommon2/circulation/CirculationDatesAdd","prcommon2/outlet/SelectMultipleOutlets","prcommon2/production/ProductionCompanyAdd","prcommon2/common/ExpandedText"],function(_887,_888,_889,_88a,_88b,_88c,lang,_88d,_88e,_88f,_890,_891){return _887("research.outlets.Profile",[_888,_88a],{templateString:_889,constructor:function(){this._productioncompanies=new _890({target:"/research/admin/production/list",labelAttribute:"productioncompanydescriptiion",idProperty:"productioncompanyid"});this._publishers=new _890({target:"/research/admin/publisher/list",labelAttribute:"publishername",idProperty:"publisherid"});this._update_call_back=lang.hitch(this,this._update_call);this._error_call_back=lang.hitch(this,this._error_call);this._languages=new _891({url:"/common/lookups?searchtype=languages&nofilter=1"});},postCreate:function(){this.reasoncodeid.set("store",PRCOMMON.utils.stores.Research_Reason_Add_Codes());this.reasoncodeid.set("value",PRCOMMON.utils.stores.Reason_Add_Default);this.productioncompanyid.set("store",this._productioncompanies);this.production_add_ctrl.set("dialog",this.production_add_dlg);this.publisher_add_ctrl.set("dialog",this.publisher_add_dlg);this.publisherid.set("store",this._publishers);this.language1id.set("store",this._languages);this.language2id.set("store",this._languages);this.inherited(arguments);},load:function(_892,_893,_894){this.reasoncodeid.set("value",PRCOMMON.utils.stores.Reason_Add_Default);this.outletid.set("value",_892);this._outletname=_893.outlet.outletname;_88f.set(this.old_profile_outletid,"value",_892);this.publisherid.set("value",_893.outlet.publisherid);this.language1id.set("value",_893.languages.language1id);this.language2id.set("value",_893.languages.language2id);if(_894.profile){this.readership.set("value",_894.profile.readership);this.editorialprofile.set("value",_894.profile.editorialprofile);this.nrsreadership.set("value",_894.profile.nrsreadership);this.jicregreadership.set("value",_894.profile.jicregreadership);this.broadcasttimes.set("value",_894.profile.broadcasttimes);this.productioncompanyid.set("value",_894.profile.productioncompanyid);this.web_profile_link.set("value",_894.profile.web_profile_link);}else{this.readership.set("value","");this.editorialprofile.set("value","");this.nrsreadership.set("value","");this.jicregreadership.set("value","");this.broadcasttimes.set("value","");this.productioncompanyid.set("value",null);this.web_profile_link.set("value","");}this.savenode.cancel();},clear:function(){this.outletid.set("value",-1);this.readership.set("value","");this.editorialprofile.set("value","");this.nrsreadership.set("value","");this.jicregreadership.set("value","");this.language1id.set("value","");this.language2id.set("value","");this.productioncompanyid.set("value",null);this.web_profile_link.set("value","");this.savenode.cancel();},_update_profile:function(){if(_88d.form_validator(this.form)==false){alert("Not all required field filled in");this.savenode.cancel();throw "N";}var _895=this.form.get("value");_895["reasoncodeid"]=this.reasoncodeid.get("value");_88e.post("/research/admin/outlets/update_profile",_88d.make_params({data:_895})).then(this._update_call_back,this._error_call_back);},_update_call:function(_896){if(_896.success=="OK"){alert("Profile Updated");}else{alert("Problem");}this.savenode.cancel();},_error_call:function(){this.savenode.cancel();},_show_old_profile:function(){this.old_profile_form.submit();},_new_production_company:function(){this.production_add_ctrl.clear();this.production_add_dlg.show();},_add_event:function(_897){this.publisherid.set("value",_897.publisherid);},_add_production_event:function(_898){this.productioncompanyid.set("value",_898.productioncompanyid);},_new_publisher:function(){this.publisher_add_ctrl.clear();this.publisher_add_dlg.show();},_delete:function(){this.outlet_delete_ctrl.load(this.outletid.get("value"),this._outletname,this.outlet_delete_dlg);this.outlet_delete_dlg.show();},_expand_broadcast:function(){this.text_view_ctrl.show_control(this.broadcasttimes,this.text_view_dlg,"Broadcast Times");},_expand_profile:function(){this.text_view_ctrl.show_control(this.editorialprofile,this.text_view_dlg,"Editorial Profile");},_expand_readership:function(){this.text_view_ctrl.show_control(this.readership,this.text_view_dlg,"Readership");},_expand_nrsreadership:function(){this.text_view_ctrl.show_control(this.nrsreadership,this.text_view_dlg,"PAMco");},_expand_jicreg_readership:function(){this.text_view_ctrl.show_control(this.jicregreadership,this.text_view_dlg,"JICREG readership");}});});},"dojox/main":function(){define(["dojo/_base/kernel"],function(dojo){return dojo.dojox;});},"research/lookups/CirculationSources":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../lookups/templates/CirculationSources.html","dijit/layout/BorderContainer","ttl/grid/Grid","ttl/store/JsonRest","dojo/store/Observable","dojo/request","ttl/utilities2","dojo/json","dojo/topic","dojo/_base/lang","dijit/layout/ContentPane","dijit/Toolbar","dijit/form/DropDownButton","dijit/TooltipDialog","dijit/form/TextBox","dijit/form/Button","dijit/form/ValidationTextBox","dijit/form/Form","prcommon2/circulation/CirculationSourcesAdd","dijit/Dialog"],function(_899,_89a,_89b,_89c,Grid,_89d,_89e,_89f,_8a0,json,_8a1,lang){return _899("research.lookups.CirculationSources",[_89a,_89c],{templateString:_89b,gutters:true,constructor:function(){this._store=new _89e(new _89d({target:"/research/admin/circulationsources/list",idProperty:"circulationsourceid"}));_8a1.subscribe(PRCOMMON.Events.Circulation_Sources_Update,lang.hitch(this,this._update_event));_8a1.subscribe(PRCOMMON.Events.Circulation_Sources_Added,lang.hitch(this,this._add_event));},postCreate:function(){var _8a2=[{label:" ",field:"circulationsourceid",sortable:false,formatter:_8a0.generic_view,className:"grid-field-image-view"},{label:"Circulation Sources ",className:"standard",field:"circulationsourcedescription"}];this.grid=new Grid({columns:_8a2,selectionMode:"single",store:this._store,query:{}});this.grid.on("dgrid-select",dojo.hitch(this,this._on_cell_call));this.circulationsource_add_ctrl.set("dialog",this.circulationsource_add_dlg);this.circulationsource_update_ctrl.set("dialog",this.circulationsource_update_dlg);this.inherited(arguments);},startup:function(){this.inherited(arguments);this.grid_view.set("content",this.grid);},_on_cell_call:function(e){this.circulationsource_update_ctrl.load(e.rows[0].data.circulationsourceid);},_execute:function(){var _8a3={};if(arguments[0].filter){_8a3["circulationsourcedescription"]=arguments[0].filter;}this.grid.set("query",_8a3);},_new_circulation_source:function(){this.circulationsource_add_ctrl.clear();this.circulationsource_add_dlg.show();},_clear_filter:function(){this.filter.set("value","");},_update_event:function(_8a4){this._store.put(_8a4);},_add_event:function(_8a5){this._store.add(_8a5);}});});},"prcommon2/search/OutletSearch":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../search/templates/OutletSearch.html","dijit/layout/ContentPane","prcommon2/search/std_search","prcommon2/search/SearchCount","ttl/Form2","dijit/form/TextBox","prcommon2/search/standard","prcommon2/search/PrmaxOutletTypes","prcommon2/interests/Interests","prcommon2/search/SearchRoles","prcommon2/geographical/Geographical","prcommon2/search/Circulation","prcommon2/search/Frequency","prcommon2/search/Publisher","prcommon2/search/Countries"],function(_8a6,_8a7,_8a8,_8a9){return _8a6("prcommon2.search.OutletSearch",[_8a7,_8a9],{templateString:_8a8,constructor:function(){},postCreate:function(){this.inherited(arguments);},_getFormAttr:function(){return this.form_name;},clear:function(){dojo.every(this.form_name.getChildren(),function(_8aa){if(_8aa.clear!=null){_8aa.clear();}return true;});}});});},"research/lookups/CirculationDates":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../lookups/templates/CirculationDates.html","dijit/layout/BorderContainer","ttl/grid/Grid","ttl/store/JsonRest","dojo/store/Observable","dojo/request","ttl/utilities2","dojo/json","dojo/topic","dojo/_base/lang","dijit/layout/ContentPane","dijit/Toolbar","dijit/form/DropDownButton","dijit/TooltipDialog","dijit/form/TextBox","dijit/form/Button","dijit/form/ValidationTextBox","dijit/form/Form","prcommon2/circulation/CirculationDatesAdd","dijit/Dialog"],function(_8ab,_8ac,_8ad,_8ae,Grid,_8af,_8b0,_8b1,_8b2,json,_8b3,lang){return _8ab("research.lookups.CirculationDates",[_8ac,_8ae],{templateString:_8ad,gutters:true,constructor:function(){this._store=new _8b0(new _8af({target:"/research/admin/circulationdates/list",idProperty:"circulationauditdateid"}));_8b3.subscribe(PRCOMMON.Events.Circulation_Dates_Update,lang.hitch(this,this._update_event));_8b3.subscribe(PRCOMMON.Events.Circulation_Dates_Added,lang.hitch(this,this._add_event));_8b3.subscribe(PRCOMMON.Events.Circulation_Dates_Deleted,lang.hitch(this,this._delete_event));},postCreate:function(){var _8b4=[{label:" ",field:"circulationauditdateid",sortable:false,formatter:_8b2.generic_view,className:"grid-field-image-view"},{label:"Circulation Dates ",className:"standard",field:"circulationauditdatedescription"}];this.grid=new Grid({columns:_8b4,selectionMode:"single",store:this._store,query:{}});this.grid.on("dgrid-select",dojo.hitch(this,this._on_cell_call));this.circulationdates_add_ctrl.set("dialog",this.circulationdates_add_dlg);this.circulationdates_update_ctrl.set("dialog",this.circulationdates_update_dlg);this.inherited(arguments);},startup:function(){this.inherited(arguments);this.grid_view.set("content",this.grid);},_on_cell_call:function(e){this.circulationdates_update_ctrl.load(e.rows[0].data.circulationauditdateid);},_execute:function(){var _8b5={};if(arguments[0].filter){_8b5["circulationauditdatedescription"]=arguments[0].filter;}this.grid.set("query",_8b5);},_new_circulation_dates:function(){this.circulationdates_add_ctrl.clear();this.circulationdates_add_dlg.show();},_clear_filter:function(){this.filter.set("value","");},_update_event:function(_8b6){this._store.put(_8b6);},_add_event:function(_8b7){this._store.add(_8b7);},_delete_event:function(_8b8){this._store.remove(_8b8);}});});},"dgrid/OnDemandGrid":function(){define(["dojo/_base/declare","./Grid","./OnDemandList"],function(_8b9,Grid,_8ba){return _8b9([Grid,_8ba],{});});},"dojox/collections/Dictionary":function(){define(["dojo/_base/kernel","dojo/_base/array","./_base"],function(dojo,_8bb,dxc){dxc.Dictionary=function(_8bc){var _8bd={};this.count=0;var _8be={};this.add=function(k,v){var b=(k in _8bd);_8bd[k]=new dxc.DictionaryEntry(k,v);if(!b){this.count++;}};this.clear=function(){_8bd={};this.count=0;};this.clone=function(){return new dxc.Dictionary(this);};this.contains=this.containsKey=function(k){if(_8be[k]){return false;}return (_8bd[k]!=null);};this.containsValue=function(v){var e=this.getIterator();while(e.get()){if(e.element.value==v){return true;}}return false;};this.entry=function(k){return _8bd[k];};this.forEach=function(fn,_8bf){var a=[];for(var p in _8bd){if(!_8be[p]){a.push(_8bd[p]);}}dojo.forEach(a,fn,_8bf);};this.getKeyList=function(){return (this.getIterator()).map(function(_8c0){return _8c0.key;});};this.getValueList=function(){return (this.getIterator()).map(function(_8c1){return _8c1.value;});};this.item=function(k){if(k in _8bd){return _8bd[k].valueOf();}return undefined;};this.getIterator=function(){return new dxc.DictionaryIterator(_8bd);};this.remove=function(k){if(k in _8bd&&!_8be[k]){delete _8bd[k];this.count--;return true;}return false;};if(_8bc){var e=_8bc.getIterator();while(e.get()){this.add(e.element.key,e.element.value);}}};return dxc.Dictionary;});},"dijit/_base/sniff":function(){define(["dojo/uacss"],function(){});},"prcommon2/outlet/OutletSelectDetails":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../outlet/templates/OutletSelectDetails.html","dijit/layout/BorderContainer","dojo/json","dojo/request","ttl/utilities2","ttl/store/JsonRest","dojox/data/JsonRestStore","dojo/store/Observable","dojo/_base/lang","dojo/topic","ttl/grid/Grid","dojo/dom-attr","dojo/dom-class","dojo/data/ItemFileReadStore","dojo/_base/array","dijit/form/TextBox","dijit/form/Button","dijit/Dialog","prcommon2/search/OutletSearch","dijit/layout/ContentPane","dojox/form/BusyButton","prcommon2/web/WebButton","dijit/layout/TabContainer","dijit/form/Textarea"],function(_8c2,_8c3,_8c4,_8c5,json,_8c6,_8c7,_8c8,_8c9,_8ca,lang,_8cb,Grid,_8cc,_8cd,_8ce,_8cf){return _8c2("prcommon2.outlet.OutletSelectDetails",[_8c3,_8c5],{templateString:_8c4,constructor:function(){this._dialog=null;this._load_call_back=lang.hitch(this,this._load_call);this._costs=new _8ce({url:"/common/lookups?searchtype=outletprices"});this._languages=new _8ce({url:"/common/lookups?searchtype=languages&nofilter=1"});this._publishers=new _8ce({url:"/common/lookups?searchtype=publishers"});this.outletid="";},postCreate:function(){this.country.set("store",PRCOMMON.utils.stores.Countries());this.frequency.set("store",PRCOMMON.utils.stores.Frequency());this.prmax_outlettypeid.set("store",PRCOMMON.utils.stores.OutletTypes());this.cost.set("store",this._costs);this.language.set("store",this._languages);this.publisherid.set("store",this._publishers);this.www_show.set("source",this.www);this.facebook_show.set("source",this.facebook);this.twitter_show.set("source",this.twitter);this.instagram_show.set("source",this.instagram);this.inherited(arguments);},_setDialogAttr:function(_8d0){this._dialog=_8d0;},load:function(_8d1,mode){var url="/research/admin/outlets/research_outlet_edit_get";if(mode=="clippings"){url="/outlets/research_outlet_edit_get";}_8c6.post(url,_8c7.make_params({data:{outletid:_8d1}})).then(this._load_call_back);},_load_call:function(_8d2){this._dialog("show");if(_8d2.success=="OK"){var _8d3="";var _8d4="";var _8d5="";var _8d6="";if(_8d2.outlet.address.address1){_8d3=_8d2.outlet.address.address1;}if(_8d2.outlet.address.address2){_8d3+=", "+_8d2.outlet.address.address2;}if(_8d2.outlet.address.townname){_8d3+=", "+_8d2.outlet.address.townname;}if(_8d2.outlet.address.postcode){_8d3+=", "+_8d2.outlet.address.postcode;}if(_8d2.outlet.interests.data.length>0){for(var i=0;i<_8d2.outlet.interests.data.length;i++){_8d4=_8d4+_8d2.outlet.interests.data[i].interestname+", ";}_8d4=_8d4.substring(0,_8d4.length-2);}if(_8d2.outlet.coverage.length>0){for(var i=0;i<_8d2.outlet.coverage.length;i++){_8d5=_8d5+_8d2.outlet.coverage[i].geographicalname+", ";}_8d5=_8d5.substring(0,_8d5.length-2);}if(_8d2.outlet.serieschildren.length>0){for(var i=0;i<_8d2.outlet.serieschildren.length;i++){_8d6=_8d6+_8d2.outlet.serieschildren[i].outletname+", ";}_8d6=_8d6.substring(0,_8d6.length-2);}this.outletname.set("value",_8d2.outlet.outlet.outletname);this.www.set("value",_8d2.outlet.outlet.www);this.address.set("value",_8d3);this.country.set("value",_8d2.outlet.outlet.countryid);this.tel.set("value",_8d2.outlet.communications.tel);this.email.set("value",_8d2.outlet.communications.email);this.twitter.set("value",_8d2.outlet.communications.twitter);this.facebook.set("value",_8d2.outlet.communications.facebook);this.instagram.set("value",_8d2.outlet.communications.instagram);this.circulation.set("value",_8d2.outlet.outlet.circulation);this.frequency.set("value",_8d2.outlet.outlet.frequencyid);this.prmax_outlettypeid.set("value",_8d2.outlet.outlet.prmax_outlettypeid);this.cost.set("value",_8d2.outlet.outlet.outletpriceid);this.sqcm.set("value",_8d2.outlet.outlet.mp_sqcm);this.keywords.set("value",_8d4);this.publisherid.set("value",_8d2.outlet.outlet.publisherid);this.language.set("value",_8d2.outlet.languages.language1id);this.profile.set("value",_8d2.outlet.outlet.profile);if(_8d2.outlet.profile.profile!=null){this.editorialprofile.set("value",_8d2.outlet.profile.profile.editorialprofile);this.readership.set("value",_8d2.outlet.profile.profile.readership);this.nrsreadership.set("value",_8d2.outlet.profile.profile.nrsreadership);this.jicregreadership.set("value",_8d2.outlet.profile.profile.jicregreadership);this.broadcasttimes.set("value",_8d2.outlet.profile.profile.broadcasttimes);}this.coverage.set("value",_8d5);this.serieschildren.set("value",_8d6);}},_close:function(){if(this._dialog){this._dialog("hide");}this._clear();},_clear:function(){this.outletname.set("value","");this.www.set("value","");this.address.set("value","");this.country.set("value","");this.tel.set("value","");this.email.set("value","");this.twitter.set("value","");this.facebook.set("value","");this.instagram.set("value","");this.circulation.set("value","");this.frequency.set("value","");this.prmax_outlettypeid.set("value","");this.cost.set("value","");this.sqcm.set("value","");this.keywords.set("value","");this.publisherid.set("value","");this.language.set("value","");this.profile.set("value","");this.editorialprofile.set("value","");this.readership.set("value","");this.nrsreadership.set("value","");this.jicregreadership.set("value","");this.broadcasttimes.set("value","");this.coverage.set("value","");this.serieschildren.set("value","");}});});},"prcommon2/dialogs/SynchroniseDialog":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../dialogs/templates/SynchroniseDialog.html","ttl/utilities2","dojo/request","dojo/_base/lang","dojo/dom-style","dojo/dom-attr","dojo/dom-class","dijit/ProgressBar"],function(_8d7,_8d8,_8d9,_8da,_8db,lang,_8dc,_8dd,_8de){return _8d7("prcommon2.dialogs.SynchroniseDialog",[_8d8],{templateString:_8d9,constructor:function(){this._processqueueid=-1;this._current=0;this._complete=null;this._outletid="";this._on_start_call_back=lang.hitch(this,this._on_start_call);this._on_status_call_back=lang.hitch(this,this._on_status_call);this._get_processqueue_status_back=lang.hitch(this,this._get_processqueue_status);},postCreate:function(){this.inherited(arguments);},SetCompleted:function(_8df){this._complete=_8df;},start:function(_8e0){if(_8e0["outletid"]){this._outletid=_8e0["outletid"];}this._start(_8e0);},_start:function(_8e1){_8db.post("/synchronise/start",_8da.make_params({data:_8e1})).then(this._on_start_call_back);},_on_start_call:function(_8e2){this._processqueueid=_8e2.processqueueid;this._wait();},_wait:function(){if(this._processqueueid==-1){this._complete(false);}else{++this._current;if(this._current>300){this._complete(false);}else{setTimeout(this._get_processqueue_status_back,2000);}}},_on_status_call:function(_8e3){if(_8e3.success=="OK"){if(_8e3.data.statusid==1||_8e3.data.statusid==2){this._wait();}else{this._complete(true);}}else{this.stop();}},stop:function(){this.clear();this._complete(false);},clear:function(){this._processqueueid=-1;this._current=0;},_get_processqueue_status:function(){if(this._processqueueid!=-1){_8db.post("/synchronise/status",_8da.make_params({data:{processqueueid:this._processqueueid,outletid:this._outletid}})).then(this._on_status_call_back);}}});});},"dgrid/Grid":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/on","dojo/has","put-selector/put","./List","./util/misc","dojo/_base/sniff"],function(_8e4,_8e5,_8e6,has,put,List,_8e7){var _8e8=has("ie")<8&&!has("quirks");function _8e9(_8ea,_8eb){if(_8eb&&_8eb.nodeType){_8ea.appendChild(_8eb);}};function _8ec(str){return _8e7.escapeCssIdentifier(str,"-");};var Grid=_8e5(List,{columns:null,cellNavigation:true,tabableHeader:true,showHeader:true,column:function(_8ed){if(typeof _8ed!="object"){return this.columns[_8ed];}else{return this.cell(_8ed).column;}},listType:"grid",cell:function(_8ee,_8ef){if(_8ee.column&&_8ee.element){return _8ee;}if(_8ee.target&&_8ee.target.nodeType){_8ee=_8ee.target;}var _8f0;if(_8ee.nodeType){var _8f1;do{if(this._rowIdToObject[_8ee.id]){break;}var _8f2=_8ee.columnId;if(_8f2){_8ef=_8f2;_8f0=_8ee;break;}_8ee=_8ee.parentNode;}while(_8ee&&_8ee!=this.domNode);}if(!_8f0&&typeof _8ef!="undefined"){var row=this.row(_8ee),_8f3=row&&row.element;if(_8f3){var _8f4=_8f3.getElementsByTagName("td");for(var i=0;i<_8f4.length;i++){if(_8f4[i].columnId==_8ef){_8f0=_8f4[i];break;}}}}if(_8ee!=null){return {row:row||this.row(_8ee),column:_8ef&&this.column(_8ef),element:_8f0};}},createRowCells:function(tag,each,_8f5,_8f6){var row=put("table.dgrid-row-table[role=presentation]"),_8f7=this.cellNavigation,_8f8=(has("ie")<9||has("quirks"))?put(row,"tbody"):row,tr,si,sl,i,l,_8f9,_8fa,id,_8fb,_8fc,cell,_8fd,_8fe,_8ff;_8f5=_8f5||this.subRows;for(si=0,sl=_8f5.length;si<sl;si++){_8f9=_8f5[si];tr=put(_8f8,"tr");if(_8f9.className){put(tr,"."+_8f9.className);}for(i=0,l=_8f9.length;i<l;i++){_8fa=_8f9[i];id=_8fa.id;_8fb=_8fa.field?".field-"+_8ec(_8fa.field):"";_8fc=typeof _8fa.className==="function"?_8fa.className(_8f6):_8fa.className;if(_8fc){_8fb+="."+_8fc;}cell=put(tag+(".dgrid-cell.dgrid-cell-padding"+(id?".dgrid-column-"+_8ec(id):"")+_8fb.replace(/ +/g,"."))+"[role="+(tag==="th"?"columnheader":"gridcell")+"]");cell.columnId=id;if(_8e8){_8fd=put(cell,"!dgrid-cell-padding div.dgrid-cell-padding");cell.contents=_8fd;}else{_8fd=cell;}_8fe=_8fa.colSpan;if(_8fe){cell.colSpan=_8fe;}_8ff=_8fa.rowSpan;if(_8ff){cell.rowSpan=_8ff;}each(_8fd,_8fa);tr.appendChild(cell);}}return row;},left:function(cell,_900){if(!cell.element){cell=this.cell(cell);}return this.cell(this._move(cell,-(_900||1),"dgrid-cell"));},right:function(cell,_901){if(!cell.element){cell=this.cell(cell);}return this.cell(this._move(cell,_901||1,"dgrid-cell"));},renderRow:function(_902,_903){var self=this;var row=this.createRowCells("td",function(td,_904){var data=_902;if(_904.get){data=_904.get(_902);}else{if("field" in _904&&_904.field!="_item"){data=data[_904.field];}}if(_904.renderCell){_8e9(td,_904.renderCell(_902,data,td,_903));}else{_905.call(_904,_902,data,td,_903);}},_903&&_903.subRows,_902);return put("div[role=row]>",row);},renderHeader:function(){var grid=this,_906=this.columns,_907=this.headerNode,i=_907.childNodes.length;_907.setAttribute("role","row");while(i--){put(_907.childNodes[i],"!");}var row=this.createRowCells("th",function(th,_908){var _909=_908.headerNode=th;if(_8e8){th=th.parentNode;}var _90a=_908.field;if(_90a){th.field=_90a;}if(_908.renderHeaderCell){_8e9(_909,_908.renderHeaderCell(_909));}else{if("label" in _908||_908.field){_909.appendChild(document.createTextNode("label" in _908?_908.label:_908.field));}}if(_908.sortable!==false&&_90a&&_90a!="_item"){th.sortable=true;th.className+=" dgrid-sortable";}},this.subRows&&this.subRows.headerRows);this._rowIdToObject[row.id=this.id+"-header"]=this.columns;_907.appendChild(row);if(this._sortListener){this._sortListener.remove();}this._sortListener=_8e6(row,"click,keydown",function(_90b){if(_90b.type=="click"||_90b.keyCode==32||(!has("opera")&&_90b.keyCode==13)){var _90c=_90b.target,_90d,sort,_90e,_90f;do{if(_90c.sortable){_90e=[{attribute:(_90d=_90c.field||_90c.columnId),descending:(sort=grid._sort[0])&&sort.attribute==_90d&&!sort.descending}];_90f={bubbles:true,cancelable:true,grid:grid,parentType:_90b.type,sort:_90e};if(_8e6.emit(_90b.target,"dgrid-sort",_90f)){grid._sortNode=_90c;grid.set("sort",_90e);}break;}}while((_90c=_90c.parentNode)&&_90c!=_907);}});},resize:function(){var _910=this.headerNode.firstChild,_911=this.contentNode,_912;this.inherited(arguments);if(!has("ie")||(has("ie")>7&&!has("quirks"))){_911.style.width="";if(_911&&_910){if((_912=_910.offsetWidth)!=_911.offsetWidth){_911.style.width=_912+"px";}}}},destroy:function(){this._destroyColumns();if(this._sortListener){this._sortListener.remove();}this.inherited(arguments);},_setSort:function(_913,_914){this.inherited(arguments);this.updateSortArrow(this._sort);},_findSortArrowParent:function(_915){var _916=this.columns;for(var i in _916){var _917=_916[i];if(_917.field==_915){return _917.headerNode;}}},updateSortArrow:function(sort,_918){if(this._lastSortedArrow){put(this._lastSortedArrow,"<!dgrid-sort-up!dgrid-sort-down");put(this._lastSortedArrow,"!");delete this._lastSortedArrow;}if(_918){this._sort=sort;}if(!sort[0]){return;}var prop=sort[0].attribute,desc=sort[0].descending,_919=this._sortNode||this._findSortArrowParent(prop),_91a;delete this._sortNode;if(_919){_919=_919.contents||_919;_91a=this._lastSortedArrow=put("div.dgrid-sort-arrow.ui-icon[role=presentation]");_91a.innerHTML="&nbsp;";_919.insertBefore(_91a,_919.firstChild);put(_919,desc?".dgrid-sort-down":".dgrid-sort-up");this.resize();}},styleColumn:function(_91b,css){return this.addCssRule("#"+_8e7.escapeCssIdentifier(this.domNode.id)+" .dgrid-column-"+_8ec(_91b),css);},_configColumns:function(_91c,_91d){var _91e=[],_91f=_91d instanceof Array;function _920(_921,_922){if(typeof _921=="string"){_91d[_922]=_921={label:_921};}if(!_91f&&!_921.field){_921.field=_922;}_922=_921.id=_921.id||(isNaN(_922)?_922:(_91c+_922));if(this._configColumn){this._configColumn(_921,_922,_91d,_91c);_922=_921.id;}if(_91f){this.columns[_922]=_921;}_921.grid=this;if(typeof _921.init==="function"){_921.init();}_91e.push(_921);};_8e7.each(_91d,_920,this);return _91f?_91d:_91e;},_destroyColumns:function(){var _923=this.subRows,_924=_923&&_923.length,i,j,_925,len;this.cleanup();for(i=0;i<_924;i++){for(j=0,len=_923[i].length;j<len;j++){_925=_923[i][j];if(typeof _925.destroy==="function"){_925.destroy();}}}},configStructure:function(){var _926=this.subRows,_927=this._columns=this.columns;this.columns=!_927||_927 instanceof Array?{}:_927;if(_926){for(var i=0;i<_926.length;i++){_926[i]=this._configColumns(i+"-",_926[i]);}}else{this.subRows=[this._configColumns("",_927)];}},_getColumns:function(){return this._columns||this.columns;},_setColumns:function(_928){this._destroyColumns();this.subRows=null;this.columns=_928;this._updateColumns();},_setSubRows:function(_929){this._destroyColumns();this.subRows=_929;this._updateColumns();},setColumns:function(_92a){_8e4.deprecated("setColumns(...)","use set(\"columns\", ...) instead","dgrid 0.4");this.set("columns",_92a);},setSubRows:function(_92b){_8e4.deprecated("setSubRows(...)","use set(\"subRows\", ...) instead","dgrid 0.4");this.set("subRows",_92b);},_updateColumns:function(){this.configStructure();this.renderHeader();this.refresh();this._lastCollection&&this.renderArray(this._lastCollection);if(this._started){if(this._sort&&this._sort.length){this.updateSortArrow(this._sort);}else{this.resize();}}}});function _905(_92c,data,td,_92d){if(this.formatter){var _92e=this.formatter,_92f=this.grid.formatterScope;td.innerHTML=typeof _92e==="string"&&_92f?_92f[_92e](data,_92c):this.formatter(data,_92c);}else{if(data!=null){td.appendChild(document.createTextNode(data));}}};Grid.appendIfNode=_8e9;Grid.defaultRenderCell=_905;return Grid;});},"dojo/data/util/sorter":function(){define(["../../_base/lang"],function(lang){var _930={};lang.setObject("dojo.data.util.sorter",_930);_930.basicComparator=function(a,b){var r=-1;if(a===null){a=undefined;}if(b===null){b=undefined;}if(a==b){r=0;}else{if(a>b||a==null){r=1;}}return r;};_930.createSortFunction=function(_931,_932){var _933=[];function _934(attr,dir,comp,s){return function(_935,_936){var a=s.getValue(_935,attr);var b=s.getValue(_936,attr);return dir*comp(a,b);};};var _937;var map=_932.comparatorMap;var bc=_930.basicComparator;for(var i=0;i<_931.length;i++){_937=_931[i];var attr=_937.attribute;if(attr){var dir=(_937.descending)?-1:1;var comp=bc;if(map){if(typeof attr!=="string"&&("toString" in attr)){attr=attr.toString();}comp=map[attr]||bc;}_933.push(_934(attr,dir,comp,_932));}}return function(rowA,rowB){var i=0;while(i<_933.length){var ret=_933[i++](rowA,rowB);if(ret!==0){return ret;}}return 0;};};return _930;});},"dgrid/util/misc":function(){define(["dojo/has","put-selector/put"],function(has,put){has.add("dom-contains",function(_938,doc,_939){return !!_939.contains;});var _93a=[],_93b,_93c,_93d,_93e=/([^A-Za-z0-9_\u00A0-\uFFFF-])/g;function _93f(_940){var _941=_93a[_940],i,l;if(_941===undefined){return;}_93b[_93c](_941);_93a[_940]=undefined;for(i=_940+1,l=_93a.length;i<l;i++){if(_93a[i]>_941){_93a[i]--;}}};var util={defaultDelay:15,throttle:function(cb,_942,_943){var ran=false;_943=_943||util.defaultDelay;return function(){if(ran){return;}ran=true;cb.apply(_942,arguments);setTimeout(function(){ran=false;},_943);};},throttleDelayed:function(cb,_944,_945){var ran=false;_945=_945||util.defaultDelay;return function(){if(ran){return;}ran=true;var a=arguments;setTimeout(function(){ran=false;cb.apply(_944,a);},_945);};},debounce:function(cb,_946,_947){var _948;_947=_947||util.defaultDelay;return function(){if(_948){clearTimeout(_948);_948=null;}var a=arguments;_948=setTimeout(function(){cb.apply(_946,a);},_947);};},each:function(_949,_94a,_94b){var i,len;if(!_949){return;}if(typeof _949.length==="number"){for(i=0,len=_949.length;i<len;i++){_94a.call(_94b,_949[i],i,_949);}}else{for(i in _949){_94a.call(_94b,_949[i],i,_949);}}},contains:function(_94c,node){if(has("dom-contains")){return _94c.contains(node);}else{return _94c.compareDocumentPosition(node)&8;}},addCssRule:function(_94d,css){if(!_93b){_93b=put(document.getElementsByTagName("head")[0],"style");_93b=_93b.sheet||_93b.styleSheet;_93c=_93b.deleteRule?"deleteRule":"removeRule";_93d=_93b.cssRules?"cssRules":"rules";}var _94e=_93a.length;_93a[_94e]=(_93b.cssRules||_93b.rules).length;_93b.addRule?_93b.addRule(_94d,css):_93b.insertRule(_94d+"{"+css+"}",_93a[_94e]);return {get:function(prop){return _93b[_93d][_93a[_94e]].style[prop];},set:function(prop,_94f){if(typeof _93a[_94e]!=="undefined"){_93b[_93d][_93a[_94e]].style[prop]=_94f;}},remove:function(){_93f(_94e);}};},escapeCssIdentifier:function(id,_950){return typeof id==="string"?id.replace(_93e,_950||"\\$1"):id;}};return util;});},"research/outlets/OutletDesks":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../outlets/templates/OutletDesks.html","dijit/layout/BorderContainer","dojo/topic","dojo/_base/lang","ttl/utilities2","dojo/request","dojox/data/JsonRestStore","dojo/data/ItemFileReadStore","ttl/grid/Grid","ttl/store/JsonRest","dojo/store/Observable","dijit/layout/ContentPane","dijit/form/Form","dijit/form/TextBox","dijit/form/FilteringSelect","dijit/form/Button","dojox/form/BusyButton","dijit/Dialog","prcommon2/outlet/desks/DeskAdd"],function(_951,_952,_953,_954,_955,lang,_956,_957,_958,_959,Grid,_958,_95a){return _951("research.outlets.OutletDesk",[_952,_954],{templateString:_953,constructor:function(){this._outletdesks=new _95a(new _958({target:"/research/admin/desks/list",idProperty:"outletdeskid"}));_955.subscribe(PRCOMMON.Events.Desk_Updated,lang.hitch(this,this._update_event));_955.subscribe(PRCOMMON.Events.Desk_Added,lang.hitch(this,this._add_event));_955.subscribe(PRCOMMON.Events.Desk_Deleted,lang.hitch(this,this._delete_event));},postCreate:function(){this.inherited(arguments);this.outlet_desk_grid=new Grid({columns:[{label:"Outlet Desk",className:"standard",field:"deskname"}],selectionMode:"single",store:this._outletdesks});this.grid_view.set("content",this.outlet_desk_grid);this.outlet_desk_grid.on(" .dgrid-cell:click",lang.hitch(this,this._on_cell_call));this.desk_add_ctrl.set("dialog",lang.hitch(this,this._show_add_function));this.desk_update_ctrl.set("dialog",lang.hitch(this,this._show_update_function));},_show_add_function:function(_95b){if(_95b=="show"){this.desk_add_dlg.show();}else{this.desk_add_dlg.hide();}},_show_update_function:function(_95c){if(_95c=="show"){this.controls.selectChild(this.desk_update_ctrl);}else{this.controls.selectChild(this.blank);}},load:function(_95d){this.desk_add_ctrl.set("outletid",_95d);this.outlet_desk_grid.set("query",{outletid:_95d});this.controls.selectChild(this.blank);this.desk_update_ctrl.clear();},clear:function(){this.desk_add_ctrl.set("outletid",-1);this.outlet_desk_grid.set("query",{});},_on_cell_call:function(e){var cell=this.outlet_desk_grid.cell(e);if(cell!=null){this.desk_update_ctrl.load(cell.row.data.outletdeskid);}},_add_desk:function(){this.desk_add_ctrl.clear();this.desk_add_dlg.show();},_update_event:function(_95e){this._outletdesks.put(_95e.outletdesk);},_add_event:function(_95f){this._outletdesks.add(_95f.outletdesk);},_delete_event:function(_960){this._outletdesks.remove(_960);}});});},"research/freelance/FreelanceDelete":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../freelance/templates/FreelanceDelete.html","dojo/request","ttl/utilities2","dojo/_base/lang","dojo/topic","dojo/dom-attr","dojo/dom-class","dijit/form/TextBox","dijit/form/Button","dijit/form/ValidationTextBox","dijit/form/Form","dojox/form/BusyButton","dijit/form/FilteringSelect"],function(_961,_962,_963,_964,_965,lang,_966,_967){return _961("research.freelance.FreelanceDelete",[_962],{templateString:_963,constructor:function(){this._delete_call_back=lang.hitch(this,this._delete_call);this._dialog=null;},postCreate:function(){this.reasoncodes.set("store",PRCOMMON.utils.stores.Research_Reason_Del_Codes());this.inherited(arguments);},_delete_submit:function(){if(_965.form_validator(this.form)==false){alert("Not all required fields filled in");throw "N";}if(this.reason.get("value").length==0){alert("No Description Given");this.reason.focus();return;}if(confirm("Delete Freelance "+_967.get(this.heading,"innerHTML")+"?")){if(confirm("Delete Freelancer are you sure?")){_964.post("/research/admin/outlets/research_delete",_965.make_params({data:this.form.get("value")})).then(this._delete_call_back);}}},_delete_call:function(_968){if(_968.success=="OK"){_966.publish(PRCOMMON.Events.Outlet_Deleted,_968.data);alert("Freelance Deleted");this.clear();this._dialog.hide();}else{alert("Problem Deleteing Freelancer");}},clear:function(){this.outletid.set("value",-1);this.reasoncodes.set("value",null);this.reason.set("value","");_967.set(this.heading,"innerHTML","");},load:function(_969,_96a){this.outletid.set("value",_969);_967.set(this.heading,"innerHTML",_96a);this.reasoncodes.set("value",null);this.reason.focus();},focus:function(){this.reason.focus();},_setDialogAttr:function(_96b){this._dialog=_96b;}});});},"research/clippings/linkoutlets":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../clippings/templates/linkoutlets.html","dijit/layout/BorderContainer","ttl/grid/Grid","ttl/store/JsonRest","dojo/store/Cache","dojo/store/Observable","dojo/store/Memory","dojo/request","ttl/utilities2","dojo/json","dojo/_base/lang","dijit/layout/ContentPane","dijit/Toolbar","dijit/form/DropDownButton","dijit/TooltipDialog","dijit/form/TextBox","dijit/form/CheckBox","dijit/form/Button","dijit/form/ValidationTextBox","dijit/form/Form","dijit/form/FilteringSelect","research/clippings/ipcb_outlets","research/clippings/mbrain_outlets"],function(_96c,_96d,_96e,_96f,Grid,_970,_971,_972,_973,_974,_975,json,lang){return _96c("research.clippings.linkoutlets",[_96d,_96f],{templateString:_96e,gutters:false,constructor:function(){this._store=new _972(new _970({target:"/research/clippings/list_link",idProperty:"outletexternallinkid"}));this._clippingsources=new dojo.data.ItemFileReadStore({url:"/common/lookups?searchtype=clippingsource&nofilter=1"});this._show_basic_edit_call_back=lang.hitch(this,this._show_basic_edit_call);},postCreate:function(){this.filter_source.set("store",this._clippingsources);var _976=[{label:" ",field:"outletexternallinkid",sortable:false,formatter:_975.generic_view,className:"grid-field-image-view"},{label:"Link Code",className:"dgrid-column-address-short",field:"linktext"},{label:"Link Name",className:"dgrid-column-address-short",field:"linkdescription"},{label:"Prmax OutletId",className:"dgrid-column-status-small",field:"outletid"},{label:"Prmax Outlet",className:"dgrid-column-address-short",field:"outletname"},{label:"Source",className:"dgrid-column-status-small",field:"clipsource"},{label:"Url",className:"dgrid-column-address-short",field:"url"}];this.grid=new Grid({columns:_976,selectionMode:"single",store:this._store,query:{not_linked:true,hide_ignore:true},sort:[{attribute:"linktext",descending:false}]});this.grid.on(".dgrid-row:click",lang.hitch(this,this._on_cell_call));this.inherited(arguments);},startup:function(){this.inherited(arguments);this.grid_view.set("content",this.grid);},_on_cell_call:function(e){var cell=this.grid.cell(e);if(cell&&cell.row){if(cell.column.id=="6"){if(cell.row.data.url.length>0){var win=window.open(cell.row.data.url,"_blank");win.focus();}}else{switch(cell.row.data.linktypeid){case "6":case 6:case "7":case 7:this.mbrain_outlet_link.load(cell.row.data.outletexternallinkid,this._show_basic_edit_call_back);break;default:this.ipbc_outlet_link.load(cell.row.data.outletexternallinkid,this._show_basic_edit_call_back);break;}}}},_clear_filter:function(){this.filter_linktext.set("value","");this.filter_linkdescription.set("value","");this.filter_url.set("value","");this.not_linked.set("checked",true);this.hide_ignore.set("checked",true);this.filter_source.set("value",-1);},_execute:function(){var _977={sourcetypeid:this._sourcetypeid};if(this.not_linked.get("checked")){_977["not_linked"]=true;}if(this.hide_ignore.get("checked")){_977["hide_ignore"]=true;}if(this.filter_linktext.get("value")){_977["linktext"]=this.filter_linktext.get("value");}if(this.filter_linkdescription.get("value")){_977["linkdescription"]=this.filter_linkdescription.get("value");}if(this.filter_url.get("value")){_977["linkurl"]=this.filter_url.get("value");}if(this.filter_source.get("value")){_977["clipsource"]=this.filter_source.get("value");}this.grid.set("query",_977);this._clear();},_clear:function(){this.edit_view.selectChild(this.blank_view);},_show_basic_edit_call:function(_978,data){if(data){this._store.put(data);this.edit_view.selectChild(this.blank_view);}else{switch(_978){case "ipcb_outlets":this.edit_view.selectChild(this.ipbc_outlet_link);break;case "mbrain_outlets":this.edit_view.selectChild(this.mbrain_outlet_link);break;}}}});});},"research/employees/EmployeeDelete":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../employees/templates/EmployeeDelete.html","dojo/request","ttl/utilities2","dojo/json","dojo/_base/lang","dojo/topic","dojo/dom-attr","dojo/dom-class","dijit/form/RadioButton","dijit/form/FilteringSelect","dijit/form/Button","dijit/form/Form","dijit/form/TextBox","dijit/form/Textarea"],function(_979,_97a,_97b,_97c,_97d,json,lang,_97e,_97f,_980){return _979("research.employees.EmployeeDelete",[_97a],{templateString:_97b,constructor:function(){this._deleted_contact_call_back=lang.hitch(this,this._deleted_contact_call);},postCreate:function(){this.reasoncodes.set("store",PRCOMMON.utils.stores.Research_Reason_Del_Codes());this.inherited(arguments);},_delete_submit:function(){if(_97d.form_validator(this.form)==false){alert("Not all required fields filled in");throw "N";}if(confirm("Delete "+_97f.get(this.heading,"innerHTML")+" ?")){_97c.post("/research/admin/employees/research_employee_delete",_97d.make_params({data:this.form.get("value")})).then(this._deleted_contact_call_back);}},_deleted_contact_call:function(_981){if(_981.success=="OK"){_97e.publish(PRCOMMON.Events.Employee_Deleted,_981.data);if(_981.data.has_deleted==false){alert("Contact deleted but retained role. Please verify the 'Research tab' to make sure these changes haven't effected it");}else{alert("Contact Deleted. Please verify the 'Research tab' to make sure these changes haven't effected it");}if(_981.data.series==true){alert("Series members were affected. Please run employee synchronisation process");}this.clear();this._dialog.hide();}else{alert("Problem Deleteing Contact");}},_setDialogAttr:function(_982){this._dialog=_982;},clear:function(){this.employeeid.set("value",-1);this.reasoncodes.set("value",null);_97f.set(this.delete_completely,"checked","checked");},load:function(_983,_984,name){this.employeeid.set("value",_983);_97f.set(this.heading,"innerHTML",_984+"("+name+")");this.reasoncodes.set("value",null);_97f.set(this.delete_completely,"checked","checked");},_close:function(){this._dialog.hide();}});});},"dijit/_base/popup":function(){define(["dojo/dom-class","dojo/_base/window","../popup","../BackgroundIframe"],function(_985,win,_986){var _987=_986._createWrapper;_986._createWrapper=function(_988){if(!_988.declaredClass){_988={_popupWrapper:(_988.parentNode&&_985.contains(_988.parentNode,"dijitPopup"))?_988.parentNode:null,domNode:_988,destroy:function(){},ownerDocument:_988.ownerDocument,ownerDocumentBody:win.body(_988.ownerDocument)};}return _987.call(this,_988);};var _989=_986.open;_986.open=function(args){if(args.orient&&typeof args.orient!="string"&&!("length" in args.orient)){var ary=[];for(var key in args.orient){ary.push({aroundCorner:key,corner:args.orient[key]});}args.orient=ary;}return _989.call(this,args);};return _986;});},"research/lookups/Publishers":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../lookups/templates/Publishers.html","dijit/layout/BorderContainer","ttl/grid/Grid","ttl/store/JsonRest","dojo/store/Observable","dojo/data/ItemFileReadStore","dojo/request","ttl/utilities2","dojo/json","dojo/topic","dojo/_base/lang","dijit/layout/ContentPane","dijit/Toolbar","dijit/form/DropDownButton","dijit/TooltipDialog","dijit/form/TextBox","dijit/form/Button","dijit/form/ValidationTextBox","dijit/form/Form","prcommon2/publisher/PublisherAdd","dijit/Dialog"],function(_98a,_98b,_98c,_98d,Grid,_98e,_98f,_990,_991,_992,json,_993,lang){return _98a("research.lookup.Publishers",[_98b,_98d],{templateString:_98c,gutters:true,constructor:function(){this._store=new _98f(new _98e({target:"/research/admin/publisher/list2",idProperty:"publisherid"}));this._sourcetypes=new _990({url:"/common/lookups?searchtype=sourcetypes"});_993.subscribe(PRCOMMON.Events.Publisher_Update,lang.hitch(this,this._update_event));_993.subscribe(PRCOMMON.Events.Publisher_Added,lang.hitch(this,this._add_event));_993.subscribe(PRCOMMON.Events.Publisher_Deleted,lang.hitch(this,this._deleted_event));},postCreate:function(){var _994=[{label:" ",field:"publisherid",sortable:false,formatter:_992.generic_view,className:"grid-field-image-view"},{label:"Publisher ",className:"standard",field:"publishername"},{label:"www ",className:"standard",field:"www"},{label:"Source ",className:"standard",field:"sourcename"}];this.grid=new Grid({columns:_994,selectionMode:"single",store:this._store,query:{}});this.grid.on("dgrid-select",lang.hitch(this,this._on_cell_call));this.publisher_add_ctrl.set("dialog",this.publisher_add_dlg);this.publisher_update_ctrl.set("dialog",this.publisher_update_dlg);this.filter_sourcetype.set("store",this._sourcetypes);this.filter_sourcetype.set("value",-1);this.inherited(arguments);},startup:function(){this.inherited(arguments);this.grid_view.set("content",this.grid);},_on_cell_call:function(e){this.publisher_update_ctrl.load(e.rows[0].data.publisherid);},_execute:function(){var _995={};if(arguments[0].filter){_995["publishername"]=arguments[0].filter;}if(arguments[0].filter_sourcetype!=-1){_995["sourcetypeid"]=arguments[0].filter_sourcetype;}this.grid.set("query",_995);},_new_publisher:function(){this.publisher_add_ctrl.clear();this.publisher_add_dlg.show();},_clear_filter:function(){this.filter.set("value","");},_update_event:function(_996){this._store.put(_996);},_add_event:function(_997){this._store.add(_997);},_deleted_event:function(_998){this._store.remove(_998);}});});},"prcommon2/production/ProductionCompanyAdd":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../production/templates/ProductionCompanyAdd.html","dojo/request","ttl/utilities2","dojo/json","dojo/_base/lang","dojo/dom-class","dojo/topic","dijit/form/TextBox","dijit/form/Button","dijit/form/Form","dojox/form/BusyButton"],function(_999,_99a,_99b,_99c,_99d,json,lang,_99e,_99f){return _999("prcommon2.production.ProductionCompanyAdd",[_99a],{templateString:_99b,mode:"add",constructor:function(){this._add_call_back=lang.hitch(this,this._add_call);this._load_call_back=lang.hitch(this,this._load_call);this._update_call_back=lang.hitch(this,this._update_call);this._delete_call_back=lang.hitch(this,this._delete_call);this._dialog=null;},postCreate:function(){this.inherited(arguments);},_add_dates:function(){if(_99d.form_validator(this.form)==false){alert("Not all required field filled in");this.savenode.cancel();throw "N";}if(this.mode=="add"){if(confirm("Add Production Company?")){_99c.post("/research/admin/production/add",_99d.make_params({data:this.form.get("value")})).then(this._add_call_back);}}else{if(confirm("Update Production Company?")){_99c.post("/research/admin/production/update",_99d.make_params({data:this.form.get("value")})).then(this._update_call_back);}}},_add_call:function(_9a0){if(_9a0.success=="OK"){alert("Production Company Added");this.clear();if(this._dialog){this._dialog.hide();}_99f.publish(PRCOMMON.Events.Production_Company_Added,_9a0.data.productioncompany);}else{if(_9a0.success=="DU"){alert("Production Company Already Exists");this.productioncompanydescription.focus();}else{alert("Failed");}}this.savenode.cancel();},_update_call:function(_9a1){if(_9a1.success=="OK"){alert("Production Company Updated");_99f.publish(PRCOMMON.Events.Production_Company_Update,_9a1.data.productioncompany);this.clear();if(this._dialog){this._dialog.hide();}}else{if(_9a1.success=="DU"){alert("Production Company Already Exists");this.productioncompanydescription.focus();}else{alert("Failed");}}this.savenode.cancel();},clear:function(){this.productioncompanydescription.set("value","");this.productioncompanyid.set("value",-1);this.savenode.cancel();},focus:function(){this.productioncompanydescription.focus();},_setDialogAttr:function(_9a2){this._dialog=_9a2;},load:function(_9a3){this.clear();_99c.post("/research/admin/production/get",_99d.make_params({data:{productioncompanyid:_9a3}})).then(this._load_call_back);},_load_call:function(_9a4){if(_9a4.success=="OK"){this.productioncompanydescription.set("value",_9a4.data.productioncompany.productioncompanydescription);this.productioncompanyid.set("value",_9a4.data.productioncompany.productioncompanyid);if(_9a4.data.inuse==false){_99e.remove(this.delete_button,"prmaxhidden");}else{_99e.add(this.delete_button,"prmaxhidden");}this._dialog.show();}else{alert("Problem");}},_close:function(){if(this._dialog){this._dialog.hide();}},_delete:function(){if(confirm("Delete Production Company?")){_99c.post("/research/admin/production/delete",_99d.make_params({data:this.form.get("value")})).then(this._delete_call_back);}},_delete_call:function(_9a5){if(_9a5.success=="OK"){alert("Production Company Deleted");if(this._dialog){this._dialog.hide();}_99f.publish(PRCOMMON.Events.Production_Company_Deleted,this.productioncompanyid.get("value"));}else{alert("Problem Deleting Production Company");}}});});},"research/loaded":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dijit/layout/BorderContainer","dijit/layout/ContentPane","dojo/data/ItemFileReadStore","dijit/layout/StackContainer","dijit/Dialog","research/frame","dijit/layout/BorderContainer","ttl/Amduuid","prcommon2/prevents","prcommon2/store/DataStores","prcommon2/dialogs/SynchroniseDialog","research/lookups/Roles","research/lookups/Geographical","research/lookups/Interests","research/lookups/ReasonCodes","research/employees/People","research/outlets/Outlets","research/outlets/OutletNew","research/audit/AuditDelete","research/freelance/FreelanceNew","research/advance/view","research/usersettings","research/feedback/BouncedEmails","research/lookups/Countries","research/projects/view","research/projects/create","research/lookups/Publishers","research/lookups/CirculationSources","research/lookups/CirculationDates","research/lookups/WebSources","research/lookups/WebDates","research/lookups/ProductionCompanies","research/lookups/Lanquages","prcommon2/query/query","research/translations/translations","research/clippings/linkoutlets","research/organisation/organisationnew","research/lookups/DeletionHistory","research/lookups/MarketSector"],function(){});},"research/translations/translatemediatype":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../translations/templates/translatemediatype.html","dojo/request","ttl/utilities2","dojo/_base/lang","dojo/data/ItemFileReadStore","dijit/form/ValidationTextBox"],function(_9a6,_9a7,_9a8,_9a9,_9aa,lang,_9ab){return _9a6("research.translations.translatemediatype",[_9a7],{templateString:_9a8,gutters:false,constructor:function(){this._load_details_call_back=lang.hitch(this,this._load_details_call);this._update_translation_call_back=lang.hitch(this,this._update_translation_call);this._frequencies=new _9ab({url:"/common/lookups?searchtype=prmaxoutlettypes&nofilter=1"});},postCreate:function(){this.frequencyid.set("store",this._frequencies);this.inherited(arguments);},load:function(_9ac,_9ad){this._show_func=_9ad;this.datasourcetranslationid.set("value",_9ac);_9a9.post("/research/international/translation/get_record",_9aa.make_params({data:{datasourcetranslationid:_9ac}})).then(this._load_details_call_back);},_load_details_call:function(_9ae){if(_9ae.success=="OK"){this.frequencyid.set("value",_9ae.data.translation);this._show_func("mediatype");}},_update_translation:function(){if(_9aa.form_validator(this.form)==false){alert("Not all required fields filled in");throw "N";}_9a9.post("/research/international/translation/update",_9aa.make_params({data:this.form.get("value")})).then(this._update_translation_call_back);},_update_translation_call:function(_9af){if(_9af.success=="OK"){this._show_func("mediatype",_9af.data);}}});});},"dijit/_base/focus":function(){define(["dojo/_base/array","dojo/dom","dojo/_base/lang","dojo/topic","dojo/_base/window","../focus","../selection","../main"],function(_9b0,dom,lang,_9b1,win,_9b2,_9b3,_9b4){var _9b5={_curFocus:null,_prevFocus:null,isCollapsed:function(){return _9b4.getBookmark().isCollapsed;},getBookmark:function(){var sel=win.global==window?_9b3:new _9b3.SelectionManager(win.global);return sel.getBookmark();},moveToBookmark:function(_9b6){var sel=win.global==window?_9b3:new _9b3.SelectionManager(win.global);return sel.moveToBookmark(_9b6);},getFocus:function(menu,_9b7){var node=!_9b2.curNode||(menu&&dom.isDescendant(_9b2.curNode,menu.domNode))?_9b4._prevFocus:_9b2.curNode;return {node:node,bookmark:node&&(node==_9b2.curNode)&&win.withGlobal(_9b7||win.global,_9b4.getBookmark),openedForWindow:_9b7};},_activeStack:[],registerIframe:function(_9b8){return _9b2.registerIframe(_9b8);},unregisterIframe:function(_9b9){_9b9&&_9b9.remove();},registerWin:function(_9ba,_9bb){return _9b2.registerWin(_9ba,_9bb);},unregisterWin:function(_9bc){_9bc&&_9bc.remove();}};_9b2.focus=function(_9bd){if(!_9bd){return;}var node="node" in _9bd?_9bd.node:_9bd,_9be=_9bd.bookmark,_9bf=_9bd.openedForWindow,_9c0=_9be?_9be.isCollapsed:false;if(node){var _9c1=(node.tagName.toLowerCase()=="iframe")?node.contentWindow:node;if(_9c1&&_9c1.focus){try{_9c1.focus();}catch(e){}}_9b2._onFocusNode(node);}if(_9be&&win.withGlobal(_9bf||win.global,_9b4.isCollapsed)&&!_9c0){if(_9bf){_9bf.focus();}try{win.withGlobal(_9bf||win.global,_9b4.moveToBookmark,null,[_9be]);}catch(e2){}}};_9b2.watch("curNode",function(name,_9c2,_9c3){_9b4._curFocus=_9c3;_9b4._prevFocus=_9c2;if(_9c3){_9b1.publish("focusNode",_9c3);}});_9b2.watch("activeStack",function(name,_9c4,_9c5){_9b4._activeStack=_9c5;});_9b2.on("widget-blur",function(_9c6,by){_9b1.publish("widgetBlur",_9c6,by);});_9b2.on("widget-focus",function(_9c7,by){_9b1.publish("widgetFocus",_9c7,by);});lang.mixin(_9b4,_9b5);return _9b4;});},"dijit/form/_FormMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/window"],function(_9c8,_9c9,_9ca,lang,on,_9cb){return _9c9("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(_9cc){var res=[];_9c8.forEach(_9cc||this.getChildren(),function(_9cd){if("value" in _9cd){res.push(_9cd);}else{res=res.concat(this._getDescendantFormWidgets(_9cd.getChildren()));}},this);return res;},reset:function(){_9c8.forEach(this._getDescendantFormWidgets(),function(_9ce){if(_9ce.reset){_9ce.reset();}});},validate:function(){var _9cf=false;return _9c8.every(_9c8.map(this._getDescendantFormWidgets(),function(_9d0){_9d0._hasBeenBlurred=true;var _9d1=_9d0.disabled||!_9d0.validate||_9d0.validate();if(!_9d1&&!_9cf){_9cb.scrollIntoView(_9d0.containerNode||_9d0.domNode);_9d0.focus();_9cf=true;}return _9d1;}),function(item){return item;});},setValues:function(val){_9ca.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",val);},_setValueAttr:function(obj){var map={};_9c8.forEach(this._getDescendantFormWidgets(),function(_9d2){if(!_9d2.name){return;}var _9d3=map[_9d2.name]||(map[_9d2.name]=[]);_9d3.push(_9d2);});for(var name in map){if(!map.hasOwnProperty(name)){continue;}var _9d4=map[name],_9d5=lang.getObject(name,false,obj);if(_9d5===undefined){continue;}_9d5=[].concat(_9d5);if(typeof _9d4[0].checked=="boolean"){_9c8.forEach(_9d4,function(w){w.set("value",_9c8.indexOf(_9d5,w._get("value"))!=-1);});}else{if(_9d4[0].multiple){_9d4[0].set("value",_9d5);}else{_9c8.forEach(_9d4,function(w,i){w.set("value",_9d5[i]);});}}}},getValues:function(){_9ca.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},_getValueAttr:function(){var obj={};_9c8.forEach(this._getDescendantFormWidgets(),function(_9d6){var name=_9d6.name;if(!name||_9d6.disabled){return;}var _9d7=_9d6.get("value");if(typeof _9d6.checked=="boolean"){if(/Radio/.test(_9d6.declaredClass)){if(_9d7!==false){lang.setObject(name,_9d7,obj);}else{_9d7=lang.getObject(name,false,obj);if(_9d7===undefined){lang.setObject(name,null,obj);}}}else{var ary=lang.getObject(name,false,obj);if(!ary){ary=[];lang.setObject(name,ary,obj);}if(_9d7!==false){ary.push(_9d7);}}}else{var prev=lang.getObject(name,false,obj);if(typeof prev!="undefined"){if(lang.isArray(prev)){prev.push(_9d7);}else{lang.setObject(name,[prev,_9d7],obj);}}else{lang.setObject(name,_9d7,obj);}}});return obj;},isValid:function(){return this.state=="";},onValidStateChange:function(){},_getState:function(){var _9d8=_9c8.map(this._descendants,function(w){return w.get("state")||"";});return _9c8.indexOf(_9d8,"Error")>=0?"Error":_9c8.indexOf(_9d8,"Incomplete")>=0?"Incomplete":"";},disconnectChildren:function(){},connectChildren:function(_9d9){this._descendants=this._getDescendantFormWidgets();_9c8.forEach(this._descendants,function(_9da){if(!_9da._started){_9da.startup();}});if(!_9d9){this._onChildChange();}},_onChildChange:function(attr){if(!attr||attr=="state"||attr=="disabled"){this._set("state",this._getState());}if(!attr||attr=="value"||attr=="disabled"||attr=="checked"){if(this._onChangeDelayTimer){this._onChangeDelayTimer.remove();}this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer;this._set("value",this.get("value"));},10);}},startup:function(){this.inherited(arguments);this._descendants=this._getDescendantFormWidgets();this.value=this.get("value");this.state=this._getState();var self=this;this.own(on(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(evt){if(evt.target==self.domNode){return;}self._onChildChange(evt.type.replace("attrmodified-",""));}));this.watch("state",function(attr,_9db,_9dc){this.onValidStateChange(_9dc=="");});},destroy:function(){this.inherited(arguments);}});});},"dijit/BackgroundIframe":function(){define(["require","./main","dojo/_base/config","dojo/dom-construct","dojo/dom-style","dojo/_base/lang","dojo/on","dojo/sniff"],function(_9dd,_9de,_9df,_9e0,_9e1,lang,on,has){has.add("config-bgIframe",(has("ie")&&!/IEMobile\/10\.0/.test(navigator.userAgent))||(has("trident")&&/Windows NT 6.[01]/.test(navigator.userAgent)));var _9e2=new function(){var _9e3=[];this.pop=function(){var _9e4;if(_9e3.length){_9e4=_9e3.pop();_9e4.style.display="";}else{if(has("ie")<9){var burl=_9df["dojoBlankHtmlUrl"]||_9dd.toUrl("dojo/resources/blank.html")||"javascript:\"\"";var html="<iframe src='"+burl+"' role='presentation'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_9e4=document.createElement(html);}else{_9e4=_9e0.create("iframe");_9e4.src="javascript:\"\"";_9e4.className="dijitBackgroundIframe";_9e4.setAttribute("role","presentation");_9e1.set(_9e4,"opacity",0.1);}_9e4.tabIndex=-1;}return _9e4;};this.push=function(_9e5){_9e5.style.display="none";_9e3.push(_9e5);};}();_9de.BackgroundIframe=function(node){if(!node.id){throw new Error("no id");}if(has("config-bgIframe")){var _9e6=(this.iframe=_9e2.pop());node.appendChild(_9e6);if(has("ie")<7||has("quirks")){this.resize(node);this._conn=on(node,"resize",lang.hitch(this,"resize",node));}else{_9e1.set(_9e6,{width:"100%",height:"100%"});}}};lang.extend(_9de.BackgroundIframe,{resize:function(node){if(this.iframe){_9e1.set(this.iframe,{width:node.offsetWidth+"px",height:node.offsetHeight+"px"});}},destroy:function(){if(this._conn){this._conn.remove();this._conn=null;}if(this.iframe){this.iframe.parentNode.removeChild(this.iframe);_9e2.push(this.iframe);delete this.iframe;}}});return _9de.BackgroundIframe;});},"dijit/layout/TabController":function(){define(["dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/has","dojo/i18n","dojo/_base/lang","./StackController","../registry","../Menu","../MenuItem","dojo/text!./templates/_TabButton.html","dojo/i18n!../nls/common"],function(_9e7,dom,_9e8,_9e9,has,i18n,lang,_9ea,_9eb,Menu,_9ec,_9ed){var _9ee=_9e7("dijit.layout._TabButton"+(has("dojo-bidi")?"_NoBidi":""),_9ea.StackButton,{baseClass:"dijitTab",cssStateNodes:{closeNode:"dijitTabCloseButton"},templateString:_9ed,_setNameAttr:"focusNode",scrollOnFocus:false,buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.containerNode,false);},startup:function(){this.inherited(arguments);var n=this.domNode;this.defer(function(){n.className=n.className;},1);},_setCloseButtonAttr:function(disp){this._set("closeButton",disp);_9e9.toggle(this.domNode,"dijitClosable",disp);this.closeNode.style.display=disp?"":"none";if(disp){var _9ef=i18n.getLocalization("dijit","common");if(this.closeNode){_9e8.set(this.closeNode,"title",_9ef.itemClose);}}},_setDisabledAttr:function(_9f0){this.inherited(arguments);if(this.closeNode){if(_9f0){_9e8.remove(this.closeNode,"title");}else{var _9f1=i18n.getLocalization("dijit","common");_9e8.set(this.closeNode,"title",_9f1.itemClose);}}},_setLabelAttr:function(_9f2){this.inherited(arguments);if(!this.showLabel&&!this.params.title){this.iconNode.alt=lang.trim(this.containerNode.innerText||this.containerNode.textContent||"");}}});if(has("dojo-bidi")){_9ee=_9e7("dijit.layout._TabButton",_9ee,{_setLabelAttr:function(_9f3){this.inherited(arguments);this.applyTextDir(this.iconNode,this.iconNode.alt);}});}var _9f4=_9e7("dijit.layout.TabController",_9ea,{baseClass:"dijitTabController",templateString:"<div role='tablist' data-dojo-attach-event='onkeydown:onkeydown'></div>",tabPosition:"top",buttonWidget:_9ee,buttonWidgetCloseClass:"dijitTabCloseButton",postCreate:function(){this.inherited(arguments);var _9f5=new Menu({id:this.id+"_Menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,targetNodeIds:[this.domNode],selector:function(node){return _9e9.contains(node,"dijitClosable")&&!_9e9.contains(node,"dijitTabDisabled");}});this.own(_9f5);var _9f6=i18n.getLocalization("dijit","common"),_9f7=this;_9f5.addChild(new _9ec({label:_9f6.itemClose,ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,onClick:function(evt){var _9f8=_9eb.byNode(this.getParent().currentTarget);_9f7.onCloseButtonClick(_9f8.page);}}));}});_9f4.TabButton=_9ee;return _9f4;});},"dijit/_MenuBase":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/_base/lang","dojo/mouse","dojo/on","dojo/window","./a11yclick","./registry","./_Widget","./_CssStateMixin","./_KeyNavContainer","./_TemplatedMixin"],function(_9f9,_9fa,dom,_9fb,_9fc,lang,_9fd,on,_9fe,_9ff,_a00,_a01,_a02,_a03,_a04){return _9fa("dijit._MenuBase",[_a01,_a04,_a03,_a02],{selected:null,_setSelectedAttr:function(item){if(this.selected!=item){if(this.selected){this.selected._setSelected(false);this._onChildDeselect(this.selected);}if(item){item._setSelected(true);}this._set("selected",item);}},activated:false,_setActivatedAttr:function(val){_9fc.toggle(this.domNode,"dijitMenuActive",val);_9fc.toggle(this.domNode,"dijitMenuPassive",!val);this._set("activated",val);},parentMenu:null,popupDelay:500,passivePopupDelay:Infinity,autoFocus:false,childSelector:function(node){var _a05=_a00.byNode(node);return node.parentNode==this.containerNode&&_a05&&_a05.focus;},postCreate:function(){var self=this,_a06=typeof this.childSelector=="string"?this.childSelector:lang.hitch(this,"childSelector");this.own(on(this.containerNode,on.selector(_a06,_9fd.enter),function(){self.onItemHover(_a00.byNode(this));}),on(this.containerNode,on.selector(_a06,_9fd.leave),function(){self.onItemUnhover(_a00.byNode(this));}),on(this.containerNode,on.selector(_a06,_9ff),function(evt){self.onItemClick(_a00.byNode(this),evt);evt.stopPropagation();}),on(this.containerNode,on.selector(_a06,"focusin"),function(){self._onItemFocus(_a00.byNode(this));}));this.inherited(arguments);},onKeyboardSearch:function(item,evt,_a07,_a08){this.inherited(arguments);if(!!item&&(_a08==-1||(!!item.popup&&_a08==1))){this.onItemClick(item,evt);}},_keyboardSearchCompare:function(item,_a09){if(!!item.shortcutKey){return _a09==item.shortcutKey.toLowerCase()?-1:0;}return this.inherited(arguments)?1:0;},onExecute:function(){},onCancel:function(){},_moveToPopup:function(evt){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled){this.onItemClick(this.focusedChild,evt);}else{var _a0a=this._getTopMenu();if(_a0a&&_a0a._isMenuBar){_a0a.focusNext();}}},_onPopupHover:function(){this.set("selected",this.currentPopupItem);this._stopPendingCloseTimer();},onItemHover:function(item){if(this.activated){this.set("selected",item);if(item.popup&&!item.disabled&&!this.hover_timer){this.hover_timer=this.defer(function(){this._openItemPopup(item);},this.popupDelay);}}else{if(this.passivePopupDelay<Infinity){if(this.passive_hover_timer){this.passive_hover_timer.remove();}this.passive_hover_timer=this.defer(function(){this.onItemClick(item,{type:"click"});},this.passivePopupDelay);}}this._hoveredChild=item;item._set("hovering",true);},_onChildDeselect:function(item){this._stopPopupTimer();if(this.currentPopupItem==item){this._stopPendingCloseTimer();this._pendingClose_timer=this.defer(function(){this._pendingClose_timer=null;this.currentPopupItem=null;item._closePopup();},this.popupDelay);}},onItemUnhover:function(item){if(this._hoveredChild==item){this._hoveredChild=null;}if(this.passive_hover_timer){this.passive_hover_timer.remove();this.passive_hover_timer=null;}item._set("hovering",false);},_stopPopupTimer:function(){if(this.hover_timer){this.hover_timer=this.hover_timer.remove();}},_stopPendingCloseTimer:function(){if(this._pendingClose_timer){this._pendingClose_timer=this._pendingClose_timer.remove();}},_getTopMenu:function(){for(var top=this;top.parentMenu;top=top.parentMenu){}return top;},onItemClick:function(item,evt){if(this.passive_hover_timer){this.passive_hover_timer.remove();}this.focusChild(item);if(item.disabled){return false;}if(item.popup){this.set("selected",item);this.set("activated",true);var _a0b=/^key/.test(evt._origType||evt.type)||(evt.clientX==0&&evt.clientY==0);this._openItemPopup(item,_a0b);}else{this.onExecute();item._onClick?item._onClick(evt):item.onClick(evt);}},_openItemPopup:function(_a0c,_a0d){if(_a0c==this.currentPopupItem){return;}if(this.currentPopupItem){this._stopPendingCloseTimer();this.currentPopupItem._closePopup();}this._stopPopupTimer();var _a0e=_a0c.popup;_a0e.parentMenu=this;this.own(this._mouseoverHandle=on.once(_a0e.domNode,"mouseover",lang.hitch(this,"_onPopupHover")));var self=this;_a0c._openPopup({parent:this,orient:this._orient||["after","before"],onCancel:function(){if(_a0d){self.focusChild(_a0c);}self._cleanUp();},onExecute:lang.hitch(this,"_cleanUp",true),onClose:function(){if(self._mouseoverHandle){self._mouseoverHandle.remove();delete self._mouseoverHandle;}}},_a0d);this.currentPopupItem=_a0c;},onOpen:function(){this.isShowingNow=true;this.set("activated",true);},onClose:function(){this.set("activated",false);this.set("selected",null);this.isShowingNow=false;this.parentMenu=null;},_closeChild:function(){this._stopPopupTimer();if(this.currentPopupItem){if(this.focused){_9fb.set(this.selected.focusNode,"tabIndex",this.tabIndex);this.selected.focusNode.focus();}this.currentPopupItem._closePopup();this.currentPopupItem=null;}},_onItemFocus:function(item){if(this._hoveredChild&&this._hoveredChild!=item){this.onItemUnhover(this._hoveredChild);}this.set("selected",item);},_onBlur:function(){this._cleanUp(true);this.inherited(arguments);},_cleanUp:function(_a0f){this._closeChild();if(typeof this.isShowingNow=="undefined"){this.set("activated",false);}if(_a0f){this.set("selected",null);}}});});},"ttl/grid/Grid":function(){define(["dojo/_base/declare","dojo/dom-style","dgrid/List","dgrid/OnDemandGrid","dgrid/Selection","dgrid/editor","dgrid/Keyboard","dgrid/tree","dgrid/extensions/DijitRegistry","dgrid/TouchScroll"],function(_a10,_a11,_a12,_a13,_a14,_a15,tree,_a16,_a17){return _a10("ttl.grid.Grid",[_a12,_a13,_a14,_a15,tree,_a16,_a17],{pagingDelay:100,postCreate:function(){this.inherited(arguments);_a11.set(this.domNode,"height","100%");}});});},"dijit/layout/ScrollingTabController":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/fx","dojo/_base/lang","dojo/on","dojo/query","dojo/sniff","../registry","dojo/text!./templates/ScrollingTabController.html","dojo/text!./templates/_ScrollingTabControllerButton.html","./TabController","./utils","../_WidgetsInTemplateMixin","../Menu","../MenuItem","../form/Button","../_HasDropDown","dojo/NodeList-dom","../a11yclick"],function(_a18,_a19,_a1a,_a1b,_a1c,fx,lang,on,_a1d,has,_a1e,_a1f,_a20,_a21,_a22,_a23,Menu,_a24,_a25,_a26){var _a27=_a19("dijit.layout.ScrollingTabController",[_a21,_a23],{baseClass:"dijitTabController dijitScrollingTabController",templateString:_a1f,useMenu:true,useSlider:true,tabStripClass:"",_minScroll:5,_setClassAttr:{node:"containerNode",type:"class"},buildRendering:function(){this.inherited(arguments);var n=this.domNode;this.scrollNode=this.tablistWrapper;this._initButtons();if(!this.tabStripClass){this.tabStripClass="dijitTabContainer"+this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"")+"None";_a1a.add(n,"tabStrip-disabled");}_a1a.add(this.tablistWrapper,this.tabStripClass);},onStartup:function(){this.inherited(arguments);_a1c.set(this.domNode,"visibility","");this._postStartup=true;this.own(on(this.containerNode,"attrmodified-label, attrmodified-iconclass",lang.hitch(this,function(evt){if(this._dim){this.resize(this._dim);}})));},onAddChild:function(page,_a28){this.inherited(arguments);_a1c.set(this.containerNode,"width",(_a1c.get(this.containerNode,"width")+200)+"px");},onRemoveChild:function(page,_a29){var _a2a=this.pane2button(page.id);if(this._selectedTab===_a2a.domNode){this._selectedTab=null;}this.inherited(arguments);},_initButtons:function(){this._btnWidth=0;this._buttons=_a1d("> .tabStripButton",this.domNode).filter(function(btn){if((this.useMenu&&btn==this._menuBtn.domNode)||(this.useSlider&&(btn==this._rightBtn.domNode||btn==this._leftBtn.domNode))){this._btnWidth+=_a1b.getMarginSize(btn).w;return true;}else{_a1c.set(btn,"display","none");return false;}},this);},_getTabsWidth:function(){var _a2b=this.getChildren();if(_a2b.length){var _a2c=_a2b[this.isLeftToRight()?0:_a2b.length-1].domNode,_a2d=_a2b[this.isLeftToRight()?_a2b.length-1:0].domNode;return _a2d.offsetLeft+_a2d.offsetWidth-_a2c.offsetLeft;}else{return 0;}},_enableBtn:function(_a2e){var _a2f=this._getTabsWidth();_a2e=_a2e||_a1c.get(this.scrollNode,"width");return _a2f>0&&_a2e<_a2f;},resize:function(dim){this._dim=dim;this.scrollNode.style.height="auto";var cb=this._contentBox=_a22.marginBox2contentBox(this.domNode,{h:0,w:dim.w});cb.h=this.scrollNode.offsetHeight;_a1b.setContentSize(this.domNode,cb);var _a30=this._enableBtn(this._contentBox.w);this._buttons.style("display",_a30?"":"none");this._leftBtn.region="left";this._rightBtn.region="right";this._menuBtn.region=this.isLeftToRight()?"right":"left";_a22.layoutChildren(this.domNode,this._contentBox,[this._menuBtn,this._leftBtn,this._rightBtn,{domNode:this.scrollNode,region:"center"}]);if(this._selectedTab){if(this._anim&&this._anim.status()=="playing"){this._anim.stop();}this.scrollNode.scrollLeft=this._convertToScrollLeft(this._getScrollForSelectedTab());}this._setButtonClass(this._getScroll());this._postResize=true;return {h:this._contentBox.h,w:dim.w};},_getScroll:function(){return (this.isLeftToRight()||has("ie")<8||(has("trident")&&has("quirks"))||has("webkit"))?this.scrollNode.scrollLeft:_a1c.get(this.containerNode,"width")-_a1c.get(this.scrollNode,"width")+(has("trident")||has("edge")?-1:1)*this.scrollNode.scrollLeft;},_convertToScrollLeft:function(val){if(this.isLeftToRight()||has("ie")<8||(has("trident")&&has("quirks"))||has("webkit")){return val;}else{var _a31=_a1c.get(this.containerNode,"width")-_a1c.get(this.scrollNode,"width");return (has("trident")||has("edge")?-1:1)*(val-_a31);}},onSelectChild:function(page,_a32){var tab=this.pane2button(page.id);if(!tab){return;}var node=tab.domNode;if(node!=this._selectedTab){this._selectedTab=node;if(this._postResize){var sl=this._getScroll();if(sl>node.offsetLeft||sl+_a1c.get(this.scrollNode,"width")<node.offsetLeft+_a1c.get(node,"width")){var anim=this.createSmoothScroll();if(_a32){anim.onEnd=function(){tab.focus();};}anim.play();}else{if(_a32){tab.focus();}}}}this.inherited(arguments);},_getScrollBounds:function(){var _a33=this.getChildren(),_a34=_a1c.get(this.scrollNode,"width"),_a35=_a1c.get(this.containerNode,"width"),_a36=_a35-_a34,_a37=this._getTabsWidth();if(_a33.length&&_a37>_a34){return {min:this.isLeftToRight()?0:_a33[_a33.length-1].domNode.offsetLeft,max:this.isLeftToRight()?(_a33[_a33.length-1].domNode.offsetLeft+_a33[_a33.length-1].domNode.offsetWidth)-_a34:_a36};}else{var _a38=this.isLeftToRight()?0:_a36;return {min:_a38,max:_a38};}},_getScrollForSelectedTab:function(){var w=this.scrollNode,n=this._selectedTab,_a39=_a1c.get(this.scrollNode,"width"),_a3a=this._getScrollBounds();var pos=(n.offsetLeft+_a1c.get(n,"width")/2)-_a39/2;pos=Math.min(Math.max(pos,_a3a.min),_a3a.max);return pos;},createSmoothScroll:function(x){if(arguments.length>0){var _a3b=this._getScrollBounds();x=Math.min(Math.max(x,_a3b.min),_a3b.max);}else{x=this._getScrollForSelectedTab();}if(this._anim&&this._anim.status()=="playing"){this._anim.stop();}var self=this,w=this.scrollNode,anim=new fx.Animation({beforeBegin:function(){if(this.curve){delete this.curve;}var oldS=w.scrollLeft,newS=self._convertToScrollLeft(x);anim.curve=new fx._Line(oldS,newS);},onAnimate:function(val){w.scrollLeft=val;}});this._anim=anim;this._setButtonClass(x);return anim;},_getBtnNode:function(e){var n=e.target;while(n&&!_a1a.contains(n,"tabStripButton")){n=n.parentNode;}return n;},doSlideRight:function(e){this.doSlide(1,this._getBtnNode(e));},doSlideLeft:function(e){this.doSlide(-1,this._getBtnNode(e));},doSlide:function(_a3c,node){if(node&&_a1a.contains(node,"dijitTabDisabled")){return;}var _a3d=_a1c.get(this.scrollNode,"width");var d=(_a3d*0.75)*_a3c;var to=this._getScroll()+d;this._setButtonClass(to);this.createSmoothScroll(to).play();},_setButtonClass:function(_a3e){var _a3f=this._getScrollBounds();this._leftBtn.set("disabled",_a3e<=_a3f.min);this._rightBtn.set("disabled",_a3e>=_a3f.max);}});var _a40=_a19("dijit.layout._ScrollingTabControllerButtonMixin",null,{baseClass:"dijitTab tabStripButton",templateString:_a20,tabIndex:"",isFocusable:function(){return false;}});_a19("dijit.layout._ScrollingTabControllerButton",[_a25,_a40]);_a19("dijit.layout._ScrollingTabControllerMenuButton",[_a25,_a26,_a40],{containerId:"",tabIndex:"-1",isLoaded:function(){return false;},loadDropDown:function(_a41){this.dropDown=new Menu({id:this.containerId+"_menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir});var _a42=_a1e.byId(this.containerId);_a18.forEach(_a42.getChildren(),function(page){var _a43=new _a24({id:page.id+"_stcMi",label:page.title,iconClass:page.iconClass,disabled:page.disabled,ownerDocument:this.ownerDocument,dir:page.dir,lang:page.lang,textDir:page.textDir||_a42.textDir,onClick:function(){_a42.selectChild(page);}});this.dropDown.addChild(_a43);},this);_a41();},closeDropDown:function(_a44){this.inherited(arguments);if(this.dropDown){this._popupStateNode.removeAttribute("aria-owns");this.dropDown.destroyRecursive();delete this.dropDown;}}});return _a27;});},"dijit/form/_ListMouseMixin":function(){define(["dojo/_base/declare","dojo/on","dojo/touch","./_ListBase"],function(_a45,on,_a46,_a47){return _a45("dijit.form._ListMouseMixin",_a47,{postCreate:function(){this.inherited(arguments);this.domNode.dojoClick=true;this._listConnect("click","_onClick");this._listConnect("mousedown","_onMouseDown");this._listConnect("mouseup","_onMouseUp");this._listConnect("mouseover","_onMouseOver");this._listConnect("mouseout","_onMouseOut");},_onClick:function(evt,_a48){this._setSelectedAttr(_a48,false);if(this._deferredClick){this._deferredClick.remove();}this._deferredClick=this.defer(function(){this._deferredClick=null;this.onClick(_a48);});},_onMouseDown:function(evt,_a49){if(this._hoveredNode){this.onUnhover(this._hoveredNode);this._hoveredNode=null;}this._isDragging=true;this._setSelectedAttr(_a49,false);},_onMouseUp:function(evt,_a4a){this._isDragging=false;var _a4b=this.selected;var _a4c=this._hoveredNode;if(_a4b&&_a4a==_a4b){this.defer(function(){this._onClick(evt,_a4b);});}else{if(_a4c){this.defer(function(){this._onClick(evt,_a4c);});}}},_onMouseOut:function(evt,_a4d){if(this._hoveredNode){this.onUnhover(this._hoveredNode);this._hoveredNode=null;}if(this._isDragging){this._cancelDrag=(new Date()).getTime()+1000;}},_onMouseOver:function(evt,_a4e){if(this._cancelDrag){var time=(new Date()).getTime();if(time>this._cancelDrag){this._isDragging=false;}this._cancelDrag=null;}this._hoveredNode=_a4e;this.onHover(_a4e);if(this._isDragging){this._setSelectedAttr(_a4e,false);}}});});},"dojox/validate/_base":function(){define(["dojo/_base/lang","dojo/regexp","dojo/number","./regexp"],function(lang,_a4f,_a50,_a51){var _a52=lang.getObject("dojox.validate",true);_a52.isText=function(_a53,_a54){_a54=(typeof _a54=="object")?_a54:{};if(/^\s*$/.test(_a53)){return false;}if(typeof _a54.length=="number"&&_a54.length!=_a53.length){return false;}if(typeof _a54.minlength=="number"&&_a54.minlength>_a53.length){return false;}if(typeof _a54.maxlength=="number"&&_a54.maxlength<_a53.length){return false;}return true;};_a52._isInRangeCache={};_a52.isInRange=function(_a55,_a56){_a55=_a50.parse(_a55,_a56);if(isNaN(_a55)){return false;}_a56=(typeof _a56=="object")?_a56:{};var max=(typeof _a56.max=="number")?_a56.max:Infinity,min=(typeof _a56.min=="number")?_a56.min:-Infinity,dec=(typeof _a56.decimal=="string")?_a56.decimal:".",_a57=_a52._isInRangeCache,_a58=_a55+"max"+max+"min"+min+"dec"+dec;if(typeof _a57[_a58]!="undefined"){return _a57[_a58];}_a57[_a58]=!(_a55<min||_a55>max);return _a57[_a58];};_a52.isNumberFormat=function(_a59,_a5a){var re=new RegExp("^"+_a51.numberFormat(_a5a)+"$","i");return re.test(_a59);};_a52.isValidLuhn=function(_a5b){var sum=0,_a5c,_a5d;if(!lang.isString(_a5b)){_a5b=String(_a5b);}_a5b=_a5b.replace(/[- ]/g,"");_a5c=_a5b.length%2;for(var i=0;i<_a5b.length;i++){_a5d=parseInt(_a5b.charAt(i));if(i%2==_a5c){_a5d*=2;}if(_a5d>9){_a5d-=9;}sum+=_a5d;}return !(sum%10);};return _a52;});},"dijit/tree/_dndSelector":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/dnd/common","dojo/dom","dojo/mouse","dojo/on","dojo/touch","../a11yclick","./_dndContainer"],function(_a5e,_a5f,_a60,lang,_a61,dom,_a62,on,_a63,_a64,_a65){return _a5f("dijit.tree._dndSelector",_a65,{constructor:function(){this.selection={};this.anchor=null;this.events.push(on(this.tree.domNode,_a63.press,lang.hitch(this,"onMouseDown")),on(this.tree.domNode,_a63.release,lang.hitch(this,"onMouseUp")),on(this.tree.domNode,_a63.move,lang.hitch(this,"onMouseMove")),on(this.tree.domNode,_a64.press,lang.hitch(this,"onClickPress")),on(this.tree.domNode,_a64.release,lang.hitch(this,"onClickRelease")));},singular:false,getSelectedTreeNodes:function(){var _a66=[],sel=this.selection;for(var i in sel){_a66.push(sel[i]);}return _a66;},selectNone:function(){this.setSelection([]);return this;},destroy:function(){this.inherited(arguments);this.selection=this.anchor=null;},addTreeNode:function(node,_a67){this.setSelection(this.getSelectedTreeNodes().concat([node]));if(_a67){this.anchor=node;}return node;},removeTreeNode:function(node){var _a68=_a5e.filter(this.getSelectedTreeNodes(),function(_a69){return !dom.isDescendant(_a69.domNode,node.domNode);});this.setSelection(_a68);return node;},isTreeNodeSelected:function(node){return node.id&&!!this.selection[node.id];},setSelection:function(_a6a){var _a6b=this.getSelectedTreeNodes();_a5e.forEach(this._setDifference(_a6b,_a6a),lang.hitch(this,function(node){node.setSelected(false);if(this.anchor==node){delete this.anchor;}delete this.selection[node.id];}));_a5e.forEach(this._setDifference(_a6a,_a6b),lang.hitch(this,function(node){node.setSelected(true);this.selection[node.id]=node;}));this._updateSelectionProperties();},_setDifference:function(xs,ys){_a5e.forEach(ys,function(y){y.__exclude__=true;});var ret=_a5e.filter(xs,function(x){return !x.__exclude__;});_a5e.forEach(ys,function(y){delete y["__exclude__"];});return ret;},_updateSelectionProperties:function(){var _a6c=this.getSelectedTreeNodes();var _a6d=[],_a6e=[];_a5e.forEach(_a6c,function(node){var ary=node.getTreePath();_a6e.push(node);_a6d.push(ary);},this);var _a6f=_a5e.map(_a6e,function(node){return node.item;});this.tree._set("paths",_a6d);this.tree._set("path",_a6d[0]||[]);this.tree._set("selectedNodes",_a6e);this.tree._set("selectedNode",_a6e[0]||null);this.tree._set("selectedItems",_a6f);this.tree._set("selectedItem",_a6f[0]||null);},onClickPress:function(e){if(this.current&&this.current.isExpandable&&this.tree.isExpandoNode(e.target,this.current)){return;}if(e.type=="mousedown"&&_a62.isLeft(e)){e.preventDefault();}var _a70=e.type=="keydown"?this.tree.focusedChild:this.current;if(!_a70){return;}var copy=_a61.getCopyKeyState(e),id=_a70.id;if(!this.singular&&!e.shiftKey&&this.selection[id]){this._doDeselect=true;return;}else{this._doDeselect=false;}this.userSelect(_a70,copy,e.shiftKey);},onClickRelease:function(e){if(!this._doDeselect){return;}this._doDeselect=false;this.userSelect(e.type=="keyup"?this.tree.focusedChild:this.current,_a61.getCopyKeyState(e),e.shiftKey);},onMouseMove:function(){this._doDeselect=false;},onMouseDown:function(){},onMouseUp:function(){},_compareNodes:function(n1,n2){if(n1===n2){return 0;}if("sourceIndex" in document.documentElement){return n1.sourceIndex-n2.sourceIndex;}else{if("compareDocumentPosition" in document.documentElement){return n1.compareDocumentPosition(n2)&2?1:-1;}else{if(document.createRange){var r1=doc.createRange();r1.setStartBefore(n1);var r2=doc.createRange();r2.setStartBefore(n2);return r1.compareBoundaryPoints(r1.END_TO_END,r2);}else{throw Error("dijit.tree._compareNodes don't know how to compare two different nodes in this browser");}}}},userSelect:function(node,_a71,_a72){if(this.singular){if(this.anchor==node&&_a71){this.selectNone();}else{this.setSelection([node]);this.anchor=node;}}else{if(_a72&&this.anchor){var cr=this._compareNodes(this.anchor.rowNode,node.rowNode),_a73,end,_a74=this.anchor;if(cr<0){_a73=_a74;end=node;}else{_a73=node;end=_a74;}var _a75=[];while(_a73!=end){_a75.push(_a73);_a73=this.tree._getNext(_a73);}_a75.push(end);this.setSelection(_a75);}else{if(this.selection[node.id]&&_a71){this.removeTreeNode(node);}else{if(_a71){this.addTreeNode(node,true);}else{this.setSelection([node]);this.anchor=node;}}}}},getItem:function(key){var _a76=this.selection[key];return {data:_a76,type:["treeNode"]};},forInSelectedItems:function(f,o){o=o||_a60.global;for(var id in this.selection){f.call(o,this.getItem(id),id,this);}}});});},"prcommon2/circulation/CirculationSourcesAdd":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../circulation/templates/CirculationSourcesAdd.html","dojo/request","ttl/utilities2","dojo/json","dojo/_base/lang","dojo/topic","dijit/form/TextBox","dijit/form/Button","dijit/form/Form","dojox/form/BusyButton"],function(_a77,_a78,_a79,_a7a,_a7b,json,lang,_a7c){return _a77("prcommon2.circulation.CirculationSourcesAdd",[_a78],{templateString:_a79,mode:"add",constructor:function(){this._add_call_back=lang.hitch(this,this._add_call);this._load_call_back=lang.hitch(this,this._load_call);this._update_call_back=lang.hitch(this,this._update_call);this._dialog=null;},postCreate:function(){this.inherited(arguments);},_add_publisher:function(){if(_a7b.form_validator(this.form)==false){alert("Not all required field filled in");this.savenode.cancel();throw "N";}if(this.mode=="add"){if(confirm("Add Circulation Sources?")){_a7a.post("/research/admin/circulationsources/add",_a7b.make_params({data:this.form.get("value")})).then(this._add_call_back);}}else{if(confirm("Update Circulation Sources?")){_a7a.post("/research/admin/circulationsources/update",_a7b.make_params({data:this.form.get("value")})).then(this._update_call_back);}}},_add_call:function(_a7d){if(_a7d.success=="OK"){alert("Circulation Source Added");this.clear();if(this._dialog){this._dialog.hide();}_a7c.publish(PRCOMMON.Events.Circulation_Sources_Added,_a7d.data);}else{if(_a7d.success=="DU"){alert("Circulation Sources Already Exists");this.circulationsourcedescription.focus();}else{alert("Failed");}}this.savenode.cancel();},_update_call:function(_a7e){if(_a7e.success=="OK"){alert("Circulation Source Updated");_a7c.publish(PRCOMMON.Events.Circulation_Sources_Update,_a7e.data);this.clear();if(this._dialog){this._dialog.hide();}}else{if(_a7e.success=="DU"){alert("Circulation Sources Already Exists");this.circulationsourcedescription.focus();}else{alert("Failed");}}this.savenode.cancel();},clear:function(){this.circulationsourcedescription.set("value","");this.circulationsourceid.set("value",-1);this.savenode.cancel();},focus:function(){this.circulationsourcedescription.focus();},_setDialogAttr:function(_a7f){this._dialog=_a7f;},load:function(_a80){this.clear();_a7a.post("/research/admin/circulationsources/get",_a7b.make_params({data:{circulationsourceid:_a80}})).then(this._load_call_back);},_load_call:function(_a81){if(_a81.success=="OK"){this.circulationsourcedescription.set("value",_a81.data.circulationsourcedescription);this.circulationsourceid.set("value",_a81.data.circulationsourceid);this._dialog.show();}else{alert("Problem");}},_close:function(){if(this._dialog){this._dialog.hide();}}});});},"dijit/layout/StackController":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/keys","dojo/_base/lang","dojo/on","dojo/topic","../focus","../registry","../_Widget","../_TemplatedMixin","../_Container","../form/ToggleButton","dojo/touch"],function(_a82,_a83,_a84,_a85,keys,lang,on,_a86,_a87,_a88,_a89,_a8a,_a8b,_a8c){var _a8d=_a83("dijit.layout._StackButton",_a8c,{tabIndex:"-1",closeButton:false,_aria_attr:"aria-selected",buildRendering:function(evt){this.inherited(arguments);(this.focusNode||this.domNode).setAttribute("role","tab");}});var _a8e=_a83("dijit.layout.StackController",[_a89,_a8a,_a8b],{baseClass:"dijitStackController",templateString:"<span role='tablist' data-dojo-attach-event='onkeydown'></span>",containerId:"",buttonWidget:_a8d,buttonWidgetCloseClass:"dijitStackCloseButton",pane2button:function(id){return _a88.byId(this.id+"_"+id);},postCreate:function(){this.inherited(arguments);this.own(_a86.subscribe(this.containerId+"-startup",lang.hitch(this,"onStartup")),_a86.subscribe(this.containerId+"-addChild",lang.hitch(this,"onAddChild")),_a86.subscribe(this.containerId+"-removeChild",lang.hitch(this,"onRemoveChild")),_a86.subscribe(this.containerId+"-selectChild",lang.hitch(this,"onSelectChild")),_a86.subscribe(this.containerId+"-containerKeyDown",lang.hitch(this,"onContainerKeyDown")));this.containerNode.dojoClick=true;this.own(on(this.containerNode,"click",lang.hitch(this,function(evt){var _a8f=_a88.getEnclosingWidget(evt.target);if(_a8f!=this.containerNode&&!_a8f.disabled&&_a8f.page){for(var _a90=evt.target;_a90!==this.containerNode;_a90=_a90.parentNode){if(_a84.contains(_a90,this.buttonWidgetCloseClass)){this.onCloseButtonClick(_a8f.page);break;}else{if(_a90==_a8f.domNode){this.onButtonClick(_a8f.page);break;}}}}})));},onStartup:function(info){this.textDir=info.textDir;_a82.forEach(info.children,this.onAddChild,this);if(info.selected){this.onSelectChild(info.selected);}var _a91=_a88.byId(this.containerId).containerNode,_a92=lang.hitch(this,"pane2button"),_a93={"title":"label","showtitle":"showLabel","iconclass":"iconClass","closable":"closeButton","tooltip":"title","disabled":"disabled","textdir":"textdir"},_a94=function(attr,_a95){return on(_a91,"attrmodified-"+attr,function(evt){var _a96=_a92(evt.detail&&evt.detail.widget&&evt.detail.widget.id);if(_a96){_a96.set(_a95,evt.detail.newValue);}});};for(var attr in _a93){this.own(_a94(attr,_a93[attr]));}},destroy:function(_a97){this.destroyDescendants(_a97);this.inherited(arguments);},onAddChild:function(page,_a98){var Cls=lang.isString(this.buttonWidget)?lang.getObject(this.buttonWidget):this.buttonWidget;var _a99=new Cls({id:this.id+"_"+page.id,name:this.id+"_"+page.id,label:page.title,disabled:page.disabled,ownerDocument:this.ownerDocument,dir:page.dir,lang:page.lang,textDir:page.textDir||this.textDir,showLabel:page.showTitle,iconClass:page.iconClass,closeButton:page.closable,title:page.tooltip,page:page});this.addChild(_a99,_a98);page.controlButton=_a99;if(!this._currentChild){this.onSelectChild(page);}var _a9a=page._wrapper.getAttribute("aria-labelledby")?page._wrapper.getAttribute("aria-labelledby")+" "+_a99.id:_a99.id;page._wrapper.removeAttribute("aria-label");page._wrapper.setAttribute("aria-labelledby",_a9a);},onRemoveChild:function(page){if(this._currentChild===page){this._currentChild=null;}var _a9b=this.pane2button(page.id);if(_a9b){this.removeChild(_a9b);_a9b.destroy();}delete page.controlButton;},onSelectChild:function(page){if(!page){return;}if(this._currentChild){var _a9c=this.pane2button(this._currentChild.id);_a9c.set("checked",false);_a9c.focusNode.setAttribute("tabIndex","-1");}var _a9d=this.pane2button(page.id);_a9d.set("checked",true);this._currentChild=page;_a9d.focusNode.setAttribute("tabIndex","0");var _a9e=_a88.byId(this.containerId);},onButtonClick:function(page){var _a9f=this.pane2button(page.id);_a87.focus(_a9f.focusNode);if(this._currentChild&&this._currentChild.id===page.id){_a9f.set("checked",true);}var _aa0=_a88.byId(this.containerId);_aa0.selectChild(page);},onCloseButtonClick:function(page){var _aa1=_a88.byId(this.containerId);_aa1.closeChild(page);if(this._currentChild){var b=this.pane2button(this._currentChild.id);if(b){_a87.focus(b.focusNode||b.domNode);}}},adjacent:function(_aa2){if(!this.isLeftToRight()&&(!this.tabPosition||/top|bottom/.test(this.tabPosition))){_aa2=!_aa2;}var _aa3=this.getChildren();var idx=_a82.indexOf(_aa3,this.pane2button(this._currentChild.id)),_aa4=_aa3[idx];var _aa5;do{idx=(idx+(_aa2?1:_aa3.length-1))%_aa3.length;_aa5=_aa3[idx];}while(_aa5.disabled&&_aa5!=_aa4);return _aa5;},onkeydown:function(e,_aa6){if(this.disabled||e.altKey){return;}var _aa7=null;if(e.ctrlKey||!e._djpage){switch(e.keyCode){case keys.LEFT_ARROW:case keys.UP_ARROW:if(!e._djpage){_aa7=false;}break;case keys.PAGE_UP:if(e.ctrlKey){_aa7=false;}break;case keys.RIGHT_ARROW:case keys.DOWN_ARROW:if(!e._djpage){_aa7=true;}break;case keys.PAGE_DOWN:if(e.ctrlKey){_aa7=true;}break;case keys.HOME:var _aa8=this.getChildren();for(var idx=0;idx<_aa8.length;idx++){var _aa9=_aa8[idx];if(!_aa9.disabled){this.onButtonClick(_aa9.page);break;}}e.stopPropagation();e.preventDefault();break;case keys.END:var _aa8=this.getChildren();for(var idx=_aa8.length-1;idx>=0;idx--){var _aa9=_aa8[idx];if(!_aa9.disabled){this.onButtonClick(_aa9.page);break;}}e.stopPropagation();e.preventDefault();break;case keys.DELETE:case "W".charCodeAt(0):if(this._currentChild.closable&&(e.keyCode==keys.DELETE||e.ctrlKey)){this.onCloseButtonClick(this._currentChild);e.stopPropagation();e.preventDefault();}break;case keys.TAB:if(e.ctrlKey){this.onButtonClick(this.adjacent(!e.shiftKey).page);e.stopPropagation();e.preventDefault();}break;}if(_aa7!==null){this.onButtonClick(this.adjacent(_aa7).page);e.stopPropagation();e.preventDefault();}}},onContainerKeyDown:function(info){info.e._djpage=info.page;this.onkeydown(info.e);}});_a8e.StackButton=_a8d;return _a8e;});},"dojox/layout/ExpandoPane":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/declare","dojo/_base/array","dojo/_base/connect","dojo/_base/event","dojo/_base/fx","dojo/dom-style","dojo/dom-class","dojo/dom-geometry","dojo/text!./resources/ExpandoPane.html","dijit/layout/ContentPane","dijit/_TemplatedMixin","dijit/_Contained","dijit/_Container"],function(_aaa,lang,_aab,_aac,_aad,_aae,_aaf,_ab0,_ab1,_ab2,_ab3,_ab4,_ab5,_ab6,_ab7){_aaa.experimental("dojox.layout.ExpandoPane");return _aab("dojox.layout.ExpandoPane",[_ab4,_ab5,_ab6,_ab7],{attributeMap:lang.delegate(_ab4.prototype.attributeMap,{title:{node:"titleNode",type:"innerHTML"}}),templateString:_ab3,easeOut:"dojo._DefaultEasing",easeIn:"dojo._DefaultEasing",duration:420,startExpanded:true,previewOpacity:0.75,previewOnDblClick:false,tabIndex:"0",_setTabIndexAttr:"iconNode",baseClass:"dijitExpandoPane",postCreate:function(){this.inherited(arguments);this._animConnects=[];this._isHorizontal=true;if(lang.isString(this.easeOut)){this.easeOut=lang.getObject(this.easeOut);}if(lang.isString(this.easeIn)){this.easeIn=lang.getObject(this.easeIn);}var _ab8="",rtl=!this.isLeftToRight();if(this.region){switch(this.region){case "trailing":case "right":_ab8=rtl?"Left":"Right";this._needsPosition="left";break;case "leading":case "left":_ab8=rtl?"Right":"Left";break;case "top":_ab8="Top";break;case "bottom":this._needsPosition="top";_ab8="Bottom";break;}_ab1.add(this.domNode,"dojoxExpando"+_ab8);_ab1.add(this.iconNode,"dojoxExpandoIcon"+_ab8);this._isHorizontal=/top|bottom/.test(this.region);}_ab0.set(this.domNode,{overflow:"hidden",padding:0});this.connect(this.domNode,"ondblclick",this.previewOnDblClick?"preview":"toggle");this.iconNode.setAttribute("aria-controls",this.id);this.iconNode.setAttribute("role","button");this.iconNode.setAttribute("aria-label",this.titleNode.innerHTML);if(this.previewOnDblClick){this.connect(this.getParent(),"_layoutChildren",lang.hitch(this,function(){this._isonlypreview=false;}));}},_startupSizes:function(){this._container=this.getParent();this._closedSize=this._titleHeight=_ab2.getMarginBox(this.titleWrapper).h;if(this.splitter){var myid=this.id;_aac.forEach(dijit.registry.toArray(),function(w){if(w&&w.child&&w.child.id==myid){this.connect(w,"_stopDrag","_afterResize");}},this);}this._currentSize=_ab2.getContentBox(this.domNode);this._showSize=this._currentSize[(this._isHorizontal?"h":"w")];this._setupAnims();if(this.startExpanded){this._showing=true;}else{this._showing=false;this._hideWrapper();this._hideAnim.gotoPercent(99,true);}this.domNode.setAttribute("aria-expanded",this._showing);this._hasSizes=true;},_afterResize:function(e){var tmp=this._currentSize;this._currentSize=_ab2.getMarginBox(this.domNode);var n=this._currentSize[(this._isHorizontal?"h":"w")];if(n>this._titleHeight){if(!this._showing){this._showing=!this._showing;this._showEnd();}this._showSize=n;this._setupAnims();}else{this._showSize=tmp[(this._isHorizontal?"h":"w")];this._showing=false;this._hideWrapper();this._hideAnim.gotoPercent(89,true);}},_setupAnims:function(){_aac.forEach(this._animConnects,_aad.disconnect);var _ab9={node:this.domNode,duration:this.duration},_aba=this._isHorizontal,_abb={},_abc=this._showSize,_abd=this._closedSize,_abe={},_abf=_aba?"height":"width",also=this._needsPosition;_abb[_abf]={end:_abc};_abe[_abf]={end:_abd};if(also){_abb[also]={end:function(n){var c=parseInt(n.style[also],10);return c-_abc+_abd;}};_abe[also]={end:function(n){var c=parseInt(n.style[also],10);return c+_abc-_abd;}};}this._showAnim=_aaf.animateProperty(lang.mixin(_ab9,{easing:this.easeIn,properties:_abb}));this._hideAnim=_aaf.animateProperty(lang.mixin(_ab9,{easing:this.easeOut,properties:_abe}));this._animConnects=[_aad.connect(this._showAnim,"onEnd",this,"_showEnd"),_aad.connect(this._hideAnim,"onEnd",this,"_hideEnd")];},preview:function(){if(!this._showing){this._isonlypreview=!this._isonlypreview;}this.toggle();},toggle:function(){if(this._showing){this._hideWrapper();this._showAnim&&this._showAnim.stop();this._hideAnim.play();}else{this._hideAnim&&this._hideAnim.stop();this._showAnim.play();}this._showing=!this._showing;this.domNode.setAttribute("aria-expanded",this._showing);},_hideWrapper:function(){_ab1.add(this.domNode,"dojoxExpandoClosed");_ab0.set(this.cwrapper,{visibility:"hidden",opacity:"0",overflow:"hidden"});},_showEnd:function(){_ab0.set(this.cwrapper,{opacity:0,visibility:"visible"});_aaf.anim(this.cwrapper,{opacity:this._isonlypreview?this.previewOpacity:1},227);_ab1.remove(this.domNode,"dojoxExpandoClosed");if(!this._isonlypreview){setTimeout(lang.hitch(this._container,"layout"),15);}else{this._previewShowing=true;this.resize();}},_hideEnd:function(){if(!this._isonlypreview){setTimeout(lang.hitch(this._container,"layout"),25);}else{this._previewShowing=false;}this._isonlypreview=false;},resize:function(_ac0){if(!this._hasSizes){this._startupSizes(_ac0);}var _ac1=_ab2.getMarginBox(this.domNode);this._contentBox={w:_ac0&&"w" in _ac0?_ac0.w:_ac1.w,h:(_ac0&&"h" in _ac0?_ac0.h:_ac1.h)-this._titleHeight};_ab0.set(this.containerNode,"height",this._contentBox.h+"px");if(_ac0){_ab2.setMarginBox(this.domNode,_ac0);}this._layoutChildren();this._setupAnims();},_trap:function(e){_aae.stop(e);}});});},"prcommon2/search/standard":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../search/templates/standard.html","prcommon2/search/std_search","dijit/form/TextBox","prcommon2/search/SearchCount"],function(_ac2,_ac3,_ac4,_ac5){return _ac2("prcommon2.search.standard",[_ac3,_ac5],{templateString:_ac4,testmode:false,constructor:function(){this._on_input_call_back=dojo.hitch(this,this._on_input);},postCreate:function(){if(dojo.isMoz||dojo.isOpera){this.connect(this.datanode.textbox,"oninput",this._on_input_call_back);}else{this.connect(this.datanode.textbox,"onkeyup",this._on_input_call_back);this.connect(this.datanode.textbox,"onpaste",this._on_input_call_back);this.connect(this.datanode.textbox,"oncut",this._on_input_call_back);}},_on_input:function(){this._get_selector(this.datanode.get("value"));},_on_change:function(){this._get_selector(this.datanode.get("value"));},clear:function(){this.datanode.set("value","");this._value="";this._setdisplay(this._value);this.inherited(arguments);},_setValueAttr:function(_ac6){this.datanode.set("value",_ac6);},_getValueAttr:function(_ac7){this.value=this.datanode.get("value");return this.value;},focus:function(){this.datanode.focus();}});});},"dijit/form/DateTextBox":function(){define(["dojo/_base/declare","../Calendar","./_DateTimeTextBox"],function(_ac8,_ac9,_aca){return _ac8("dijit.form.DateTextBox",_aca,{baseClass:"dijitTextBox dijitComboBox dijitDateTextBox",popupClass:_ac9,_selector:"date",maxHeight:Infinity,value:new Date("")});});},"dijit/form/_FormValueMixin":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/on","./_FormWidgetMixin"],function(_acb,_acc,keys,lang,on,_acd){return _acb("dijit.form._FormValueMixin",_acd,{readOnly:false,_setReadOnlyAttr:function(_ace){_acc.set(this.focusNode,"readOnly",_ace);this._set("readOnly",_ace);},postCreate:function(){this.inherited(arguments);if(this._resetValue===undefined){this._lastValueReported=this._resetValue=this.value;}},_setValueAttr:function(_acf,_ad0){this._handleOnChange(_acf,_ad0);},_handleOnChange:function(_ad1,_ad2){this._set("value",_ad1);this.inherited(arguments);},undo:function(){this._setValueAttr(this._lastValueReported,false);},reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);}});});},"research/employees/PersonNew":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../employees/templates/PersonNew.html","dojo/request","ttl/utilities2","dojo/json","dojo/_base/lang","dojo/topic","dojo/data/ItemFileReadStore","dijit/layout/ContentPane","dijit/form/TextBox","dijit/form/Button","dijit/form/Form","dijit/form/Textarea","dijit/form/ValidationTextBox","dijit/form/FilteringSelect"],function(_ad3,_ad4,_ad5,_ad6,_ad7,json,lang,_ad8,_ad9){return _ad3("research.employees.PersonNew",[_ad4],{displayname:"New Person",templateString:_ad5,constructor:function(){this._sourcetypes=new _ad9({url:"/common/lookups?searchtype=sourcetypes"});this._add_call_back=lang.hitch(this,this._add_call);this._check_call_back=lang.hitch(this,this._check_call);this._parentcallback=null;this._dialog=null;},postCreate:function(){this.reasoncodeid.set("store",PRCOMMON.utils.stores.Research_Reason_Add_Codes());this.reasoncodeid.set("value",PRCOMMON.utils.stores.Reason_Add_Default);this.sourcetypeid.set("store",this._sourcetypes);this.sourcetypeid.set("value",2);this.countryid.set("store",PRCOMMON.utils.stores.Countries());this.inherited(arguments);},load:function(_ada){this._dialog=_ada;},_add_contact:function(){if(_ad7.form_validator(this.form)==false){alert("Not all required field filled in");throw "N";}if(confirm("Add Contact?")){_ad6.post("/research/admin/contacts/research_check",_ad7.make_params({data:this.form.get("value")})).then(this._check_call_back);}},_check_call:function(_adb){if(_adb.success=="DEL"){if(confirm("Contact '"+_adb.data.firstname+" "+_adb.data.familyname+"' has previously asked to be deleted.\nDo you want to proceed?")){_ad6.post("/research/admin/contacts/research_addnew",_ad7.make_params({data:this.form.get("value")})).then(this._add_call_back);}}else{if(_adb.success=="DU"){if((_adb.exist==true&&confirm("Contact already exist with same Firstname and Surname.\nDo you want to proceed?"))||_adb.exist==false){_ad6.post("/research/admin/contacts/research_addnew",_ad7.make_params({data:this.form.get("value")})).then(this._add_call_back);}}else{if(_adb.success=="DEL+DU"){if(confirm("Contact '"+_adb.data.deletionhistory.firstname+" "+_adb.data.deletionhistory.familyname+"' has previously asked to be deleted.\nDo you want to proceed?")){if((_adb.data.exist==true&&confirm("Contact already exist with same Firstname and Surname.\nDo you want to proceed?"))||_adb.data.exist==false){_ad6.post("/research/admin/contacts/research_addnew",_ad7.make_params({data:this.form.get("value")})).then(this._add_call_back);}}}else{if(_adb.success=="OK"){_ad6.post("/research/admin/contacts/research_addnew",_ad7.make_params({data:this.form.get("value")})).then(this._add_call_back);}}}}},_add_call:function(_adc){if(_adc.success=="OK"){alert("Contact Added");if(this._parentcallback){this._parentcallback(_adc.contact);}_ad8.publish(PRCOMMON.Events.Person_Added,_adc.contact);this._clear_add_form();if(this._dialog){this._dialog.hide();}}else{alert("Failed");}},clear:function(){this._clear_add_form();},_clear_add_form:function(){this.prefix.set("value","");this.firstname.set("value","");this.familyname.set("value","");this.reasoncodeid.set("value",PRCOMMON.utils.stores.Reason_Add_Default);this.sourcetypeid.set("value",2);},_setCallbackAttr:function(func){this._parentcallback=func;},focus:function(){this.prefix.focus();},disabled:function(_add){this.prefix.set("disabled",_add);this.firstname.set("disabled",_add);this.familyname.set("disabled",_add);this.reasoncodeid.set("disabled",_add);this.sourcetypeid.set("disabled",_add);}});});},"research/questionnaires/OutletEditMainDetails":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../questionnaires/templates/OutletEditMainDetails.html","dijit/layout/BorderContainer","dojo/topic","dojo/_base/lang","ttl/utilities2","dojo/request","dojox/data/JsonRestStore","dojo/data/ItemFileReadStore","dijit/layout/ContentPane","dijit/form/Form","dijit/form/ValidationTextBox","dijit/form/FilteringSelect","dojox/validate/regexp","dijit/form/Button","dijit/form/NumberTextBox","prcommon2/interests/Interests","prcommon2/geographical/Geographical","dojox/form/BusyButton","dijit/Dialog","dojox/validate","research/questionnaires/UserModified","prcommon2/circulation/CirculationSourcesAdd","prcommon2/circulation/CirculationDatesAdd","prcommon2/web/WebButton"],function(_ade,_adf,_ae0,_ae1,_ae2,lang,_ae3,_ae4,_ae5,_ae6){return _ade("research.questionnaires.OutletEditMainDetails",[_adf,_ae1],{templateString:_ae0,gutters:true,constructor:function(){this._circulationsources=new _ae5({target:"/research/admin/circulationsources/list",labelAttribute:"circulationsourcedescription",idProperty:"circulationsourceid"});this._circulationauditdates=new _ae5({target:"/research/admin/circulationdates/list",labelAttribute:"circulationauditdatedescription",idProperty:"circulationauditdateid"});this._costs=new _ae6({url:"/common/lookups?searchtype=outletprices"});this._updated_call_back=lang.hitch(this,this._updated_call);},postCreate:function(){this.inherited(arguments);this.frequencyid.set("store",PRCOMMON.utils.stores.Frequency());this.countryid.set("store",PRCOMMON.utils.stores.Countries());this.circulationsource_add_ctrl.set("dialog",this.circulationsource_add_dlg);this.circulationsourceid.set("store",this._circulationsources);this.circulationdates_add_ctrl.set("dialog",this.circulationdates_add_dlg);this.circulationauditdateid.set("store",this._circulationauditdates);this.outletpriceid.set("store",this._costs);this.www_show.set("source",this.www);this.facebook_show.set("source",this.facebook);this.twitter_show.set("source",this.twitter);this.linkedin_show.set("source",this.linkedin);this.instagram_show.set("source",this.instagram);},_updated_call:function(_ae7){if(_ae7.success=="OK"){alert("Updated");_ae2.publish(PRCOMMON.Events.Outlet_Updated,_ae7.data);}else{alert("Failed to updated");}this.updatebtn.cancel();},clear:function(){this.updatebtn.cancel();this._reset_fields();},_reset_fields:function(){this.outletname_modified.clear();this.email_modified.clear();this.tel_modified.clear();this.fax_modified.clear();this.address1_modified.clear();this.address2_modified.clear();this.townname_modified.clear();this.county_modified.clear();this.postcode_modified.clear();this.www_modified.clear();this.twitter_modified.clear();this.facebook_modified.clear();this.linkedin_modified.clear();this.instagram_modified.clear();this.subtitle_modified.clear();this.officialjournalof_modified.clear();this.incorporating_modified.clear();this.outletpriceid_modified.clear();this.countryid_modified.clear();this.frequencyid_modified.clear();this.circulationauditdateid_modified.clear();this.circulationsourceid_modified.clear();this.circulation_modified.clear();this.frequencynotes_modified.clear();},load:function(_ae8,_ae9,_aea){this._reset_fields();this.outletname.set("value",_ae9.outlet.outletname);this.sortname.set("value",_ae9.outlet.sortname);this.frequencyid.set("value",_ae9.outlet.frequencyid);this.address1.set("value",_ae9.address.address1);this.address2.set("value",_ae9.address.address2);this.townname.set("value",_ae9.address.townname);this.county.set("value",_ae9.address.county);this.postcode.set("value",_ae9.address.postcode);this.countryid.set("value",_ae9.outlet.countryid);this.circulation.set("value",_ae9.outlet.circulation);this.www.set("value",_ae9.outlet.www);this.email.set("value",_ae9.communications.email);this.tel.set("value",_ae9.communications.tel);this.fax.set("value",_ae9.communications.fax);this.linkedin.set("value",_ae9.communications.linkedin);this.twitter.set("value",_ae9.communications.twitter);this.facebook.set("value",_ae9.communications.facebook);this.instagram.set("value",_ae9.communications.instagram);if(_ae9.profile.profile){this.subtitle.set("value",_ae9.profile.profile.subtitle);this.officialjournalof.set("value",_ae9.profile.profile.officialjournalof);this.incorporating.set("value",_ae9.profile.profile.incorporating);this.frequencynotes.set("value",_ae9.profile.profile.frequencynotes);}else{this.subtitle.set("value","");this.officialjournalof.set("value","");this.incorporating.set("value","");this.frequencynotes.set("value","");}this.researchprojectitemid.set("value",_ae8.researchprojectitemid);var _aeb=false;var _aec=false;var _aed=false;for(var key in _aea){var _aee=_aea[key];switch(_aee.fieldid){case 9:this.outletname_modified.load(_aee.value,_ae9.outlet.outletname,this.outletname);break;case 4:this.email_modified.load(_aee.value,_ae9.communications.email,this.email);break;case 5:this.tel_modified.load(_aee.value,_ae9.communications.tel,this.tel);break;case 6:this.fax_modified.load(_aee.value,_ae9.communications.fax,this.fax);break;case 12:this.address1_modified.load(_aee.value,_ae9.address.address1,this.address1);break;case 13:this.address2_modified.load(_aee.value,_ae9.address.address2,this.address2);break;case 14:this.townname_modified.load(_aee.value,_ae9.address.townname,this.townname);break;case 15:this.county_modified.load(_aee.value,_ae9.address.county,this.county);break;case 16:this.postcode_modified.load(_aee.value,_ae9.address.postcode,this.postcode);break;case 17:this.www_modified.load(_aee.value,_ae9.outlet.www,this.www);break;case 18:this.circulation_modified.load(_aee.value,_ae9.outlet.circulation,this.circulation);break;case 19:this.frequencyid_modified.load(_aee.value,_ae9.outlet.frequencyid,this.frequencyid);break;case 25:this.twitter_modified.load(_aee.value,_ae9.communications.twitter,this.twitter);break;case 26:this.facebook_modified.load(_aee.value,_ae9.communications.facebook,this.facebook);break;case 27:this.countryid_modified.load(_aee.value,_ae9.outlet.countryid,this.countryid);break;case 28:this.linkedin_modified.load(_aee.value,_ae9.communications.linkedin,this.linkedin);break;case 72:this.instagram_modified.load(_aee.value,_ae9.communications.instagram,this.instagram);break;case 30:this.circulationsourceid_modified.load(_aee.value,_ae9.outlet.circulationsourceid,this.circulationsourceid);_aec=true;break;case 31:this.circulationauditdateid_modified.load(_aee.value,_ae9.outlet.circulationauditdateid,this.circulationauditdateid);_aeb=true;break;case 37:this.outletpriceid_modified.load(_aee.value,_ae9.outlet.outletpriceid,this.outletpriceid);_aed=true;break;case 33:subtitle="";if(_ae9.profile.profile){subtitle=_ae9.profile.profile.subtitle;}this.subtitle_modified.load(_aee.value,subtitle,this.subtitle);break;case 34:incorporating="";if(_ae9.profile.profile){incorporating=_ae9.profile.profile.incorporating;}this.incorporating_modified.load(_aee.value,incorporating,this.incorporating);break;case 35:officialjournalof="";if(_ae9.profile.profile){officialjournalof=_ae9.profile.profile.officialjournalof;}this.officialjournalof_modified.load(_aee.value,officialjournalof,this.officialjournalof);break;case 39:frequencynotes="";if(_ae9.profile.profile){frequencynotes=_ae9.profile.profile.frequencynotes;}this.frequencynotes_modified.load(_aee.value,frequencynotes,this.frequencynotes);break;}}if(_aeb==false){this.circulationauditdateid.set("value",_ae9.outlet.circulationauditdateid);}if(_aec==false){this.circulationsourceid.set("value",_ae9.outlet.circulationsourceid);}if(_aed==false){if(_ae9.outlet.outletpriceid==null){this.outletpriceid.set("value",1);}else{this.outletpriceid.set("value",_ae9.outlet.outletpriceid);}}},_update:function(){if(_ae3.form_validator(this.form)==false){alert("Not all required field filled in");return;}this.updatebtn.makeBusy();_ae4.post("/research/admin/projects/user_feed_accept_main",_ae3.make_params({data:this.form.get("value")})).then(this._updated_call_back);}});});},"research/translations/translatecountry":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../translations/templates/translatecountry.html","dojo/request","ttl/utilities2","dojo/_base/lang","dojo/data/ItemFileReadStore","dijit/form/ValidationTextBox"],function(_aef,_af0,_af1,_af2,_af3,lang,_af4){return _aef("research.translations.translatecountry",[_af0],{templateString:_af1,gutters:false,constructor:function(){this._load_details_call_back=lang.hitch(this,this._load_details_call);this._update_translation_call_back=lang.hitch(this,this._update_translation_call);this._countries=new _af4({url:"/common/lookups?searchtype=countries&nofilter=1"});},postCreate:function(){this.countryid.set("store",this._countries);this.inherited(arguments);},load:function(_af5,_af6){this._show_func=_af6;this.datasourcetranslationid.set("value",_af5);_af2.post("/research/international/translation/get_record",_af3.make_params({data:{datasourcetranslationid:_af5}})).then(this._load_details_call_back);},_load_details_call:function(_af7){if(_af7.success=="OK"){this.countryid.set("value",_af7.data.translation);this._show_func("country");}},_update_translation:function(){if(_af3.form_validator(this.form)==false){alert("Not all required fields filled in");throw "N";}_af2.post("/research/international/translation/update",_af3.make_params({data:this.form.get("value")})).then(this._update_translation_call_back);},_update_translation_call:function(_af8){if(_af8.success=="OK"){this._show_func("country",_af8.data);}}});});},"research/employees/PersonDelete":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../employees/templates/PersonDelete.html","dojo/request","ttl/utilities2","dojo/json","dojo/_base/lang","dojo/topic","dojo/dom-attr","dijit/layout/ContentPane","dijit/form/TextBox","dojox/form/BusyButton","dijit/form/Form","dijit/form/Textarea","dijit/form/ValidationTextBox","dijit/form/FilteringSelect"],function(_af9,_afa,_afb,_afc,_afd,json,lang,_afe,_aff){return _af9("research.employees.PersonDelete",[_afa],{templateString:_afb,constructor:function(){this._deleted_contact_call_back=lang.hitch(this,this._deleted_contact_call);},postCreate:function(){this.reasoncodes.set("store",PRCOMMON.utils.stores.Research_Reason_Del_Codes());this.inherited(arguments);},_delete_submit:function(){if(_afd.form_validator(this.form)==false){alert("Not all required fields filled in");throw "N";}if(this.reason.get("value").length==0){alert("No Description Given");this.reason.focus();throw "N";}if(confirm("Delete "+_aff.get(this.heading,"innerHTML")+" ?")){_afc.post("/research/admin/contacts/research_person_delete",_afd.make_params({data:this.form.get("value")})).then(this._deleted_contact_call_back);}},_deleted_contact_call:function(_b00){if(_b00.success=="OK"){_afe.publish(PRCOMMON.Events.Person_Delete,_b00.contact);alert("Person Deleted");this.clear();}else{alert("Problem Deleteing Person");this.deletebtn.cancel();}},clear:function(){this.contactid.set("value",-1);this.reasoncodes.set("value",null);this.reason.set("value","");this.deletebtn.cancel();},load:function(_b01,name){this.contactid.set("value",_b01);_aff.set(this.heading,"innerHTML",name);this.reasoncodes.set("value",null);this.reason.set("value","");this.reason.focus();},focus:function(){this.reason.focus();}});});},"dijit/form/_AutoCompleterMixin":function(){define(["dojo/aspect","dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/query","dojo/regexp","dojo/sniff","./DataList","./_TextBoxMixin","./_SearchMixin"],function(_b02,_b03,_b04,keys,lang,_b05,_b06,has,_b07,_b08,_b09){var _b0a=_b03("dijit.form._AutoCompleterMixin",_b09,{item:null,autoComplete:true,highlightMatch:"first",labelAttr:"",labelType:"text",maxHeight:-1,_stopClickEvents:false,_getCaretPos:function(_b0b){var pos=0;if(typeof (_b0b.selectionStart)=="number"){pos=_b0b.selectionStart;}else{if(has("ie")){var tr=_b0b.ownerDocument.selection.createRange().duplicate();var ntr=_b0b.createTextRange();tr.move("character",0);ntr.move("character",0);try{ntr.setEndPoint("EndToEnd",tr);pos=String(ntr.text).replace(/\r/g,"").length;}catch(e){}}}return pos;},_setCaretPos:function(_b0c,_b0d){_b0d=parseInt(_b0d);_b08.selectInputText(_b0c,_b0d,_b0d);},_setDisabledAttr:function(_b0e){this.inherited(arguments);this.domNode.setAttribute("aria-disabled",_b0e?"true":"false");},_onKey:function(evt){if(evt.charCode>=32){return;}var key=evt.charCode||evt.keyCode;if(key==keys.ALT||key==keys.CTRL||key==keys.META||key==keys.SHIFT){return;}var pw=this.dropDown;var _b0f=null;this._abortQuery();this.inherited(arguments);if(evt.altKey||evt.ctrlKey||evt.metaKey){return;}if(this._opened){_b0f=pw.getHighlightedOption();}switch(key){case keys.PAGE_DOWN:case keys.DOWN_ARROW:case keys.PAGE_UP:case keys.UP_ARROW:if(this._opened){this._announceOption(_b0f);}evt.stopPropagation();evt.preventDefault();break;case keys.ENTER:if(_b0f){if(_b0f==pw.nextButton){this._nextSearch(1);evt.stopPropagation();evt.preventDefault();break;}else{if(_b0f==pw.previousButton){this._nextSearch(-1);evt.stopPropagation();evt.preventDefault();break;}}evt.stopPropagation();evt.preventDefault();}else{this._setBlurValue();this._setCaretPos(this.focusNode,this.focusNode.value.length);}case keys.TAB:var _b10=this.get("displayedValue");if(pw&&(_b10==pw._messages["previousMessage"]||_b10==pw._messages["nextMessage"])){break;}if(_b0f){this._selectOption(_b0f);}case keys.ESCAPE:if(this._opened){this._lastQuery=null;this.closeDropDown();}break;}},_autoCompleteText:function(text){var fn=this.focusNode;_b08.selectInputText(fn,fn.value.length);var _b11=this.ignoreCase?"toLowerCase":"substr";if(text[_b11](0).indexOf(this.focusNode.value[_b11](0))==0){var cpos=this.autoComplete?this._getCaretPos(fn):fn.value.length;if((cpos+1)>fn.value.length){fn.value=text;_b08.selectInputText(fn,cpos);}}else{fn.value=text;_b08.selectInputText(fn);}},_openResultList:function(_b12,_b13,_b14){var _b15=this.dropDown.getHighlightedOption();this.dropDown.clearResultList();if(!_b12.length&&_b14.start==0){this.closeDropDown();return;}this._nextSearch=this.dropDown.onPage=lang.hitch(this,function(_b16){_b12.nextPage(_b16!==-1);this.focus();});this.dropDown.createOptions(_b12,_b14,lang.hitch(this,"_getMenuLabelFromItem"));this._showResultList();if("direction" in _b14){if(_b14.direction){this.dropDown.highlightFirstOption();}else{if(!_b14.direction){this.dropDown.highlightLastOption();}}if(_b15){this._announceOption(this.dropDown.getHighlightedOption());}}else{if(this.autoComplete&&!this._prev_key_backspace&&!/^[*]+$/.test(_b13[this.searchAttr].toString())){this._announceOption(this.dropDown.containerNode.firstChild.nextSibling);}}},_showResultList:function(){this.closeDropDown(true);this.openDropDown();this.domNode.setAttribute("aria-expanded","true");},loadDropDown:function(){this._startSearchAll();},isLoaded:function(){return false;},closeDropDown:function(){this._abortQuery();if(this._opened){this.inherited(arguments);this.domNode.setAttribute("aria-expanded","false");}},_setBlurValue:function(){var _b17=this.get("displayedValue");var pw=this.dropDown;if(pw&&(_b17==pw._messages["previousMessage"]||_b17==pw._messages["nextMessage"])){this._setValueAttr(this._lastValueReported,true);}else{if(typeof this.item=="undefined"){this.item=null;this.set("displayedValue",_b17);}else{if(this.value!=this._lastValueReported){this._handleOnChange(this.value,true);}this._refreshState();}}this.focusNode.removeAttribute("aria-activedescendant");},_setItemAttr:function(item,_b18,_b19){var _b1a="";if(item){if(!_b19){_b19=this.store._oldAPI?this.store.getValue(item,this.searchAttr):item[this.searchAttr];}_b1a=this._getValueField()!=this.searchAttr?this.store.getIdentity(item):_b19;}this.set("value",_b1a,_b18,_b19,item);},_announceOption:function(node){if(!node){return;}var _b1b;if(node==this.dropDown.nextButton||node==this.dropDown.previousButton){_b1b=node.innerHTML;this.item=undefined;this.value="";}else{var item=this.dropDown.items[node.getAttribute("item")];_b1b=(this.store._oldAPI?this.store.getValue(item,this.searchAttr):item[this.searchAttr]).toString();this.set("item",item,false,_b1b);}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);this.focusNode.setAttribute("aria-activedescendant",_b04.get(node,"id"));this._autoCompleteText(_b1b);},_selectOption:function(_b1c){this.closeDropDown();if(_b1c){this._announceOption(_b1c);}this._setCaretPos(this.focusNode,this.focusNode.value.length);this._handleOnChange(this.value,true);this.focusNode.removeAttribute("aria-activedescendant");},_startSearchAll:function(){this._startSearch("");},_startSearchFromInput:function(){this.item=undefined;this.inherited(arguments);},_startSearch:function(key){if(!this.dropDown){var _b1d=this.id+"_popup",_b1e=lang.isString(this.dropDownClass)?lang.getObject(this.dropDownClass,false):this.dropDownClass;this.dropDown=new _b1e({onChange:lang.hitch(this,this._selectOption),id:_b1d,dir:this.dir,textDir:this.textDir});}this._lastInput=key;this.inherited(arguments);},_getValueField:function(){return this.searchAttr;},postMixInProperties:function(){this.inherited(arguments);if(!this.store&&this.srcNodeRef){var _b1f=this.srcNodeRef;this.store=new _b07({},_b1f);if(!("value" in this.params)){var item=(this.item=this.store.fetchSelectedItem());if(item){var _b20=this._getValueField();this.value=this.store._oldAPI?this.store.getValue(item,_b20):item[_b20];}}}},postCreate:function(){var _b21=_b05("label[for=\""+this.id+"\"]");if(_b21.length){if(!_b21[0].id){_b21[0].id=this.id+"_label";}this.domNode.setAttribute("aria-labelledby",_b21[0].id);}this.inherited(arguments);_b02.after(this,"onSearch",lang.hitch(this,"_openResultList"),true);},_getMenuLabelFromItem:function(item){var _b22=this.labelFunc(item,this.store),_b23=this.labelType;if(this.highlightMatch!="none"&&this.labelType=="text"&&this._lastInput){_b22=this.doHighlight(_b22,this._lastInput);_b23="html";}return {html:_b23=="html",label:_b22};},doHighlight:function(_b24,find){var _b25=(this.ignoreCase?"i":"")+(this.highlightMatch=="all"?"g":""),i=this.queryExpr.indexOf("${0}");find=_b06.escapeString(find);return this._escapeHtml(_b24.replace(new RegExp((i==0?"^":"")+"("+find+")"+(i==(this.queryExpr.length-4)?"$":""),_b25),"\uffff$1\uffff")).replace(/\uFFFF([^\uFFFF]+)\uFFFF/g,"<span class=\"dijitComboBoxHighlightMatch\">$1</span>");},_escapeHtml:function(str){str=String(str).replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");return str;},reset:function(){this.item=null;this.inherited(arguments);},labelFunc:function(item,_b26){return (_b26._oldAPI?_b26.getValue(item,this.labelAttr||this.searchAttr):item[this.labelAttr||this.searchAttr]).toString();},_setValueAttr:function(_b27,_b28,_b29,item){this._set("item",item||null);if(_b27==null){_b27="";}this.inherited(arguments);}});if(has("dojo-bidi")){_b0a.extend({_setTextDirAttr:function(_b2a){this.inherited(arguments);if(this.dropDown){this.dropDown._set("textDir",_b2a);}}});}return _b0a;});},"dijit/place":function(){define(["dojo/_base/array","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/window","./Viewport","./main"],function(_b2b,_b2c,_b2d,_b2e,win,_b2f,_b30){function _b31(node,_b32,_b33,_b34){var view=_b2f.getEffectiveBox(node.ownerDocument);if(!node.parentNode||String(node.parentNode.tagName).toLowerCase()!="body"){win.body(node.ownerDocument).appendChild(node);}var best=null;_b2b.some(_b32,function(_b35){var _b36=_b35.corner;var pos=_b35.pos;var _b37=0;var _b38={w:{"L":view.l+view.w-pos.x,"R":pos.x-view.l,"M":view.w}[_b36.charAt(1)],h:{"T":view.t+view.h-pos.y,"B":pos.y-view.t,"M":view.h}[_b36.charAt(0)]};var s=node.style;s.left=s.right="auto";if(_b33){var res=_b33(node,_b35.aroundCorner,_b36,_b38,_b34);_b37=typeof res=="undefined"?0:res;}var _b39=node.style;var _b3a=_b39.display;var _b3b=_b39.visibility;if(_b39.display=="none"){_b39.visibility="hidden";_b39.display="";}var bb=_b2c.position(node);_b39.display=_b3a;_b39.visibility=_b3b;var _b3c={"L":pos.x,"R":pos.x-bb.w,"M":Math.max(view.l,Math.min(view.l+view.w,pos.x+(bb.w>>1))-bb.w)}[_b36.charAt(1)],_b3d={"T":pos.y,"B":pos.y-bb.h,"M":Math.max(view.t,Math.min(view.t+view.h,pos.y+(bb.h>>1))-bb.h)}[_b36.charAt(0)],_b3e=Math.max(view.l,_b3c),_b3f=Math.max(view.t,_b3d),endX=Math.min(view.l+view.w,_b3c+bb.w),endY=Math.min(view.t+view.h,_b3d+bb.h),_b40=endX-_b3e,_b41=endY-_b3f;_b37+=(bb.w-_b40)+(bb.h-_b41);if(best==null||_b37<best.overflow){best={corner:_b36,aroundCorner:_b35.aroundCorner,x:_b3e,y:_b3f,w:_b40,h:_b41,overflow:_b37,spaceAvailable:_b38};}return !_b37;});if(best.overflow&&_b33){_b33(node,best.aroundCorner,best.corner,best.spaceAvailable,_b34);}var top=best.y,side=best.x,body=win.body(node.ownerDocument);if(/relative|absolute/.test(_b2d.get(body,"position"))){top-=_b2d.get(body,"marginTop");side-=_b2d.get(body,"marginLeft");}var s=node.style;s.top=top+"px";s.left=side+"px";s.right="auto";return best;};var _b42={"TL":"BR","TR":"BL","BL":"TR","BR":"TL"};var _b43={at:function(node,pos,_b44,_b45,_b46){var _b47=_b2b.map(_b44,function(_b48){var c={corner:_b48,aroundCorner:_b42[_b48],pos:{x:pos.x,y:pos.y}};if(_b45){c.pos.x+=_b48.charAt(1)=="L"?_b45.x:-_b45.x;c.pos.y+=_b48.charAt(0)=="T"?_b45.y:-_b45.y;}return c;});return _b31(node,_b47,_b46);},around:function(node,_b49,_b4a,_b4b,_b4c){var _b4d;if(typeof _b49=="string"||"offsetWidth" in _b49||"ownerSVGElement" in _b49){_b4d=_b2c.position(_b49,true);if(/^(above|below)/.test(_b4a[0])){var _b4e=_b2c.getBorderExtents(_b49),_b4f=_b49.firstChild?_b2c.getBorderExtents(_b49.firstChild):{t:0,l:0,b:0,r:0},_b50=_b2c.getBorderExtents(node),_b51=node.firstChild?_b2c.getBorderExtents(node.firstChild):{t:0,l:0,b:0,r:0};_b4d.y+=Math.min(_b4e.t+_b4f.t,_b50.t+_b51.t);_b4d.h-=Math.min(_b4e.t+_b4f.t,_b50.t+_b51.t)+Math.min(_b4e.b+_b4f.b,_b50.b+_b51.b);}}else{_b4d=_b49;}if(_b49.parentNode){var _b52=_b2d.getComputedStyle(_b49).position=="absolute";var _b53=_b49.parentNode;while(_b53&&_b53.nodeType==1&&_b53.nodeName!="BODY"){var _b54=_b2c.position(_b53,true),pcs=_b2d.getComputedStyle(_b53);if(/relative|absolute/.test(pcs.position)){_b52=false;}if(!_b52&&/hidden|auto|scroll/.test(pcs.overflow)){var _b55=Math.min(_b4d.y+_b4d.h,_b54.y+_b54.h);var _b56=Math.min(_b4d.x+_b4d.w,_b54.x+_b54.w);_b4d.x=Math.max(_b4d.x,_b54.x);_b4d.y=Math.max(_b4d.y,_b54.y);_b4d.h=_b55-_b4d.y;_b4d.w=_b56-_b4d.x;}if(pcs.position=="absolute"){_b52=true;}_b53=_b53.parentNode;}}var x=_b4d.x,y=_b4d.y,_b57="w" in _b4d?_b4d.w:(_b4d.w=_b4d.width),_b58="h" in _b4d?_b4d.h:(_b2e.deprecated("place.around: dijit/place.__Rectangle: { x:"+x+", y:"+y+", height:"+_b4d.height+", width:"+_b57+" } has been deprecated.  Please use { x:"+x+", y:"+y+", h:"+_b4d.height+", w:"+_b57+" }","","2.0"),_b4d.h=_b4d.height);var _b59=[];function push(_b5a,_b5b){_b59.push({aroundCorner:_b5a,corner:_b5b,pos:{x:{"L":x,"R":x+_b57,"M":x+(_b57>>1)}[_b5a.charAt(1)],y:{"T":y,"B":y+_b58,"M":y+(_b58>>1)}[_b5a.charAt(0)]}});};_b2b.forEach(_b4a,function(pos){var ltr=_b4b;switch(pos){case "above-centered":push("TM","BM");break;case "below-centered":push("BM","TM");break;case "after-centered":ltr=!ltr;case "before-centered":push(ltr?"ML":"MR",ltr?"MR":"ML");break;case "after":ltr=!ltr;case "before":push(ltr?"TL":"TR",ltr?"TR":"TL");push(ltr?"BL":"BR",ltr?"BR":"BL");break;case "below-alt":ltr=!ltr;case "below":push(ltr?"BL":"BR",ltr?"TL":"TR");push(ltr?"BR":"BL",ltr?"TR":"TL");break;case "above-alt":ltr=!ltr;case "above":push(ltr?"TL":"TR",ltr?"BL":"BR");push(ltr?"TR":"TL",ltr?"BR":"BL");break;default:push(pos.aroundCorner,pos.corner);}});var _b5c=_b31(node,_b59,_b4c,{w:_b57,h:_b58});_b5c.aroundNodePos=_b4d;return _b5c;}};return _b30.place=_b43;});},"dijit/form/ComboBox":function(){define(["dojo/_base/declare","./ValidationTextBox","./ComboBoxMixin"],function(_b5d,_b5e,_b5f){return _b5d("dijit.form.ComboBox",[_b5e,_b5f],{});});},"dijit/layout/_LayoutWidget":function(){define(["dojo/_base/lang","../_Widget","../_Container","../_Contained","../Viewport","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style"],function(lang,_b60,_b61,_b62,_b63,_b64,_b65,_b66,_b67){return _b64("dijit.layout._LayoutWidget",[_b60,_b61,_b62],{baseClass:"dijitLayoutContainer",isLayoutContainer:true,_setTitleAttr:null,buildRendering:function(){this.inherited(arguments);_b65.add(this.domNode,"dijitContainer");},startup:function(){if(this._started){return;}this.inherited(arguments);var _b68=this.getParent&&this.getParent();if(!(_b68&&_b68.isLayoutContainer)){this.resize();this.own(_b63.on("resize",lang.hitch(this,"resize")));}},resize:function(_b69,_b6a){var node=this.domNode;if(_b69){_b66.setMarginBox(node,_b69);}var mb=_b6a||{};lang.mixin(mb,_b69||{});if(!("h" in mb)||!("w" in mb)){mb=lang.mixin(_b66.getMarginBox(node),mb);}var cs=_b67.getComputedStyle(node);var me=_b66.getMarginExtents(node,cs);var be=_b66.getBorderExtents(node,cs);var bb=(this._borderBox={w:mb.w-(me.w+be.w),h:mb.h-(me.h+be.h)});var pe=_b66.getPadExtents(node,cs);this._contentBox={l:_b67.toPixelValue(node,cs.paddingLeft),t:_b67.toPixelValue(node,cs.paddingTop),w:bb.w-pe.w,h:bb.h-pe.h};this.layout();},layout:function(){},_setupChild:function(_b6b){var cls=this.baseClass+"-child "+(_b6b.baseClass?this.baseClass+"-"+_b6b.baseClass:"");_b65.add(_b6b.domNode,cls);},addChild:function(_b6c,_b6d){this.inherited(arguments);if(this._started){this._setupChild(_b6c);}},removeChild:function(_b6e){var cls=this.baseClass+"-child"+(_b6e.baseClass?" "+this.baseClass+"-"+_b6e.baseClass:"");_b65.remove(_b6e.domNode,cls);this.inherited(arguments);}});});},"dgrid/util/touch":function(){define(["dojo/on","dojo/query"],function(on,_b6f){var util={tapRadius:10,dbltapTime:250,selector:function(_b70,_b71,_b72){return function(_b73,_b74){var _b75=_b71.bubble;if(_b75){_b71=_b75;}else{if(_b72!==false){_b72=true;}}return on(_b73,_b71,function(_b76){var _b77=_b76.target;if(_b77.nodeType==3){_b77=_b77.parentNode;}while(!_b6f.matches(_b77,_b70,_b73)){if(_b77==_b73||!_b72||!(_b77=_b77.parentNode)){return;}}return _b74.call(_b77,_b76);});};},countCurrentTouches:function(evt,node){if(!("touches" in evt)){return -1;}var i,_b78,_b79;for(i=0,_b78=0;(_b79=evt.touches[i]);++i){if(node.contains(_b79.target)){++_b78;}}return _b78;}};function _b7a(_b7b,_b7c,evt,_b7d){if(evt.targetTouches.length>1){return;}var _b7e=evt.changedTouches[0],_b7f=_b7e.screenX,_b80=_b7e.screenY;_b7d&&evt.preventDefault();var _b81=on(_b7b,"touchend",function(evt){var end=evt.changedTouches[0];if(!evt.targetTouches.length){if(Math.abs(end.screenX-_b7f)<util.tapRadius&&Math.abs(end.screenY-_b80)<util.tapRadius){_b7d&&evt.preventDefault();_b7c.call(this,evt);}_b81.remove();}});};function tap(_b82,_b83){return on(_b82,"touchstart",function(evt){_b7a(_b82,_b83,evt);});};function _b84(_b85,_b86){var _b87,_b88;return on(_b85,"touchstart",function(evt){if(!_b87){_b7a(_b85,function(evt){_b87=evt.changedTouches[0];_b88=setTimeout(function(){_b87=_b88=null;},util.dbltapTime);},evt);}else{_b7a(_b85,function(evt){if(!_b87){return;}var _b89=evt.changedTouches[0];if(Math.abs(_b89.screenX-_b87.screenX)<util.tapRadius&&Math.abs(_b89.screenY-_b87.screenY)<util.tapRadius){_b88&&clearTimeout(_b88);_b87=_b88=null;_b86.call(this,evt);}},evt,true);}});};util.tap=tap;util.dbltap=_b84;return util;});},"dojo/number":function(){define(["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(lang,i18n,_b8a,_b8b,_b8c){var _b8d={};lang.setObject("dojo.number",_b8d);_b8d.format=function(_b8e,_b8f){_b8f=lang.mixin({},_b8f||{});var _b90=i18n.normalizeLocale(_b8f.locale),_b91=i18n.getLocalization("dojo.cldr","number",_b90);_b8f.customs=_b91;var _b92=_b8f.pattern||_b91[(_b8f.type||"decimal")+"Format"];if(isNaN(_b8e)||Math.abs(_b8e)==Infinity){return null;}return _b8d._applyPattern(_b8e,_b92,_b8f);};_b8d._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;_b8d._applyPattern=function(_b93,_b94,_b95){_b95=_b95||{};var _b96=_b95.customs.group,_b97=_b95.customs.decimal,_b98=_b94.split(";"),_b99=_b98[0];_b94=_b98[(_b93<0)?1:0]||("-"+_b99);if(_b94.indexOf("%")!=-1){_b93*=100;}else{if(_b94.indexOf("")!=-1){_b93*=1000;}else{if(_b94.indexOf("")!=-1){_b96=_b95.customs.currencyGroup||_b96;_b97=_b95.customs.currencyDecimal||_b97;_b94=_b94.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/,function(_b9a,_b9b,_b9c,_b9d){var prop=["symbol","currency","displayName"][_b9c.length-1],_b9e=_b95[prop]||_b95.currency||"";if(!_b9e){return "";}return _b9b+_b9e+_b9d;});}else{if(_b94.indexOf("E")!=-1){throw new Error("exponential notation not supported");}}}}var _b9f=_b8d._numberPatternRE;var _ba0=_b99.match(_b9f);if(!_ba0){throw new Error("unable to find a number expression in pattern: "+_b94);}if(_b95.fractional===false){_b95.places=0;}return _b94.replace(_b9f,_b8d._formatAbsolute(_b93,_ba0[0],{decimal:_b97,group:_b96,places:_b95.places,round:_b95.round}));};_b8d.round=function(_ba1,_ba2,_ba3){var _ba4=10/(_ba3||10);return (_ba4*+_ba1).toFixed(_ba2)/_ba4;};if((0.9).toFixed()==0){var _ba5=_b8d.round;_b8d.round=function(v,p,m){var d=Math.pow(10,-p||0),a=Math.abs(v);if(!v||a>=d){d=0;}else{a/=d;if(a<0.5||a>=0.95){d=0;}}return _ba5(v,p,m)+(v>0?d:-d);};}_b8d._formatAbsolute=function(_ba6,_ba7,_ba8){_ba8=_ba8||{};if(_ba8.places===true){_ba8.places=0;}if(_ba8.places===Infinity){_ba8.places=6;}var _ba9=_ba7.split("."),_baa=typeof _ba8.places=="string"&&_ba8.places.indexOf(","),_bab=_ba8.places;if(_baa){_bab=_ba8.places.substring(_baa+1);}else{if(!(_bab>=0)){_bab=(_ba9[1]||[]).length;}}if(!(_ba8.round<0)){_ba6=_b8d.round(_ba6,_bab,_ba8.round);}var _bac=String(Math.abs(_ba6)).split("."),_bad=_bac[1]||"";if(_ba9[1]||_ba8.places){if(_baa){_ba8.places=_ba8.places.substring(0,_baa);}var pad=_ba8.places!==undefined?_ba8.places:(_ba9[1]&&_ba9[1].lastIndexOf("0")+1);if(pad>_bad.length){_bac[1]=_b8b.pad(_bad,pad,"0",true);}if(_bab<_bad.length){_bac[1]=_bad.substr(0,_bab);}}else{if(_bac[1]){_bac.pop();}}var _bae=_ba9[0].replace(",","");pad=_bae.indexOf("0");if(pad!=-1){pad=_bae.length-pad;if(pad>_bac[0].length){_bac[0]=_b8b.pad(_bac[0],pad);}if(_bae.indexOf("#")==-1){_bac[0]=_bac[0].substr(_bac[0].length-pad);}}var _baf=_ba9[0].lastIndexOf(","),_bb0,_bb1;if(_baf!=-1){_bb0=_ba9[0].length-_baf-1;var _bb2=_ba9[0].substr(0,_baf);_baf=_bb2.lastIndexOf(",");if(_baf!=-1){_bb1=_bb2.length-_baf-1;}}var _bb3=[];for(var _bb4=_bac[0];_bb4;){var off=_bb4.length-_bb0;_bb3.push((off>0)?_bb4.substr(off):_bb4);_bb4=(off>0)?_bb4.slice(0,off):"";if(_bb1){_bb0=_bb1;delete _bb1;}}_bac[0]=_bb3.reverse().join(_ba8.group||",");return _bac.join(_ba8.decimal||".");};_b8d.regexp=function(_bb5){return _b8d._parseInfo(_bb5).regexp;};_b8d._parseInfo=function(_bb6){_bb6=_bb6||{};var _bb7=i18n.normalizeLocale(_bb6.locale),_bb8=i18n.getLocalization("dojo.cldr","number",_bb7),_bb9=_bb6.pattern||_bb8[(_bb6.type||"decimal")+"Format"],_bba=_bb8.group,_bbb=_bb8.decimal,_bbc=1;if(_bb9.indexOf("%")!=-1){_bbc/=100;}else{if(_bb9.indexOf("")!=-1){_bbc/=1000;}else{var _bbd=_bb9.indexOf("")!=-1;if(_bbd){_bba=_bb8.currencyGroup||_bba;_bbb=_bb8.currencyDecimal||_bbb;}}}var _bbe=_bb9.split(";");if(_bbe.length==1){_bbe.push("-"+_bbe[0]);}var re=_b8c.buildGroupRE(_bbe,function(_bbf){_bbf="(?:"+_b8c.escapeString(_bbf,".")+")";return _bbf.replace(_b8d._numberPatternRE,function(_bc0){var _bc1={signed:false,separator:_bb6.strict?_bba:[_bba,""],fractional:_bb6.fractional,decimal:_bbb,exponent:false},_bc2=_bc0.split("."),_bc3=_bb6.places;if(_bc2.length==1&&_bbc!=1){_bc2[1]="###";}if(_bc2.length==1||_bc3===0){_bc1.fractional=false;}else{if(_bc3===undefined){_bc3=_bb6.pattern?_bc2[1].lastIndexOf("0")+1:Infinity;}if(_bc3&&_bb6.fractional==undefined){_bc1.fractional=true;}if(!_bb6.places&&(_bc3<_bc2[1].length)){_bc3+=","+_bc2[1].length;}_bc1.places=_bc3;}var _bc4=_bc2[0].split(",");if(_bc4.length>1){_bc1.groupSize=_bc4.pop().length;if(_bc4.length>1){_bc1.groupSize2=_bc4.pop().length;}}return "("+_b8d._realNumberRegexp(_bc1)+")";});},true);if(_bbd){re=re.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(_bc5,_bc6,_bc7,_bc8){var prop=["symbol","currency","displayName"][_bc7.length-1],_bc9=_b8c.escapeString(_bb6[prop]||_bb6.currency||"");if(!_bc9){return "";}_bc6=_bc6?"[\\s\\xa0]":"";_bc8=_bc8?"[\\s\\xa0]":"";if(!_bb6.strict){if(_bc6){_bc6+="*";}if(_bc8){_bc8+="*";}return "(?:"+_bc6+_bc9+_bc8+")?";}return _bc6+_bc9+_bc8;});}return {regexp:re.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:_bba,decimal:_bbb,factor:_bbc};};_b8d.parse=function(_bca,_bcb){var info=_b8d._parseInfo(_bcb),_bcc=(new RegExp("^"+info.regexp+"$")).exec(_bca);if(!_bcc){return NaN;}var _bcd=_bcc[1];if(!_bcc[1]){if(!_bcc[2]){return NaN;}_bcd=_bcc[2];info.factor*=-1;}_bcd=_bcd.replace(new RegExp("["+info.group+"\\s\\xa0"+"]","g"),"").replace(info.decimal,".");return _bcd*info.factor;};_b8d._realNumberRegexp=function(_bce){_bce=_bce||{};if(!("places" in _bce)){_bce.places=Infinity;}if(typeof _bce.decimal!="string"){_bce.decimal=".";}if(!("fractional" in _bce)||/^0/.test(_bce.places)){_bce.fractional=[true,false];}if(!("exponent" in _bce)){_bce.exponent=[true,false];}if(!("eSigned" in _bce)){_bce.eSigned=[true,false];}var _bcf=_b8d._integerRegexp(_bce),_bd0=_b8c.buildGroupRE(_bce.fractional,function(q){var re="";if(q&&(_bce.places!==0)){re="\\"+_bce.decimal;if(_bce.places==Infinity){re="(?:"+re+"\\d+)?";}else{re+="\\d{"+_bce.places+"}";}}return re;},true);var _bd1=_b8c.buildGroupRE(_bce.exponent,function(q){if(q){return "([eE]"+_b8d._integerRegexp({signed:_bce.eSigned})+")";}return "";});var _bd2=_bcf+_bd0;if(_bd0){_bd2="(?:(?:"+_bd2+")|(?:"+_bd0+"))";}return _bd2+_bd1;};_b8d._integerRegexp=function(_bd3){_bd3=_bd3||{};if(!("signed" in _bd3)){_bd3.signed=[true,false];}if(!("separator" in _bd3)){_bd3.separator="";}else{if(!("groupSize" in _bd3)){_bd3.groupSize=3;}}var _bd4=_b8c.buildGroupRE(_bd3.signed,function(q){return q?"[-+]":"";},true);var _bd5=_b8c.buildGroupRE(_bd3.separator,function(sep){if(!sep){return "(?:\\d+)";}sep=_b8c.escapeString(sep);if(sep==" "){sep="\\s";}else{if(sep==""){sep="\\s\\xa0";}}var grp=_bd3.groupSize,grp2=_bd3.groupSize2;if(grp2){var _bd6="(?:0|[1-9]\\d{0,"+(grp2-1)+"}(?:["+sep+"]\\d{"+grp2+"})*["+sep+"]\\d{"+grp+"})";return ((grp-grp2)>0)?"(?:"+_bd6+"|(?:0|[1-9]\\d{0,"+(grp-1)+"}))":_bd6;}return "(?:0|[1-9]\\d{0,"+(grp-1)+"}(?:["+sep+"]\\d{"+grp+"})*)";},true);return _bd4+_bd5;};return _b8d;});},"dijit/layout/_ContentPaneResizeMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/query","../registry","../Viewport","./utils"],function(_bd7,_bd8,_bd9,_bda,_bdb,lang,_bdc,_bdd,_bde,_bdf){return _bd8("dijit.layout._ContentPaneResizeMixin",null,{doLayout:true,isLayoutContainer:true,startup:function(){if(this._started){return;}var _be0=this.getParent();this._childOfLayoutWidget=_be0&&_be0.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);if(this._isShown()){this._onShow();}if(!this._childOfLayoutWidget){this.own(_bde.on("resize",lang.hitch(this,"resize")));}},_checkIfSingleChild:function(){if(!this.doLayout){return;}var _be1=[],_be2=false;_bdc("> *",this.containerNode).some(function(node){var _be3=_bdd.byNode(node);if(_be3&&_be3.resize){_be1.push(_be3);}else{if(!/script|link|style/i.test(node.nodeName)&&node.offsetHeight){_be2=true;}}});this._singleChild=_be1.length==1&&!_be2?_be1[0]:null;_bd9.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild);},resize:function(_be4,_be5){this._resizeCalled=true;this._scheduleLayout(_be4,_be5);},_scheduleLayout:function(_be6,_be7){if(this._isShown()){this._layout(_be6,_be7);}else{this._needLayout=true;this._changeSize=_be6;this._resultSize=_be7;}},_layout:function(_be8,_be9){delete this._needLayout;if(!this._wasShown&&this.open!==false){this._onShow();}if(_be8){_bda.setMarginBox(this.domNode,_be8);}var cn=this.containerNode;if(cn===this.domNode){var mb=_be9||{};lang.mixin(mb,_be8||{});if(!("h" in mb)||!("w" in mb)){mb=lang.mixin(_bda.getMarginBox(cn),mb);}this._contentBox=_bdf.marginBox2contentBox(cn,mb);}else{this._contentBox=_bda.getContentBox(cn);}this._layoutChildren();},_layoutChildren:function(){this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){var cb=this._contentBox||_bda.getContentBox(this.containerNode);this._singleChild.resize({w:cb.w,h:cb.h});}else{var _bea=this.getChildren(),_beb,i=0;while(_beb=_bea[i++]){if(_beb.resize){_beb.resize();}}}},_isShown:function(){if(this._childOfLayoutWidget){if(this._resizeCalled&&"open" in this){return this.open;}return this._resizeCalled;}else{if("open" in this){return this.open;}else{var node=this.domNode,_bec=this.domNode.parentNode;return (node.style.display!="none")&&(node.style.visibility!="hidden")&&!_bd9.contains(node,"dijitHidden")&&_bec&&_bec.style&&(_bec.style.display!="none");}}},_onShow:function(){this._wasShown=true;if(this._needLayout){this._layout(this._changeSize,this._resultSize);}this.inherited(arguments);}});});},"prcommon2/publisher/PublisherAdd":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../publisher/templates/PublisherAdd.html","dojo/request","ttl/utilities2","dojo/json","dojo/_base/lang","dojo/dom-class","dojo/topic","dijit/form/TextBox","dijit/form/Button","dijit/form/Form","dijit/form/ValidationTextBox","dojox/validate/regexp","dojox/form/BusyButton"],function(_bed,_bee,_bef,_bf0,_bf1,json,lang,_bf2,_bf3){return _bed("prcommon2.publisher.PublisherAdd",[_bee],{templateString:_bef,mode:"add",constructor:function(){this._add_call_back=lang.hitch(this,this._add_call);this._load_call_back=lang.hitch(this,this._load_call);this._update_call_back=lang.hitch(this,this._update_call);this._delete_call_back=lang.hitch(this,this._delete_call);this._dialog=null;},postCreate:function(){this.inherited(arguments);},_add_publisher:function(){if(_bf1.form_validator(this.form)==false){alert("Not all required field filled in");this.savenode.cancel();throw "N";}if(this.mode=="add"){if(confirm("Add Publisher?")){_bf0.post("/research/admin/publisher/add",_bf1.make_params({data:this.form.get("value")})).then(this._add_call_back);}}else{if(confirm("Update Publisher?")){_bf0.post("/research/admin/publisher/update",_bf1.make_params({data:this.form.get("value")})).then(this._update_call_back);}}},_add_call:function(_bf4){if(_bf4.success=="OK"){alert("Publisher Added");this.clear();if(this._dialog){this._dialog.hide();}_bf3.publish(PRCOMMON.Events.Publisher_Added,_bf4.data.publisher);}else{if(_bf4.success=="DU"){alert("Publisher Alread Exists");this.publishername.focus();}else{alert("Failed");}}this.savenode.cancel();},_update_call:function(_bf5){if(_bf5.success=="OK"){alert("Publisher Updated");_bf3.publish(PRCOMMON.Events.Publisher_Update,_bf5.data.publisher);this.clear();if(this._dialog){this._dialog.hide();}}else{if(_bf5.success=="DU"){alert("Publisher Already Exists");this.publishername.focus();}else{alert("Failed");}}this.savenode.cancel();},clear:function(){this.publishername.set("value","");this.publisherid.set("value",-1);this.www.set("value","");this.savenode.cancel();},focus:function(){this.publishername.focus();},_setDialogAttr:function(_bf6){this._dialog=_bf6;},load:function(_bf7){this.clear();_bf0.post("/research/admin/publisher/get",_bf1.make_params({data:{publisherid:_bf7}})).then(this._load_call_back);},_load_call:function(_bf8){if(_bf8.success=="OK"){this.publishername.set("value",_bf8.data.publisher.publishername);this.publisherid.set("value",_bf8.data.publisher.publisherid);this.www.set("value",_bf8.data.publisher.www);if(_bf8.data.inuse==false){_bf2.remove(this.delete_button,"prmaxhidden");}else{_bf2.add(this.delete_button,"prmaxhidden");}this._dialog.show();}else{alert("Problem");}},_close:function(){if(this._dialog){this._dialog.hide();}},_delete:function(){if(confirm("Delete Publisher?")){_bf0.post("/research/admin/publisher/delete",_bf1.make_params({data:this.form.get("value")})).then(this._delete_call_back);}},_delete_call:function(_bf9){if(_bf9.success=="OK"){alert("Publisher Deleted");if(this._dialog){this._dialog.hide();}_bf3.publish(PRCOMMON.Events.Publisher_Deleted,this.publisherid.get("value"));}else{alert("Problem Delting Publisher");}}});});},"research/questionnaires/Profile":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../questionnaires/templates/Profile.html","dijit/layout/BorderContainer","dojo/topic","dojo/_base/lang","ttl/utilities2","dojo/request","dojox/data/JsonRestStore","dojo/data/ItemFileReadStore","dojo/dom-attr","dojo/dom-class","dijit/layout/ContentPane","dijit/form/Form","dijit/form/TextBox","dijit/form/FilteringSelect","dijit/form/Button","dojox/form/BusyButton","dijit/Dialog","dijit/form/Textarea","prcommon2/publisher/PublisherAdd","research/questionnaires/UserModified","prcommon2/production/ProductionCompanyAdd","prcommon2/common/ExpandedText"],function(_bfa,_bfb,_bfc,_bfd,_bfe,lang,_bff,_c00,_c01,_c02,_c03,_c04){return _bfa("questionnaires.outlets.Profile",[_bfb,_bfd],{templateString:_bfc,constructor:function(){this._publishers=new _c01({target:"/research/admin/publisher/list",labelAttribute:"publishername",idProperty:"publisherid"});this._productioncompanies=new _c01({target:"/research/admin/production/list",labelAttribute:"productioncompanydescriptiion",idProperty:"productioncompanyid"});_bfe.subscribe(PRCOMMON.Events.Publisher_Added,lang.hitch(this,this._add_event));_bfe.subscribe(PRCOMMON.Events.Production_Company_Added,lang.hitch(this,this._add_production_event));this._update_call_back=lang.hitch(this,this._update_call);this._error_call_back=lang.hitch(this,this._error_call);this._languages=new _c02({url:"/common/lookups?searchtype=languages&nofilter=1"});},postCreate:function(){this.inherited(arguments);this.publisher_add_ctrl.set("dialog",this.publisher_add_dlg);this.publisherid.set("store",this._publishers);this.productioncompanyid.set("store",this._productioncompanies);this.production_add_ctrl.set("dialog",this.production_add_dlg);this.language1id.set("store",this._languages);this.language2id.set("store",this._languages);},_reset_fields:function(){this.readership_modified.clear();this.editorialprofile_modified.clear();this.publisher_modified.clear();this.nrsreadership_modified.clear();this.jicregreadership_modified.clear();this.productioncompanyid_modified.clear();this.deadline_modified.clear();this.broadcasttimes_modified.clear();this.language1id_modified.clear();this.language2id_modified.clear();_c03.set(this.publishername_view,"innerHTML","");},load:function(_c05,_c06,_c07){this._reset_fields();if(_c06.profile.profile){this.readership.set("value",_c06.profile.profile.readership);this.editorialprofile.set("value",_c06.profile.profile.editorialprofile);this.nrsreadership.set("value",_c06.profile.profile.nrsreadership);this.jicregreadership.set("value",_c06.profile.profile.jicregreadership);this.productioncompanyid.set("value",_c06.profile.profile.productioncompanyid);this.deadline.set("value",_c06.profile.profile.deadline);this.broadcasttimes.set("value",_c06.profile.profile.broadcasttimes);}else{this.readership.set("value","");this.editorialprofile.set("value","");this.nrsreadership.set("value","");this.jicregreadership.set("value","");this.productioncompanyid.set("value","");this.deadline.set("value","");this.broadcasttimes.set("value","");}this.researchprojectitemid.set("value",_c05.researchprojectitemid);var _c08=false;var _c09=false;var _c0a=false;for(var key in _c07){var _c0b=_c07[key];switch(_c0b.fieldid){case 38:var _c0c="";if(_c06.profile.profile){_c0c=_c06.profile.profile.readership;}this.readership_modified.load(_c0b.value,_c0c,this.readership);break;case 3:var _c0d="";if(_c06.profile.profile){_c0d=_c06.profile.profile.editorialprofile;}this.editorialprofile_modified.load(_c0b.value,_c0d,this.editorialprofile);break;case 36:this.publisher_modified.load(_c0b.value,_c06.outlet.publisherid,this.publisherid);_c08=true;break;case 48:this.language1id_modified.load(_c0b.value,_c06.languages.language1id,this.language1id);_c09=true;break;case 51:this.language2id_modified.load(_c0b.value,_c06.languages.language2id,this.language2id);_c0a=true;break;case 100:_c04.remove(this.publishername_view,"prmaxhidden");_c03.set(this.publishername_view,"innerHTML",_c0b.value);break;}}if(_c08==false){this.publisherid.set("value",_c06.outlet.publisherid);}if(_c09==false){this.language1id.set("value",_c06.languages.language1id);}if(_c0a==false){this.language2id.set("value",_c06.languages.language2id);}this.savenode.cancel();},clear:function(){this.publisherid.set("value",null);this.editorialprofile.set("value","");this.savenode.cancel();},_update_profile:function(){if(_bff.form_validator(this.form)==false){alert("Not all required field filled in");this.savenode.cancel();throw "N";}var _c0e=this.form.get("value");_c00.post("/research/admin/projects/user_feed_accept_profile",_bff.make_params({data:_c0e})).then(this._update_call_back,this._error_call_back);},_update_call:function(_c0f){if(_c0f.success=="OK"){alert("Profile Updated");}else{alert("Problem");}this.savenode.cancel();},_add_event:function(_c10){this.publisherid.set("value",_c10.publisherid);},_new_publisher:function(){this.publisher_add_ctrl.clear();this.publisher_add_dlg.show();},_error_call:function(){this.savenode.cancel();},_new_production_company:function(){this.production_add_ctrl.clear();this.production_add_dlg.show();},_add_production_event:function(_c11){this.productioncompanyid.set("value",_c11.productioncompanyid);},_expand_broadcast:function(){this.text_view_ctrl.show_control(this.broadcasttimes,this.text_view_dlg,"Broadcast Times");},_expand_deadline:function(){this.text_view_ctrl.show_control(this.deadline,this.text_view_dlg,"Deadlines");},_expand_profile:function(){this.text_view_ctrl.show_control(this.editorialprofile,this.text_view_dlg,"Editorial Profile");},_expand_readership:function(){this.text_view_ctrl.show_control(this.readership,this.text_view_dlg,"Readership");},_expand_nrsreadership:function(){this.text_view_ctrl.show_control(this.nrsreadership,this.text_view_dlg,"PAMco");},_expand_jicreg_readership:function(){this.text_view_ctrl.show_control(this.jicregreadership,this.text_view_dlg,"JICREG readership");}});});},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/has","../registry"],function(_c12,dom,has,_c13){var _c14=_c12("dijit.form._ButtonMixin"+(has("dojo-bidi")?"_NoBidi":""),null,{label:"",type:"button",__onClick:function(e){e.stopPropagation();e.preventDefault();if(!this.disabled){this.valueNode.click(e);}return false;},_onClick:function(e){if(this.disabled){e.stopPropagation();e.preventDefault();return false;}if(this.onClick(e)===false){e.preventDefault();}var _c15=e.defaultPrevented;if(!_c15&&this.type=="submit"&&!(this.valueNode||this.focusNode).form){for(var node=this.domNode;node.parentNode;node=node.parentNode){var _c16=_c13.byNode(node);if(_c16&&typeof _c16._onSubmit=="function"){_c16._onSubmit(e);e.preventDefault();_c15=true;break;}}}return !_c15;},postCreate:function(){this.inherited(arguments);dom.setSelectable(this.focusNode,false);},onClick:function(){return true;},_setLabelAttr:function(_c17){this._set("label",_c17);var _c18=this.containerNode||this.focusNode;_c18.innerHTML=_c17;this.onLabelSet();},onLabelSet:function(){}});if(has("dojo-bidi")){_c14=_c12("dijit.form._ButtonMixin",_c14,{onLabelSet:function(){this.inherited(arguments);var _c19=this.containerNode||this.focusNode;this.applyTextDir(_c19);}});}return _c14;});},"dijit/tree/TreeStoreModel":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang"],function(_c1a,_c1b,_c1c,lang){return _c1c("dijit.tree.TreeStoreModel",null,{store:null,childrenAttrs:["children"],newItemIdAttr:"id",labelAttr:"",root:null,query:null,deferItemLoadingUntilExpand:false,constructor:function(args){lang.mixin(this,args);this.connects=[];var _c1d=this.store;if(!_c1d.getFeatures()["dojo.data.api.Identity"]){throw new Error("dijit.tree.TreeStoreModel: store must support dojo.data.Identity");}if(_c1d.getFeatures()["dojo.data.api.Notification"]){this.connects=this.connects.concat([_c1b.after(_c1d,"onNew",lang.hitch(this,"onNewItem"),true),_c1b.after(_c1d,"onDelete",lang.hitch(this,"onDeleteItem"),true),_c1b.after(_c1d,"onSet",lang.hitch(this,"onSetItem"),true)]);}},destroy:function(){var h;while(h=this.connects.pop()){h.remove();}},getRoot:function(_c1e,_c1f){if(this.root){_c1e(this.root);}else{this.store.fetch({query:this.query,onComplete:lang.hitch(this,function(_c20){if(_c20.length!=1){throw new Error("dijit.tree.TreeStoreModel: root query returned "+_c20.length+" items, but must return exactly one");}this.root=_c20[0];_c1e(this.root);}),onError:_c1f});}},mayHaveChildren:function(item){return _c1a.some(this.childrenAttrs,function(attr){return this.store.hasAttribute(item,attr);},this);},getChildren:function(_c21,_c22,_c23){var _c24=this.store;if(!_c24.isItemLoaded(_c21)){var _c25=lang.hitch(this,arguments.callee);_c24.loadItem({item:_c21,onItem:function(_c26){_c25(_c26,_c22,_c23);},onError:_c23});return;}var _c27=[];for(var i=0;i<this.childrenAttrs.length;i++){var vals=_c24.getValues(_c21,this.childrenAttrs[i]);_c27=_c27.concat(vals);}var _c28=0;if(!this.deferItemLoadingUntilExpand){_c1a.forEach(_c27,function(item){if(!_c24.isItemLoaded(item)){_c28++;}});}if(_c28==0){_c22(_c27);}else{_c1a.forEach(_c27,function(item,idx){if(!_c24.isItemLoaded(item)){_c24.loadItem({item:item,onItem:function(item){_c27[idx]=item;if(--_c28==0){_c22(_c27);}},onError:_c23});}});}},isItem:function(_c29){return this.store.isItem(_c29);},fetchItemByIdentity:function(_c2a){this.store.fetchItemByIdentity(_c2a);},getIdentity:function(item){return this.store.getIdentity(item);},getLabel:function(item){if(this.labelAttr){return this.store.getValue(item,this.labelAttr);}else{return this.store.getLabel(item);}},newItem:function(args,_c2b,_c2c){var _c2d={parent:_c2b,attribute:this.childrenAttrs[0]},_c2e;if(this.newItemIdAttr&&args[this.newItemIdAttr]){this.fetchItemByIdentity({identity:args[this.newItemIdAttr],scope:this,onItem:function(item){if(item){this.pasteItem(item,null,_c2b,true,_c2c);}else{_c2e=this.store.newItem(args,_c2d);if(_c2e&&(_c2c!=undefined)){this.pasteItem(_c2e,_c2b,_c2b,false,_c2c);}}}});}else{_c2e=this.store.newItem(args,_c2d);if(_c2e&&(_c2c!=undefined)){this.pasteItem(_c2e,_c2b,_c2b,false,_c2c);}}},pasteItem:function(_c2f,_c30,_c31,_c32,_c33){var _c34=this.store,_c35=this.childrenAttrs[0];if(_c30){_c1a.forEach(this.childrenAttrs,function(attr){if(_c34.containsValue(_c30,attr,_c2f)){if(!_c32){var _c36=_c1a.filter(_c34.getValues(_c30,attr),function(x){return x!=_c2f;});_c34.setValues(_c30,attr,_c36);}_c35=attr;}});}if(_c31){if(typeof _c33=="number"){var _c37=_c34.getValues(_c31,_c35).slice();_c37.splice(_c33,0,_c2f);_c34.setValues(_c31,_c35,_c37);}else{_c34.setValues(_c31,_c35,_c34.getValues(_c31,_c35).concat(_c2f));}}},onChange:function(){},onChildrenChange:function(){},onDelete:function(){},onNewItem:function(item,_c38){if(!_c38){return;}this.getChildren(_c38.item,lang.hitch(this,function(_c39){this.onChildrenChange(_c38.item,_c39);}));},onDeleteItem:function(item){this.onDelete(item);},onSetItem:function(item,_c3a){if(_c1a.indexOf(this.childrenAttrs,_c3a)!=-1){this.getChildren(item,lang.hitch(this,function(_c3b){this.onChildrenChange(item,_c3b);}));}else{this.onChange(item);}}});});},"prcommon2/search/Circulation":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../search/templates/Circulation.html","prcommon2/search/std_search","dojo/_base/lang","dojo/dom-attr","dojo/dom-class","dojo/dom-style","dojo/json","dijit/form/CheckBox","prcommon2/search/SearchCount"],function(_c3c,_c3d,_c3e,_c3f,lang,_c40,_c41,_c42,json){return _c3c("prcommon2.search.Circulation",[_c3d,_c3f],{templateString:_c3e,name:"",value:"",title:"",search:"",size:"9",testmode:false,constructor:function(){this._field_list=[1,2,3,4,5,6];},postCreate:function(){for(var key in this._field_list){var _c43=this._field_list[key];_c40.set(this["node_"+_c43+"_label"],"for",this["node_"+_c43].id);}},check_count:function(){this._get_selector(this._get_data());},clear:function(){for(var a in this._field_list){this["node_"+this._field_list[a]].set("value",false);}this._get_selector("");this.inherited(arguments);},_setValueAttr:function(_c44){var open=false;this.Clear();for(var key in _c44.data){var _c45=_c44.data[key];this["node_"+_c45].set("value",true);open=true;}this._get_selector(this._getValueAttr());if(open){this.make_open();}},_getValueAttr:function(){return this._get_data();},_get_data:function(){var data=Array();var _c46=0;for(var a in this._field_list){if(this["node_"+this._field_list[a]].get("value")!=false){data[_c46]=parseInt(this._field_list[a]);++_c46;}}if(this._extended){return {data:data};}else{var data=_c46>0?json.stringify(data):"";this.value=data;return data;}},_focus:function(){this.node_1.focus();}});});},"prcommon2/search/SmartSearch":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../search/templates/SmartSearch.html","dijit/layout/ContentPane","prcommon2/search/std_search","prcommon2/search/SearchCount","ttl/Form2","dijit/form/TextBox","prcommon2/search/standard","prcommon2/search/PrmaxOutletTypes","prcommon2/interests/Interests","prcommon2/search/Countries"],function(_c47,_c48,_c49,_c4a){return _c47("prcommon2.search.OutletSearch",[_c48,_c4a],{templateString:_c49,constructor:function(){},postCreate:function(){this.inherited(arguments);},_getFormAttr:function(){return this.form_name;},clear:function(){dojo.every(this.form_name.getChildren(),function(_c4b){if(_c4b.clear!=null){_c4b.clear();}return true;});}});});},"dojo/dnd/TimedMoveable":function(){define(["../_base/declare","./Moveable"],function(_c4c,_c4d){var _c4e=_c4d.prototype.onMove;return _c4c("dojo.dnd.TimedMoveable",_c4d,{timeout:40,constructor:function(node,_c4f){if(!_c4f){_c4f={};}if(_c4f.timeout&&typeof _c4f.timeout=="number"&&_c4f.timeout>=0){this.timeout=_c4f.timeout;}},onMoveStop:function(_c50){if(_c50._timer){clearTimeout(_c50._timer);_c4e.call(this,_c50,_c50._leftTop);}_c4d.prototype.onMoveStop.apply(this,arguments);},onMove:function(_c51,_c52){_c51._leftTop=_c52;if(!_c51._timer){var _c53=this;_c51._timer=setTimeout(function(){_c51._timer=null;_c4e.call(_c53,_c51,_c51._leftTop);},this.timeout);}}});});},"research/advance/AdvanceDelete":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../advance/templates/AdvanceDelete.html","dojo/request","ttl/utilities2","dojo/json","dojo/_base/lang","dojo/topic","dojo/dom-attr","dojo/dom-class","dijit/layout/ContentPane","dijit/form/Button"],function(_c54,_c55,_c56,_c57,_c58,json,lang,_c59,_c5a,_c5b){return _c54("research.advance.AdvanceDelete",[_c55],{templateString:_c56,constructor:function(){this._delete_call_back=dojo.hitch(this,this._delete_call);},postCreate:function(){this.reasoncodes.set("store",PRCOMMON.utils.stores.Research_Reason_Del_Codes());this.inherited(arguments);},_delete_submit:function(){if(_c58.form_validator(this.form)==false){alert("Not all required fields filled in");throw "N";}if(this.reason.get("value").length==0){alert("No Description Given");this.reason.focus();return;}if(confirm("Delete Feature "+_c5a.get(this.heading,"innerHTML")+"?")){if(confirm("Delete Feature are you sure?")){_c57.post("/advance/research_delete",_c58.make_params({data:this.form.get("value")})).then(this._delete_call_back);}}},_delete_call:function(_c5c){if(_c5c.success=="OK"){_c59.publish(PRCOMMON.Events.Feature_Deleted,_c5c.data);alert("Feature  Deleted");this._dialog.hide();this.clear();}else{alert("Problem Deleteing Feature");}},_setDialogAttr:function(_c5d){this._dialog=_c5d;},clear:function(){this.advancefeatureid.set("value",-1);this.reasoncodes.set("value",null);this.reason.set("value","");_c5a.set(this.heading,"innerHTML","");},load:function(_c5e,_c5f){this.advancefeatureid.set("value",_c5e);_c5a.set(this.heading,"innerHTML",_c5f);this.reasoncodes.set("value",null);this.reason.focus();},focus:function(){this.reason.focus();}});});},"prcommon2/web/WebDatesAdd":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../web/templates/WebDatesAdd.html","dojo/request","ttl/utilities2","dojo/json","dojo/_base/lang","dojo/dom-class","dojo/topic","dijit/form/TextBox","dijit/form/Button","dijit/form/Form","dojox/form/BusyButton"],function(_c60,_c61,_c62,_c63,_c64,json,lang,_c65,_c66){return _c60("prcommon2.web.WebDatesAdd",[_c61],{templateString:_c62,mode:"add",constructor:function(){this._add_call_back=lang.hitch(this,this._add_call);this._load_call_back=lang.hitch(this,this._load_call);this._update_call_back=lang.hitch(this,this._update_call);this._delete_call_back=lang.hitch(this,this._delete_call);this._dialog=null;},postCreate:function(){this.inherited(arguments);},_add_dates:function(){if(_c64.form_validator(this.form)==false){alert("Not all required field filled in");this.savenode.cancel();throw "N";}if(this.mode=="add"){if(confirm("Add Web Dates?")){_c63.post("/research/admin/webdates/add",_c64.make_params({data:this.form.get("value")})).then(this._add_call_back);}}else{if(confirm("Update Web Dates?")){_c63.post("/research/admin/webdates/update",_c64.make_params({data:this.form.get("value")})).then(this._update_call_back);}}},_add_call:function(_c67){if(_c67.success=="OK"){alert("Web Dates Added");this.clear();if(this._dialog){this._dialog.hide();}_c66.publish(PRCOMMON.Events.Web_Dates_Added,_c67.data.webdates);}else{if(_c67.success=="DU"){alert("Web Date Already Exists");this.webauditdatedescription.focus();}else{alert("Failed");}}this.savenode.cancel();},_update_call:function(_c68){if(_c68.success=="OK"){alert("Web Dates Updated");_c66.publish(PRCOMMON.Events.Web_Dates_Update,_c68.data.webdates);this.clear();if(this._dialog){this._dialog.hide();}}else{if(_c68.success=="DU"){alert("Web Dates Already Exists");this.webauditdatedescription.focus();}else{alert("Failed");}}this.savenode.cancel();},clear:function(){this.webauditdatedescription.set("value","");this.webauditdateid.set("value",-1);this.savenode.cancel();},focus:function(){this.webauditdatedescription.focus();},_setDialogAttr:function(_c69){this._dialog=_c69;},load:function(_c6a){this.clear();_c63.post("/research/admin/webdates/get",_c64.make_params({data:{webauditdateid:_c6a}})).then(this._load_call_back);},_load_call:function(_c6b){if(_c6b.success=="OK"){this.webauditdateid.set("value",_c6b.data.webdates.webauditdateid);this.webauditdatedescription.set("value",_c6b.data.webdates.webauditdatedescription);this.webauditdateid.set("value",_c6b.data.webdates.webauditdateid);if(_c6b.data.inuse==true){_c65.add(this.delete_button,"prmaxhidden");}else{_c65.remove(this.delete_button,"prmaxhidden");}this._dialog.show();}else{alert("Problem");}},_close:function(){if(this._dialog){this._dialog.hide();}},_delete:function(){if(confirm("Delete Web Dates")){_c63.post("/research/admin/webdates/delete",_c64.make_params({data:{webauditdateid:this.webauditdateid.get("value")}})).then(this._delete_call_back);}},_delete_call:function(_c6c){if(_c6c.success=="OK"){alert("Web Dates Deleted");if(this._dialog){this._dialog.hide();}_c66.publish(PRCOMMON.Events.Web_Dates_Deleted,this.webauditdateid.get("value"));}else{alert("Failed");}}});});},"research/employees/EmployeeMerge":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../employees/templates/EmployeeMerge.html","dojo/request","ttl/utilities2","dojo/json","dojo/_base/lang","dojo/topic","dojox/data/JsonRestStore","dojo/store/Observable","dojo/dom-attr","dojo/dom-class","dijit/form/RadioButton","dijit/form/FilteringSelect","dijit/form/Button","research/employees/PersonNew"],function(_c6d,_c6e,_c6f,_c70,_c71,json,lang,_c72,_c73,_c74,_c75,_c76){return _c6d("research.employees.EmployeeMerge",[_c6e],{templateString:_c6f,constructor:function(){this.employees=new _c73({target:"/research/admin/employees/contactlist_rest",idProperty:"employeeid",labelAttribute:"job_title"});this._merge_call_back=lang.hitch(this,this._merge_call);this._dlg=null;},postCreate:function(){this.employeelist.set("store",this.employees);this.inherited(arguments);},load:function(_c77,_c78,_c79,_c7a,dlg){this._dlg=dlg;if(_c7a){_c75.set(this.source_details,"innerHTML",_c7a+" - "+_c79);}else{_c75.set(this.source_details,"innerHTML",_c79);}this.employeeid.set("value",_c77);this.employeelist.set("query",{extraemployeeid:_c77,outletid:_c78});this.mergebtn.cancel();this._dlg.show();},_do_close:function(){this._dlg.hide();},_do_merge:function(){if(_c71.form_validator(this.form)==false){alert("Not all required fields filled in");throw "N";}if(confirm("Merge Contacts")){_c70.post("/research/admin/employees/merge_contacts",_c71.make_params({data:this.form.get("value")})).then(this._merge_call_back);}else{throw "N";}},_merge_call:function(_c7b){if(_c7b.success=="OK"){alert("Merge Completed. Please verify the 'Research tab' to make sure these changes haven't effected it");if(_c7b.employee.series==true){alert("Series members were affected. Please run employee synchronisation process");}_c72.publish(PRCOMMON.Events.Employee_Deleted,{has_deleted:true,employeeid:this.employeeid.get("value")});this._dlg.hide();}else{alert("Problem Merging Contacts");}this.mergebtn.cancel();},_clear:function(){_c75.set(this.source_details,"innerHTML",-1);this.employeelist.set("value",null);this.employeeid.set("value",-1);this.mergebtn.cancel();}});});},"dijit/popup":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","./place","./BackgroundIframe","./Viewport","./main","dojo/touch"],function(_c7c,_c7d,_c7e,dom,_c7f,_c80,_c81,_c82,has,keys,lang,on,_c83,_c84,_c85,_c86){function _c87(){if(this._popupWrapper){_c80.destroy(this._popupWrapper);delete this._popupWrapper;}};var _c88=_c7e(null,{_stack:[],_beginZIndex:1000,_idGen:1,_repositionAll:function(){if(this._firstAroundNode){var _c89=this._firstAroundPosition,_c8a=_c81.position(this._firstAroundNode,true),dx=_c8a.x-_c89.x,dy=_c8a.y-_c89.y;if(dx||dy){this._firstAroundPosition=_c8a;for(var i=0;i<this._stack.length;i++){var _c8b=this._stack[i].wrapper.style;_c8b.top=(parseFloat(_c8b.top)+dy)+"px";if(_c8b.right=="auto"){_c8b.left=(parseFloat(_c8b.left)+dx)+"px";}else{_c8b.right=(parseFloat(_c8b.right)-dx)+"px";}}}this._aroundMoveListener=setTimeout(lang.hitch(this,"_repositionAll"),dx||dy?10:50);}},_createWrapper:function(_c8c){var _c8d=_c8c._popupWrapper,node=_c8c.domNode;if(!_c8d){_c8d=_c80.create("div",{"class":"dijitPopup",style:{display:"none"},role:"region","aria-label":_c8c["aria-label"]||_c8c.label||_c8c.name||_c8c.id},_c8c.ownerDocumentBody);_c8d.appendChild(node);var s=node.style;s.display="";s.visibility="";s.position="";s.top="0px";_c8c._popupWrapper=_c8d;_c7d.after(_c8c,"destroy",_c87,true);if("ontouchend" in document){on(_c8d,"touchend",function(evt){if(!/^(input|button|textarea)$/i.test(evt.target.tagName)){evt.preventDefault();}});}_c8d.dojoClick=true;}return _c8d;},moveOffScreen:function(_c8e){var _c8f=this._createWrapper(_c8e);var ltr=_c81.isBodyLtr(_c8e.ownerDocument),_c90={visibility:"hidden",top:"-9999px",display:""};_c90[ltr?"left":"right"]="-9999px";_c90[ltr?"right":"left"]="auto";_c82.set(_c8f,_c90);return _c8f;},hide:function(_c91){var _c92=this._createWrapper(_c91);_c82.set(_c92,{display:"none",height:"auto",overflowY:"visible",border:""});var node=_c91.domNode;if("_originalStyle" in node){node.style.cssText=node._originalStyle;}},getTopPopup:function(){var _c93=this._stack;for(var pi=_c93.length-1;pi>0&&_c93[pi].parent===_c93[pi-1].widget;pi--){}return _c93[pi];},open:function(args){var _c94=this._stack,_c95=args.popup,node=_c95.domNode,_c96=args.orient||["below","below-alt","above","above-alt"],ltr=args.parent?args.parent.isLeftToRight():_c81.isBodyLtr(_c95.ownerDocument),_c97=args.around,id=(args.around&&args.around.id)?(args.around.id+"_dropdown"):("popup_"+this._idGen++);while(_c94.length&&(!args.parent||!dom.isDescendant(args.parent.domNode,_c94[_c94.length-1].widget.domNode))){this.close(_c94[_c94.length-1].widget);}var _c98=this.moveOffScreen(_c95);if(_c95.startup&&!_c95._started){_c95.startup();}var _c99,_c9a=_c81.position(node);if("maxHeight" in args&&args.maxHeight!=-1){_c99=args.maxHeight||Infinity;}else{var _c9b=_c85.getEffectiveBox(this.ownerDocument),_c9c=_c97?_c81.position(_c97,false):{y:args.y-(args.padding||0),h:(args.padding||0)*2};_c99=Math.floor(Math.max(_c9c.y,_c9b.h-(_c9c.y+_c9c.h)));}if(_c9a.h>_c99){var cs=_c82.getComputedStyle(node),_c9d=cs.borderLeftWidth+" "+cs.borderLeftStyle+" "+cs.borderLeftColor;_c82.set(_c98,{overflowY:"scroll",height:_c99+"px",border:_c9d});node._originalStyle=node.style.cssText;node.style.border="none";}_c7f.set(_c98,{id:id,style:{zIndex:this._beginZIndex+_c94.length},"class":"dijitPopup "+(_c95.baseClass||_c95["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:args.parent?args.parent.id:""});if(_c94.length==0&&_c97){this._firstAroundNode=_c97;this._firstAroundPosition=_c81.position(_c97,true);this._aroundMoveListener=setTimeout(lang.hitch(this,"_repositionAll"),50);}if(has("config-bgIframe")&&!_c95.bgIframe){_c95.bgIframe=new _c84(_c98);}var _c9e=_c95.orient?lang.hitch(_c95,"orient"):null,best=_c97?_c83.around(_c98,_c97,_c96,ltr,_c9e):_c83.at(_c98,args,_c96=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],args.padding,_c9e);_c98.style.visibility="visible";node.style.visibility="visible";var _c9f=[];_c9f.push(on(_c98,"keydown",lang.hitch(this,function(evt){if(evt.keyCode==keys.ESCAPE&&args.onCancel){evt.stopPropagation();evt.preventDefault();args.onCancel();}else{if(evt.keyCode==keys.TAB){evt.stopPropagation();evt.preventDefault();var _ca0=this.getTopPopup();if(_ca0&&_ca0.onCancel){_ca0.onCancel();}}}})));if(_c95.onCancel&&args.onCancel){_c9f.push(_c95.on("cancel",args.onCancel));}_c9f.push(_c95.on(_c95.onExecute?"execute":"change",lang.hitch(this,function(){var _ca1=this.getTopPopup();if(_ca1&&_ca1.onExecute){_ca1.onExecute();}})));_c94.push({widget:_c95,wrapper:_c98,parent:args.parent,onExecute:args.onExecute,onCancel:args.onCancel,onClose:args.onClose,handlers:_c9f});if(_c95.onOpen){_c95.onOpen(best);}return best;},close:function(_ca2){var _ca3=this._stack;while((_ca2&&_c7c.some(_ca3,function(elem){return elem.widget==_ca2;}))||(!_ca2&&_ca3.length)){var top=_ca3.pop(),_ca4=top.widget,_ca5=top.onClose;if(_ca4.bgIframe){_ca4.bgIframe.destroy();delete _ca4.bgIframe;}if(_ca4.onClose){_ca4.onClose();}var h;while(h=top.handlers.pop()){h.remove();}if(_ca4&&_ca4.domNode){this.hide(_ca4);}if(_ca5){_ca5();}}if(_ca3.length==0&&this._aroundMoveListener){clearTimeout(this._aroundMoveListener);this._firstAroundNode=this._firstAroundPosition=this._aroundMoveListener=null;}}});return (_c86.popup=new _c88());});},"dijit/layout/TabContainer":function(){define(["dojo/_base/lang","dojo/_base/declare","./_TabContainerBase","./TabController","./ScrollingTabController"],function(lang,_ca6,_ca7,_ca8,_ca9){return _ca6("dijit.layout.TabContainer",_ca7,{useMenu:true,useSlider:true,controllerWidget:"",_makeController:function(_caa){var cls=this.baseClass+"-tabs"+(this.doLayout?"":" dijitTabNoLayout"),_ca8=typeof this.controllerWidget=="string"?lang.getObject(this.controllerWidget):this.controllerWidget;return new _ca8({id:this.id+"_tablist",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,tabPosition:this.tabPosition,doLayout:this.doLayout,containerId:this.id,"class":cls,nested:this.nested,useMenu:this.useMenu,useSlider:this.useSlider,tabStripClass:this.tabStrip?this.baseClass+(this.tabStrip?"":"No")+"Strip":null},_caa);},postMixInProperties:function(){this.inherited(arguments);if(!this.controllerWidget){this.controllerWidget=(this.tabPosition=="top"||this.tabPosition=="bottom")&&!this.nested?_ca9:_ca8;}}});});},"dijit/_base":function(){define(["./main","./a11y","./WidgetSet","./_base/focus","./_base/manager","./_base/place","./_base/popup","./_base/scroll","./_base/sniff","./_base/typematic","./_base/wai","./_base/window"],function(_cab){return _cab._base;});},"research/employees/ContactMerge":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../employees/templates/ContactMerge.html","dojo/request","ttl/utilities2","dojo/json","dojo/_base/lang","dojo/topic","dojox/data/JsonRestStore","dojo/store/Observable","dojo/dom-attr","dojo/dom-class","dijit/form/RadioButton","dijit/form/FilteringSelect","dijit/form/Button","research/employees/PersonNew"],function(_cac,_cad,_cae,_caf,_cb0,json,lang,_cb1,_cb2,_cb3,_cb4,_cb5){return _cac("research.employees.ContactMerge",[_cad],{templateString:_cae,constructor:function(){this.contactstore=new _cb2({target:"/research/admin/contacts/research_lookuplist_rest",idProperty:"contactid",labelAttribute:"contactname"});this._merge_call_back=lang.hitch(this,this._merge_call);this._dlg=null;},postCreate:function(){this.contactlist.set("store",this.contactstore);this.inherited(arguments);},load:function(_cb6,_cb7,dlg){this._dlg=dlg;this._contactid=_cb6;this.contactlist.set("value","");if(_cb7){_cb4.set(this.destination_details,"innerHTML",_cb7+" - "+_cb6);}else{_cb4.set(this.destination_details,"innerHTML",_cb6);}this.mergebtn.cancel();this._dlg.show();},_do_close:function(){this._dlg.hide();},_do_merge:function(){if(_cb0.form_validator(this.form)==false){alert("Not all required fields filled in");throw "N";}if(confirm("Merge Contacts")){var data={};data["contactid"]=this.contactlist.item.contactid;data["sourcecontactid"]=this._contactid;this._sourcecontactid=data["sourcecontactid"];_caf.post("/research/admin/contacts/research_merge",_cb0.make_params({data:data})).then(this._merge_call_back);}},_merge_call:function(_cb8){if(_cb8.success=="OK"){alert("Merge Completed");_cb1.publish("contacts/merge_contact",{has_deleted:true,contactid:_cb8.contact.contactid,sourcecontactid:this._sourcecontactid,contact:_cb8.contact});this._dlg.hide();}else{alert("Problem Merging Contacts");}this.mergebtn.cancel();},_clear:function(){_cb4.set(this.destination_details,"innerHTML",-1);this.contactlist.set("value",null);this.mergebtn.cancel();},});});},"research/employees/EmployeeSelect":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../employees/templates/EmployeeSelect.html","dojo/request","ttl/utilities2","dojo/json","dojo/_base/lang","dojo/topic","dojox/data/JsonRestStore","dojo/store/Observable","dojo/dom-attr","dojo/dom-class","dijit/form/RadioButton","dijit/form/FilteringSelect","dijit/form/Button","research/employees/PersonNew","prcommon2/contact/ContactSelect","prcommon2/contact/ContactSelectMain","research/employees/ContactMerge",],function(_cb9,_cba,_cbb,_cbc,_cbd,json,lang,_cbe,_cbf,_cc0,_cc1,_cc2){return _cb9("research.employees.EmployeeSelect",[_cba],{templateString:_cbb,required:false,nonew:false,name:"eselect",mustexists:false,constructor:function(){this._shopadd=true;_cbe.subscribe(PRCOMMON.Events.Person_Added,lang.hitch(this,this._add_event));},postCreate:function(){_cc1.set(this.nocontactlabel,"for",this.nocontactnode.id);_cc1.set(this.selectcontactlabel,"for",this.selectcontactnode.id);this.contactid.set("callback",lang.hitch(this,this._selected_from_extended));if(this.mustexists==true){_cc2.add(this.select_view,"prmaxhidden");this.selectcontactnode.set("checked",true);_cc2.add(this.displayname_ctrl,"prmaxhidden");}this.inherited(arguments);},set_outletid:function(_cc3){this.outletid=_cc3;this.contactid._outletid=_cc3;},_add_event:function(_cc4){this.contactid.set("value",_cc4.contactid);},_setCheckedAttr:function(_cc5){this.nocontactnode.set("checked",_cc5);this.selectcontactnode.set("checked",true);this._change_mode(false);},set_no_contact:function(){this.nocontactnode.set("checked",true);this._change_mode(true);},_getValueAttr:function(){return this.contactid._contact.contactid.get("value");},_setValueAttr:function(_cc6){this.contactid.set("value",_cc6);},isValid:function(){var _cc7=true;var _cc8=true;var v=this.contactid.get("value");if(v==""||v==-1||v==0||v==null){_cc8=false;}if(this.required==true){if(_cc8==false){_cc7=false;}}else{if(this.nocontactnode.get("checked")==false&&_cc8==false){_cc7=false;}}return _cc7;},isFocusable:function(){return true;},focus:function(){this.contactid.focus();},clear:function(){this.contactid.set("value",null);this._shopadd=false;},_contact_mode_no_contact:function(){this._change_mode(true);},_contact_mode_contact:function(){this._change_mode(false);},_change_mode:function(mode){_cc2.remove(this.selectcontactform,mode?"prmaxvisible":"prmaxhidden");_cc2.add(this.selectcontactform,mode?"prmaxhidden":"prmaxvisible");if(mode){_cc2.remove(this.contactid,"prmaxrequired");}else{_cc2.add(this.contactid,"prmaxrequired");}this.contactid.set("disabled",mode);this._shopadd=false;},_update_after_add:function(_cc9){this.contactid.set("value",_cc9.contactid);this._shopadd=false;this._add_contact_show();},_selected_from_extended:function(_cca){this.contactid.set("value",_cca.contactid);},});});},"dijit/form/_FormValueWidget":function(){define(["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(_ccb,has,_ccc,_ccd){return _ccb("dijit.form._FormValueWidget",[_ccc,_ccd],{_layoutHackIE7:function(){if(has("ie")==7){var _cce=this.domNode;var _ccf=_cce.parentNode;var _cd0=_cce.firstChild||_cce;var _cd1=_cd0.style.filter;var _cd2=this;while(_ccf&&_ccf.clientHeight==0){(function ping(){var _cd3=_cd2.connect(_ccf,"onscroll",function(){_cd2.disconnect(_cd3);_cd0.style.filter=(new Date()).getMilliseconds();_cd2.defer(function(){_cd0.style.filter=_cd1;});});})();_ccf=_ccf.parentNode;}}}});});},"ttl/BaseWidgetAMD":function(){define(["dojo/_base/declare","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_Container"],function(_cd4,_cd5,_cd6,_cd7,_cd8){return _cd4("ttl.BaseWidgetAMD",[_cd5,_cd6,_cd7,_cd8],{widgetsInTemplate:true,_lock:false,Lock_Code:function(){this._lock=true;},isLocked:function(){return this._lock;},UnLock_Code:function(){this._lock=false;},Lock_Code_Wait:function(){while(this._lock==true){ttl.utilities.sleepStupidly(1);}this._lock=true;},_ReturnFalse:function(){return false;}});});},"dijit/tree/_dndContainer":function(){define(["dojo/aspect","dojo/_base/declare","dojo/dom-class","dojo/_base/lang","dojo/on","dojo/touch"],function(_cd9,_cda,_cdb,lang,on,_cdc){return _cda("dijit.tree._dndContainer",null,{constructor:function(tree,_cdd){this.tree=tree;this.node=tree.domNode;lang.mixin(this,_cdd);this.containerState="";_cdb.add(this.node,"dojoDndContainer");this.events=[on(this.node,_cdc.enter,lang.hitch(this,"onOverEvent")),on(this.node,_cdc.leave,lang.hitch(this,"onOutEvent")),_cd9.after(this.tree,"_onNodeMouseEnter",lang.hitch(this,"onMouseOver"),true),_cd9.after(this.tree,"_onNodeMouseLeave",lang.hitch(this,"onMouseOut"),true),on(this.node,"dragstart, selectstart",function(evt){evt.preventDefault();})];},destroy:function(){var h;while(h=this.events.pop()){h.remove();}this.node=this.parent=null;},onMouseOver:function(_cde){this.current=_cde;},onMouseOut:function(){this.current=null;},_changeState:function(type,_cdf){var _ce0="dojoDnd"+type;var _ce1=type.toLowerCase()+"State";_cdb.replace(this.node,_ce0+_cdf,_ce0+this[_ce1]);this[_ce1]=_cdf;},_addItemClass:function(node,type){_cdb.add(node,"dojoDndItem"+type);},_removeItemClass:function(node,type){_cdb.remove(node,"dojoDndItem"+type);},onOverEvent:function(){this._changeState("Container","Over");},onOutEvent:function(){this._changeState("Container","");}});});},"research/ResearchDetails":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../research/templates/ResearchDetails.html","dijit/layout/BorderContainer","dojo/request","ttl/utilities2","dojo/json","dojo/_base/lang","dojo/topic","dojox/data/JsonRestStore","dojo/store/Observable","dojo/dom-attr","dojo/dom-class","dijit/form/RadioButton","dijit/form/FilteringSelect","dijit/form/Button","dijit/form/CheckBox","research/questionnaires/SendSingle"],function(_ce2,_ce3,_ce4,_ce5,_ce6,_ce7,json,lang,_ce8,_ce9,_cea,_ceb,_cec){return _ce2("research.employees.ResearchDetails",[_ce3,_ce5],{templateString:_ce4,constructor:function(){this._objecttypeid=1;this._months=new dojo.data.ItemFileReadStore({url:"/common/lookups?searchtype=months&ignore=1"});},postCreate:function(){this.researchfrequencyid.set("store",PRCOMMON.utils.stores.Research_Frequencies());this._load_call_back=lang.hitch(this,this._load_call);this._update_call_back=lang.hitch(this,this._update_call);this.quest_month_1.set("store",this._months);this.quest_month_2.set("store",this._months);this.quest_month_3.set("store",this._months);this.quest_month_4.set("store",this._months);this.inherited(arguments);},load:function(_ced,_cee){this.outletid.set("value",_ced);this._objecttypeid=1;if(_cee==19){this._objecttypeid=4;}_ce6.post("/research/admin/reseach_details_get",_ce7.make_params({data:{outletid:_ced}})).then(this._load_call_back);},_load_call:function(_cef){if(_cef.success=="OK"){if(_cef.data.research!=null){this.outletid.set("value",_cef.data.research.outletid);this.surname.set("value",_cef.data.research.surname);this.firstname.set("value",_cef.data.research.firstname);this.prefix.set("value",_cef.data.research.prefix);this.email.set("value",_cef.data.research.email);this.researchfrequencyid.set("value",_cef.data.research.researchfrequencyid);this.notes.set("value",_cef.data.research.notes);this.job_title.set("value",_cef.data.research.job_title);this._show_months();this.last_questionaire_sent.set("value",_ce7.from_object_date_no_date(_cef.data.last_questionaire_sent));this.last_research_completed.set("value",_ce7.from_object_date_no_date(_cef.data.last_research_completed));_ceb.set(this.last_research_changed_date,"innerHTML",_cef.data.last_research_changed_date);_ceb.set(this.last_customer_questionaire_action,"innerHTML",_cef.data.last_customer_questionaire_action);_ceb.set(this.last_sync,"innerHTML",_cef.data.research.last_sync);this.italian_export.set("checked",_cef.data.research.italian_export);this.quest_month_1.set("value",_cef.data.research.quest_month_1==null?-1:_cef.data.research.quest_month_1);this.quest_month_2.set("value",_cef.data.research.quest_month_2==null?-1:_cef.data.research.quest_month_2);this.quest_month_3.set("value",_cef.data.research.quest_month_3==null?-1:_cef.data.research.quest_month_3);this.quest_month_4.set("value",_cef.data.research.quest_month_4==null?-1:_cef.data.research.quest_month_4);}else{this.clear();}this.savebtn.set("disabled",false);}},_show_months:function(){var tmp=this.researchfrequencyid.get("value");var _cf0=dojo.addClass;var _cf1=dojo.addClass;var _cf2=dojo.addClass;var _cf3=dojo.addClass;var _cf4=-1;var _cf5=-1;var _cf6=-1;var _cf7=-1;switch(tmp){case "1":break;case "5":_cf0=dojo.removeClass;_cf4=null;break;case "8":_cf0=dojo.removeClass;_cf1=dojo.removeClass;_cf4=null;_cf5=null;break;case "7":_cf0=dojo.removeClass;_cf1=dojo.removeClass;_cf2=dojo.removeClass;_cf4=null;_cf5=null;_cf6=null;break;default:_cf0=dojo.removeClass;_cf1=dojo.removeClass;_cf2=dojo.removeClass;_cf3=dojo.removeClass;_cf4=null;_cf5=null;_cf6=null;_cf7=null;break;}_cf0(this.quest_month_1_label,"prmaxhidden");_cf1(this.quest_month_2_label,"prmaxhidden");_cf2(this.quest_month_3_label,"prmaxhidden");_cf3(this.quest_month_4_label,"prmaxhidden");if(_cf4==-1){this.quest_month_1.set("value",-1);}if(_cf5==-1){this.quest_month_2.set("value",-1);}if(_cf6==-1){this.quest_month_3.set("value",-1);}if(_cf7==-1){this.quest_month_4.set("value",-1);}},clear:function(){this.surname.set("value","");this.firstname.set("value","");this.prefix.set("value","");this.email.set("value","");this.job_title.set("value","");this.researchfrequencyid.set("value",null);this.notes.set("value","");this.savebtn.set("disabled",true);this.last_questionaire_sent.set("value",null);this.last_research_completed.set("value",null);this.quest_month_1.set("value",-1);this.quest_month_2.set("value",-1);this.quest_month_3.set("value",-1);this.quest_month_4.set("value",-1);this._show_months();_ceb.set(this.last_research_changed_date,"innerHTML","");this.italian_export.set("checked",false);},_update:function(){if(_ce7.form_validator(this.form)==false){alert("Not all required field filled in");throw "N";}var tmp=this.form.get("value");tmp["last_research_completed"]=_ce7.to_json_date(this.last_research_completed.get("value"));tmp["last_questionaire_sent"]=_ce7.to_json_date(this.last_questionaire_sent.get("value"));_ce6.post("/research/admin/reseach_details_update",_ce7.make_params({data:tmp})).then(this._update_call_back);},_update_call:function(_cf8){if(_cf8.success=="OK"){alert("Research Details Updated");}else{alert("Update Research Details Failed");}this.savebtn.cancel();},_show_q_dlg:function(){this.qctrl.load(this.outletid.get("value"),this._objecttypeid,this.email.get("value"),this.firstname.get("value"),this.qdlg);},_preview:function(){_ceb.set(this.preview_objecttypeid,"value",this._objecttypeid);_ceb.set(this.preview_objectid,"value",this.outletid.get("value"));this.previewform.submit();},});});},"ttl/Form2":function(){define(["dojo/_base/declare","dijit/form/Form",],function(_cf9,Form){return _cf9("ttl.Form2",[Form],{formid:"",isValid:function(){return dojo.every(this.getChildren(),function(_cfa){var rest=!_cfa.isValid||_cfa.isValid();if(rest==false){if(_cfa.isFocusable()){_cfa.focus();}else{rest=true;}}return rest;});},setExtendedMode:function(_cfb){dojo.forEach(this.getChildren(),function(_cfc){if(!_cfc.name){return;}_cfc.set("extended",_cfb);});}});});},"prcommon2/date/DateExtended":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../date/templates/DateExtended.html","ttl/utilities2","dojo/json","dijit/form/TextBox","dijit/form/DateTextBox","dijit/form/CheckBox"],function(_cfd,_cfe,_cff,_d00,json){return _cfd("prcommon2.date.DateExtended",[_cfe],{name:"",value:"",required:false,templateString:_cff,postCreate:function(){this.date_box.set("value",new Date());},_get_data:function(){return json.stringify({text:"",date:_d00.to_json_date(this.date_box.get("value")),month:this.month_checkbox.get("value")});},_setValueAttr:function(_d01){if(_d01==null||_d01.date.year==null){this.date_box.set("value",(this.required)?new Date():null);this.month_checkbox.set("value",false);}else{if(_d01.date.year==null){this.date_box.set("value","");}else{this.date_box.set("value",new Date(_d01.date.year,_d01.date.month-1,_d01.date.day));}this.month_checkbox.set("value",_d01.month);}},_getValueAttr:function(){return this._get_data();},isValid:function(){var _d02=this.date_box.get("value");if(_d02==null&&this.required){return false;}else{return true;}},focus:function(){this.date_box.focus();},_getNameAttr:function(){return this.name;}});});},"prcommon2/roles/Roles":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../roles/templates/Roles.html","prcommon2/search/std_search","dojo/_base/lang","dojo/dom-attr","dojo/dom-class","dojo/dom-style","dojo/request","ttl/utilities2"],function(_d03,_d04,_d05,_d06,lang,_d07,_d08,_d09,_d0a,_d0b){return _d03("prcommon2.roles.Roles",[_d04,_d06],{templateString:_d05,name:"",value:"",size:"7",startopen:false,searchmode:false,widgetsInTemplate:true,selectonly:true,orderbtns:true,constructor:function(){this.disabled=false;this._extended=false;this._load_selection_call=lang.hitch(this,this._load_selection);this.selectTimer=null;},postCreate:function(){dojo.connect(this.interest_list_select.domNode,"onkeyup",lang.hitch(this,this.interest_select_event));dojo.connect(this.interest_list,"onchange",lang.hitch(this,this.interest_update_selection));dojo.connect(this.interest_list,"ondblclick",lang.hitch(this,this.interest_select_dbl));if(this.startopen){_d09.set(this.selectarea,"display","block");}else{_d09.set(this.selectarea,"display","none");}if(this.orderbtns==false){_d08.add(this.up.domNode,"prmaxhidden");_d08.add(this.down.domNode,"prmaxhidden");}this.inherited(arguments);},clear:function(){this._clear_selection_box();this._clear_selected_box();this.interest_list_select.set("value","");this._get_selector(this._getValueAttr());this._selection_options();this.inherited(arguments);},_send_request:function(data){var _d0c={word:data};_d0a.post("/roles/listuserselection",_d0b.make_params({data:_d0c})).then(this._load_selection_call);},interest_select_event:function(){var data=this.interest_list_select.get("value");if(data.length>0){if(this.selectTimer){clearTimeout(this.selectTimer);this.selectTimer=null;}this.selectTimer=setTimeout(dojo.hitch(this,this._send_request,data),this.searchTime);}else{if(this.selectTimer){clearTimeout(this.selectTimer);this.selectTimer=null;}this._ClearSelectionBox();this._SelectionOptions();}},_load_selection:function(_d0d){this._clear_selection_box();for(var i=0;i<_d0d.data.length;++i){var _d0e=_d0d.data[i];this.interest_list.options[this.interest_list.options.length]=new Option(_d0e[0],_d0e[1]);}this._selection_options();},_clear_selection_box:function(){this.interest_list.options.length=0;},_clear_selected_box:function(){this.interest_select.length=0;},interest_update_selection:function(){this._selection_options();},interest_select_dbl:function(){this.interest_select_single();this._selection_options();},interest_select_all:function(){for(var c=0;c<this.interest_list.options.length;c++){var _d0f=this.interest_list.options[c];var _d10=true;for(var c1=0;c1<this.interest_select.options.length;c1++){if(this.interest_select.options[c1].value==_d0f.value){_d10=false;break;}}if(_d10){this.interest_select.options[this.interest_select.options.length]=new Option(_d0f.text,_d0f.value);}}this._get_selector(this._getValueAttr());this.interest_list.options.length=0;this.interest_update_selection();},interest_select_single:function(){for(var c=0;c<this.interest_list.options.length;c++){var _d11=this.interest_list.options[c];if(_d11.selected){_d11.selected=false;var _d12=true;for(var c1=0;c1<this.interest_select.options.length;c1++){if(this.interest_select.options[c1].value==_d11.value){_d12=false;break;}}if(_d12){this.interest_select.options[this.interest_select.options.length]=new Option(_d11.text,_d11.value);this._get_selector(this._getValueAttr());}}}},interest_remove_all:function(){this.interest_select.options.length=0;this.interest_update_selection();this._get_selector(this._getValueAttr());},interest_remove_single:function(){for(var c=0;c<this.interest_select.options.length;c++){if(this.interest_select.options[c].selected){this.interest_select.options[c]=null;}}this.interest_update_selection();this._get_selector(this._getValueAttr());},add_select:function(data){rolename=data.rolename;this.interest_select.options[this.interest_select.options.length]=new Option(data.rolename,data.prmaxroleid);},_setValueAttr:function(_d13){this.clear();if(_d13!=null){var data=_d13.data;var open=false;if(data==null||data==undefined){data=_d13;}for(var key in data){var _d14=data[key];var _d15="rolename";if(_d14.rolename==undefined||_d14.rolename==null){_d15="prmaxrole";}this.interest_select.options[this.interest_select.options.length]=new Option(_d14[_d15],_d14.prmaxroleid);opne=true;}if(open){this.make_open();}this._get_selector(this._getValueAttr());}},_getValueAttr:function(){var data=Array();for(var c=0;c<this.interest_select.options.length;c++){if(this._extended){data[c]={interestid:parseInt(this.interest_select.options[c].value),interestname:this.interest_select.options[c].text};}else{data[c]=parseInt(this.interest_select.options[c].value);}}var obj=this._capture_extended_content({data:data});if(this._extended){return obj;}else{var data=data.length>0?dojo.toJson(obj):"";this.value=data;return data;}},_getCountAttr:function(){return this.interest_select.options.length;},_setExtendedAttr:function(_d16){this._extended=_d16;},change_filter:function(){this.interest_select();},_selection_options:function(){this.button_all.set("disabled",this.interest_list.length?false:true);this.button_single.set("disabled",this.interest_list.selectedIndex!=-1?false:true);this.button_del_all.set("disabled",this.interest_select.length?false:true);this.button_del_single.set("disabled",this.interest_select.selectedIndex!=-1?false:true);this._up_down();},_up_down:function(){var _d17=true;var _d18=true;if(this.interest_select.options.length>1&&this.interest_select.selectedIndex!=-1){if(this.interest_select.selectedIndex>0){_d17=false;}if(this.interest_select.selectedIndex<this.interest_select.options.length-1){_d18=false;}}this.up.set("disabled",_d17);this.down.set("disabled",_d18);},_up_button:function(){var _d19=this.interest_select.selectedIndex;if(_d19!=-1){var temp=this.interest_select.options[_d19];var _d1a=this.interest_select.options[_d19-1];this.interest_select.options[_d19-1]=new Option(temp.innerHTML,temp.value,true);this.interest_select.options[_d19]=new Option(_d1a.innerHTML,_d1a.value);this._up_down();}},_down_button:function(){var _d1b=this.interest_select.selectedIndex;if(_d1b!=-1){var temp=this.interest_select.options[_d1b];var _d1c=this.interest_select.options[_d1b+1];this.interest_select.options[_d1b+1]=new Option(temp.innerHTML,temp.value,true);this.interest_select.options[_d1b]=new Option(_d1c.innerHTML,_d1c.value);this._up_down();}},_capture_extended_content:function(data){var _d1d={logic:2};if(this.search_only.get("checked")){_d1d.search_only=true;}return dojo.mixin(data,_d1d);},_setDisabledAttr:function(_d1e){this.disabled=_d1e;},_getDisabledAttr:function(){return this.disabled;},_get_selector:function(){if(this.selectonly==false){this.inherited(arguments);}},_focus:function(){this.interest_list_select.focus();},_toggle:function(){this.inherited(arguments);}});});},"research/outlets/OutletDelete":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../outlets/templates/OutletDelete.html","dojo/request","ttl/utilities2","dojo/_base/lang","dojo/topic","dojo/dom-attr","dijit/layout/ContentPane","dijit/form/Button","dijit/form/TextBox","dijit/form/FilteringSelect","dijit/form/Form"],function(_d1f,_d20,_d21,_d22,_d23,lang,_d24,_d25){return _d1f("research.outlets.OutletEdit",[_d20],{templateString:_d21,constructor:function(){this._delete_call_back=lang.hitch(this,this._delete_call);this._error_call_back=lang.hitch(this,this._error_call);},postCreate:function(){this.reasoncodes.set("store",PRCOMMON.utils.stores.Research_Reason_Del_Codes());this.inherited(arguments);},_delete_submit:function(){if(_d23.form_validator(this.form)==false){alert("Not all required fields filled in");throw "N";}if(confirm("Delete Outlet "+_d25.get(this.heading,"innerHTML")+"?")){if(confirm("Delete Outlet are you sure?")){this.delete_btn.makeBusy();_d22.post("/research/admin/outlets/research_delete",_d23.make_params({data:this.form.get("value"),timeout:90000})).then(this._delete_call_back);}}},_delete_call:function(_d26){if(_d26.success=="OK"){_d24.publish(PRCOMMON.Events.Outlet_Deleted,_d26.data);alert("Outlet Deleted");this._dialog.hide();this.clear();}else{alert("Problem Deleteing Contact");}this.delete_btn.cancel();},clear:function(){this.outletid.set("value",-1);this.reasoncodes.set("value",null);_d25.set(this.heading,"innerHTML","");this.delete_btn.cancel();},load:function(_d27,_d28,_d29){this.outletid.set("value",_d27);_d25.set(this.heading,"innerHTML",_d28);this.reasoncodes.set("value",null);this._dialog=_d29;},_error_call:function(){alert("Taking time to delete please wait ");this.delete_btn.cancel();},});});},"prcommon2/search/std_search":function(){define(["dojo/_base/declare","dojo/request","ttl/utilities2","dojo/topic","dijit/registry","dojo/_base/lang","dojo/dom-style"],function(_d2a,_d2b,_d2c,_d2d,_d2e,lang,_d2f){return _d2a("prcommon2.search.std_search",null,{commoncontrols:"search",dojoAttachEvent:"",dojoAttachPoint:"",waiRole:"",waiState:"",name:"",value:"",keytypeid:"",displayname:"",testmode:false,usepartial:false,search:"",min:0,searchTime:400,dointeractive:true,constructor:function(){this._load_call_back=lang.hitch(this,this._load_call);this._value="";this._extended=false;this.open=false;this.searchTimer=null;_d2d.subscribe(PRCOMMON.Events.Search_PartialMatch,lang.hitch(this,this._partial_event));},_partial_event:function(_d30){if(this.usepartial&&_d30.search==this.search&&this._value.length>0){this._get_selector(this._value,true);}},_setdisplay:function(_d31){if(_d31.length==0){this.countnode.clear();}else{this.countnode.set("value",_d31);}},_load_call:function(_d32,_d33){if(_d32.success=="OK"){if(this._transactionid==_d32.transactionid){this._setdisplay(_d32.count.toString());}}},_send_request_count:function(_d34){if(this.dointeractive){var _d35=this._capture_extended_content({keytypeid:this.keytypeid,fieldname:this.name,value:this._value});this._transactionid=PRCOMMON.utils.uuid.createUUID();_d35["transactionid"]=this._transactionid;_d2b.post("/search/displaycount",_d2c.make_params_ignore({data:_d35})).then(this._load_call_back);}this.searchTimer=null;},_get_selector:function(_d36,_d37){if(this._value==_d36&&_d37!=true){return;}this._value=_d36;if(this._value.length>this.min){if(this.searchTimer){clearTimeout(this.searchTimer);this.searchTimer=null;}this.searchTimer=setTimeout(lang.hitch(this,this._send_request_count,_d36),this.searchTime);}else{this._setdisplay("");}_d2d.publish(PRCOMMON.Events.Search_Total,{search:this.search});},_capture_extended_content:function(_d38){var _d39=_d2e.byId("search_partial");var _d3a=_d2e.byId(this.commoncontrols+"private");try{return dojo.mixin(_d38,{partial:_d39?_d39.checked?2:0:2,private_only:_d3a?_d3a.attr("value"):0});}catch(e){alert(e);}},_setExtendedAttr:function(_d3b){this._extended=_d3b;},_getExtendedAttr:function(){return this._extended;},_toggle:function(){this.open=!this.open;this._toggle_cascade();},_toggle_cascade:function(){_d2f.set(this.selectarea,"display",this.open?"block":"none");this.togglectrl.src=this.open?"/prmax_common_s/images/toclosed.gif":"/prmax_common_s/images/toopen.gif";if(this.open){this._focus();}},clear:function(){this._make_closed();if(this.searchTimer){clearTimeout(this.searchTimer);this.searchTimer=null;}},_make_closed:function(){if(this.open==true){this._toggle();}},make_open:function(){this.open=false;this._toggle();}});});},"research/translations/translatefrequency":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../translations/templates/translatefrequency.html","dojo/request","ttl/utilities2","dojo/_base/lang","dojo/data/ItemFileReadStore","dijit/form/ValidationTextBox"],function(_d3c,_d3d,_d3e,_d3f,_d40,lang,_d41){return _d3c("research.translations.translatefrequency",[_d3d],{templateString:_d3e,gutters:false,constructor:function(){this._load_details_call_back=lang.hitch(this,this._load_details_call);this._update_translation_call_back=lang.hitch(this,this._update_translation_call);this._frequencies=new _d41({url:"/common/lookups?searchtype=frequencies&nofilter=1"});},postCreate:function(){this.frequencyid.set("store",this._frequencies);this.inherited(arguments);},load:function(_d42,_d43){this._show_func=_d43;this.datasourcetranslationid.set("value",_d42);_d3f.post("/research/international/translation/get_record",_d40.make_params({data:{datasourcetranslationid:_d42}})).then(this._load_details_call_back);},_load_details_call:function(_d44){if(_d44.success=="OK"){this.frequencyid.set("value",_d44.data.translation);this._show_func("frequency");}},_update_translation:function(){if(_d40.form_validator(this.form)==false){alert("Not all required fields filled in");throw "N";}_d3f.post("/research/international/translation/update",_d40.make_params({data:this.form.get("value")})).then(this._update_translation_call_back);},_update_translation_call:function(_d45){if(_d45.success=="OK"){this._show_func("frequency",_d45.data);}}});});},"dojo/store/Cache":function(){define(["../_base/lang","../when"],function(lang,when){var _d46=function(_d47,_d48,_d49){_d49=_d49||{};return lang.delegate(_d47,{query:function(_d4a,_d4b){var _d4c=_d47.query(_d4a,_d4b);_d4c.forEach(function(_d4d){if(!_d49.isLoaded||_d49.isLoaded(_d4d)){_d48.put(_d4d);}});return _d4c;},queryEngine:_d47.queryEngine||_d48.queryEngine,get:function(id,_d4e){return when(_d48.get(id),function(_d4f){return _d4f||when(_d47.get(id,_d4e),function(_d50){if(_d50){_d48.put(_d50,{id:id});}return _d50;});});},add:function(_d51,_d52){return when(_d47.add(_d51,_d52),function(_d53){_d48.add(_d53&&typeof _d53=="object"?_d53:_d51,_d52);return _d53;});},put:function(_d54,_d55){_d48.remove((_d55&&_d55.id)||this.getIdentity(_d54));return when(_d47.put(_d54,_d55),function(_d56){_d48.put(_d56&&typeof _d56=="object"?_d56:_d54,_d55);return _d56;});},remove:function(id,_d57){return when(_d47.remove(id,_d57),function(_d58){return _d48.remove(id,_d57);});},evict:function(id){return _d48.remove(id);}});};lang.setObject("dojo.store.Cache",_d46);return _d46;});},"dojo/data/util/simpleFetch":function(){define(["../../_base/lang","../../_base/kernel","./sorter"],function(lang,_d59,_d5a){var _d5b={};lang.setObject("dojo.data.util.simpleFetch",_d5b);_d5b.errorHandler=function(_d5c,_d5d){if(_d5d.onError){var _d5e=_d5d.scope||_d59.global;_d5d.onError.call(_d5e,_d5c,_d5d);}};_d5b.fetchHandler=function(_d5f,_d60){var _d61=_d60.abort||null,_d62=false,_d63=_d60.start?_d60.start:0,_d64=(_d60.count&&(_d60.count!==Infinity))?(_d63+_d60.count):_d5f.length;_d60.abort=function(){_d62=true;if(_d61){_d61.call(_d60);}};var _d65=_d60.scope||_d59.global;if(!_d60.store){_d60.store=this;}if(_d60.onBegin){_d60.onBegin.call(_d65,_d5f.length,_d60);}if(_d60.sort){_d5f.sort(_d5a.createSortFunction(_d60.sort,this));}if(_d60.onItem){for(var i=_d63;(i<_d5f.length)&&(i<_d64);++i){var item=_d5f[i];if(!_d62){_d60.onItem.call(_d65,item,_d60);}}}if(_d60.onComplete&&!_d62){var _d66=null;if(!_d60.onItem){_d66=_d5f.slice(_d63,_d64);}_d60.onComplete.call(_d65,_d66,_d60);}};_d5b.fetch=function(_d67){_d67=_d67||{};if(!_d67.store){_d67.store=this;}this._fetchItems(_d67,lang.hitch(this,"fetchHandler"),lang.hitch(this,"errorHandler"));return _d67;};return _d5b;});},"prcommon2/search/SearchCount":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../search/templates/SearchCount.html"],function(_d68,_d69,_d6a){return _d68("prcommon2.search.SearchCount",[_d69],{templateString:_d6a,clear:function(){this.innerNode.innerHTML="&nbsp;";},_getValueAttr:function(){return this.innerNode.innerHTML;},_setValueAttr:function(_d6b){this.innerNode.innerHTML=_d6b;}});});},"ttl/store/TtlQueryResults":function(){define([],function(){var _d6c=function(_d6d){return _d6d;};return _d6c;});},"dijit/_CssStateMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-class","dojo/has","dojo/_base/lang","dojo/on","dojo/domReady","dojo/touch","dojo/_base/window","./a11yclick","./registry"],function(_d6e,_d6f,dom,_d70,has,lang,on,_d71,_d72,win,_d73,_d74){var _d75=_d6f("dijit._CssStateMixin",[],{hovering:false,active:false,_applyAttributes:function(){this.inherited(arguments);_d6e.forEach(["disabled","readOnly","checked","selected","focused","state","hovering","active","_opened"],function(attr){this.watch(attr,lang.hitch(this,"_setStateClass"));},this);for(var ap in this.cssStateNodes||{}){this._trackMouseState(this[ap],this.cssStateNodes[ap]);}this._trackMouseState(this.domNode,this.baseClass);this._setStateClass();},_cssMouseEvent:function(_d76){if(!this.disabled){switch(_d76.type){case "mouseover":case "MSPointerOver":case "pointerover":this._set("hovering",true);this._set("active",this._mouseDown);break;case "mouseout":case "MSPointerOut":case "pointerout":this._set("hovering",false);this._set("active",false);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":this._set("active",true);break;case "mouseup":case "dojotouchend":case "MSPointerUp":case "pointerup":case "keyup":this._set("active",false);break;}}},_setStateClass:function(){var _d77=this.baseClass.split(" ");function _d78(_d79){_d77=_d77.concat(_d6e.map(_d77,function(c){return c+_d79;}),"dijit"+_d79);};if(!this.isLeftToRight()){_d78("Rtl");}var _d7a=this.checked=="mixed"?"Mixed":(this.checked?"Checked":"");if(this.checked){_d78(_d7a);}if(this.state){_d78(this.state);}if(this.selected){_d78("Selected");}if(this._opened){_d78("Opened");}if(this.disabled){_d78("Disabled");}else{if(this.readOnly){_d78("ReadOnly");}else{if(this.active){_d78("Active");}else{if(this.hovering){_d78("Hover");}}}}if(this.focused){_d78("Focused");}var tn=this.stateNode||this.domNode,_d7b={};_d6e.forEach(tn.className.split(" "),function(c){_d7b[c]=true;});if("_stateClasses" in this){_d6e.forEach(this._stateClasses,function(c){delete _d7b[c];});}_d6e.forEach(_d77,function(c){_d7b[c]=true;});var _d7c=[];for(var c in _d7b){_d7c.push(c);}tn.className=_d7c.join(" ");this._stateClasses=_d77;},_subnodeCssMouseEvent:function(node,_d7d,evt){if(this.disabled||this.readOnly){return;}function _d7e(_d7f){_d70.toggle(node,_d7d+"Hover",_d7f);};function _d80(_d81){_d70.toggle(node,_d7d+"Active",_d81);};function _d82(_d83){_d70.toggle(node,_d7d+"Focused",_d83);};switch(evt.type){case "mouseover":case "MSPointerOver":case "pointerover":_d7e(true);break;case "mouseout":case "MSPointerOut":case "pointerout":_d7e(false);_d80(false);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":_d80(true);break;case "mouseup":case "MSPointerUp":case "pointerup":case "dojotouchend":case "keyup":_d80(false);break;case "focus":case "focusin":_d82(true);break;case "blur":case "focusout":_d82(false);break;}},_trackMouseState:function(node,_d84){node._cssState=_d84;}});_d71(function(){function _d85(evt,_d86,_d87){if(_d87&&dom.isDescendant(_d87,_d86)){return;}for(var node=_d86;node&&node!=_d87;node=node.parentNode){if(node._cssState){var _d88=_d74.getEnclosingWidget(node);if(_d88){if(node==_d88.domNode){_d88._cssMouseEvent(evt);}else{_d88._subnodeCssMouseEvent(node,node._cssState,evt);}}}}};var body=win.body(),_d89;on(body,_d72.over,function(evt){_d85(evt,evt.target,evt.relatedTarget);});on(body,_d72.out,function(evt){_d85(evt,evt.target,evt.relatedTarget);});on(body,_d73.press,function(evt){_d89=evt.target;_d85(evt,_d89);});on(body,_d73.release,function(evt){_d85(evt,_d89);_d89=null;});on(body,"focusin, focusout",function(evt){var node=evt.target;if(node._cssState&&!node.getAttribute("widgetId")){var _d8a=_d74.getEnclosingWidget(node);if(_d8a){_d8a._subnodeCssMouseEvent(node,node._cssState,evt);}}});});return _d75;});},"dgrid/TouchScroll":function(){define(["dojo/_base/declare","dojo/on","./util/touch","./util/has-css3","put-selector/put","xstyle/css!./css/TouchScroll.css"],function(_d8b,on,_d8c,has,put){var _d8d=50,_d8e=30,_d8f={},_d90={},_d91=1,_d92=8,_d93=/^translate(?:3d)?\((-?\d+)(?:\.\d*)?(?:px)?, (-?\d+)/,_d94=/^matrix\(1, 0, 0, 1, (-?\d+)(?:\.\d*)?(?:px)?, (-?\d+)/,_d95=has("css-transitions"),_d96=has("transitionend"),_d97=has("css-transforms"),_d98=has("css-transforms3d"),_d99,_d9a,_d9b,_d9c,_d9d;if(_d98){_d9c="translate3d(";_d9d=",0)";}else{if(_d97){_d9c="translate(";_d9d=")";}}if(!_d95||!_d9c){return function(){};}_d9b=_d98||_d97;_d9b=_d9b===true?"transform":_d9b+"Transform";_d9a=_d95===true?"transition":_d95+"Transition";_d99=_d97===true?"":"-"+_d97.toLowerCase()+"-";function _d9e(_d9f,curr){var node=_d9f.touchNode,_da0=node.parentNode,_da1=_da0.offsetWidth-_d92,_da2=_da0.offsetHeight-_d92,_da3=curr.scrollWidth=node.scrollWidth,_da4=curr.scrollHeight=node.scrollHeight,_da5=curr.parentWidth=_da0.offsetWidth,_da6=curr.parentHeight=_da0.offsetHeight,_da7;if(_da3>_da5){if(!_d9f._scrollbarXNode){_da7=put(_da0,"div.touchscroll-x");}_da7=_d9f._scrollbarXNode=_d9f._scrollbarXNode||put(_da7,"div.touchscroll-bar");_da7.style.width=_da1*_da1/_da3+"px";_da7.style.left=node.offsetLeft+"px";put(_da0,".touchscroll-scrollable-x");curr.scrollableX=true;}else{put(_da0,"!touchscroll-scrollable-x");}if(_da4>_da6){if(!_d9f._scrollbarYNode){_da7=put(_da0,"div.touchscroll-y");}_da7=_d9f._scrollbarYNode=_d9f._scrollbarYNode||put(_da7,"div.touchscroll-bar");_da7.style.height=_da2*_da2/_da4+"px";_da7.style.top=node.offsetTop+"px";put(_da0,".touchscroll-scrollable-y");curr.scrollableY=true;}else{put(_da0,"!touchscroll-scrollable-y");}put(_da0,"!touchscroll-fadeout");};function _da8(_da9,_daa){var node=_da9.touchNode,curr=_d8f[_da9.id],pos,hasX,hasY,x,y;if(typeof _daa!=="object"){x=_daa;y=arguments[2];_daa=arguments[3];hasX=hasY=true;}else{hasX="x" in _daa;hasY="y" in _daa;if(!hasX||!hasY){pos=_da9.getScrollPosition();}x=hasX?_daa.x:pos.x;y=hasY?_daa.y:pos.y;}node.style[_d9b]=_d9c+-x+"px,"+-y+"px"+_d9d;if(curr&&hasX&&_da9._scrollbarXNode){_da9._scrollbarXNode.style[_d9b]=_d9c+(x*curr.parentWidth/curr.scrollWidth)+"px,0"+_d9d;}if(curr&&hasY&&_da9._scrollbarYNode){_da9._scrollbarYNode.style[_d9b]=_d9c+"0,"+(y*curr.parentHeight/curr.scrollHeight)+"px"+_d9d;}on.emit(_da9.touchNode.parentNode,"scroll",{scrollLeft:x,scrollTop:y});};function _dab(_dac){if(_d8f[_dac.id]){return _d94.exec(window.getComputedStyle(_dac.touchNode)[_d9b]);}return _d93.exec(_dac.touchNode.style[_d9b]);};function _dad(_dae){var _daf=this.widget,_db0=[this.node,_daf._scrollbarXNode,_daf._scrollbarYNode],i=_db0.length;if(this.timer){clearTimeout(this.timer);this.timer=null;}if(this.transitionHandler){this.transitionHandler.remove();}while(i--){if(_db0[i]){_db0[i].style[_d9a+"Duration"]="0";}}if(!_dae||!_dae.preserveScrollbars){put(this.node.parentNode,".touchscroll-fadeout");}delete this.resetEffects;};function _db1(evt){var _db2=evt.widget,node=_db2.touchNode,id=_db2.id,posX=0,posY=0,_db3,_db4,curr;if(_d8c.countCurrentTouches(evt,node)!==_db2.touchesToScroll){return;}_db4=_dab(_db2);if(_db4){posX=+_db4[1];posY=+_db4[2];}if((curr=_d8f[id])){if(curr.resetEffects){curr.resetEffects({preserveScrollbars:true});}node.style[_d9b]=_d9c+posX+"px,"+posY+"px"+_d9d;_d90[id]=curr;}_db3=evt.targetTouches[0];curr=_d8f[id]={widget:_db2,node:node,startX:posX-_db3.pageX,startY:posY-_db3.pageY,lastX:posX,lastY:posY,pageX:_db3.pageX,pageY:_db3.pageY,tickFunc:function(){_db5(id);}};curr.timer=setTimeout(curr.tickFunc,_d8d);};function _db6(evt){var _db7=evt.widget,id=_db7.id,_db8=_db7.touchesToScroll,curr=_d8f[id],_db9,_dba,_dbb,nx,ny,minX,minY,i;if(!curr||(_db9=_d8c.countCurrentTouches(evt,_db7.touchNode))!==_db8){if(_db9>_db8){_db7.cancelTouchScroll();}return;}_dba=evt.targetTouches;_dbb=_dba[0];if(!curr.scrollbarsShown){if(_d90[id]||(Math.abs(_dbb.pageX-curr.pageX)>_db7.scrollThreshold||Math.abs(_dbb.pageY-curr.pageY)>_db7.scrollThreshold)){_d9e(_db7,curr);curr.scrollbarsShown=true;for(i=_dba.length;i--;){_dba[i].touchScrolled=true;}}}if(curr.scrollbarsShown&&(curr.scrollableX||curr.scrollableY)){evt.preventDefault();nx=curr.scrollableX?curr.startX+_dbb.pageX:0;ny=curr.scrollableY?curr.startY+_dbb.pageY:0;minX=curr.scrollableX?-(curr.scrollWidth-curr.parentWidth):0;minY=curr.scrollableY?-(curr.scrollHeight-curr.parentHeight):0;if(nx>0){nx=nx/2;}else{if(nx<minX){nx=minX-(minX-nx)/2;}}if(ny>0){ny=ny/2;}else{if(ny<minY){ny=minY-(minY-ny)/2;}}_da8(_db7,-nx,-ny);}};function _dbc(evt){var _dbd=evt.widget,id=_dbd.id,curr=_d8f[id];if(!curr||_d8c.countCurrentTouches(evt,_dbd.touchNode)!=_dbd.touchesToScroll-1){return;}_dbe(id);};function _db5(id){var curr=_d8f[id],node,_dbf,x,y;if(!curr){return;}node=curr.node;_dbf=_d93.exec(node.style[_d9b]);if(_dbf){x=+_dbf[1];y=+_dbf[2];curr.velX=x-curr.lastX;curr.velY=y-curr.lastY;curr.lastX=x;curr.lastY=y;}else{curr.lastX=curr.lastY=0;}curr.timer=setTimeout(curr.tickFunc,_d8d);};function _dc0(id,_dc1,_dc2){var curr=_d8f[id],_dc3=curr.widget,node=curr.node,_dc4,x=curr.scrollableX?Math.max(Math.min(0,_dc1),-(curr.scrollWidth-curr.parentWidth)):_dc1,y=curr.scrollableY?Math.max(Math.min(0,_dc2),-(curr.scrollHeight-curr.parentHeight)):_dc2;function end(){delete curr.transitionHandler;curr.resetEffects();delete _d8f[id];};delete curr.timer;if(x!=_dc1||y!=_dc2){curr.transitionHandler=on.once(node,_d96,end);node.style[_d9a+"Duration"]=_dc3.bounceDuration+"ms";node.style[_d9b]=_d9c+x+"px,"+y+"px"+_d9d;if(x!=_dc1&&curr.scrollableX){_dc4=curr.widget._scrollbarXNode;_dc4.style[_d9a+"Duration"]=_dc3.bounceDuration+"ms";if(_dc1>x){_dc4.style[_d9b]=_d9c+"0,0"+_d9d;}else{_dc4.style[_d9b]=_d9c+(_dc4.parentNode.offsetWidth-_dc4.offsetWidth)+"px,0"+_d9d;}}if(y!=_dc2&&curr.scrollableY){_dc4=curr.widget._scrollbarYNode;_dc4.style[_d9a+"Duration"]=_dc3.bounceDuration+"ms";if(_dc2>y){_dc4.style[_d9b]=_d9c+"0,0"+_d9d;}else{_dc4.style[_d9b]=_d9c+"0,"+(_dc4.parentNode.offsetHeight-_dc4.offsetHeight)+"px"+_d9d;}}}else{end();}};function _dbe(id){var curr=_d8f[id],prev=_d90[id],_dc5,posX,posY,_dc6=1.15;delete _d90[id];if(curr.timer){clearTimeout(curr.timer);}curr.resetEffects=_dad;_dc5=_d93.exec(curr.node.style[_d9b]);if(_dc5){posX=+_dc5[1];posY=+_dc5[2];}else{posX=posY=0;}if((!curr.velX&&!curr.velY)||((posX>=0||posX<=-(curr.scrollWidth-curr.parentWidth))&&(posY>=0||posY<=-(curr.scrollHeight-curr.parentHeight)))){_dc0(id,posX,posY);return;}function _dc7(a,b){return ((a.velX<=0&&b.velX<=0)||(a.velX>=0&&b.velX>=0))&&((a.velY<=0&&b.velY<=0)||(a.velY>=0&&b.velY>=0));};if(prev&&(prev.velX||prev.velY)&&_dc7(curr,prev)){curr.velX=(curr.velX+prev.velX)*_dc6;curr.velY=(curr.velY+prev.velY)*_dc6;}curr.lastX=posX;curr.lastY=posY;curr.calcFunc=function(){_dc8(id);};curr.timer=setTimeout(curr.calcFunc,_d8e);};function _dc8(id){var curr=_d8f[id],node,_dc9,_dca,i,nx,ny,nvx,nvy,_dcb=6;if(!curr){return;}node=curr.node;_dc9=node.parentNode;_dca=curr.widget;nvx=_dca.glideDecel(curr.velX);nvy=_dca.glideDecel(curr.velY);if(Math.abs(nvx)>=_d91||Math.abs(nvy)>=_d91){nx=curr.lastX+nvx;ny=curr.lastY+nvy;if(nx>0||nx<-(curr.scrollWidth-curr.parentWidth)){for(i=_dcb;i--;){nvx=_dca.glideDecel(nvx);}}if(ny>0||ny<-(curr.scrollHeight-curr.parentHeight)){for(i=_dcb;i--;){nvy=_dca.glideDecel(nvy);}}_da8(_dca,-nx,-ny);curr.lastX=nx;curr.lastY=ny;curr.velX=nvx;curr.velY=nvy;curr.timer=setTimeout(curr.calcFunc,_d8e);}else{_dc0(id,curr.lastX,curr.lastY);}};return _d8b(null,{touchesToScroll:1,touchNode:null,scrollThreshold:10,bounceDuration:300,postCreate:function(){this._initTouch();this.inherited(arguments);},_initTouch:function(){var node=this.touchNode=this.touchNode||this.containerNode,_dcc=this,_dcd;if(!node||!node.parentNode){return;}_dcd=node.parentNode;_dcd.style.overflow="hidden";node.style[_d9a+"Property"]=_d99+"transform";node.style[_d9a+"TimingFunction"]="cubic-bezier(0.33, 0.66, 0.66, 1)";function _dce(){_dcc.cancelTouchScroll();};function _dcf(func){return function(evt){evt.widget=_dcc;evt.cancelTouchScroll=_dce;func.call(this,evt);};};this._touchScrollListeners=[on(_dcd,"touchstart",_dcf(_db1)),on(_dcd,"touchmove",_dcf(_db6)),on(_dcd,"touchend,touchcancel",_dcf(_dbc))];},destroy:function(){var i=this._touchScrollListeners.length;while(i--){this._touchScrollListeners[i].remove();}delete _d8f[this.id];this.inherited(arguments);},scrollTo:function(_dd0){var curr=_d8f[this.id],_dd1=this.touchNode,_dd2=_dd1.parentNode;if(!_dd0.preserveMomentum&&curr&&curr.resetEffects){curr.resetEffects();}if(_dd0.x){_dd0.x=Math.max(0,Math.min(_dd0.x,_dd1.scrollWidth-_dd2.offsetWidth));}if(_dd0.y){_dd0.y=Math.max(0,Math.min(_dd0.y,_dd1.scrollHeight-_dd2.offsetHeight));}_da8(this,_dd0);},getScrollPosition:function(){var _dd3=_dab(this);return _dd3?{x:-_dd3[1],y:-_dd3[2]}:{x:0,y:0};},cancelTouchScroll:function(){var curr=_d8f[this.id];if(!curr){return;}if(curr.resetEffects){curr.resetEffects();}else{if(curr.timer){clearTimeout(curr.timer);}put(curr.node.parentNode,".touchscroll-fadeout");}delete _d8f[this.id];},glideDecel:function(n){return n*0.9;}});});},"research/projects/create":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../projects/templates/create.html","dijit/layout/BorderContainer","dojo/request","ttl/utilities2","dojo/json","dojo/topic","dojo/_base/lang","dojo/data/ItemFileReadStore","ttl/grid/Grid","ttl/store/JsonRest","dojo/store/Observable","dojo/date","dojo/dom-class","dijit/layout/ContentPane","dijit/Toolbar","dijit/form/DateTextBox","prcommon2/search/OutletSearch","prcommon2/search/FreelanceSearch"],function(_dd4,_dd5,_dd6,_dd7,_dd8,_dd9,json,_dda,lang,_ddb,Grid,_ddc,_ddd,_dde,_ddf){return _dd4("research.projects.create",[_dd5,_dd7],{templateString:_dd6,gutters:true,constructor:function(){this._load_call_back=lang.hitch(this,this._load_call);this._add_call_back=lang.hitch(this,this._add_call);this._clear_search_call_back=lang.hitch(this,this._clear_search_call);this._search_monthly_call_back=lang.hitch(this,this._search_monthly_call);this._delete_search_row_call_back=lang.hitch(this,this._delete_search_row_call);this._users=new _ddb({url:"/common/lookups?searchtype=users&group=dataadmin&nofilter"});this.model=new _ddd(new _ddc({target:"/search/list_rest?searchtypeid=5&research=1",idProperty:"sessionsearchid"}));this._months=new dojo.data.ItemFileReadStore({url:"/common/lookups?searchtype=months"});},postCreate:function(){this.inherited(arguments);this.iuserid.set("store",this._users);this.iuserid.set("value",-1);this.startdate.set("value",new Date());this.questionnaire_completion.set("value",_dde.add(new Date(),"month",1));this.month.set("store",this._months);this.month.set("value",1);var _de0=[{label:"  ",className:"grid-field-image-view",field:"sessionsearchid",formatter:_dd9.format_row_ctrl},{label:"Name",className:"standard",field:"outletname"},{label:"Contact",className:"standard",field:"contactname"},{label:"Desk",className:"standard",field:"deskname"},{label:"Source",className:"dgrid-column-type-small",field:"sourcename"},{label:"Id",className:"dgrid-column-nbr-right",field:"outletid"}];this.grid=new Grid({columns:_de0,selectionMode:"none",store:this.model});this.grid_view.set("content",this.grid);this.grid.on(".dgrid-row:click",lang.hitch(this,this._on_cell_call));},_on_cell_call:function(e){var cell=this.grid.cell(e);if(cell.column.id=="0"){if(confirm("Remove from results?")){_dd8.post("/search/delete_session_row",_dd9.make_params({data:{searchtypeid:5,sessionsearchid:cell.row.data.sessionsearchid}})).then(this._delete_search_row_call_back);}}},_delete_search_row_call:function(_de1){if(_de1.success=="OK"){this.model.remove(_de1.sessionsearchid);}},_clear_search_call:function(_de2){this.grid.set("query",{});},_clear_search:function(){_dd8.post("/search/sessionclear",_dd9.make_params({data:{searchtypeid:5}})).then(this._clear_search_call_back);},_clear_search_results:function(_de3){if(_de3.success=="OK"){this._load_call();}},_is_empty:function(_de4){var _de5=_de4["search_type"];for(var item in _de4){if(item.indexOf(_de5)!=-1){if(_de4[item].length!=0){return false;}}}return true;},_get_form:function(){var form=null;dojo.every(this.search_tabcont.selectedChildWidget.getChildren(),function(_de6){if(_de6.formid!=null){form=_de6;}});return form;},_search:function(){var form=this._get_form();form.setExtendedMode(false);var _de7=form.get("value");_de7["mode"]=0;_de7["search_partial"]=2;_de7["searchtypeid"]=5;_dd8.post("/search/dosearch",_dd9.make_params({data:_de7})).then(this._load_call_back);},_load_call:function(_de8){this.searchbutton.cancel();this.grid.set("query",{});},_clear:function(){this.grid.set("query",{});this.iuserid.set("value",-1);this.researchprojectname.set("value","");this.startdate.set("value",new Date());this.questionnaire_completion.set("value",_dde.add(new Date(),"month",1));this.ismonthly.set("checked",false);this.researchprojectname.focus();},_add_call:function(_de9){if(_de9.success=="OK"){alert("Project Added");_dda.publish("/project/add",_de9.data);this._clear();}else{if(_de9.success=="DU"){alert("Project Already Exists");this.researchprojectname.focus();}else{alert("Problem adding Project");this.researchprojectname.focus();}}},_create:function(){if(_dd9.form_validator(this.form)==false){alert("Not all required field filled in");this.searchbutton.cancel();throw "N";}var tmp=this.form.get("value");if(this.ismonthly.get("checked")){tmp["startdate"]=_dd9.to_json_date(this.startdate.get("value"));}tmp["questionnaire_completion"]=_dd9.to_json_date(this.questionnaire_completion.get("value"));if(confirm("Add Project")){_dd8.post("/research/admin/projects/projects_add",_dd9.make_params({data:tmp})).then(this._add_call_back);}},_search_monthly:function(){_dd8.post("/research/admin/projects/generate_monthly",_dd9.make_params({data:{month:this.month.get("value")}})).then(this._search_monthly_call_back);},_search_monthly_call:function(_dea){if(_dea.success=="OK"){this.ismonthly.set("checked",true);this.iuserid.set("value",-1);var _deb=new Date();this.researchprojectname.set("value","Monthly Build "+_deb.getDate()+"/"+(_deb.getMonth()+1)+"/"+(_deb.getFullYear()-2000));this._load_call(_dea);}else{alert("Problem Building");}},_clear_search_criteria:function(){this.search_tab_outlet.clear();this.search_tab_freelance.clear();},_is_monthly:function(){if(this.ismonthly.get("checked")){_ddf.remove(this.start_date_view,"prmaxhidden");this.startdate.set("required",true);}else{_ddf.add(this.start_date_view,"prmaxhidden");this.startdate.set("required",false);}}});});},"dijit/form/FilteringSelect":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/when","./MappedTextBox","./ComboBoxMixin"],function(_dec,lang,when,_ded,_dee){return _dec("dijit.form.FilteringSelect",[_ded,_dee],{required:true,_lastDisplayedValue:"",_isValidSubset:function(){return this._opened;},isValid:function(){return !!this.item||(!this.required&&this.get("displayedValue")=="");},_refreshState:function(){if(!this.searchTimer){this.inherited(arguments);}},_callbackSetLabel:function(_def,_df0,_df1,_df2){if((_df0&&_df0[this.searchAttr]!==this._lastQuery)||(!_df0&&_def.length&&this.store.getIdentity(_def[0])!=this._lastQuery)){return;}if(!_def.length){this.set("value","",_df2||(_df2===undefined&&!this.focused),this.textbox.value,null);}else{this.set("item",_def[0],_df2);}},_openResultList:function(_df3,_df4,_df5){if(_df4[this.searchAttr]!==this._lastQuery){return;}this.inherited(arguments);if(this.item===undefined){this.validate(true);}},_getValueAttr:function(){return this.valueNode.value;},_getValueField:function(){return "value";},_setValueAttr:function(_df6,_df7,_df8,item){if(!this._onChangeActive){_df7=null;}if(item===undefined){if(_df6===null||_df6===""){_df6="";if(!lang.isString(_df8)){this._setDisplayedValueAttr(_df8||"",_df7);return;}}var self=this;this._lastQuery=_df6;when(this.store.get(_df6),function(item){self._callbackSetLabel(item?[item]:[],undefined,undefined,_df7);});}else{this.valueNode.value=_df6;this.inherited(arguments,[_df6,_df7,_df8,item]);}},_setItemAttr:function(item,_df9,_dfa){this.inherited(arguments);this._lastDisplayedValue=this.textbox.value;},_getDisplayQueryString:function(text){return text.replace(/([\\\*\?])/g,"\\$1");},_setDisplayedValueAttr:function(_dfb,_dfc){if(_dfb==null){_dfb="";}if(!this._created){if(!("displayedValue" in this.params)){return;}_dfc=false;}if(this.store){this.closeDropDown();var _dfd=lang.clone(this.query);var qs=this._getDisplayQueryString(_dfb),q;if(this.store._oldAPI){q=qs;}else{q=this._patternToRegExp(qs);q.toString=function(){return qs;};}this._lastQuery=_dfd[this.searchAttr]=q;this.textbox.value=_dfb;this._lastDisplayedValue=_dfb;this._set("displayedValue",_dfb);var _dfe=this;var _dff={queryOptions:{ignoreCase:this.ignoreCase,deep:true}};lang.mixin(_dff,this.fetchProperties);this._fetchHandle=this.store.query(_dfd,_dff);when(this._fetchHandle,function(_e00){_dfe._fetchHandle=null;_dfe._callbackSetLabel(_e00||[],_dfd,_dff,_dfc);},function(err){_dfe._fetchHandle=null;if(!_dfe._cancelingQuery){}});}},undo:function(){this.set("displayedValue",this._lastDisplayedValue);}});});},"dojo/cookie":function(){define(["./_base/kernel","./regexp"],function(dojo,_e01){dojo.cookie=function(name,_e02,_e03){var c=document.cookie,ret;if(arguments.length==1){var _e04=c.match(new RegExp("(?:^|; )"+_e01.escapeString(name)+"=([^;]*)"));ret=_e04?decodeURIComponent(_e04[1]):undefined;}else{_e03=_e03||{};var exp=_e03.expires;if(typeof exp=="number"){var d=new Date();d.setTime(d.getTime()+exp*24*60*60*1000);exp=_e03.expires=d;}if(exp&&exp.toUTCString){_e03.expires=exp.toUTCString();}_e02=encodeURIComponent(_e02);var _e05=name+"="+_e02,_e06;for(_e06 in _e03){_e05+="; "+_e06;var _e07=_e03[_e06];if(_e07!==true){_e05+="="+_e07;}}document.cookie=_e05;}return ret;};dojo.cookie.isSupported=function(){if(!("cookieEnabled" in navigator)){this("__djCookieTest__","CookiesAllowed");navigator.cookieEnabled=this("__djCookieTest__")=="CookiesAllowed";if(navigator.cookieEnabled){this("__djCookieTest__","",{expires:-1});}}return navigator.cookieEnabled;};return dojo.cookie;});},"research/outlets/Coding":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../outlets/templates/Coding.html","dijit/layout/BorderContainer","dijit/layout/ContentPane","dojo/topic","dojo/_base/lang","ttl/utilities2","dojo/request","dojox/data/JsonRestStore","dojo/data/ItemFileReadStore","dojo/dom-attr","dojo/dom-construct","dojo/dom","dojo/on","dojo/_base/array","dijit/form/Button","dijit/form/TextBox","dijit/layout/ContentPane","dijit/form/Form","dijit/form/FilteringSelect","dijit/form/Button","dojox/form/BusyButton","dijit/Dialog","dijit/form/Textarea","prcommon2/publisher/PublisherAdd","prcommon2/outlet/OutletSelect","prcommon2/outlet/SelectMultipleOutlets","research/outlets/OutletDelete"],function(_e08,_e09,_e0a,_e0b,_e0c,_e0d,lang,_e0e,_e0f,_e10,_e11,_e12,_e13,dom,on,_e14,_e15,_e16){return _e08("research.outlets.Coding",[_e09,_e0b],{templateString:_e0a,prefix:"coding",constructor:function(){this._update_call_back=lang.hitch(this,this._update_call);this._error_call_back=lang.hitch(this,this._error_call);this._marketsector=new _e10({target:"/research/admin/marketsector/list",labelAttribute:"marketsectordescription",idProperty:"marketsectorid"});},postCreate:function(){this.prmax_outlettypeid.set("store",PRCOMMON.utils.stores.OutletTypes_noFreelancer());this.marketsectorprimaryid.set("store",this._marketsector);this.marketsectorsecondaryid.set("store",this._marketsector);this.marketsectortertiaryid.set("store",this._marketsector);this.reasoncodeid.set("store",PRCOMMON.utils.stores.Research_Reason_Add_Codes());this.reasoncodeid.set("value",PRCOMMON.utils.stores.Reason_Add_Default);this.inherited(arguments);},load:function(_e17,_e18,_e19,_e1a){if(_e1a!=""&&_e1a!=undefined){this.prefix=_e1a;}this.reasoncodeid.set("value",PRCOMMON.utils.stores.Reason_Add_Default);this.outletid.set("value",_e17);this.prmax_outlettypeid.set("value",_e18.outlet.prmax_outlettypeid);this._outletname=_e18.outlet.outletname;this.marketsectorprimaryid.set("value",_e18.outlet.marketsectorprimaryid);this.marketsectorsecondaryid.set("value",_e18.outlet.marketsectorsecondaryid);this.marketsectortertiaryid.set("value",_e18.outlet.marketsectortertiaryid);this.interests.set("value",_e18.interests);this.coverage.set("value",_e18.coverage);this.supplements.set("value",_e18.supplements);if(_e18.serieschildren.length>0){_e13.destroy(this.prefix+"_serieschildren_table");if(dom.byId(this.prefix+"_serieschildren_td")){_e13.destroy(this.prefix+"_serieschildren_td");}td1=_e13.create("td",{"align":"right","class":"prmaxrowtag","valign":"top","style":{"padding-top":"10px"},"id":this.prefix+"_serieschildren_td",innerHTML:"Series Children"},this.prefix+"_serieschildren_tr","first");td2=_e13.create("td",{},this.prefix+"_serieschildren_tr","last");div=_e13.create("div",{"id":this.prefix+"_serieschildren_div"},td2);table=_e13.create("table",{"id":this.prefix+"_serieschildren_table"},this.prefix+"_serieschildren_div","first");_e14.forEach(_e18.serieschildren,function(_e1b,i){var tr=_e13.create("tr",{},table),td=_e13.create("td",{},tr),_e1c=_e13.create(new _e16({value:_e1b.outletname,"readonly":"readonly"}).placeAt(td,"first")),bt=new _e15({"iconClass":"fa fa-level-down","title":"Load Child Outlet"}).placeAt(td,"last");on(bt,"click",function(evt){_e17=_e1b.outletid;sourcetypeid=_e1b.sourcetypeid;prmax_grouptypeid="";if(_e1b.outlettypeid==19){prmax_grouptypeid="freelance";}_e0d.publish("LoadChildOutlet",_e17,prmax_grouptypeid,sourcetypeid);});});}else{_e13.destroy(this.prefix+"_serieschildren_table");_e13.destroy(this.prefix+"_serieschildren_td");}if(_e19.profile){this.seriesparentid.set("parentbtnvalue",true);this.seriesparentid.set("value",_e19.profile.seriesparentid);this.supplementofid.set("value",_e19.profile.supplementofid);this.seriesparentid.set("displayvalue",_e19.seriesparentname);this.supplementofid.set("displayvalue",_e19.supplementofname);}else{this.seriesparentid.set("value",null);this.supplementofid.set("value",null);this.seriesparentid.set("displayvalue","");this.supplementofid.set("displayvalue","");}this.savenode.cancel();},clear:function(){this.publisherid.set("value",null);this.outletid.set("value",-1);_e12.set(this.serieschildren,"innerHTML","");this.savenode.cancel();},_update_coding:function(){if(_e0e.form_validator(this.form)==false){alert("Not all required field filled in");this.savenode.cancel();throw "N";}var _e1d=this.form.get("value");_e1d["reasoncodeid"]=this.reasoncodeid.get("value");_e0f.post("/research/admin/outlets/update_coding",_e0e.make_params({data:_e1d})).then(this._update_call_back,this._error_call_back);},_update_call:function(_e1e){if(_e1e.success=="OK"){alert("Updated");_e0d.publish("/coding/update",_e1e);this.coverage.clear_selection();this.interests.clear_selection();}else{alert("Problem");}this.savenode.cancel();},_error_call:function(){this.savenode.cancel();},_delete:function(){this.outlet_delete_ctrl.load(this._outletid,this._outletname,this.outlet_delete_dlg);this.outlet_delete_dlg.show();}});});},"research/translations/translations":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../translations/templates/translations.html","dijit/layout/BorderContainer","ttl/grid/Grid","ttl/store/JsonRest","dojo/store/Cache","dojo/store/Observable","dojo/store/Memory","dojo/request","ttl/utilities2","dojo/json","dojo/_base/lang","dijit/layout/ContentPane","dijit/Toolbar","dijit/form/DropDownButton","dijit/TooltipDialog","dijit/form/TextBox","dijit/form/CheckBox","dijit/form/Button","dijit/form/ValidationTextBox","dijit/form/Form","research/translations/basicedit","research/translations/translatelanguage","research/translations/translatecountry","research/translations/translateinterests","research/translations/translationcirculationsource","research/translations/translatefrequency","research/translations/translatejobrole","research/translations/translatemediatype","research/translations/translateclassification","dijit/form/RadioButton","dijit/form/FilteringSelect"],function(_e1f,_e20,_e21,_e22,Grid,_e23,_e24,_e25,_e26,_e27,_e28,json,lang){return _e1f("research.translations.translations",[_e20,_e22],{templateString:_e21,gutters:false,constructor:function(){this._source_call_back=lang.hitch(this,this._source_call);this._show_basic_edit_call_back=lang.hitch(this,this._show_basic_edit_call);this._on_cell_call=lang.hitch(this,this._on_cell);this._sourcetypeid=null;this._store=new _e25(new _e23({target:"/research/international/translation/list",idProperty:"datasourcetranslationid"}));},postCreate:function(){var _e29=[{label:" ",field:"datasourcetranslationid",sortable:false,formatter:_e28.generic_view,className:"grid-field-image-view"},{label:"Type",className:"standard",field:"fieldname"},{label:"Source",className:"standard",field:"sourcetext"},{label:"English",className:"standard",field:"english"},{label:"Translation",className:"standard",field:"translation"}];this.grid=new Grid({columns:_e29,selectionMode:"single",store:this._store,query:_e28.EMPTYGRID,sort:[{attribute:"fieldname",descending:false}]});this.grid.on(".dgrid-row:click",lang.hitch(this,this._on_cell_call));this.inherited(arguments);},startup:function(){this.inherited(arguments);this.grid_view.set("content",this.grid);},_on_cell:function(e){var cell=this.grid.cell(e);switch(cell.row.data.fieldname){case "language":this.language_edit.load(cell.row.data.datasourcetranslationid,this._show_basic_edit_call_back);break;case "country":this.country_edit.load(cell.row.data.datasourcetranslationid,this._show_basic_edit_call_back);break;case "interest-words":this.interests_edit.load(cell.row.data.datasourcetranslationid,this._show_basic_edit_call_back);break;case "circulation-source":this.circulationsource_edit.load(cell.row.data.datasourcetranslationid,this._show_basic_edit_call_back);break;case "frequency-type":this.frequency_edit.load(cell.row.data.datasourcetranslationid,this._show_basic_edit_call_back);break;case "jobtitle-areainterest":this.jobrole_edit.load(cell.row.data.datasourcetranslationid,this._show_basic_edit_call_back);break;case "classification":this.classification_edit.load(cell.row.data.datasourcetranslationid,this._show_basic_edit_call_back);break;default:this.basic_edit.load(cell.row.data.datasourcetranslationid,this._show_basic_edit_call_back);break;}},_show_basic_edit_call:function(_e2a,data){if(data){this._store.put(data);this.edit_view.selectChild(this.blank_view);}else{switch(_e2a){case "language":this.edit_view.selectChild(this.language_edit);break;case "country":this.edit_view.selectChild(this.country_edit);break;case "classification":this.edit_view.selectChild(this.classification_edit);break;case "circulation-source":this.edit_view.selectChild(this.circulationsource_edit);break;case "frequency":this.edit_view.selectChild(this.frequency_edit);break;case "jobroles":this.edit_view.selectChild(this.jobrole_edit);break;case "mediatype":this.edit_view.selectChild(this.mediatype_edit);break;default:this.edit_view.selectChild(this.basic_edit);break;}}},_clear_filter:function(){this.filter_sourcetext.set("value","");this.filter_sourcefield.set("value",null);},_execute:function(){var _e2b={sourcetypeid:this._sourcetypeid};if(this.not_translated.get("checked")){_e2b["not_translated"]=true;}if(this.filter_sourcefield.get("value")){_e2b["sourcefield"]=this.filter_sourcefield.get("value");}if(this.filter_sourcetext.get("value")){_e2b["sourcetext"]=this.filter_sourcetext.get("value");}this.grid.set("query",_e2b);this._clear();},_clear:function(){this.edit_view.selectChild(this.blank_view);},_do_show_translations:function(){this._sourcetypeid=6;if(this.source_stamm.get("checked")){this._sourcetypeid=5;}if(this.source_cyberwatch.get("checked")){this._sourcetypeid=8;}if(this.source_madaptive.get("checked")){this._sourcetypeid=10;}_e27.post("/research/international/translation/get_for_source",_e28.make_params({data:{sourcetypeid:this._sourcetypeid}})).then(this._source_call_back);},_source_call:function(_e2c){if(_e2c.success=="OK"){this.grid.set("query",{sourcetypeid:this._sourcetypeid});this.filter_sourcefield.set("store",new _e26({data:_e2c.data}));this.main_view.selectChild(this.trans_view);}}});});},"prcommon2/search/Countries":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../search/templates/Countries.html","prcommon2/search/std_search","dojo/_base/lang","dojo/dom-attr","dojo/dom-class","dojo/dom-style","dojo/json","dojo/request","ttl/utilities2","prcommon2/search/std_search","prcommon2/search/SearchCount"],function(_e2d,_e2e,_e2f,_e30,lang,_e31,_e32,_e33,json,_e34,_e35){return _e2d("prcommon2.search.Countries",[_e2e,_e30],{templateString:_e2f,name:"",value:"",displaytitle:"Countries",search:"",size:"7",testmode:false,selectonly:false,startopen:false,preload:true,interesttypeid:1,restrict:1,constructor:function(){this.disabled=false;this._extended=false;this._load_selection_call=lang.hitch(this,this._load_selection);this.interestTimer=null;this.inherited(arguments);},postCreate:function(){dojo.connect(this.interest_list_select.domNode,"onkeyup",lang.hitch(this,this.interest_select_event));dojo.connect(this.interest_list,"onchange",lang.hitch(this,this.interest_update_selection));dojo.connect(this.interest_list,"ondblclick",lang.hitch(this,this.interest_select_dbl));_e31.set(this.andorlabel,"for",this.andor.id);if(this.selectonly){this.andor.domNode.style.display="None";this.countnode.domNode.style.display="None";this.andor.style.display="None";}if(this.startopen){_e33.set(this.togglectrl,"display","none");_e33.set(this.selectarea,"display","block");}if(this.preload){for(var key in PRMAX.Settings.countries){var _e36=PRMAX.Settings.countries[key];this.interest_select.options[this.interest_select.options.length]=new Option(_e36.countryname,_e36.countryid);}if(PRMAX.Settings.countries.length>0){this.make_open();this._get_selector(this._getValueAttr(),true);}}this.inherited(arguments);},clear:function(){this._clear_selection_box();this._clear_selected_box();this.interest_list_select.set("value","");this._get_selector(this._getValueAttr());this._selection_options();this.inherited(arguments);},_send_request:function(data){this._transactionid=PRCOMMON.utils.uuid.createUUID();_e34.post("/geographical/countries_listselection",_e35.make_params({data:{word:data,logic:this.andor.get("value"),keytypeid:this.keytypeid,restrict:this.restrict,transactionid:this._transactionid}})).then(this._load_selection_call);},interest_select_event:function(p1,_e37){var data=this.interest_list_select.get("value");if(_e37!=null){data=_e37;}if(data.length>0){if(this.interestTimer){clearTimeout(this.interestTimer);this.interestTimer=null;}this.interestTimer=setTimeout(dojo.hitch(this,this._send_request,data),this.searchTime);}else{this.interestTimer=null;this._clear_selection_box();this._selection_options();}},_load_selection:function(_e38){if(this._transactionid==_e38.transactionid){this._clear_selection_box();for(var i=0;i<_e38.data.length;++i){var _e39=_e38.data[i];this.interest_list.options[this.interest_list.options.length]=new Option(_e39.countryname,_e39.countryid);}this._selection_options();}},_clear_selection_box:function(){this.interest_list.options.length=0;},_clear_selected_box:function(){this.interest_select.length=0;},and_or:function(){this._get_selector(this._getValueAttr(),true);},interest_update_selection:function(){this._selection_options();},interest_select_dbl:function(){this.interest_select_single();this._selection_options();},interest_select_all:function(){for(var c=0;c<this.interest_list.options.length;c++){var _e3a=this.interest_list.options[c];var _e3b=true;for(var c1=0;c1<this.interest_select.options.length;c1++){if(this.interest_select.options[c1].value==_e3a.value){_e3b=false;break;}}if(_e3b){this.interest_select.options[this.interest_select.options.length]=new Option(_e3a.text,_e3a.value);}}this._get_selector(this._getValueAttr());this.interest_list.options.length=0;this.interest_update_selection();},interest_select_single:function(){for(var c=0;c<this.interest_list.options.length;c++){var _e3c=this.interest_list.options[c];if(_e3c.selected){_e3c.selected=false;var _e3d=true;for(var c1=0;c1<this.interest_select.options.length;c1++){if(this.interest_select.options[c1].value==_e3c.value){_e3d=false;break;}}if(_e3d){this.interest_select.options[this.interest_select.options.length]=new Option(_e3c.text,_e3c.value);this._get_selector(this._getValueAttr());}}}},interest_remove_all:function(){this.interest_select.options.length=0;this.interest_update_selection();this._get_selector(this._getValueAttr());},interest_remove_single:function(){for(var c=0;c<this.interest_select.options.length;c++){if(this.interest_select.options[c].selected){this.interest_select.options[c]=null;}}this.interest_update_selection();this._get_selector(this._getValueAttr());},add_select:function(data){this.interest_select.options[this.interest_select.options.length]=new Option(data.countryname,data.countryid);},_setValueAttr:function(_e3e){this.clear();var data=_e3e.data;var open=false;if(data==null||data==undefined){data=_e3e;}for(var key in data){var _e3f=data[key];this.interest_select.options[this.interest_select.options.length]=new Option(_e3f.countryname,_e3f.countryid);opne=true;}if(open){this.make_open();}this._get_selector(this._getValueAttr());},_getValueAttr:function(){var data=Array();for(var c=0;c<this.interest_select.options.length;c++){if(this._extended){data[c]={countryid:parseInt(this.interest_select.options[c].value),countryname:this.interest_select.options[c].text};}else{data[c]=parseInt(this.interest_select.options[c].value);}}var obj={data:data,logic:this.andor.get("value")};if(this._extended){return obj;}else{var data=data.length>0?json.stringify(obj):"";this.value=data;return data;}},_getCountAttr:function(){return this.interest_select.options.length;},_setExtendedAttr:function(_e40){this._extended=_e40;},_selection_options:function(){this.button_all.set("disabled",this.interest_list.length?false:true);this.button_single.set("disabled",this.interest_list.selectedIndex!=-1?false:true);this.button_del_all.set("disabled",this.interest_select.length?false:true);this.button_del_single.set("disabled",this.interest_select.selectedIndex!=-1?false:true);},_capture_extended_content:function(data){var _e41=this.andor.get("value");return dojo.mixin(data,{logic:_e41});},_setDisabledAttr:function(_e42){this.disabled=_e42;},_getDisabledAttr:function(){return this.disabled;},_get_selector:function(){if(this.selectonly==false){this.inherited(arguments);}},_focus:function(){this.interest_list_select.focus();}});});},"research/international/Edit":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../international/templates/Edit.html","dijit/layout/BorderContainer","dojo/request","ttl/utilities2","dojo/data/ItemFileReadStore","dojo/_base/lang","dojo/topic","dojo/dom-attr","dojo/dom-class","dojo/dom-style","dojo/dom-construct","research/audit/AuditViewer","prcommon2/interests/Interests","prcommon2/web/WebButton","dijit/form/ValidationTextBox","dijit/form/FilteringSelect","research/outlets/OutletDelete",],function(_e43,_e44,_e45,_e46,_e47,_e48,_e49,lang,_e4a,_e4b,_e4c,_e4d,_e4e){return _e43("research.international.Edit",[_e44,_e46],{templateString:_e45,gutters:false,constructor:function(){this._update_call_back=lang.hitch(this,this._update_call);this._error_call_back=lang.hitch(this,this._error_call);this._load_call_back=lang.hitch(this,this._load_call);},postCreate:function(){this.prmax_outlettypeid.set("store",PRCOMMON.utils.stores.OutletTypes());this.www_show.set("source",this.www);this.reasoncodeid.set("store",PRCOMMON.utils.stores.Research_Reason_Add_Codes());this.reasoncodeid.set("value",PRCOMMON.utils.stores.Reason_Add_Default);this._outletname="";this._outletid="";this.inherited(arguments);},load:function(_e4f){this._outletid=_e4f;this.outletid.set("value",_e4f);this.reasoncodeid.set("value",PRCOMMON.utils.stores.Reason_Add_Default);this.updatebtn.cancel();_e47.post("/research/admin/outlets/research_outlet_edit_get",_e48.make_params({data:{outletid:_e4f}})).then(this._load_call_back);},_load_call:function(_e50){if(_e50.success=="OK"){with(_e50){this._outletname=outlet.outlet.outletname;this.tabs.selectChild(this.details_tab);this.prmax_outlettypeid.set("value",outlet.outlet.prmax_outlettypeid);var tmp=outlet.outlet.outletid+" - "+outlet.outlet.outletname;_e4b.set(this.outlet_details_view,"innerHTML",tmp);if(outlet.outlet.sourcetypeid==7){this.www.set("value",outlet.outlet.www);this.interests.set("value",outlet.interests);this.address1.set("value",outlet.address.address1);this.address2.set("value",outlet.address.address2);this.townname.set("value",outlet.address.townname);this.county.set("value",outlet.address.county);this.postcode.set("value",outlet.address.postcode);this.email.set("value",outlet.communications.email);this.tel.set("value",outlet.communications.tel);this.fax.set("value",outlet.communications.fax);this.outlet_audit.set("disabled",false);this.outlet_audit.load(outlet.outlet.outletid);_e4c.remove(this.tb2,"prmaxhidden");}else{this.outlet_audit.set("disabled",true);_e4c.add(this.tb2,"prmaxhidden");}}}else{alert("Problem Loading");}},_update:function(){if(_e48.form_validator(this.form)==false){alert("Not all required field filled in");this.updatebtn.cancel();throw "N";}var _e51=this.form.get("value");_e51["reasoncodeid"]=this.reasoncodeid.get("value");_e47.post("/research/admin/outlets/update_international",_e48.make_params({data:_e51})).then(this._update_call_back,this._error_call_back);},_update_call:function(_e52){if(_e52.success=="OK"){alert("Updated");}else{alert("Problem");}this.updatebtn.cancel();},_error_call:function(){this.savenode.cancel();},_delete:function(){this.outlet_delete_ctrl.load(this._outletid,this._outletname,this.outlet_delete_dlg);this.outlet_delete_dlg.show();},});});},"dijit/form/_FormWidget":function(){define(["dojo/_base/declare","dojo/sniff","dojo/_base/kernel","dojo/ready","../_Widget","../_CssStateMixin","../_TemplatedMixin","./_FormWidgetMixin"],function(_e53,has,_e54,_e55,_e56,_e57,_e58,_e59){if(has("dijit-legacy-requires")){_e55(0,function(){var _e5a=["dijit/form/_FormValueWidget"];require(_e5a);});}return _e53("dijit.form._FormWidget",[_e56,_e58,_e57,_e59],{setDisabled:function(_e5b){_e54.deprecated("setDisabled("+_e5b+") is deprecated. Use set('disabled',"+_e5b+") instead.","","2.0");this.set("disabled",_e5b);},setValue:function(_e5c){_e54.deprecated("dijit.form._FormWidget:setValue("+_e5c+") is deprecated.  Use set('value',"+_e5c+") instead.","","2.0");this.set("value",_e5c);},getValue:function(){_e54.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},postMixInProperties:function(){this.nameAttrSetting=(this.name&&!has("msapp"))?("name=\""+this.name.replace(/"/g,"&quot;")+"\""):"";this.inherited(arguments);}});});},"prcommon2/web/WebSourcesAdd":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../web/templates/WebSourcesAdd.html","dojo/request","ttl/utilities2","dojo/json","dojo/_base/lang","dojo/topic","dijit/form/TextBox","dijit/form/Button","dijit/form/Form","dojox/form/BusyButton"],function(_e5d,_e5e,_e5f,_e60,_e61,json,lang,_e62){return _e5d("prcommon2.web.WebSourcesAdd",[_e5e],{templateString:_e5f,mode:"add",constructor:function(){this._add_call_back=lang.hitch(this,this._add_call);this._load_call_back=lang.hitch(this,this._load_call);this._update_call_back=lang.hitch(this,this._update_call);this._dialog=null;},postCreate:function(){this.inherited(arguments);},_add_publisher:function(){if(_e61.form_validator(this.form)==false){alert("Not all required field filled in");this.savenode.cancel();throw "N";}if(this.mode=="add"){if(confirm("Add Web Sources?")){_e60.post("/research/admin/websources/add",_e61.make_params({data:this.form.get("value")})).then(this._add_call_back);}}else{if(confirm("Update Web Sources?")){_e60.post("/research/admin/websources/update",_e61.make_params({data:this.form.get("value")})).then(this._update_call_back);}}},_add_call:function(_e63){if(_e63.success=="OK"){alert("Web Source Added");this.clear();if(this._dialog){this._dialog.hide();}_e62.publish(PRCOMMON.Events.Web_Sources_Added,_e63.data);}else{if(_e63.success=="DU"){alert("Web Sources Already Exists");this.websourcedescription.focus();}else{alert("Failed");}}this.savenode.cancel();},_update_call:function(_e64){if(_e64.success=="OK"){alert("Web Source Updated");_e62.publish(PRCOMMON.Events.Web_Sources_Update,_e64.data);this.clear();if(this._dialog){this._dialog.hide();}}else{if(_e64.success=="DU"){alert("Web Sources Already Exists");this.websourcedescription.focus();}else{alert("Failed");}}this.savenode.cancel();},clear:function(){this.websourcedescription.set("value","");this.websourceid.set("value",-1);this.savenode.cancel();},focus:function(){this.websourcedescription.focus();},_setDialogAttr:function(_e65){this._dialog=_e65;},load:function(_e66){this.clear();_e60.post("/research/admin/websources/get",_e61.make_params({data:{websourceid:_e66}})).then(this._load_call_back);},_load_call:function(_e67){if(_e67.success=="OK"){this.websourcedescription.set("value",_e67.data.websourcedescription);this.websourceid.set("value",_e67.data.websourceid);this._dialog.show();}else{alert("Problem");}},_close:function(){if(this._dialog){this._dialog.hide();}}});});},"research/employees/PersonEdit":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../employees/templates/PersonEdit.html","dojo/request","ttl/utilities2","ttl/store/JsonRest","dojo/json","dojo/_base/lang","dojo/topic","ttl/grid/Grid","dojo/dom-class","dojo/data/ItemFileReadStore","dijit/layout/BorderContainer","dijit/layout/ContentPane","dijit/form/TextBox","dijit/form/Button","dijit/form/Form","dijit/form/Textarea","dijit/form/ValidationTextBox","dijit/form/FilteringSelect","research/employees/PersonDelete","research/audit/AuditViewer","research/employees/ContactMerge",],function(_e68,_e69,_e6a,_e6b,_e6c,_e6d,json,lang,_e6e,Grid,_e6f,_e70,_e71){return _e68("research.employees.PersonEdit",[_e69,_e71],{displayname:"Person Edit",templateString:_e6a,constructor:function(){this._parentcallback=null;this._dialog=null;this._GetEntryCallBack=lang.hitch(this,this._get_contact_entry);this._load_call_back=lang.hitch(this,this._load_call);this._updated_call_back=lang.hitch(this,this._updated_call);this.people_employee_model=new _e6d({target:"/research/admin/contacts/research_contact_employee",idProperty:"employeesid"});this._sourcetypes=new _e70({url:"/common/lookups?searchtype=sourcetypes"});_e6e.subscribe(PRCOMMON.Events.Person_Update,lang.hitch(this,this._person_update_event));_e6e.subscribe(PRCOMMON.Events.Person_Delete,lang.hitch(this,this._person_delete_event));_e6e.subscribe("contacts/merge_contact",lang.hitch(this,this._contact_merge_event));},postCreate:function(){var _e72=[{label:" ",className:"grid-field-icon-view",formatter:_e6c.format_row_ctrl},{label:"Outlet Name",className:"dgrid-column-address-short",field:"outletname"},{label:"Job Title ",className:"dgrid-column-address-short",field:"job_title"},{label:"Source",className:"dgrid-column-status-small",field:"sourcename"},{label:"Media Channel",className:"dgrid-column-status",field:"prmax_outlettypename"},{label:"Country",className:"dgrid-column-status-large",field:"countryname"}];this.people_details_employee_grid=new Grid({columns:_e72,selectionMode:"single",store:this.people_employee_model});this.people_details_employee_grid_view.set("content",this.people_details_employee_grid);this.people_details_employee_grid.on(".dgrid-cell:click",lang.hitch(this,this._on_cell_call));this.reasoncodeid.set("store",PRCOMMON.utils.stores.Research_Reason_Update_Codes());this.reasoncodeid.set("value",PRCOMMON.utils.stores.Reason_Upd_Default);this.sourcetypeid.set("store",this._sourcetypes);this.countryid.set("store",PRCOMMON.utils.stores.Countries());this.inherited(arguments);},startup:function(){this.inherited(arguments);},clear:function(){this._clear_form();},load:function(_e73,_e74,_e75){this._dialog=_e73;this._contactid=_e74;this._contactname=_e75;this.people_details_employee_grid.set("query",{contactid:this._contactid});this.audit_ctrl.load(this._contactid);_e6b.post("/research/admin/contacts/get",_e6c.make_params({data:{contactid:this._contactid}})).then(this._load_call_back);this.details_view.selectChild(this.details_tab);},_clear_form:function(){this.prefix.set("value","");this.firstname.set("value","");this.familyname.set("value","");this.reasoncodeid.set("value",PRCOMMON.utils.stores.Reason_Upd_Default);this.sourcetypeid.set("value",2);this.countryid.set("value","");this.contactid.set("value","");},_setCallbackAttr:function(func){this._parentcallback=func;},focus:function(){this.prefix.focus();},disabled:function(_e76){this.prefix.set("disabled",_e76);this.firstname.set("disabled",_e76);this.familyname.set("disabled",_e76);this.reasoncodeid.set("disabled",_e76);this.sourcetypeid.set("disabled",_e76);},_delete_contact:function(){this.person_delete_ctrl.load(this._contactid,this._contactname);this.person_delete_dlg.show();},_update_contact:function(){if(_e6c.form_validator(this.formUpdate)==false){alert("Not all required field filled in");throw "N";}var data=this.formUpdate.get("value");data["contactid"]=this._contactid;_e6b.post("/research/admin/contacts/research_update",_e6c.make_params({data:data})).then(this._updated_call_back);},_load_call:function(_e77){if(_e77.success=="OK"){this.contactid.set("value",_e77.contact.contactid);this.prefix.set("value",_e77.contact.prefix);this.firstname.set("value",_e77.contact.firstname);this.familyname.set("value",_e77.contact.familyname);this.middlename.set("value",_e77.contact.middlename);this.sourcetypeid.set("value",_e77.contact.sourcetypeid);this.countryid.set("value",_e77.contact.countryid);this.reasoncodeid.set("value",PRCOMMON.utils.stores.Reason_Upd_Default);if(_e77.contact.inuse==true){_e6f.add(this.deletebtn.domNode,"prmaxhidden");}else{_e6f.remove(this.deletebtn.domNode,"prmaxhidden");}}},_person_delete_event:function(_e78){this.person_delete_dlg.hide();this.clear();},_merge_contact:function(){this.contact_merge_ctrl.load(this._contactid,this._contactname,this.contact_merge_dlg);},_contact_merge_event:function(_e79){this.contactid.set("value",_e79.contactid);this.prefix.set("value",_e79.contact.prefix);this.firstname.set("value",_e79.contact.firstname);this.familyname.set("value",_e79.contact.familyname);this.middlename.set("value",_e79.contact.middlename);this.sourcetypeid.set("value",_e79.contact.sourcetypeid);this.people_details_employee_grid.set("query",{contactid:_e79.contactid});this.audit_ctrl.load(_e79.contactid);},_updated_call:function(_e7a){if(_e7a.success=="OK"){alert("Contact Updated");_e6e.publish(PRCOMMON.Events.Person_Update,_e7a.contact);this._clear_reason();}else{alert("Problem Updated Contact");}this.updatenode.cancel();},_person_update_event:function(_e7b){this.updatenode.cancel();},_clear_reason:function(){this.reasoncodeid.set("value",PRCOMMON.utils.stores.Reason_Upd_Default);},_close_edit:function(){this._dialog.hide();},});});},"prcommon2/geographical/Geographical":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../geographical/templates/Geographical.html","prcommon2/search/std_search","dojo/request","ttl/utilities2","dojo/json","dojo/data/ItemFileReadStore","dojo/_base/lang","dojo/topic","dojo/dom-attr","prcommon2/search/SearchCount","dijit/form/TextBox","dijit/form/RadioButton","dijit/form/Button","dijit/Dialog","prcommon2/geographical/GeographicalTree"],function(_e7c,_e7d,_e7e,_e7f,_e80,_e81,json,_e82,lang,_e83,_e84){return _e7c("prcommon2.geographical.Geographical",[_e7d,_e7f],{templateString:_e7e,name:"",value:"",displaytitle:"Coverage",title:"",search:"",size:"7",selectonly:false,startopen:false,cascade:true,open:false,constructor:function(){this.disabled=false;this._load_selection_call=lang.hitch(this,this._load_selection);this._transactionid=null;this.selectTimer=null;},postCreate:function(){dojo.connect(this.geographical_list_select.domNode,"onkeyup",lang.hitch(this,this._geographical_select_func));dojo.connect(this.geographical_list,"onchange",lang.hitch(this,this.geographical_update_selection));dojo.connect(this.geographical_list,"ondblclick",lang.hitch(this,this.geographical_select_dbl));dojo.connect(this.geographical_select,"ondblclick",lang.hitch(this,this.geographical_select_delete_dbl));_e84.set(this.filter_radio_restriction_label,"for",this.filter_radio_restriction.id);_e84.set(this.filter_radio_town_label,"for",this.filter_radio_town.id);_e84.set(this.filter_radio_county_label,"for",this.filter_radio_county.id);_e84.set(this.filter_radio_region_label,"for",this.filter_radio_region.id);_e84.set(this.filter_radio_nation_label,"for",this.filter_radio_nation.id);if(this.selectonly){this.countnode.domNode.style.display="None";}if(this.startopen){dojo.style(this.togglectrl,"display","none");dojo.style(this.selectarea,"display","block");}_e83.subscribe(PRCOMMON.Events.Geographical_Selected,lang.hitch(this,this._geographical_selection_event));this.geog_tree.set("dialog",this.geog_tree_dlg);this.inherited(arguments);},_geographical_selection_event:function(e){var _e85=true;for(var c1=0;c1<this.geographical_select.options.length;c1++){if(this.geographical_select.options[c1].value==e.geographicalarea){_e85=false;break;}}if(_e85){this.geographical_select.options[this.geographical_select.options.length]=new Option(e.geographicalname,e.geographicalid);this._get_selector(this._getValueAttr());}},clear:function(){this._clear_selection_box();this._clear_selected_box();this.geographical_list_select.set("value","");this.filter_radio_restriction.set("checked",true);this._get_selector(this._getValueAttr());this._selection_options();this.inherited(arguments);},clear_selection:function(){this._clear_selection_box();this.geographical_list_select.set("value","");this._get_selector(this._getValueAttr());this._selection_options();},_send_request:function(data){this._transactionid=PRCOMMON.utils.uuid.createUUID();_e80.post("/geographical/listbytype",_e81.make_params({data:{word:data,filter:this._get_filter(),geographicaltypeid:this.geographicaltypeid,transactionid:this._transactionid}})).then(this._load_selection_call);},_geographical_select_func:function(){var data=this.geographical_list_select.get("value");if(data.length>0){if(this.selecttimer){clearTimeout(this.selecttimer);this.selecttimer=null;}this.selecttimer=setTimeout(lang.hitch(this,this._send_request,data),this.searchtime);}else{this.selectTimer=null;this._clear_selection_box();this._selection_options();}},_load_selection:function(_e86){if(this._transactionid==_e86.transactionid){this._clear_selection_box();for(var i=0;i<_e86.data.length;++i){var _e87=_e86.data[i];this.geographical_list.options[this.geographical_list.options.length]=new Option(_e87[0],_e87[1]);}this._selection_options();}},_clear_selection_box:function(){this.geographical_list.options.length=0;},_get_selector:function(_e88,_e89){if(this.keytypeid!=""){this.inherited(arguments);}},_clear_selected_box:function(){this.geographical_select.length=0;},geographical_update_selection:function(){this._selection_options();},geographical_select_dbl:function(){this.geographical_select_single();this._selection_options();},geographical_select_all:function(){for(var c=0;c<this.geographical_list.options.length;c++){var _e8a=this.geographical_list.options[c];var _e8b=true;for(var c1=0;c1<this.geographical_select.options.length;c1++){if(this.geographical_select.options[c1].value==_e8a.value){_e8b=false;break;}}if(_e8b){this.geographical_select.options[this.geographical_select.options.length]=new Option(_e8a.text,_e8a.value);this._get_selector(this._getValueAttr());}}this.geographical_list.options.length=0;this.geographicalUpdateSelection();},geographical_select_single:function(){for(var c=0;c<this.geographical_list.options.length;c++){var _e8c=this.geographical_list.options[c];if(_e8c.selected){_e8c.selected=false;var _e8d=true;for(var c1=0;c1<this.geographical_select.options.length;c1++){if(this.geographical_select.options[c1].value==_e8c.value){_e8d=false;break;}}if(_e8d){this.geographical_select.options[this.geographical_select.options.length]=new Option(_e8c.text,_e8c.value);this._get_selector(this._getValueAttr());}}}},geographical_remove_all:function(){this.geographical_select.options.length=0;this.geographical_update_selection();this._get_selector(this._getValueAttr());},geographical_select_delete_dbl:function(_e8e){if(_e8e!=null&&_e8e.originalTarget!=null&&_e8e.originalTarget.index!=null){this.geographical_select.options[_e8e.originalTarget.index]=null;this.geographical_update_selection();this._get_selector(this._getValueAttr());}else{this.geographical_remove_single();}},geographical_remove_single:function(){for(var c=0;c<this.geographical_select.options.length;c++){if(this.geographical_select.options[c].selected){this.geographical_select.options[c]=null;}}this.geographical_update_selection();this._get_selector(this._getValueAttr());},add_select:function(data){this.geographical_select.options[this.geographical_select.options.length]=new Option(data.geographicalname,data.geographicalid);},_setValueAttr:function(obj){var data=obj.data;var open=false;if(data==null||data==undefined){data=obj;}this.clear();for(var key in data){var _e8f=data[key];this.geographical_select.options[this.geographical_select.options.length]=new Option(_e8f.geographicalname,_e8f.geographicalid);open=true;}if(open){this.make_open();}this._extended=false;this._get_selector(this._getValueAttr());},_getValueAttr:function(){var data=Array();for(var c=0;c<this.geographical_select.options.length;c++){if(this._extended){data[c]={geographicalid:parseInt(this.geographical_select.options[c].value),geographicalname:this.geographical_select.options[c].text};}else{data[c]=parseInt(this.geographical_select.options[c].value);}}var obj={data:data,cascade:"C"};if(this._extended){return obj;}else{var data=data.length>0?dojo.toJson(obj):"";this.value=data;return data;}},_getCountAttr:function(){return this.geographical_select.options.length;},changeFilter:function(){this._geographical_select_func();},_selection_options:function(){this.button_all.set("disabled",this.geographical_list.length?false:true);this.button_single.set("disabled",this.geographical_list.selectedIndex!=-1?false:true);this.button_del_all.set("disabled",this.geographical_select.length?false:true);this.button_del_single.set("disabled",this.geographical_select.selectedIndex!=-1?false:true);},_setDisabledAttr:function(_e90){this.disabled=_e90;},_getDisabledAttr:function(){return this.disabled;},_focus:function(){this.geographical_list_select.focus();},_OnFocus:function(){this.open=true;this._toggle_cascade();},_get_filter:function(){if(this.filter_radio_restriction.get("checked")){return this.filter_radio_restriction.get("value");}else{if(this.filter_radio_town.get("checked")){return this.filter_radio_town.get("value");}else{if(this.filter_radio_county.get("checked")){return this.filter_radio_county.get("value");}else{if(this.filter_radio_region.get("checked")){return this.filter_radio_region.get("value");}else{if(this.filter_radio_nation.get("checked")){return this.filter_radio_nation.get("value");}}}}}return -1;},_show_all:function(){var data=this.geographical_list_select.get("value");if(data.length!=0){this._geographical_select_func();}},_show_no_filter:function(){var data=this.geographical_list_select.get("value");if(data.length!=0){this._geographical_select_func();}else{this._clear_selection_box();this._selection_options();}},_toggle:function(){if(this.selectonly==false){this.inherited(arguments);}},_tree_view:function(){this.geog_tree_dlg.show();}});});},"research/feedback/BouncedEmails":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../feedback/templates/BouncedEmails.html","dijit/layout/BorderContainer","ttl/grid/Grid","ttl/store/JsonRest","dojo/store/Observable","dojo/request","ttl/utilities2","dojo/json","dojo/data/ItemFileReadStore","dojo/_base/lang","dojo/topic","dijit/layout/ContentPane","dijit/Toolbar","dijit/form/DropDownButton","dijit/TooltipDialog","dijit/form/TextBox","dijit/form/Button","dijit/form/ValidationTextBox","dijit/form/Form","dojox/form/BusyButton","research/outlets/OutletEdit","research/freelance/FreelanceEdit","dijit/Dialog","research/feedback/Completed"],function(_e91,_e92,_e93,_e94,Grid,_e95,_e96,_e97,_e98,json,_e99,lang,_e9a){return _e91("research.feedback.BouncedEmails",[_e92,_e94],{templateString:_e93,mainViewString:"/display/outletmain?outletid=${outletid}",constructor:function(){this.results=new _e96(new _e95({target:"/research/admin/bemails/list_rest",idProperty:"bounceddistributionid"}));this._message_load_call_back=dojo.hitch(this,this._message_load_call);this._load_call_back=dojo.hitch(this,this._load_call);this._completed_call_back=dojo.hitch(this,this._completed_call);this.customer_front_id_data=new _e96(new _e95({target:"/research/admin/customers_combo",idProperty:"icustomerid"}));_e9a.subscribe(PRCOMMON.Events.BouncedEmail_Completed,lang.hitch(this,this._completed_event));},_completed_event:function(_e9b){this.results.remove(_e9b);this.clear();},_completed_call:function(_e9c){if(_e9c.success=="OK"){this.results.remove(this._row.bounceddistributionid);this.clear();alert("Email marked as Ignored");}else{alert("Problem");}},clear:function(){this.controls.selectChild(this.blank);this.msg_display.set("content","");this.msg_basic_display.set("content","");this.completed_dlg.hide();},postCreate:function(){var _e9d=[{label:" ",className:"grid-field-image-view",formatter:_e98.format_row_ctrl},{label:" ",className:"grid-field-image-view",formatter:_e98.delete_row_ctrl},{label:"Source",className:"dgrid-column-status-small",field:"sourcename"},{label:"Date",className:"dgrid-column-date-small",field:"createdate_display"},{label:"Outlet Name",className:"dgrid-column-address-short",field:"outletname"},{label:"Name",className:"dgrid-column-address-short",field:"contactname"},{label:"Job title",className:"dgrid-column-address-short",field:"job_title"},{label:"Subject",className:"dgrid-column-address-short",field:"subject"},{label:"Sent Customer",className:"dgrid-column-address-short",field:"customername"},{label:"Owner",className:"dgrid-column-address-short",field:"ownercustomername"}];this.result_grid=new Grid({columns:_e9d,selectionMode:"single",store:this.results});this.result_grid_view.set("content",this.result_grid);this.result_grid.on(".dgrid-cell:click",lang.hitch(this,this._on_cell_call));this.customers.set("store",this.customer_front_id_data);this.inherited(arguments);},_on_cell_call:function(e){var cell=this.result_grid.cell(e);if(cell==null||cell.row==null){return;}this._row=cell.row.data;this._e=e;if(cell.column.id=="0"){this.completed_ctrl.load(this._row.bounceddistributionid);this.completed_dlg.show();}else{if(cell.column.id=="1"){if(confirm("Mark as Ignore")){_e97.post("/research/admin/bemails/mark_as_ignore",_e98.make_params({data:{bounceddistributionid:this._row.bounceddistributionid}})).then(this._completed_call_back);}}else{_e97.post("/research/admin/bemails/get_and_lock",_e98.make_params({data:{bounceddistributionid:this._row.bounceddistributionid}})).then(this._load_call_back);}}},_load_call:function(_e9e){if(_e9e.success=="OK"){this._load_details();}else{if(_e9e.success=="LO"){alert("This record is locked by "+_e9e.lock.username);}else{alert("Problem accessing record");}}},_load_details:function(){if(this._row.owneroutletid!=-1||this._row.owneremployeeid!=-1){this.isprivate.set("href",dojo.string.substitute(this.mainViewString,{outletid:this._row.outletid}));this.controls.selectChild(this.isprivate);}else{if(this._row.prmax_outlettypeid==42){this.controls.selectChild(this.freelanceedit);this.freelanceedit.Load(this._row.outletid);}else{if(this._row.prmax_outlettypeid!=null){this.controls.selectChild(this.outletedit);this.outletedit.load(this._row.outletid);}else{this.controls.selectChild(this.blank);}}}this.tabcont.selectChild(this.msg_basic_display);this.msg_basic_display.set("href",dojo.string.substitute(this.MsgBasicView,{bounceddistributionid:this._row.bounceddistributionid}));this.msg_display.set("href",dojo.string.substitute(this.MsgView,{bounceddistributionid:this._row.bounceddistributionid}));},MsgView:"/research/admin/bemails/msg_display?bounceddistributionid=${bounceddistributionid}",MsgBasicView:"/research/admin/bemails/msg_basic_display?bounceddistributionid=${bounceddistributionid}",_message_load_call:function(_e9f){},_refresh:function(){this._clear_filter();},_clear_filter:function(){this.autoreply.set("checked",false);this.outletname.set("value","");this.emailaddress.set("value","");this.customers.set("value",null);this.result_grid.set("query",filter);},_execute:function(){var _ea0={};if(arguments[0].autoreply=="on"){_ea0["autoreply"]=true;}if(arguments[0].top50=="on"){_ea0["top50"]=true;}if(arguments[0].outletname.length>0){_ea0["outletname"]=arguments[0].outletname;}if(arguments[0].emailaddress.length>0){_ea0["emailaddress"]=arguments[0].emailaddress;}if(arguments[0].icustomerid>0){_ea0["icustomerid"]=arguments[0].icustomerid;}this.result_grid.set("query",_ea0);this.clear();}});});},"dojox/rpc/JsonRest":function(){define("dojox/rpc/JsonRest",["dojo","dojox","dojox/json/ref","dojox/rpc/Rest"],function(dojo,_ea1){var _ea2=[];var Rest=_ea1.rpc.Rest;var jr;function _ea3(_ea4,_ea5,_ea6,_ea7){var _ea8=_ea5.ioArgs&&_ea5.ioArgs.xhr&&_ea5.ioArgs.xhr.getResponseHeader("Last-Modified");if(_ea8&&Rest._timeStamps){Rest._timeStamps[_ea7]=_ea8;}var _ea9=_ea4._schema&&_ea4._schema.hrefProperty;if(_ea9){_ea1.json.ref.refAttribute=_ea9;}_ea6=_ea6&&_ea1.json.ref.resolveJson(_ea6,{defaultId:_ea7,index:Rest._index,timeStamps:_ea8&&Rest._timeStamps,time:_ea8,idPrefix:_ea4._store.allowNoTrailingSlash?_ea4.servicePath+"/":_ea4.servicePath.replace(/[^\/]*$/,""),idAttribute:jr.getIdAttribute(_ea4),schemas:jr.schemas,loader:jr._loader,idAsRef:_ea4.idAsRef,assignAbsoluteIds:true});_ea1.json.ref.refAttribute="$ref";return _ea6;};jr=_ea1.rpc.JsonRest={serviceClass:_ea1.rpc.Rest,conflictDateHeader:"If-Unmodified-Since",commit:function(_eaa){_eaa=_eaa||{};var _eab=[];var _eac={};var _ead=[];for(var i=0;i<_ea2.length;i++){var _eae=_ea2[i];var _eaf=_eae.object;var old=_eae.old;var _eb0=false;if(!(_eaa.service&&(_eaf||old)&&(_eaf||old).__id.indexOf(_eaa.service.servicePath))&&_eae.save){delete _eaf.__isDirty;if(_eaf){if(old){var _eb1;if((_eb1=_eaf.__id.match(/(.*)#.*/))){_eaf=Rest._index[_eb1[1]];}if(!(_eaf.__id in _eac)){_eac[_eaf.__id]=_eaf;if(_eaa.incrementalUpdates&&!_eb1){var _eb2=(typeof _eaa.incrementalUpdates=="function"?_eaa.incrementalUpdates:function(){_eb2={};for(var j in _eaf){if(_eaf.hasOwnProperty(j)){if(_eaf[j]!==old[j]){_eb2[j]=_eaf[j];}}else{if(old.hasOwnProperty(j)){return null;}}}return _eb2;})(_eaf,old);}if(_eb2){_eab.push({method:"post",target:_eaf,content:_eb2});}else{_eab.push({method:"put",target:_eaf,content:_eaf});}}}else{var _eb3=jr.getServiceAndId(_eaf.__id).service;var _eb4=jr.getIdAttribute(_eb3);if((_eb4 in _eaf)&&!_eaa.alwaysPostNewItems){_eab.push({method:"put",target:_eaf,content:_eaf});}else{_eab.push({method:"post",target:{__id:_eb3.servicePath},content:_eaf});}}}else{if(old){_eab.push({method:"delete",target:old});}}_ead.push(_eae);_ea2.splice(i--,1);}}dojo.connect(_eaa,"onError",function(){if(_eaa.revertOnError!==false){var _eb5=_ea2;_ea2=_ead;var _eb6=0;jr.revert();_ea2=_eb5;}else{dojo.forEach(_ead,function(obj){jr.changing(obj.object,!obj.object);});}});jr.sendToServer(_eab,_eaa);return _eab;},sendToServer:function(_eb7,_eb8){var _eb9;var _eba=dojo.xhr;var left=_eb7.length;var i,_ebb;var _ebc;var _ebd=this.conflictDateHeader;dojo.xhr=function(_ebe,args){args.headers=args.headers||{};args.headers["Transaction"]=_eb7.length-1==i?"commit":"open";if(_ebd&&_ebc){args.headers[_ebd]=_ebc;}if(_ebb){args.headers["Content-ID"]="<"+_ebb+">";}return _eba.apply(dojo,arguments);};for(i=0;i<_eb7.length;i++){var _ebf=_eb7[i];_ea1.rpc.JsonRest._contentId=_ebf.content&&_ebf.content.__id;var _ec0=_ebf.method=="post";_ebc=_ebf.method=="put"&&Rest._timeStamps[_ebf.content.__id];if(_ebc){Rest._timeStamps[_ebf.content.__id]=(new Date())+"";}_ebb=_ec0&&_ea1.rpc.JsonRest._contentId;var _ec1=jr.getServiceAndId(_ebf.target.__id);var _ec2=_ec1.service;var dfd=_ebf.deferred=_ec2[_ebf.method](_ec1.id.replace(/#/,""),_ea1.json.ref.toJson(_ebf.content,false,_ec2.servicePath,true));(function(_ec3,dfd,_ec4){dfd.addCallback(function(_ec5){try{var _ec6=dfd.ioArgs.xhr&&dfd.ioArgs.xhr.getResponseHeader("Location");if(_ec6){var _ec7=_ec6.match(/(^\w+:\/\/)/)&&_ec6.indexOf(_ec4.servicePath);_ec6=_ec7>0?_ec6.substring(_ec7):(_ec4.servicePath+_ec6).replace(/^(.*\/)?(\w+:\/\/)|[^\/\.]+\/\.\.\/|^.*\/(\/)/,"$2$3");_ec3.__id=_ec6;Rest._index[_ec6]=_ec3;}_ec5=_ea3(_ec4,dfd,_ec5,_ec3&&_ec3.__id);}catch(e){}if(!(--left)){if(_eb8.onComplete){_eb8.onComplete.call(_eb8.scope,_eb7);}}return _ec5;});})(_ebf.content,dfd,_ec2);dfd.addErrback(function(_ec8){left=-1;_eb8.onError.call(_eb8.scope,_ec8);});}dojo.xhr=_eba;},getDirtyObjects:function(){return _ea2;},revert:function(_ec9){for(var i=_ea2.length;i>0;){i--;var _eca=_ea2[i];var _ecb=_eca.object;var old=_eca.old;var _ecc=_ea1.data._getStoreForItem(_ecb||old);if(!(_ec9&&(_ecb||old)&&(_ecb||old).__id.indexOf(_ec9.servicePath))){if(_ecb&&old){for(var j in old){if(old.hasOwnProperty(j)&&_ecb[j]!==old[j]){if(_ecc){_ecc.onSet(_ecb,j,_ecb[j],old[j]);}_ecb[j]=old[j];}}for(j in _ecb){if(!old.hasOwnProperty(j)){if(_ecc){_ecc.onSet(_ecb,j,_ecb[j]);}delete _ecb[j];}}}else{if(!old){if(_ecc){_ecc.onDelete(_ecb);}}else{if(_ecc){_ecc.onNew(old);}}}delete (_ecb||old).__isDirty;_ea2.splice(i,1);}}},changing:function(_ecd,_ece){if(!_ecd.__id){return;}_ecd.__isDirty=true;for(var i=0;i<_ea2.length;i++){var _ecf=_ea2[i];if(_ecd==_ecf.object){if(_ece){_ecf.object=false;if(!this._saveNotNeeded){_ecf.save=true;}}return;}}var old=_ecd instanceof Array?[]:{};for(i in _ecd){if(_ecd.hasOwnProperty(i)){old[i]=_ecd[i];}}_ea2.push({object:!_ece&&_ecd,old:old,save:!this._saveNotNeeded});},deleteObject:function(_ed0){this.changing(_ed0,true);},getConstructor:function(_ed1,_ed2){if(typeof _ed1=="string"){var _ed3=_ed1;_ed1=new _ea1.rpc.Rest(_ed1,true);this.registerService(_ed1,_ed3,_ed2);}if(_ed1._constructor){return _ed1._constructor;}_ed1._constructor=function(data){var self=this;var args=arguments;var _ed4;var _ed5;function _ed6(_ed7){if(_ed7){_ed6(_ed7["extends"]);_ed4=_ed7.properties;for(var i in _ed4){var _ed8=_ed4[i];if(_ed8&&(typeof _ed8=="object")&&("default" in _ed8)){self[i]=_ed8["default"];}}}if(_ed7&&_ed7.prototype&&_ed7.prototype.initialize){_ed5=true;_ed7.prototype.initialize.apply(self,args);}};_ed6(_ed1._schema);if(!_ed5&&data&&typeof data=="object"){dojo.mixin(self,data);}var _ed9=jr.getIdAttribute(_ed1);Rest._index[this.__id=this.__clientId=_ed1.servicePath+(this[_ed9]||Math.random().toString(16).substring(2,14)+"@"+((_ea1.rpc.Client&&_ea1.rpc.Client.clientId)||"client"))]=this;if(_ea1.json.schema&&_ed4){_ea1.json.schema.mustBeValid(_ea1.json.schema.validate(this,_ed1._schema));}_ea2.push({object:this,save:true});};return dojo.mixin(_ed1._constructor,_ed1._schema,{load:_ed1});},fetch:function(_eda){var _edb=jr.getServiceAndId(_eda);return this.byId(_edb.service,_edb.id);},getIdAttribute:function(_edc){var _edd=_edc._schema;var _ede;if(_edd){if(!(_ede=_edd._idAttr)){for(var i in _edd.properties){if(_edd.properties[i].identity||(_edd.properties[i].link=="self")){_edd._idAttr=_ede=i;}}}}return _ede||"id";},getServiceAndId:function(_edf){var _ee0="";for(var _ee1 in jr.services){if((_edf.substring(0,_ee1.length)==_ee1)&&(_ee1.length>=_ee0.length)){_ee0=_ee1;}}if(_ee0){return {service:jr.services[_ee0],id:_edf.substring(_ee0.length)};}var _ee2=_edf.match(/^(.*\/)([^\/]*)$/);return {service:new jr.serviceClass(_ee2[1],true),id:_ee2[2]};},services:{},schemas:{},registerService:function(_ee3,_ee4,_ee5){_ee4=_ee3.servicePath=_ee4||_ee3.servicePath;_ee3._schema=jr.schemas[_ee4]=_ee5||_ee3._schema||{};jr.services[_ee4]=_ee3;},byId:function(_ee6,id){var _ee7,_ee8=Rest._index[(_ee6.servicePath||"")+id];if(_ee8&&!_ee8._loadObject){_ee7=new dojo.Deferred();_ee7.callback(_ee8);return _ee7;}return this.query(_ee6,id);},query:function(_ee9,id,args){var _eea=_ee9(id,args);_eea.addCallback(function(_eeb){if(_eeb.nodeType&&_eeb.cloneNode){return _eeb;}return _ea3(_ee9,_eea,_eeb,typeof id!="string"||(args&&(args.start||args.count))?undefined:id);});return _eea;},_loader:function(_eec){var _eed=jr.getServiceAndId(this.__id);var self=this;jr.query(_eed.service,_eed.id).addBoth(function(_eee){if(_eee==self){delete _eee.$ref;delete _eee._loadObject;}else{self._loadObject=function(_eef){_eef(_eee);};}_eec(_eee);});},isDirty:function(item,_ef0){if(!item){if(_ef0){return dojo.some(_ea2,function(_ef1){return _ea1.data._getStoreForItem(_ef1.object||_ef1.old)==_ef0;});}return !!_ea2.length;}return item.__isDirty;}};return _ea1.rpc.JsonRest;});},"prcommon2/search/Frequency":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../search/templates/Frequency.html","prcommon2/search/std_search","dojo/_base/lang","dojo/dom-attr","dojo/dom-class","dojo/dom-style","dojo/json","dojo/data/ItemFileReadStore","prcommon2/search/std_search","dijit/form/FilteringSelect","prcommon2/search/SearchCount"],function(_ef2,_ef3,_ef4,_ef5,lang,_ef6,_ef7,_ef8,json,_ef9){return _ef2("prcommon2.search.Frequency",[_ef3,_ef5],{templateString:_ef4,name:"",value:"",title:"",search:"",size:"9",testmode:false,constructor:function(){this.store=new _ef9({url:"/common/lookups?searchtype=frequencies&ignoreoption=1"});},postCreate:function(){this.select.set("store",this.store);this.select.set("value",-1);},_changed:function(){this._get_selector(this._get_data());},clear:function(){this.select.set("value",-1);this._get_selector("");this.inherited(arguments);},_setValueAttr:function(_efa){var open=false;this.clear();this._get_selector(this._getValueAttr());},_getValueAttr:function(){return this._get_data();},_get_data:function(){var data=parseInt(this.select.get("value"));if(this._extended){return {data:data};}else{this.value=(data!=null&&data!=-1)?json.stringify(data):"";return this.value;}},_focus:function(){this.select.focus();},_capture_extended_content:function(_efb){var tmp=this.inherited(arguments);tmp.partial=0;return tmp;}});});},"prcommon2/circulation/CirculationDatesAdd":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../circulation/templates/CirculationDatesAdd.html","dojo/request","ttl/utilities2","dojo/json","dojo/_base/lang","dojo/dom-class","dojo/topic","dijit/form/TextBox","dijit/form/Button","dijit/form/Form","dojox/form/BusyButton"],function(_efc,_efd,_efe,_eff,_f00,json,lang,_f01,_f02){return _efc("prcommon2.circulation.CirculationDatesAdd",[_efd],{templateString:_efe,mode:"add",constructor:function(){this._add_call_back=lang.hitch(this,this._add_call);this._load_call_back=lang.hitch(this,this._load_call);this._update_call_back=lang.hitch(this,this._update_call);this._delete_call_back=lang.hitch(this,this._delete_call);this._dialog=null;},postCreate:function(){this.inherited(arguments);},_add_dates:function(){if(_f00.form_validator(this.form)==false){alert("Not all required field filled in");this.savenode.cancel();throw "N";}if(this.mode=="add"){if(confirm("Add Circulation Dates?")){_eff.post("/research/admin/circulationdates/add",_f00.make_params({data:this.form.get("value")})).then(this._add_call_back);}}else{if(confirm("Update Circulation Dates?")){_eff.post("/research/admin/circulationdates/update",_f00.make_params({data:this.form.get("value")})).then(this._update_call_back);}}},_add_call:function(_f03){if(_f03.success=="OK"){alert("Circulation Dates Added");this.clear();if(this._dialog){this._dialog.hide();}_f02.publish(PRCOMMON.Events.Circulation_Dates_Added,_f03.data.circulationdates);}else{if(_f03.success=="DU"){alert("Circulation Date Already Exists");this.circulationauditdatedescription.focus();}else{alert("Failed");}}this.savenode.cancel();},_update_call:function(_f04){if(_f04.success=="OK"){alert("Circulation Dates Updated");_f02.publish(PRCOMMON.Events.Circulation_Dates_Update,_f04.data.circulationdates);this.clear();if(this._dialog){this._dialog.hide();}}else{if(_f04.success=="DU"){alert("Circulation Dates Already Exists");this.circulationauditdatedescription.focus();}else{alert("Failed");}}this.savenode.cancel();},clear:function(){this.circulationauditdatedescription.set("value","");this.circulationauditdateid.set("value",-1);this.savenode.cancel();},focus:function(){this.circulationauditdatedescription.focus();},_setDialogAttr:function(_f05){this._dialog=_f05;},load:function(_f06){this.clear();_eff.post("/research/admin/circulationdates/get",_f00.make_params({data:{circulationauditdateid:_f06}})).then(this._load_call_back);},_load_call:function(_f07){if(_f07.success=="OK"){this.circulationauditdateid.set("value",_f07.data.circulationdates.circulationauditdateid);this.circulationauditdatedescription.set("value",_f07.data.circulationdates.circulationauditdatedescription);this.circulationauditdateid.set("value",_f07.data.circulationdates.circulationauditdateid);if(_f07.data.inuse==true){_f01.add(this.delete_button,"prmaxhidden");}else{_f01.remove(this.delete_button,"prmaxhidden");}this._dialog.show();}else{alert("Problem");}},_close:function(){if(this._dialog){this._dialog.hide();}},_delete:function(){if(confirm("Delete Circulation Dates")){_eff.post("/research/admin/circulationdates/delete",_f00.make_params({data:{circulationauditdateid:this.circulationauditdateid.get("value")}})).then(this._delete_call_back);}},_delete_call:function(_f08){if(_f08.success=="OK"){alert("Circulation Dates Deleted");if(this._dialog){this._dialog.hide();}_f02.publish(PRCOMMON.Events.Circulation_Dates_Deleted,this.circulationauditdateid.get("value"));}else{alert("Failed");}}});});},"dijit/dijit":function(){define(["./main","./_base","dojo/parser","./_Widget","./_TemplatedMixin","./_Container","./layout/_LayoutWidget","./form/_FormWidget","./form/_FormValueWidget"],function(_f09){return _f09;});},"research/questionnaires/FreelanceEdit":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../questionnaires/templates/FreelanceEdit.html","dijit/layout/BorderContainer","dojo/request","ttl/utilities2","dojo/json","dojo/dom-attr","dojo/data/ItemFileReadStore","dojo/_base/lang","dojo/topic","dijit/layout/ContentPane","dijit/form/Form","dijit/form/TextBox","dijit/form/ValidationTextBox","dijit/form/FilteringSelect","research/employees/EmployeeSelect","dojox/validate","prcommon2/interests/Interests","dijit/form/Textarea","dojox/form/BusyButton","dijit/form/NumberTextBox","research/audit/AuditViewer","research/ResearchDetails","research/freelance/FreelanceDelete","research/questionnaires/UserModified","prcommon2/web/WebButton"],function(_f0a,_f0b,_f0c,_f0d,_f0e,_f0f,json,_f10,_f11,lang,_f12){return _f0a("research.questionnaires.FreelanceEdit",[_f0b,_f0d],{templateString:_f0c,constructor:function(){this._saved_call_back=lang.hitch(this,this._saved);this._load_call_back=lang.hitch(this,this._loaded);},postCreate:function(){this.countryid.set("store",PRCOMMON.utils.stores.Countries());this.delete_ctrl.set("dialog",this.delete_dlg);this.facebook_show.set("source",this.facebook);this.twitter_show.set("source",this.twitter);this.linkedin_show.set("source",this.linkedin);this.instagram_show.set("source",this.instagram);this.inherited(arguments);},_saved:function(_f13){if(_f13.success=="OK"){alert("Freelance Updated");}else{alert("Failed to update ");}this.savenode.cancel();},_reset_fields:function(){this.address1_modified.clear();this.address2_modified.clear();this.townname_modified.clear();this.county_modified.clear();this.postcode_modified.clear();this.blog_modified.clear();this.www_modified.clear();this.email_modified.clear();this.tel_modified.clear();this.fax_modified.clear();this.mobile_modified.clear();this.twitter_modified.clear();this.facebook_modified.clear();this.linkedin_modified.clear();this.instagram_modified.clear();this.editorialprofile_modified.clear();this.prefix_modified.clear();this.firstname_modified.clear();this.familyname_modified.clear();this.blog_modified.clear();this.countryid_modified.clear();},_save:function(){if(_f0f.form_validator(this.requirednode)==false){alert("Not all required field filled in");throw "N";}_f0e.post("/research/admin/projects/user_feed_accept_freelance",_f0f.make_params({data:this.requirednode.get("value")})).then(this._saved_call_back);},new_freelance:function(){this.clear();},clear:function(){this.savenode.cancel();this.selectcontact.clear();this.researchprojectitemid.set("value",-1);this.address1.set("value","");this.address2.set("value","");this.townname.set("value","");this.county.set("value","");this.postcode.set("value","");this.www.set("value","");this.email.set("value","");this.tel.set("value","");this.fax.set("value","");this.mobile.set("value","");this.interests.set("value","");this.profile.set("value","");this.countryid.set("value",1);this.twitter.set("value","");this.facebook.set("value","");this.linkedin.set("value","");this.instagram.set("value","");this.blog.set("value","");this.sortname.set("value","");_f10.set(this.interests_user,"innerHTML","");this.familyname.set("value","");this.firstname.set("value","");this.prefix.set("value","");},load:function(_f14){this.researchprojectitemid.set("value",_f14);_f0e.post("/research/admin/projects/load_user_feedback",_f0f.make_params({data:{researchprojectitemid:_f14}})).then(this._load_call_back);},_loaded:function(_f15){this.savenode.cancel();if(_f15.success=="OK"){var data=_f15.data;this._reset_fields();this._name=data.primary.contact.familyname;this.familyname.set("value",data.primary.contact.familyname);this.firstname.set("value",data.primary.contact.firstname);this.prefix.set("value",data.primary.contact.prefix);this.job_title.set("value",data.primary.employee.job_title);this.sortname.set("value",data.outlet.outlet.sortname);this.address1.set("value",data.outlet.address.address1);this.address2.set("value",data.outlet.address.address2);this.townname.set("value",data.outlet.address.townname);this.county.set("value",data.outlet.address.county);this.postcode.set("value",data.outlet.address.postcode);this.www.set("value",data.outlet.outlet.www);this.email.set("value",data.outlet.communications.email);this.tel.set("value",data.outlet.communications.tel);this.fax.set("value",data.outlet.communications.fax);this.mobile.set("value",data.outlet.communications.mobile);this.interests.set("value",data.primary.interests);if(data.outlet.profile.profile){this.editorialprofile.set("value",data.outlet.profile.profile.editorialprofile);}else{this.editorialprofile.set("value",data.outlet.outlet.profile);}this.countryid.set("value",data.outlet.outlet.countryid);this.twitter.set("value",data.outlet.communications.twitter);this.facebook.set("value",data.outlet.communications.facebook);this.linkedin.set("value",data.outlet.communications.linkedin);this.instagram.set("value",data.outlet.communications.instagram);this.blog.set("value",data.outlet.communications.blog);this.outlet_research_ctrl.load(data.outlet.outlet.outletid,19);this.outlet_audit_ctrl.load(data.outlet.outlet.outletid);_f10.set(this.interests_user,"innerHTML","");for(var key in data.user_changes){var _f16=data.user_changes[key];switch(_f16.fieldid){case 3:var _f17="";if(data.outlet.profile.profile){_f17=data.outlet.profile.profile.editorialprofile;}this.editorialprofile_modified.load(_f16.value,_f17,this.editorialprofile);break;case 4:this.email_modified.load(_f16.value,data.outlet.communications.email,this.email);break;case 5:this.tel_modified.load(_f16.value,data.outlet.communications.tel,this.tel);break;case 6:this.fax_modified.load(_f16.value,data.outlet.communications.fax,this.fax);break;case 7:this.mobile_modified.load(_f16.value,data.outlet.communications.mobile,this.mobile);break;case 8:_f10.set(this.interests_user,"innerHTML",_f16.value);break;case 12:this.address1_modified.load(_f16.value,data.outlet.address.address1,this.address1);break;case 13:this.address2_modified.load(_f16.value,data.outlet.address.address2,this.address2);break;case 14:this.townname_modified.load(_f16.value,data.outlet.address.townname,this.townname);break;case 15:this.county_modified.load(_f16.value,data.outlet.address.county,this.county);break;case 16:this.postcode_modified.load(_f16.value,data.outlet.address.postcode,this.postcode);break;case 17:this.www_modified.load(_f16.value,data.outlet.outlet.www,this.www);break;case 50:this.blog_modified.load(_f16.value,data.outlet.communications.blog,this.blog);break;case 25:this.twitter_modified.load(_f16.value,data.outlet.communications.twitter,this.twitter);break;case 26:this.facebook_modified.load(_f16.value,data.outlet.communications.facebook,this.facebook);break;case 27:this.countryid_modified.load(_f16.value,data.outlet.outlet.countryid,this.countryid);break;case 28:this.linkedin_modified.load(_f16.value,data.outlet.communications.linkedin,this.linkedin);break;case 72:this.instagram_modified.load(_f16.value,data.outlet.communications.instagram,this.instagram);break;case 21:this.prefix_modified.load(_f16.value,data.primary.contact.prefix,this.prefix);break;case 22:this.firstname_modified.load(_f16.value,data.primary.contact.firstname,this.firstname);break;case 23:this.familyname_modified.load(_f16.value,data.primary.contact.familyname,this.familyname);break;}}}else{alert("Problem Loading freelancer");}},_delete:function(){this.delete_ctrl.load(this._outletid,this._name);this.delete_dlg.show();}});});},"prcommon2/search/EmployeeSearch":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../search/templates/EmployeeSearch.html","dijit/layout/ContentPane","prcommon2/search/std_search","dijit/form/TextBox","prcommon2/search/SearchCount","ttl/Form2","prcommon2/search/standard","prcommon2/interests/Interests","prcommon2/search/PrmaxOutletTypes","prcommon2/search/SearchRoles","prcommon2/search/person","prcommon2/search/standard2","prcommon2/search/Countries"],function(_f18,_f19,_f1a,_f1b){return _f18("prcommon2.search.EmployeeSearch",[_f19,_f1b],{templateString:_f1a,constructor:function(){},postCreate:function(){this.inherited(arguments);},_getFormAttr:function(){return this.form_name;},clear:function(){dojo.every(this.form_name.getChildren(),function(_f1c){if(_f1c.clear!=null){_f1c.clear();}return true;});}});});},"dijit/MenuItem":function(){define(["dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/_base/kernel","dojo/sniff","dojo/_base/lang","./_Widget","./_TemplatedMixin","./_Contained","./_CssStateMixin","dojo/text!./templates/MenuItem.html"],function(_f1d,dom,_f1e,_f1f,_f20,has,lang,_f21,_f22,_f23,_f24,_f25){var _f26=_f1d("dijit.MenuItem"+(has("dojo-bidi")?"_NoBidi":""),[_f21,_f22,_f23,_f24],{templateString:_f25,baseClass:"dijitMenuItem",label:"",_setLabelAttr:function(val){this._set("label",val);var _f27="";var text;var ndx=val.search(/{\S}/);if(ndx>=0){_f27=val.charAt(ndx+1);var _f28=val.substr(0,ndx);var _f29=val.substr(ndx+3);text=_f28+_f27+_f29;val=_f28+"<span class=\"dijitMenuItemShortcutKey\">"+_f27+"</span>"+_f29;}else{text=val;}this.domNode.setAttribute("aria-label",text+" "+this.accelKey);this.containerNode.innerHTML=val;this._set("shortcutKey",_f27);},iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:false,_fillContent:function(_f2a){if(_f2a&&!("label" in this.params)){this._set("label",_f2a.innerHTML);}},buildRendering:function(){this.inherited(arguments);var _f2b=this.id+"_text";_f1e.set(this.containerNode,"id",_f2b);if(this.accelKeyNode){_f1e.set(this.accelKeyNode,"id",this.id+"_accel");}dom.setSelectable(this.domNode,false);},onClick:function(){},focus:function(){try{if(has("ie")==8){this.containerNode.focus();}this.focusNode.focus();}catch(e){}},_setSelected:function(_f2c){_f1f.toggle(this.domNode,"dijitMenuItemSelected",_f2c);},setLabel:function(_f2d){_f20.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_f2d);},setDisabled:function(_f2e){_f20.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",_f2e);},_setDisabledAttr:function(_f2f){this.focusNode.setAttribute("aria-disabled",_f2f?"true":"false");this._set("disabled",_f2f);},_setAccelKeyAttr:function(_f30){if(this.accelKeyNode){this.accelKeyNode.style.display=_f30?"":"none";this.accelKeyNode.innerHTML=_f30;_f1e.set(this.containerNode,"colSpan",_f30?"1":"2");}this._set("accelKey",_f30);}});if(has("dojo-bidi")){_f26=_f1d("dijit.MenuItem",_f26,{_setLabelAttr:function(val){this.inherited(arguments);if(this.textDir==="auto"){this.applyTextDir(this.textDirNode);}}});}return _f26;});},"dijit/DropDownMenu":function(){define(["dojo/_base/declare","dojo/keys","dojo/text!./templates/Menu.html","./_MenuBase"],function(_f31,keys,_f32,_f33){return _f31("dijit.DropDownMenu",_f33,{templateString:_f32,baseClass:"dijitMenu",_onUpArrow:function(){this.focusPrev();},_onDownArrow:function(){this.focusNext();},_onRightArrow:function(evt){this._moveToPopup(evt);evt.stopPropagation();evt.preventDefault();},_onLeftArrow:function(evt){if(this.parentMenu){if(this.parentMenu._isMenuBar){this.parentMenu.focusPrev();}else{this.onCancel(false);}}else{evt.stopPropagation();evt.preventDefault();}}});});},"prcommon2/search/AdvanceSearch":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../search/templates/AdvanceSearch.html","prcommon2/search/std_search","dijit/form/TextBox","prcommon2/search/SearchCount","ttl/Form2","dijit/form/TextBox","prcommon2/date/DateSearchExtended","prcommon2/search/standard","prcommon2/search/PrmaxOutletTypes"],function(_f34,_f35,_f36){return _f34("prcommon2.search.AdvanceSearch",[_f35],{templateString:_f36,constructor:function(){},postCreate:function(){this.inherited(arguments);},_getFormAttr:function(){return this.std_search_advance_form;}});});},"research/organisation/organisationnew":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../organisation/templates/organisationnew.html","dijit/layout/BorderContainer","ttl/grid/Grid","ttl/store/JsonRest","dojo/store/Observable","dojo/request","ttl/utilities2","dojo/json","dojo/data/ItemFileReadStore","dojo/_base/lang","dojo/topic","dijit/layout/ContentPane","dijit/form/Form","dijit/form/TextBox","dijit/form/ValidationTextBox","dijit/form/FilteringSelect","dojox/form/BusyButton","dijit/form/NumberTextBox","dojox/validate/regexp"],function(_f37,_f38,_f39,_f3a,Grid,_f3b,_f3c,_f3d,_f3e,json,_f3f,lang,_f40){return _f37("research.organisation.organisationnew",[_f38,_f3a],{templateString:_f39,gutters:false,constructor:function(){this._updated_call_back=lang.hitch(this,this._updated_call);},postCreate:function(){this.prmax_outlettypeid.set("store",PRCOMMON.utils.stores.OutletTypes_noFreelancer());this.countryid.set("store",PRCOMMON.utils.stores.Countries());this.countryid.set("value",1);this.inherited(arguments);},_update:function(){if(_f3e.form_validator(this.form)==false){alert("Not all required field filled in");throw "N";}_f3d.post("/research/admin/organisation/research_add_organisation",_f3e.make_params({data:this.form.get("value")})).then(this._updated_call_back);},_updated_call:function(_f41){if(_f41.success=="OK"){alert("Organisation Added");this.savebtn.cancel();this.clear();this.outletname.focus();}else{alert("Failed to add");this.savebtn.cancel();}},clear:function(){this.prmax_outlettypeid.set("value",null);this.countryid.set("value",1);this.outletname.set("value","");this.address1.set("value","");this.address2.set("value","");this.townname.set("value","");this.county.set("value","");this.postcode.set("value","");this.www.set("value","");this.tel.set("value","");this.twitter.set("value","");this.facebook.set("value","");this.linkedin.set("value","");this.instagram.set("value","");this.profile.set("value","");this.savebtn.cancel();}});});},"ttl/store/JsonRest":function(){define(["dojo/_base/xhr","dojo/json","dojo/_base/declare","dojo/store/util/QueryResults","dojo/request","ttl/store/TtlQueryResults"],function(xhr,JSON,_f42,_f43,_f44,_f45){return _f42("ttl.store.JsonRest",null,{constructor:function(_f46){_f42.safeMixin(this,_f46);},target:"",idProperty:"id",get:function(id,_f47){},accepts:"application/javascript, application/json",getIdentity:function(_f48){return _f48[this.idProperty];},put:function(_f49,_f4a){return _f49;},add:function(_f4b,_f4c){_f4c=_f4c||{};_f4c.overwrite=false;return this.put(_f4b,_f4c);},remove:function(id){},query:function(_f4d,_f4e){if(_f4d["data_mode"]==="EMPTYGRID"){return _f43("");}else{var _f4f={};_f4e=_f4e||{};if(_f4e.start>=0||_f4e.count>=0){_f4f.Range="items="+(_f4e.start||"0")+"-"+(("count" in _f4e&&_f4e.count!=Infinity)?(_f4e.count+(_f4e.start||0)-1):"");}if(_f4d&&typeof _f4d=="object"){_f4d=xhr.objectToQuery(_f4d);if(this.target.indexOf("?")!=-1){_f4d="&"+_f4d;}else{_f4d=_f4d?"?"+_f4d:"";}}if(_f4e&&_f4e.sort){var _f50=this.sortParam;_f4d+=(_f4d?"&":"?")+(_f50?_f50+"=":"sort=");for(var i=0;i<_f4e.sort.length;i++){var sort=_f4e.sort[i];_f4d+=(i>0?",":"")+(sort.descending?"-":"+")+encodeURIComponent(sort.attribute);}}var _f51=xhr("GET",{url:this.target+(_f4d||""),handleAs:"json",headers:_f4f,preventCache:true,timeout:100000});_f51.total=_f51.then(function(){var _f52=_f51.ioArgs.xhr.getResponseHeader("Content-Range");return _f52&&(_f52=_f52.match(/\/(.*)/))&&+_f52[1];});return _f43(_f51);}}});});},"dijit/_base/typematic":function(){define(["../typematic"],function(){});},"prcommon2/search/person":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../search/templates/person.html","prcommon2/search/std_search","dojo/_base/lang","dijit/form/TextBox","prcommon2/search/SearchCount"],function(_f53,_f54,_f55,_f56,lang){return _f53("prcommon2.search.person",[_f54,_f56],{templateString:_f55,testmode:false,constructor:function(){this._on_input_call_back=lang.hitch(this,this._on_input);},postCreate:function(){if(dojo.isMoz||dojo.isOpera){this.connect(this.data_surname.textbox,"oninput",this._on_input_call_back);this.connect(this.data_firstname.textbox,"oninput",this._on_input_call_back);}else{this.connect(this.data_surname.textbox,"onkeyup",this._on_input_call_back);this.connect(this.data_surname.textbox,"onpaste",this._on_input_call_back);this.connect(this.data_surname.textbox,"oncut",this._on_input_call_back);this.connect(this.data_firstname.textbox,"onkeyup",this._on_input_call_back);this.connect(this.data_firstname.textbox,"onpaste",this._on_input_call_back);this.connect(this.data_firstname.textbox,"oncut",this._on_input_call_back);}},_on_input:function(){this._enable_controls();this._get_selector(this._get_data());},_onChange:function(){this._get_selector(this._get_data());},Clear:function(){this.data_surname.set("value","");this.data_firstname.set("value","");this._value="";this._setdisplay(this._value);this._enable_controls();this.inherited(arguments);},_setValueAttr:function(_f57){if(_f57==""||_f57==null){this.data_surname.set("value","");this.data_firstname.set("value","");}else{this.data_surname.set("value",_f57.data.surname);this.data_firstname.set("value",_f57.data.firstname);}},_getValueAttr:function(_f58){return this._get_data();},focus:function(){this.data_surname.focus();},_get_data:function(){var data={surname:this.data_surname.get("value"),firstname:this.data_firstname.get("value")};var obj={data:data,logic:2};if(this._extended){return obj;}else{var data="";if(obj["data"]["surname"].length>0){data=dojo.toJson(obj);}this.value=data;this._enable_controls();return data;}},_enable_controls:function(){var data=this.data_surname.get("value");if(data.length>0){this.data_firstname.set("disabled",false);}else{this.data_firstname.set("value","");this.data_firstname.set("disabled",true);}}});});},"dojo/store/Memory":function(){define(["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(_f59,_f5a,_f5b){var base=null;return _f59("dojo.store.Memory",base,{constructor:function(_f5c){for(var i in _f5c){this[i]=_f5c[i];}this.setData(this.data||[]);},data:null,idProperty:"id",index:null,queryEngine:_f5b,get:function(id){return this.data[this.index[id]];},getIdentity:function(_f5d){return _f5d[this.idProperty];},put:function(_f5e,_f5f){var data=this.data,_f60=this.index,_f61=this.idProperty;var id=_f5e[_f61]=(_f5f&&"id" in _f5f)?_f5f.id:_f61 in _f5e?_f5e[_f61]:Math.random();if(id in _f60){if(_f5f&&_f5f.overwrite===false){throw new Error("Object already exists");}data[_f60[id]]=_f5e;}else{_f60[id]=data.push(_f5e)-1;}return id;},add:function(_f62,_f63){(_f63=_f63||{}).overwrite=false;return this.put(_f62,_f63);},remove:function(id){var _f64=this.index;var data=this.data;if(id in _f64){data.splice(_f64[id],1);this.setData(data);return true;}},query:function(_f65,_f66){return _f5a(this.queryEngine(_f65,_f66)(this.data));},setData:function(data){if(data.items){this.idProperty=data.identifier||this.idProperty;data=this.data=data.items;}else{this.data=data;}this.index={};for(var i=0,l=data.length;i<l;i++){this.index[data[i][this.idProperty]]=i;}}});});},"dojox/data/JsonRestStore":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/_base/connect","dojox/rpc/Rest","dojox/rpc/JsonRest","dojox/json/schema","dojox/data/ServiceStore"],function(lang,_f67,_f68,_f69,_f6a,_f6b,_f6c){var rpc=lang.getObject("dojox.rpc",true);var _f6d=_f67("dojox.data.JsonRestStore",_f6c,{constructor:function(_f6e){_f68.connect(_f69._index,"onUpdate",this,function(obj,_f6f,_f70,_f71){var _f72=this.service.servicePath;if(!obj.__id){}else{if(obj.__id.substring(0,_f72.length)==_f72){this.onSet(obj,_f6f,_f70,_f71);}}});this.idAttribute=this.idAttribute||"id";if(typeof _f6e.target=="string"){_f6e.target=_f6e.target.match(/\/$/)||this.allowNoTrailingSlash?_f6e.target:(_f6e.target+"/");if(!this.service){this.service=_f6a.services[_f6e.target]||_f69(_f6e.target,true);}}_f6a.registerService(this.service,_f6e.target,this.schema);this.schema=this.service._schema=this.schema||this.service._schema||{};this.service._store=this;this.service.idAsRef=this.idAsRef;this.schema._idAttr=this.idAttribute;var _f73=_f6a.getConstructor(this.service);var self=this;this._constructor=function(data){_f73.call(this,data);self.onNew(this);};this._constructor.prototype=_f73.prototype;this._index=_f69._index;},loadReferencedSchema:true,idAsRef:false,referenceIntegrity:true,target:"",allowNoTrailingSlash:false,newItem:function(data,_f74){data=new this._constructor(data);if(_f74){var _f75=this.getValue(_f74.parent,_f74.attribute,[]);_f75=_f75.concat([data]);data.__parent=_f75;this.setValue(_f74.parent,_f74.attribute,_f75);}return data;},deleteItem:function(item){var _f76=[];var _f77=_f78._getStoreForItem(item)||this;if(this.referenceIntegrity){_f6a._saveNotNeeded=true;var _f79=_f69._index;var _f7a=function(_f7b){var _f7c;_f76.push(_f7b);_f7b.__checked=1;for(var i in _f7b){if(i.substring(0,2)!="__"){var _f7d=_f7b[i];if(_f7d==item){if(_f7b!=_f79){if(_f7b instanceof Array){(_f7c=_f7c||[]).push(i);}else{(_f78._getStoreForItem(_f7b)||_f77).unsetAttribute(_f7b,i);}}}else{if((typeof _f7d=="object")&&_f7d){if(!_f7d.__checked){_f7a(_f7d);}if(typeof _f7d.__checked=="object"&&_f7b!=_f79){(_f78._getStoreForItem(_f7b)||_f77).setValue(_f7b,i,_f7d.__checked);}}}}}if(_f7c){i=_f7c.length;_f7b=_f7b.__checked=_f7b.concat();while(i--){_f7b.splice(_f7c[i],1);}return _f7b;}return null;};_f7a(_f79);_f6a._saveNotNeeded=false;var i=0;while(_f76[i]){delete _f76[i++].__checked;}}_f6a.deleteObject(item);_f77.onDelete(item);},changing:function(item,_f7e){_f6a.changing(item,_f7e);},cancelChanging:function(_f7f){if(!_f7f.__id){return;}dirtyObjects=_f80=_f6a.getDirtyObjects();for(var i=0;i<dirtyObjects.length;i++){var _f80=dirtyObjects[i];if(_f7f==_f80.object){dirtyObjects.splice(i,1);return;}}},setValue:function(item,_f81,_f82){var old=item[_f81];var _f83=item.__id?_f78._getStoreForItem(item):this;if(_f6b&&_f83.schema&&_f83.schema.properties){_f6b.mustBeValid(_f6b.checkPropertyChange(_f82,_f83.schema.properties[_f81]));}if(_f81==_f83.idAttribute){throw new Error("Can not change the identity attribute for an item");}_f83.changing(item);item[_f81]=_f82;if(_f82&&!_f82.__parent){_f82.__parent=item;}_f83.onSet(item,_f81,old,_f82);},setValues:function(item,_f84,_f85){if(!lang.isArray(_f85)){throw new Error("setValues expects to be passed an Array object as its value");}this.setValue(item,_f84,_f85);},unsetAttribute:function(item,_f86){this.changing(item);var old=item[_f86];delete item[_f86];this.onSet(item,_f86,old,undefined);},save:function(_f87){if(!(_f87&&_f87.global)){(_f87=_f87||{}).service=this.service;}if("syncMode" in _f87?_f87.syncMode:this.syncMode){rpc._sync=true;}var _f88=_f6a.commit(_f87);this.serverVersion=this._updates&&this._updates.length;return _f88;},revert:function(_f89){_f6a.revert(!(_f89&&_f89.global)&&this.service);},isDirty:function(item){return _f6a.isDirty(item,this);},isItem:function(item,_f8a){return item&&item.__id&&(_f8a||this.service==_f6a.getServiceAndId(item.__id).service);},_doQuery:function(args){var _f8b=typeof args.queryStr=="string"?args.queryStr:args.query;var _f8c=_f6a.query(this.service,_f8b,args);var self=this;if(this.loadReferencedSchema){_f8c.addCallback(function(_f8d){var _f8e=_f8c.ioArgs&&_f8c.ioArgs.xhr&&_f8c.ioArgs.xhr.getResponseHeader("Content-Type");var _f8f=_f8e&&_f8e.match(/definedby\s*=\s*([^;]*)/);if(_f8e&&!_f8f){_f8f=_f8c.ioArgs.xhr.getResponseHeader("Link");_f8f=_f8f&&_f8f.match(/<([^>]*)>;\s*rel="?definedby"?/);}_f8f=_f8f&&_f8f[1];if(_f8f){var _f90=_f6a.getServiceAndId((self.target+_f8f).replace(/^(.*\/)?(\w+:\/\/)|[^\/\.]+\/\.\.\/|^.*\/(\/)/,"$2$3"));var _f91=_f6a.byId(_f90.service,_f90.id);_f91.addCallbacks(function(_f92){lang.mixin(self.schema,_f92);return _f8d;},function(_f93){return _f8d;});return _f91;}return undefined;});}return _f8c;},_processResults:function(_f94,_f95){var _f96=_f94.length;return {totalCount:_f95.fullLength||(_f95.request.count==_f96?(_f95.request.start||0)+_f96*2:_f96),items:_f94};},getConstructor:function(){return this._constructor;},getIdentity:function(item){var id=item.__clientId||item.__id;if(!id){return id;}var _f97=this.service.servicePath.replace(/[^\/]*$/,"");return id.substring(0,_f97.length)!=_f97?id:id.substring(_f97.length);},fetchItemByIdentity:function(args){var id=args.identity;var _f98=this;if(id.toString().match(/^(\w*:)?\//)){var _f99=_f6a.getServiceAndId(id);_f98=_f99.service._store;args.identity=_f99.id;}args._prefix=_f98.service.servicePath.replace(/[^\/]*$/,"");return _f98.inherited(arguments);},onSet:function(){},onNew:function(){},onDelete:function(){},getFeatures:function(){var _f9a=this.inherited(arguments);_f9a["dojo.data.api.Write"]=true;_f9a["dojo.data.api.Notification"]=true;return _f9a;},getParent:function(item){return item&&item.__parent;}});_f6d.getStore=function(_f9b,_f9c){if(typeof _f9b.target=="string"){_f9b.target=_f9b.target.match(/\/$/)||_f9b.allowNoTrailingSlash?_f9b.target:(_f9b.target+"/");var _f9d=(_f6a.services[_f9b.target]||{})._store;if(_f9d){return _f9d;}}return new (_f9c||_f6d)(_f9b);};var _f78=lang.getObject("dojox.data",true);_f78._getStoreForItem=function(item){if(item.__id){var _f9e=_f6a.getServiceAndId(item.__id);if(_f9e&&_f9e.service._store){return _f9e.service._store;}else{var _f9f=item.__id.toString().match(/.*\//)[0];return new _f6d({target:_f9f});}}return null;};var _fa0=lang.getObject("dojox.json.ref",true);_fa0._useRefs=true;return _f6d;});},"prcommon2/store/DataStores":function(){define(["dojo/_base/declare","dojo/data/ItemFileReadStore"],function(_fa1,_fa2){return _fa1("prcommon2.store.DataStores",null,{constructor:function(){this._prmaxoutlettypes=new _fa2({url:"/common/lookups?searchtype=prmaxoutlettypes"});this._prmaxoutlettypes_noFreelancer=new _fa2({url:"/common/lookups?searchtype=prmaxoutlettypes&nofreelancer=1"});this._frequencies=new _fa2({url:"/common/lookups?searchtype=frequencies"});this._reasoncode_data_upd=new _fa2({url:"/common/lookups?searchtype=reasoncodes&reasoncategoryid=2"});this._reasoncode_data_add=new _fa2({url:"/common/lookups?searchtype=reasoncodes&reasoncategoryid=1"});this._reasoncode_data_del=new _fa2({url:"/common/lookups?searchtype=reasoncodes&reasoncategoryid=3"});this._reasoncode_data_email=new _fa2({url:"/common/lookups?searchtype=reasoncodes&reasoncategoryid=4"});this._interest_master_type=new _fa2({url:"/common/lookups?searchtype=interestgroups"});this._interest_sections=new _fa2({url:"/common/lookups?searchtype=interestgroups&sections=1"});this._research_frequencies=new _fa2({url:"/common/lookups?searchtype=researchfrequencies"});this._countries=new _fa2({url:"/common/lookups?searchtype=countries"});this._contacthistorysources=new _fa2({url:"/common/lookups?searchtype=contacthistorytypes"});this._contacthistorysourcesext=new _fa2({url:"/common/lookups?searchtype=contacthistorytypes&include_no_option=1"});this._messagetypes=new _fa2({url:"/common/lookups?searchtype=messagetypes"});this._customertypes_model=new _fa2({url:"/common/lookups?searchtype=customertypes"});this._customertypes_model_ext=new _fa2({url:"/common/lookups?searchtype=customertypes&include_no_option=1"});this._researchprojectstatus=new _fa2({url:"/common/lookups?searchtype=researchprojectstatus"});this._reasoncode_del_hist=new _fa2({url:"/common/lookups?searchtype=reasoncodes&reasoncategoryid=8"});this._makretsector=new _fa2({url:"/common/lookups?searchtype=marketsector"});},Reason_Add_Default:5,Reason_Upd_Default:8,fetch:function(){this._interest_master_type.fetch();this._messagetypes.fetch();},MessageTypes:function(){return this._messagetypes;},OutletTypes:function(){return this._prmaxoutlettypes;},OutletTypes_noFreelancer:function(){return this._prmaxoutlettypes_noFreelancer;},Frequency:function(){return this._frequencies;},Research_Reason_Update_Codes:function(){return this._reasoncode_data_upd;},Research_Reason_Add_Codes:function(){return this._reasoncode_data_add;},Research_Reason_Del_Codes:function(){return this._reasoncode_data_del;},Research_Reason_Del_Hist_Codes:function(){return this._reasoncode_del_hist;},Research_Reason_Add_Email:function(){return this._reasoncode_data_email;},Interest_Filter:function(){return this._interest_master_type;},Research_Frequencies:function(){return this._research_frequencies;},Countries:function(){return this._countries;},ContactHistoryTypes:function(_fa3){if(_fa3===true){return this._contacthistorysourcesext;}else{return this._contacthistorysources;}},interest_sections:function(){return this._interest_sections;},Customer_Types:function(){return this._customertypes_model;},Customer_Types_Filter:function(){return this._customertypes_model_ext;},Research_Project_Status:function(){return this._researchprojectstatus;},MarketSector:function(){return this._makretsector;},});});},"dgrid/OnDemandList":function(){define(["./List","./_StoreMixin","dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred","dojo/dom","dojo/on","./util/misc","put-selector/put"],function(List,_fa4,_fa5,lang,_fa6,dom,_fa7,_fa8,put){return _fa5([List,_fa4],{minRowsPerPage:25,maxRowsPerPage:250,maxEmptySpace:Infinity,bufferRows:10,farOffRemoval:2000,queryRowsOverlap:0,pagingMethod:"debounce",pagingDelay:_fa8.defaultDelay,keepScrollPosition:false,rowHeight:22,postCreate:function(){this.inherited(arguments);var self=this;_fa7(this.bodyNode,"scroll",_fa8[this.pagingMethod](function(_fa9){self._processScroll(_fa9);},null,this.pagingDelay));},renderQuery:function(_faa,_fab){var self=this,_fac=(_fab&&_fab.container)||this.contentNode,_fad={query:_faa,count:0,options:_fab},_fae,_faf=this.preload,_fb0;var _fb1={node:put(_fac,"div.dgrid-preload",{rowIndex:0}),count:0,query:_faa,next:_fad,options:_fab};_fb1.node.style.height="0";_fad.node=_fae=put(_fac,"div.dgrid-preload");_fad.previous=_fb1;_fae.rowIndex=this.minRowsPerPage;if(_faf){if((_fad.next=_faf.next)&&_fae.offsetTop>=_faf.node.offsetTop){_fad.previous=_faf;}else{_fad.next=_faf;_fad.previous=_faf.previous;}_fad.previous.next=_fad;_fad.next.previous=_fad;}else{this.preload=_fad;}var _fb2=put(_fae,"-div.dgrid-loading"),_fb3=put(_fb2,"div.dgrid-below");_fb3.innerHTML=this.loadingMessage;function _fb4(err){put(_fb2,"!");if(err){if(self._refreshDeferred){self._refreshDeferred.reject(err);delete self._refreshDeferred;}throw err;}};_fab=lang.mixin(this.get("queryOptions"),_fab,{start:0,count:this.minRowsPerPage},"level" in _faa?{queryLevel:_faa.level}:null);this._trackError(function(){return _fb0=_faa(_fab);});if(typeof _fb0==="undefined"){_fb4();return;}_fa6.when(self.renderArray(_fb0,_fae,_fab),function(trs){var _fb5=typeof _fb0.total==="undefined"?_fb0.length:_fb0.total;return _fa6.when(_fb5,function(_fb6){var _fb7=trs.length,_fb8=_fae.parentNode,_fb9=self.noDataNode;put(_fb2,"!");if(!("queryLevel" in _fab)){self._total=_fb6;}if(_fb6===0){if(_fb9){put(_fb9,"!");delete self.noDataNode;}self.noDataNode=_fb9=put("div.dgrid-no-data");_fb8.insertBefore(_fb9,self._getFirstRowSibling(_fb8));_fb9.innerHTML=self.noDataMessage;}var _fba=0;for(var i=0;i<_fb7;i++){_fba+=self._calcRowHeight(trs[i]);}if(_fb7&&_fba){self.rowHeight=_fba/_fb7;}_fb6-=_fb7;_fad.count=_fb6;_fae.rowIndex=_fb7;if(_fb6){_fae.style.height=Math.min(_fb6*self.rowHeight,self.maxEmptySpace)+"px";}else{_fae.style.display="none";_fab.count++;}if(self._previousScrollPosition){self.scrollTo(self._previousScrollPosition);delete self._previousScrollPosition;}self._processScroll();if(self._refreshDeferred){self._refreshDeferred.resolve(_fb0);delete self._refreshDeferred;}return trs;},_fb4);},_fb4);return _fb0;},refresh:function(_fbb){var self=this,keep=(_fbb&&_fbb.keepScrollPosition),dfd,_fbc;if(typeof keep==="undefined"){keep=this.keepScrollPosition;}if(keep){this._previousScrollPosition=this.getScrollPosition();}this.inherited(arguments);if(this.store){dfd=this._refreshDeferred=new _fa6();_fbc=self.renderQuery(function(_fbd){return self.store.query(self.query,_fbd);});if(typeof _fbc==="undefined"){dfd.reject();}return dfd.then(function(_fbe){setTimeout(function(){_fa7.emit(self.domNode,"dgrid-refresh-complete",{bubbles:true,cancelable:false,grid:self,results:_fbe});},0);delete self._refreshDeferred;return _fbe;},function(err){delete self._refreshDeferred;throw err;});}},resize:function(){this.inherited(arguments);this._processScroll();},_getFirstRowSibling:function(_fbf){return _fbf.lastChild;},_calcRowHeight:function(_fc0){var _fc1=_fc0.nextSibling;if(_fc1&&!/\bdgrid-preload\b/.test(_fc1.className)){return _fc1.offsetTop-_fc0.offsetTop;}return _fc0.offsetHeight;},lastScrollTop:0,_processScroll:function(evt){var grid=this,_fc2=grid.bodyNode,_fc3=(evt&&evt.scrollTop)||this.getScrollPosition().y,_fc4=_fc2.offsetHeight+_fc3,_fc5,_fc6,_fc7=grid.preload,_fc8=grid.lastScrollTop,_fc9=grid.bufferRows*grid.rowHeight,_fca=_fc9-grid.rowHeight,_fcb,_fcc,_fcd,_fce=true;var _fcf=1;grid.lastScrollTop=_fc3;function _fd0(_fd1,_fd2,_fd3,_fd4){var _fd5=grid.farOffRemoval,_fc6=_fd1.node;if(_fd2>2*_fd5){var row,_fd6=_fc6[_fd3];var _fd7=0;var _fd8=0;var _fd9=[];while((row=_fd6)){var _fda=grid._calcRowHeight(row);if(_fd7+_fda+_fd5>_fd2||(_fd6.className.indexOf("dgrid-row")<0&&_fd6.className.indexOf("dgrid-loading")<0)){break;}var _fd6=row[_fd3];_fd7+=_fda;_fd8+=row.count||1;grid.removeRow(row,true);_fd9.push(row);}_fd1.count+=_fd8;if(_fd4){_fc6.rowIndex-=_fd8;_fdb(_fd1);}else{_fc6.style.height=(_fc6.offsetHeight+_fd7)+"px";}var _fdc=put("div",_fd9);setTimeout(function(){put(_fdc,"!");},1);}};function _fdb(_fdd,_fde){_fdd.node.style.height=Math.min(_fdd.count*grid.rowHeight,_fde?Infinity:grid.maxEmptySpace)+"px";};function _fdf(_fe0,_fe1){do{_fe0=_fe1?_fe0.next:_fe0.previous;}while(_fe0&&!_fe0.node.offsetWidth);return _fe0;};while(_fc7&&!_fc7.node.offsetWidth){_fc7=_fc7.previous;}while(_fc7&&_fc7!=_fc5){_fc5=grid.preload;grid.preload=_fc7;_fc6=_fc7.node;var _fe2=_fc6.offsetTop;var _fe3;if(_fc4+_fcf+_fca<_fe2){_fc7=_fdf(_fc7,(_fce=false));}else{if(_fc3-_fcf-_fca>(_fe2+(_fe3=_fc6.offsetHeight))){_fc7=_fdf(_fc7,(_fce=true));}else{var _fe4=((_fc6.rowIndex?_fc3-_fc9:_fc4)-_fe2)/grid.rowHeight;var _fe5=(_fc4-_fc3+2*_fc9)/grid.rowHeight;var _fe6=Math.max(Math.min((_fc3-_fc8)*grid.rowHeight,grid.maxRowsPerPage/2),grid.maxRowsPerPage/-2);_fe5+=Math.min(Math.abs(_fe6),10);if(_fc6.rowIndex==0){_fe4-=_fe5;}_fe4=Math.max(_fe4,0);if(_fe4<10&&_fe4>0&&_fe5+_fe4<grid.maxRowsPerPage){_fe5+=Math.max(0,_fe4);_fe4=0;}_fe5=Math.min(Math.max(_fe5,grid.minRowsPerPage),grid.maxRowsPerPage,_fc7.count);if(_fe5==0){_fc7=_fdf(_fc7,_fce);continue;}_fe5=Math.ceil(_fe5);_fe4=Math.min(Math.floor(_fe4),_fc7.count-_fe5);var _fe7=lang.mixin(grid.get("queryOptions"),_fc7.options);_fc7.count-=_fe5;var _fe8=_fc6,_fe9,_fea=grid.queryRowsOverlap,_feb=(_fc6.rowIndex>0||_fc6.offsetTop>_fc3)&&_fc7;if(_feb){var _fec=_fc7.previous;if(_fec){_fd0(_fec,_fc3-(_fec.node.offsetTop+_fec.node.offsetHeight),"nextSibling");if(_fe4>0&&_fec.node==_fc6.previousSibling){_fe4=Math.min(_fc7.count,_fe4);_fc7.previous.count+=_fe4;_fdb(_fc7.previous,true);_fc6.rowIndex+=_fe4;_fea=0;}else{_fe5+=_fe4;}_fc7.count-=_fe4;}_fe7.start=_fc6.rowIndex-_fea;_fe7.count=Math.min(_fe5+_fea,grid.maxRowsPerPage);_fc6.rowIndex=_fe7.start+_fe7.count;}else{if(_fc7.next){_fd0(_fc7.next,_fc7.next.node.offsetTop-_fc4,"previousSibling",true);var _fe8=_fc6.nextSibling;if(_fe8==_fc7.next.node){_fc7.next.count+=_fc7.count-_fe4;_fc7.next.node.rowIndex=_fe4+_fe5;_fdb(_fc7.next);_fc7.count=_fe4;_fea=0;}else{_fe9=true;}}_fe7.start=_fc7.count;_fe7.count=Math.min(_fe5+_fea,grid.maxRowsPerPage);}if(_fe9&&_fe8&&_fe8.offsetWidth){_fe9=_fe8.offsetTop;}_fdb(_fc7);if("level" in _fc7.query){_fe7.queryLevel=_fc7.query.level;}if(!("queryLevel" in _fe7)&&(_fe7.start>grid._total||_fe7.count<0)){continue;}var _fed=put(_fe8,"-div.dgrid-loading[style=height:"+_fe5*grid.rowHeight+"px]"),_fee=put(_fed,"div.dgrid-"+(_feb?"below":"above"));_fee.innerHTML=grid.loadingMessage;_fed.count=_fe5;var _fef=_fc7.query(_fe7),_ff0=grid._trackError(function(){return _fef;});if(_ff0===undefined){put(_fed,"!");return;}(function(_ff1,_ff2,_ff3,_ff4){_fcd=_fa6.when(grid.renderArray(_ff4,_ff1,_fe7),function(rows){_fcc=_ff4;_fe8=_ff1.nextSibling;put(_ff1,"!");if(_ff3&&_fe8&&_fe8.offsetWidth){var pos=grid.getScrollPosition();grid.scrollTo({x:pos.x,y:pos.y+_fe8.offsetTop-_ff3,preserveMomentum:true});}_fa6.when(_ff4.total||_ff4.length,function(_ff5){if(!("queryLevel" in _fe7)){grid._total=_ff5;}if(_ff2){_ff2.count=_ff5-_ff2.node.rowIndex;if(_ff2.count===0){_fe7.count++;}_fdb(_ff2);}});grid._processScroll();return rows;},function(e){put(_ff1,"!");throw e;});}).call(this,_fed,_feb,_fe9,_fef);_fc7=_fc7.previous;}}}if(_fcd&&(_fcb=this._refreshDeferred)){delete this._refreshDeferred;_fa6.when(_fcd,function(){_fcb.resolve(_fcc);});}},removeRow:function(_ff6,_ff7){function _ff8(_ff9,_ffa){return _ff9!=null?_ff9:_ffa;};if(_ff6){var _ffb=_ff6.previousSibling,_ffc=_ff6.nextSibling,_ffd=_ffb&&_ff8(_ffb.observerIndex,_ffb.previousObserverIndex),_ffe=_ffc&&_ff8(_ffc.observerIndex,_ffc.nextObserverIndex),_fff=_ff6.observerIndex;_ff6.observerIndex=undefined;if(_ff7){_ff6.nextObserverIndex=_ffe;_ff6.previousObserverIndex=_ffd;}if(this.cleanEmptyObservers&&_fff>-1&&_fff!==_ffd&&_fff!==_ffe){var _1000=this.observers;var _1001=_1000[_fff];if(_1001){if(!_ff7){var rows=_1001.rows;for(var i=0;i<rows.length;i++){if(rows[i]!=_ff6&&dom.isDescendant(rows[i],this.domNode)){return this.inherited(arguments);}}}_1001.cancel();this._numObservers--;_1000[_fff]=0;}}}this.inherited(arguments);}});});},"prcommon2/search/FreelanceSearch":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../search/templates/FreelanceSearch.html","dijit/layout/ContentPane","prcommon2/search/std_search","dijit/form/TextBox","prcommon2/search/SearchCount","ttl/Form2","prcommon2/search/standard","prcommon2/interests/Interests"],function(_1002,_1003,_1004,_1005){return _1002("prcommon2.search.FreelanceSearch",[_1003,_1005],{templateString:_1004,constructor:function(){},postCreate:function(){this.inherited(arguments);},_getFormAttr:function(){return this.form_name;},clear:function(){dojo.every(this.form_name.getChildren(),function(_1006){if(_1006.clear!=null){_1006.clear();}return true;});}});});},"dijit/form/_ListBase":function(){define(["dojo/_base/declare","dojo/on","dojo/window"],function(_1007,on,_1008){return _1007("dijit.form._ListBase",null,{selected:null,_listConnect:function(_1009,_100a){var self=this;return self.own(on(self.containerNode,on.selector(function(_100b,_100c,_100d){return _100b.parentNode==_100d;},_1009),function(evt){self[_100a](evt,this);}));},selectFirstNode:function(){var first=this.containerNode.firstChild;while(first&&first.style.display=="none"){first=first.nextSibling;}this._setSelectedAttr(first,true);},selectLastNode:function(){var last=this.containerNode.lastChild;while(last&&last.style.display=="none"){last=last.previousSibling;}this._setSelectedAttr(last,true);},selectNextNode:function(){var _100e=this.selected;if(!_100e){this.selectFirstNode();}else{var next=_100e.nextSibling;while(next&&next.style.display=="none"){next=next.nextSibling;}if(!next){this.selectFirstNode();}else{this._setSelectedAttr(next,true);}}},selectPreviousNode:function(){var _100f=this.selected;if(!_100f){this.selectLastNode();}else{var prev=_100f.previousSibling;while(prev&&prev.style.display=="none"){prev=prev.previousSibling;}if(!prev){this.selectLastNode();}else{this._setSelectedAttr(prev,true);}}},_setSelectedAttr:function(node,_1010){if(this.selected!=node){var _1011=this.selected;if(_1011){this.onDeselect(_1011);}if(node){if(_1010){_1008.scrollIntoView(node);}this.onSelect(node);}this._set("selected",node);}else{if(node){this.onSelect(node);}}}});});},"dgrid/util/has-css3":function(){define(["dojo/has"],function(has){var _1012=["ms","O","Moz","Webkit"];function _1013(_1014,_1015){var style=_1014.style,i;if(_1015 in style){return true;}_1015=_1015.slice(0,1).toUpperCase()+_1015.slice(1);for(i=_1012.length;i--;){if((_1012[i]+_1015) in style){return _1012[i];}}return false;};has.add("css-transitions",function(_1016,doc,_1017){return _1013(_1017,"transitionProperty");});has.add("css-transforms",function(_1018,doc,_1019){return _1013(_1019,"transform");});has.add("css-transforms3d",function(_101a,doc,_101b){return _1013(_101b,"perspective");});has.add("transitionend",function(){var tpfx=has("css-transitions");if(!tpfx){return false;}if(tpfx===true){return "transitionend";}return {ms:"MSTransitionEnd",O:"oTransitionEnd",Moz:"transitionend",Webkit:"webkitTransitionEnd"}[tpfx];});return has;});},"dojox/rpc/Rest":function(){define("dojox/rpc/Rest",["dojo","dojox"],function(dojo,dojox){dojo.getObject("rpc.Rest",true,dojox);if(dojox.rpc&&dojox.rpc.transportRegistry){dojox.rpc.transportRegistry.register("REST",function(str){return str=="REST";},{getExecutor:function(func,_101c,svc){return new dojox.rpc.Rest(_101c.name,(_101c.contentType||svc._smd.contentType||"").match(/json|javascript/),null,function(id,args){var _101d=svc._getRequest(_101c,[id]);_101d.url=_101d.target+(_101d.data?"?"+_101d.data:"");if(args&&(args.start>=0||args.count>=0)){_101d.headers=_101d.headers||{};_101d.headers.Range="items="+(args.start||"0")+"-"+(("count" in args&&args.count!=Infinity)?(args.count+(args.start||0)-1):"");}return _101d;});}});}var drr;function index(_101e,_101f,range,id){_101e.addCallback(function(_1020){if(_101e.ioArgs.xhr&&range){range=_101e.ioArgs.xhr.getResponseHeader("Content-Range");_101e.fullLength=range&&(range=range.match(/\/(.*)/))&&parseInt(range[1]);}return _1020;});return _101e;};drr=dojox.rpc.Rest=function(path,_1021,_1022,_1023){var _1024;_1024=function(id,args){return drr._get(_1024,id,args);};_1024.isJson=_1021;_1024._schema=_1022;_1024.cache={serialize:_1021?((dojox.json&&dojox.json.ref)||dojo).toJson:function(_1025){return _1025;}};_1024._getRequest=_1023||function(id,args){if(dojo.isObject(id)){id=dojo.objectToQuery(id);id=id?"?"+id:"";}if(args&&args.sort&&!args.queryStr){id+=(id?"&":"?")+"sort=";for(var i=0;i<args.sort.length;i++){var sort=args.sort[i];id+=(i>0?",":"")+(sort.descending?"-":"+")+encodeURIComponent(sort.attribute);}}var _1026={url:path+(id==null?"":id),handleAs:_1021?"json":"text",contentType:_1021?"application/json":"text/plain",sync:dojox.rpc._sync,preventCache:true,headers:{Accept:_1021?"application/json,application/javascript":"*/*"}};if(args&&(args.start>=0||args.count>=0)){_1026.headers.Range="items="+(args.start||"0")+"-"+(("count" in args&&args.count!=Infinity)?(args.count+(args.start||0)-1):"");}dojox.rpc._sync=false;return _1026;};function _1027(name){_1024[name]=function(id,_1028){return drr._change(name,_1024,id,_1028);};};_1027("put");_1027("post");_1027("delete");_1024.servicePath=path;return _1024;};drr._index={};drr._timeStamps={};drr._change=function(_1029,_102a,id,_102b){var _102c=_102a._getRequest(id);_102c[_1029+"Data"]=_102b;return index(dojo.xhr(_1029.toUpperCase(),_102c,true),_102a);};drr._get=function(_102d,id,args){args=args||{};return index(dojo.xhrGet(_102d._getRequest(id,args)),_102d,(args.start>=0||args.count>=0),id);};return drr;});},"dijit/typematic":function(){define(["dojo/_base/array","dojo/_base/connect","dojo/_base/lang","dojo/on","dojo/sniff","./main"],function(array,_102e,lang,on,has,dijit){var _102f=(dijit.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:(this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay)),this._minDelay);this._timer=setTimeout(lang.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_1030,node,_1031,obj,_1032,_1033,_1034){if(obj!=this._obj){this.stop();this._initialDelay=_1033||500;this._subsequentDelay=_1032||0.9;this._minDelay=_1034||10;this._obj=obj;this._node=node;this._currentTimeout=-1;this._count=-1;this._callback=lang.hitch(_1030,_1031);this._evt={faux:true};for(var attr in evt){if(attr!="layerX"&&attr!="layerY"){var v=evt[attr];if(typeof v!="function"&&typeof v!="undefined"){this._evt[attr]=v;}}}this._fireEventAndReload();}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(node,_1035,_1036,_1037,_1038,_1039,_103a){var type="keyCode" in _1035?"keydown":"charCode" in _1035?"keypress":_102e._keypress,attr="keyCode" in _1035?"keyCode":"charCode" in _1035?"charCode":"charOrCode";var _103b=[on(node,type,lang.hitch(this,function(evt){if(evt[attr]==_1035[attr]&&(_1035.ctrlKey===undefined||_1035.ctrlKey==evt.ctrlKey)&&(_1035.altKey===undefined||_1035.altKey==evt.altKey)&&(_1035.metaKey===undefined||_1035.metaKey==(evt.metaKey||false))&&(_1035.shiftKey===undefined||_1035.shiftKey==evt.shiftKey)){evt.stopPropagation();evt.preventDefault();_102f.trigger(evt,_1036,node,_1037,_1035,_1038,_1039,_103a);}else{if(_102f._obj==_1035){_102f.stop();}}})),on(node,"keyup",lang.hitch(this,function(){if(_102f._obj==_1035){_102f.stop();}}))];return {remove:function(){array.forEach(_103b,function(h){h.remove();});}};},addMouseListener:function(node,_103c,_103d,_103e,_103f,_1040){var _1041=[on(node,"mousedown",lang.hitch(this,function(evt){evt.preventDefault();_102f.trigger(evt,_103c,node,_103d,node,_103e,_103f,_1040);})),on(node,"mouseup",lang.hitch(this,function(evt){if(this._obj){evt.preventDefault();}_102f.stop();})),on(node,"mouseout",lang.hitch(this,function(evt){if(this._obj){evt.preventDefault();}_102f.stop();})),on(node,"dblclick",lang.hitch(this,function(evt){evt.preventDefault();if(has("ie")<9){_102f.trigger(evt,_103c,node,_103d,node,_103e,_103f,_1040);setTimeout(lang.hitch(this,_102f.stop),50);}}))];return {remove:function(){array.forEach(_1041,function(h){h.remove();});}};},addListener:function(_1042,_1043,_1044,_1045,_1046,_1047,_1048,_1049){var _104a=[this.addKeyListener(_1043,_1044,_1045,_1046,_1047,_1048,_1049),this.addMouseListener(_1042,_1045,_1046,_1047,_1048,_1049)];return {remove:function(){array.forEach(_104a,function(h){h.remove();});}};}});return _102f;});},"dgrid/List":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/dom","dojo/on","dojo/has","./util/misc","dojo/has!touch?./TouchScroll","xstyle/has-class","put-selector/put","dojo/_base/sniff","xstyle/css!./css/dgrid.css"],function(_104b,_104c,dom,_104d,has,_104e,_104f,_1050,put){_1050("mozilla","opera","webkit","ie","ie-6","ie-6-7","quirks","no-quirks","touch");var _1051="dgrid-row-odd",_1052="dgrid-row-even",_1053,_1054;function byId(id){return document.getElementById(id);};function _1055(_1056){_1056.className="";document.body.removeChild(_1056);};function _1057(_1058,_1059){put(document.body,_1058,".dgrid-scrollbar-measure");var size=_1058["offset"+_1059]-_1058["client"+_1059];_1055(_1058);return size;};has.add("dom-scrollbar-width",function(_105a,doc,_105b){return _1057(_105b,"Width");});has.add("dom-scrollbar-height",function(_105c,doc,_105d){return _1057(_105d,"Height");});has.add("dom-rtl-scrollbar-left",function(_105e,doc,_105f){var div=put("div"),_1060;put(document.body,_105f,".dgrid-scrollbar-measure[dir=rtl]");put(_105f,div);_1060=!!has("ie")||!!has("trident")||div.offsetLeft>=has("dom-scrollbar-width");_1055(_105f);put(div,"!");_105f.removeAttribute("dir");return _1060;});var _1061=0;function _1062(){return "dgrid_"+_1061++;};var _1063=/ +/g;function _1064(cls){var _1065=cls?"."+cls.replace(_1063,"."):"";if(this._class){_1065="!"+this._class.replace(_1063,"!")+_1065;}put(this.domNode,_1065);this._class=cls;};function _1066(){return this._class;};var _1067=has("ie")<7&&!has("quirks")?function(){var root,w,h,dims;if(!this._started){return;}root=document.documentElement;w=root.clientWidth;h=root.clientHeight;dims=this._prevWinDims||[];if(dims[0]!==w||dims[1]!==h){this.resize();this._prevWinDims=[w,h];}}:function(){if(this._started){this.resize();}};function _1068(){return {x:this.bodyNode.scrollLeft,y:this.bodyNode.scrollTop};};function _1069(_106a){if(typeof _106a.x!=="undefined"){this.bodyNode.scrollLeft=_106a.x;}if(typeof _106a.y!=="undefined"){this.bodyNode.scrollTop=_106a.y;}};return _104c(has("touch")?_104f:null,{tabableHeader:false,showHeader:false,showFooter:false,maintainOddEven:true,cleanAddedRules:true,useTouchScroll:null,addUiClasses:true,cleanEmptyObservers:true,highlightDuration:250,postscript:function(_106b,_106c){var grid=this;(this._Row=function(id,_106d,_106e){this.id=id;this.data=_106d;this.element=_106e;}).prototype.remove=function(){grid.removeRow(this.element);};if(_106c){this.srcNodeRef=_106c=_106c.nodeType?_106c:byId(_106c);}this.create(_106b,_106c);},listType:"list",create:function(_106f,_1070){var _1071=this.domNode=_1070||put("div"),cls;if(_106f){this.params=_106f;_104c.safeMixin(this,_106f);cls=_106f["class"]||_106f.className||_1071.className;this._sort=_106f.sort||[];delete this.sort;}else{this._sort=[];}this.observers=[];this._numObservers=0;this._listeners=[];this._rowIdToObject={};this.postMixInProperties&&this.postMixInProperties();this.id=_1071.id=_1071.id||this.id||_1062();if(this.useTouchScroll===null){this.useTouchScroll=!has("dom-scrollbar-width");}this.buildRendering();if(cls){_1064.call(this,cls);}this.postCreate();delete this.srcNodeRef;if(this.domNode.offsetHeight){this.startup();}},buildRendering:function(){var _1072=this.domNode,_1073=this.addUiClasses,self=this,_1074,_1075,_1076,_1077,isRTL;isRTL=this.isRTL=(document.body.dir||document.documentElement.dir||document.body.style.direction).toLowerCase()=="rtl";_1072.className="";put(_1072,"[role=grid].dgrid.dgrid-"+this.listType+(_1073?".ui-widget":""));_1074=this.headerNode=put(_1072,"div.dgrid-header.dgrid-header-row"+(_1073?".ui-widget-header":"")+(this.showHeader?"":".dgrid-header-hidden"));if(has("quirks")||has("ie")<8){_1075=put(_1072,"div.dgrid-spacer");}_1076=this.bodyNode=put(_1072,"div.dgrid-scroller");if(has("ff")){_1076.tabIndex=-1;}this.headerScrollNode=put(_1072,"div.dgrid-header.dgrid-header-scroll.dgrid-scrollbar-width"+(_1073?".ui-widget-header":""));_1077=this.footerNode=put("div.dgrid-footer"+(this.showFooter?"":".dgrid-footer-hidden"));put(_1072,_1077);if(isRTL){_1072.className+=" dgrid-rtl"+(has("dom-rtl-scrollbar-left")?" dgrid-rtl-swap":"");}_104d(_1076,"scroll",function(event){if(self.showHeader){_1074.scrollLeft=event.scrollLeft||_1076.scrollLeft;}event.stopPropagation();_104d.emit(_1072,"scroll",{scrollTarget:_1076});});this.configStructure();this.renderHeader();this.contentNode=this.touchNode=put(this.bodyNode,"div.dgrid-content"+(_1073?".ui-widget-content":""));this._listeners.push(this._resizeHandle=_104d(window,"resize",_104e.throttleDelayed(_1067,this)));},postCreate:has("touch")?function(){if(this.useTouchScroll){this.inherited(arguments);}}:function(){},startup:function(){if(this._started){return;}this.inherited(arguments);this._started=true;this.resize();this.set("sort",this._sort);},configStructure:function(){},resize:function(){var _1078=this.bodyNode,_1079=this.headerNode,_107a=this.footerNode,_107b=_1079.offsetHeight,_107c=this.showFooter?_107a.offsetHeight:0,_107d=has("quirks")||has("ie")<7;this.headerScrollNode.style.height=_1078.style.marginTop=_107b+"px";_1078.style.marginBottom=_107c+"px";if(_107d){_1078.style.height="";_1078.style.height=Math.max((this.domNode.offsetHeight-_107b-_107c),0)+"px";if(_107c){_107a.style.bottom="1px";setTimeout(function(){_107a.style.bottom="";},0);}}if(!_1053){_1053=has("dom-scrollbar-width");_1054=has("dom-scrollbar-height");if(has("ie")){_1053++;_1054++;}_104e.addCssRule(".dgrid-scrollbar-width","width: "+_1053+"px");_104e.addCssRule(".dgrid-scrollbar-height","height: "+_1054+"px");if(_1053!=17&&!_107d){_104e.addCssRule(".dgrid-header-row","right: "+_1053+"px");_104e.addCssRule(".dgrid-rtl-swap .dgrid-header-row","left: "+_1053+"px");}}if(_107d){_1079.style.width=_1078.clientWidth+"px";setTimeout(function(){_1079.scrollLeft=_1078.scrollLeft;},0);}},addCssRule:function(_107e,css){var rule=_104e.addCssRule(_107e,css);if(this.cleanAddedRules){this._listeners.push(rule);}return rule;},on:function(_107f,_1080){var _1081=_104d(this.domNode,_107f,_1080);if(!has("dom-addeventlistener")){this._listeners.push(_1081);}return _1081;},cleanup:function(){var _1082=this.observers,i;for(i in this._rowIdToObject){if(this._rowIdToObject[i]!=this.columns){var _1083=byId(i);if(_1083){this.removeRow(_1083,true);}}}for(i=0;i<_1082.length;i++){var _1084=_1082[i];_1084&&_1084.cancel();}this.observers=[];this._numObservers=0;this.preload=null;},destroy:function(){if(this._listeners){for(var i=this._listeners.length;i--;){this._listeners[i].remove();}delete this._listeners;}this._started=false;this.cleanup();put(this.domNode,"!");if(this.useTouchScroll){this.inherited(arguments);}},refresh:function(){this.cleanup();this._rowIdToObject={};this._autoId=0;this.contentNode.innerHTML="";this.scrollTo({x:0,y:0});},newRow:function(_1085,_1086,_1087,i,_1088){if(_1086){var row=this.insertRow(_1085,_1086,_1087,i,_1088);put(row,".dgrid-highlight"+(this.addUiClasses?".ui-state-highlight":""));setTimeout(function(){put(row,"!dgrid-highlight!ui-state-highlight");},this.highlightDuration);return row;}},adjustRowIndices:function(_1089){var next=_1089;var _108a=next.rowIndex;if(_108a>-1){do{if(next.rowIndex>-1){if(this.maintainOddEven){if((next.className+" ").indexOf("dgrid-row ")>-1){put(next,"."+(_108a%2==1?_1051:_1052)+"!"+(_108a%2==0?_1051:_1052));}}next.rowIndex=_108a++;}}while((next=next.nextSibling)&&next.rowIndex!=_108a);}},renderArray:function(_108b,_108c,_108d){_108d=_108d||{};var self=this,start=_108d.start||0,_108e=this.observers,rows,_108f,_1090;if(!_108c){this._lastCollection=_108b;}if(_108b.observe){self._numObservers++;var _1091=_108b.observe(function(_1092,from,to){var row,_1093,_1094,_1095;function _1096(){_1094=(_1094.connected||_1094).nextSibling;};if(from>-1&&rows[from]){row=rows.splice(from,1)[0];if(row.parentNode==_108f){_1093=row.nextSibling;if(_1093){if(from!=to){_1093.rowIndex--;}}self.removeRow(row);}_108d.count--;if(self._processScroll){self._processScroll();}}if(to>-1){if(rows.length){if(to===0){_1094=rows[to];_1094=_1094&&_1097(_1094);}else{_1094=rows[to-1];if(_1094){_1094=_1097(_1094);_1096();}}}else{_1094=self._getFirstRowSibling&&self._getFirstRowSibling(_108f);}if(row&&_1094&&row.id===_1094.id){_1096();}if(_1094&&!_1094.parentNode){_1094=byId(_1094.id);}_1095=(_108c&&_108c.parentNode)||(_1094&&_1094.parentNode)||self.contentNode;row=self.newRow(_1092,_1095,_1094,_108d.start+to,_108d);if(row){row.observerIndex=_1090;rows.splice(to,0,row);if(!_1093||to<from){var _1098=row.previousSibling;_1093=!_1098||_1098.rowIndex+1==row.rowIndex||row.rowIndex==0?row:_1098;}}_108d.count++;}if(from===0){_1099(1,1);}else{if(from===_108b.length-(to===-1?0:1)){_1099(0,0);}}from!=to&&_1093&&self.adjustRowIndices(_1093);self._onNotification(rows,_1092,from,to);},true);_1090=_108e.push(_1091)-1;}var _109a=document.createDocumentFragment(),_109b;function _1099(){var sides=arguments;if(_1090>-1){for(var i=0;i<sides.length;i++){var top=sides[i];var _109c=rows[top?0:rows.length-1];_109c=_109c&&_1097(_109c);if(_109c){var row=_109c[top?"previousSibling":"nextSibling"];if(row){row=self.row(row);}if(row&&row.element!=_109c){var _109d=top?"unshift":"push";_108b[_109d](row.data);rows[_109d](row.element);_108d.count++;}}}}};function _1097(row){if(!dom.isDescendant(row,self.domNode)&&byId(row.id)){return self.row(row.id.slice(self.id.length+5)).element;}return row;};function _109e(_109f){_109b=self.insertRow(_109f,_109a,null,start++,_108d);_109b.observerIndex=_1090;return _109b;};function _10a0(error){if(typeof _1090!=="undefined"){_108e[_1090].cancel();_108e[_1090]=0;self._numObservers--;}if(error){throw error;}};var _10a1;function _10a2(_10a3){_10a1=_10a3.slice(0);_108f=_108c?_108c.parentNode:self.contentNode;if(_108f&&_108f.parentNode&&(_108f!==self.contentNode||_10a3.length)){_108f.insertBefore(_109a,_108c||null);_109b=_10a3[_10a3.length-1];_109b&&self.adjustRowIndices(_109b);}else{if(_108e[_1090]&&self.cleanEmptyObservers){_10a0();}}rows=_10a3;if(_1091){_1091.rows=rows;}};if(_108b.map){rows=_108b.map(_109e,console.error);if(rows.then){return _108b.then(function(_10a4){_108b=_10a4;return rows.then(function(_10a5){_10a2(_10a5);_1099(1,1,0,0);return _10a1;});});}}else{rows=[];for(var i=0,l=_108b.length;i<l;i++){rows[i]=_109e(_108b[i]);}}_10a2(rows);_1099(1,1,0,0);return _10a1;},_onNotification:function(rows,_10a6,from,to){},renderHeader:function(){},_autoId:0,insertRow:function(_10a7,_10a8,_10a9,i,_10aa){var _10ab=_10aa.parentId,id=this.id+"-row-"+(_10ab?_10ab+"-":"")+((this.store&&this.store.getIdentity)?this.store.getIdentity(_10a7):this._autoId++),row=byId(id),_10ac=row&&row.previousSibling;if(row){if(row===_10a9){_10a9=(_10a9.connected||_10a9).nextSibling;}this.removeRow(row);}row=this.renderRow(_10a7,_10aa);row.className=(row.className||"")+" dgrid-row "+(i%2==1?_1051:_1052)+(this.addUiClasses?" ui-state-default":"");this._rowIdToObject[row.id=id]=_10a7;_10a8.insertBefore(row,_10a9||null);if(_10ac){this.adjustRowIndices(_10ac);}row.rowIndex=i;return row;},renderRow:function(value,_10ad){return put("div",""+value);},removeRow:function(_10ae,_10af){_10ae=_10ae.element||_10ae;delete this._rowIdToObject[_10ae.id];if(!_10af){put(_10ae,"!");}},row:function(_10b0){var id;if(_10b0 instanceof this._Row){return _10b0;}if(_10b0.target&&_10b0.target.nodeType){_10b0=_10b0.target;}if(_10b0.nodeType){var _10b1;do{var rowId=_10b0.id;if((_10b1=this._rowIdToObject[rowId])){return new this._Row(rowId.substring(this.id.length+5),_10b1,_10b0);}_10b0=_10b0.parentNode;}while(_10b0&&_10b0!=this.domNode);return;}if(typeof _10b0=="object"){id=this.store.getIdentity(_10b0);}else{id=_10b0;_10b0=this._rowIdToObject[this.id+"-row-"+id];}return new this._Row(id,_10b0,byId(this.id+"-row-"+id));},cell:function(_10b2){return {row:this.row(_10b2)};},_move:function(item,steps,_10b3,_10b4){var _10b5,_10b6,_10b7;_10b7=_10b6=item.element;steps=steps||1;do{if((_10b5=_10b6[steps<0?"previousSibling":"nextSibling"])){do{_10b6=_10b5;if(_10b6&&(_10b6.className+" ").indexOf(_10b3+" ")>-1){_10b7=_10b6;steps+=steps<0?1:-1;break;}}while((_10b5=(!_10b4||!_10b6.hidden)&&_10b6[steps<0?"lastChild":"firstChild"]));}else{_10b6=_10b6.parentNode;if(!_10b6||_10b6===this.bodyNode||_10b6===this.headerNode){break;}}}while(steps);return _10b7;},up:function(row,steps,_10b8){if(!row.element){row=this.row(row);}return this.row(this._move(row,-(steps||1),"dgrid-row",_10b8));},down:function(row,steps,_10b9){if(!row.element){row=this.row(row);}return this.row(this._move(row,steps||1,"dgrid-row",_10b9));},scrollTo:has("touch")?function(_10ba){return this.useTouchScroll?this.inherited(arguments):_1069.call(this,_10ba);}:_1069,getScrollPosition:has("touch")?function(){return this.useTouchScroll?this.inherited(arguments):_1068.call(this);}:_1068,get:function(name){var fn="_get"+name.charAt(0).toUpperCase()+name.slice(1);if(typeof this[fn]==="function"){return this[fn].apply(this,[].slice.call(arguments,1));}if(!1&&typeof this[fn+"Attr"]==="function"){}return this[name];},set:function(name,value){if(typeof name==="object"){for(var k in name){this.set(k,name[k]);}}else{var fn="_set"+name.charAt(0).toUpperCase()+name.slice(1);if(typeof this[fn]==="function"){this[fn].apply(this,[].slice.call(arguments,1));}else{if(!1&&typeof this[fn+"Attr"]==="function"){}this[name]=value;}}return this;},_getClass:_1066,_setClass:_1064,_getClassName:_1066,_setClassName:_1064,_setSort:function(_10bb,_10bc){this._sort=typeof _10bb!="string"?_10bb:[{attribute:_10bb,descending:_10bc}];this.refresh();if(this._lastCollection){if(_10bb.length){if(typeof _10bb!="string"){_10bc=_10bb[0].descending;_10bb=_10bb[0].attribute;}this._lastCollection.sort(function(a,b){var aVal=a[_10bb],bVal=b[_10bb];if(aVal===undefined){aVal="";}if(bVal===undefined){bVal="";}return aVal==bVal?0:(aVal>bVal==!_10bc?1:-1);});}this.renderArray(this._lastCollection);}},sort:function(_10bd,_10be){_104b.deprecated("sort(...)","use set(\"sort\", ...) instead","dgrid 0.4");this.set("sort",_10bd,_10be);},_getSort:function(){return this._sort;},_setShowHeader:function(show){var _10bf=this.headerNode;this.showHeader=show;put(_10bf,(show?"!":".")+"dgrid-header-hidden");this.renderHeader();this.resize();if(show){_10bf.scrollLeft=this.getScrollPosition().x;}},setShowHeader:function(show){_104b.deprecated("setShowHeader(...)","use set(\"showHeader\", ...) instead","dgrid 0.4");this.set("showHeader",show);},_setShowFooter:function(show){this.showFooter=show;put(this.footerNode,(show?"!":".")+"dgrid-footer-hidden");this.resize();}});});},"research/questionnaires/DeskUpdate":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../questionnaires/templates/DeskUpdate.html","dijit/layout/BorderContainer","ttl/grid/Grid","ttl/store/JsonRest","dojo/store/Observable","dojo/request","ttl/utilities2","dojo/json","dojo/data/ItemFileReadStore","dojo/_base/lang","dojo/topic","dojo/dom-attr","dijit/layout/TabContainer","research/questionnaires/DeskDetails","dijit/layout/BorderContainer","dijit/layout/ContentPane","dijit/layout/StackContainer","research/questionnaires/EmployeeEdit","dijit/Dialog","research/questionnaires/Research","research/questionnaires/EmployeeDelete","research/employees/EmployeeDelete","research/employees/EmployeeEdit","research/outlets/OutletSetPrimary","research/outlets/OutletMoveContact","research/outlets/OutletCopyContact","research/employees/EmployeeMerge"],function(_10c0,_10c1,_10c2,_10c3,Grid,_10c4,_10c5,_10c6,_10c7,json,_10c8,lang,topic,_10c9){return _10c0("research.questionnaires.DeskUpdate",[_10c1,_10c3],{templateString:_10c2,gutters:false,constructor:function(){this._load_call_back=lang.hitch(this,this._load_call);this._store=new _10c5(new _10c4({target:"/research/admin/projects/journalist_changes",idProperty:"key"}));this._load_new_employee_call_back=lang.hitch(this,this._load_new_employee_call);this._load_employee_call_back=lang.hitch(this,this._load_employee_call);topic.subscribe(PRCOMMON.Events.Employee_Quest_Add,lang.hitch(this,this._employee_add_event));topic.subscribe(PRCOMMON.Events.Employee_Add,lang.hitch(this,this._employee_add_event));topic.subscribe(PRCOMMON.Events.Employee_Quest_Updated,lang.hitch(this,this._employee_update_event));topic.subscribe("/quest/emp_del",lang.hitch(this,this._employee_delete_event));this._row_data=null;this.std_menu=null;this.std_menu_primary=null;},postCreate:function(){var cells=[{label:" ",field:"menu",className:"grid-field-image-view",formatter:_10c7.format_row_ctrl,sortable:false},{label:"Done?",field:"applied",className:"dgrid-column-status-small",formatter:this._action_done_function},{label:"Job Title",className:"standard",field:"job_title"},{label:"Contact",className:"standard",field:"contactname"},{label:"Action",field:"actiontypedescription",className:"dgrid-column-statusl"}];this.grid=new Grid({columns:cells,selectionMode:"single",store:this._store,sort:[{attribute:"job_title",descending:false}]});this.outlet_contact_grid_view.set("content",this.grid);this.grid.on(".dgrid-cell:click",lang.hitch(this,this._on_cell_call));this.inherited(arguments);},_action_done_function:function(_10ca){if(_10ca==1){return "Yes";}return "";},_action_function:function(data){if(data!=null){if(data==3){return "<img height=\"16px\" width=\"16px\" style=\"padding:0x;margin:0px\" src=\"/prcommon/images/delete.gif\"></img>";}else{return "<img src=\"/prcommon/images/view.png\" alt=\"view\" width=\"16\" height=\"16\" style=\"padding:0px;margin:0px\"/>";}}else{return "";}},_on_cell_call:function(e){var cell=this.grid.cell(e);if(cell==null||cell.row==null){return;}if(cell.column.field=="menu"){if(cell.row.data.actiontypeid==2||cell.row.data.actiontypeid==-1){this._row_data=cell.row.data;this._show_menu(e,cell.row.data);return;}}if(cell.row.data.actiontypeid==3&&cell.row.data.applied==0){if(cell.row.data.isprimary==true){alert("Cannot Delete as is Primary");}else{this._row_data=cell.row.data;this.delete_ctrl.load(cell.row.data.key,cell.row.data.job_title,cell.row.data.contactname);}}else{if(cell.row.data.actiontypeid==1&&cell.row.data.applied==0){this._row_data=cell.row.data;_10c6.post("/research/admin/projects/load_new_employee_feedback",_10c7.make_params({data:{researchprojectitemid:this._researchprojectitemid,objectid:cell.row.data.objectid}})).then(this._load_new_employee_call_back);}else{if(cell.row.data.applied==0&&cell.row.data.actiontypeid==2){this._row_data=cell.row.data;_10c6.post("/research/admin/projects/load_employee_feedback",_10c7.make_params({data:{researchprojectitemid:this._researchprojectitemid,objectid:cell.row.data.objectid}})).then(this._load_new_employee_call_back);}else{if(cell.row.data.actiontypeid==-1&&cell.row.data.typeid=="E"){this._row_data=cell.row.data;_10c6.post("/research/admin/projects/load_employee",_10c7.make_params({data:{objectid:cell.row.data.objectid}})).then(this._load_new_employee_call_back);}else{if(cell.row.data.actiontypeid==2&&cell.row.data.typeid=="E"){this._row_data=cell.row.data;_10c6.post("/research/admin/projects/load_employee",_10c7.make_params({data:{objectid:cell.row.data.objectid}})).then(this._load_employee_call_back);}}}}}},_load_new_employee_call:function(_10cb){if(_10cb.success=="OK"){this.contact_edit.load(_10cb.data.data,_10cb.data.user_changes);this.contact_edit_container.selectChild(this.contact_edit);}else{alert("Problem Loading Changes");}},_load_employee_call:function(_10cc){if(_10cc.success=="OK"){this.contact_edit.load(_10cc.data.data);this.contact_edit_container.selectChild(this.contact_edit);}else{alert("Problem Loading Changes");}},_employee_delete_event:function(data){if(this._row_data!=null){this._row_data.applied=1;this._store.remove(data);this.contact_edit_container.selectChild(this.blank_cont_view);}},_load_call:function(_10cd){if(_10cd.success=="OK"){this.desk_main.load(_10cd.data.projectitem,_10cd.data.outlet,_10cd.data.user_changes);this.research_ctrl.load(_10cd.data.projectitem,_10cd.data.research,_10cd.data.user_changes);this.grid.set("query",{researchprojectitemid:_10cd.data.projectitem.researchprojectitemid,outletdeskid:_10cd.data.projectitem.outletdeskid});var tmp=_10cd.data.outlet.outlet.outletid+" - "+_10cd.data.outlet.desk.desk.deskname;_10c9.set(this.outlet_details_view,"innerHTML",tmp);this._outletid=_10cd.data.outlet.outlet.outletid;}},load:function(_10ce){this.clear();this._researchprojectitemid=_10ce;_10c6.post("/research/admin/projects/load_user_feedback",_10c7.make_params({data:{researchprojectitemid:_10ce}})).then(this._load_call_back);},clear:function(){this.contact_edit_container.selectChild(this.blank_cont_view);},_employee_add_event:function(key){if(this._row_data!=null){this._row_data.applied=1;this._store.put(this._row_data);this.contact_edit_container.selectChild(this.blank_cont_view);}else{key.typeid="E";key.key=key.typeid+key.employeeid;key.objectid=key.employeeid;key.actiontypeid=-1;this._store.add(key);}},_employee_update_event:function(_10cf,data,_10d0){if(_10d0=="desk"&&this._row_data!=null&&this._row_data!=undefined){this._row_data.applied=1;if(data!=null){this._row_data.job_title=data.job_title;this._row_data.contactname=data.contactname;}this._store.put(this._row_data);this.contact_edit_container.selectChild(this.blank_cont_view);}},_show_menu:function(e,data){if(this.std_menu===null){this.std_menu=new dijit.Menu();this.std_menu.addChild(new dijit.MenuItem({label:"Add Contact",onClick:lang.hitch(this,this._add_employee),iconClass:"dijitPrmaxIcon dijitPrmaxEmployee"}));this.std_menu.addChild(new dijit.MenuItem({label:"Delete Contact",onClick:lang.hitch(this,this._delete_employee),iconClass:"dijitPrmaxIcon dijitPrmaxEmployee"}));this.std_menu.addChild(new dijit.MenuItem({label:"Set Primary Contact",onClick:lang.hitch(this,this._primary_contact),iconClass:"dijitPrmaxIcon dijitPrmaxEmployee"}));this.std_menu.startup();}if(this.std_menu_primary===null){this.std_menu_primary=new dijit.Menu();this.std_menu_primary.addChild(new dijit.MenuItem({label:"Add Contact",onClick:lang.hitch(this,this._add_employee),iconClass:"dijitPrmaxIcon dijitPrmaxEmployee"}));this.std_menu_primary.startup();}if(data.isprimary==true){this.std_menu_primary._openMyself(e);}else{this.std_menu._openMyself(e);}},_add_employee:function(){this._row_data=null;this.employee_change_ctrl.set("dialog",this.employee_change_dlg);this.employee_change_ctrl.load(-1,this._outletid);this.employee_change_dlg.show();this.contact_edit_container.selectChild(this.blank_cont_view);},_delete_employee:function(){this.delete_ctrl.load(this._row_data.key,this._row_data.job_title,this._row_data.contactname);},_primary_contact:function(){this.employee_set_primary_ctrl.load(this._row_data.objectid,this._row_data.contactname,this._row_data.job_title,this.employee_set_primary_dlg);this.employee_set_primary_dlg.show();},});});},"research/questionnaires/UserModified":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../questionnaires/templates/UserModified.html","dojo/request","ttl/utilities2","dojo/json","dojo/_base/lang","dojo/topic","dojo/dom-attr","dojo/dom-class"],function(_10d1,_10d2,_10d3,_10d4,_10d5,json,lang,topic,_10d6,_10d7){return _10d1("research.questionnaires.UserModified",[_10d2],{templateString:_10d3,constructor:function(){this._user_data=null;this._research_data=null;this._parent_control=null;this._mode=0;},postCreate:function(){this.inherited(arguments);},load:function(_10d8,_10d9,_10da){this._parent_control=_10da;this._parent_control.set("value",_10d8);this._user_data=_10d8;this._research_data=_10d9;this._mode=0;_10d7.remove(this.change_view,"prmaxhidden");},clear:function(){_10d7.add(this.change_view,"prmaxhidden");_10d6.set(this.change_view,"src","prcommon/images/view_emphasised.png");this._user_data=null;this._research_data=null;this._mode=0;},_swap_data_view:function(){if(this._mode==0){_10d6.set(this.change_view,"src","prcommon/images/view.png");this._parent_control.set("value",this._research_data);this._mode=1;}else{_10d6.set(this.change_view,"src","prcommon/images/view_emphasised.png");this._parent_control.set("value",this._user_data);this._mode=0;}}});});},"dojox/validate":function(){define(["./validate/_base"],function(_10db){return _10db;});},"research/advance/AdvanceDuplicate":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../advance/templates/AdvanceDuplicate.html","dojo/request","ttl/utilities2","dojo/json","dojo/_base/lang","dojo/topic","dojo/dom-attr","dojo/dom-class","dijit/layout/ContentPane","dijit/form/Button"],function(_10dc,_10dd,_10de,_10df,_10e0,json,lang,topic,_10e1,_10e2){return _10dc("research.advance.AdvanceDuplicate",[_10dd],{templateString:_10de,constructor:function(){this._duplicate_call_back=dojo.hitch(this,this._duplicate_call);},postCreate:function(){this.reasoncodes.set("store",PRCOMMON.utils.stores.Research_Reason_Add_Codes());this.reasoncodes.set("value",PRCOMMON.utils.stores.Reason_Add_Default);this.inherited(arguments);},_duplicate_button:function(){if(_10e0.form_validator(this.form)==false){alert("Not all required fields filled in");throw "N";}if(confirm("Duplicate Feature "+dojo.attr(this.heading,"innerHTML")+"?")){_10df.post("/advance/research_duplicate",_10e0.make_params({data:this.form.get("value")})).then(this._duplicate_call_back);}},_duplicate_call:function(_10e3){if(_10e3.success=="OK"){topic.publish(PRCOMMON.Events.Feature_Added,_10e3.data);alert("Feature Duplicate");this._dialog.hide();this.clear();}else{alert("Problem Duplicating Feature");}},_setDialogAttr:function(_10e4){this._dialog=_10e4;},clear:function(){this.advancefeatureid.set("value",-1);this.feature.set("value","");this.reasoncodes.set("value",PRCOMMON.utils.stores.Reason_Add_Default);_10e1.set(this.heading,"innerHTML","");},load:function(_10e5,_10e6){this.advancefeatureid.set("value",_10e5);_10e1.set(this.heading,"innerHTML",_10e6);}});});},"ttl/utilities2":function(){define(["dojo/_base/declare","dojo/number","dojo/_base/lang","dojo/_base/array"],function(_10e7,_10e8,lang,array){tmp=_10e7("ttl.utilities2",null,{});ttl.utilities2.generic_view=function(_10e9){if(_10e9==null){return "...";}if(_10e9){return "<img src=\"/prcommon/images/view.png\" alt=\"view\" width=\"16\" height=\"16\" style=\"padding:0px;margin:0px\"/>";}return "";};ttl.utilities2.delete_icon=function(_10ea){if(_10ea==null){return "...";}return "<img title=\""+_10ea+"\" height=\"10px\" width=\"10px\" style=\"padding:0x;margin:0px\" src=\"/prcommon/images/delete.gif\"></img>";};ttl.utilities2.delete_icon_row=function(_10eb){return "<img height=\"10px\" width=\"10px\" style=\"padding:0x;margin:0px\" src=\"/prcommon/images/delete.gif\"></img>";};ttl.utilities2.edit_icon=function(_10ec){if(_10ec==null){return "...";}return "<img title=\""+_10ec+"\" height=\"10px\" width=\"10px\" style=\"padding:0x;margin:0px\" src=\"/prcommon/images/edit.gif\"></img>";};ttl.utilities2.row_button_small=function(_10ed){if(_10ed==null){return "...";}return "<img height=\"10px\" width=\"10px\" style=\"padding:0x;margin:0px\" src=\"/prcommon/images/rowctrl.gif\"></img>";};ttl.utilities2.format_row_ctrl=function(_10ee){return "<img title=\"Options\" height=\"14px\" width=\"14px\" style=\"padding:0x;margin:0px\" src=\"/prcommon/images/rowctrl.gif\"></img>";};ttl.utilities2.delete_row_ctrl=function(_10ef){return "<img title=\"Delete\" height=\"14px\" width=\"14px\" style=\"padding:0x;margin:0px\" src=\"/prcommon/images/remove.gif\"></img>";};ttl.utilities2.edit_row_ctrl=function(_10f0){return "<img title=\""+_10f0+"\" height=\"14px\" width=\"14px\" style=\"padding:0x;margin:0px\" src=\"/prcommon/images/edit.gif\"></img>";};ttl.utilities2.pdf_icon_row=function(_10f1){if(_10f1==null){return "...";}return "<img height=\"10px\" width=\"10px\" style=\"padding:0x;margin:0px\" src=\"/prcommon/images/pdf.gif\" alt=\"view\"></img>";};ttl.utilities2.check_cell=function(_10f2){var _10f3=_10f2==true?"checked.gif":"unchecked.gif";return "<img  height=\"10px\" width=\"10px\" style=\"padding:0x;margin:0px\" src=\"/prcommon/images/"+_10f3+"\" ></img>";};ttl.utilities2.format_deleted_ctrl=function(_10f4){if(_10f4==2){return "<img height=\"10px\" width=\"10px\" style=\"padding:0x;margin:0px\" src=\"/prcommon/images/delete.gif\"></img>";}else{return "&nbsp;";}};ttl.utilities2.outlet_type=function(_10f5){if(_10f5==null){return "...";}var color="";switch(_10f5){case "national":color="blue";break;case "regional":color="green";break;case "business":color="yellow";break;case "consumer":color="orange";break;case "television":color="purple";break;case "radio":color="black";break;case "internet":color="pink";break;case "news":color="indigo";break;case "others":color="white";break;case "freelance":color="white";break;case "parliamentary":color="gray";break;}return "<div style='background-color:"+color+";width:6px;height:100%'>&nbsp;</div>";};ttl.utilities2.form_validator=function(form){var _10f6=null;return array.every(form.getChildren(),function(_10f7){if(_10f7.get("disabled")==true){return true;}var rest=!_10f7.isValid||_10f7.isValid();if(rest==false){if(_10f7.isFocusable()){try{_10f7.focus();}catch(e){}}else{rest=true;}}return rest;});};ttl.utilities2.to_json_date=function(_10f8){if(_10f8==null){return "";}else{return _10f8.getFullYear()+"-"+(_10f8.getMonth()+1)+"-"+_10f8.getDate();}};ttl.utilities2.error_checker=function(_10f9){var _10fa=false;try{if(_10f9.status==403){_10fa=true;}}catch(a){}if(_10fa){window.location.href=TTL.login_page||"/login";throw "Security Failure";}};ttl.utilities2.add_days_to_date=function(_10fb,days){var _10fc=new Date(_10fb);_10fc.setDate(_10fc.getDate()+days);return _10fc;};ttl.utilities2.xhr_post_error=function(_10fd,_10fe){ttl.utilities2.error_checker(_10fd);if(TTL.isDebug==false){return;}try{alert("Problem with call to server :\nstatus: "+_10fd.status+"\nmessage :"+_10fd.message+"\nresponseText :"+_10fd.responseText);}catch(e){alert("Problem with call to server\n"+_10fd);}};ttl.utilities2.default_params={preventCache:true,timeout:30000,handleAs:"json",url:"/error"};ttl.utilities2.make_params=function(_10ff){var res=lang.mixin({preventCache:true,timeout:30000,handleAs:"json",url:"/error"},_10ff||{});if(_10ff.error==null){res["error"]=ttl.utilities2.xhr_post_error;}return res;};ttl.utilities2.make_params_ignore=function(_1100){var res=lang.mixin(ttl.utilities2.default_params,_1100||{});res["error"]=ttl.utilities2.globalerrorchecker;return res;};ttl.utilities2.get_prevent_cache=function(_1101){var _1102=new Date().valueOf();return lang.mixin({"dojo.preventCache":_1102},_1101||{});};ttl.utilities2.get_prevent_cache_param=function(){var _1103=new Date().valueOf();return "dojo.preventcache="+_1103;};ttl.utilities2.from_object_date=function(_1104){if(_1104==null||_1104===""){return new Date();}else{return new Date(new Date(_1104.year,_1104.month-1,_1104.day));}};ttl.utilities2.from_object_date_no_date=function(_1105){if(_1105==null||_1105===""){return null;}else{return new Date(new Date(_1105.year,_1105.month-1,_1105.day));}};ttl.utilities2.display_money=function(_1106){if(isNaN(_1106)){return "...";}else{try{return _10e8.format(parseFloat(_1106),{places:2});}catch(e){return "0.00";}}};ttl.utilities2.display_int_money=function(_1107){if(isNaN(_1107)){return "...";}else{try{return _10e8.format(parseFloat(_1107)/100,{places:2});}catch(e){return "0.00";}}};ttl.utilities2.document_exists=function(_1108){if(_1108==null){return "...";}if(_1108==true){return "<img src='/prcommon/images/pdf.gif' width='16' height='16' style='padding:0px;margin:0px'/>";}return "";};ttl.utilities2.fonticon=function(_1109){if(_1109==null){return "...";}var _110a="";var _110b="";switch(_1109){case "News":_110a="fa fa-newspaper-o";_110b="News";break;case "Twitter":_110a="fa fa-twitter-square";break;case "Facebook":_110a="fa fa-facebook-square";break;case "Forums":_110a="fa fa-forumbee";break;case "Blogs":_110a="fa fa-bold";break;case "Instagram":_110a="fa fa-instagram";break;case "YouTube":_110a="fa fa-youtube-square";break;case "GooglePlus":_110a="fa fa-google-plus-official";break;case "Tumblr":_110a="fa fa-tumblr-square";break;case "VKontakte":_110a="fa fa-check-square";break;case "Chat":_110a="fa fa-weixin";break;}return "<i class=\" fa-fw "+_110a+"\" title=\""+_110b+"\" aria-hidden=\"true\"></i>";};ttl.utilities2.fonticon2=function(_110c){if(_110c==null){return "...";}return "<i class=\" fa "+_110c+"\" aria-hidden=\"true\"></i>";};ttl.utilities2.format_row_icon=function(){return "<i class=\" fa fa-bars aria-hidden=\"true\"></i>";};ttl.utilities2.EMPTYGRID={data_mode:"EMPTYGRID"};ttl.utilities2.range=function(start,end){var total=[];if(!end){end=start;start=0;}for(var i=start;i<end;i+=1){total.push(i);}return total;};ttl.utilities2.round_decimals=function(_110d,_110e){var _110f=_110d*Math.pow(10,_110e);var _1110=Math.round(_110f);var _1111=_1110/Math.pow(10,_110e);return ttl.utilities2.pad_with_zeros(_1111,_110e);};ttl.utilities2.pad_with_zeros=function(_1112,_1113){var _1114=_1112.toString();var _1115=_1114.indexOf(".");if(_1115==-1){decimal_part_length=0;_1114+=_1113>0?".":"";}else{decimal_part_length=_1114.length-_1115-1;}var _1116=_1113-decimal_part_length;if(_1116>0){for(var _1117=1;_1117<=_1116;_1117++){_1114+="0";}}return _1114;};return tmp;});},"research/lookups/ReasonCodes":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../lookups/templates/ReasonCodes.html","dijit/layout/BorderContainer","ttl/grid/Grid","ttl/store/JsonRest","dojo/store/Cache","dojo/store/Observable","dojo/store/Memory","dojo/request","ttl/utilities2","dojo/json","dojo/data/ItemFileReadStore","dijit/layout/ContentPane","dijit/Toolbar","dijit/form/DropDownButton","dijit/TooltipDialog","dijit/form/TextBox","dijit/form/CheckBox","dijit/form/Button","dijit/form/ValidationTextBox","dijit/form/Form",],function(_1118,_1119,_111a,_111b,Grid,_111c,Cache,_111d,_111e,_111f,_1120,json,_1121){return _1118("research.lookup.ReasonCodes",[_1119,_111b],{templateString:_111a,gutters:true,constructor:function(){this._store=new _111d(new _111c({target:"/research/admin/reasoncodes",idProperty:"reasoncodeid"}));this.reasoncategories=new _1121({url:"/common/lookups?searchtype=reasoncategories"});this.reasoncategories_filter=new _1121({url:"/common/lookups?searchtype=reasoncategories&nofilter=1"});this._add_reason_call_back=dojo.hitch(this,this._add_reason_call);},postCreate:function(){var cells=[{label:"Reason Name",className:"standard",field:"reasoncodedescription"},{label:"Categories",className:"standard",field:"reasoncategoryname"}];this.reasons=new Grid({columns:cells,selectionMode:"single",store:this._store,query:{}});this.reasoncategoryid.set("store",this.reasoncategories);this.reasoncategoryfilter.set("store",this.reasoncategories_filter);this.reasoncategoryfilter.set("value",-1);this.reasoncategoryid.set("value",1);this.inherited(arguments);},startup:function(){this.inherited(arguments);this.reasons_view.set("content",this.reasons);},_view:{noscroll:false,cells:[[{name:"Reason Name",width:"auto",field:"reasoncodedescription"},{name:"Categories",width:"auto",field:"reasoncategoryname"}]]},_execute:function(){var query={};if(arguments[0].filter.length>0){query["filter"]=arguments[0].filter;}if(arguments[0].reasoncategoryid!=-1){query["reasoncategoryid"]=arguments[0].reasoncategoryid;}this.reasons.set("query",query);},_execute_add:function(){if(this.reasoncodedescription.isValid()==false){alert("No Code Specified");}else{_111f.post("/research/admin/reason_code_add",_1120.make_params({data:{reasoncodedescription:arguments[0].reasoncodedescription,reasoncategoryid:arguments[0].reasoncategoryid}})).then(this._add_reason_call_back);}return false;},_add_reason_call:function(_1122){if(_1122.success=="OK"){alert("Reason Added");this._store.add(_1122.data);}else{if(_1122.success=="DU"){alert("Reason Already Exists");}else{alert("Problem Adding Reason");}}},_clear_filter:function(){this.reasoncategoryfilter.set("value",-1);this.reason_filter_description.set("value","");}});});},"dijit/form/_FormSelectWidget":function(){define(["dojo/_base/array","dojo/_base/Deferred","dojo/aspect","dojo/data/util/sorter","dojo/_base/declare","dojo/dom","dojo/dom-class","dojo/_base/kernel","dojo/_base/lang","dojo/query","dojo/when","dojo/store/util/QueryResults","./_FormValueWidget"],function(array,_1123,_1124,_1125,_1126,dom,_1127,_1128,lang,query,when,_1129,_112a){var _112b=_1126("dijit.form._FormSelectWidget",_112a,{multiple:false,options:null,store:null,_setStoreAttr:function(val){if(this._created){this._deprecatedSetStore(val);}},query:null,_setQueryAttr:function(query){if(this._created){this._deprecatedSetStore(this.store,this.selectedValue,{query:query});}},queryOptions:null,_setQueryOptionsAttr:function(_112c){if(this._created){this._deprecatedSetStore(this.store,this.selectedValue,{queryOptions:_112c});}},labelAttr:"",onFetch:null,sortByLabel:true,loadChildrenOnOpen:false,onLoadDeferred:null,getOptions:function(_112d){var opts=this.options||[];if(_112d==null){return opts;}if(lang.isArrayLike(_112d)){return array.map(_112d,"return this.getOptions(item);",this);}if(lang.isString(_112d)){_112d={value:_112d};}if(lang.isObject(_112d)){if(!array.some(opts,function(_112e,idx){for(var a in _112d){if(!(a in _112e)||_112e[a]!=_112d[a]){return false;}}_112d=idx;return true;})){_112d=-1;}}if(_112d>=0&&_112d<opts.length){return opts[_112d];}return null;},addOption:function(_112f){array.forEach(lang.isArrayLike(_112f)?_112f:[_112f],function(i){if(i&&lang.isObject(i)){this.options.push(i);}},this);this._loadChildren();},removeOption:function(_1130){var _1131=this.getOptions(lang.isArrayLike(_1130)?_1130:[_1130]);array.forEach(_1131,function(_1132){if(_1132){this.options=array.filter(this.options,function(node){return (node.value!==_1132.value||node.label!==_1132.label);});this._removeOptionItem(_1132);}},this);this._loadChildren();},updateOption:function(_1133){array.forEach(lang.isArrayLike(_1133)?_1133:[_1133],function(i){var _1134=this.getOptions({value:i.value}),k;if(_1134){for(k in i){_1134[k]=i[k];}}},this);this._loadChildren();},setStore:function(store,_1135,_1136){_1128.deprecated(this.declaredClass+"::setStore(store, selectedValue, fetchArgs) is deprecated. Use set('query', fetchArgs.query), set('queryOptions', fetchArgs.queryOptions), set('store', store), or set('value', selectedValue) instead.","","2.0");this._deprecatedSetStore(store,_1135,_1136);},_deprecatedSetStore:function(store,_1137,_1138){var _1139=this.store;_1138=_1138||{};if(_1139!==store){var h;while((h=this._notifyConnections.pop())){h.remove();}if(!store.get){lang.mixin(store,{_oldAPI:true,get:function(id){var _113a=new _1123();this.fetchItemByIdentity({identity:id,onItem:function(_113b){_113a.resolve(_113b);},onError:function(error){_113a.reject(error);}});return _113a.promise;},query:function(query,_113c){var _113d=new _1123(function(){if(_113e.abort){_113e.abort();}});_113d.total=new _1123();var _113e=this.fetch(lang.mixin({query:query,onBegin:function(count){_113d.total.resolve(count);},onComplete:function(_113f){_113d.resolve(_113f);},onError:function(error){_113d.reject(error);}},_113c));return new _1129(_113d);}});if(store.getFeatures()["dojo.data.api.Notification"]){this._notifyConnections=[_1124.after(store,"onNew",lang.hitch(this,"_onNewItem"),true),_1124.after(store,"onDelete",lang.hitch(this,"_onDeleteItem"),true),_1124.after(store,"onSet",lang.hitch(this,"_onSetItem"),true)];}}this._set("store",store);}if(this.options&&this.options.length){this.removeOption(this.options);}if(this._queryRes&&this._queryRes.close){this._queryRes.close();}if(this._observeHandle&&this._observeHandle.remove){this._observeHandle.remove();this._observeHandle=null;}if(_1138.query){this._set("query",_1138.query);}if(_1138.queryOptions){this._set("queryOptions",_1138.queryOptions);}if(store&&store.query){this._loadingStore=true;this.onLoadDeferred=new _1123();this._queryRes=store.query(this.query,this.queryOptions);when(this._queryRes,lang.hitch(this,function(items){if(this.sortByLabel&&!_1138.sort&&items.length){if(store.getValue){items.sort(_1125.createSortFunction([{attribute:store.getLabelAttributes(items[0])[0]}],store));}else{var _1140=this.labelAttr;items.sort(function(a,b){return a[_1140]>b[_1140]?1:b[_1140]>a[_1140]?-1:0;});}}if(_1138.onFetch){items=_1138.onFetch.call(this,items,_1138);}array.forEach(items,function(i){this._addOptionForItem(i);},this);if(this._queryRes.observe){this._observeHandle=this._queryRes.observe(lang.hitch(this,function(_1141,_1142,_1143){if(_1142==_1143){this._onSetItem(_1141);}else{if(_1142!=-1){this._onDeleteItem(_1141);}if(_1143!=-1){this._onNewItem(_1141);}}}),true);}this._loadingStore=false;this.set("value","_pendingValue" in this?this._pendingValue:_1137);delete this._pendingValue;if(!this.loadChildrenOnOpen){this._loadChildren();}else{this._pseudoLoadChildren(items);}this.onLoadDeferred.resolve(true);this.onSetStore();}),lang.hitch(this,function(err){this.onLoadDeferred.reject(err);}));}return _1139;},_setValueAttr:function(_1144,_1145){if(!this._onChangeActive){_1145=null;}if(this._loadingStore){this._pendingValue=_1144;return;}if(_1144==null){return;}if(lang.isArrayLike(_1144)){_1144=array.map(_1144,function(value){return lang.isObject(value)?value:{value:value};});}else{if(lang.isObject(_1144)){_1144=[_1144];}else{_1144=[{value:_1144}];}}_1144=array.filter(this.getOptions(_1144),function(i){return i&&i.value;});var opts=this.getOptions()||[];if(!this.multiple&&(!_1144[0]||!_1144[0].value)&&!!opts.length){_1144[0]=opts[0];}array.forEach(opts,function(opt){opt.selected=array.some(_1144,function(v){return v.value===opt.value;});});var val=array.map(_1144,function(opt){return opt.value;});if(typeof val=="undefined"||typeof val[0]=="undefined"){return;}var disp=array.map(_1144,function(opt){return opt.label;});this._setDisplay(this.multiple?disp:disp[0]);this.inherited(arguments,[this.multiple?val:val[0],_1145]);this._updateSelection();},_getDisplayedValueAttr:function(){var ret=array.map([].concat(this.get("selectedOptions")),function(v){if(v&&"label" in v){return v.label;}else{if(v){return v.value;}}return null;},this);return this.multiple?ret:ret[0];},_setDisplayedValueAttr:function(label){this.set("value",this.getOptions(typeof label=="string"?{label:label}:label));},_loadChildren:function(){if(this._loadingStore){return;}array.forEach(this._getChildren(),function(child){child.destroyRecursive();});array.forEach(this.options,this._addOptionItem,this);this._updateSelection();},_updateSelection:function(){this.focusedChild=null;this._set("value",this._getValueFromOpts());var val=[].concat(this.value);if(val&&val[0]){var self=this;array.forEach(this._getChildren(),function(child){var _1146=array.some(val,function(v){return child.option&&(v===child.option.value);});if(_1146&&!self.multiple){self.focusedChild=child;}_1127.toggle(child.domNode,this.baseClass.replace(/\s+|$/g,"SelectedOption "),_1146);child.domNode.setAttribute("aria-selected",_1146?"true":"false");},this);}},_getValueFromOpts:function(){var opts=this.getOptions()||[];if(!this.multiple&&opts.length){var opt=array.filter(opts,function(i){return i.selected;})[0];if(opt&&opt.value){return opt.value;}else{opts[0].selected=true;return opts[0].value;}}else{if(this.multiple){return array.map(array.filter(opts,function(i){return i.selected;}),function(i){return i.value;})||[];}}return "";},_onNewItem:function(item,_1147){if(!_1147||!_1147.parent){this._addOptionForItem(item);}},_onDeleteItem:function(item){var store=this.store;this.removeOption({value:store.getIdentity(item)});},_onSetItem:function(item){this.updateOption(this._getOptionObjForItem(item));},_getOptionObjForItem:function(item){var store=this.store,label=(this.labelAttr&&this.labelAttr in item)?item[this.labelAttr]:store.getLabel(item),value=(label?store.getIdentity(item):null);return {value:value,label:label,item:item};},_addOptionForItem:function(item){var store=this.store;if(store.isItemLoaded&&!store.isItemLoaded(item)){store.loadItem({item:item,onItem:function(i){this._addOptionForItem(i);},scope:this});return;}var _1148=this._getOptionObjForItem(item);this.addOption(_1148);},constructor:function(_1149){this._oValue=(_1149||{}).value||null;this._notifyConnections=[];},buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.focusNode,false);},_fillContent:function(){if(!this.options){this.options=this.srcNodeRef?query("> *",this.srcNodeRef).map(function(node){if(node.getAttribute("type")==="separator"){return {value:"",label:"",selected:false,disabled:false};}return {value:(node.getAttribute("data-"+_1128._scopeName+"-value")||node.getAttribute("value")),label:String(node.innerHTML),selected:node.getAttribute("selected")||false,disabled:node.getAttribute("disabled")||false};},this):[];}if(!this.value){this._set("value",this._getValueFromOpts());}else{if(this.multiple&&typeof this.value=="string"){this._set("value",this.value.split(","));}}},postCreate:function(){this.inherited(arguments);_1124.after(this,"onChange",lang.hitch(this,"_updateSelection"));var store=this.store;if(store&&(store.getIdentity||store.getFeatures()["dojo.data.api.Identity"])){this.store=null;this._deprecatedSetStore(store,this._oValue,{query:this.query,queryOptions:this.queryOptions});}this._storeInitialized=true;},startup:function(){this._loadChildren();this.inherited(arguments);},destroy:function(){var h;while((h=this._notifyConnections.pop())){h.remove();}if(this._queryRes&&this._queryRes.close){this._queryRes.close();}if(this._observeHandle&&this._observeHandle.remove){this._observeHandle.remove();this._observeHandle=null;}this.inherited(arguments);},_addOptionItem:function(){},_removeOptionItem:function(){},_setDisplay:function(){},_getChildren:function(){return [];},_getSelectedOptionsAttr:function(){return this.getOptions({selected:true});},_pseudoLoadChildren:function(){},onSetStore:function(){}});return _112b;});},"dijit/form/_ComboBoxMenu":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/dom-style","dojo/keys","../_WidgetBase","../_TemplatedMixin","./_ComboBoxMenuMixin","./_ListMouseMixin"],function(_114a,_114b,_114c,keys,_114d,_114e,_114f,_1150){return _114a("dijit.form._ComboBoxMenu",[_114d,_114e,_1150,_114f],{templateString:"<div class='dijitReset dijitMenu' data-dojo-attach-point='containerNode' style='overflow: auto; overflow-x: hidden;' role='listbox'>"+"<div class='dijitMenuItem dijitMenuPreviousButton' data-dojo-attach-point='previousButton' role='option'></div>"+"<div class='dijitMenuItem dijitMenuNextButton' data-dojo-attach-point='nextButton' role='option'></div>"+"</div>",baseClass:"dijitComboBoxMenu",postCreate:function(){this.inherited(arguments);if(!this.isLeftToRight()){_114b.add(this.previousButton,"dijitMenuItemRtl");_114b.add(this.nextButton,"dijitMenuItemRtl");}this.containerNode.setAttribute("role","listbox");},_createMenuItem:function(){var item=this.ownerDocument.createElement("div");item.className="dijitReset dijitMenuItem"+(this.isLeftToRight()?"":" dijitMenuItemRtl");item.setAttribute("role","option");return item;},onHover:function(node){_114b.add(node,"dijitMenuItemHover");},onUnhover:function(node){_114b.remove(node,"dijitMenuItemHover");},onSelect:function(node){_114b.add(node,"dijitMenuItemSelected");},onDeselect:function(node){_114b.remove(node,"dijitMenuItemSelected");},_page:function(up){var _1151=0;var _1152=this.domNode.scrollTop;var _1153=_114c.get(this.domNode,"height");if(!this.getHighlightedOption()){this.selectNextNode();}while(_1151<_1153){var _1154=this.getHighlightedOption();if(up){if(!_1154.previousSibling||_1154.previousSibling.style.display=="none"){break;}this.selectPreviousNode();}else{if(!_1154.nextSibling||_1154.nextSibling.style.display=="none"){break;}this.selectNextNode();}var _1155=this.domNode.scrollTop;_1151+=(_1155-_1152)*(up?-1:1);_1152=_1155;}},handleKey:function(evt){switch(evt.keyCode){case keys.DOWN_ARROW:this.selectNextNode();return false;case keys.PAGE_DOWN:this._page(false);return false;case keys.UP_ARROW:this.selectPreviousNode();return false;case keys.PAGE_UP:this._page(true);return false;default:return true;}}});});},"dijit/layout/_TabContainerBase":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","./StackContainer","./utils","../_TemplatedMixin","dojo/text!./templates/TabContainer.html"],function(_1156,_1157,_1158,_1159,_115a,_115b,_115c,_115d){return _1156("dijit.layout._TabContainerBase",[_115a,_115c],{tabPosition:"top",baseClass:"dijitTabContainer",tabStrip:false,nested:false,templateString:_115d,postMixInProperties:function(){this.baseClass+=this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"");this.srcNodeRef&&_1159.set(this.srcNodeRef,"visibility","hidden");this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);this.tablist=this._makeController(this.tablistNode);if(!this.doLayout){_1157.add(this.domNode,"dijitTabContainerNoLayout");}if(this.nested){_1157.add(this.domNode,"dijitTabContainerNested");_1157.add(this.tablist.containerNode,"dijitTabContainerTabListNested");_1157.add(this.tablistSpacer,"dijitTabContainerSpacerNested");_1157.add(this.containerNode,"dijitTabPaneWrapperNested");}else{_1157.add(this.domNode,"tabStrip-"+(this.tabStrip?"enabled":"disabled"));}},_setupChild:function(tab){_1157.add(tab.domNode,"dijitTabPane");this.inherited(arguments);},startup:function(){if(this._started){return;}this.tablist.startup();this.inherited(arguments);},layout:function(){if(!this._contentBox||typeof (this._contentBox.l)=="undefined"){return;}var sc=this.selectedChildWidget;if(this.doLayout){var _115e=this.tabPosition.replace(/-h/,"");this.tablist.region=_115e;var _115f=[this.tablist,{domNode:this.tablistSpacer,region:_115e},{domNode:this.containerNode,region:"center"}];_115b.layoutChildren(this.domNode,this._contentBox,_115f);this._containerContentBox=_115b.marginBox2contentBox(this.containerNode,_115f[2]);if(sc&&sc.resize){sc.resize(this._containerContentBox);}}else{if(this.tablist.resize){var s=this.tablist.domNode.style;s.width="0";var width=_1158.getContentBox(this.domNode).w;s.width="";this.tablist.resize({w:width});}if(sc&&sc.resize){sc.resize();}}},destroy:function(_1160){if(this.tablist){this.tablist.destroy(_1160);}this.inherited(arguments);}});});},"dijit/_KeyNavContainer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/_base/kernel","dojo/keys","dojo/_base/lang","./registry","./_Container","./_FocusMixin","./_KeyNavMixin"],function(array,_1161,_1162,_1163,keys,lang,_1164,_1165,_1166,_1167){return _1161("dijit._KeyNavContainer",[_1166,_1167,_1165],{connectKeyNavHandlers:function(_1168,_1169){var _116a=(this._keyNavCodes={});var prev=lang.hitch(this,"focusPrev");var next=lang.hitch(this,"focusNext");array.forEach(_1168,function(code){_116a[code]=prev;});array.forEach(_1169,function(code){_116a[code]=next;});_116a[keys.HOME]=lang.hitch(this,"focusFirstChild");_116a[keys.END]=lang.hitch(this,"focusLastChild");},startupKeyNavChildren:function(){_1163.deprecated("startupKeyNavChildren() call no longer needed","","2.0");},startup:function(){this.inherited(arguments);array.forEach(this.getChildren(),lang.hitch(this,"_startupChild"));},addChild:function(_116b,_116c){this.inherited(arguments);this._startupChild(_116b);},_startupChild:function(_116d){_116d.set("tabIndex","-1");},_getFirst:function(){var _116e=this.getChildren();return _116e.length?_116e[0]:null;},_getLast:function(){var _116f=this.getChildren();return _116f.length?_116f[_116f.length-1]:null;},focusNext:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,1));},focusPrev:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,-1),true);},childSelector:function(node){var node=_1164.byNode(node);return node&&node.getParent()==this;}});});},"research/outlets/OutletCopyContact":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../outlets/templates/OutletCopyContact.html","dojo/request","ttl/utilities2","dojo/_base/lang","dojo/topic","dojo/dom-attr","ttl/store/JsonRest","dojo/dom-class","dijit/layout/ContentPane","dijit/form/Button","dijit/form/TextBox","dijit/form/FilteringSelect","dijit/form/Form"],function(_1170,_1171,_1172,_1173,_1174,lang,topic,_1175,_1176,_1177){return _1170("research.outlets.OutletCopyContact",[_1171],{templateString:_1172,constructor:function(){this._copy_call_back=lang.hitch(this,this._copy_call);this._outlet_selected_call_back=lang.hitch(this,this._outlet_selected_call);this._outlets=new _1176({target:"/research/admin/outlets/list_research",idProperty:"outletid"});this._outletdesks=new _1176({target:"/research/admin/desks/list_outlet_desks",idProperty:"outletdeskid"});},postCreate:function(){this.inherited(arguments);this.outletid.set("store",this._outlets);this.outletdeskid.set("store",this._outletdesks);},_copy_contact:function(){if(_1174.form_validator(this.form)==false){alert("Not all required fields filled in");throw "N";}if(confirm("Copy Contact?")){_1173.post("/research/admin/outlets/research_copy_contact",_1174.make_params({data:this.form.get("value")})).then(this._copy_call_back);}},_copy_call:function(_1178){if(_1178.success=="OK"){alert("Contact Copied. Please verify the 'Research tab' to make sure these changes haven't effected it");if(_1178.data.source_series==true&&_1178.data.destination_series==false){alert("Series members were affected. Please run employee synchronisation process");}else{if(_1178.data.source_series==false&&_1178.data.destination_series==true){alert("Series members of DESTINATION publication were affected. Please run employee synchronisation process for DESTINATION publication");}else{if(_1178.data.source_series==true&&_1178.data.destination_series==true){alert("Series members of BOTH source AND destination publications were affected. Please run employee synchronisation process for both of them");}}}this._dialog.hide();}else{alert("Problem Copying Contact");}},clear:function(){this.outletid.set("value",null);this.outletdeskid.set("value",-1);_1175.set(this.heading,"innerHTML","");_1177.add(this.desk_view,"prmaxhidden");},clear2:function(){this.outletid.set("value",null);this.outletdeskid.set("value",-1);},load:function(_1179,_117a,_117b,_117c){this.clear();this.employeeid.set("value",_1179);_1175.set(this.heading,"innerHTML",_117a);this._dialog=_117b;this.outletid.set("query",{ioutletid:_117c});this.outletid.set("value",null);},_close_dlg:function(){this._dialog.hide();this.clear();},_outlet_selected:function(_117d){if(this.outletid.value!=""){_1173.post("/research/admin/outlets/research_outlet_is_child",_1174.make_params({data:{outletid:this.outletid.value}})).then(this._outlet_selected_call_back);}},_outlet_selected_call:function(_117e){if(_117e.is_child==false){this.outletdeskid.set("query",{outletid:_117e.outletid});this.outletdeskid.set("value",null);_1177.remove(this.desk_view,"prmaxhidden");}else{alert("Cannot copy a contact to a child outlet. Please select a parent outlet.");this.clear2();}},});});},"research/translations/translateinterests":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../translations/templates/translateinterests.html","dojo/request","ttl/utilities2","dojo/_base/lang","dojo/data/ItemFileReadStore","dojo/json","prcommon2/interests/Interests"],function(_117f,_1180,_1181,_1182,_1183,lang,_1184,json){return _117f("research.translations.translateinterests",[_1180],{templateString:_1181,gutters:false,constructor:function(){this._load_details_call_back=lang.hitch(this,this._load_details_call);this._update_translation_call_back=lang.hitch(this,this._update_translation_call);},postCreate:function(){this.inherited(arguments);},load:function(_1185,_1186){this._show_func=_1186;this.datasourcetranslationid.set("value",_1185);_1182.post("/research/international/translation/get_record",_1183.make_params({data:{datasourcetranslationid:_1185}})).then(this._load_details_call_back);},_load_details_call:function(_1187){if(_1187.success=="OK"){this.interests.set("value",_1187.data.interests);this._show_func("classification");}},_update_translation:function(){if(_1183.form_validator(this.form)==false){alert("Not all required fields filled in");throw "N";}var tmp=json.parse(this.interests.get("value"));var _1188=this.form.get("value");_1188["translation"]=json.stringify(tmp["data"]);_1182.post("/research/international/translation/update",_1183.make_params({data:_1188})).then(this._update_translation_call_back);},_update_translation_call:function(_1189){if(_1189.success=="OK"){this._show_func("classification",_1189.data);}}});});},"dijit/form/DataList":function(){define(["dojo/_base/declare","dojo/dom","dojo/_base/lang","dojo/query","dojo/store/Memory","../registry"],function(_118a,dom,lang,query,_118b,_118c){function _118d(_118e){return {id:_118e.value,value:_118e.value,name:lang.trim(_118e.innerText||_118e.textContent||"")};};return _118a("dijit.form.DataList",_118b,{constructor:function(_118f,_1190){this.domNode=dom.byId(_1190);lang.mixin(this,_118f);if(this.id){_118c.add(this);}this.domNode.style.display="none";this.inherited(arguments,[{data:query("option",this.domNode).map(_118d)}]);},destroy:function(){_118c.remove(this.id);},fetchSelectedItem:function(){var _1191=query("> option[selected]",this.domNode)[0]||query("> option",this.domNode)[0];return _1191&&_118d(_1191);}});});},"prcommon2/web/WebButton":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../web/templates/WebButton.html","dojo/request","ttl/utilities2","dojo/json","dojo/_base/lang","dojo/dom-class","dojo/topic","dijit/form/Button"],function(_1192,_1193,_1194,_1195,_1196,json,lang,_1197,topic){return _1192("prcommon2.web.WebButton",[_1193],{templateString:_1194,constructor:function(){},postCreate:function(){},_getSourceAttr:function(){return this.webbutton;},_setSourceAttr:function(value){this.webbutton=value;},_open_url_new_tab:function(){var url="";if(typeof this.webbutton=="string"){url=this.webbutton;}else{url=this.webbutton.get("value");}if(url&&url!=""){var win=window.open(url,"_blank");win.focus();}}});});},"dijit/Tooltip":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/fx","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","./_base/manager","./place","./_Widget","./_TemplatedMixin","./BackgroundIframe","dojo/text!./templates/Tooltip.html","./main"],function(array,_1198,fx,dom,_1199,_119a,_119b,lang,mouse,on,has,_119c,place,_119d,_119e,_119f,_11a0,dijit){var _11a1=_1198("dijit._MasterTooltip",[_119d,_119e],{duration:_119c.defaultDuration,templateString:_11a0,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.bgIframe=new _119f(this.domNode);this.fadeIn=fx.fadeIn({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onShow")});this.fadeOut=fx.fadeOut({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onHide")});},show:function(_11a2,_11a3,_11a4,rtl,_11a5,_11a6,_11a7){if(this.aroundNode&&this.aroundNode===_11a3&&this.containerNode.innerHTML==_11a2){return;}if(this.fadeOut.status()=="playing"){this._onDeck=arguments;return;}this.containerNode.innerHTML=_11a2;if(_11a5){this.set("textDir",_11a5);}this.containerNode.align=rtl?"right":"left";var pos=place.around(this.domNode,_11a3,_11a4&&_11a4.length?_11a4:_11a8.defaultPosition,!rtl,lang.hitch(this,"orient"));var _11a9=pos.aroundNodePos;if(pos.corner.charAt(0)=="M"&&pos.aroundCorner.charAt(0)=="M"){this.connectorNode.style.top=_11a9.y+((_11a9.h-this.connectorNode.offsetHeight)>>1)-pos.y+"px";this.connectorNode.style.left="";}else{if(pos.corner.charAt(1)=="M"&&pos.aroundCorner.charAt(1)=="M"){this.connectorNode.style.left=_11a9.x+((_11a9.w-this.connectorNode.offsetWidth)>>1)-pos.x+"px";}else{this.connectorNode.style.left="";this.connectorNode.style.top="";}}_119b.set(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=true;this.aroundNode=_11a3;this.onMouseEnter=_11a6||noop;this.onMouseLeave=_11a7||noop;},orient:function(node,_11aa,_11ab,_11ac,_11ad){this.connectorNode.style.top="";var _11ae=_11ac.h,_11af=_11ac.w;node.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_11aa+"-"+_11ab];this.domNode.style.width="auto";var size=_119a.position(this.domNode);if(has("ie")||has("trident")){size.w+=2;}var width=Math.min((Math.max(_11af,1)),size.w);_119a.setMarginBox(this.domNode,{w:width});if(_11ab.charAt(0)=="B"&&_11aa.charAt(0)=="B"){var bb=_119a.position(node);var _11b0=this.connectorNode.offsetHeight;if(bb.h>_11ae){var _11b1=_11ae-((_11ad.h+_11b0)>>1);this.connectorNode.style.top=_11b1+"px";this.connectorNode.style.bottom="";}else{this.connectorNode.style.bottom=Math.min(Math.max(_11ad.h/2-_11b0/2,0),bb.h-_11b0)+"px";this.connectorNode.style.top="";}}else{this.connectorNode.style.top="";this.connectorNode.style.bottom="";}return Math.max(0,size.w-_11af);},_onShow:function(){if(has("ie")){this.domNode.style.filter="";}},hide:function(_11b2){if(this._onDeck&&this._onDeck[1]==_11b2){this._onDeck=null;}else{if(this.aroundNode===_11b2){this.fadeIn.stop();this.isShowingNow=false;this.aroundNode=null;this.fadeOut.play();}else{}}this.onMouseEnter=this.onMouseLeave=noop;},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";if(this._onDeck){this.show.apply(this,this._onDeck);this._onDeck=null;}}});if(has("dojo-bidi")){_11a1.extend({_setAutoTextDir:function(node){this.applyTextDir(node);array.forEach(node.children,function(child){this._setAutoTextDir(child);},this);},_setTextDirAttr:function(_11b3){this._set("textDir",_11b3);if(_11b3=="auto"){this._setAutoTextDir(this.containerNode);}else{this.containerNode.dir=this.textDir;}}});}dijit.showTooltip=function(_11b4,_11b5,_11b6,rtl,_11b7,_11b8,_11b9){if(_11b6){_11b6=array.map(_11b6,function(val){return {after:"after-centered",before:"before-centered"}[val]||val;});}if(!_11a8._masterTT){dijit._masterTT=_11a8._masterTT=new _11a1();}return _11a8._masterTT.show(_11b4,_11b5,_11b6,rtl,_11b7,_11b8,_11b9);};dijit.hideTooltip=function(_11ba){return _11a8._masterTT&&_11a8._masterTT.hide(_11ba);};var _11bb="DORMANT",_11bc="SHOW TIMER",_11bd="SHOWING",_11be="HIDE TIMER";function noop(){};var _11a8=_1198("dijit.Tooltip",_119d,{label:"",showDelay:400,hideDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(newId){array.forEach(this._connections||[],function(_11bf){array.forEach(_11bf,function(_11c0){_11c0.remove();});},this);this._connectIds=array.filter(lang.isArrayLike(newId)?newId:(newId?[newId]:[]),function(id){return dom.byId(id,this.ownerDocument);},this);this._connections=array.map(this._connectIds,function(id){var node=dom.byId(id,this.ownerDocument),_11c1=this.selector,_11c2=_11c1?function(_11c3){return on.selector(_11c1,_11c3);}:function(_11c4){return _11c4;},self=this;return [on(node,_11c2(mouse.enter),function(){self._onHover(this);}),on(node,_11c2("focusin"),function(){self._onHover(this);}),on(node,_11c2(mouse.leave),lang.hitch(self,"_onUnHover")),on(node,_11c2("focusout"),lang.hitch(self,"set","state",_11bb))];},this);this._set("connectId",newId);},addTarget:function(node){var id=node.id||node;if(array.indexOf(this._connectIds,id)==-1){this.set("connectId",this._connectIds.concat(id));}},removeTarget:function(node){var id=node.id||node,idx=array.indexOf(this._connectIds,id);if(idx>=0){this._connectIds.splice(idx,1);this.set("connectId",this._connectIds);}},buildRendering:function(){this.inherited(arguments);_1199.add(this.domNode,"dijitTooltipData");},startup:function(){this.inherited(arguments);var ids=this.connectId;array.forEach(lang.isArrayLike(ids)?ids:[ids],this.addTarget,this);},getContent:function(node){return this.label||this.domNode.innerHTML;},state:_11bb,_setStateAttr:function(val){if(this.state==val||(val==_11bc&&this.state==_11bd)||(val==_11be&&this.state==_11bb)){return;}if(this._hideTimer){this._hideTimer.remove();delete this._hideTimer;}if(this._showTimer){this._showTimer.remove();delete this._showTimer;}switch(val){case _11bb:if(this._connectNode){_11a8.hide(this._connectNode);delete this._connectNode;this.onHide();}break;case _11bc:if(this.state!=_11bd){this._showTimer=this.defer(function(){this.set("state",_11bd);},this.showDelay);}break;case _11bd:var _11c5=this.getContent(this._connectNode);if(!_11c5){this.set("state",_11bb);return;}_11a8.show(_11c5,this._connectNode,this.position,!this.isLeftToRight(),this.textDir,lang.hitch(this,"set","state",_11bd),lang.hitch(this,"set","state",_11be));this.onShow(this._connectNode,this.position);break;case _11be:this._hideTimer=this.defer(function(){this.set("state",_11bb);},this.hideDelay);break;}this._set("state",val);},_onHover:function(_11c6){if(this._connectNode&&_11c6!=this._connectNode){this.set("state",_11bb);}this._connectNode=_11c6;this.set("state",_11bc);},_onUnHover:function(_11c7){this.set("state",_11be);},open:function(_11c8){this.set("state",_11bb);this._connectNode=_11c8;this.set("state",_11bd);},close:function(){this.set("state",_11bb);},onShow:function(){},onHide:function(){},destroy:function(){this.set("state",_11bb);array.forEach(this._connections||[],function(_11c9){array.forEach(_11c9,function(_11ca){_11ca.remove();});},this);this.inherited(arguments);}});_11a8._MasterTooltip=_11a1;_11a8.show=dijit.showTooltip;_11a8.hide=dijit.hideTooltip;_11a8.defaultPosition=["after-centered","before-centered"];return _11a8;});},"dijit/layout/ContentPane":function(){define(["dojo/_base/kernel","dojo/_base/lang","../_Widget","../_Container","./_ContentPaneResizeMixin","dojo/string","dojo/html","dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/_base/xhr","dojo/i18n","dojo/when","dojo/i18n!../nls/loading"],function(_11cb,lang,_11cc,_11cd,_11ce,_11cf,html,array,_11d0,_11d1,dom,_11d2,_11d3,xhr,i18n,when){return _11d0("dijit.layout.ContentPane",[_11cc,_11cd,_11ce],{href:"",content:"",extractContent:false,parseOnLoad:true,parserScope:_11cb._scopeName,preventCache:false,preload:false,refreshOnShow:false,loadingMessage:"<span class='dijitContentPaneLoading'><span class='dijitInline dijitIconLoading'></span>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'><span class='dijitInline dijitIconError'></span>${errorState}</span>",isLoaded:false,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:true,template:false,markupFactory:function(_11d4,node,ctor){var self=new ctor(_11d4,node);return !self.href&&self._contentSetter&&self._contentSetter.parseDeferred&&!self._contentSetter.parseDeferred.isFulfilled()?self._contentSetter.parseDeferred.then(function(){return self;}):self;},create:function(_11d5,_11d6){if((!_11d5||!_11d5.template)&&_11d6&&!("href" in _11d5)&&!("content" in _11d5)){_11d6=dom.byId(_11d6);var df=_11d6.ownerDocument.createDocumentFragment();while(_11d6.firstChild){df.appendChild(_11d6.firstChild);}_11d5=lang.delegate(_11d5,{content:df});}this.inherited(arguments,[_11d5,_11d6]);},postMixInProperties:function(){this.inherited(arguments);var _11d7=i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=_11cf.substitute(this.loadingMessage,_11d7);this.errorMessage=_11cf.substitute(this.errorMessage,_11d7);},buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}this.domNode.removeAttribute("title");},startup:function(){this.inherited(arguments);if(this._contentSetter){array.forEach(this._contentSetter.parseResults,function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}},this);}},_startChildren:function(){array.forEach(this.getChildren(),function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}});if(this._contentSetter){array.forEach(this._contentSetter.parseResults,function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}},this);}},setHref:function(href){_11cb.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0");return this.set("href",href);},_setHrefAttr:function(href){this.cancel();this.onLoadDeferred=new _11d1(lang.hitch(this,"cancel"));this.onLoadDeferred.then(lang.hitch(this,"onLoad"));this._set("href",href);if(this.preload||(this._created&&this._isShown())){this._load();}else{this._hrefChanged=true;}return this.onLoadDeferred;},setContent:function(data){_11cb.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",data);},_setContentAttr:function(data){this._set("href","");this.cancel();this.onLoadDeferred=new _11d1(lang.hitch(this,"cancel"));if(this._created){this.onLoadDeferred.then(lang.hitch(this,"onLoad"));}this._setContent(data||"");this._isDownloaded=false;return this.onLoadDeferred;},_getContentAttr:function(){return this.containerNode.innerHTML;},cancel:function(){if(this._xhrDfd&&(this._xhrDfd.fired==-1)){this._xhrDfd.cancel();}delete this._xhrDfd;this.onLoadDeferred=null;},destroy:function(){this.cancel();this.inherited(arguments);},destroyRecursive:function(_11d8){if(this._beingDestroyed){return;}this.inherited(arguments);},_onShow:function(){this.inherited(arguments);if(this.href){if(!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow)){return this.refresh();}}},refresh:function(){this.cancel();this.onLoadDeferred=new _11d1(lang.hitch(this,"cancel"));this.onLoadDeferred.then(lang.hitch(this,"onLoad"));this._load();return this.onLoadDeferred;},_load:function(){this._setContent(this.onDownloadStart(),true);var self=this;var _11d9={preventCache:(this.preventCache||this.refreshOnShow),url:this.href,handleAs:"text"};if(lang.isObject(this.ioArgs)){lang.mixin(_11d9,this.ioArgs);}var hand=(this._xhrDfd=(this.ioMethod||xhr.get)(_11d9)),_11da;hand.then(function(html){_11da=html;try{self._isDownloaded=true;return self._setContent(html,false);}catch(err){self._onError("Content",err);}},function(err){if(!hand.canceled){self._onError("Download",err);}delete self._xhrDfd;return err;}).then(function(){self.onDownloadEnd();delete self._xhrDfd;return _11da;});delete this._hrefChanged;},_onLoadHandler:function(data){this._set("isLoaded",true);try{this.onLoadDeferred.resolve(data);}catch(e){}},_onUnloadHandler:function(){this._set("isLoaded",false);try{this.onUnload();}catch(e){}},destroyDescendants:function(_11db){if(this.isLoaded){this._onUnloadHandler();}var _11dc=this._contentSetter;array.forEach(this.getChildren(),function(_11dd){if(_11dd.destroyRecursive){_11dd.destroyRecursive(_11db);}else{if(_11dd.destroy){_11dd.destroy(_11db);}}_11dd._destroyed=true;});if(_11dc){array.forEach(_11dc.parseResults,function(_11de){if(!_11de._destroyed){if(_11de.destroyRecursive){_11de.destroyRecursive(_11db);}else{if(_11de.destroy){_11de.destroy(_11db);}}_11de._destroyed=true;}});delete _11dc.parseResults;}if(!_11db){_11d3.empty(this.containerNode);}delete this._singleChild;},_setContent:function(cont,_11df){cont=this.preprocessContent(cont);this.destroyDescendants();var _11e0=this._contentSetter;if(!(_11e0&&_11e0 instanceof html._ContentSetter)){_11e0=this._contentSetter=new html._ContentSetter({node:this.containerNode,_onError:lang.hitch(this,this._onError),onContentError:lang.hitch(this,function(e){var _11e1=this.onContentError(e);try{this.containerNode.innerHTML=_11e1;}catch(e){}})});}var _11e2=lang.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!cont.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:false,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{});var p=_11e0.set((lang.isObject(cont)&&cont.domNode)?cont.domNode:cont,_11e2);var self=this;return when(p&&p.then?p:_11e0.parseDeferred,function(){delete self._contentSetterParams;if(!_11df){if(self._started){self._startChildren();self._scheduleLayout();}self._onLoadHandler(cont);}});},preprocessContent:function(_11e3){return _11e3;},_onError:function(type,err,_11e4){this.onLoadDeferred.reject(err);var _11e5=this["on"+type+"Error"].call(this,err);if(_11e4){}else{if(_11e5){this._setContent(_11e5,true);}}},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage;},onContentError:function(){},onDownloadError:function(){return this.errorMessage;},onDownloadEnd:function(){}});});},"research/projects/edit":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../projects/templates/edit.html","dijit/layout/BorderContainer","ttl/grid/Grid","ttl/store/JsonRest","dojo/store/Observable","dojo/request","ttl/utilities2","dojo/json","dojo/topic","dojo/_base/lang","dojo/dom-attr","dojo/data/ItemFileReadStore","dojox/layout/ExpandoPane","dijit/layout/StackContainer","dijit/layout/ContentPane","research/projects/outletwizard","research/outlets/OutletEdit","research/freelance/FreelanceEdit","research/questionnaires/OutletUpdate","research/questionnaires/DeskUpdate","research/questionnaires/FreelanceEdit","dijit/form/ValidationTextBox","dojox/validate/regexp","dijit/form/ValidationTextBox","dijit/form/Button","dijit/form/DropDownButton","dijit/TooltipDialog","dijit/form/FilteringSelect","prcommon2/search/FreelanceSearch","research/outlets/OutletEdit"],function(_11e6,_11e7,_11e8,_11e9,Grid,_11ea,_11eb,_11ec,_11ed,json,topic,lang,_11ee,_11ef){return _11e6("research.projects.edit",[_11e7,_11e9],{templateString:_11e8,gutters:false,prefix:"project",constructor:function(){this.model=new _11eb(new _11ea({target:"/research/admin/projects/projects_members",idProperty:"researchprojectitemid"}));this.researchprojectstatus=new _11ef({url:"/common/lookups?searchtype=researchprojectstatus&nofilter=1"});this._search_store=new _11eb(new _11ea({target:"/search/list_rest?searchtypeid=5&research=1",idProperty:"sessionsearchid"}));this._users=new _11ef({url:"/common/lookups?searchtype=users&group=dataadmin&nofilter"});this._update_call_back=lang.hitch(this,this._update_call);this._resend_call_back=lang.hitch(this,this._resend_call);this._load_research_call_back=lang.hitch(this,this._load_research_call);this._load_call_back=lang.hitch(this,this._load_call);this._append_call_back=lang.hitch(this,this._append_call);this._clear_search_call_back=lang.hitch(this,this._clear_search_call);this._delete_search_row_call_back=lang.hitch(this,this._delete_search_row_call);this._delete_project_item_call_back=lang.hitch(this,this._delete_project_item_call);this._load_project_item_call_back=lang.hitch(this,this._load_project_item_call);this.std_menu=null;this.full_menu=null;this.resend_menu=null;this.wizard_menu=null;},postCreate:function(){var cells=[{label:" ",field:"menu",className:"grid-field-image-view",formatter:_11ed.format_row_ctrl},{label:"OutletID",className:"dgrid-column-status-small",field:"outletid"},{label:"Outlet",className:"standard",field:"outletname"},{label:"Desk",className:"standard",field:"deskname"},{label:"Status",className:"standard",field:"researchprojectstatusdescription"},{label:"Firstname",className:"standard",field:"firstname"},{label:"Surname",className:"standard",field:"surname"}];this.grid=new Grid({columns:cells,selectionMode:"single",store:this.model});this.grid_view.set("content",this.grid);this.grid.on(" .dgrid-cell:click",lang.hitch(this,this._on_cell_call));this.researchprojectstatusid.set("store",PRCOMMON.utils.stores.Research_Project_Status());this.filter_researchprojectstatusid.set("store",this.researchprojectstatus);this.filter_researchprojectstatusid.set("value",-1);this.iuserid.set("store",this._users);this.iuserid.set("value",-1);var _11f0=[{label:"  ",className:"grid-field-image-view",field:"sessionsearchid",formatter:_11ed.format_row_ctrl},{label:"Name",className:"standard",field:"outletname"},{label:"Desk",className:"standard",field:"deskname"},{label:"Contact",className:"standard",field:"contactname"},{label:"Source",className:"dgrid-column-type-small",field:"sourcename"},{label:"Id",className:"dgrid-column-nbr-right",field:"outletid"}];this.grid_search=new Grid({columns:_11f0,selectionMode:"none",store:this._search_store});this.grid_append_view.set("content",this.grid_search);this.grid_search.on(".dgrid-row:click",lang.hitch(this,this._search_on_cell_call));this.inherited(arguments);},_on_cell_call:function(e){var cell=this.grid.cell(e);if(cell.row==undefined||cell.row.data==undefined){return;}this._data=cell.row.data;if(cell.column.field=="menu"){this._show_menu(e);}else{if(this._data.researchprojectstatusid==3&&this._data.wizard){this._wizard();}else{this._edit_item();}}},_delete_project_item_call:function(_11f1){if(_11f1.success=="OK"){this.model.remove(_11f1.researchprojectitemid);alert("Item Deleted");this.zone.selectChild(this.blank);}else{alert("Problem Deleting Item");}},_show_menu:function(evt){var menu=null;if(this._data.resend=="R"&&(this._data.wizard||this._data.researchprojectstatusid=="3")){if(this.full_menu===null){this.full_menu=new dijit.Menu();this.full_menu.addChild(new dijit.MenuItem({label:"Delete",onClick:lang.hitch(this,this._delete_item)}));this.full_menu.addChild(new dijit.MenuItem({label:"Full Edit",onClick:lang.hitch(this,this._edit_item)}));this.full_menu.addChild(new dijit.MenuItem({label:"Status",onClick:lang.hitch(this,this._complete)}));this.full_menu.addChild(new dijit.MenuItem({label:"Resend",onClick:lang.hitch(this,this._resend)}));this.full_menu.addChild(new dijit.MenuItem({label:"Customer Feedback",onClick:lang.hitch(this,this._wizard)}));this.full_menu.addChild(new dijit.MenuItem({label:"Show Questionnaire",onClick:lang.hitch(this,this._show_quest)}));this.full_menu.startup();}menu=this.full_menu;}else{if(this._data.resend=="R"&&this._data.wizard==""){if(this.resend_menu===null){this.resend_menu=new dijit.Menu();this.resend_menu.addChild(new dijit.MenuItem({label:"Delete",onClick:lang.hitch(this,this._delete_item)}));this.resend_menu.addChild(new dijit.MenuItem({label:"Full Edit",onClick:lang.hitch(this,this._edit_item)}));this.resend_menu.addChild(new dijit.MenuItem({label:"Status",onClick:lang.hitch(this,this._complete)}));this.resend_menu.addChild(new dijit.MenuItem({label:"Resend",onClick:lang.hitch(this,this._resend)}));this.resend_menu.addChild(new dijit.MenuItem({label:"Show Questionnaire",onClick:lang.hitch(this,this._show_quest)}));this.resend_menu.startup();}menu=this.resend_menu;}else{if(this._data.resend!="R"&&(this._data.wizard||this._data.researchprojectstatusid=="3")){if(this.wizard_menu===null){this.wizard_menu=new dijit.Menu();this.wizard_menu.addChild(new dijit.MenuItem({label:"Delete",onClick:lang.hitch(this,this._delete_item)}));this.wizard_menu.addChild(new dijit.MenuItem({label:"Full Edit",onClick:lang.hitch(this,this._edit_item)}));this.wizard_menu.addChild(new dijit.MenuItem({label:"Status",onClick:lang.hitch(this,this._complete)}));this.wizard_menu.addChild(new dijit.MenuItem({label:"Customer Feedback",onClick:lang.hitch(this,this._wizard)}));this.wizard_menu.addChild(new dijit.MenuItem({label:"Show Questionnaire",onClick:lang.hitch(this,this._show_quest)}));this.wizard_menu.startup();}menu=this.wizard_menu;}else{if(this.std_menu===null){this.std_menu=new dijit.Menu();this.std_menu.addChild(new dijit.MenuItem({label:"Delete",onClick:lang.hitch(this,this._delete_item)}));this.std_menu.addChild(new dijit.MenuItem({label:"Full Edit",onClick:lang.hitch(this,this._edit_item)}));this.std_menu.addChild(new dijit.MenuItem({label:"Status",onClick:lang.hitch(this,this._complete)}));this.std_menu.addChild(new dijit.MenuItem({label:"Show Questionnaire",onClick:lang.hitch(this,this._show_quest)}));this.std_menu.startup();}menu=this.std_menu;}}}menu._openMyself(evt);},_show_quest:function(){var tmp=PRMAX.Settings.questionnaireurl+this._data.researchprojectitemid+"/quest";window.open(tmp,"_blank");},_wizard:function(){if(this._data.wizard){if(this._data.prmax_outletgroupid=="freelance"){this.freelancewizard.load(this._data.researchprojectitemid);this.zone.selectChild(this.freelancewizard);}else{if(this._data.outletdeskid){this.deskwizard.load(this._data.researchprojectitemid);this.zone.selectChild(this.deskwizard);}else{this.outletwizard.load(this._data.researchprojectitemid);this.zone.selectChild(this.outletwizard);}}}},_resend:function(){this.researchprojectitemid2.set("value",this._data.researchprojectitemid);_11ec.post("/research/admin/projects/project_item_details",_11ed.make_params({data:{researchprojectitemid:this._data.researchprojectitemid}})).then(this._load_research_call_back);},_delete_item:function(){if(confirm("Delete Project Item")){_11ec.post("/research/admin/projects/project_item_delete",_11ed.make_params({data:{researchprojectitemid:this._data.researchprojectitemid}})).then(this._delete_project_item_call_back);}},_edit_item:function(){if(this._data.prmax_outletgroupid=="freelance"){this.zone.selectChild(this.freelanceedit);this.freelanceedit.load(this._data.outletid);}else{this.zone.selectChild(this.outletedit);this.outletedit.load(this._data.outletid,this.prefix);}},_complete:function(){_11ec.post("/research/admin/projects/project_item_details",_11ed.make_params({data:{researchprojectitemid:this._data.researchprojectitemid}})).then(this._load_project_item_call_back);},_load_project_item_call:function(_11f2){if(_11f2.success=="OK"){this.researchprojectitemid.set("value",_11f2.data.item.researchprojectitemid);this.researchprojectstatusid.set("value",_11f2.data.item.researchprojectstatusid);this.zone.selectChild(this.statusedit);}else{alert("Please complete the Research details.");}},_search_on_cell_call:function(e){var cell=this.grid_search.cell(e);if(cell.column.id=="0"){if(confirm("Remove from results?")){_11ec.post("/search/delete_session_row",_11ed.make_params({data:{searchtypeid:5,sessionsearchid:cell.row.data.sessionsearchid}})).then(this._delete_search_row_call_back);}}},_delete_search_row_call:function(_11f3){if(_11f3.success=="OK"){this._search_store.remove(_11f3.sessionsearchid);}},_load_research_call:function(_11f4){if(_11f4.success=="OK"){this.subject.set("value",_11f4.data.subject);this.email.set("value",_11f4.data.email);this.bodytext.set("value","\n<LINK TO DATABASE>\n");this.sendbtn.cancel();this.resend_dlg.show();}},load:function(_11f5){this.researchprojectid=_11f5.researchprojectid;this.grid.set("query",{researchprojectid:_11f5.researchprojectid});_11ee.set(this.researchprojectname,"innerHTML",_11f5.researchprojectname);this.zone.selectChild(this.blank);},_clear:function(){this.researchprojectitemid.set("researchprojectitemid",-1);this.researchprojectstatusid.set("value",1);},_update_call:function(_11f6){if(_11f6.success=="OK"){this.model.put(_11f6.data);alert("Record Updated");}else{alert("Problem");}},_update_record:function(){_11ec.post("/research/admin/projects/project_item_update",_11ed.make_params({data:this.form.get("value")})).then(this._update_call_back);},_update_record_complete:function(){_11ec.post("/research/admin/projects/project_item_update_complete",_11ed.make_params({data:{researchprojectitemid:this.researchprojectitemid.get("value")}})).then(this._update_call_back);},_send_email_record:function(){if(_11ed.form_validator(this.form_resend)==false){alert("Not all required field filled in");throw "N";}var tmp=this.bodytext.get("value");if(tmp.indexOf("<LINK TO DATABASE>")===-1){alert("Missing Link to database");this.bodytext.set("value",tmp+"\n<LINK TO DATABASE>");throw "N";}var data=this.form_resend.get("value");_11ec.post("/research/admin/projects/project_quest_resend",_11ed.make_params({data:data})).then(this._resend_call_back);},_resend_call:function(_11f7){if(_11f7.success=="OK"){this.model.put(_11f7.data);alert("Questionairre Link Resent");this.resend_dlg.hide();this.sendbtn.cancel();}else{alert("Problem");}this.sendbtn.cancel();},_clear_filter:function(){this.filter_researchprojectstatusid.set("value",-1);this.filter_outletname.set("value","");this.filter_emailaddress.set("value","");},_execute_filter:function(){var query={researchprojectid:this.researchprojectid};if(arguments[0].researchprojectstatusid!="-1"){query["researchprojectstatusid"]=arguments[0].researchprojectstatusid;}if(arguments[0].outletname!=""){query["outletname"]=arguments[0].outletname;}if(arguments[0].emailaddress!=""){query["emailaddress"]=arguments[0].emailaddress;}this.grid.set("query",query);},_list_of_projects:function(){topic.publish("/projects/list");},_show_info:function(){this.info_page.set("href","/research/admin/projects/projects_status?researchprojectid="+this.researchprojectid);this.zone.selectChild(this.info_page);},_delete_search_row_call:function(_11f8){if(_11f8.success=="OK"){this._search_store.remove(_11f8.sessionsearchid);}},_clear_search_call:function(_11f9){if(_11f9.success=="OK"){this._load_search_call();}},_clear_search:function(){this.grid_search.set("query",{});_11ec.post("/search/sessionclear",_11ed.make_params({data:{searchtypeid:5}})).then(this._clear_search_call_back);},_clear_search_criteria:function(){this.search_tab_outlet.clear();this.search_tab_freelance.clear();},_get_form:function(){var form=null;dojo.every(this.search_tabcont.selectedChildWidget.getChildren(),function(_11fa){if(_11fa.formid!=null){form=_11fa;}});return form;},_search:function(){var form=this._get_form();form.setExtendedMode(false);var _11fb=form.get("value");_11fb["mode"]=1;_11fb["search_partial"]=2;_11fb["searchtypeid"]=5;_11ec.post("/search/dosearch",_11ed.make_params({data:_11fb})).then(this._load_call_back);},_load_call:function(_11fc){this.searchbutton.cancel();this.grid_search.set("query",{});},_search_append:function(){if(confirm("Append to Project")){_11ec.post("/research/admin/projects/projects_append",_11ed.make_params({data:{researchprojectid:this.researchprojectid}})).then(this._append_call_back);}else{this.search_append.cancel();}},_append_call:function(_11fd){if(_11fd.success=="OK"){this.grid.set("query",{researchprojectid:this.researchprojectid});alert("Search Appended");this.grid_search.set("query",{});}else{alert("Problem");}this.search_append.cancel();},_show_add:function(){this.zone.selectChild(this.append_select);},_do_refresh:function(){this.grid.set("query",{researchprojectid:this.researchprojectid});}});});},"dijit/_HasDropDown":function(){define(["dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","dojo/touch","./registry","./focus","./popup","./_FocusMixin"],function(_11fe,_11ff,dom,_1200,_1201,_1202,_1203,has,keys,lang,on,touch,_1204,focus,popup,_1205){return _11fe("dijit._HasDropDown",_1205,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:true,forceWidth:false,maxHeight:-1,dropDownPosition:["below","above"],_stopClickEvents:true,_onDropDownMouseDown:function(e){if(this.disabled||this.readOnly){return;}if(e.type!="MSPointerDown"&&e.type!="pointerdown"){e.preventDefault();}this.own(on.once(this.ownerDocument,touch.release,lang.hitch(this,"_onDropDownMouseUp")));this.toggleDropDown();},_onDropDownMouseUp:function(e){var _1206=this.dropDown,_1207=false;if(e&&this._opened){var c=_1202.position(this._buttonNode,true);if(!(e.pageX>=c.x&&e.pageX<=c.x+c.w)||!(e.pageY>=c.y&&e.pageY<=c.y+c.h)){var t=e.target;while(t&&!_1207){if(_1201.contains(t,"dijitPopup")){_1207=true;}else{t=t.parentNode;}}if(_1207){t=e.target;if(_1206.onItemClick){var _1208;while(t&&!(_1208=_1204.byNode(t))){t=t.parentNode;}if(_1208&&_1208.onClick&&_1208.getParent){_1208.getParent().onItemClick(_1208,e);}}return;}}}if(this._opened){if(_1206.focus&&(_1206.autoFocus!==false||(e.type=="mouseup"&&!this.hovering))){this._focusDropDownTimer=this.defer(function(){_1206.focus();delete this._focusDropDownTimer;});}}else{if(this.focus){this.defer("focus");}}},_onDropDownClick:function(e){if(this._stopClickEvents){e.stopPropagation();e.preventDefault();}},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var _1209={"after":this.isLeftToRight()?"Right":"Left","before":this.isLeftToRight()?"Left":"Right","above":"Up","below":"Down","left":"Left","right":"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";_1201.add(this._arrowWrapperNode||this._buttonNode,"dijit"+_1209+"ArrowButton");},postCreate:function(){this.inherited(arguments);var _120a=this.focusNode||this.domNode;this.own(on(this._buttonNode,touch.press,lang.hitch(this,"_onDropDownMouseDown")),on(this._buttonNode,"click",lang.hitch(this,"_onDropDownClick")),on(_120a,"keydown",lang.hitch(this,"_onKey")),on(_120a,"keyup",lang.hitch(this,"_onKeyUp")));},destroy:function(){if(this._opened){this.closeDropDown(true);}if(this.dropDown){if(!this.dropDown._destroyed){this.dropDown.destroyRecursive();}delete this.dropDown;}this.inherited(arguments);},_onKey:function(e){if(this.disabled||this.readOnly){return;}var d=this.dropDown,_120b=e.target;if(d&&this._opened&&d.handleKey){if(d.handleKey(e)===false){e.stopPropagation();e.preventDefault();return;}}if(d&&this._opened&&e.keyCode==keys.ESCAPE){this.closeDropDown();e.stopPropagation();e.preventDefault();}else{if(!this._opened&&(e.keyCode==keys.DOWN_ARROW||((e.keyCode==keys.ENTER||(e.keyCode==keys.SPACE&&(!this._searchTimer||(e.ctrlKey||e.altKey||e.metaKey))))&&((_120b.tagName||"").toLowerCase()!=="input"||(_120b.type&&_120b.type.toLowerCase()!=="text"))))){this._toggleOnKeyUp=true;e.stopPropagation();e.preventDefault();}}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var d=this.dropDown;if(d&&d.focus){this.defer(lang.hitch(d,"focus"),1);}}},_onBlur:function(){this.closeDropDown(false);this.inherited(arguments);},isLoaded:function(){return true;},loadDropDown:function(_120c){_120c();},loadAndOpenDropDown:function(){var d=new _11ff(),_120d=lang.hitch(this,function(){this.openDropDown();d.resolve(this.dropDown);});if(!this.isLoaded()){this.loadDropDown(_120d);}else{_120d();}return d;},toggleDropDown:function(){if(this.disabled||this.readOnly){return;}if(!this._opened){this.loadAndOpenDropDown();}else{this.closeDropDown(true);}},openDropDown:function(){var _120e=this.dropDown,_120f=_120e.domNode,_1210=this._aroundNode||this.domNode,self=this;var _1211=popup.open({parent:this,popup:_120e,around:_1210,orient:this.dropDownPosition,maxHeight:this.maxHeight,onExecute:function(){self.closeDropDown(true);},onCancel:function(){self.closeDropDown(true);},onClose:function(){_1200.set(self._popupStateNode,"popupActive",false);_1201.remove(self._popupStateNode,"dijitHasDropDownOpen");self._set("_opened",false);}});if(this.forceWidth||(this.autoWidth&&_1210.offsetWidth>_120e._popupWrapper.offsetWidth)){var _1212=_1210.offsetWidth-_120e._popupWrapper.offsetWidth;var _1213={w:_120e.domNode.offsetWidth+_1212};this._origStyle=_120f.style.cssText;if(lang.isFunction(_120e.resize)){_120e.resize(_1213);}else{_1202.setMarginBox(_120f,_1213);}if(_1211.corner[1]=="R"){_120e._popupWrapper.style.left=(_120e._popupWrapper.style.left.replace("px","")-_1212)+"px";}}_1200.set(this._popupStateNode,"popupActive","true");_1201.add(this._popupStateNode,"dijitHasDropDownOpen");this._set("_opened",true);this._popupStateNode.setAttribute("aria-expanded","true");this._popupStateNode.setAttribute("aria-owns",_120e.id);if(_120f.getAttribute("role")!=="presentation"&&!_120f.getAttribute("aria-labelledby")){_120f.setAttribute("aria-labelledby",this.id);}return _1211;},closeDropDown:function(focus){if(this._focusDropDownTimer){this._focusDropDownTimer.remove();delete this._focusDropDownTimer;}if(this._opened){this._popupStateNode.setAttribute("aria-expanded","false");if(focus&&this.focus){this.focus();}popup.close(this.dropDown);this._opened=false;}if(this._origStyle){this.dropDown.domNode.style.cssText=this._origStyle;delete this._origStyle;}}});});},"prcommon2/outlet/desks/DeskAdd":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../desks/templates/DeskAdd.html","dijit/layout/BorderContainer","dijit/layout/ContentPane","dojo/request","ttl/utilities2","dojo/json","dojo/_base/lang","dojo/dom-class","dojo/dom-attr","dojo/topic","dojo/data/ItemFileReadStore","dijit/form/TextBox","dijit/form/Button","dijit/form/Form","dojox/form/BusyButton"],function(_1214,_1215,_1216,_1217,_1218,_1219,_121a,json,lang,_121b,_121c,topic,_121d){return _1214("prcommon2.outlet.desks.DeskAdd",[_1215,_1217],{templateString:_1216,mode:"add",constructor:function(){this._add_call_back=lang.hitch(this,this._add_call);this._load_call_back=lang.hitch(this,this._load_call);this._update_call_back=lang.hitch(this,this._update_call);this._delete_call_back=lang.hitch(this,this._delete_call);this._dialog=null;this._required_old=null;this._required_new=null;this._has_address_old=null;this._has_address_new=null;this._months=new _121d({url:"/common/lookups?searchtype=months&ignore=1"});},postCreate:function(){this.inherited(arguments);this.researchfrequencyid.set("store",PRCOMMON.utils.stores.Research_Frequencies());for(var count=1;count<5;++count){this["quest_month_"+count].set("store",this._months);this["quest_month_"+count].set("value",-1);}},_add_dates:function(){if(_121a.form_validator(this.form)==false){alert("Not all required field filled in");this.savenode.cancel();throw "N";}var data=lang.mixin(this.form.get("value"),this.form1.get("value"));data["last_research_completed"]=_121a.to_json_date(this.last_research_completed.get("value"));data["last_questionaire_sent"]=_121a.to_json_date(this.last_questionaire_sent.get("value"));if(this.mode=="add"){if(confirm("Add Desk?")){_1219.post("/research/admin/desks/add",_121a.make_params({data:data})).then(this._add_call_back);}else{this.savenode.cancel();throw "N";}}else{if(confirm("Update Desk?")){data["required_old"]=this._required_old;data["required_new"]=this._required_new;data["has_address_old"]=this._has_address_old;if(this._has_address_new!=null){data["has_address_new"]=this._has_address_new;}else{data["has_address_new"]=this._has_address_old;}_1219.post("/research/admin/desks/update",_121a.make_params({data:data})).then(this._update_call_back);}else{this.savenode.cancel();throw "N";}}},_add_call:function(_121e){if(_121e.success=="OK"){alert("Desk Added");this.clear();if(this._dialog){this._dialog("hide");}topic.publish(PRCOMMON.Events.Desk_Added,_121e.data);this._has_address_old=this._has_address_new;this._required_old=this._required_new;}else{if(_121e.success=="DU"){alert("Desk Already Exists");this.deskname.focus();}else{alert("Failed");}}this.savenode.cancel();},_update_call:function(_121f){if(_121f.success=="OK"){alert("Desk Updated");topic.publish(PRCOMMON.Events.Desk_Updated,_121f.data);this._has_address_old=this._has_address_new;this._required_old=this._required_new;if(this._has_address_new==false){this._clear_address();}}else{if(_121f.success=="DU"){alert("Desk Already Exists");this.deskname.focus();}else{alert("Failed");}}this.savenode.cancel();},_clear_address:function(){this._address_show_do(false);this.address1.set("value","");this.address2.set("value","");this.townname.set("value","");this.county.set("value","");this.postcode.set("value","");},clear:function(){this.deskname.set("value","");this.outletdeskid.set("value",-1);this.email.set("value","");this.tel.set("value","");this.fax.set("value","");this.twitter.set("value","");this.facebook.set("value","");this.linkedin.set("value","");this.instagram.set("value","");this.research_surname.set("value","");this.research_firstname.set("value","");this.research_prefix.set("value","");this.research_job_title.set("value","");this.research_email.set("value","");this.research_tel.set("value","");this.research_required.set("checked",true);this.researchfrequencyid.set("value",4);this.has_address.set("checked",false);this._clear_address();this.notes.set("value","");this.last_questionaire_sent.set("value",null);this.last_research_completed.set("value",null);_121c.set(this.last_research_changed_date,"innerHTML","");this._change_view();this._show_months();this.savenode.cancel();_121b.add(this.delete_button,"prmaxhidden");},focus:function(){this.deskname.focus();},_setDialogAttr:function(_1220){this._dialog=_1220;},_setOutletidAttr:function(_1221){this.outletid.set("value",_1221);},load:function(_1222){this.savenode.cancel();_121b.add(this.delete_button,"prmaxhidden");_1219.post("/research/admin/desks/get",_121a.make_params({data:{outletdeskid:_1222}})).then(this._load_call_back);},_load_call:function(_1223){if(_1223.success=="OK"){var _1224=false;this.outletdeskid.set("value",_1223.data.outletdesk.outletdeskid);this.deskname.set("value",_1223.data.outletdesk.deskname);if(_1223.data.outletdeskcomms){this.email.set("value",_1223.data.outletdeskcomms.email);this.tel.set("value",_1223.data.outletdeskcomms.tel);this.fax.set("value",_1223.data.outletdeskcomms.fax);this.twitter.set("value",_1223.data.outletdeskcomms.twitter);this.facebook.set("value",_1223.data.outletdeskcomms.facebook);this.linkedin.set("value",_1223.data.outletdeskcomms.linkedin);this.instagram.set("value",_1223.data.outletdeskcomms.instagram);}else{this.email.set("value","");this.tel.set("value","");this.fax.set("value","");this.twitter.set("value","");this.facebook.set("value","");this.linkedin.set("value","");this.instagram.set("value","");}if(_1223.data.deskaddress!=null){this.has_address.set("checked",true);this._has_address_old=true;this._address_show_do(true);this.address1.set("value",_1223.data.deskaddress.address1);this.address2.set("value",_1223.data.deskaddress.address2);this.townname.set("value",_1223.data.deskaddress.townname);this.county.set("value",_1223.data.deskaddress.county);this.postcode.set("value",_1223.data.deskaddress.postcode);}else{this.has_address.set("checked",false);this._has_address_old=false;this._address_show_do(false);this.address1.set("value","");this.address2.set("value","");this.townname.set("value","");this.county.set("value","");this.postcode.set("value","");}if(_1223.data.researchoutletdesk){this.research_required.set("checked",true);this._required_old=true;_1224=true;this.research_surname.set("value",_1223.data.researchoutletdesk.surname);this.research_firstname.set("value",_1223.data.researchoutletdesk.firstname);this.research_prefix.set("value",_1223.data.researchoutletdesk.prefix);this.research_job_title.set("value",_1223.data.researchoutletdesk.job_title);this.research_email.set("value",_1223.data.researchoutletdesk.email);this.research_tel.set("value",_1223.data.researchoutletdesk.tel);this.researchfrequencyid.set("value",_1223.data.researchoutletdesk.researchfrequencyid==null?4:_1223.data.researchoutletdesk.researchfrequencyid);this.quest_month_1.set("value",_1223.data.researchoutletdesk.quest_month_1==null?-1:_1223.data.researchoutletdesk.quest_month_1);this.quest_month_2.set("value",_1223.data.researchoutletdesk.quest_month_2==null?-1:_1223.data.researchoutletdesk.quest_month_2);this.quest_month_3.set("value",_1223.data.researchoutletdesk.quest_month_3==null?-1:_1223.data.researchoutletdesk.quest_month_3);this.quest_month_4.set("value",_1223.data.researchoutletdesk.quest_month_4==null?-1:_1223.data.researchoutletdesk.quest_month_4);this.last_questionaire_sent.set("value",_121a.from_object_date_no_date(_1223.data.last_questionaire_sent));this.last_research_completed.set("value",_121a.from_object_date_no_date(_1223.data.last_research_completed));_121c.set(this.last_research_changed_date,"innerHTML",_1223.data.last_research_changed_date);this.notes.set("value",_1223.data.researchoutletdesk.notes);}else{this.research_required.set("checked",false);this._required_old=false;this.research_surname.set("value","");this.research_firstname.set("value","");this.research_prefix.set("value","");this.research_job_title.set("value","");this.research_email.set("value","");this.research_tel.set("value","");this.researchfrequencyid.set("value",4);this.quest_month_1.set("value",-1);this.quest_month_2.set("value",-1);this.quest_month_3.set("value",-1);this.quest_month_4.set("value",-1);this.last_questionaire_sent.set("value",null);this.last_research_completed.set("value",null);_121c.set(this.last_research_changed_date,"innerHTML","");this.notes.set("value","");}_121b.remove(this.delete_button,"prmaxhidden");_121b.add(this.close_button,"prmaxhidden");this._change_view();this._show_months(_1224);this._dialog("show");}else{alert("Problem");}},_close:function(){if(this._dialog){this._dialog("hide");}},_delete:function(){if(confirm("Delete Desk")){_1219.post("/research/admin/desks/delete",_121a.make_params({data:{outletdeskid:this.outletdeskid.get("value")}})).then(this._delete_call_back);}},_delete_call:function(_1225){if(_1225.success=="OK"){alert("Desk Deleted");if(this._dialog){this._dialog("hide");}topic.publish(PRCOMMON.Events.Desk_Deleted,this.outletdeskid.get("value"));}else{alert("Failed");}},_change_view:function(){var _1226=_121b.add;if(this.research_required.get("checked")){_1226=_121b.remove;this._required_new=true;}else{this._required_new=false;}for(var count=1;count<12;++count){_1226(this["research_required_"+count],"prmaxhidden");}for(var count=1;count<5;++count){_1226(this["quest_month_2_label_"+count],"prmaxhidden");}this._show_months(this.research_required.get("checked"));var _1227=this.outletdeskid.get("value");if(_1227=="-1"||_1227==null){for(var count=8;count<11;++count){_121b.add(this["research_required_"+count],"prmaxhidden");}}},_show_months_check:function(){this._show_months(this.research_required.get("checked"));},_show_months:function(_1228){var tmp=this.researchfrequencyid.get("value");var _1229=dojo.addClass;var _122a=dojo.addClass;var _122b=dojo.addClass;var _122c=dojo.addClass;var _122d=-1;var _122e=-1;var _122f=-1;var _1230=-1;if(_1228==false){tmp="1";}switch(tmp){case "1":break;case "5":_1229=dojo.removeClass;_122d=null;break;case "8":_1229=dojo.removeClass;_122a=dojo.removeClass;_122d=null;_122e=null;break;case "7":_1229=dojo.removeClass;_122a=dojo.removeClass;_122b=dojo.removeClass;_122d=null;_122e=null;_122f=null;break;default:_1229=dojo.removeClass;_122a=dojo.removeClass;_122b=dojo.removeClass;_122c=dojo.removeClass;_122d=null;_122e=null;_122f=null;_1230=null;break;}_1229(this.quest_month_2_label_1,"prmaxhidden");_122a(this.quest_month_2_label_2,"prmaxhidden");_122b(this.quest_month_2_label_3,"prmaxhidden");_122c(this.quest_month_2_label_4,"prmaxhidden");if(_122d==-1){this.quest_month_1.set("value",-1);}if(_122e==-1){this.quest_month_2.set("value",-1);}if(_122f==-1){this.quest_month_3.set("value",-1);}if(_1230==-1){this.quest_month_4.set("value",-1);}},_address_show:function(){this._address_show_do(this.has_address.get("checked"));if(this.has_address.get("checked")){this._has_address_old=false;this._has_address_new=true;}else{this._has_address_old=true;this._has_address_new=false;}},_address_show_do:function(_1231){var _1232=["addr1","addr2","addr3","addr4","addr5"];if(_1231==false){for(var key in _1232){_121b.add(this[_1232[key]],"prmaxhidden");}}else{for(var key in _1232){_121b.remove(this[_1232[key]],"prmaxhidden");}}}});});},"research/questionnaires/DeskDetails":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../questionnaires/templates/DeskDetails.html","dijit/layout/BorderContainer","dojo/topic","dojo/_base/lang","ttl/utilities2","dojo/request","dojox/data/JsonRestStore","dojo/data/ItemFileReadStore","dijit/layout/ContentPane","dijit/form/Form","dijit/form/ValidationTextBox","dijit/form/FilteringSelect","dojox/validate/regexp","dijit/form/Button","dijit/form/NumberTextBox","dojox/form/BusyButton","dijit/Dialog","dojox/validate","research/questionnaires/UserModified","prcommon2/web/WebButton"],function(_1233,_1234,_1235,_1236,topic,lang,_1237,_1238,_1239,_123a){return _1233("research.questionnaires.DeskDetails",[_1234,_1236],{templateString:_1235,gutters:true,constructor:function(){this._updated_call_back=lang.hitch(this,this._updated_call);},postCreate:function(){this.facebook_show.set("source",this.facebook);this.twitter_show.set("source",this.twitter);this.linkedin_show.set("source",this.linkedin);this.instagram_show.set("source",this.instagram);this.inherited(arguments);},_updated_call:function(_123b){if(_123b.success=="OK"){alert("Updated");}else{alert("Failed to updated");}this.updatebtn.cancel();},clear:function(){this.updatebtn.cancel();this._reset_fields();},_reset_fields:function(){this.deskname_modified.clear();this.email_modified.clear();this.tel_modified.clear();this.fax_modified.clear();this.address1_modified.clear();this.address2_modified.clear();this.townname_modified.clear();this.county_modified.clear();this.postcode_modified.clear();this.twitter_modified.clear();this.facebook_modified.clear();this.linkedin_modified.clear();this.instagram_modified.clear();},load:function(_123c,_123d,_123e){this._reset_fields();this.deskname.set("value",_123d.desk.desk.deskname);var _123f="";var _1240="";var _1241="";var _1242="";var _1243="";if(_123d.desk.address){_123f=_123d.desk.address.address1;_1240=_123d.desk.address.address2;_1241=_123d.desk.address.townname;_1242=_123d.desk.address.county;_1243=_123d.desk.address.postcode;}this.address1.set("value",_123f);this.address2.set("value",_1240);this.townname.set("value",_1241);this.county.set("value",_1242);this.postcode.set("value",_1243);this.email.set("value",_123d.desk.comms.email);this.tel.set("value",_123d.desk.comms.tel);this.fax.set("value",_123d.desk.comms.fax);this.linkedin.set("value",_123d.desk.comms.linkedin);this.twitter.set("value",_123d.desk.comms.twitter);this.facebook.set("value",_123d.desk.comms.facebook);this.instagram.set("value",_123d.desk.comms.instagram);this.researchprojectitemid.set("value",_123c.researchprojectitemid);for(var key in _123e){var _1244=_123e[key];switch(_1244.fieldid){case 66:this.deskname_modified.load(_1244.value,_123d.desk.desk.deskname,this.deskname);break;case 4:this.email_modified.load(_1244.value,_123d.desk.comms.email,this.email);break;case 5:this.tel_modified.load(_1244.value,_123d.desk.comms.tel,this.tel);break;case 6:this.fax_modified.load(_1244.value,_123d.desk.comms.fax,this.fax);break;case 12:this.address1_modified.load(_1244.value,_123f,this.address1);break;case 13:this.address2_modified.load(_1244.value,_1240,this.address2);break;case 14:this.townname_modified.load(_1244.value,_1241,this.townname);break;case 15:this.county_modified.load(_1244.value,_1242,this.county);break;case 16:this.postcode_modified.load(_1244.value,_1243,this.postcode);break;case 25:this.twitter_modified.load(_1244.value,_123d.desk.comms.twitter,this.twitter);break;case 26:this.facebook_modified.load(_1244.value,_123d.desk.comms.facebook,this.facebook);break;case 28:this.linkedin_modified.load(_1244.value,_123d.desk.comms.linkedin,this.linkedin);break;case 72:this.instagram_modified.load(_1244.value,_123d.desk.comms.instagram,this.instagram);break;case 66:this.deskname_modified.load(_1244.value,_123d.desk.desk.deskname,this.deskname);break;}}},_update:function(){if(_1237.form_validator(this.form)==false){alert("Not all required field filled in");throw "N";}_1238.post("/research/admin/projects/user_feed_accept_desk",_1237.make_params({data:this.form.get("value")})).then(this._updated_call_back);}});});},"research/employees/EmployeeEdit":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dijit/layout/ContentPane","dojo/text!../employees/templates/EmployeeEdit.html","dijit/layout/BorderContainer","dojo/request","ttl/utilities2","dojo/json","dojo/_base/lang","dojo/topic","dojox/data/JsonRestStore","dojo/store/Observable","dojo/dom-attr","dojo/dom-class","dojo/window","dijit/form/RadioButton","dijit/form/FilteringSelect","dijit/form/Button","dojox/validate","research/employees/EmployeeSelect","prcommon2/roles/Roles","prcommon2/web/WebButton"],function(_1245,_1246,_1247,_1248,_1249,_124a,_124b,json,lang,topic,_124c,_124d,_124e,_124f,win){return _1245("research.employees.EmployeeEdit",[_1246,_1249],{templateString:_1248,employeeid:-1,outletid:-1,gutters:false,constructor:function(){this._saved_call=lang.hitch(this,this._saved);this._load_call=lang.hitch(this,this._load);this._copy_interests_call=lang.hitch(this,this._copy_interests);this._desklist=null;this._count_desks=0;this._has_address_old=null;this._has_address_new=null;this._series_parent=false;this.reasoncode_data_add=PRCOMMON.utils.stores.Research_Reason_Add_Codes();this.reasoncode_data_upd=PRCOMMON.utils.stores.Research_Reason_Update_Codes();topic.subscribe(PRCOMMON.Events.Employee_Add,lang.hitch(this,this._employee_add_update_event));topic.subscribe(PRCOMMON.Events.Employee_Updated,lang.hitch(this,this._employee_add_update_event));},_saved:function(_1250){if(_1250.success=="OK"){if(this.employeeidnode.get("value")==-1){this.employeeidnode.set("value",_1250.employee.employeeid);topic.publish(PRCOMMON.Events.Employee_Add,_1250.employee);alert("Contact added. Please verify the 'Research tab' to make sure these changes haven't effected it");this._close();}else{topic.publish(PRCOMMON.Events.Employee_Updated,_1250.employee);alert("Contact updated. Please verify the 'Research tab' to make sure these changes haven't effected it");}if(_1250.employee.series==true){alert("Series members were affected. Please run employee synchronisation process");}this._has_address_old=this._has_address_new;if(this._has_address_new==false){this._clear_address();}}else{alert("Problem with Employee ");}this.savenode.cancel();},_employee_add_update_event:function(_1251){if(_1251.tel!=this.tel.get("value")){this.tel.set("value",_1251.tel);}if(_1251.fax!=this.fax.get("value")){this.fax.set("value",_1251.fax);}},postCreate:function(){this.facebook_show.set("source",this.facebook);this.twitter_show.set("source",this.twitter);this.linkedin_show.set("source",this.linkedin);this.instagram_show.set("source",this.instagram);this.inherited(arguments);},load:function(_1252,_1253,_1254,_1255){this._sourceid=_1254;this.outletid=_1253;this.employeeid=_1252;this.employeeidnode.set("value",this.employeeid);this._count_desks=_1255.length;if(_1253!=null){this._desklist=new _124c({target:"/research/admin/desks/list_outlet_desks/"+_1253+"/",idProperty:"outletdeskid"});this.outletdeskid.set("store",this._desklist);}if(this.employeeid!=-1){_124f.remove(this.copy_keywords_btn,"prmaxhidden");this.reasoncodeid.store=this.reasoncode_data_upd;_124a.post("/research/admin/employees/research_get_edit",_124b.make_params({data:{employeeid:this.employeeid}})).then(this._load_call);}else{_124f.add(this.copy_keywords_btn,"prmaxhidden");this.reasoncodeid.store=this.reasoncode_data_add;this.clear();this.reasoncodeid.set("value",PRCOMMON.utils.stores.Reason_Add_Default);this.savenode.set("disabled",false);_124f.add(this.delete_button,"prmaxhidden");}this.selectcontact.set_outletid(_1253);},_load:function(_1256){this.employeeidnode.set("value",_1256.data.employee.employeeid);this.outletid=_1256.data.employee.outletid;this.job_title.set("value",_1256.data.employee.job_title);this.email.set("value",_1256.data.comm.email);this.tel.set("value",_1256.data.comm.tel);this.fax.set("value",_1256.data.comm.fax);this.twitter.set("value",_1256.data.comm.twitter);this.facebook.set("value",_1256.data.comm.facebook);this.linkedin.set("value",_1256.data.comm.linkedin);this.instagram.set("value",_1256.data.comm.instagram);this.mobile.set("value",_1256.data.comm.mobile);this.interests.set("value",_1256.data.interests);this.jobroles.set("value",_1256.data.jobroles);this._desklist=new _124c({target:"/research/admin/desks/list_outlet_desks/"+_1256.data.employee.outletid+"/",idProperty:"outletdeskid"});this.outletdeskid.set("store",this._desklist);this.outletdeskid.set("value",(_1256.data.employee.outletdeskid==null)?-1:_1256.data.employee.outletdeskid);this.selectcontact.set_outletid(_1256.data.employee.outletid);if(_1256.data.employee.contactid==null){this.selectcontact.set_no_contact();}else{this.selectcontact.set("checked",false);this.selectcontact.contactid.set("value",_1256.data.employee.contactid);_124e.set(this.selectcontact.contactid.display,"innerHTML",_1256.data.contactname);}if(_1256.data.employee.communicationid==null){this.no_address.set("checked",false);this._has_address_old=false;this._address_show_do(false);}else{if(_1256.data.address!=null){this.no_address.set("checked",true);this._has_address_old=true;this._address_show_do(true);this.address1.set("value",_1256.data.address.address1);this.address2.set("value",_1256.data.address.address2);this.townname.set("value",_1256.data.address.townname);this.county.set("value",_1256.data.address.county);this.postcode.set("value",_1256.data.address.postcode);}else{this.no_address.set("checked",false);this._has_address_old=false;this._clear_address();}}this.reasoncodeid.set("value",PRCOMMON.utils.stores.Reason_Upd_Default);this.savenode.set("disabled",false);if(_1256.data.isprimary==false){_124f.remove(this.delete_button,"prmaxhidden");}else{_124f.add(this.delete_button,"prmaxhidden");}this.job_title.focus();win.scrollIntoView(this.selectcontact.domNode);},_save:function(){if(_124b.form_validator(this.formnode)==false){alert("Not all required field filled in");throw "N";}if(this._count_desks!=0&&(this.outletdeskid.get("value")=="-1"||this.outletdeskid.get("value")==-1)){alert("Please enter Desk");this.savenode.cancel();throw "N";}var _1257=this.formnode.get("value");_1257["reasoncodeid"]=this.reasoncodeid.get("value");_1257["has_address_old"]=this._has_address_old;_1257["outletid"]=this.outletid;if(this._has_address_new!=null){_1257["has_address_new"]=this._has_address_new;}else{_1257["has_address_new"]=this._has_address_old;}url=(this.employeeid==-1)?"/research/admin/employees/research_new":"/research/admin/employees/research_update";_124a.post(url,_124b.make_params({data:_1257})).then(this._saved_call);},clear:function(){this.employeeidnode.set("value",-1);this.selectcontact.clear();this.job_title.set("value","");this.email.set("value","");this.tel.set("value","");this.fax.set("value","");this.mobile.set("value","");this.interests.set("value","");this.selectcontact.clear();this.no_address.set("checked",false);this.twitter.set("value","");this.facebook.set("value","");this.linkedin.set("value","");this.instagram.set("value","");this.jobroles.clear();this.outletdeskid.set("value",-1);this._clear_address();},_close:function(){this.clear();this._dialog.hide();},_setDialogAttr:function(_1258){this._dialog=_1258;},_address_show:function(){this._address_show_do(this.no_address.get("checked"));if(this.no_address.get("checked")){this._has_address_old=false;this._has_address_new=true;}else{this._has_address_old=true;this._has_address_new=false;}},_address_show_do:function(_1259){var _125a=["addr1","addr2","addr3","addr4","addr5"];if(_1259==false){for(var key in _125a){_124f.add(this[_125a[key]],"prmaxhidden");}}else{for(var key in _125a){_124f.remove(this[_125a[key]],"prmaxhidden");}}},_delete_contact:function(){topic.publish("/employee/delete_request",this.employeeidnode.get("value"),this._sourceid);},_copy_keywords_btn:function(){_124a.post("/research/admin/employees/research_copy_interests_outlet_to_employee",_124b.make_params({data:{employeeid:this.employeeid,outletid:this.outletid,reasoncodeid:this.reasoncodeid.get("value")}})).then(this._copy_interests_call);},_copy_interests:function(_125b){if(_125b.success=="OK"){this.interests.set("value",_125b.data.interests);}},_clear_address:function(){this._address_show_do(false);this.address1.set("value","");this.address2.set("value","");this.townname.set("value","");this.county.set("value","");this.postcode.set("value","");},});});},"dijit/form/_CheckBoxMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(_125c,_125d){return _125c("dijit.form._CheckBoxMixin",null,{type:"checkbox",value:"on",readOnly:false,_aria_attr:"aria-checked",_setReadOnlyAttr:function(value){this._set("readOnly",value);_125d.set(this.focusNode,"readOnly",value);},_setLabelAttr:undefined,_getSubmitValue:function(value){return (value==null||value==="")?"on":value;},_setValueAttr:function(_125e){_125e=this._getSubmitValue(_125e);this._set("value",_125e);_125d.set(this.focusNode,"value",_125e);},reset:function(){this.inherited(arguments);this._set("value",this._getSubmitValue(this.params.value));_125d.set(this.focusNode,"value",this.value);},_onClick:function(e){if(this.readOnly){e.stopPropagation();e.preventDefault();return false;}return this.inherited(arguments);}});});},"dojo/html":function(){define(["./_base/kernel","./_base/lang","./_base/array","./_base/declare","./dom","./dom-construct","./parser"],function(_125f,lang,_1260,_1261,dom,_1262,_1263){var _1264=0;var html={_secureForInnerHtml:function(cont){return cont.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"");},_emptyNode:_1262.empty,_setNodeContent:function(node,cont){_1262.empty(node);if(cont){if(typeof cont=="number"){cont=cont.toString();}if(typeof cont=="string"){cont=_1262.toDom(cont,node.ownerDocument);}if(!cont.nodeType&&lang.isArrayLike(cont)){for(var _1265=cont.length,i=0;i<cont.length;i=_1265==cont.length?i+1:0){_1262.place(cont[i],node,"last");}}else{_1262.place(cont,node,"last");}}return node;},_ContentSetter:_1261("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:false,extractContent:false,parseContent:false,parserScope:_125f._scopeName,startup:true,constructor:function(_1266,node){lang.mixin(this,_1266||{});node=this.node=dom.byId(this.node||node);if(!this.id){this.id=["Setter",(node)?node.id||node.tagName:"",_1264++].join("_");}},set:function(cont,_1267){if(undefined!==cont){this.content=cont;}if(typeof cont=="number"){cont=cont.toString();}if(_1267){this._mixin(_1267);}this.onBegin();this.setContent();var ret=this.onEnd();if(ret&&ret.then){return ret;}else{return this.node;}},setContent:function(){var node=this.node;if(!node){throw new Error(this.declaredClass+": setContent given no node");}try{node=html._setNodeContent(node,this.content);}catch(e){var _1268=this.onContentError(e);try{node.innerHTML=_1268;}catch(e){}}this.node=node;},empty:function(){if(this.parseDeferred){if(!this.parseDeferred.isResolved()){this.parseDeferred.cancel();}delete this.parseDeferred;}if(this.parseResults&&this.parseResults.length){_1260.forEach(this.parseResults,function(w){if(w.destroy){w.destroy();}});delete this.parseResults;}_1262.empty(this.node);},onBegin:function(){var cont=this.content;if(lang.isString(cont)){if(this.cleanContent){cont=html._secureForInnerHtml(cont);}if(this.extractContent){var match=cont.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(match){cont=match[1];}}}this.empty();this.content=cont;return this.node;},onEnd:function(){if(this.parseContent){this._parse();}return this.node;},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;delete this.content;},onContentError:function(err){return "Error occurred setting content: "+err;},onExecError:function(err){return "Error occurred executing scripts: "+err;},_mixin:function(_1269){var empty={},key;for(key in _1269){if(key in empty){continue;}this[key]=_1269[key];}},_parse:function(){var _126a=this.node;try{var _126b={};_1260.forEach(["dir","lang","textDir"],function(name){if(this[name]){_126b[name]=this[name];}},this);var self=this;this.parseDeferred=_1263.parse({rootNode:_126a,noStart:!this.startup,inherited:_126b,scope:this.parserScope}).then(function(_126c){return self.parseResults=_126c;},function(e){self._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);});}catch(e){this._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);}},_onError:function(type,err,_126d){var _126e=this["on"+type+"Error"].call(this,err);if(_126d){}else{if(_126e){html._setNodeContent(this.node,_126e,true);}}}}),set:function(node,cont,_126f){if(undefined==cont){cont="";}if(typeof cont=="number"){cont=cont.toString();}if(!_126f){return html._setNodeContent(node,cont,true);}else{var op=new html._ContentSetter(lang.mixin(_126f,{content:cont,node:node}));return op.set();}}};lang.setObject("dojo.html",html);return html;});},"dijit/layout/LayoutContainer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-style","dojo/_base/lang","../_WidgetBase","./_LayoutWidget","./utils"],function(array,_1270,_1271,_1272,lang,_1273,_1274,_1275){var _1276=_1270("dijit.layout.LayoutContainer",_1274,{design:"headline",baseClass:"dijitLayoutContainer",startup:function(){if(this._started){return;}array.forEach(this.getChildren(),this._setupChild,this);this.inherited(arguments);},_setupChild:function(child){this.inherited(arguments);var _1277=child.region;if(_1277){_1271.add(child.domNode,this.baseClass+"Pane");}},_getOrderedChildren:function(){var _1278=array.map(this.getChildren(),function(child,idx){return {pane:child,weight:[child.region=="center"?Infinity:0,child.layoutPriority,(this.design=="sidebar"?1:-1)*(/top|bottom/.test(child.region)?1:-1),idx]};},this);_1278.sort(function(a,b){var aw=a.weight,bw=b.weight;for(var i=0;i<aw.length;i++){if(aw[i]!=bw[i]){return aw[i]-bw[i];}}return 0;});return array.map(_1278,function(w){return w.pane;});},layout:function(){_1275.layoutChildren(this.domNode,this._contentBox,this._getOrderedChildren());},addChild:function(child,_1279){this.inherited(arguments);if(this._started){this.layout();}},removeChild:function(child){this.inherited(arguments);if(this._started){this.layout();}_1271.remove(child.domNode,this.baseClass+"Pane");_1272.set(child.domNode,{top:"auto",bottom:"auto",left:"auto",right:"auto",position:"static"});_1272.set(child.domNode,/top|bottom/.test(child.region)?"width":"height","auto");}});_1276.ChildWidgetProperties={region:"",layoutAlign:"",layoutPriority:0};lang.extend(_1273,_1276.ChildWidgetProperties);return _1276;});},"prcommon2/outlet/SelectMultipleOutlets":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../outlet/templates/SelectMultipleOutlets.html","dojo/_base/lang","dojo/dom-attr","dojo/dom-class","dojo/dom-style","dojo/request","ttl/utilities2","prcommon2/outlet/OutletSelectPanel"],function(_127a,_127b,_127c,lang,_127d,_127e,_127f,_1280,_1281){return _127a("prcommon2.outlet.SelectMultipleOutlets",[_127b],{templateString:_127c,name:"",value:"",size:"7",startopen:false,searchmode:false,widgetsInTemplate:true,selectonly:true,constructor:function(){this.disabled=false;this._load_selection_call=lang.hitch(this,this._load_selection);this.selectTimer=null;},postCreate:function(){this.inherited(arguments);this.select_ctrl.set("dialog",this.select_dlg);this.select_ctrl.set("callback",lang.hitch(this,this._add_single));},clear:function(){this._clear_selected_box();this._selection_options();this.inherited(arguments);},_send_request:function(data){_1280.post("/lanquages/listuserselection",_1281.make_params({data:{word:data}})).then(this._load_selection_call);},_clear_selected_box:function(){this.outlet_select.length=0;},outlets_update_selection:function(){this._selection_options();},outlets_remove_all:function(){this.outlet_select.options.length=0;this.outlet_update_selection();},outlets_remove_single:function(){for(var c=0;c<this.outlet_select.options.length;c++){if(this.outlet_select.options[c].selected){this.outlet_select.options[c]=null;}}this.outlets_update_selection();},_add_single:function(data){var add=true;for(var c=0;c<this.outlet_select.options.length;c++){if(this.outlet_select.options[c].value==data.outletid){add=false;}}if(add){this.add_select(data);}this._selection_options();},add_select:function(data){this.outlet_select.options[this.outlet_select.options.length]=new Option(data.outletname,data.outletid);},_setValueAttr:function(_1282){this.clear();if(_1282){var data=_1282.data;var open=false;if(data==null||data==undefined){data=_1282;}for(var key in data){var _1283=data[key];this.outlet_select.options[this.outlet_select.options.length]=new Option(_1283.outletname,_1283.outletid);}}},_getValueAttr:function(){var data=Array();for(var c=0;c<this.outlet_select.options.length;c++){if(this._extended){data[c]={outletid:parseInt(this.outlet_select.options[c].value),outletame:this.outlet_select.options[c].text};}else{data[c]=parseInt(this.outlet_select.options[c].value);}}var obj={data:data};if(this._extended){return obj;}else{var data=data.length>0?dojo.toJson(obj):"";this.value=data;return data;}},_getCountAttr:function(){return this.outlet_select.options.length;},_setExtendedAttr:function(value){this._extended=value;},_selection_options:function(){this.button_del_all.set("disabled",this.outlet_select.length?false:true);this.button_del_single.set("disabled",this.outlet_select.selectedIndex!=-1?false:true);},_setDisabledAttr:function(_1284){this.disabled=_1284;},_getDisabledAttr:function(){return this.disabled;},_select_outlet:function(){this.select_dlg.show();}});});},"research/advance/researchadvance":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../advance/templates/researchadvance.html","dijit/layout/ContentPane","ttl/grid/Grid","ttl/store/JsonRest","dojo/store/Observable","dojo/request","ttl/utilities2","dojo/json","dojo/data/ItemFileReadStore","dojo/_base/lang","dojo/topic"],function(_1285,_1286,_1287,_1288,Grid,_1289,_128a,_128b,_128c,json,_128d,lang,topic){return _1285("research.advance.researchadvance",[_1286,_1288],{templateString:_1287,constructor:function(){this._save_call_back=lang.hitch(this,this._save_call);this._load_call_back=lang.hitch(this,this._load_call);this._advancefeaturestatusid=new _128d({url:"/common/lookups?searchtype=advancefeaturestatus"});},postCreate:function(){this.advancefeaturestatusid.set("store",this._advancefeaturestatusid);this.inherited(arguments);},_save_call:function(_128e){if(_128e.success=="OK"){alert("Research Details Updated");}else{alert("Problem saving Research Details");}this.savenode.cancel();},_save:function(){if(_128c.form_validator(this.form)==false){alert("Not all required field filled in");throw "N";}var d=this.advance_last_contact.get("value");var _128f=this.form.get("value");_128f["advance_last_contact"]=d.getFullYear()+"-"+(d.getMonth()+1)+"-"+d.getDate();_128b.post("/advance/research_details_save",_128c.make_params({data:_128f})).then(this._save_call_back);},load:function(_1290){this.outletid.set("value",_1290);_128b.post("/advance/getResearchExt",_128c.make_params({data:{outletid:_1290}})).then(this._load_call_back);},_load_call:function(_1291){if(_1291.success=="OK"){this.advance_last_contact.set("value",new Date(_1291.data.advance_last_contact.year,_1291.data.advance_last_contact.month-1,_1291.data.advance_last_contact.day));this.advance_url.set("value",_1291.data.advance_url);this.advance_notes.set("value",_1291.data.advance_notes);this.advancefeaturestatusid.set("value",_1291.data.advancefeaturestatusid);}else{alert("Problem Loading Research Details");}}});});},"dijit/layout/utils":function(){define(["dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang"],function(array,_1292,_1293,_1294,lang){function _1295(word){return word.substring(0,1).toUpperCase()+word.substring(1);};function size(_1296,dim){var _1297=_1296.resize?_1296.resize(dim):_1293.setMarginBox(_1296.domNode,dim);if(_1297){lang.mixin(_1296,_1297);}else{lang.mixin(_1296,_1293.getMarginBox(_1296.domNode));lang.mixin(_1296,dim);}};var utils={marginBox2contentBox:function(node,mb){var cs=_1294.getComputedStyle(node);var me=_1293.getMarginExtents(node,cs);var pb=_1293.getPadBorderExtents(node,cs);return {l:_1294.toPixelValue(node,cs.paddingLeft),t:_1294.toPixelValue(node,cs.paddingTop),w:mb.w-(me.w+pb.w),h:mb.h-(me.h+pb.h)};},layoutChildren:function(_1298,dim,_1299,_129a,_129b){dim=lang.mixin({},dim);_1292.add(_1298,"dijitLayoutContainer");_1299=array.filter(_1299,function(item){return item.region!="center"&&item.layoutAlign!="client";}).concat(array.filter(_1299,function(item){return item.region=="center"||item.layoutAlign=="client";}));array.forEach(_1299,function(child){var elm=child.domNode,pos=(child.region||child.layoutAlign);if(!pos){throw new Error("No region setting for "+child.id);}var _129c=elm.style;_129c.left=dim.l+"px";_129c.top=dim.t+"px";_129c.position="absolute";_1292.add(elm,"dijitAlign"+_1295(pos));var _129d={};if(_129a&&_129a==child.id){_129d[child.region=="top"||child.region=="bottom"?"h":"w"]=_129b;}if(pos=="leading"){pos=child.isLeftToRight()?"left":"right";}if(pos=="trailing"){pos=child.isLeftToRight()?"right":"left";}if(pos=="top"||pos=="bottom"){_129d.w=dim.w;size(child,_129d);dim.h-=child.h;if(pos=="top"){dim.t+=child.h;}else{_129c.top=dim.t+dim.h+"px";}}else{if(pos=="left"||pos=="right"){_129d.h=dim.h;size(child,_129d);dim.w-=child.w;if(pos=="left"){dim.l+=child.w;}else{_129c.left=dim.l+dim.w+"px";}}else{if(pos=="client"||pos=="center"){size(child,dim);}}}});}};lang.setObject("dijit.layout.utils",utils);return utils;});},"dijit/ProgressBar":function(){define(["require","dojo/_base/declare","dojo/dom-class","dojo/_base/lang","dojo/number","./_Widget","./_TemplatedMixin","dojo/text!./templates/ProgressBar.html"],function(_129e,_129f,_12a0,lang,_12a1,_12a2,_12a3,_12a4){return _129f("dijit.ProgressBar",[_12a2,_12a3],{progress:"0",value:"",maximum:100,places:0,indeterminate:false,label:"",name:"",templateString:_12a4,_indeterminateHighContrastImagePath:_129e.toUrl("./themes/a11y/indeterminate_progress.gif"),postMixInProperties:function(){this.inherited(arguments);if(!(this.params&&"value" in this.params)){this.value=this.indeterminate?Infinity:this.progress;}},buildRendering:function(){this.inherited(arguments);this.indeterminateHighContrastImage.setAttribute("src",this._indeterminateHighContrastImagePath.toString());this.update();},_setDirAttr:function(val){var rtl=val.toLowerCase()=="rtl";_12a0.toggle(this.domNode,"dijitProgressBarRtl",rtl);_12a0.toggle(this.domNode,"dijitProgressBarIndeterminateRtl",this.indeterminate&&rtl);this.inherited(arguments);},update:function(_12a5){lang.mixin(this,_12a5||{});var tip=this.internalProgress,ap=this.domNode;var _12a6=1;if(this.indeterminate){ap.removeAttribute("aria-valuenow");}else{if(String(this.progress).indexOf("%")!=-1){_12a6=Math.min(parseFloat(this.progress)/100,1);this.progress=_12a6*this.maximum;}else{this.progress=Math.min(this.progress,this.maximum);_12a6=this.maximum?this.progress/this.maximum:0;}ap.setAttribute("aria-valuenow",this.progress);}ap.setAttribute("aria-labelledby",this.labelNode.id);ap.setAttribute("aria-valuemin",0);ap.setAttribute("aria-valuemax",this.maximum);this.labelNode.innerHTML=this.report(_12a6);_12a0.toggle(this.domNode,"dijitProgressBarIndeterminate",this.indeterminate);_12a0.toggle(this.domNode,"dijitProgressBarIndeterminateRtl",this.indeterminate&&!this.isLeftToRight());tip.style.width=(_12a6*100)+"%";this.onChange();},_setValueAttr:function(v){this._set("value",v);if(v==Infinity){this.update({indeterminate:true});}else{this.update({indeterminate:false,progress:v});}},_setLabelAttr:function(label){this._set("label",label);this.update();},_setIndeterminateAttr:function(_12a7){this._set("indeterminate",_12a7);this.update();},report:function(_12a8){return this.label?this.label:(this.indeterminate?"&#160;":_12a1.format(_12a8,{type:"percent",places:this.places,locale:this.lang}));},onChange:function(){}});});},"prcommon2/search/standard2":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../search/templates/standard.html","prcommon2/search/std_search","dojo/_base/lang","dijit/form/TextBox","prcommon2/search/SearchCount"],function(_12a9,_12aa,_12ab,_12ac,lang){return _12a9("prcommon2.search.standard2",[_12aa,_12ac],{templateString:_12ab,testmode:false,constructor:function(){this._OnInputCallBack=lang.hitch(this,this._OnInput);},postCreate:function(){if(dojo.isMoz||dojo.isOpera){this.connect(this.dataNode.textbox,"oninput",this._OnInputCallBack);}else{this.connect(this.dataNode.textbox,"onkeyup",this._OnInputCallBack);this.connect(this.dataNode.textbox,"onpaste",this._OnInputCallBack);this.connect(this.dataNode.textbox,"oncut",this._OnInputCallBack);}},_OnInput:function(){this._get_selector(this.dataNode.get("value"));},_onChange:function(){this._get_selector(this.dataNode.get("value"));},Clear:function(){this.dataNode.set("value","");this._value="";this._setdisplay(this._value);this.inherited(arguments);},_setValueAttr:function(value){this.dataNode.set("value",value);},_getValueAttr:function(value){this.value=this.dataNode.get("value");return this.value;},focus:function(){this.dataNode.focus();},_CaptureExtendedContent:function(_12ad){try{return lang.mixin(_12ad,{partial:this.usepartial?2:0,private_only:0});}catch(e){alert(e);}}});});},"research/lookups/ProductionCompanies":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../lookups/templates/ProductionCompanies.html","dijit/layout/BorderContainer","ttl/grid/Grid","ttl/store/JsonRest","dojo/store/Observable","dojo/request","ttl/utilities2","dojo/json","dojo/topic","dojo/_base/lang","dijit/layout/ContentPane","dijit/Toolbar","dijit/form/DropDownButton","dijit/TooltipDialog","dijit/form/TextBox","dijit/form/Button","dijit/form/ValidationTextBox","dijit/form/Form","prcommon2/production/ProductionCompanyAdd","dijit/Dialog"],function(_12ae,_12af,_12b0,_12b1,Grid,_12b2,_12b3,_12b4,_12b5,json,topic,lang){return _12ae("research.lookups.ProductionCompanies",[_12af,_12b1],{templateString:_12b0,gutters:true,constructor:function(){this._store=new _12b3(new _12b2({target:"/research/admin/production/list",idProperty:"productioncompanyid"}));topic.subscribe(PRCOMMON.Events.Production_Company_Update,lang.hitch(this,this._update_event));topic.subscribe(PRCOMMON.Events.Production_Company_Added,lang.hitch(this,this._add_event));topic.subscribe(PRCOMMON.Events.Production_Company_Deleted,lang.hitch(this,this._delete_event));},postCreate:function(){var cells=[{label:" ",field:"productioncompanyid",sortable:false,formatter:_12b5.generic_view,className:"grid-field-image-view"},{label:"Production Company",className:"standard",field:"productioncompanydescription"}];this.grid=new Grid({columns:cells,selectionMode:"single",store:this._store,query:{}});this.grid.on("dgrid-select",dojo.hitch(this,this._on_cell_call));this.production_company_add_ctrl.set("dialog",this.production_company_add_dlg);this.production_company_update_ctrl.set("dialog",this.production_company_update_dlg);this.inherited(arguments);},startup:function(){this.inherited(arguments);this.grid_view.set("content",this.grid);},_on_cell_call:function(e){this.production_company_update_ctrl.load(e.rows[0].data.productioncompanyid);},_execute:function(){var query={};if(arguments[0].filter){query["productioncompanydescription"]=arguments[0].filter;}this.grid.set("query",query);},_new_production_company:function(){this.production_company_add_ctrl.clear();this.production_company_add_dlg.show();},_clear_filter:function(){this.filter.set("value","");},_update_event:function(_12b6){this._store.put(_12b6);},_add_event:function(_12b7){this._store.add(_12b7);},_delete_event:function(_12b8){this._store.remove(_12b8);}});});},"prcommon2/languages/LanguageAdd":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../languages/templates/LanguageAdd.html","dojo/request","ttl/utilities2","dojo/json","dojo/_base/lang","dojo/topic","dijit/form/TextBox","dijit/form/Button","dijit/form/Form","dojox/form/BusyButton"],function(_12b9,_12ba,_12bb,_12bc,_12bd,json,lang,topic){return _12b9("prcommon2.languages.LanguageAdd",[_12ba],{templateString:_12bb,mode:"add",constructor:function(){this._add_call_back=lang.hitch(this,this._add_call);this._load_call_back=lang.hitch(this,this._load_call);this._update_call_back=lang.hitch(this,this._update_call);this._dialog=null;},postCreate:function(){this.inherited(arguments);},_add_language:function(){if(_12bd.form_validator(this.form)==false){alert("Not all required field filled in");this.savenode.cancel();throw "N";}if(this.mode=="add"){if(confirm("Add Lanquage?")){_12bc.post("/lanquages/add",_12bd.make_params({data:this.form.get("value")})).then(this._add_call_back);}}else{if(confirm("Update Language?")){_12bc.post("/lanquages/update",_12bd.make_params({data:this.form.get("value")})).then(this._update_call_back);}}},_add_call:function(_12be){if(_12be.success=="OK"){alert("Lanquage Added");this.clear();if(this._dialog){this._dialog.hide();}topic.publish(PRCOMMON.Events.Lanquage_Added,_12be.data);}else{if(_12be.success=="DU"){alert("Lanquage Already Exists");this.languagename.focus();}else{alert("Failed");}}this.savenode.cancel();},_update_call:function(_12bf){if(_12bf.success=="OK"){alert("Lanquage Updated");topic.publish(PRCOMMON.Events.Lanquage_Update,_12bf.data);this.clear();if(this._dialog){this._dialog.hide();}}else{if(_12bf.success=="DU"){alert("Lanquage Already Exists");this.languagename.focus();}else{alert("Failed");}}this.savenode.cancel();},clear:function(){this.languagename.set("value","");this.languageid.set("value",-1);this.savenode.cancel();},focus:function(){this.languagename.focus();},_setDialogAttr:function(_12c0){this._dialog=_12c0;},load:function(_12c1){this.clear();_12bc.post("/lanquages/get",_12bd.make_params({data:{languageid:_12c1}})).then(this._load_call_back);},_load_call:function(_12c2){if(_12c2.success=="OK"){this.languageid.set("value",_12c2.data.languageid);this.languagename.set("value",_12c2.data.languagename);this._dialog.show();}else{alert("Problem");}},_close:function(){if(this._dialog){this._dialog.hide();}}});});},"dijit/form/ValidationTextBox":function(){define(["dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/i18n","./TextBox","../Tooltip","dojo/text!./templates/ValidationTextBox.html","dojo/i18n!./nls/validate"],function(_12c3,_12c4,lang,i18n,_12c5,_12c6,_12c7){var _12c8=_12c3("dijit.form.ValidationTextBox",_12c5,{templateString:_12c7,required:false,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},pattern:".*",regExp:"",regExpGen:function(){},state:"",tooltipPosition:[],_deprecateRegExp:function(attr,value){if(value!=_12c8.prototype[attr]){_12c4.deprecated("ValidationTextBox id="+this.id+", set('"+attr+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0");this.set("pattern",value);}},_setRegExpGenAttr:function(_12c9){this._deprecateRegExp("regExpGen",_12c9);this._set("regExpGen",this._computeRegexp);},_setRegExpAttr:function(value){this._deprecateRegExp("regExp",value);},_setValueAttr:function(){this.inherited(arguments);this._refreshState();},validator:function(value,_12ca){return (new RegExp("^(?:"+this._computeRegexp(_12ca)+")"+(this.required?"":"?")+"$")).test(value)&&(!this.required||!this._isEmpty(value))&&(this._isEmpty(value)||this.parse(value,_12ca)!==undefined);},_isValidSubset:function(){return this.textbox.value.search(this._partialre)==0;},isValid:function(){return this.validator(this.textbox.value,this.get("constraints"));},_isEmpty:function(value){return (this.trim?/^\s*$/:/^$/).test(value);},getErrorMessage:function(){var _12cb=this.invalidMessage=="$_unset_$"?this.messages.invalidMessage:!this.invalidMessage?this.promptMessage:this.invalidMessage;var _12cc=this.missingMessage=="$_unset_$"?this.messages.missingMessage:!this.missingMessage?_12cb:this.missingMessage;return (this.required&&this._isEmpty(this.textbox.value))?_12cc:_12cb;},getPromptMessage:function(){return this.promptMessage;},_maskValidSubsetError:true,validate:function(_12cd){var _12ce="";var _12cf=this.disabled||this.isValid(_12cd);if(_12cf){this._maskValidSubsetError=true;}var _12d0=this._isEmpty(this.textbox.value);var _12d1=!_12cf&&_12cd&&this._isValidSubset();this._set("state",_12cf?"":(((((!this._hasBeenBlurred||_12cd)&&_12d0)||_12d1)&&(this._maskValidSubsetError||(_12d1&&!this._hasBeenBlurred&&_12cd)))?"Incomplete":"Error"));this.focusNode.setAttribute("aria-invalid",this.state=="Error"?"true":"false");if(this.state=="Error"){this._maskValidSubsetError=_12cd&&_12d1;_12ce=this.getErrorMessage(_12cd);}else{if(this.state=="Incomplete"){_12ce=this.getPromptMessage(_12cd);this._maskValidSubsetError=!this._hasBeenBlurred||_12cd;}else{if(_12d0){_12ce=this.getPromptMessage(_12cd);}}}this.set("message",_12ce);return _12cf;},displayMessage:function(_12d2){if(_12d2&&this.focused){_12c6.show(_12d2,this.domNode,this.tooltipPosition,!this.isLeftToRight());}else{_12c6.hide(this.domNode);}},_refreshState:function(){if(this._created){this.validate(this.focused);}this.inherited(arguments);},constructor:function(_12d3){this.constraints=lang.clone(this.constraints);this.baseClass+=" dijitValidationTextBox";},startup:function(){this.inherited(arguments);this._refreshState();},_setConstraintsAttr:function(_12d4){if(!_12d4.locale&&this.lang){_12d4.locale=this.lang;}this._set("constraints",_12d4);this._refreshState();},_setPatternAttr:function(_12d5){this._set("pattern",_12d5);this._refreshState();},_computeRegexp:function(_12d6){var p=this.pattern;if(typeof p=="function"){p=p.call(this,_12d6);}if(p!=this._lastRegExp){var _12d7="";this._lastRegExp=p;if(p!=".*"){p.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(re){switch(re.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":_12d7+=re;break;case ")":_12d7+="|$)";break;default:_12d7+="(?:"+re+"|$)";break;}});}try{"".search(_12d7);}catch(e){_12d7=this.pattern;}this._partialre="^(?:"+_12d7+")$";}return p;},postMixInProperties:function(){this.inherited(arguments);this.messages=i18n.getLocalization("dijit.form","validate",this.lang);this._setConstraintsAttr(this.constraints);},_setDisabledAttr:function(value){this.inherited(arguments);this._refreshState();},_setRequiredAttr:function(value){this._set("required",value);this.focusNode.setAttribute("aria-required",value);this._refreshState();},_setMessageAttr:function(_12d8){this._set("message",_12d8);this.displayMessage(_12d8);},reset:function(){this._maskValidSubsetError=true;this.inherited(arguments);},_onBlur:function(){this.displayMessage("");this.inherited(arguments);},destroy:function(){_12c6.hide(this.domNode);this.inherited(arguments);}});return _12c8;});},"dijit/form/NumberTextBox":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/i18n","dojo/string","dojo/number","./RangeBoundTextBox"],function(_12d9,lang,i18n,_12da,_12db,_12dc){var _12dd=function(_12de){var _12de=_12de||{},_12df=i18n.getLocalization("dojo.cldr","number",i18n.normalizeLocale(_12de.locale)),_12e0=_12de.pattern?_12de.pattern:_12df[(_12de.type||"decimal")+"Format"];var _12e1;if(typeof _12de.places=="number"){_12e1=_12de.places;}else{if(typeof _12de.places==="string"&&_12de.places.length>0){_12e1=_12de.places.replace(/.*,/,"");}else{_12e1=(_12e0.indexOf(".")!=-1?_12e0.split(".")[1].replace(/[^#0]/g,"").length:0);}}return {sep:_12df.decimal,places:_12e1};};var _12e2=_12d9("dijit.form.NumberTextBoxMixin",null,{pattern:function(_12e3){return "("+(this.focused&&this.editOptions?this._regExpGenerator(lang.delegate(_12e3,this.editOptions))+"|":"")+this._regExpGenerator(_12e3)+")";},value:NaN,editOptions:{pattern:"#.######"},_formatter:_12db.format,_regExpGenerator:_12db.regexp,_decimalInfo:_12dd(),postMixInProperties:function(){this.inherited(arguments);this._set("type","text");},_setConstraintsAttr:function(_12e4){var _12e5=typeof _12e4.places=="number"?_12e4.places:0;if(_12e5){_12e5++;}if(typeof _12e4.max!="number"){_12e4.max=9*Math.pow(10,15-_12e5);}if(typeof _12e4.min!="number"){_12e4.min=-9*Math.pow(10,15-_12e5);}this.inherited(arguments,[_12e4]);if(this.focusNode&&this.focusNode.value&&!isNaN(this.value)){this.set("value",this.value);}this._decimalInfo=_12dd(_12e4);},_onFocus:function(){if(this.disabled||this.readOnly){return;}var val=this.get("value");if(typeof val=="number"&&!isNaN(val)){var _12e6=this.format(val,this.constraints);if(_12e6!==undefined){this.textbox.value=_12e6;}}this.inherited(arguments);},format:function(value,_12e7){var _12e8=String(value);if(typeof value!="number"){return _12e8;}if(isNaN(value)){return "";}if(!("rangeCheck" in this&&this.rangeCheck(value,_12e7))&&_12e7.exponent!==false&&/\de[-+]?\d/i.test(_12e8)){return _12e8;}if(this.editOptions&&this.focused){_12e7=lang.mixin({},_12e7,this.editOptions);}return this._formatter(value,_12e7);},_parser:_12db.parse,parse:function(value,_12e9){var _12ea=lang.mixin({},_12e9,(this.editOptions&&this.focused)?this.editOptions:{});if(this.focused&&_12ea.places!=null){var _12eb=_12ea.places;var _12ec=typeof _12eb==="number"?_12eb:Number(_12eb.split(",").pop());_12ea.places="0,"+_12ec;}var v=this._parser(value,_12ea);if(this.editOptions&&this.focused&&isNaN(v)){v=this._parser(value,_12e9);}return v;},_getDisplayedValueAttr:function(){var v=this.inherited(arguments);return isNaN(v)?this.textbox.value:v;},filter:function(value){if(value==null||typeof value=="string"&&value==""){return NaN;}else{if(typeof value=="number"&&!isNaN(value)&&value!=0){value=_12db.round(value,this._decimalInfo.places);}}return this.inherited(arguments,[value]);},serialize:function(value,_12ed){return (typeof value!="number"||isNaN(value))?"":this.inherited(arguments);},_setBlurValue:function(){var val=lang.hitch(lang.delegate(this,{focused:true}),"get")("value");this._setValueAttr(val,true);},_setValueAttr:function(value,_12ee,_12ef){if(value!==undefined&&_12ef===undefined){_12ef=String(value);if(typeof value=="number"){if(isNaN(value)){_12ef="";}else{if(("rangeCheck" in this&&this.rangeCheck(value,this.constraints))||this.constraints.exponent===false||!/\de[-+]?\d/i.test(_12ef)){_12ef=undefined;}}}else{if(!value){_12ef="";value=NaN;}else{value=undefined;}}}this.inherited(arguments,[value,_12ee,_12ef]);},_getValueAttr:function(){var v=this.inherited(arguments);if(isNaN(v)&&this.textbox.value!==""){if(this.constraints.exponent!==false&&/\de[-+]?\d/i.test(this.textbox.value)&&(new RegExp("^"+_12db._realNumberRegexp(lang.delegate(this.constraints))+"$").test(this.textbox.value))){var n=Number(this.textbox.value);return isNaN(n)?undefined:n;}else{return undefined;}}else{return v;}},isValid:function(_12f0){if(!this.focused||this._isEmpty(this.textbox.value)){return this.inherited(arguments);}else{var v=this.get("value");if(!isNaN(v)&&this.rangeCheck(v,this.constraints)){if(this.constraints.exponent!==false&&/\de[-+]?\d/i.test(this.textbox.value)){return true;}else{return this.inherited(arguments);}}else{return false;}}},_isValidSubset:function(){var _12f1=(typeof this.constraints.min=="number"),_12f2=(typeof this.constraints.max=="number"),_12f3=this.get("value");if(isNaN(_12f3)||(!_12f1&&!_12f2)){return this.inherited(arguments);}var _12f4=_12f3|0,_12f5=_12f3<0,_12f6=this.textbox.value.indexOf(this._decimalInfo.sep)!=-1,_12f7=this.maxLength||20,_12f8=_12f7-this.textbox.value.length,_12f9=_12f6?this.textbox.value.split(this._decimalInfo.sep)[1].replace(/[^0-9]/g,""):"";var _12fa=_12f6?_12f4+"."+_12f9:_12f4+"";var _12fb=_12da.rep("9",_12f8),_12fc=_12f3,_12fd=_12f3;if(_12f5){_12fc=Number(_12fa+_12fb);}else{_12fd=Number(_12fa+_12fb);}return !((_12f1&&_12fd<this.constraints.min)||(_12f2&&_12fc>this.constraints.max));}});var _12fe=_12d9("dijit.form.NumberTextBox",[_12dc,_12e2],{baseClass:"dijitTextBox dijitNumberTextBox"});_12fe.Mixin=_12e2;return _12fe;});},"dojox/collections/_base":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array"],function(dojo,lang,arr){var _12ff=lang.getObject("dojox.collections",true);_12ff.DictionaryEntry=function(k,v){this.key=k;this.value=v;this.valueOf=function(){return this.value;};this.toString=function(){return String(this.value);};};_12ff.Iterator=function(a){var _1300=0;this.element=a[_1300]||null;this.atEnd=function(){return (_1300>=a.length);};this.get=function(){if(this.atEnd()){return null;}this.element=a[_1300++];return this.element;};this.map=function(fn,scope){return arr.map(a,fn,scope);};this.reset=function(){_1300=0;this.element=a[_1300];};};_12ff.DictionaryIterator=function(obj){var a=[];var _1301={};for(var p in obj){if(!_1301[p]){a.push(obj[p]);}}var _1302=0;this.element=a[_1302]||null;this.atEnd=function(){return (_1302>=a.length);};this.get=function(){if(this.atEnd()){return null;}this.element=a[_1302++];return this.element;};this.map=function(fn,scope){return arr.map(a,fn,scope);};this.reset=function(){_1302=0;this.element=a[_1302];};};return _12ff;});},"dijit/form/_ComboBoxMenuMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/has","dojo/i18n","dojo/i18n!./nls/ComboBox"],function(array,_1303,_1304,has,i18n){var _1305=_1303("dijit.form._ComboBoxMenuMixin"+(has("dojo-bidi")?"_NoBidi":""),null,{_messages:null,postMixInProperties:function(){this.inherited(arguments);this._messages=i18n.getLocalization("dijit.form","ComboBox",this.lang);},buildRendering:function(){this.inherited(arguments);this.previousButton.innerHTML=this._messages["previousMessage"];this.nextButton.innerHTML=this._messages["nextMessage"];},_setValueAttr:function(value){this._set("value",value);this.onChange(value);},onClick:function(node){if(node==this.previousButton){this._setSelectedAttr(null);this.onPage(-1);}else{if(node==this.nextButton){this._setSelectedAttr(null);this.onPage(1);}else{this.onChange(node);}}},onChange:function(){},onPage:function(){},onClose:function(){this._setSelectedAttr(null);},_createOption:function(item,_1306){var _1307=this._createMenuItem();var _1308=_1306(item);if(_1308.html){_1307.innerHTML=_1308.label;}else{_1307.appendChild(_1307.ownerDocument.createTextNode(_1308.label));}if(_1307.innerHTML==""){_1307.innerHTML="&#160;";}return _1307;},createOptions:function(_1309,_130a,_130b){this.items=_1309;this.previousButton.style.display=(_130a.start==0)?"none":"";_1304.set(this.previousButton,"id",this.id+"_prev");array.forEach(_1309,function(item,i){var _130c=this._createOption(item,_130b);_130c.setAttribute("item",i);_1304.set(_130c,"id",this.id+i);this.nextButton.parentNode.insertBefore(_130c,this.nextButton);},this);var _130d=false;if(_1309.total&&!_1309.total.then&&_1309.total!=-1){if((_130a.start+_130a.count)<_1309.total){_130d=true;}else{if((_130a.start+_130a.count)>_1309.total&&_130a.count==_1309.length){_130d=true;}}}else{if(_130a.count==_1309.length){_130d=true;}}this.nextButton.style.display=_130d?"":"none";_1304.set(this.nextButton,"id",this.id+"_next");},clearResultList:function(){var _130e=this.containerNode;while(_130e.childNodes.length>2){_130e.removeChild(_130e.childNodes[_130e.childNodes.length-2]);}this._setSelectedAttr(null);},highlightFirstOption:function(){this.selectFirstNode();},highlightLastOption:function(){this.selectLastNode();},selectFirstNode:function(){this.inherited(arguments);if(this.getHighlightedOption()==this.previousButton){this.selectNextNode();}},selectLastNode:function(){this.inherited(arguments);if(this.getHighlightedOption()==this.nextButton){this.selectPreviousNode();}},getHighlightedOption:function(){return this.selected;}});if(has("dojo-bidi")){_1305=_1303("dijit.form._ComboBoxMenuMixin",_1305,{_createOption:function(){var _130f=this.inherited(arguments);this.applyTextDir(_130f);return _130f;}});}return _1305;});},"dijit/Tree":function(){define(["dojo/_base/array","dojo/aspect","dojo/cookie","dojo/_base/declare","dojo/Deferred","dojo/promise/all","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/errors/create","dojo/fx","dojo/has","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/on","dojo/topic","dojo/touch","dojo/when","./a11yclick","./focus","./registry","./_base/manager","./_Widget","./_TemplatedMixin","./_Container","./_Contained","./_CssStateMixin","./_KeyNavMixin","dojo/text!./templates/TreeNode.html","dojo/text!./templates/Tree.html","./tree/TreeStoreModel","./tree/ForestStoreModel","./tree/_dndSelector","dojo/query!css2"],function(array,_1310,_1311,_1312,_1313,all,dom,_1314,_1315,_1316,_1317,_1318,has,_1319,keys,lang,on,topic,touch,when,_131a,focus,_131b,_131c,_131d,_131e,_131f,_1320,_1321,_1322,_1323,_1324,_1325,_1326,_1327){function _1328(d){return lang.delegate(d.promise||d,{addCallback:function(_1329){this.then(_1329);},addErrback:function(_132a){this.otherwise(_132a);}});};var _132b=_1312("dijit._TreeNode",[_131d,_131e,_131f,_1320,_1321],{item:null,isTreeNode:true,label:"",_setLabelAttr:function(val){this.labelNode[this.labelType=="html"?"innerHTML":"innerText" in this.labelNode?"innerText":"textContent"]=val;this._set("label",val);if(has("dojo-bidi")){this.applyTextDir(this.labelNode);}},labelType:"text",isExpandable:null,isExpanded:false,state:"NotLoaded",templateString:_1323,baseClass:"dijitTreeNode",cssStateNodes:{rowNode:"dijitTreeRow"},_setTooltipAttr:{node:"rowNode",type:"attribute",attribute:"title"},buildRendering:function(){this.inherited(arguments);this._setExpando();this._updateItemClasses(this.item);if(this.isExpandable){this.labelNode.setAttribute("aria-expanded",this.isExpanded);}this.setSelected(false);},_setIndentAttr:function(_132c){var _132d=(Math.max(_132c,0)*this.tree._nodePixelIndent)+"px";_1316.set(this.domNode,"backgroundPosition",_132d+" 0px");_1316.set(this.rowNode,this.isLeftToRight()?"paddingLeft":"paddingRight",_132d);array.forEach(this.getChildren(),function(child){child.set("indent",_132c+1);});this._set("indent",_132c);},markProcessing:function(){this.state="Loading";this._setExpando(true);},unmarkProcessing:function(){this._setExpando(false);},_updateItemClasses:function(item){var tree=this.tree,model=tree.model;if(tree._v10Compat&&item===model.root){item=null;}this._applyClassAndStyle(item,"icon","Icon");this._applyClassAndStyle(item,"label","Label");this._applyClassAndStyle(item,"row","Row");this.tree._startPaint(true);},_applyClassAndStyle:function(item,lower,upper){var _132e="_"+lower+"Class";var _132f=lower+"Node";var _1330=this[_132e];this[_132e]=this.tree["get"+upper+"Class"](item,this.isExpanded);_1314.replace(this[_132f],this[_132e]||"",_1330||"");_1316.set(this[_132f],this.tree["get"+upper+"Style"](item,this.isExpanded)||{});},_updateLayout:function(){var _1331=this.getParent(),_1332=!_1331||!_1331.rowNode||_1331.rowNode.style.display=="none";_1314.toggle(this.domNode,"dijitTreeIsRoot",_1332);_1314.toggle(this.domNode,"dijitTreeIsLast",!_1332&&!this.getNextSibling());},_setExpando:function(_1333){var _1334=["dijitTreeExpandoLoading","dijitTreeExpandoOpened","dijitTreeExpandoClosed","dijitTreeExpandoLeaf"],_1335=["*","-","+","*"],idx=_1333?0:(this.isExpandable?(this.isExpanded?1:2):3);_1314.replace(this.expandoNode,_1334[idx],_1334);this.expandoNodeText.innerHTML=_1335[idx];},expand:function(){if(this._expandDeferred){return _1328(this._expandDeferred);}if(this._collapseDeferred){this._collapseDeferred.cancel();delete this._collapseDeferred;}this.isExpanded=true;this.labelNode.setAttribute("aria-expanded","true");if(this.tree.showRoot||this!==this.tree.rootNode){this.containerNode.setAttribute("role","group");}_1314.add(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);if(this==this.tree.rootNode&&this.tree.showRoot){this.tree.domNode.setAttribute("aria-expanded","true");}var _1336=_1318.wipeIn({node:this.containerNode,duration:_131c.defaultDuration});var def=(this._expandDeferred=new _1313(function(){_1336.stop();}));_1310.after(_1336,"onEnd",function(){def.resolve(true);},true);_1336.play();return _1328(def);},collapse:function(){if(this._collapseDeferred){return _1328(this._collapseDeferred);}if(this._expandDeferred){this._expandDeferred.cancel();delete this._expandDeferred;}this.isExpanded=false;this.labelNode.setAttribute("aria-expanded","false");if(this==this.tree.rootNode&&this.tree.showRoot){this.tree.domNode.setAttribute("aria-expanded","false");}_1314.remove(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);var _1337=_1318.wipeOut({node:this.containerNode,duration:_131c.defaultDuration});var def=(this._collapseDeferred=new _1313(function(){_1337.stop();}));_1310.after(_1337,"onEnd",function(){def.resolve(true);},true);_1337.play();return _1328(def);},indent:0,setChildItems:function(items){var tree=this.tree,model=tree.model,defs=[];var _1338=tree.focusedChild;var _1339=this.getChildren();array.forEach(_1339,function(child){_131f.prototype.removeChild.call(this,child);},this);this.defer(function(){array.forEach(_1339,function(node){if(!node._destroyed&&!node.getParent()){tree.dndController.removeTreeNode(node);function _133a(node){var id=model.getIdentity(node.item),ary=tree._itemNodesMap[id];if(ary.length==1){delete tree._itemNodesMap[id];}else{var index=array.indexOf(ary,node);if(index!=-1){ary.splice(index,1);}}array.forEach(node.getChildren(),_133a);};_133a(node);if(tree.persist){var _133b=array.map(node.getTreePath(),function(item){return tree.model.getIdentity(item);}).join("/");for(var path in tree._openedNodes){if(path.substr(0,_133b.length)==_133b){delete tree._openedNodes[path];}}tree._saveExpandedNodes();}if(tree.lastFocusedChild&&!dom.isDescendant(tree.lastFocusedChild,tree.domNode)){delete tree.lastFocusedChild;}if(_1338&&!dom.isDescendant(_1338,tree.domNode)){tree.focus();}node.destroyRecursive();}});});this.state="Loaded";if(items&&items.length>0){this.isExpandable=true;array.forEach(items,function(item){var id=model.getIdentity(item),_133c=tree._itemNodesMap[id],node;if(_133c){for(var i=0;i<_133c.length;i++){if(_133c[i]&&!_133c[i].getParent()){node=_133c[i];node.set("indent",this.indent+1);break;}}}if(!node){node=this.tree._createTreeNode({item:item,tree:tree,isExpandable:model.mayHaveChildren(item),label:tree.getLabel(item),labelType:(tree.model&&tree.model.labelType)||"text",tooltip:tree.getTooltip(item),ownerDocument:tree.ownerDocument,dir:tree.dir,lang:tree.lang,textDir:tree.textDir,indent:this.indent+1});if(_133c){_133c.push(node);}else{tree._itemNodesMap[id]=[node];}}this.addChild(node);if(this.tree.autoExpand||this.tree._state(node)){defs.push(tree._expandNode(node));}},this);array.forEach(this.getChildren(),function(child){child._updateLayout();});}else{this.isExpandable=false;}if(this._setExpando){this._setExpando(false);}this._updateItemClasses(this.item);var def=all(defs);this.tree._startPaint(def);return _1328(def);},getTreePath:function(){var node=this;var path=[];while(node&&node!==this.tree.rootNode){path.unshift(node.item);node=node.getParent();}path.unshift(this.tree.rootNode.item);return path;},getIdentity:function(){return this.tree.model.getIdentity(this.item);},removeChild:function(node){this.inherited(arguments);var _133d=this.getChildren();if(_133d.length==0){this.isExpandable=false;this.collapse();}array.forEach(_133d,function(child){child._updateLayout();});},makeExpandable:function(){this.isExpandable=true;this._setExpando(false);},setSelected:function(_133e){this.labelNode.setAttribute("aria-selected",_133e?"true":"false");_1314.toggle(this.rowNode,"dijitTreeRowSelected",_133e);},focus:function(){focus.focus(this.focusNode);}});if(has("dojo-bidi")){_132b.extend({_setTextDirAttr:function(_133f){if(_133f&&((this.textDir!=_133f)||!this._created)){this._set("textDir",_133f);this.applyTextDir(this.labelNode);array.forEach(this.getChildren(),function(_1340){_1340.set("textDir",_133f);},this);}}});}var Tree=_1312("dijit.Tree",[_131d,_1322,_131e,_1321],{baseClass:"dijitTree",store:null,model:null,query:null,label:"",showRoot:true,childrenAttr:["children"],paths:[],path:[],selectedItems:null,selectedItem:null,openOnClick:false,openOnDblClick:false,templateString:_1324,persist:false,autoExpand:false,dndController:_1327,dndParams:["onDndDrop","itemCreator","onDndCancel","checkAcceptance","checkItemAcceptance","dragThreshold","betweenThreshold"],onDndDrop:null,itemCreator:null,onDndCancel:null,checkAcceptance:null,checkItemAcceptance:null,dragThreshold:5,betweenThreshold:0,_nodePixelIndent:19,_publish:function(_1341,_1342){topic.publish(this.id,lang.mixin({tree:this,event:_1341},_1342||{}));},postMixInProperties:function(){this.tree=this;if(this.autoExpand){this.persist=false;}this._itemNodesMap={};if(!this.cookieName&&this.id){this.cookieName=this.id+"SaveStateCookie";}this.expandChildrenDeferred=new _1313();this.pendingCommandsPromise=this.expandChildrenDeferred.promise;this.inherited(arguments);},postCreate:function(){this._initState();var self=this;this.own(on(this.containerNode,on.selector(".dijitTreeNode",touch.enter),function(evt){self._onNodeMouseEnter(_131b.byNode(this),evt);}),on(this.containerNode,on.selector(".dijitTreeNode",touch.leave),function(evt){self._onNodeMouseLeave(_131b.byNode(this),evt);}),on(this.containerNode,on.selector(".dijitTreeRow",_131a.press),function(evt){self._onNodePress(_131b.getEnclosingWidget(this),evt);}),on(this.containerNode,on.selector(".dijitTreeRow",_131a),function(evt){self._onClick(_131b.getEnclosingWidget(this),evt);}),on(this.containerNode,on.selector(".dijitTreeRow","dblclick"),function(evt){self._onDblClick(_131b.getEnclosingWidget(this),evt);}));if(!this.model){this._store2model();}this.own(_1310.after(this.model,"onChange",lang.hitch(this,"_onItemChange"),true),_1310.after(this.model,"onChildrenChange",lang.hitch(this,"_onItemChildrenChange"),true),_1310.after(this.model,"onDelete",lang.hitch(this,"_onItemDelete"),true));this.inherited(arguments);if(this.dndController){if(lang.isString(this.dndController)){this.dndController=lang.getObject(this.dndController);}var _1343={};for(var i=0;i<this.dndParams.length;i++){if(this[this.dndParams[i]]){_1343[this.dndParams[i]]=this[this.dndParams[i]];}}this.dndController=new this.dndController(this,_1343);}this._load();this.onLoadDeferred=_1328(this.pendingCommandsPromise);this.onLoadDeferred.then(lang.hitch(this,"onLoad"));},_store2model:function(){this._v10Compat=true;_1319.deprecated("Tree: from version 2.0, should specify a model object rather than a store/query");var _1344={id:this.id+"_ForestStoreModel",store:this.store,query:this.query,childrenAttrs:this.childrenAttr};if(this.params.mayHaveChildren){_1344.mayHaveChildren=lang.hitch(this,"mayHaveChildren");}if(this.params.getItemChildren){_1344.getChildren=lang.hitch(this,function(item,_1345,_1346){this.getItemChildren((this._v10Compat&&item===this.model.root)?null:item,_1345,_1346);});}this.model=new _1326(_1344);this.showRoot=Boolean(this.label);},onLoad:function(){},_load:function(){this.model.getRoot(lang.hitch(this,function(item){var rn=(this.rootNode=this.tree._createTreeNode({item:item,tree:this,isExpandable:true,label:this.label||this.getLabel(item),labelType:this.model.labelType||"text",textDir:this.textDir,indent:this.showRoot?0:-1}));if(!this.showRoot){rn.rowNode.style.display="none";this.domNode.setAttribute("role","presentation");this.domNode.removeAttribute("aria-expanded");this.domNode.removeAttribute("aria-multiselectable");if(this["aria-label"]){rn.containerNode.setAttribute("aria-label",this["aria-label"]);this.domNode.removeAttribute("aria-label");}else{if(this["aria-labelledby"]){rn.containerNode.setAttribute("aria-labelledby",this["aria-labelledby"]);this.domNode.removeAttribute("aria-labelledby");}}rn.labelNode.setAttribute("role","presentation");rn.labelNode.removeAttribute("aria-selected");rn.containerNode.setAttribute("role","tree");rn.containerNode.setAttribute("aria-expanded","true");rn.containerNode.setAttribute("aria-multiselectable",!this.dndController.singular);}else{this.domNode.setAttribute("aria-multiselectable",!this.dndController.singular);this.rootLoadingIndicator.style.display="none";}this.containerNode.appendChild(rn.domNode);var _1347=this.model.getIdentity(item);if(this._itemNodesMap[_1347]){this._itemNodesMap[_1347].push(rn);}else{this._itemNodesMap[_1347]=[rn];}rn._updateLayout();this._expandNode(rn).then(lang.hitch(this,function(){if(!this._destroyed){this.rootLoadingIndicator.style.display="none";this.expandChildrenDeferred.resolve(true);}}));}),lang.hitch(this,function(err){}));},getNodesByItem:function(item){if(!item){return [];}var _1348=lang.isString(item)?item:this.model.getIdentity(item);return [].concat(this._itemNodesMap[_1348]);},_setSelectedItemAttr:function(item){this.set("selectedItems",[item]);},_setSelectedItemsAttr:function(items){var tree=this;return this.pendingCommandsPromise=this.pendingCommandsPromise.always(lang.hitch(this,function(){var _1349=array.map(items,function(item){return (!item||lang.isString(item))?item:tree.model.getIdentity(item);});var nodes=[];array.forEach(_1349,function(id){nodes=nodes.concat(tree._itemNodesMap[id]||[]);});this.set("selectedNodes",nodes);}));},_setPathAttr:function(path){if(path.length){return _1328(this.set("paths",[path]).then(function(paths){return paths[0];}));}else{return _1328(this.set("paths",[]).then(function(paths){return paths[0];}));}},_setPathsAttr:function(paths){var tree=this;function _134a(path,nodes){var _134b=path.shift();var _134c=array.filter(nodes,function(node){return node.getIdentity()==_134b;})[0];if(!!_134c){if(path.length){return tree._expandNode(_134c).then(function(){return _134a(path,_134c.getChildren());});}else{return _134c;}}else{throw new Tree.PathError("Could not expand path at "+_134b);}};return _1328(this.pendingCommandsPromise=this.pendingCommandsPromise.always(function(){return all(array.map(paths,function(path){path=array.map(path,function(item){return item&&lang.isObject(item)?tree.model.getIdentity(item):item;});if(path.length){return _134a(path,[tree.rootNode]);}else{throw new Tree.PathError("Empty path");}}));}).then(function setNodes(_134d){tree.set("selectedNodes",_134d);return tree.paths;}));},_setSelectedNodeAttr:function(node){this.set("selectedNodes",[node]);},_setSelectedNodesAttr:function(nodes){this.dndController.setSelection(nodes);},expandAll:function(){var _134e=this;function _134f(node){return _134e._expandNode(node).then(function(){var _1350=array.filter(node.getChildren()||[],function(node){return node.isExpandable;});return all(array.map(_1350,_134f));});};return _1328(_134f(this.rootNode));},collapseAll:function(){var _1351=this;function _1352(node){var _1353=array.filter(node.getChildren()||[],function(node){return node.isExpandable;}),defs=all(array.map(_1353,_1352));if(!node.isExpanded||(node==_1351.rootNode&&!_1351.showRoot)){return defs;}else{return defs.then(function(){return _1351._collapseNode(node);});}};return _1328(_1352(this.rootNode));},mayHaveChildren:function(){},getItemChildren:function(){},getLabel:function(item){return this.model.getLabel(item);},getIconClass:function(item,_1354){return (!item||this.model.mayHaveChildren(item))?(_1354?"dijitFolderOpened":"dijitFolderClosed"):"dijitLeaf";},getLabelClass:function(){},getRowClass:function(){},getIconStyle:function(){},getLabelStyle:function(){},getRowStyle:function(){},getTooltip:function(){return "";},_onDownArrow:function(evt,node){var _1355=this._getNext(node);if(_1355&&_1355.isTreeNode){this.focusNode(_1355);}},_onUpArrow:function(evt,node){var _1356=node.getPreviousSibling();if(_1356){node=_1356;while(node.isExpandable&&node.isExpanded&&node.hasChildren()){var _1357=node.getChildren();node=_1357[_1357.length-1];}}else{var _1358=node.getParent();if(!(!this.showRoot&&_1358===this.rootNode)){node=_1358;}}if(node&&node.isTreeNode){this.focusNode(node);}},_onRightArrow:function(evt,node){if(node.isExpandable&&!node.isExpanded){this._expandNode(node);}else{if(node.hasChildren()){node=node.getChildren()[0];if(node&&node.isTreeNode){this.focusNode(node);}}}},_onLeftArrow:function(evt,node){if(node.isExpandable&&node.isExpanded){this._collapseNode(node);}else{var _1359=node.getParent();if(_1359&&_1359.isTreeNode&&!(!this.showRoot&&_1359===this.rootNode)){this.focusNode(_1359);}}},focusLastChild:function(){var node=this._getLast();if(node&&node.isTreeNode){this.focusNode(node);}},_getFirst:function(){return this.showRoot?this.rootNode:this.rootNode.getChildren()[0];},_getLast:function(){var node=this.rootNode;while(node.isExpanded){var c=node.getChildren();if(!c.length){break;}node=c[c.length-1];}return node;},_getNext:function(node){if(node.isExpandable&&node.isExpanded&&node.hasChildren()){return node.getChildren()[0];}else{while(node&&node.isTreeNode){var _135a=node.getNextSibling();if(_135a){return _135a;}node=node.getParent();}return null;}},childSelector:".dijitTreeRow",isExpandoNode:function(node,_135b){return dom.isDescendant(node,_135b.expandoNode)||dom.isDescendant(node,_135b.expandoNodeText);},_onNodePress:function(_135c,e){this.focusNode(_135c);},__click:function(_135d,e,_135e,func){var _135f=e.target,_1360=this.isExpandoNode(_135f,_135d);if(_135d.isExpandable&&(_135e||_1360)){this._onExpandoClick({node:_135d});}else{this._publish("execute",{item:_135d.item,node:_135d,evt:e});this[func](_135d.item,_135d,e);this.focusNode(_135d);}e.stopPropagation();e.preventDefault();},_onClick:function(_1361,e){this.__click(_1361,e,this.openOnClick,"onClick");},_onDblClick:function(_1362,e){this.__click(_1362,e,this.openOnDblClick,"onDblClick");},_onExpandoClick:function(_1363){var node=_1363.node;this.focusNode(node);if(node.isExpanded){this._collapseNode(node);}else{this._expandNode(node);}},onClick:function(){},onDblClick:function(){},onOpen:function(){},onClose:function(){},_getNextNode:function(node){_1319.deprecated(this.declaredClass+"::_getNextNode(node) is deprecated. Use _getNext(node) instead.","","2.0");return this._getNext(node);},_getRootOrFirstNode:function(){_1319.deprecated(this.declaredClass+"::_getRootOrFirstNode() is deprecated. Use _getFirst() instead.","","2.0");return this._getFirst();},_collapseNode:function(node){if(node._expandNodeDeferred){delete node._expandNodeDeferred;}if(node.state=="Loading"){return;}if(node.isExpanded){var ret=node.collapse();this.onClose(node.item,node);this._state(node,false);this._startPaint(ret);return ret;}},_expandNode:function(node){if(node._expandNodeDeferred){return node._expandNodeDeferred;}var model=this.model,item=node.item,_1364=this;if(!node._loadDeferred){node.markProcessing();node._loadDeferred=new _1313();model.getChildren(item,function(items){node.unmarkProcessing();node.setChildItems(items).then(function(){node._loadDeferred.resolve(items);});},function(err){node._loadDeferred.reject(err);});}var def=node._loadDeferred.then(lang.hitch(this,function(){var def2=node.expand();this.onOpen(node.item,node);this._state(node,true);return def2;}));this._startPaint(def);return def;},focusNode:function(node){var _1365=this.domNode.scrollLeft;this.focusChild(node);this.domNode.scrollLeft=_1365;},_onNodeMouseEnter:function(){},_onNodeMouseLeave:function(){},_onItemChange:function(item){var model=this.model,_1366=model.getIdentity(item),nodes=this._itemNodesMap[_1366];if(nodes){var label=this.getLabel(item),_1367=this.getTooltip(item);array.forEach(nodes,function(node){node.set({item:item,label:label,tooltip:_1367});node._updateItemClasses(item);});}},_onItemChildrenChange:function(_1368,_1369){var model=this.model,_136a=model.getIdentity(_1368),_136b=this._itemNodesMap[_136a];if(_136b){array.forEach(_136b,function(_136c){_136c.setChildItems(_1369);});}},_onItemDelete:function(item){var model=this.model,_136d=model.getIdentity(item),nodes=this._itemNodesMap[_136d];if(nodes){array.forEach(nodes,function(node){this.dndController.removeTreeNode(node);var _136e=node.getParent();if(_136e){_136e.removeChild(node);}if(this.lastFocusedChild&&!dom.isDescendant(this.lastFocusedChild,this.domNode)){delete this.lastFocusedChild;}if(this.focusedChild&&!dom.isDescendant(this.focusedChild,this.domNode)){this.focus();}node.destroyRecursive();},this);delete this._itemNodesMap[_136d];}},_initState:function(){this._openedNodes={};if(this.persist&&this.cookieName){var oreo=_1311(this.cookieName);if(oreo){array.forEach(oreo.split(","),function(item){this._openedNodes[item]=true;},this);}}},_state:function(node,_136f){if(!this.persist){return false;}var path=array.map(node.getTreePath(),function(item){return this.model.getIdentity(item);},this).join("/");if(arguments.length===1){return this._openedNodes[path];}else{if(_136f){this._openedNodes[path]=true;}else{delete this._openedNodes[path];}this._saveExpandedNodes();}},_saveExpandedNodes:function(){if(this.persist&&this.cookieName){var ary=[];for(var id in this._openedNodes){ary.push(id);}_1311(this.cookieName,ary.join(","),{expires:365});}},destroy:function(){if(this._curSearch){this._curSearch.timer.remove();delete this._curSearch;}if(this.rootNode){this.rootNode.destroyRecursive();}if(this.dndController&&!lang.isString(this.dndController)){this.dndController.destroy();}this.rootNode=null;this.inherited(arguments);},destroyRecursive:function(){this.destroy();},resize:function(_1370){if(_1370){_1315.setMarginBox(this.domNode,_1370);}this._nodePixelIndent=_1315.position(this.tree.indentDetector).w||this._nodePixelIndent;this.expandChildrenDeferred.then(lang.hitch(this,function(){this.rootNode.set("indent",this.showRoot?0:-1);this._adjustWidths();}));},_outstandingPaintOperations:0,_startPaint:function(p){this._outstandingPaintOperations++;if(this._adjustWidthsTimer){this._adjustWidthsTimer.remove();delete this._adjustWidthsTimer;}var oc=lang.hitch(this,function(){this._outstandingPaintOperations--;if(this._outstandingPaintOperations<=0&&!this._adjustWidthsTimer&&this._started){this._adjustWidthsTimer=this.defer("_adjustWidths");}});when(p,oc,oc);},_adjustWidths:function(){if(this._adjustWidthsTimer){this._adjustWidthsTimer.remove();delete this._adjustWidthsTimer;}this.containerNode.style.width="auto";this.containerNode.style.width=this.domNode.scrollWidth>this.domNode.offsetWidth?"auto":"100%";},_createTreeNode:function(args){return new _132b(args);},focus:function(){if(this.lastFocusedChild){this.focusNode(this.lastFocusedChild);}else{this.focusFirstChild();}}});if(has("dojo-bidi")){Tree.extend({_setTextDirAttr:function(_1371){if(_1371&&this.textDir!=_1371){this._set("textDir",_1371);this.rootNode.set("textDir",_1371);}}});}Tree.PathError=_1317("TreePathError");Tree._TreeNode=_132b;return Tree;});},"put-selector/put":function(){(function(_1372){var _1373,_1374=/[-+,> ]/;_1372([],_1373=function(doc,_1375){"use strict";_1374=_1375||_1374;var _1376=/(?:\s*([-+ ,<>]))?\s*(\.|!\.?|#)?([-\w%$|]+)?(?:\[([^\]=]+)=?['"]?([^\]'"]*)['"]?\])?/g,_1377,_1378,_1379=false,doc=doc||document,_137a=typeof doc.createElement=="object";function _137b(_137c,text){_137c.appendChild(doc.createTextNode(text));};function put(_137d){var _137e,_137f,_1380,_1381,_1382,args=arguments,_1383=args[0];function _1384(){if(_1382&&_1381&&_1382!=_1381){(_1381==_137d&&(_137e||(_137e=_1374.test(_1385)&&doc.createDocumentFragment()))?_137e:_1381).insertBefore(_1382,_1380||null);}};for(var i=0;i<args.length;i++){var _1385=args[i];if(typeof _1385=="object"){_137f=false;if(_1385 instanceof Array){_1382=doc.createDocumentFragment();for(var key=0;key<_1385.length;key++){_1382.appendChild(put(_1385[key]));}_1385=_1382;}if(_1385.nodeType){_1382=_1385;_1384();_1381=_1385;_1380=0;}else{for(var key in _1385){_1382[key]=_1385[key];}}}else{if(_137f){_137f=false;_137b(_1382,_1385);}else{if(i<1){_137d=null;}_137f=true;var _1386=_1385.replace(_1376,function(t,_1387,_1388,value,_1389,_138a){if(_1387){_1384();if(_1387=="-"||_1387=="+"){_1381=(_1380=(_1382||_1381)).parentNode;_1382=null;if(_1387=="+"){_1380=_1380.nextSibling;}}else{if(_1387=="<"){_1381=_1382=(_1382||_1381).parentNode;}else{if(_1387==","){_1381=_137d;}else{if(_1382){_1381=_1382;}}_1382=null;}_1380=0;}if(_1382){_1381=_1382;}}var tag=!_1388&&value;if(tag||(!_1382&&(_1388||_1389))){if(tag=="$"){_137b(_1381,args[++i]);}else{tag=tag||put.defaultTag;var _138b=_137a&&args[i+1]&&args[i+1].name;if(_138b){tag="<"+tag+" name=\""+_138b+"\">";}_1382=_1379&&~(_1378=tag.indexOf("|"))?doc.createElementNS(_1379[tag.slice(0,_1378)],tag.slice(_1378+1)):doc.createElement(tag);}}if(_1388){if(value=="$"){value=args[++i];}if(_1388=="#"){_1382.id=value;}else{var _138c=_1382.className;var _138d=_138c&&(" "+_138c+" ").replace(" "+value+" "," ");if(_1388=="."){_1382.className=_138c?(_138d+value).substring(1):value;}else{if(_1385=="!"){var _138e;if(_137a){put("div",_1382,"<").innerHTML="";}else{if(_138e=_1382.parentNode){_138e.removeChild(_1382);}}}else{_138d=_138d.substring(1,_138d.length-1);if(_138d!=_138c){_1382.className=_138d;}}}}}if(_1389){if(_138a=="$"){_138a=args[++i];}if(_1389=="style"){_1382.style.cssText=_138a;}else{var _138f=_1389.charAt(0)=="!"?(_1389=_1389.substring(1))&&"removeAttribute":"setAttribute";_138a=_138a===""?_1389:_138a;_1379&&~(_1378=_1389.indexOf("|"))?_1382[_138f+"NS"](_1379[_1389.slice(0,_1378)],_1389.slice(_1378+1),_138a):_1382[_138f](_1389,_138a);}}return "";});if(_1386){throw new SyntaxError("Unexpected char "+_1386+" in "+_1385);}_1384();_1381=_1383=_1382||_1381;}}}if(_137d&&_137e){_137d.appendChild(_137e);}return _1383;};put.addNamespace=function(name,uri){if(doc.createElementNS){(_1379||(_1379={}))[name]=uri;}else{doc.namespaces.add(name,uri);}};put.defaultTag="div";put.forDocument=_1373;return put;});})(function(id,deps,_1390){_1390=_1390||deps;if(typeof define==="function"){define([],function(){return _1390();});}else{if(typeof window=="undefined"){require("./node-html")(module,_1390);}else{put=_1390();}}});},"research/projects/update":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../projects/templates/update.html","dojo/request","ttl/utilities2","dojo/json","dojo/topic","dojo/_base/lang","dojo/data/ItemFileReadStore","dojo/date","dojo/dom-class","dijit/layout/ContentPane","dijit/Toolbar","dijit/form/DateTextBox"],function(_1391,_1392,_1393,_1394,_1395,json,topic,lang,_1396,_1397,_1398){return _1391("research.projects.update",[_1392],{templateString:_1393,gutters:true,constructor:function(){this._load_call_back=lang.hitch(this,this._load_call);this._update_call_back=lang.hitch(this,this._update_call);this._users=new _1396({url:"/common/lookups?searchtype=users&group=dataadmin&nofilter"});},postCreate:function(){this.inherited(arguments);this.ownerid.set("store",this._users);this.ownerid.set("value",-1);},load:function(_1399){_1394.post("/research/admin/projects/projects_get",_1395.make_params({data:{researchprojectid:_1399}})).then(this._load_call_back,this._error_call_back);},_load_call:function(_139a){if(_139a.success=="OK"){this.researchprojectid.set("value",_139a.data.researchprojectid);this.researchprojectname.set("value",_139a.data.researchprojectname);if(_139a.data.ownerid==null){this.ownerid.set("value",-1);}else{this.ownerid.set("value",_139a.data.ownerid);}this.startdate.set("value",_1395.from_object_date_no_date(_139a.data.startdate_json));this.questionnaire_completion.set("value",_1395.from_object_date_no_date(_139a.data.questionnaire_completion_json));this.project_dlg.show();}},_update:function(){if(_1395.form_validator(this.form)==false){alert("Not all required field filled in");this.searchbutton.cancel();throw "N";}var tmp=this.form.get("value");tmp["startdate"]=_1395.to_json_date(this.startdate.get("value"));tmp["questionnaire_completion"]=_1395.to_json_date(this.questionnaire_completion.get("value"));if(confirm("Update Project")){_1394.post("/research/admin/projects/projects_update",_1395.make_params({data:tmp})).then(this._update_call_back);}},_update_call:function(_139b){if(_139b.success=="OK"){topic.publish("/project/update",_139b.data);this.project_dlg.hide();}}});});},"dijit/form/Button":function(){define(["require","dojo/_base/declare","dojo/dom-class","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/ready","./_FormWidget","./_ButtonMixin","dojo/text!./templates/Button.html","../a11yclick"],function(_139c,_139d,_139e,has,_139f,lang,ready,_13a0,_13a1,_13a2){if(has("dijit-legacy-requires")){ready(0,function(){var _13a3=["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"];_139c(_13a3);});}var _13a4=_139d("dijit.form.Button"+(has("dojo-bidi")?"_NoBidi":""),[_13a0,_13a1],{showLabel:true,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:_13a2,_setValueAttr:"valueNode",_setNameAttr:function(name){if(this.valueNode){this.valueNode.setAttribute("name",name);}},postCreate:function(){this.inherited(arguments);this._setLabelFromContainer();},_setLabelFromContainer:function(){if(this.containerNode&&!this.label){this.label=lang.trim(this.containerNode.innerHTML);this.onLabelSet();}},_setShowLabelAttr:function(val){if(this.containerNode){_139e.toggle(this.containerNode,"dijitDisplayNone",!val);}this._set("showLabel",val);},setLabel:function(_13a5){_139f.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_13a5);},onLabelSet:function(){this.inherited(arguments);if(!this.showLabel&&!("title" in this.params)){this.titleNode.title=lang.trim(this.containerNode.innerText||this.containerNode.textContent||"");}}});if(has("dojo-bidi")){_13a4=_139d("dijit.form.Button",_13a4,{onLabelSet:function(){this.inherited(arguments);if(this.titleNode.title){this.applyTextDir(this.titleNode,this.titleNode.title);}},_setTextDirAttr:function(_13a6){if(this._created&&this.textDir!=_13a6){this._set("textDir",_13a6);this._setLabelAttr(this.label);}}});}return _13a4;});},"dijit/form/_ExpandingTextAreaMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/has","dojo/_base/lang","dojo/on","dojo/_base/window","../Viewport"],function(_13a7,_13a8,has,lang,on,win,_13a9){has.add("textarea-needs-help-shrinking",function(){var body=win.body(),te=_13a8.create("textarea",{rows:"5",cols:"20",value:" ",style:{zoom:1,fontSize:"12px",height:"96px",overflow:"hidden",visibility:"hidden",position:"absolute",border:"5px solid white",margin:"0",padding:"0",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"}},body,"last");var _13aa=te.scrollHeight>=te.clientHeight;body.removeChild(te);return _13aa;});return _13a7("dijit.form._ExpandingTextAreaMixin",null,{_setValueAttr:function(){this.inherited(arguments);this.resize();},postCreate:function(){this.inherited(arguments);var _13ab=this.textbox;_13ab.style.overflowY="hidden";this.own(on(_13ab,"focus, resize",lang.hitch(this,"_resizeLater")));},startup:function(){this.inherited(arguments);this.own(_13a9.on("resize",lang.hitch(this,"_resizeLater")));this._resizeLater();},_onInput:function(e){this.inherited(arguments);this.resize();},_estimateHeight:function(){var _13ac=this.textbox;_13ac.rows=(_13ac.value.match(/\n/g)||[]).length+1;},_resizeLater:function(){this.defer("resize");},resize:function(){var _13ad=this.textbox;function _13ae(){var empty=false;if(_13ad.value===""){_13ad.value=" ";empty=true;}var sh=_13ad.scrollHeight;if(empty){_13ad.value="";}return sh;};if(_13ad.style.overflowY=="hidden"){_13ad.scrollTop=0;}if(this.busyResizing){return;}this.busyResizing=true;if(_13ae()||_13ad.offsetHeight){var newH=_13ae()+Math.max(_13ad.offsetHeight-_13ad.clientHeight,0);var _13af=newH+"px";if(_13af!=_13ad.style.height){_13ad.style.height=_13af;_13ad.rows=1;}if(has("textarea-needs-help-shrinking")){var _13b0=_13ae(),_13b1=_13b0,_13b2=_13ad.style.minHeight,_13b3=4,_13b4,_13b5=_13ad.scrollTop;_13ad.style.minHeight=_13af;_13ad.style.height="auto";while(newH>0){_13ad.style.minHeight=Math.max(newH-_13b3,4)+"px";_13b4=_13ae();var _13b6=_13b1-_13b4;newH-=_13b6;if(_13b6<_13b3){break;}_13b1=_13b4;_13b3<<=1;}_13ad.style.height=newH+"px";_13ad.style.minHeight=_13b2;_13ad.scrollTop=_13b5;}_13ad.style.overflowY=_13ae()>_13ad.clientHeight?"auto":"hidden";if(_13ad.style.overflowY=="hidden"){_13ad.scrollTop=0;}}else{this._estimateHeight();}this.busyResizing=false;}});});},"prcommon2/geographical/GeographicalTree":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dijit/layout/BorderContainer","dojo/text!../geographical/templates/GeographicalTree.html","dojo/request","ttl/utilities2","dojo/json","dojo/_base/lang","dojo/topic","dojox/data/JsonRestStore","dijit/tree/ForestStoreModel","dijit/Tree"],function(_13b7,_13b8,_13b9,_13ba,_13bb,_13bc,json,lang,topic,_13bd,_13be,Tree){return _13b7("prcommon2.geographical.GeographicalTree",[_13b8,_13b9],{templateString:_13ba,constructor:function(){this.json_store=new _13bd({target:"/geographical/resttree",labelAttribute:"name"});this.myModel=new _13be({store:this.json_store,deferItemLoadingUntilExpand:true,query:"root",childrenAttrs:["children"]});this._dialog=null;},postCreate:function(){this.treenode=new Tree({model:this.myModel,showRoot:true,label:"Countries",persist:false});this.tree.domNode.appendChild(this.treenode.domNode);this.treenode.startup();dojo.connect(this.treenode,"onDblClick",lang.hitch(this,this._select_node));this.inherited(arguments);},_select_node:function(e){topic.publish(PRCOMMON.Events.Geographical_Selected,{geographicalid:e.id,geographicalname:e.name});},_close:function(){if(this._dialog){this._dialog.hide();}else{topic.publish(PRCOMMON.Events.Dialog_Close,"geog_close");}},_setDialogAttr:function(_13bf){this._dialog=_13bf;}});});},"research/advance/view":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../advance/templates/view.html","dijit/layout/BorderContainer","ttl/grid/Grid","ttl/store/JsonRest","dojo/store/Observable","dojo/request","ttl/utilities2","dojo/json","dojo/data/ItemFileReadStore","dojo/_base/lang","dojo/topic","dojo/dom-attr","dojo/dom-class","dojo/on","dojo/_base/array","dijit/registry","dijit/layout/ContentPane","dijit/form/Button","prcommon2/advance/advance","dijit/layout/BorderContainer","dijit/layout/TabContainer","dijit/layout/ContentPane","dijit/form/Button","dojox/form/BusyButton","prcommon2/search/AdvanceSearch"],function(_13c0,_13c1,_13c2,_13c3,Grid,_13c4,_13c5,_13c6,_13c7,json,_13c8,lang,topic,_13c9,_13ca,on,array,_13cb){return _13c0("research.advance.view",[_13c1,_13c3],{templateString:_13c2,constructor:function(){this.results=new _13c5(new _13c4({target:"/advance/viewpage_rest",idProperty:"advancefeatureid"}));this._load_call_back=lang.hitch(this,this._load_call);this._clear_all_call_back=lang.hitch(this,this._clear_all_call);},postCreate:function(){var cells=[{label:"Outlet Name",className:"dgrid-column-title ",field:"outletname"},{label:"Publication Date",className:"dgrid-column-date",field:"pub_date_display"},{label:"Feature",className:"dgrid-column-contact",field:"feature"}];this.searchgrid=new Grid({columns:cells,selectionMode:"single",store:this.results,sort:[{attribute:"pub_date_display",descending:false}],query:_13c7.EMPTYGRID});this.searchgrid_view.set("content",this.searchgrid);this.searchgrid.on("dgrid-select",lang.hitch(this,this._on_cell_call));on(this.search_form_pane,"onLoad",lang.hitch(this,this._connect_pane));this.inherited(arguments);},_on_cell_call:function(e){var row=e.rows[0].data;this.outlet_advance_ctrl.load(row.advancefeatureid,row.outletid);_13ca.remove(this.outlet_advance_ctrl.domNode,"prmaxhidden");},_connect_pane:function(){on(_13cb.byId(this.form_name),"onSubmit",lang.hitch(this,this._submit));},_submit:function(){this._do_search();},_clear_search:function(){var form=this._get_form();array.every(form.getChildren(),function(_13cc){if(_13cc.clear!=null){_13cc.clear();}if(_13cc.Clear!=null){_13cc.Clear();}return true;});this.searchbutton.cancel();},_clear_search_results:function(){_13c6.post("/advance/delete_list_all",_13c7.make_params({})).then(this._clear_all_call_back);},_clear_all_call:function(_13cd){this.searchgrid.set("query",{});_13ca.add(this.outlet_advance_ctrl.domNode,"prmaxhidden");},_search:function(){this._do_search();},_do_search:function(){var form=this._get_form();form.setExtendedMode(false);var _13ce=form.get("value");_13ce["mode"]=1;_13ce["search_partial"]=2;_13ce["searchtypeid"]=3;_13ce["research"]=1;_13c6.post("/search/dosearch",_13c7.make_params({data:_13ce})).then(this._load_call_back);},_load_call:function(_13cf){this.searchgrid.set("query",{});this.searchbutton.cancel();},_get_form:function(){return this.std_search_advance.get("form");}});});},"prcommon2/prevents":function(){define(["dojo/_base/declare"],function(_13d0){return _13d0("prcommon2.prevents",null,{Employee_Deleted:"/employee/deleted",Employee_Updated:"/employee/update",SearchSession_Added:"/searchsession/add",SearchSession_Deleted:"/searchsession/delete",Outlet_Deleted:"/outlet/deleted",Outlet_Updated:"/outlet/update",Outlet_Overrides:"/outlet/overrides",SearchSession_Changed:"/searchsession/changed",Advance_Session_Changed:"/advance/sessionchanged",Display_Retry:"/display/retry",Employee_Add:"/employee/add",Employee_Override:"/employee/overrides",Display_Clear:"/display/clear",Display_Load:"/display/load",Display_Name:"/display/name",Dialog_Close:"/dialog/close",Display_ReLoad:"/display/refresh",Display_View_Changed:"/display/chnaged",Search_PartialMatch:"/search/partialmatch",Search_Total:"/search/searchtotal",Collateral_Add:"/collateral/add",Project_Add:"/projects/add",Project_Update:"/projects/update",Project_Delete:"/projects/delete",List_Deleted:"/lists/delete",List_Add:"/lists/add",User_Added:"/user/added",Word_Html_Data:"/email.html",Geographical_Area_Delete:"/geographical/delete",Geographical_Area_Update:"/geographical/update",Geographical_Area_Add:"/geographical/add",Interest_Delete:"/interest/delete",Interest_Update:"/interest/update",Interest_Add:"/interest/add",Coverage_Moved:"/coverage/moved",Person_Added:"/person/add",Person_Update:"/person/update",Person_Delete:"/person/delete",PressReleaseStart:"/pressrelease/start",Crm_Note_Add:"/crm/add",Crm_Note_Update:"/crm/update",Crm_Note_Delete:"/crm/delete",Monthly_Payments:"/payment/taken",Message_Sent:"/messages/sent",Button_Pressed:"/button/pressed",Feature_Deleted:"/feature/deleted",Feature_Added:"/feature/added",Feature_Updated:"/feature/update",Feature_List_Add:"/featurelist/add",Feature_List_Update:"/featurelist/update",Feature_List_Update:"/featurelist/delete",Geographical_Selected:"/geographical/selected",BouncedEmail_Completed:"/events/bouncedcompleted",Financial_ReLoad:"/financial/refresh",Publisher_Added:"/publisher/add",Publisher_Update:"/publisher/update",Publisher_Deleted:"/publisher/deleted",Circulation_Sources_Added:"/circulationsources/add",Circulation_Sources_Update:"/circulationsources/update",Circulation_Dates_Added:"/circulationdates/add",Circulation_Dates_Update:"/circulationdates/update",Circulation_Dates_Deleted:"/circulationdates/deleted",Web_Sources_Added:"/websources/add",Web_Sources_Update:"/websources/update",Web_Dates_Added:"/webdates/add",Web_Dates_Update:"/webdates/update",Web_Dates_Deleted:"/webdates/deleted",Market_Sector_Added:"/marketsector/add",Market_Sector_Update:"/marketsector/update",Market_Sector_Deleted:"/marketsector/deleted",Production_Company_Added:"/production/add",Production_Company_Update:"/production/update",Production_Company_Deleted:"/production/delete",Lanquage_Added:"/lang/add",Lanquage_Update:"/lang/update",Desk_Added:"/desk/add",Desk_Updated:"/desk/update",Desk_Deleted:"/desk/delete",Show_Customer_Main:"/m/show",Expire_Date_Changed:"/m/exp",Task_Refresh:"/m/t_refresh",Employee_Quest_Deleted:"/eq/deleted",Employee_Quest_Updated:"/eq/update",Employee_Quest_Add:"/eq/add",Edit_Notes:"/crm/edit_notes",Update_Notes:"crm/notes_updated",Task_Add:"/task/add",Task_Update:"task/updated",Brief_Note_Add:"i/bn/add",Brief_Note_Upd:"i/bn/upd"});});},"dijit/CalendarLite":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/cldr/supplemental","dojo/date","dojo/date/locale","dojo/date/stamp","dojo/dom","dojo/dom-class","dojo/_base/lang","dojo/on","dojo/sniff","dojo/string","./_WidgetBase","./_TemplatedMixin","dojo/text!./templates/Calendar.html","./a11yclick","./hccss"],function(array,_13d1,_13d2,date,_13d3,stamp,dom,_13d4,lang,on,has,_13d5,_13d6,_13d7,_13d8){var _13d9=_13d1("dijit.CalendarLite",[_13d6,_13d7],{templateString:_13d8,dowTemplateString:"<th class=\"dijitReset dijitCalendarDayLabelTemplate\" role=\"columnheader\" scope=\"col\"><span class=\"dijitCalendarDayLabel\">${d}</span></th>",dateTemplateString:"<td class=\"dijitReset\" role=\"gridcell\" data-dojo-attach-point=\"dateCells\"><span class=\"dijitCalendarDateLabel\" data-dojo-attach-point=\"dateLabels\"></span></td>",weekTemplateString:"<tr class=\"dijitReset dijitCalendarWeekTemplate\" role=\"row\">${d}${d}${d}${d}${d}${d}${d}</tr>",value:new Date(""),datePackage:"",dayWidth:"narrow",tabIndex:"0",dayOffset:-1,currentFocus:new Date(),_setSummaryAttr:"gridNode",baseClass:"dijitCalendar dijitCalendarLite",_isValidDate:function(value){return value&&!isNaN(value)&&typeof value=="object"&&value.toString()!=this.constructor.prototype.value.toString();},_getValueAttr:function(){var _13da=this._get("value");if(_13da&&!isNaN(_13da)){var value=new this.dateClassObj(_13da);value.setHours(0,0,0,0);if(value.getDate()<_13da.getDate()){value=this.dateModule.add(value,"hour",1);}return value;}else{return null;}},_setValueAttr:function(value,_13db){if(typeof value=="string"){value=stamp.fromISOString(value);}value=this._patchDate(value);if(this._isValidDate(value)&&!this.isDisabledDate(value,this.lang)){this._set("value",value);this.set("currentFocus",value);this._markSelectedDates([value]);if(this._created&&(_13db||typeof _13db=="undefined")){this.onChange(this.get("value"));}}else{this._set("value",null);this._markSelectedDates([]);}},_patchDate:function(value){if(value){value=new this.dateClassObj(value);value.setHours(1,0,0,0);}return value;},_setText:function(node,text){while(node.firstChild){node.removeChild(node.firstChild);}node.appendChild(node.ownerDocument.createTextNode(text));},_populateGrid:function(){var month=new this.dateClassObj(this.currentFocus);month.setDate(1);month=this._patchDate(month);var _13dc=month.getDay(),_13dd=this.dateModule.getDaysInMonth(month),_13de=this.dateModule.getDaysInMonth(this.dateModule.add(month,"month",-1)),today=new this.dateClassObj(),_13df=this.dayOffset>=0?this.dayOffset:_13d2.getFirstDayOfWeek(this.lang);if(_13df>_13dc){_13df-=7;}if(!this.summary){var _13e0=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,month);this.gridNode.setAttribute("summary",_13e0[month.getMonth()]);}this._date2cell={};array.forEach(this.dateCells,function(_13e1,idx){var i=idx+_13df;var date=new this.dateClassObj(month),_13e2,clazz="dijitCalendar",adj=0;if(i<_13dc){_13e2=_13de-_13dc+i+1;adj=-1;clazz+="Previous";}else{if(i>=(_13dc+_13dd)){_13e2=i-_13dc-_13dd+1;adj=1;clazz+="Next";}else{_13e2=i-_13dc+1;clazz+="Current";}}if(adj){date=this.dateModule.add(date,"month",adj);}date.setDate(_13e2);if(!this.dateModule.compare(date,today,"date")){clazz="dijitCalendarCurrentDate "+clazz;}if(this.isDisabledDate(date,this.lang)){clazz="dijitCalendarDisabledDate "+clazz;_13e1.setAttribute("aria-disabled","true");}else{clazz="dijitCalendarEnabledDate "+clazz;_13e1.removeAttribute("aria-disabled");_13e1.setAttribute("aria-selected","false");}var _13e3=this.getClassForDate(date,this.lang);if(_13e3){clazz=_13e3+" "+clazz;}_13e1.className=clazz+"Month dijitCalendarDateTemplate";var _13e4=date.valueOf();this._date2cell[_13e4]=_13e1;_13e1.dijitDateValue=_13e4;this._setText(this.dateLabels[idx],date.getDateLocalized?date.getDateLocalized(this.lang):date.getDate());},this);},_populateControls:function(){var month=new this.dateClassObj(this.currentFocus);month.setDate(1);this.monthWidget.set("month",month);var y=month.getFullYear()-1;var d=new this.dateClassObj();array.forEach(["previous","current","next"],function(name){d.setFullYear(y++);this._setText(this[name+"YearLabelNode"],this.dateLocaleModule.format(d,{selector:"year",locale:this.lang}));},this);},goToToday:function(){this.set("value",new this.dateClassObj());},constructor:function(_13e5){this.dateModule=_13e5.datePackage?lang.getObject(_13e5.datePackage,false):date;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=_13e5.datePackage?lang.getObject(_13e5.datePackage+".locale",false):_13d3;},_createMonthWidget:function(){return _13d9._MonthWidget({id:this.id+"_mddb",lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode);},buildRendering:function(){var d=this.dowTemplateString,_13e6=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang),_13e7=this.dayOffset>=0?this.dayOffset:_13d2.getFirstDayOfWeek(this.lang);this.dayCellsHtml=_13d5.substitute([d,d,d,d,d,d,d].join(""),{d:""},function(){return _13e6[_13e7++%7];});var r=_13d5.substitute(this.weekTemplateString,{d:this.dateTemplateString});this.dateRowsHtml=[r,r,r,r,r,r].join("");this.dateCells=[];this.dateLabels=[];this.inherited(arguments);dom.setSelectable(this.domNode,false);var _13e8=new this.dateClassObj(this.currentFocus);this.monthWidget=this._createMonthWidget();this.set("currentFocus",_13e8,false);},postCreate:function(){this.inherited(arguments);this._connectControls();},_connectControls:function(){var _13e9=lang.hitch(this,function(_13ea,part,_13eb){this[_13ea].dojoClick=true;return on(this[_13ea],"click",lang.hitch(this,function(){this._setCurrentFocusAttr(this.dateModule.add(this.currentFocus,part,_13eb));}));});this.own(_13e9("incrementMonth","month",1),_13e9("decrementMonth","month",-1),_13e9("nextYearLabelNode","year",1),_13e9("previousYearLabelNode","year",-1));},_setCurrentFocusAttr:function(date,_13ec){var _13ed=this.currentFocus,_13ee=this._getNodeByDate(_13ed);date=this._patchDate(date);this._set("currentFocus",date);if(!this._date2cell||this.dateModule.difference(_13ed,date,"month")!=0){this._populateGrid();this._populateControls();this._markSelectedDates([this.value]);}var _13ef=this._getNodeByDate(date);_13ef.setAttribute("tabIndex",this.tabIndex);if(this.focused||_13ec){_13ef.focus();}if(_13ee&&_13ee!=_13ef){if(has("webkit")){_13ee.setAttribute("tabIndex","-1");}else{_13ee.removeAttribute("tabIndex");}}},focus:function(){this._setCurrentFocusAttr(this.currentFocus,true);},_onDayClick:function(evt){evt.stopPropagation();evt.preventDefault();for(var node=evt.target;node&&!node.dijitDateValue;node=node.parentNode){}if(node&&!_13d4.contains(node,"dijitCalendarDisabledDate")){this.set("value",node.dijitDateValue);}},_getNodeByDate:function(value){value=this._patchDate(value);return value&&this._date2cell?this._date2cell[value.valueOf()]:null;},_markSelectedDates:function(dates){function mark(_13f0,cell){_13d4.toggle(cell,"dijitCalendarSelectedDate",_13f0);cell.setAttribute("aria-selected",_13f0?"true":"false");};array.forEach(this._selectedCells||[],lang.partial(mark,false));this._selectedCells=array.filter(array.map(dates,this._getNodeByDate,this),function(n){return n;});array.forEach(this._selectedCells,lang.partial(mark,true));},onChange:function(){},isDisabledDate:function(){},getClassForDate:function(){}});_13d9._MonthWidget=_13d1("dijit.CalendarLite._MonthWidget",_13d6,{_setMonthAttr:function(month){var _13f1=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,month),_13f2=(has("ie")==6?"":"<div class='dijitSpacer'>"+array.map(_13f1,function(s){return "<div>"+s+"</div>";}).join("")+"</div>");this.domNode.innerHTML=_13f2+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+_13f1[month.getMonth()]+"</div>";}});return _13d9;});},"research/clippings/mbrain_outlets":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../clippings/templates/mbrain_outlets.html","dojo/request","ttl/utilities2","dojo/_base/lang","dojo/data/ItemFileReadStore","dojo/store/Observable","ttl/store/JsonRest","dojox/data/JsonRestStore","dijit/layout/ContentPane","dijit/form/FilteringSelect","prcommon2/outlet/OutletSelect"],function(_13f3,_13f4,_13f5,_13f6,_13f7,lang,_13f8,_13f9,_13fa,_13fb,_13fc){return _13f3("research.clippings.mbrain_outlets",[_13f4,_13fc],{templateString:_13f5,constructor:function(){this._load_details_call_back=lang.hitch(this,this._load_details_call);this._update_translation_call_back=lang.hitch(this,this._update_translation_call);},postCreate:function(){this.inherited(arguments);},load:function(_13fd,_13fe){this._show_func=_13fe;this.outletexternallinkid.set("value",_13fd);_13f6.post("/research/clippings/get_outlet_trans_record",_13f7.make_params({data:{outletexternallinkid:_13fd}})).then(this._load_details_call_back);},_load_details_call:function(_13ff){if(_13ff.success=="OK"){this._show_func("mbrain_outlets");this.outletid.set("value",_13ff.data.outletid);this.outletid.set("Displayvalue",_13ff.data.outletname);this.ignore.set("checked",_13ff.data.ignore);}},_update_outlet:function(){if(_13f7.form_validator(this.form)==false){alert("Not all required fields filled in");throw "N";}_13f6.post("/research/clippings/update_outlet_trans",_13f7.make_params({data:this.form.get("value")})).then(this._update_translation_call_back);},_update_translation_call:function(_1400){if(_1400.success=="OK"){this._show_func("mbrain_outlets",_1400.data);}}});});},"dijit/Toolbar":function(){define(["require","dojo/_base/declare","dojo/has","dojo/keys","dojo/ready","./_Widget","./_KeyNavContainer","./_TemplatedMixin"],function(_1401,_1402,has,keys,ready,_1403,_1404,_1405){if(has("dijit-legacy-requires")){ready(0,function(){var _1406=["dijit/ToolbarSeparator"];_1401(_1406);});}return _1402("dijit.Toolbar",[_1403,_1405,_1404],{templateString:"<div class=\"dijit\" role=\"toolbar\" tabIndex=\"${tabIndex}\" data-dojo-attach-point=\"containerNode\">"+"</div>",baseClass:"dijitToolbar",_onLeftArrow:function(){this.focusPrev();},_onRightArrow:function(){this.focusNext();}});});},"dojox/data/ServiceStore":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array"],function(_1407,lang,array){return _1407("dojox.data.ServiceStore",lang.getObject("dojox.data.ClientFilter",0)||null,{service:null,constructor:function(_1408){this.byId=this.fetchItemByIdentity;this._index={};if(_1408){lang.mixin(this,_1408);}this.idAttribute=(_1408&&_1408.idAttribute)||(this.schema&&this.schema._idAttr);},schema:null,idAttribute:"id",labelAttribute:"label",syncMode:false,estimateCountFactor:1,getSchema:function(){return this.schema;},loadLazyValues:true,getValue:function(item,_1409,_140a){var value=item[_1409];return value||(_1409 in item?value:item._loadObject?(dojox.rpc._sync=true)&&arguments.callee.call(this,dojox.data.ServiceStore.prototype.loadItem({item:item})||{},_1409,_140a):_140a);},getValues:function(item,_140b){var val=this.getValue(item,_140b);return val instanceof Array?val:val===undefined?[]:[val];},getAttributes:function(item){var res=[];for(var i in item){if(item.hasOwnProperty(i)&&!(i.charAt(0)=="_"&&i.charAt(1)=="_")){res.push(i);}}return res;},hasAttribute:function(item,_140c){return _140c in item;},containsValue:function(item,_140d,value){return array.indexOf(this.getValues(item,_140d),value)>-1;},isItem:function(item){return (typeof item=="object")&&item&&!(item instanceof Date);},isItemLoaded:function(item){return item&&!item._loadObject;},loadItem:function(args){var item;if(args.item._loadObject){args.item._loadObject(function(_140e){item=_140e;delete item._loadObject;var func=_140e instanceof Error?args.onError:args.onItem;if(func){func.call(args.scope,_140e);}});}else{if(args.onItem){args.onItem.call(args.scope,args.item);}}return item;},_currentId:0,_processResults:function(_140f,_1410){if(_140f&&typeof _140f=="object"){var id=_140f.__id;if(!id){if(this.idAttribute){id=_140f[this.idAttribute];}else{id=this._currentId++;}if(id!==undefined){var _1411=this._index[id];if(_1411){for(var j in _1411){delete _1411[j];}_140f=lang.mixin(_1411,_140f);}_140f.__id=id;this._index[id]=_140f;}}for(var i in _140f){_140f[i]=this._processResults(_140f[i],_1410).items;}var count=_140f.length;}return {totalCount:_1410.request.count==count?(_1410.request.start||0)+count*this.estimateCountFactor:count,items:_140f};},close:function(_1412){return _1412&&_1412.abort&&_1412.abort();},fetch:function(args){args=args||{};if("syncMode" in args?args.syncMode:this.syncMode){dojox.rpc._sync=true;}var self=this;var scope=args.scope||self;var _1413=this.cachingFetch?this.cachingFetch(args):this._doQuery(args);_1413.request=args;_1413.addCallback(function(_1414){if(args.clientFetch){_1414=self.clientSideFetch({query:args.clientFetch,sort:args.sort,start:args.start,count:args.count},_1414);}var _1415=self._processResults(_1414,_1413);_1414=args.results=_1415.items;if(args.onBegin){args.onBegin.call(scope,_1415.totalCount,args);}if(args.onItem){for(var i=0;i<_1414.length;i++){args.onItem.call(scope,_1414[i],args);}}if(args.onComplete){args.onComplete.call(scope,args.onItem?null:_1414,args);}return _1414;});_1413.addErrback(args.onError&&function(err){return args.onError.call(scope,err,args);});args.abort=function(){_1413.cancel();};args.store=this;return args;},_doQuery:function(args){var query=typeof args.queryStr=="string"?args.queryStr:args.query;return this.service(query);},getFeatures:function(){return {"dojo.data.api.Read":true,"dojo.data.api.Identity":true,"dojo.data.api.Schema":this.schema};},getLabel:function(item){return this.getValue(item,this.labelAttribute);},getLabelAttributes:function(item){return [this.labelAttribute];},getIdentity:function(item){return item.__id;},getIdentityAttributes:function(item){return [this.idAttribute];},fetchItemByIdentity:function(args){var item=this._index[(args._prefix||"")+args.identity];if(item){if(item._loadObject){args.item=item;return this.loadItem(args);}else{if(args.onItem){args.onItem.call(args.scope,item);}}}else{return this.fetch({query:args.identity,onComplete:args.onItem,onError:args.onError,scope:args.scope}).results;}return item;}});});},"research/lookups/Lanquages":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../lookups/templates/Lanquages.html","dijit/layout/BorderContainer","ttl/grid/Grid","ttl/store/JsonRest","dojo/store/Observable","dojo/request","ttl/utilities2","dojo/json","dojo/topic","dojo/_base/lang","dijit/layout/ContentPane","dijit/Toolbar","dijit/form/DropDownButton","dijit/TooltipDialog","dijit/form/TextBox","dijit/form/Button","dijit/form/ValidationTextBox","dijit/form/Form","prcommon2/languages/LanguageAdd","dijit/Dialog"],function(_1416,_1417,_1418,_1419,Grid,_141a,_141b,_141c,_141d,json,topic,lang){return _1416("research.lookups.Lanquages",[_1417,_1419],{templateString:_1418,gutters:true,constructor:function(){this._store=new _141b(new _141a({target:"/lanquages/list",idProperty:"languageid"}));topic.subscribe(PRCOMMON.Events.Lanquage_Update,lang.hitch(this,this._update_event));topic.subscribe(PRCOMMON.Events.Lanquage_Added,lang.hitch(this,this._add_event));},postCreate:function(){var cells=[{label:" ",field:"languageid",sortable:false,formatter:_141d.generic_view,className:"grid-field-image-view"},{label:"Language ",className:"standard",field:"languagename"}];this.grid=new Grid({columns:cells,selectionMode:"single",store:this._store,query:{}});this.grid.on("dgrid-select",dojo.hitch(this,this._on_cell_call));this.language_add_ctrl.set("dialog",this.language_add_dlg);this.language_update_ctrl.set("dialog",this.language_update_dlg);this.inherited(arguments);},startup:function(){this.inherited(arguments);this.grid_view.set("content",this.grid);},_on_cell_call:function(e){this.language_update_ctrl.load(e.rows[0].data.languageid);},_execute:function(){var query={};if(arguments[0].filter){query["languagename"]=arguments[0].filter;}this.grid.set("query",query);},_new_language:function(){this.language_add_ctrl.clear();this.language_add_dlg.show();},_clear_filter:function(){this.filter.set("value","");},_update_event:function(_141e){this._store.put(_141e);},_add_event:function(_141f){this._store.add(_141f);}});});},"prcommon2/geographical/GeographicalEdit":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../geographical/templates/GeographicalEdit.html","dojo/request","ttl/utilities2","dojo/json","dojo/data/ItemFileReadStore","dojo/topic","dojo/dom-class","dojo/dom-style","dojo/_base/lang","dijit/form/TextBox","dijit/form/CheckBox","dijit/form/Button","dijit/form/ValidationTextBox","dijit/form/Form","prcommon2/interests/Interests"],function(_1420,_1421,_1422,_1423,_1424,json,_1425,topic,_1426,_1427,lang){return _1420("prcommon2.geographical.GeographicalEdit",[_1421],{templateString:_1422,constructor:function(){this.geographical_types=new _1425({url:"/common/lookups?searchtype=geographicallookuptypes&typesonly=0"});this._collect_details_call_back=lang.hitch(this,this._collect_details_call);this._add_call_back=lang.hitch(this,this._add_call);this._update_call_back=lang.hitch(this,this._update_call);this._load_selection_call_back=lang.hitch(this,this._load_selection_call);this._load_child_selection_call_back=lang.hitch(this,this._load_child_selection_call);this._transfer_selection_call_back=lang.hitch(this,this._transfer_selection_call);this._delete_call_back=lang.hitch(this,this._delete_call);this._transfer_call_back=lang.hitch(this,this._transfer_call);this._geographicalid=-1;},postCreate:function(){this.geographicallookuptypeid.set("store",this.geographical_types);dojo.connect(this.geographical_list_select.domNode,"onkeyup",lang.hitch(this,this._geographical_select));dojo.connect(this.child_list_select.domNode,"onkeyup",lang.hitch(this,this._child_geog_select));dojo.connect(this.geographical_list,"onchange",lang.hitch(this,this._geographical_update_selection));dojo.connect(this.geographical_list,"ondblclick",lang.hitch(this,this._geographical_select_dbl));dojo.connect(this.geographical_select,"ondblclick",lang.hitch(this,this._geographical_select_delete_dbl));dojo.connect(this.geographical_select,"onchange",lang.hitch(this,this._geographical_update_selection));dojo.connect(this.child_list,"onchange",lang.hitch(this,this._child_update_selection));dojo.connect(this.child_list,"ondblclick",lang.hitch(this,this._child_select_dbl));dojo.connect(this.child_select,"ondblclick",lang.hitch(this,this._child_select_delete_dbl));dojo.connect(this.child_select,"onchange",lang.hitch(this,this._child_update_selection));dojo.connect(this.transfer_list_select.domNode,"onkeyup",lang.hitch(this,this._transfer_select));dojo.connect(this.transfer_list,"onchange",lang.hitch(this,this._transfer_selection_options));},_geographical_update_selection:function(){this._selection_options();},_child_update_selection:function(){this._child_selection_options();},_geographical_select_dbl:function(){this._geographical_select_single();this._selection_options();},_geographical_select_all:function(){for(var c=0;c<this.geographical_list.options.length;c++){var _1428=this.geographical_list.options[c];var _1429=true;for(var c1=0;c1<this.geographical_select.options.length;c1++){if(this.geographical_select.options[c1].value==_1428.value){_1429=false;break;}}if(_1429){this.geographical_select.options[this.geographical_select.options.length]=new Option(_1428.text,_1428.value);}}this.geographical_list.options.length=0;this._geographical_update_selection();},_geographical_select_single:function(){for(var c=0;c<this.geographical_list.options.length;c++){var _142a=this.geographical_list.options[c];if(_142a.selected){_142a.selected=false;var _142b=true;for(var c1=0;c1<this.geographical_select.options.length;c1++){if(this.geographical_select.options[c1].value==_142a.value){_142b=false;break;}}if(_142b){this.geographical_select.options[this.geographical_select.options.length]=new Option(_142a.text,_142a.value);}}}this._geographical_update_selection();},_geographical_remove_all:function(){this.geographical_select.options.length=0;this._geographical_update_selection();},_geographical_select_delete_dbl:function(_142c){if(_142c!=null&&_142c.originalTarget!=null&&_142c.originalTarget.index!=null){this.geographical_select.options[_142c.originalTarget.index]=null;this._geographical_update_selection();}else{this._geographical_remove_single();}},_geographical_remove_single:function(){for(var c=0;c<this.geographical_select.options.length;c++){if(this.geographical_select.options[c].selected){this.geographical_select.options[c]=null;}}this._geographical_update_selection();},_load_selection_call:function(_142d){if(this._transactionid==_142d.transactionid){this._clear_selection_box();for(var i=0;i<_142d.data.length;++i){var _142e=_142d.data[i];this.geographical_list.options[this.geographical_list.options.length]=new Option(_142e[0],_142e[1]);}this._selection_options();}},_load_child_selection_call:function(_142f){if(this._transactionid_child==_142f.transactionid){this._clear_child_selection_box();for(var i=0;i<_142f.data.length;++i){var _1430=_142f.data[i];this.child_list.options[this.child_list.options.length]=new Option(_1430[0],_1430[1]);}this._child_selection_options();}},_geographical_select:function(){var data=this.geographical_list_select.get("value");if(data.length>0){this._transactionid=PRCOMMON.utils.uuid.createUUID();var fid=parseInt(this.geographicallookuptypeid.get("value"));if(fid==3){fid=6;}_1423.post("/geographical/listbytype",_1424.make_params({data:{word:data,parentonly:1,filter:fid,transactionid:this._transactionid,cascade_region:1,extended_mode:true}})).then(this._load_selection_call_back);}else{this._clear_selection_box();this._selection_options();}},_child_geog_select:function(){var data=this.child_list_select.get("value");if(data.length>0){this._transactionid_child=PRCOMMON.utils.uuid.createUUID();var fid=parseInt(this.geographicallookuptypeid.get("value"))-1;if(fid==5){fid=3;}_1423.post("/geographical/listbytype",_1424.make_params({data:{word:data,filter:fid,transactionid:this._transactionid_child,cascade_region:2,extended_mode:true}})).then(this._load_child_selection_call_back);}else{this._clear_child_selection_box();this._child_selection_options();}},_collect_details_call:function(_1431){if(_1431.success=="OK"){this._make_edit();this._geographicalid=_1431.data.geographical.geographicalid;this.geographicalname.set("value",_1431.data.geographical.geographicalname);this.geographicallookuptypeid.set("value",_1431.data.geographical.geographicallookuptypeid);for(var i=0;i<_1431.data.parents.length;++i){var area=_1431.data.parents[i];this.geographical_select.options[this.geographical_select.options.length]=new Option(area.geographicalname,area.parentgeographicalareaid);}for(var i=0;i<_1431.data.children.length;++i){var area=_1431.data.children[i];this.child_select.options[this.child_select.options.length]=new Option(area.geographicalname,area.childgeographicalareaid);}this._type_changed();}else{alert("Problem getting Details");}},load:function(_1432,_1433){this._clear();this._dialog=_1433;this._geographicalid=_1432;if(this._geographicalid>0){_1423.post("/geographical/getdetails",_1424.make_params({data:{geographicalid:this._geographicalid}})).then(this._collect_details_call_back);}else{this._make_new();}},_transfere:function(){if(_1426.contains(this.show_transfer,"prmaxhidden")){_1426.remove(this.show_transfer,"prmaxhidden");}else{_1426.add(this.show_transfer,"prmaxhidden");}},_delete_call:function(_1434){if(_1434.success=="OK"){topic.publish(PRCOMMON.Events.Geographical_Area_Delete,_1434.data);}else{alert("Problem Deleting area");}},_delete:function(){if(confirm("Delete Area")){_1423.post("/geographical/delete_geographical",_1424.make_params({data:{geographicalid:this._geographicalid}})).then(this._delete_call_back);}},_add_call:function(_1435){if(_1435.success=="OK"){topic.publish(PRCOMMON.Events.Geographical_Area_Add,_1435.data);alert("Area Added");this._dialog.hide();}else{if(_1435.success=="OK"){alert("Geographical Areas allready Exists");}else{if(_1435.success=="DU"){alert("Area Already Exists");}else{alert("Problem Adding Geographical Area");}}}},_update_call:function(_1436){if(_1436.success=="OK"){topic.publish(PRCOMMON.Events.Geographical_Area_Update,_1436.data.geographical);alert("Updating Geographical Area");}else{if(_1436.success=="DU"){alert("Area Already Exists");}else{alert("Problem Updating Geographical Area");}}},_save:function(){if(_1424.form_validator(this.form)==false){alert("Not all required field filled in");throw "N";}var _1437=this.form.get("value");_1437["geographicalid"]=this._geographicalid;var _1438=Array();var _1439=Array();for(var x=0;x<this.geographical_select.options.length;x++){_1438[x]=parseInt(this.geographical_select.options[x].value);}_1437["parents"]=dojo.toJson(_1438);for(var x=0;x<this.child_select.options.length;x++){_1439[x]=parseInt(this.child_select.options[x].value);}_1437["children"]=dojo.toJson(_1439);if(this._geographicalid==-1){_1423.post("/geographical/add",_1424.make_params({data:_1437})).then(this._add_call_back);}else{_1423.post("/geographical/update",_1424.make_params({data:_1437})).then(this._update_call_back);}},_clear:function(){this.geographicalname.set("value","");this.geographical_select.options.length=0;this.geographical_list.options.length=0;this.child_select.options.length=0;this.child_list.options.length=0;this.geographicallookuptypeid.set("value",1);this._clear_selection_box();this._selection_options();this._clear_child_selection_box();this._child_selection_options();this._clear_transfer_selection_box();this._transfer_selection_options();_1426.add(this.show_transfer,"prmaxhidden");this.geographicalname.focus();},_make_new:function(){_1427.set(this.transfer.domNode,"display","none");_1427.set(this.deletebtn.domNode,"display","none");this.save.set("label","Add");},_make_edit:function(){_1427.set(this.transfer.domNode,"display","");_1427.set(this.deletebtn.domNode,"display","");this.save.set("label","Save");},_clear_selection_box:function(){this.geographical_list.options.length=0;},_clear_child_selection_box:function(){this.child_list.options.length=0;},_selection_options:function(){this.button_all.set("disabled",this.geographical_list.length?false:true);this.button_single.set("disabled",this.geographical_list.selectedIndex!=-1?false:true);this.button_del_all.set("disabled",this.geographical_select.length?false:true);this.button_del_single.set("disabled",this.geographical_select.selectedIndex!=-1?false:true);},_child_selection_options:function(){this.child_btn_all.set("disabled",this.child_list.length?false:true);this.child_btn_single.set("disabled",this.child_list.selectedIndex!=-1?false:true);this.child_btn_del_all.set("disabled",this.child_select.length?false:true);this.child_btn_del_single.set("disabled",this.child_select.selectedIndex!=-1?false:true);},_transfer_selection_call:function(_143a){if(this._transactionid==_143a.transactionid){this._clear_transfer_selection_box();for(var i=0;i<_143a.data.length;++i){var _143b=_143a.data[i];this.transfer_list.options[this.transfer_list.options.length]=new Option(_143b[0]+"("+_143b[1]+")",_143b[1]);}this._transfer_selection_options();}},_transfer_select:function(){var data=this.transfer_list_select.get("value");if(data.length>0){this._transactionid=PRCOMMON.utils.uuid.createUUID();_1423.post("/geographical/listbytype",_1424.make_params({data:{word:data,filter:-1,transactionid:this._transactionid,extended_mode:true}})).then(this._transfer_selection_call_back);}else{this._clear_transfer_selection_box();this._transfer_selection_options();}},_clear_transfer_selection_box:function(){this.transfer_list.options.length=0;},_transfer_selection_options:function(){this.transfer_do.set("disabled",this.transfer_list.selectedIndex!=-1?false:true);},_transfer_call:function(_143c){if(_143c.success=="OK"){topic.publish(PRCOMMON.Events.Coverage_Moved);alert("Coverage Moved");}else{alert("Problem Moving Coverage");}},_transfere_do:function(){if(confirm("Move Coverage to "+this.transfer_list.options[this.transfer_list.selectedIndex].text+"?")){_1423.post("/geographical/move_coverage",_1424.make_params({data:{fromgeographicalid:this._geographicalid,togeographicalid:this.transfer_list.options[this.transfer_list.selectedIndex].value}})).then(this._transfer_call_back);}},_type_changed:function(){var v=this.geographicallookuptypeid.get("value");if(v==1){_1426.add(this.child_view,"prmaxhidden");}else{_1426.remove(this.child_view,"prmaxhidden");}},_child_select_all:function(){for(var c=0;c<this.child_list.options.length;c++){var _143d=this.child_list.options[c];var _143e=true;for(var c1=0;c1<this.child_select.options.length;c1++){if(this.child_select.options[c1].value==_143d.value){_143e=false;break;}}if(_143e){this.child_select.options[this.child_select.options.length]=new Option(_143d.text,_143d.value);}}this.child_list.options.length=0;this._child_update_selection();},_child_select_single:function(){for(var c=0;c<this.child_list.options.length;c++){var _143f=this.child_list.options[c];if(_143f.selected){_143f.selected=false;var _1440=true;for(var c1=0;c1<this.child_select.options.length;c1++){if(this.child_select.options[c1].value==_143f.value){_1440=false;break;}}if(_1440){this.child_select.options[this.child_select.options.length]=new Option(_143f.text,_143f.value);}}}this._child_update_selection();},_child_remove_all:function(){this.child_select.options.length=0;this._child_update_selection();},_child_select_dbl:function(){this._child_select_single();this._child_selection_options();},_child_select_delete_dbl:function(_1441){if(_1441!=null&&_1441.originalTarget!=null&&_1441.originalTarget.index!=null){this.child_select.options[_1441.originalTarget.index]=null;this._child_update_selection();}else{this._child_remove_single();}},_child_remove_single:function(){for(var c=0;c<this.child_select.options.length;c++){if(this.child_select.options[c].selected){this.child_select.options[c]=null;}}this._child_update_selection();}});});},"dijit/TooltipDialog":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","./focus","./layout/ContentPane","./_DialogMixin","./form/_FormMixin","./_TemplatedMixin","dojo/text!./templates/TooltipDialog.html","./main"],function(_1442,_1443,has,keys,lang,on,focus,_1444,_1445,_1446,_1447,_1448,dijit){var _1449=_1442("dijit.TooltipDialog",[_1444,_1447,_1446,_1445],{title:"",doLayout:false,autofocus:true,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:_1448,_setTitleAttr:"containerNode",postCreate:function(){this.inherited(arguments);this.own(on(this.domNode,"keydown",lang.hitch(this,"_onKey")));},orient:function(node,_144a,_144b){var newC={"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft","BR-TL":"dijitTooltipBelow dijitTooltipABLeft","BL-TR":"dijitTooltipBelow dijitTooltipABRight","TL-BR":"dijitTooltipAbove dijitTooltipABRight","TR-BL":"dijitTooltipAbove dijitTooltipABLeft"}[_144a+"-"+_144b];_1443.replace(this.domNode,newC,this._currentOrientClass||"");this._currentOrientClass=newC;},focus:function(){this._getFocusItems();focus.focus(this._firstFocusItem);},onOpen:function(pos){this.orient(this.domNode,pos.aroundCorner,pos.corner);var _144c=pos.aroundNodePos;if(pos.corner.charAt(0)=="M"&&pos.aroundCorner.charAt(0)=="M"){this.connectorNode.style.top=_144c.y+((_144c.h-this.connectorNode.offsetHeight)>>1)-pos.y+"px";this.connectorNode.style.left="";}else{if(pos.corner.charAt(1)=="M"&&pos.aroundCorner.charAt(1)=="M"){this.connectorNode.style.left=_144c.x+((_144c.w-this.connectorNode.offsetWidth)>>1)-pos.x+"px";}}this._onShow();},onClose:function(){this.onHide();},_onKey:function(evt){if(evt.keyCode==keys.ESCAPE){this.defer("onCancel");evt.stopPropagation();evt.preventDefault();}else{if(evt.keyCode==keys.TAB){var node=evt.target;this._getFocusItems();if(this._firstFocusItem==this._lastFocusItem){evt.stopPropagation();evt.preventDefault();}else{if(node==this._firstFocusItem&&evt.shiftKey){focus.focus(this._lastFocusItem);evt.stopPropagation();evt.preventDefault();}else{if(node==this._lastFocusItem&&!evt.shiftKey){focus.focus(this._firstFocusItem);evt.stopPropagation();evt.preventDefault();}else{evt.stopPropagation();}}}}}}});if(has("dojo-bidi")){_1449.extend({_setTitleAttr:function(title){this.containerNode.title=(this.textDir&&this.enforceTextDirWithUcc)?this.enforceTextDirWithUcc(null,title):title;this._set("title",title);},_setTextDirAttr:function(_144d){if(!this._created||this.textDir!=_144d){this._set("textDir",_144d);if(this.textDir&&this.title){this.containerNode.title=this.enforceTextDirWithUcc(null,this.title);}}}});}return _1449;});},"url:research/translations/templates/translatelanguage.html":"<div>\r\n\t<form data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\">\r\n\t\t<input data-dojo-props='type:\"hidden\",value:\"-1\",name:\"datasourcetranslationid\"' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"datasourcetranslationid\"/>\r\n\t\t<table width=\"550px\" cellspacing=\"0\" cellpadding=\"0\" style=\"border-collapse: collapse\" >\r\n\t\t\t<tr><td>&nbsp;</td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\" width=\"250px\">Primary Language</td><td><select data-dojo-props='style:\"width:15em\",name:\"translation\",autoComplete:true,searchAttr:\"name\",required:true,placeHolder:\"No Selection\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"languageid\"></select></td><tr>\r\n\t\t\t<tr><td>&nbsp;</td></tr>\r\n\t\t\t<tr><td class=\"prmaxrowtag\" align=\"right\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",name:\"submit\",label:\"Update\"' data-dojo-attach-event=\"onClick:_update_translation\" ></button></td></tr>\r\n\t\t</table>\r\n\t\t<br/>\r\n\t</form>\r\n</div>\r\n\r\n","url:prcommon2/search/templates/Publisher.html":"<div>\r\n\t<table width=\"99%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\" >\r\n\t\t<tr><td width=\"20%\" class=\"prmaxrowtag\">Publisher</td>\r\n\t\t\t\t<td width=\"75%\" ><select data-dojo-attach-point=\"select\" data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-props='pageSize:20,name:\"publisherid\",autoComplete:true,searchAttr:\"publishername\",required:false,labelType:\"html\",placeholder:\"All\",value:-1' data-dojo-attach-event=\"onChange:_changed\" ></td>\r\n\t\t\t\t<td width=\"5%\"align=\"right\" valign=\"top\" ><div data-dojo-attach-point=\"countnode\" data-dojo-type=\"prcommon2/search/SearchCount\"></div></td>\r\n\t\t</tr>\r\n\t</table>\r\n</div>\r\n","url:prcommon2/dialogs/templates/SynchroniseDialog.html":"<div>\r\n\t<table data-dojo-attach-point=\"waitbar\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\">\r\n\t\t<tr><td align=\"left\" valign=\"middle\" style=\"padding:0px 3px;width:100%;vertical-align:middle\" class=\"square_button_red\">\r\n\t\t\t<button data-dojo-props='type:\"button\",title:\"Cancel\"' data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:stop\" data-dojo-attach-point=\"cancelbtn\"><i class=\"fa fa-times fa-lg\"></i>&nbsp;&nbsp;Cancel</button>\r\n\t\t</td>\r\n\t\t<td align=\"right\" valign=\"middle\" style=\"padding:5px 3px;vertical-align:'middle'\">\r\n\t\t\t<i class=\"fa fa-spinner fa-2x fa-pulse\" style=\"color:#4296d0\"></i>\r\n\t\t</td><td width=\"180px\" nowrap valign=\"middle\" style=\"padding: 6px 8px 6px 4px;vertical-align:'middle';\">\r\n\t\t\tPlease wait while synchronise series members...\r\n\t\t</td></tr>\r\n\t</table>\r\n</div>\r\n\r\n\r\n","url:research/projects/templates/view.html":"<div>\r\n\t<div data-dojo-attach-point=\"zone\" data-dojo-type=\"dijit/layout/StackContainer\" data-dojo-props='region:\"center\"'>\r\n\t\t<div data-dojo-attach-point=\"projects_views\" data-dojo-type=\"dijit/layout/BorderContainer\" data-dojo-props='title:\"projects\",style:\"height:100%;width:100%\",gutters:false'>\r\n\t\t\t<div data-dojo-type=\"dijit/Toolbar\" data-dojo-props='region:\"top\",style:\"height:44px;width:100%;padding:0px;margin:0px\"'>\r\n\t\t\t\t<div data-dojo-type=\"dijit/form/DropDownButton\"  data-dojo-props='iconClass:\"fa fa-filter fa-3x\",label:\"Filter\",showLabel:false'>\r\n\t\t\t\t\t<div data-dojo-type=\"dijit/TooltipDialog\" data-dojo-props='title:\"Filter By\"' data-dojo-attach-event=\"execute:_execute\">\r\n\t\t\t\t\t\t<table>\r\n\t\t\t\t\t\t\t<tr><td><label>Name</label></td><td><input data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"projectname\" data-dojo-props='type:\"text\",name:\"projectname\"' ></td></tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td align=\"left\"><button data-dojo-attach-event=\"onClick: _clear_filter\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\"' >Clear Filter by</button></td>\r\n\t\t\t\t\t\t\t\t<td align=\"right\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"submit\",name:\"submit\"'>Filter by</button></td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div data-dojo-attach-point=\"projects\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"center\"'></div>\r\n\t\t</div>\r\n\t\t<div data-dojo-attach-point=\"edit\" data-dojo-type=\"research/projects/edit\" data-dojo-props='title:\"edit\",style:\"height:100%;width:100%\"'></div>\r\n\t\t<div data-dojo-attach-point=\"update_ctrl\" data-dojo-type=\"research/projects/update\" ></div>\r\n\t</div>\r\n</div>\r\n","url:dijit/layout/templates/ScrollingTabController.html":"<div class=\"dijitTabListContainer-${tabPosition}\" style=\"visibility:hidden\">\r\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerMenuButton\"\r\n\t\t class=\"tabStripButton-${tabPosition}\"\r\n\t\t id=\"${id}_menuBtn\"\r\n\t\t data-dojo-props=\"containerId: '${containerId}', iconClass: 'dijitTabStripMenuIcon',\r\n\t\t\t\t\tdropDownPosition: ['below-alt', 'above-alt']\"\r\n\t\t data-dojo-attach-point=\"_menuBtn\" showLabel=\"false\" title=\"\">&#9660;</div>\r\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\r\n\t\t class=\"tabStripButton-${tabPosition}\"\r\n\t\t id=\"${id}_leftBtn\"\r\n\t\t data-dojo-props=\"iconClass:'dijitTabStripSlideLeftIcon', showLabel:false, title:''\"\r\n\t\t data-dojo-attach-point=\"_leftBtn\" data-dojo-attach-event=\"onClick: doSlideLeft\">&#9664;</div>\r\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\r\n\t\t class=\"tabStripButton-${tabPosition}\"\r\n\t\t id=\"${id}_rightBtn\"\r\n\t\t data-dojo-props=\"iconClass:'dijitTabStripSlideRightIcon', showLabel:false, title:''\"\r\n\t\t data-dojo-attach-point=\"_rightBtn\" data-dojo-attach-event=\"onClick: doSlideRight\">&#9654;</div>\r\n\t<div class='dijitTabListWrapper' data-dojo-attach-point='tablistWrapper'>\r\n\t\t<div role='tablist' data-dojo-attach-event='onkeydown:onkeydown'\r\n\t\t\t data-dojo-attach-point='containerNode' class='nowrapTabStrip'></div>\r\n\t</div>\r\n</div>","url:prcommon2/deletionhistory/templates/DeletionHistoryAdd.html":"<div style=\"border: 1px solid black\">\r\n<form  data-dojo-props='onsubmit:\"return false\",\"class\":\"prmaxdefault\"' data-dojo-attach-point=\"form\" data-dojo-type=\"dijit/form/Form\">\r\n\t<input data-dojo-props='name:\"deletionhistoryid\",type:\"hidden\",value:-1'  data-dojo-attach-point=\"deletionhistoryid\" data-dojo-type=\"dijit/form/TextBox\"/>\r\n\t\t<table cellspacing=\"0\" cellpadding=\"0\" width=\"400px\">\r\n\t\t<tr><td >&nbsp;</td></tr>\r\n\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Date</td><td colspan=\"2\"><input data-dojo-props='\"class\":\"prmaxbutton\",type:\"text\",name:\"deletiondate\"' data-dojo-type=\"dijit/form/DateTextBox\" data-dojo-attach-point=\"deletiondate\" ></input></td></tr>\r\n\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">ID</td><td colspan=\"2\"><input data-dojo-props='\"class\":\"prmaxinput\",name:\"objectid\",type:\"text\",trim:true,required:true,style:\"width:90%\"' data-dojo-attach-point=\"objectid\" data-dojo-type=\"dijit/form/TextBox\" ></input></td></tr>\r\n\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Description</td><td colspan=\"2\"><input data-dojo-props='\"class\":\"prmaxinput\",name:\"deletionhistorydescription\",type:\"text\",trim:true,required:true,style:\"width:90%\"'  data-dojo-attach-point=\"deletionhistorydescription\" data-dojo-type=\"dijit/form/TextBox\" ></input></td></tr>\r\n\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Outletname</td><td colspan=\"2\"><input data-dojo-props='\"class\":\"prmaxinput\",name:\"outlet_name\",type:\"text\",trim:true,style:\"width:90%\"' data-dojo-attach-point=\"outlet_name\" data-dojo-type=\"dijit/form/TextBox\" ></input></td></tr>\r\n\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Firstname</td><td colspan=\"2\"><input data-dojo-props='\"class\":\"prmaxinput\",name:\"firstname\",type:\"text\",trim:true,style:\"width:90%\"' data-dojo-attach-point=\"firstname\" data-dojo-type=\"dijit/form/TextBox\" ></input></td></tr>\r\n\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Surname</td><td colspan=\"2\"><input data-dojo-props='\"class\":\"prmaxinput\",name:\"familyname\",type:\"text\",trim:true,style:\"width:90%\"' data-dojo-attach-point=\"familyname\" data-dojo-type=\"dijit/form/TextBox\" ></input></td></tr>\r\n\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Domain</td><td colspan=\"2\"><input data-dojo-props='\"class\":\"prmaxinput\",name:\"domain\",type:\"text\",trim:true,style:\"width:90%\"' data-dojo-attach-point=\"domain\" data-dojo-type=\"dijit/form/TextBox\" ></input></td></tr>\r\n\r\n\r\n\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Project</td><td colspan=\"2\"><select data-dojo-attach-point=\"researchprojectid\" data-dojo-props='name:\"researchprojectid\",autoComplete:true,style:\"width:90%\",searchAttr:\"researchprojectname\",required:false,placeHolder:\"No Selection\"' data-dojo-type=\"dijit/form/FilteringSelect\"></select></td></tr>\r\n\r\n\r\n\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Reason</td><td ><select data-dojo-attach-point=\"reasoncodeid\" data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-props='name:\"reasoncodeid\",searchAttr:\"name\",labelType:\"html\",style:\"width:90%\",\"class\":\"prmaxrequired\"'/></td></tr>\r\n\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Type</td><td ><select data-dojo-attach-point=\"deletionhistorytypeid\" data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-props='name:\"deletionhistorytypeid\",searchAttr:\"name\",labelType:\"html\",style:\"width:90%\",\"class\":\"prmaxrequired\"'/></td></tr>\r\n\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">User</td><td colspan=\"2\"><select data-dojo-attach-point=\"iuserid\" data-dojo-props='name:\"iuserid\",autoComplete:\"true\",style:\"width:90%\",labelType:\"html\",required:true' data-dojo-type=\"dijit/form/FilteringSelect\"></td></tr>\r\n\t\t<tr><td >&nbsp;</td></tr>\r\n\t\t<tr>\r\n\t\t\t<td data-dojo-attach-point=\"close_button\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Close\"' data-dojo-attach-event=\"onClick:_close\"></button></td>\r\n\t\t\t<td data-dojo-props=\"'class':'prmaxhidden'\"data-dojo-attach-point=\"delete_button\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Delete\"' data-dojo-attach-event=\"onClick:_delete\"></button></td>\r\n\t\t\t<td align=\"right\"><button data-dojo-attach-event=\"onClick:_add_deletionhistory\" data-dojo-attach-point=\"savenode\" data-dojo-type=\"dojox/form/BusyButton\" type=\"button\" busyLabel=\"Please Wait Saving...\" label=\"Save\"></button></td></tr>\r\n\t</table>\r\n</form>\r\n</div>\r\n","url:research/projects/templates/create.html":"<div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"top\",style:\"height:150px;width:100%\"'>\r\n\t\t<form data-dojo-type=\"dijit/form/Form\" data-dojo-attach-event='onsubmit:_ReturnFalse' data-dojo-attach-point=\"form\">\r\n\t\t\t<table width=\"550px\" cellspacing=\"0\" cellpadding=\"0\" style=\"border-collapse: collapse\" >\r\n\t\t\t\t<tr><td>&nbsp;</td></tr>\r\n\t\t\t\t<tr><td class=\"prmaxrowtag\" align=\"right\" width=\"250px\" >Name:</td><td colspan=\"2\"><input data-dojo-props='style:\"width:300px\",\"class\":\"prmaxrequired\",name:\"researchprojectname\",type:\"text\",maxlength:\"80\",trim:true,required:true' data-dojo-attach-point=\"researchprojectname\" data-dojo-type=\"dijit/form/ValidationTextBox\"/></td></tr>\r\n\t\t\t\t<tr><td class=\"prmaxrowtag\" align=\"right\">User:</td><td colspan=\"2\"><select data-dojo-attach-point=\"iuserid\" data-dojo-props='name:\"iuserid\",autoComplete:\"true\",style:\"width:15em\",labelType:\"html\"' data-dojo-type=\"dijit/form/FilteringSelect\"></td></tr>\r\n\t\t\t\t<tr><td class=\"prmaxrowtag\" align=\"right\">Is Monthly</td><td colspan=\"2\"><input data-dojo-attach-point=\"ismonthly\" data-dojo-props='name:\"ismonthly\",type:\"checkbox\"' data-dojo-type=\"dijit/form/CheckBox\" data-dojo-attach-event=\"onChange:_is_monthly\"></td></tr>\r\n\t\t\t\t<tr data-dojo-attach-point=\"start_date_view\" class=\"prmaxhidden\"><td class=\"prmaxrowtag\" align=\"right\">Start Date</td><td><input data-dojo-attach-point=\"startdate\" data-dojo-ptops='type:\"text\",name:\"startdate\",required:false,style:\"width:10em\"' data-dojo-type=\"dijit/form/DateTextBox\" ></td></tr>\r\n\t\t\t\t<tr><td class=\"prmaxrowtag\" align=\"right\">Questionnaire Completion Date</td><td><input data-dojo-attach-point=\"questionnaire_completion\" data-dojo-ptops='type:\"text\",name:\"questionnaire_completion\",required:true,style:\"width:10em\"' data-dojo-type=\"dijit/form/DateTextBox\" ></td><td align=\"right\"><button data-dojo-attach-event=\"onClick:_create\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",\"class\":\"prmaxbuttonlarge\",label:\"Create Projects\"' ></button></td></tr>\r\n\t\t\t</table>\r\n\t\t\t<br/>\r\n\t\t</div>\r\n\t</form>\r\n\t<div data-dojo-type=\"dijit/layout/BorderContainer\" data-dojo-props='gutters:false,region:\"left\",style:\"width:50%;height:100%\"'>\r\n\t\t<div data-dojo-attach-point=\"tabcont\" data-dojo-type=\"dijit/layout/TabContainer\" data-dojo-props='region:\"center\"'>\r\n\t\t\t<div data-dojo-type=\"dijit/layout/BorderContainer\" data-dojo-props='title:\"Search\",style:\"width:100%;height:100%;overflow:hidden\",gutters:false'>\r\n\t\t\t\t<div data-dojo-attach-point=\"search_tabcont\" data-dojo-type=\"dijit/layout/TabContainer\" data-dojo-props='region:\"center\"'>\r\n\t\t\t\t\t<div data-dojo-attach-point=\"search_tab_outlet\" data-dojo-type=\"prcommon2/search/OutletSearch\" data-dojo-props='style:\"height:100%;overflow:auto;overflow-x:hidden\",\"class\":\"scrollpanel\",title:\"Outlet\"'></div>\r\n\t\t\t\t\t<div data-dojo-attach-point=\"search_tab_freelance\" data-dojo-type=\"prcommon2/search/FreelanceSearch\" data-dojo-props='style:\"height:100%;overflow:auto;overflow-x:hidden\",\"class\":\"scrollpanel\",title:\"Freelance\"'></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"bottom\",style:\"width:100%;height:15%;padding-top:10px\"'>\r\n\t\t\t\t\t<table width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" style=\"border-collapse: collapse;\" >\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td><button data-dojo-attach-event=\"onClick:_clear_search\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='\"class\":\"prmaxbutton\",label:\"Clear Results\"' ></button></td>\r\n\t\t\t\t\t\t\t<td><button data-dojo-attach-event=\"onClick:_clear_search_criteria\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='\"class\":\"prmaxbutton\",label:\"Clear Criteria\"' ></button></td>\r\n\t\t\t\t\t\t\t<td align=\"right\"><button data-dojo-attach-point=\"searchbutton\" data-dojo-attach-event=\"onClick:_search\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='\"class\":\"prmaxbutton\",iconClass:\"dijitPrmaxIcon dijitPrmaxIconSearch\",busyLabel:\"Searching...\",label:\"Search\"'></button></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='style:\"height:100%;width:100%\",title:\"Generate a  Monthly Sets\",\"class\":\"common_prmax_layout\"'>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<label class=\"label_1\">Month</label><select data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"month\" data-dojo-props='name:\"month\",autoComplete:true,searchAttr:\"name\",required:true,labelType:\"html\"'></select>\r\n\t\t\t\t<button data-dojo-attach-point=\"search_monthly\" data-dojo-attach-event=\"onClick:_search_monthly\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='\"class\":\"prmaxbutton\",label:\"Build Monthly\"' ></button><br/><br/>\r\n\t\t\t\t<button data-dojo-attach-event=\"onClick:_clear_search\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='\"class\":\"prmaxbutton\",label:\"Clear Results\"'></button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/BorderContainer\" data-dojo-props='gutters:false,region:\"center\",splitter:true'>\r\n\t\t<div data-dojo-type=\"dijit/Toolbar\" data-dojo-props='region:\"top\",style:\"height:40px;width:100%;padding:0px;margin:0px\"'>\r\n\t\t</div>\r\n\t\t<div data-dojo-attach-point=\"grid_view\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"center\",splitter:true'></div>\r\n\t</div>\r\n</div>\r\n","url:research/advance/templates/researchadvance.html":"<div>\r\n\t<form data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\" data-dojo-props='onsubmit:\"return false;\"'>\r\n\t\t<input data-dojo-props='type:\"hidden\",name:\"outletid\",value:\"-1\"' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"outletid\">\r\n\t\t<table style=\"width:100%;border-style:collapsed\" cellpadding=\"0\" cellspacing=\"0\">\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" width=\"120px\">Outlet Status</td><td><select data-dojo-attach-point=\"advancefeaturestatusid\" data-dojo-type=\"dijit/form/FilteringSelect\"  data-dojo-props='name:\"advancefeaturestatusid\",autoComplete:true,searchAttr:\"name\",labelAttr:\"name\",pageSize:20,required:true,labelType:\"html\"'>/select></td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Research Date</td><td><input data-dojo-attach-point=\"advance_last_contact\" data-dojo-ptops='type:\"text\",name:\"advance_last_contact\",required:true,style:\"width:10em\"' data-dojo-type=\"dijit/form/DateTextBox\" ></td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">url</td><td><input data-dojo-attach-point=\"advance_url\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"advance_url\",type:\"text\",maxlength:\"120\",pattern:dojox.validate.regexp.url,style:\"width:98%\"'/></td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Research Info</td><td>&nbsp;\t</td></tr>\r\n\t\t\t<tr><td colspan=\"2\"><div class=\"stdframe\" style=\"height:300px\"><textarea data-dojo-attach-point=\"advance_notes\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"advance_notes\",style:\"height:300px;width:99%\"'></textarea></div></td></tr>\r\n\t\t\t<tr><td align=\"right\" colspan=\"2\"><button data-dojo-attach-point=\"savenode\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-attach-event=\"onClick:_save\" data-dojo-props='type:\"button\",\"class\":\"prmaxbutton\",busyLabel:\"Please Wait Saving ...\",label:\"Save\"'></button></td></tr>\r\n\t\t</table>\r\n\t</form>\r\n</div>","url:dijit/templates/TooltipDialog.html":"<div role=\"alertdialog\" tabIndex=\"-1\">\r\n\t<div class=\"dijitTooltipContainer\" role=\"presentation\">\r\n\t\t<div data-dojo-attach-point=\"contentsNode\" class=\"dijitTooltipContents dijitTooltipFocusNode\">\r\n\t\t\t<div data-dojo-attach-point=\"containerNode\"></div>\r\n\t\t\t${!actionBarTemplate}\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"dijitTooltipConnector\" role=\"presentation\" data-dojo-attach-point=\"connectorNode\"></div>\r\n</div>\r\n","url:research/outlets/templates/OutletNew.html":"\t<div >\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"top\",style:\"width:100%;height:3em\"'>\r\n\t\t<div style=\"height:40px;width:100%;overflow:hidden\" class=\"searchresults\">\r\n\t\t\t<div style=\"height:100%;width:15%;float:left;\" class=\"prmaxrowdisplaylarge\">New Outlets</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\"  data-dojo-props='region:\"center\",style:\"overflow:auto;overflow-x:hidden\"' >\r\n\t\t<form  data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\" data-dojo-props='onsubmit:\"return false;\"'>\r\n\t\t\t<input data-dojo-props='type:\"hidden\",name:\"outletid\",value:\"-1\"' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"outletid\">\r\n\t\t\t<table width=\"98%\" cellspacing=\"0\" cellpadding=\"0\">\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Outlets Name</td><td><input  data-dojo-attach-point=\"outletname\" data-dojo-props='style:\"width:90%\",\"class\":\"prmaxrequired\",name:\"outletname\",type:\"text\",trim:true,required:true,invalidMessage:\"Please enter outletname\"' data-dojo-type=\"dijit/form/ValidationTextBox\" ></input></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Country</td><td><select data-dojo-props='style:\"width:15em\",\"class\":\"prmaxrequired\",name:\"countryid\",autoComplete:true,searchAttr:\"name\",required:true,invalidMessage:\"Please select Country Name\",labelType:\"html\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"countryid\"></select></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Media Channel</td><td class=\"prmaxrowdisplay\"><select data-dojo-props='style:\"width:20em\",\"class\":\"prmaxrequired\",name:\"prmax_outlettypeid\",autoComplete:true,searchAttr:\"name\",required:true,invalidMessage:\"Please select outlet type\",labelType:\"html\"' \tdata-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"prmax_outlettypeid\"></select></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" valign=\"top\" class=\"prmaxrowtag\">Primary Contact</td><td><div data-dojo-props='\"class\":\"prmaxrequired\"' data-dojo-type=\"research/employees/EmployeeSelect\" data-dojo-attach-point=\"selectcontact\"></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Job Title </td><td><input data-dojo-attach-point=\"jobtitle\" data-dojo-props='\"class\":\"prmaxrequired\",name:\"jobtitle\",type:\"text\",trim:true,required:true,invalidMessage:\"Please enter primary contact job title\",style:\"width:70%\"' data-dojo-type=\"dijit/form/ValidationTextBox\"></input></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Www</td><td><input data-dojo-attach-point=\"www\" data-dojo-props='\"class\":\"prmaxinput\",name:\"www\",type:\"text\",maxlength:120,pattern:dojox.validate.regexp.url,style:\"width:90%\"' data-dojo-type=\"dijit/form/ValidationTextBox\" /></td></tr>\r\n\r\n<!--\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Address1</td><td><input data-dojo-attach-point=\"address1\" data-dojo-props='\"class\":\"prmaxrequired\" ,name:\"address1\",type:\"text\",trim:true,required:false,invalidMessage:\"Please enter address\",style:\"width:70%\"' data-dojo-type=\"dijit/form/ValidationTextBox\"></input></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Address2</td><td><input data-dojo-attach-point=\"address2\" data-dojo-props='\"class\":\"prmaxinput\",name:\"address2\",type:\"text\",trim:true' data-dojo-type=\"dijit/form/ValidationTextBox\" ></input></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Town</td><td><input data-dojo-attach-point=\"townname\" data-dojo-props='\"class\":\"prmaxinput\",name:\"townname\",type:\"text\",trim:true' data-dojo-type=\"dijit/form/ValidationTextBox\" ></input></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">County</td><td><input data-dojo-attach-point=\"county\" data-dojo-props='\"class\":\"prmaxinput\",name:\"county\",type:\"text\",trim:true' data-dojo-type=\"dijit/form/ValidationTextBox\" ></input></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Post Code</td><td><input data-dojo-attach-point=\"postcode\" data-dojo-props='\"class\":\"prmaxinput\",name:\"postcode\",type:\"text\",trim:true,style:\"width:10em\"' data-dojo-type=\"dijit/form/ValidationTextBox\" ></input></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Email</td><td><input data-dojo-attach-point=\"email\" data-dojo-props='\"class\":\"prmaxinput\",name:\"email\",type:\"text\",pattern:dojox.validate.regexp.emailAddress,trim:true,invalidMessage:\"invalid email address\",size:20,maxlength:70,style:\"width:90%\"' data-dojo-type=\"dijit/form/ValidationTextBox\" /></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Tel</td><td><input data-dojo-attach-point=\"tel\" data-dojo-props='\"class\":\"prmaxinput\",name:\"tel\",type:\"text\",maxlength:40,trim:true' data-dojo-type=\"dijit/form/ValidationTextBox\" /></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Fax</td><td><input data-dojo-attach-point=\"fax\" data-dojo-props='\"class\":\"prmaxinput\",name:\"fax\",type:\"text\",maxlength:40,trim:true' data-dojo-type=\"dijit/form/ValidationTextBox\"/></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Twitter</td><td><div data-dojo-attach-point=\"twitter\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='name:\"twitter\",pattern:dojox.validate.regexp.url,type:\"text\",maxlength:80,trim:true,style:\"width:90%\"'/></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Facebook</td><td><input data-dojo-attach-point=\"facebook\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"facebook\",type:\"text\",maxlength:80,pattern:dojox.validate.regexp.url,trim:true,style:\"width:90%\"'/></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Linkedin</td><td><input data-dojo-attach-point=\"linkedin\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"linkedin\",type:\"text\",maxlength:80,pattern:dojox.validate.regexp.url,trim:true,style:\"width:90%\"' /></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Instagram</td><td><input data-dojo-attach-point=\"instagram\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"instagram\",type:\"text\",maxlength:80,pattern:dojox.validate.regexp.url,trim:true,style:\"width:90%\"' /></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Circulation</td><td><input data-dojo-attach-point=\"circulation\" data-dojo-type=\"dijit/form/NumberTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"circulation\",type:\"text\",value:0,constraints:{min:0,max:99999999},trim:true,style:\"width:6em\"'></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Web Browsers</td><td><input data-dojo-attach-point=\"webbrowsers\" data-dojo-type=\"dijit/form/NumberTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"webbrowsers\",type:\"text\",value:0,constraints:{min:0,max:99999999},trim:true,style:\"width:6em\"'></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Frequency</td><td><select data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"frequency\" data-dojo-props='name:\"frequencyid\",\"class\":\"prmaxrequired\",autoComplete:true,searchAttr:\"name\",required:true,invalidMessage:\"Please select frequency\",labelType:\"html\"' ></select></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Keywords</td><td ><div data-dojo-attach-point=\"interests\" data-dojo-type=\"prcommon2/interests/Interests\" data-dojo-props='name:\"interests\",selectonly:true,size:6,displaytitle:\"\",startopen:true,restrict:0,keytypeid:6,title:\"Select\"'></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Geo. Coverage</td><td ><div data-dojo-attach-point=\"coverage\" data-dojo-type=\"prcommon2/geographical/Geographical\" data-dojo-props='name:\"coverage\",selectonly:true,size:6,displaytitle:\"\",startopen:true,title:\"Select\"'></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Profile</td><td><div class=\"dialogprofileframelarge\"><textarea data-dojo-attach-point=\"profile\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='\"class\":\"prmaxinput\",name:\"profile\",style:\"width: 100%;height:100%\"' ></textarea></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Description</td><td ><div class=\"reasonframe\" ><textarea data-dojo-attach-point=\"reason\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"reason\",required:true,style:\"width:99%;height:80%\"'  ></textarea></div></td></tr>\r\n-->\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Reason Code</td><td ><select data-dojo-attach-point=\"reasoncodeid\" data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-props='name:\"reasoncodeid\",searchAttr:\"name\",labelType:\"html\",style:\"width:12em\",\"class\":\"prmaxrequired\"'  /></td></tr>\r\n\t\t\t</table>\r\n\t\t</form>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"bottom\",style:\"width:100%;height:3em;padding-right:3px;\"'>\r\n\t\t<table width=\"100%\" cellspacing=\"0\" cellpadding=\"0\">\r\n\t\t\t<tr><td align=\"right\"><button data-dojo-attach-point=\"savebtn\" data-dojo-attach-event=\"onClick:_update\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='type:\"button\",label:\"Add Outlet\",busyLabel:\"Please Wait Adding Outlet ...\"'></button></td></tr>\r\n\t\t</table>\r\n\t</div>\r\n</div>\r\n","url:prcommon2/date/templates/DateExtended.html":"<div>\r\n\t<table style=\"width:100%;border-style:collapsed\" cellpadding=\"0\" cellspacing=\"0\">\r\n\t\t<tr>\r\n\t\t\t<td><input data-dojo-attach-point=\"date_box\" data-dojo-props='style:\"width:7em\",\"class\":\"prmaxbutton\",type:\"text\"' data-dojo-type=\"dijit/form/DateTextBox\" ></td>\r\n\t\t\t<td><label data-dojo-attach-point=\"label_box\" >Month Only&nbsp;<input data-dojo-attach-point=\"month_checkbox\" data-dojo-props='type:\"checkbox\",value:\"1\"' data-dojo-type=\"dijit/form/CheckBox\"></label></td>\r\n\t\t</tr>\r\n\t</table>\r\n</div>\r\n","url:prcommon2/outlet/templates/OutletSelectPanel.html":"<div>\r\n\t\t<div data-dojo-props='region:\"top\",style:\"width:100%;height:50px;padding-top:10px\"'  data-dojo-type=\"dijit/layout/ContentPane\">\r\n\t\t\t<label class=\"prmaxrowtag\" >Outlet Name</label><input data-dojo-props='style:\"width:300px\",name:\"outletname\",type:\"text\",trim:true' data-dojo-attach-point=\"outletname\" data-dojo-type=\"dijit/form/TextBox\" ></input></br>\r\n\t\t</div>\r\n\t<div data-dojo-props='region:\"center\",splitter:true' data-dojo-attach-point=\"select_search_view\" data-dojo-type=\"dijit/layout/ContentPane\"></div>\r\n\t<div data-dojo-props='region:\"bottom\",style:\"width:100%\",height:\"2em\"'  data-dojo-type=\"dijit/layout/ContentPane\">\r\n\t\t<button data-dojo-attach-event=\"onClick:_close\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Close\"'></button>\r\n\t\t<button data-dojo-attach-point=\"searchbutton\" data-dojo-attach-event=\"onClick:_search\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='style:\"float:right\",\"class\":\"prmaxbutton\",label:\"Search\"' ></button>\r\n\t</div>\r\n</div>\r\n","url:research/employees/templates/ContactMerge.html":"<div>\r\n\t<form  data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\" onsubmit=\"return false;\">\r\n\t\t<table style=\"width:100%;margin:5px\" class=\"prmaxtable\" cellspacing=\"0\" cellpadding=\"0\">\r\n\t\t\t<tr><td width=\"110px\" class=\"prmaxrowtag\">Source</td><td data-dojo-attach-point=\"destination_details\"></td></tr>\r\n\t\t\t<tr><td class=\"prmaxrowtag\">Destination</td><td>\r\n\t\t\t\t<select data-dojo-attach-point=\"contactlist\" data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-props='name:\"newcontactid\",autoComplete:false,searchAttr:\"contactname\",labelAttr:\"contactname\",pageSize:20,labelType:\"html\",\tstyle:\"width:20em\"'></select></td></tr>\r\n\t\t\t<tr><td><br/></td></tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td ><button data-dojo-props='type:\"button\", label:\"Close\"' data-dojo-attach-event=\"onClick:_do_close\" data-dojo-type=\"dijit/form/Button\"></button></td>\r\n\t\t\t\t<td align=\"right\" ><button data-dojo-attach-point=\"mergebtn\" data-dojo-props='type:\"submit\", label:\"Merge Contacts\",busyLabel:\"Please Wait ...\"' data-dojo-attach-event=\"onClick:_do_merge\" data-dojo-type=\"dojox/form/BusyButton\"></button></td></tr>\r\n\t\t</table>\r\n\t</form>\r\n</div>\r\n","url:research/questionnaires/templates/Research.html":"<div >\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='style:\"overflow:auto;overflow-x:hidden\",region:\"center\"' >\r\n\t\t<form  data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\" data-dojo-props='onsubmit:\"return false;\"'>\r\n\t\t\t<input data-dojo-props='type:\"hidden\",name:\"researchprojectitemid\",value:\"-1\"' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"researchprojectitemid\">\r\n\t\t\t<table width=\"98%\" cellspacing=\"0\" cellpadding=\"0\">\r\n\t\t\t\t<tr><td width=\"20%\" align=\"right\" class=\"prmaxrowtag\">Surname</td><td><input data-dojo-attach-point=\"surname\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxrequired\",name:\"surname\",type:\"text\",trim:true,required:true,invalidMessage:\"Please enter conatct surname\",style:\"width:70%\"'></input></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"surname_modified\"></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Firstname</td><td><input data-dojo-attach-point=\"firstname\" data-dojo-type=\"dijit/form/TextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"firstname\",type:\"text\",style:\"width:40%\"'></input></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"firstname_modified\"></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Title</td><td><input data-dojo-attach-point=\"prefix\" data-dojo-type=\"dijit/form/TextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"prefix\",type:\"text\",style:\"width:20%\"'></input></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"prefix_modified\"></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Job Title</td><td><input data-dojo-attach-point=\"job_title\" data-dojo-type=\"dijit/form/TextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"job_title\",type:\"text\",style:\"width:70%\"'></input></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"job_title_modified\"></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Email</td><td><input data-dojo-attach-point=\"email\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"email\",type:\"text\",pattern:dojox.validate.regexp.emailAddress,trim:true,invalidMessage:\"invalid email address\",size:20,maxlength:70,style:\"width:90%\"'></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"email_modified\"></div></td></tr>\r\n<!--\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Tel</td><td><input data-dojo-attach-point=\"tel\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"tel\",type:\"text\",maxlength:40,trim:true,style:\"width:60%\"' /></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"tel_modified\"></div></td></tr>\r\n-->\t\t\t\r\n\t\t\t</table>\r\n\t\t</form>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"bottom\", style:\"width:100%;height:40px;padding:5px\"' >\r\n\t\t\t<label class=\"prmaxrowtag\">Reason Code</label><select data-dojo-attach-point=\"reasoncodeid\" data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-props='name:\"reasoncodeid\",searchAttr:\"name\",labelType:\"html\",\"class\":\"prmaxrequired\"'></select>\r\n\t\t\t<button data-dojo-attach-event=\"onClick:_update_coding\" data-dojo-attach-point=\"savenode\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='style:\"float:right\",type:\"button\",busyLabel:\"Please Wait Saving...\",label:\"Save\"'></button>\r\n\t</div>\r\n</div>\r\n","url:research/lookups/templates/ReasonCodes.html":"<div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"top\",style:\"width:100%;height:48px;padding:0px;margin:0px\"'>\r\n\t\t<div data-dojo-type=\"dijit/Toolbar\" data-dojo-props='style:\"height:99%;width:100%;padding:0px;margin:0px\"'>\r\n\t\t\t<div data-dojo-type=\"dijit/form/DropDownButton\"  data-dojo-props='iconClass:\"PRMaxCommonStdIcon PRMaxFilterIcon\",label:\"Filter\",showLabel:true'>\r\n\t\t\t\t<span>Filter By</span>\r\n\t\t\t\t<div data-dojo-type=\"dijit/TooltipDialog\" title=\"Filter Reasons\" data-dojo-attach-event=\"execute: _execute\">\r\n\t\t\t\t\t<table>\r\n\t\t\t\t\t\t<tr><td><label>Text</label></td><td><input data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"reason_filter_description\" data-dojo-props='name:\"filter\",trim:\"true\",maxlength:45,type:\"text\"' ></td></tr>\r\n\t\t\t\t\t\t<tr><td><label >Category</label></td><td><select data-dojo-attach-point=\"reasoncategoryfilter\" data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-props='name:\"reasoncategoryid\",searchAttr:\"name\",labelType:\"html\",style:\"width:98%\"' /></td></tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td align=\"left\"><button data-dojo-attach-event=\"onClick: _clear_filter\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\"' >Clear Filter by</button></td>\r\n\t\t\t\t\t\t\t<td align=\"right\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"submit\",name:\"submit\"'>Filter by</button></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div data-dojo-type=\"dijit/form/DropDownButton\" data-dojo-props='iconClass:\"PRMaxCommonStdIcon PRMaxAddIcon\",showLabel:true'>\r\n\t\t\t\t<span>New Reason</span>\r\n\t\t\t\t<div data-dojo-type=\"dijit/TooltipDialog\" data-dojo-props='title:\"Enter Reason Code\"' data-dojo-attach-event=\"execute: _execute_add\">\r\n\t\t\t\t\t<table>\r\n\t\t\t\t\t\t<tr><td><label >Reason</label></td><td><input data-dojo-props='required:true,invalidMessage:\"Role Name Required\",name:\"reasoncodedescription\",trim:true,maxlength:45,type:\"text\",\"class\":\"prmaxrequired\"' data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-attach-point=\"reasoncodedescription\"  ></td></tr>\r\n\t\t\t\t\t\t<tr><td><label >Category</label></td><td><select data-dojo-attach-point=\"reasoncategoryid\" data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-props='name:\"reasoncategoryid\",searchAttr:\"name\",labelType:\"html\",style:\"width:98%\",\"class\":\"prmaxrequired\"' /></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" colspan=\"2\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"submit\",name:\"submit\"'>Add Reason</button></td></tr>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"reasons_view\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"center\"'></div>\r\n</div>\r\n","url:prcommon2/publisher/templates/PublisherAdd.html":"<div style=\"border: 1px solid black\">\r\n<form  data-dojo-props='onsubmit:\"return false\",\"class\":\"prmaxdefault\"' data-dojo-attach-point=\"form\" data-dojo-type=\"dijit/form/Form\">\r\n\t<input data-dojo-props='name:\"publisherid\",type:\"hidden\",value:-1'  data-dojo-attach-point=\"publisherid\" data-dojo-type=\"dijit/form/TextBox\"/>\r\n\t\t<table cellspacing=\"0\" cellpadding=\"0\" width=\"400px\">\r\n\t\t<tr><td colspan=\"3\">&nbsp;</td></tr>\r\n\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" >Publisher</td><td colspan=\"2\"><input data-dojo-props='\"class\":\"prmaxinput\",name:\"publishername\",type:\"text\",trim:true,required:true,style:\"width:90%\",placeHolder:\"Publisher Name\"'  data-dojo-attach-point=\"publishername\" data-dojo-type=\"dijit/form/ValidationTextBox\" ></input></td></tr>\r\n\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Www</td><td colspan=\"2\"><input data-dojo-attach-point=\"www\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"www\",type:\"text\",maxlength:\"120\",pattern:dojox.validate.regexp.url,style:\"width:90%\"' /></td></tr>\r\n\t\t<tr><td colspan=\"2\">&nbsp;</td></tr>\r\n\t\t<tr>\r\n\t\t\t<td width=\"33%\" align=\"left\" data-dojo-attach-point=\"close_button\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Close\"' data-dojo-attach-event=\"onClick:_close\"></button></td>\r\n\t\t\t<td width=\"33%\" data-dojo-attach-point=\"delete_button\" class=\"pprhidden\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Delete\"' data-dojo-attach-event=\"onClick:_delete\"></button></td>\r\n\t\t\t<td width=\"33%\" align=\"right\"><button data-dojo-attach-event=\"onClick:_add_publisher\" data-dojo-attach-point=\"savenode\" data-dojo-type=\"dojox/form/BusyButton\" type=\"button\" busyLabel=\"Please Wait Saving...\" label=\"Save\"></button></td>\r\n\t\t\t</tr>\r\n\t</table>\r\n</form>\r\n</div>\r\n","url:research/employees/templates/People.html":"<div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"top\",style:\"width:100%;height:48px;padding:0px;margin:0px\"'>\r\n\t\t<div data-dojo-type=\"dijit/Toolbar\" data-dojo-props='style:\"height:99%;width:100%;padding:0px;margin:0px\"'>\r\n\t\t\t<div data-dojo-type=\"dijit/form/DropDownButton\"  data-dojo-props='iconClass:\"PRMaxCommonStdIcon PRMaxFilterIcon\",label:\"Filter\",showLabel:true'>\r\n\t\t\t\t<span>Filter By</span>\r\n\t\t\t\t<div data-dojo-type=\"dijit/TooltipDialog\" title=\"Enter Interest  filter\" data-dojo-attach-event=\"execute: _execute\">\r\n\t\t\t\t\t<table>\r\n\t\t\t\t\t\t<tr><td><label>Surname</label></td><td><input data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"filter\" data-dojo-props='name:\"filter\",trim:true,maxlength:45,type:\"text\"'  ></td></tr>\r\n\t\t\t\t\t\t<tr><td><label>Person Id</label></td><td><input data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"filter_personid\" data-dojo-props='name:\"filter_personid\",trim:true,maxlength:45,type:\"text\"'></td></tr>\r\n\t\t\t\t\t\t<tr><td><label>Source</label></td><td><select data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"filter_sourcetype\" data-dojo-props='name:\"filter_sourcetype\",maxlength:45,autoComplete:true,searchAttr:\"name\", required:false'></td></tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td align=\"left\"><button data-dojo-attach-event=\"onClick: _clear_filter\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\"' >Clear Filter by</button></td>\r\n\t\t\t\t\t\t\t<td align=\"right\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"submit\",name:\"submit\"'>Filter by</button></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div data-dojo-type=\"dijit/form/Button\" data-dojo-props='iconClass:\"PRMaxCommonStdIcon PRMaxAddIcon\",showLabel:true,label:\"New\"' data-dojo-attach-event=\"onClick:_add\"></div>\r\n\t\t</div>\r\n\t</div>\r\n \t<div data-dojo-attach-point=\"people_grid_view\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"left\",style:\"width:50%;height:100%\",splitter:\"true\"' ></div>\r\n\t<div data-dojo-type=\"dijit/layout/StackContainer\" data-dojo-attach-point=\"controls\" data-dojo-props='region:\"center\", splitter:true'>\r\n\t\t<div  data-dojo-props='title:\"blank\"' data-dojo-attach-point=\"blank\" data-dojo-type=\"dijit/layout/ContentPane\"></div>\r\n\t\t<div  data-dojo-props='style:\"width:100%;height:100%\",title:\"details_view\"' data-dojo-attach-point=\"details_view\"  data-dojo-type=\"dijit/layout/TabContainer\" >\r\n\t\t\t<div  data-dojo-type=\"dijit/layout/BorderContainer\"  data-dojo-props='style:\"width:100%;height:100%\",title:\"Details\" ' data-dojo-attach-point=\"details_tab\">\r\n\t\t\t\t<div data-dojo-attach-point=\"top\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"top\",style:\"width:100%;height:50%\",splitter:true'>\r\n\t\t\t\t\t<form data-dojo-props='\"class\":\"prmaxdefault\",onSubmit:\"return false\"' data-dojo-attach-point=\"formUpdate\" data-dojo-type=\"dijit/form/Form\">\r\n<!--\r\n\t\t\t\t\t\t<input data-dojo-attach-point=\"contactid\" data-dojo-props='name:\"contactid\"' data-dojo-type=\"dijit/form/TextBox\" ></input>\r\n-->\r\n\t\t\t\t\t\t<table cellspacing =\"1\" cellpadding=\"1\" width=\"100%\">\r\n\t\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Contact ID</td><td colspan=\"2\"><input data-dojo-props='type:\"text\",trim:true,style:\"width: 5em\",\"class\":\"prmaxinput\",name:\"contactid\", readOnly:true' data-dojo-attach-point=\"contactid\" data-dojo-type=\"dijit/form/TextBox\" ></input></td></tr>\r\n\t\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Prefix</td><td colspan=\"2\"><input data-dojo-props='type:\"text\",trim:true,style:\"width: 2em\",\"class\":\"prmaxinput\",name:\"prefix\"' data-dojo-attach-point=\"prefix\" data-dojo-type=\"dijit/form/TextBox\" ></input></td></tr>\r\n\t\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">First</td><td colspan=\"2\"><input data-dojo-props= '\"class\":\"prmaxinput\",name:\"firstname\",style:\"width: 5em;\",type:\"text\",trim:true' data-dojo-attach-point=\"firstname\" data-dojo-type=\"dijit/form/TextBox\" ></input></td></tr>\r\n\t\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Surname</td><td><input data-dojo-attach-point=\"familyname\" data-dojo-props='\"class\":\"prmaxrequired\", name:\"familyname\", type:\"text\", trim:true, required:\"true\",style:\"width: 12em\"' data-dojo-type=\"dijit/form/ValidationTextBox\" ></input></td></tr>\r\n\t\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Middle</td><td><input data-dojo-attach-point=\"middlename\" data-dojo-props='name:\"middlename\", type:\"text\", trim:true,style:\"width: 12em\"' data-dojo-type=\"dijit/form/ValidationTextBox\" ></input></td></tr>\r\n\t\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Country</td><td><select data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"countryid\" data-dojo-props='name:\"countryid\",searchAttr:\"name\",labelType:\"html\",style:\"width:98%\",autoComplete:true'/></td></tr>\r\n\t\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Source</td><td ><select data-dojo-attach-point=\"sourcetypeid\" data-dojo-props='searchAtt:\"name\",labelType:\"html\",style:\"width:98%\",\"class\":\"prmaxrequired\",name:\"sourcetypeid\"' data-dojo-type =\"dijit/form/FilteringSelect\" /></td></tr>\r\n\t\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Reason Code</td><td ><select data-dojo-attach-point=\"reasoncodeid\" data-dojo-props='searchAtt:\"name\",labelType:\"html\",style:\"width:98%\",\"class\":\"prmaxrequired\",name:\"reasoncodeid\"' data-dojo-type =\"dijit/form/FilteringSelect\" /></td></tr>\r\n\t\t\t\t\t\t\t<tr><td align=\"left\" ><button data-dojo-attach-point=\"deletebtn\" data-dojo-attach-event=\"onClick:_delete_contact\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Delete\"'></button></td>\r\n\t\t\t\t\t\t\t\t<td align=\"right\" valign=\"bottom\" ><button data-dojo-attach-event=\"onClick:_update_contact\" data-dojo-attach-point=\"updatenode\" data-dojo-props='type:\"button\",busyLabel:\"Please Wait Saving...\",label:\"Update\"' data-dojo-type=\"dojox/form/BusyButton\" ></button></td>\r\n\t\t\t\t\t\t\t\t<td align=\"right\" valign=\"bottom\" ><button data-dojo-attach-event=\"onClick:_merge_contact\" data-dojo-attach-point=\"mergenode\" data-dojo-props='type:\"button\",label:\"Merge\"' data-dojo-type=\"dijit/form/Button\" ></button></td></tr>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div data-dojo-attach-point=\"people_details_employee_grid_view\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"center\", splitter:true' ></div>\r\n\t\t\t</div>\r\n\t\t\t<div data-dojo-attach-point=\"audit_ctrl\" data-dojo-type=\"research/audit/AuditViewer\" data-dojo-props='objecttypeid:\"5\",style:\"width:100%;height:100%\",title:\"Audit\"'></div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"person_add_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Add New Person\"'>\r\n\t\t<div data-dojo-attach-point=\"person_add_ctrl\" data-dojo-type=\"research/employees/PersonNew\" style=\"width:400px;height:200px\"></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"person_delete_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Delete Person\"'>\r\n\t\t<div data-dojo-attach-point=\"person_delete_ctrl\" data-dojo-type=\"research/employees/PersonDelete\" style=\"width:400px;height:200px\"></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"contact_merge_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title :\"Merge selected Contact to\"'>\r\n\t\t<div data-dojo-attach-point=\"contact_merge_ctrl\" data-dojo-type=\"research/employees/ContactMerge\"></div>\r\n\t</div>\r\n</div>\r\n\r\n","url:dijit/templates/Tree.html":"<div role=\"tree\">\r\n\t<div class=\"dijitInline dijitTreeIndent\" style=\"position: absolute; top: -9999px\" data-dojo-attach-point=\"indentDetector\"></div>\r\n\t<div class=\"dijitTreeExpando dijitTreeExpandoLoading\" data-dojo-attach-point=\"rootLoadingIndicator\"></div>\r\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitTreeContainer\" role=\"presentation\">\r\n\t</div>\r\n</div>\r\n","url:dijit/layout/templates/_TabButton.html":"<div role=\"presentation\" data-dojo-attach-point=\"titleNode,innerDiv,tabContent\" class=\"dijitTabInner dijitTabContent\">\r\n\t<span role=\"presentation\" class=\"dijitInline dijitIcon dijitTabButtonIcon\" data-dojo-attach-point=\"iconNode\"></span>\r\n\t<span data-dojo-attach-point='containerNode,focusNode' class='tabLabel'></span>\r\n\t<span class=\"dijitInline dijitTabCloseButton dijitTabCloseIcon\" data-dojo-attach-point='closeNode'\r\n\t\t  role=\"presentation\">\r\n\t\t<span data-dojo-attach-point='closeText' class='dijitTabCloseText'>[x]</span\r\n\t\t\t\t></span>\r\n</div>\r\n","url:research/lookups/templates/WebSources.html":"<div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"top\",style:\"width:100%;height:48px;padding:0px;margin:0px\"'>\r\n\t\t<div data-dojo-type=\"dijit/Toolbar\" data-dojo-props='style:\"height:99%;width:100%;padding:0px;margin:0px\"'>\r\n\t\t\t<div data-dojo-type=\"dijit/form/DropDownButton\"  data-dojo-props='iconClass:\"PRMaxCommonStdIcon PRMaxFilterIcon\",label:\"Filter\",showLabel:true'>\r\n\t\t\t\t<span>Filter By</span>\r\n\t\t\t\t<div data-dojo-type=\"dijit/TooltipDialog\" title=\"Enter Web Source filter\" data-dojo-attach-event=\"execute: _execute\">\r\n\t\t\t\t\t<table>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td>Text</td>\r\n\t\t\t\t\t\t\t<td><input data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"filter\" data-dojo-props='name:\"filter\",trim:\"true\",maxlength:45,type:\"text\"' ></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td align=\"left\"><button data-dojo-attach-event=\"onClick: _clear_filter\" data-dojo-type=\"dijit/form/Button\" type=\"button\" >Clear Filter by</button></td>\r\n\t\t\t\t\t\t\t<td align=\"right\"><button data-dojo-type=\"dijit/form/Button\" type=\"submit\" name=\"submit\">Filter by</button></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div data-dojo-type=\"dijit/form/Button\" data-dojo-props='iconClass:\"PRMaxCommonStdIcon PRMaxAddIcon\",showLabel:true' data-dojo-attach-event=\"onClick: _new_web_source\" > <span>New</span></div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"center\"' data-dojo-attach-point=\"grid_view\"></div>\r\n\r\n\t<div data-dojo-attach-point=\"websource_add_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Web Source Add\"'>\r\n\t\t<div data-dojo-attach-point=\"websource_add_ctrl\" data-dojo-type=\"prcommon2/web/WebSourcesAdd\"></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"websource_update_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Web Source Update\"'>\r\n\t\t<div data-dojo-attach-point=\"websource_update_ctrl\" data-dojo-type=\"prcommon2/web/WebSourcesAdd\" data-dojo-props='mode:\"update\"'></div>\r\n\t</div>\r\n</div>","url:research/questionnaires/templates/OutletUpdate.html":"<div >\r\n\t<div data-dojo-props='region:\"top\",style:\"width:100%;height:30px\",\"class\":\"prmaxrowdisplaytitle\"' data-dojo-attach-point=\"blank_cont_view\" data-dojo-type=\"dijit/layout/ContentPane\" >\r\n\t\t<p style=\"color:white;padding:0px;margin:0px;text-align:middle\" data-dojo-attach-point=\"outlet_details_view\"></p>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/TabContainer\" data-dojo-attach-point=\"outlet_container\" data-dojo-props='region:\"center\"' >\r\n\t\t<div data-dojo-props='title:\"Title/Address\"' data-dojo-attach-point=\"outlet_main\" data-dojo-type=\"research/questionnaires/OutletEditMainDetails\" data-dojo-props='style:\"width:100%;height:100%;\",\"class\":\"scrollpanel\"'></div>\r\n\t\t<div data-dojo-attach-point=\"outlet_profile_ctrl\" data-dojo-type=\"research/questionnaires/Profile\" data-dojo-props='title:\"Profile\",style:\"width:100%;height:100%\",\"class\":\"scrollpanel\"'></div>\r\n\t\t<div data-dojo-attach-point=\"outlet_coding_ctrl\" data-dojo-type=\"research/questionnaires/Coding\" data-dojo-props='title:\"Coding\",style:\"width:100%;height:100%\",\"class\":\"scrollpanel\"'></div>\r\n\t\t<div data-dojo-type=\"dijit/layout/BorderContainer\" data-dojo-attach-point=\"outlet_contact_view\" data-dojo-props='title:\"Contacts\",style:\"width:100%;height:100%\",gutters:\"false\"' >\r\n\t\t\t<div data-dojo-attach-point=\"outlet_contact_grid_view\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='style:\"width:100%;height:30%;border:1px solid black\",splitter:true,region:\"center\"'></div>\r\n\t\t\t<div data-dojo-type=\"dijit/layout/StackContainer\" data-dojo-attach-point=\"contact_edit_container\" data-dojo-props='region:\"bottom\",style:\"width:100%;height:70%\",splitter:true' >\r\n\t\t\t\t<div data-dojo-props='title:\"blank_cont_view\"' data-dojo-attach-point=\"blank_cont_view\" data-dojo-type=\"dijit/layout/ContentPane\" ></div>\r\n\t\t\t\t<div data-dojo-props='title:\"contact_edit\",\"class\":\"scrollpanel\",style:\"width:100%;height:100%\",prmaxcontext:\"outlet\"' data-dojo-attach-point=\"contact_edit\" data-dojo-type=\"research/questionnaires/EmployeeEdit\"></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div data-dojo-attach-point=\"outlet_coverage_ctrl\" data-dojo-type=\"research/questionnaires/Coverage\" data-dojo-props='title:\"Geo. Coverage\",style:\"width:100%;height:100%\",\"class\":\"scrollpanel\"'></div>\r\n\t\t<div data-dojo-attach-point=\"research_ctrl\" data-dojo-type=\"research/questionnaires/Research\" data-dojo-props='title:\"Research\",style:\"width:100%;height:100%\",\"class\":\"scrollpanel\"'></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"delete_ctrl\" data-dojo-type=\"research/questionnaires/EmployeeDelete\" data-dojo-props='region:\"bottom\",style:\"width:1px;height:1px;\"'></div>\r\n\t<div data-dojo-attach-point=\"employee_change_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Add Contact\"'>\r\n\t\t<div data-dojo-attach-point=\"employee_change_ctrl\" data-dojo-type=\"research/employees/EmployeeEdit\" data-dojo-props='style:\"width:600px;height:500px\"' ></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"employee_set_primary_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title :\"Set Primary Contact\"'>\r\n\t\t<div data-dojo-attach-point=\"employee_set_primary_ctrl\" data-dojo-type=\"research/outlets/OutletSetPrimary\"></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"employee_move_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title :\"Move Contact to another Outlet\"'>\r\n\t\t<div data-dojo-attach-point=\"employee_move_ctrl\" data-dojo-type=\"research/outlets/OutletMoveContact\"></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"employee_copy_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title :\"Copy Contact to Outlet\"'>\r\n\t\t<div data-dojo-attach-point=\"employee_copy_ctrl\" data-dojo-type=\"research/outlets/OutletCopyContact\"></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"employee_merge_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title :\"Merge selected Contact to\"'>\r\n\t\t<div data-dojo-attach-point=\"employee_merge_ctrl\" data-dojo-type=\"research/employees/EmployeeMerge\"></div>\r\n\t</div>\r\n\r\n</div>\r\n","url:research/employees/templates/EmployeeMerge.html":"<div>\r\n\t<form  data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\" onsubmit=\"return false;\">\r\n\t\t<input type=\"hidden\" name=\"employeeid\" value=\"-1\" data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"employeeid\">\r\n\t\t<table style=\"width:100%\" class=\"prmaxtable\" cellspacing=\"0\" cellpadding=\"0\">\r\n\t\t\t<tr><td width=\"110px\" class=\"prmaxrowtag\">Source</td><td data-dojo-attach-point=\"source_details\"></td></tr>\r\n\t\t\t<tr><td class=\"prmaxrowtag\">Destination</td><td><select data-dojo-attach-point=\"employeelist\" data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-props='name:\"newemployeeid\",autoComplete:false,searchAttr:\"job_title\",labelAttr:\"extended_name\",pageSize:20,labelType:\"html\",style:\"width:20em\"'></select></td></tr>\r\n\t\t\t<tr><td><br/></td></tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td ><button data-dojo-props='type:\"button\", label:\"Close\"' data-dojo-attach-event=\"onClick:_do_close\" data-dojo-type=\"dijit/form/Button\"></button></td>\r\n\t\t\t\t<td align=\"right\" ><button data-dojo-attach-point=\"mergebtn\" data-dojo-props='type:\"submit\", label:\"Merge Contacts\",busyLabel:\"Please Wait ...\"' data-dojo-attach-event=\"onClick:_do_merge\" data-dojo-type=\"dojox/form/BusyButton\"></button></td></tr>\r\n\t\t</table>\r\n\t</form>\r\n</div>\r\n","url:research/translations/templates/translatefrequency.html":"<div>\r\n\t<form data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\">\r\n\t\t<input data-dojo-props='type:\"hidden\",value:\"-1\",name:\"datasourcetranslationid\"' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"datasourcetranslationid\"/>\r\n\t\t<table width=\"550px\" cellspacing=\"0\" cellpadding=\"0\" style=\"border-collapse: collapse\" >\r\n\t\t\t<tr><td>&nbsp;</td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\" width=\"250px\">Frequency</td><td><select data-dojo-props='style:\"width:15em\",name:\"translation\",autoComplete:true,searchAttr:\"name\",required:true,placeHolder:\"No Selection\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"frequencyid\"></select></td><tr>\r\n\t\t\t<tr><td>&nbsp;</td></tr>\r\n\t\t\t<tr><td class=\"prmaxrowtag\" align=\"right\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",name:\"submit\",label:\"Update\"' data-dojo-attach-event=\"onClick:_update_translation\" ></button></td></tr>\r\n\t\t</table>\r\n\t\t<br/>\r\n\t</form>\r\n</div>\r\n\r\n","url:prcommon2/search/templates/OutletSearch.html":"<div class=\"searchform\">\r\n\t<div class=\"paddingcell\" >\r\n\t\t<form data-dojo-props='onsubmit:\"return false\",\"class\":\"prmaxtable\",name:\"std_search_outlet\",formid:\"std_search_outlet_form\"' data-dojo-attach-point=\"form_name\" data-dojo-type=\"ttl/Form2\" >\r\n\t\t<input data-dojo-props='type:\"hidden\",value:\"outlet\",name:\"search_type\"' data-dojo-type=\"dijit/form/TextBox\" />\r\n\t\t<br/>\r\n\t\t<div  data-dojo-props='usepartial:true,displayname:\"Outlet Name\",keytypeid:1,name:\"outlet_searchname\",value:\"\"' data-dojo-attach-point=\"std_search_outlet_outlet_name\" data-dojo-type=\"prcommon2/search/standard\"></div>\r\n\t\t<hr/>\r\n\t\t<div data-dojo-props='style:\"width:99%\",keytypeid:23,name:\"outlet_outlettypes\"' data-dojo-type=\"prcommon2/search/PrmaxOutletTypes\"></div>\r\n\t\t<hr/>\r\n\t\t<div data-dojo-props='style:\"width:99%\",keytypeid:6,size:8,name:\"outlet_interests\"' data-dojo-type=\"prcommon2/interests/Interests\"></div>\r\n\t\t<hr/>\r\n\t\t<div  data-dojo-type=\"prcommon2/search/SearchRoles\" data-dojo-props='keytypeid:119,name:\"outlet_roles\",style:\"width:99%\",showdefaultoption:false' data-dojo-attach-point=\"search_outlet_roles\" ></div>\r\n\t\t<hr/>\r\n\t\t<div data-dojo-props='style:\"width:99%\",keytypeid:50,name:\"outlet_coverage\"' data-dojo-attach-point=\"outlet_coverage\" data-dojo-type=\"prcommon2/geographical/Geographical\" ></div>\r\n\t\t<hr/>\r\n\t\t<div data-dojo-props='style:\"width:99%\",displayname:\"Circulation\",keytypeid:4,name:\"outlet_circulation\"' data-dojo-type=\"prcommon2/search/Circulation\"></div>\r\n\t\t<hr/>\r\n\t\t<div data-dojo-props='displayname:\"Profile\",keytypeid:102,name:\"outlet_profile\",value:\"\"' data-dojo-type=\"prcommon2/search/standard\"></div>\r\n\t\t<hr/>\r\n\t\t<div data-dojo-props='displayname:\"Frequency\",keytypeid:3,name:\"outlet_frequency\"' data-dojo-type=\"prcommon2/search/Frequency\"></div>\r\n\t\t<hr/>\r\n\t\t<div data-dojo-props='displayname:\"Publisher\",keytypeid:137,name:\"outlet_publisher\"' data-dojo-type=\"prcommon2/search/Publisher\"></div>\r\n\t\t<hr/>\r\n\t\t<div data-dojo-props='usepartial:true,displayname:\"Feature\",keytypeid:128,name:\"outlet_advance_feature\",value:\"\"' data-dojo-type=\"prcommon2/search/standard\"></div>\r\n\t\t<hr/>\r\n\t\t<div data-dojo-props='style:\"width:99%\",keytypeid:24,name:\"outlet_countryid\"' data-dojo-type=\"prcommon2/search/Countries\"></div>\r\n\t\t<input data-dojo-props='type:\"hidden\",name:\"searchtypeid\",value:1' data-dojo-attach-point=\"searchtypeid\" data-dojo-type=\"dijit/form/TextBox\"/>\r\n\t\t<input type=\"submit\" style=\"display:none\"/>\r\n\t\t</form>\r\n\t</div>\r\n</div>","url:research/projects/templates/update.html":"<div>\r\n\t<div data-dojo-attach-point=\"project_dlg\" data-dojo-type=\"dijit/Dialog\" title =\"Update Details\">\r\n\t\t<form data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\">\r\n\t\t\t<input data-dojo-props='name:\"researchprojectid\",type:\"hidden\"' data-dojo-attach-point=\"researchprojectid\" data-dojo-type=\"dijit/form/TextBox\"/>\r\n\t\t\t<table width=\"550px\" cellspacing=\"0\" cellpadding=\"0\" style=\"border-collapse: collapse\" >\r\n\t\t\t\t<tr><td>&nbsp;</td></tr>\r\n\t\t\t\t<tr><td class=\"prmaxrowtag\" align=\"right\" width=\"150px\" >Name:</td><td ><input data-dojo-props='style:\"width:300px\",\"class\":\"prmaxrequired\",name:\"researchprojectname\",type:\"text\",maxlength:\"80\",trim:true,required:true' data-dojo-attach-point=\"researchprojectname\" data-dojo-type=\"dijit/form/ValidationTextBox\"/></td></tr>\r\n\t\t\t\t<tr><td class=\"prmaxrowtag\" align=\"right\">User:</td><td><select data-dojo-attach-point=\"ownerid\" data-dojo-props='name:\"ownerid\",autoComplete:\"true\",style:\"width:15em\",labelType:\"html\"' data-dojo-type=\"dijit/form/FilteringSelect\"></td></tr>\r\n\t\t\t\t<tr data-dojo-attach-point=\"start_date_view\"><td class=\"prmaxrowtag\" align=\"right\">Start Date</td><td><input data-dojo-attach-point=\"startdate\" data-dojo-ptops='type:\"text\",name:\"startdate\",required:false,style:\"width:10em\"' data-dojo-type=\"dijit/form/DateTextBox\" ></td></tr>\r\n\t\t\t\t<tr><td class=\"prmaxrowtag\" align=\"right\">Completion Date</td><td><input data-dojo-attach-point=\"questionnaire_completion\" data-dojo-ptops='type:\"text\",name:\"questionnaire_completion\",required:true,style:\"width:10em\"' data-dojo-type=\"dijit/form/DateTextBox\" ></td></tr>\r\n\t\t\t\t<td colspan=\"2\" align=\"right\"><button data-dojo-attach-event=\"onClick:_update\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Update Projects\"' ></button></td></tr>\r\n\t\t\t</table>\r\n\t\t\t<br/>\r\n\t\t</form>\r\n\t</div>\r\n</div>\r\n","url:dijit/templates/Calendar.html":"<div class=\"dijitCalendarContainer dijitInline\" role=\"presentation\" aria-labelledby=\"${id}_mddb ${id}_year\">\r\n\t<div class=\"dijitReset dijitCalendarMonthContainer\" role=\"presentation\">\r\n\t\t<div class='dijitReset dijitCalendarArrow dijitCalendarDecrementArrow' data-dojo-attach-point=\"decrementMonth\">\r\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarDecrease\" role=\"presentation\"/>\r\n\t\t\t<span data-dojo-attach-point=\"decreaseArrowNode\" class=\"dijitA11ySideArrow\">-</span>\r\n\t\t</div>\r\n\t\t<div class='dijitReset dijitCalendarArrow dijitCalendarIncrementArrow' data-dojo-attach-point=\"incrementMonth\">\r\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarIncrease\" role=\"presentation\"/>\r\n\t\t\t<span data-dojo-attach-point=\"increaseArrowNode\" class=\"dijitA11ySideArrow\">+</span>\r\n\t\t</div>\r\n\t\t<div data-dojo-attach-point=\"monthNode\" class=\"dijitInline\"></div>\r\n\t</div>\r\n\t<table cellspacing=\"0\" cellpadding=\"0\" role=\"grid\" data-dojo-attach-point=\"gridNode\">\r\n\t\t<thead>\r\n\t\t\t<tr role=\"row\">\r\n\t\t\t\t${!dayCellsHtml}\r\n\t\t\t</tr>\r\n\t\t</thead>\r\n\t\t<tbody data-dojo-attach-point=\"dateRowsNode\" data-dojo-attach-event=\"ondijitclick: _onDayClick\" class=\"dijitReset dijitCalendarBodyContainer\">\r\n\t\t\t\t${!dateRowsHtml}\r\n\t\t</tbody>\r\n\t</table>\r\n\t<div class=\"dijitReset dijitCalendarYearContainer\" role=\"presentation\">\r\n\t\t<div class=\"dijitCalendarYearLabel\">\r\n\t\t\t<span data-dojo-attach-point=\"previousYearLabelNode\" class=\"dijitInline dijitCalendarPreviousYear\" role=\"button\"></span>\r\n\t\t\t<span data-dojo-attach-point=\"currentYearLabelNode\" class=\"dijitInline dijitCalendarSelectedYear\" role=\"button\" id=\"${id}_year\"></span>\r\n\t\t\t<span data-dojo-attach-point=\"nextYearLabelNode\" class=\"dijitInline dijitCalendarNextYear\" role=\"button\"></span>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","url:research/outlets/templates/Outlets.html":"<div>\r\n\t<div  data-dojo-attach-point=\"expframe\"  data-dojo-type=\"dojox/layout/ExpandoPane\" data-dojo-props='title:\"Results\",region:\"left\",style:\"width:50%;height:100%;overflow: hidden;border:1px solid black\",splitter:true'>\r\n\t\t<div data-dojo-type=\"research/search\" data-dojo-props='style:\"width:100%;height:100%\",gutters:false'></div>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/StackContainer\" data-dojo-attach-point=\"controls\" data-dojo-props='region:\"center\",splitter:true,gutters:false'>\r\n\t\t<div data-dojo-props='title:\"blank\"' data-dojo-attach-point=\"blank\" data-dojo-type=\"dijit/layout/ContentPane\"></div>\r\n\t\t<div data-dojo-props='style:\"width:100%;height:100%;border:1px solid black\",title:\"outlet\"' data-dojo-attach-point=\"outletedit\" data-dojo-type=\"research/outlets/OutletEdit\" ></div>\r\n\t\t<div data-dojo-props='title:\"freelance\",style:\"width:100%;height:100%;border:1px solid black\"' data-dojo-attach-point=\"freelanceedit\" data-dojo-type=\"research/freelance/FreelanceEdit\" ></div>\r\n\t\t<div data-dojo-props='title:\"internaltional\",style:\"width:100%;height:100%;border:1px solid black\"' data-dojo-attach-point=\"internationaledit\" data-dojo-type=\"research/international/Edit\" ></div>\r\n\t</div>\r\n</div>\r\n","url:dijit/layout/templates/TabContainer.html":"<div class=\"dijitTabContainer\">\r\n\t<div class=\"dijitTabListWrapper\" data-dojo-attach-point=\"tablistNode\"></div>\r\n\t<div data-dojo-attach-point=\"tablistSpacer\" class=\"dijitTabSpacer ${baseClass}-spacer\"></div>\r\n\t<div class=\"dijitTabPaneWrapper ${baseClass}-container\" data-dojo-attach-point=\"containerNode\"></div>\r\n</div>\r\n","url:prcommon2/query/templates/query.html":"<div >\r\n\t<div data-dojo-type=\"dijit/layout/BorderContainer\" data-dojo-props='region:\"center\"'>\r\n\t\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"top\",style:\"width:100%;height:240px\"'>\r\n\t\t\t<textarea name = \"query_text\" style=\"width:100%\" rows=9 class=\"prmaxdefault\" data-dojo-attach-point=\"query_text\"></textarea>\r\n\t\t\t<table cellpadding=\"0\" cellpadding=\"0\" width=\"100%\">\r\n\t\t\t\t<tr><td><button data-dojo-attach-point=\"execute_button\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-attach-event=\"onClick:_Execute\" data-dojo-props='busyLabel:\"Wait Executing\"'>Execute</button></td>\r\n\t\t\t<td>\r\n\t\t\t\t<form data-dojo-attach-point=\"to_excel_form\" target=\"_newtab\" method=\"post\" action=\"/query/to_excel\" data-dojo-attach-event=\"onsubmit:_To_Excel\" >\r\n\t\t\t\t\t<input type=\"hidden\"  data-dojo-attach-point=\"query_text_to_excel\" name = \"query_text\" data-dojo-type=\"dijit/form/TextBox\" >\r\n\t\t\t\t\t<input type=\"hidden\"  data-dojo-attach-point=\"tmp_to_excel\" name = \"tmp_cache\" data-dojo-type=\"dijit/form/TextBox\" >\r\n\t\t\t\t\t<button type=\"submit\" data-dojo-type=\"dijit/form/Button\" label=\"To Excel\" ></button>\r\n\t\t\t\t</form>\r\n\t\t\t</td>\r\n\t\t\t<td align=\"right\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:_Save\">Save As</button><select data-dojo-attach-point=\"select\" data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-props='searchAttr:\"subject\",labelType:\"html\"' ></select><button data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:_Load\">Load</button></td></tr></table>\r\n\t\t\t<br/>\r\n\t\t</div>\r\n\t\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"center\"' data-dojo-attach-point=\"result_view\">\r\n\t\t</div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"savedlg\" data-dojo-type=\"dijit/Dialog\"  title=\"Save Query\">\r\n\t\t<div><br/>\r\n\t\t\t<form class=\"prmaxdefault\" data-dojo-attach-point=\"formNode\" data-dojo-type=\"dijit/form/Form\" onSubmit=\"return false\">\r\n\t\t\t\t<input type=\"hidden\"  name = \"typeid\" value=\"1\" data-dojo-type=\"dijit/form/TextBox\" >\r\n\t\t\t\t<table style=\"width:100%;border-collapse:collapse;\" cellspacing=\"1\" cellpadding=\"1\" border=\"0\">\r\n\t\t\t\t\t<tr><td class=\"prmaxrowtag\">Subject</td><td><input  data-dojo-props='style:\"float:left\",name:\"subject\",type:\"text\",trim:true,required:true' data-dojo-attach-point=\"subject_name\" data-dojo-type=\"dijit/form/ValidationTextBox\"/></td></tr>\r\n\t\t\t\t</table>\r\n\t\t\t</form>\r\n\t\t\t<br/>\r\n\t\t</div>\r\n\t\t<div >\r\n\t\t\t\t<button data-dojo-type=\"dijit/form/Button\" type=\"button\" data-dojo-attach-event=\"onClick:_CancelDialog\" style=\"float:left\">Cancel</button>\r\n\t\t\t\t<button data-dojo-type=\"dijit/form/Button\" type=\"button\" data-dojo-attach-event=\"onClick:_Query_Save\" style=\"float:right\">OK</button>\r\n\t\t</div><br/>\r\n\t</div>\r\n</div>\r\n","url:research/employees/templates/PersonEdit.html":"<div>\r\n\t<div data-dojo-props='style:\":width:820px;height:700px\",title:\"details_view\",region:\"center\"' data-dojo-attach-point=\"details_view\"  data-dojo-type=\"dijit/layout/TabContainer\" >\r\n\t\t<div  data-dojo-type=\"dijit/layout/BorderContainer\"  data-dojo-props='style:\"width:100%;height:100%\",title:\"Details\"' data-dojo-attach-point=\"details_tab\">\r\n\t\t\t<div data-dojo-attach-point=\"top\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"top\",style:\"width:width:100%;height:35%\",splitter:true'>\r\n\t\t\t\t<form data-dojo-props='\"class\":\"prmaxdefault\",onSubmit:\"return false\"' data-dojo-attach-point=\"formUpdate\" data-dojo-type=\"dijit/form/Form\">\r\n<!--\r\n\t\t\t\t\t<input data-dojo-attach-point=\"contactid\" data-dojo-props='name:\"contactid\",type:\"hidden\"' data-dojo-type=\"dijit/form/TextBox\" ></input>\r\n-->\r\n\t\t\t\t\t<table cellspacing =\"1\" cellpadding=\"1\" width=\"100%\">\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Contact ID</td><td colspan=\"2\"><input data-dojo-props='type:\"text\",trim:true,style:\"width: 5em\",\"class\":\"prmaxinput\",name:\"contactid\", readOnly:true' data-dojo-attach-point=\"contactid\" data-dojo-type=\"dijit/form/TextBox\" ></input></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Prefix</td><td colspan=\"2\"><input data-dojo-props='type:\"text\",trim:true,style:\"width: 2em\",\"class\":\"prmaxinput\",name:\"prefix\"' data-dojo-attach-point=\"prefix\" data-dojo-type=\"dijit/form/TextBox\" ></input></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">First</td><td colspan=\"2\"><input data-dojo-props= '\"class\":\"prmaxinput\",name:\"firstname\",style:\"width: 5em;\",type:\"text\",trim:true' data-dojo-attach-point=\"firstname\" data-dojo-type=\"dijit/form/TextBox\" ></input></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Surname</td><td><input data-dojo-attach-point=\"familyname\" data-dojo-props='\"class\":\"prmaxrequired\", name:\"familyname\", type:\"text\", trim:true, required:\"true\",style:\"width: 12em\"' data-dojo-type=\"dijit/form/ValidationTextBox\" ></input></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Middle</td><td><input data-dojo-attach-point=\"middlename\" data-dojo-props='name:\"middlename\", type:\"text\", trim:true,style:\"width: 12em\"' data-dojo-type=\"dijit/form/ValidationTextBox\" ></input></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Country</td><td><select data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"countryid\" data-dojo-props='name:\"countryid\",searchAttr:\"name\",labelType:\"html\",style:\"width:98%\",autoComplete:true'/></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Source</td><td ><select data-dojo-attach-point=\"sourcetypeid\" data-dojo-props='searchAtt:\"name\",labelType:\"html\",style:\"width:300px\",\"class\":\"prmaxrequired\",name:\"sourcetypeid\"' data-dojo-type =\"dijit/form/FilteringSelect\" /></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Reason Code</td><td ><select data-dojo-attach-point=\"reasoncodeid\" data-dojo-props='searchAtt:\"name\",labelType:\"html\",style:\"width:300px\",\"class\":\"prmaxrequired\",name:\"reasoncodeid\"' data-dojo-type =\"dijit/form/FilteringSelect\" /></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"left\" ><button data-dojo-attach-point=\"deletebtn\" data-dojo-attach-event=\"onClick:_delete_contact\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Delete\"'></button></td>\r\n\t\t\t\t\t\t\t<td align=\"right\" valign=\"bottom\" ><button data-dojo-attach-event=\"onClick:_update_contact\" data-dojo-attach-point=\"updatenode\" data-dojo-props='type:\"button\",busyLabel:\"Please Wait Saving...\",label:\"Update\"' data-dojo-type=\"dojox/form/BusyButton\" ></button></td>\r\n\t\t\t\t\t\t\t<td align=\"right\" valign=\"bottom\" ><button data-dojo-attach-event=\"onClick:_merge_contact\" data-dojo-attach-point=\"mergenode\" data-dojo-props='type:\"button\",label:\"Merge\"' data-dojo-type=\"dijit/form/Button\" ></button></td></tr>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t\t<div data-dojo-attach-point=\"people_details_employee_grid_view\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"center\"' ></div>\r\n\t\t</div>\r\n\t\t<div data-dojo-attach-point=\"audit_ctrl\" data-dojo-type=\"research/audit/AuditViewer\" data-dojo-props='objecttypeid:\"5\",style:\"width:100%;height:100%\",title:\"Audit\"'></div>\r\n\t</div>\r\n\t<div data-dojo-props='region:\"bottom\",style:\"width:100%\",height:\"2em\"' data-dojo-type=\"dijit/layout/ContentPane\">\r\n\t\t<button data-dojo-attach-event=\"onClick:_close_edit\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Close\"'></button>\r\n\t</div>\r\n\r\n\t<div data-dojo-attach-point=\"person_delete_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Delete Person\"'>\r\n\t\t<div data-dojo-attach-point=\"person_delete_ctrl\" data-dojo-type=\"research/employees/PersonDelete\" style=\"width:400px;height:200px\"></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"contact_merge_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title :\"Merge selected Contact to\"'>\r\n\t\t<div data-dojo-attach-point=\"contact_merge_ctrl\" data-dojo-type=\"research/employees/ContactMerge\"></div>\r\n\t</div>\r\n</div>\r\n","url:research/lookups/templates/DeletionHistory.html":"<div>\r\n\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"top\",style:\"width:100%;height:48px;padding:0px;margin:0px\"'>\r\n\t\t<div data-dojo-type=\"dijit/Toolbar\" data-dojo-props='style:\"height:99%;width:100%;padding:0px;margin:0px\"'>\r\n\t\t\t<div data-dojo-type=\"dijit/form/DropDownButton\"  data-dojo-props='iconClass:\"PRMaxCommonStdIcon PRMaxFilterIcon\",label:\"Filter\",showLabel:true'>\r\n\t\t\t\t<span>Filter By</span>\r\n\t\t\t\t<div data-dojo-type=\"dijit/TooltipDialog\" title=\"Deletion History Filter\" data-dojo-attach-event=\"execute: _execute\">\r\n\t\t\t\t\t<table>\r\n\t\t\t\t\t\t<tr><td>Date</td><td><input data-dojo-props='\"class\":\"prmaxbutton\",type:\"text\",name:\"filter_deletiondate\"' data-dojo-type=\"dijit/form/DateTextBox\" data-dojo-attach-point=\"filter_deletiondate\" ></input></td></tr>\r\n\t\t\t\t\t\t<tr><td>Description</td><td><input data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"filter_deletionhistorydescription\" data-dojo-props='name:\"filter_deletionhistorydescription\",trim:\"true\",maxlength:45,type:\"text\"' ></td></tr>\r\n\t\t\t\t\t\t<tr><td>Outletname</td><td><input data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"filter_outlet_name\" data-dojo-props='name:\"filter_outlet_name\",trim:\"true\",maxlength:45,type:\"text\"' ></td></tr>\r\n\t\t\t\t\t\t<tr><td>Firstname</td><td><input data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"filter_firstname\" data-dojo-props='name:\"filter_firstname\",trim:\"true\",maxlength:45,type:\"text\"' ></td></tr>\r\n\t\t\t\t\t\t<tr><td>Surname</td><td><input data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"filter_familyname\" data-dojo-props='name:\"filter_familyname\",trim:\"true\",maxlength:45,type:\"text\"' ></td></tr>\r\n\t\t\t\t\t\t<tr><td>Domain</td><td><input data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"filter_domain\" data-dojo-props='name:\"filter_domain\",trim:\"true\",maxlength:45,type:\"text\"' ></td></tr>\r\n\t\t\t\t\t\t<tr><td>Project</td><td><select data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"filter_researchprojectid\" data-dojo-props='name:\"filter_researchprojectid\",autoComplete:true,style:\"width:90%\",searchAttr:\"researchprojectname\",placeHolder:\"No Selection\"'></select></td></tr>\r\n\t\t\t\t\t\t<tr><td>Reason</td><td><select data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"filter_reasoncodeid\" data-dojo-props='name:\"filter_reasoncodeid\",searchAttr:\"name\",labelType:\"html\",style:\"width:90%\"'/></td></tr>\r\n\t\t\t\t\t\t<tr><td>Type</td><td><select data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"filter_deletionhistorytypeid\" data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-props='name:\"filter_deletionhistorytypeid\",searchAttr:\"name\",labelType:\"html\",style:\"width:90%\"'/></td></tr>\r\n\t\t\t\t\t\t<tr><td>User</td><td><select data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"filter_userid\" data-dojo-props='name:\"filter_userid\",autoComplete:\"true\",style:\"width:90%\",labelType:\"html\"' ></td></tr>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td align=\"left\"><button data-dojo-attach-event=\"onClick: _clear_filter\" data-dojo-type=\"dijit/form/Button\" type=\"button\" >Clear Filter</button></td>\r\n\t\t\t\t\t\t\t<td align=\"right\"><button data-dojo-type=\"dijit/form/Button\" type=\"submit\" name=\"submit\">Filter by</button></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div data-dojo-type=\"dijit/form/Button\" data-dojo-props='iconClass:\"PRMaxCommonStdIcon PRMaxAddIcon\",showLabel:true' data-dojo-attach-event=\"onClick: _new_deletionhistory\" > <span>New</span></div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"center\"' data-dojo-attach-point=\"grid_view\"></div>\r\n\t\r\n\t<div data-dojo-attach-point=\"deletionhistory_add_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Add Deletion\"'>\r\n\t\t<div data-dojo-attach-point=\"deletionhistory_add_ctrl\" data-dojo-type=\"prcommon2/deletionhistory/DeletionHistoryAdd\" data-dojo-props='mode:\"add\"'></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"deletionhistory_update_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Update Deletion\"'>\r\n\t\t<div data-dojo-attach-point=\"deletionhistory_update_ctrl\" data-dojo-type=\"prcommon2/deletionhistory/DeletionHistoryAdd\" data-dojo-props='mode:\"update\"'></div>\r\n\t</div>\r\n\r\n</div>","url:research/outlets/templates/AdvanceView.html":"<div>\r\n\t<div data-dojo-type=\"dijit/layout/TabContainer\" data-dojo-props='region:\"center\"'>\r\n\t\t<div title=\"Features\" data-dojo-type=\"dijit/layout/BorderContainer\" data-dojo-props='style:\"width:100%;height:100%;overflow: hidden; border: 0; padding: 0; margin: 0\",gutters:false' >\r\n\t\t\t<div data-dojo-attach-point=\"advance_feature_view\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='style:\"width:50%;height:100%\",region:\"left\",splitter:true'></div>\r\n\t\t\t<div data-dojo-attach-point=\"viewfeature\" data-dojo-type=\"prcommon2/advance/advance\" data-dojo-props='region:\"center\",splitter:true,\"class\":\"scrollpanelforce\"'></div>\r\n\t\t</div>\r\n<!--\t\t\r\n\t\t<div title=\"Research Infomation\" data-dojo-type=\"research/advance/researchadvance\" data-dojo-attach-point=\"researchadvance\" data-dojo-props='style:\"width:100%;height:100%\"'></div>\r\n-->\r\n\t\t<div title=\"New Features\" data-dojo-attach-point=\"newfeature\"  data-dojo-type=\"prcommon2/advance/advance\"></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"advance_delete_dlg\" data-dojo-type=\"dijit/Dialog\" title =\"Delete Feature\">\r\n\t\t<div data-dojo-attach-point=\"advance_delete_ctrl\" data-dojo-type=\"research/advance/AdvanceDelete\"></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"advance_duplicate_dlg\" data-dojo-type=\"dijit/Dialog\" title =\"Duplicate Feature\">\r\n\t\t<div data-dojo-attach-point=\"advance_duplicate_ctrl\" data-dojo-type=\"research/advance/AdvanceDuplicate\"></div>\r\n\t</div>\r\n</div>\r\n","url:prcommon2/search/templates/EmployeeSearch.html":"<div class=\"searchform\">\r\n\t<div class=\"paddingcell\" >\r\n\t\t<form data-dojo-props='\"class\":\"prmaxdefault\",name:\"std_search_employee\",cellspacing:\"0\",cellpadding:\"0\",formid:\"std_search_employee_form\",onsubmit:\"return false\"' data-dojo-type=\"ttl/Form2\" data-dojo-attach-point=\"form_name\">\r\n\t\t\t<input data-dojo-props='type:\"hidden\",value:\"employee\",name:\"search_type\"' data-dojo-type=\"dijit/form/TextBox\" />\r\n\t\t\t<div class=\"paddingrow\">&nbsp;</div>\r\n\t\t\t<div data-dojo-props='usepartial:true,search:\"std_search_employee\",keytypeid:133,name:\"employee_searchname_ext\"' data-dojo-type=\"prcommon2/search/person\"></div>\r\n\t\t\t<hr/>\r\n\t\t\t<div  data-dojo-props='search:\"std_search_employee\",keytypeid:120 ,name:\"employee_roles\",style:\"width:99%\",showdefaultoption:false' data-dojo-type=\"prcommon2/search/SearchRoles\" ></div>\r\n\t\t\t<hr/>\r\n\t\t\t<div data-dojo-props='search:\"std_search_employee\",style:\"width:99%\",keytypeid:7,name:\"employee_interests\"' data-dojo-type=\"prcommon2/interests/Interests\"></div>\r\n\t\t\t<hr/>\r\n\t\t\t<div data-dojo-props='search:\"std_search_employee\",style:\"width:99%\",keytypeid:121,name:\"employee_outlettypes\"' data-dojo-type=\"prcommon2/search/PrmaxOutletTypes\"></div>\r\n\t\t\t<hr/>\r\n\t\t\t<div data-dojo-props='search:\"std_search_employee\",style:\"width:99%\",keytypeid:27,name:\"employee_countryid\"' data-dojo-type=\"prcommon2/search/Countries\"></div>\r\n\t\t\t<hr/>\r\n\t\t\t<input type=\"submit\" style=\"display:none\"/>\r\n\t\t</form>\r\n\t</div>\r\n</div>\r\n","url:research/organisation/templates/organisationnew.html":"<div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"top\",style:\"width:100%;height:3em\"'>\r\n\t\t<h1 class=\"prmaxrowdisplaylarge\">New Organisation</h1>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\"  data-dojo-props='region:\"center\",style:\"overflow:auto;overflow-x:hidden\"' >\r\n\t\t<form  data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\" data-dojo-props='onsubmit:\"return false;\"'>\r\n\t\t\t<input data-dojo-props='type:\"hidden\",name:\"outletid\",value:\"-1\"' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"outletid\">\r\n\t\t\t<table width=\"98%\" cellspacing=\"0\" cellpadding=\"0\">\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" width=\"150px\">Outlets Name</td><td><input  data-dojo-attach-point=\"outletname\" data-dojo-props='style:\"width:90%\",\"class\":\"prmaxrequired\",name:\"outletname\",type:\"text\",trim:true,required:true,invalidMessage:\"Please enter outletname\"' data-dojo-type=\"dijit/form/ValidationTextBox\" ></input></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Media Channel</td><td class=\"prmaxrowdisplay\"><select data-dojo-props='style:\"width:20em\",\"class\":\"prmaxrequired\",name:\"prmax_outlettypeid\",autoComplete:true,searchAttr:\"name\",required:true,invalidMessage:\"Please select outlet type\",labelType:\"html\"' \tdata-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"prmax_outlettypeid\"></select></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Country</td><td><select data-dojo-props='style:\"width:15em\",\"class\":\"prmaxrequired\",name:\"countryid\",autoComplete:true,searchAttr:\"name\",required:true,invalidMessage:\"Please select Country Name\",labelType:\"html\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"countryid\"></select></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Address1</td><td><input data-dojo-attach-point=\"address1\" data-dojo-props='\"class\":\"prmaxrequired\" ,name:\"address1\",type:\"text\",trim:true,required:false,invalidMessage:\"Please enter address\",style:\"width:70%\"' data-dojo-type=\"dijit/form/ValidationTextBox\"></input></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Address2</td><td><input data-dojo-attach-point=\"address2\" data-dojo-props='\"class\":\"prmaxinput\",name:\"address2\",type:\"text\",trim:true' data-dojo-type=\"dijit/form/ValidationTextBox\" ></input></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Town</td><td><input data-dojo-attach-point=\"townname\" data-dojo-props='\"class\":\"prmaxinput\",name:\"townname\",type:\"text\",trim:true' data-dojo-type=\"dijit/form/ValidationTextBox\" ></input></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">County</td><td><input data-dojo-attach-point=\"county\" data-dojo-props='\"class\":\"prmaxinput\",name:\"county\",type:\"text\",trim:true' data-dojo-type=\"dijit/form/ValidationTextBox\" ></input></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Post Code</td><td><input data-dojo-attach-point=\"postcode\" data-dojo-props='\"class\":\"prmaxinput\",name:\"postcode\",type:\"text\",trim:true,style:\"width:10em\"' data-dojo-type=\"dijit/form/ValidationTextBox\" ></input></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Www</td><td><input data-dojo-attach-point=\"www\" data-dojo-props='\"class\":\"prmaxinput\",name:\"www\",type:\"text\",maxlength:120,pattern:dojox.validate.regexp.url,style:\"width:90%\"' data-dojo-type=\"dijit/form/ValidationTextBox\" /></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Tel</td><td><input data-dojo-attach-point=\"tel\" data-dojo-props='\"class\":\"prmaxinput\",name:\"tel\",type:\"text\",maxlength:40,trim:true' data-dojo-type=\"dijit/form/ValidationTextBox\" /></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Twitter</td><td><div data-dojo-attach-point=\"twitter\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='name:\"twitter\",pattern:dojox.validate.regexp.url,type:\"text\",maxlength:80,trim:true,style:\"width:90%\"'/></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Facebook</td><td><input data-dojo-attach-point=\"facebook\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"facebook\",type:\"text\",maxlength:80,pattern:dojox.validate.regexp.url,trim:true,style:\"width:90%\"'/></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Linkedin</td><td><input data-dojo-attach-point=\"linkedin\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"linkedin\",type:\"text\",maxlength:80,pattern:dojox.validate.regexp.url,trim:true,style:\"width:90%\"' /></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Instagram</td><td><input data-dojo-attach-point=\"instagram\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"instagram\",type:\"text\",maxlength:80,pattern:dojox.validate.regexp.url,trim:true,style:\"width:90%\"' /></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Profile</td><td><div class=\"dialogprofileframelarge\"><textarea data-dojo-attach-point=\"profile\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='\"class\":\"prmaxinput\",name:\"profile\",style:\"width: 100%;height:100%\"' ></textarea></div></td></tr>\r\n\t\t\t</table>\r\n\t\t</form>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"bottom\",style:\"width:100%;height:3em;padding-right:3px;\"'>\r\n\t\t<table width=\"100%\" cellspacing=\"0\" cellpadding=\"0\">\r\n\t\t\t<tr><td align=\"right\"><button data-dojo-attach-point=\"savebtn\" data-dojo-attach-event=\"onClick:_update\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='type:\"button\",label:\"Add Outlet\",busyLabel:\"Please Wait Adding Outlet ...\",iconClass:\"fa fa-search-plus fa-2x\"'></button></td></tr>\r\n\t\t</table>\r\n\t</div>\r\n</div>\r\n","url:research/projects/templates/outletwizard.html":"<div></div>","url:research/freelance/templates/FreelanceEdit.html":"<div >\r\n\t<div data-dojo-type=\"dijit/layout/TabContainer\" data-dojo-attach-point=\"outlet_container\" data-dojo-props='region:\"center\"' >\r\n\t\t<div title=\"Freelance Details\"  data-dojo-type=\"dijit/layout/BorderContainer\" data-dojo-props='style:\"width:100%;height:100%\"' data-dojo-attach-point=\"freelance_details_view\">\r\n\t\t\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='style:\"width:100%padding-left:5px\",\"class\":\"scrollpanel\",region:\"center\"'>\r\n\t\t\t\t<form  data-dojo-data='\"class\":\"prmaxdefault\"' data-dojo-attach-point=\"requirednode\" data-dojo-type=\"dijit/form/Form\">\r\n\t\t\t\t\t<table style=\"width:98%\" class=\"prmaxtable\" cellspacing=\"0\" cellpadding=\"0\" >\r\n\r\n\t\t\t\t\t\t<tr><td align=\"right\" valign=\"top\" class=\"prmaxrowtag\">Person</td><td><div data-dojo-type=\"research/employees/EmployeeSelect\" data-dojo-attach-point=\"selectcontact\"data-dojo-props='mustexists:true,nonew:true,required:true, InvalidMessage:\"Person Must be selected\",style:\"width:200px\"'></div></td></tr>\r\n\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Sort Name</td><td><input data-dojo-props='style:\"width:90%\",\"class\":\"prmaxrequired\",name:\"sortname\",type:\"text\",trim:true,required:true,invalidMessage:\"Please enter sortname\",uppercase:true' data-dojo-attach-point=\"sortname\" data-dojo-type=\"dijit/form/ValidationTextBox\" ></input></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Job Title</td><td><input data-dojo-attach-point=\"job_title\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxrequired\",name:\"job_title\",type:\"text\",maxlength:80,trim:true,required:false,style:\"width:98%\"'/></td></tr>\r\n\t\t\t\t\t\t<tr><td class=\"prmaxrowtag\" align=\"right\" width=\"100px\" >Country</td><td><select data-dojo-props='style:\"width:90%\",\"class\":\"prmaxrequired\",name:\"countryid\",autoComplete:true,searchAttr:\"name\",required:true,invalidMessage:\"Please select Country Name\",labelType:\"html\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"countryid\"></select></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Address 1</td><td><input data-dojo-attach-point=\"address1\" data-dojo-type=\"dijit/form/TextBox\" data-dojo-props='name:\"address1\",type:\"text\",size:40,required:false,style:\"width:90%\",trim:true'/></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Address 2</td><td><input data-dojo-attach-point=\"address2\" data-dojo-type=\"dijit/form/TextBox\" data-dojo-props='name:\"address2\",type:\"text\",size:40,maxlength:80,style:\"width:90%\",trim:true'/></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Town</td><td><input data-dojo-attach-point=\"townname\" data-dojo-props='name:\"townname\",type:\"text\",size:30' data-dojo-type=\"dijit/form/TextBox\"/></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">County</td><td><input data-dojo-attach-point=\"county\" data-dojo-props='name:\"county\",type:\"text\"' data-dojo-type=\"dijit/form/TextBox\"/></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Postcode</td><td><input data-dojo-attach-point=\"postcode\" data-dojo-type=\"dijit/form/TextBox\" data-dojo-props='name:\"postcode\",type:\"text\",size:20,maxlength:10,style:\"width:10em\"'/></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Blog</td>\r\n\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t<span><input data-dojo-attach-point=\"blog\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='name:\"blog\",type:\"text\",maxlength:120,style:\"width:90%\",pattern:dojox.validate.regexp.url,trim:true'/></span>\r\n\t\t\t\t\t\t\t\t<span><div data-dojo-attach-point=\"blog_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t</tr>\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Www</td>\r\n\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t<span><input data-dojo-attach-point=\"www\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='name:\"www\",type:\"text\",maxlength:120,style:\"width:90%\",pattern:dojox.validate.regexp.url,trim:true'/></span>\r\n\t\t\t\t\t\t\t\t<span><div data-dojo-attach-point=\"www_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Email</td><td><input data-dojo-attach-point=\"email\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='name:\"email\",type:\"text\",size:40,maxlength:80,trim:true,pattern:dojox.validate.regexp.emailAddress, invalidMessage:\"invalid email address\",style:\"width:90%\"'/></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Tel</td><td><input data-dojo-attach-point=\"tel\" data-dojo-type=\"dijit/form/TextBox\" data-dojo-props='name:\"tel\",type:\"text\",size:25,maxlength:40' /></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Fax</td><td><input data-dojo-attach-point=\"fax\" data-dojo-type=\"dijit/form/TextBox\" data-dojo-props='name:\"fax\",type:\"text\",size:25,maxlength:40' /></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Mobile</td><td><input data-dojo-attach-point=\"mobile\" data-dojo-type=\"dijit/form/TextBox\" data-dojo-props='name:\"mobile\",type:\"text\",size:25,maxlength:40' /></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Twitter</td>\r\n\t\t\t\t\t\t\t<td><span><input data-dojo-attach-point=\"twitter\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"twitter\",type:\"text\",maxlength:80,pattern:dojox.validate.regexp.url,trim:true,style:\"width:90%\"'/></span>\r\n\t\t\t\t\t\t\t\t<span><div data-dojo-attach-point=\"twitter_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Facebook</td>\r\n\t\t\t\t\t\t\t<td><span><input data-dojo-attach-point=\"facebook\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"facebook\",type:\"text\",maxlength:80,pattern:dojox.validate.regexp.url,trim:true,style:\"width:90%\"'/></span>\r\n\t\t\t\t\t\t\t\t<span><div data-dojo-attach-point=\"facebook_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Linkedin</td>\r\n\t\t\t\t\t\t\t<td><span><input data-dojo-attach-point=\"linkedin\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"linkedin\",type:\"text\",maxlength:80,pattern:dojox.validate.regexp.url,trim:true,style:\"width:90%\"' /></span>\r\n\t\t\t\t\t\t\t\t<span><div data-dojo-attach-point=\"linkedin_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Instagram</td>\r\n\t\t\t\t\t\t\t<td><span><input data-dojo-attach-point=\"instagram\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"instagram\",type:\"text\",maxlength:80,pattern:dojox.validate.regexp.url,trim:true,style:\"width:90%\"' /></span>\r\n\t\t\t\t\t\t\t\t<span><div data-dojo-attach-point=\"instagram_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Media Channel</td><td class=\"prmaxrowdisplay\"><select data-dojo-props='style:\"width:90%\",\"class\":\"prmaxrequired\",name:\"prmax_outlettypeid\",readOnly:\"readOnly\", autoComplete:true,searchAttr:\"name\",required:true,invalidMessage:\"Please select outlet type\",labelType:\"html\"' data-dojo-type=\"dijit/form/FilteringSelect\"  data-dojo-attach-point=\"prmax_outlettypeid\"></select></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\"  valign=\"top\" class=\"prmaxrowtag\">Keywords</td><td><div  data-dojo-attach-point=\"interests\" data-dojo-type=\"prcommon2/interests/Interests\" data-dojo-props='name:\"interests\",title:\"\",startopen:true,restrict:0,selectonly:true,keytypeid:6,displaytitle:\"\"'></div></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\"  valign=\"top\" class=\"prmaxrowtag\">Profile</td>\r\n\t\t\t\t\t\t<td><div class=\"dialogprofileframelarge\" ><textarea data-dojo-attach-point=\"profile\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"profile\",style:\"width:99%;height:99%\"' ></textarea></div></td></tr>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"bottom\",style:\"width:100%;height:3em;padding-right:3px;\"'>\r\n\t\t\t\t<table style=\"width:100%;border-style:collapsed\">\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td><button data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:_delete\" data-dojo-props='\"class\":\"prmaxbutton\",type:\"button\",label:\"Delete\"'></button></td>\r\n\t\t\t\t\t\t<td><label class=\"prmaxrowtag\">Reason Code</label><select data-dojo-attach-point=\"reasoncodeid\" data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-props='name:\"reasoncodeid\",searchAttr:\"name\",labelType:\"html\",\"class\":\"prmaxrequired\",style:\"width:120px\"' /></td>\r\n\t\t\t\t\t\t<td align=\"right\"><button data-dojo-attach-point=\"savenode\"  data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='\"class\":\"prmaxbutton\",type:\"button\",busyLabe:\"Please Wait Saving...\",label:\"Update\"' data-dojo-attach-event=\"onClick:_save\"></button></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div data-dojo-attach-point=\"outlet_audit_ctrl\" data-dojo-type=\"research/audit/AuditViewer\" data-dojo-props='objecttypeid:4,style:\"width:100%;height:100%\",title:\"Freelance Activity\" '></div>\r\n\t\t<div data-dojo-attach-point=\"outlet_research_ctrl\" data-dojo-type=\"research/ResearchDetails\" data-dojo-props='style:\"width:100%;height:100%\",title:\"Research\"' ></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"delete_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Delete Freelance\"'>\r\n\t\t<div data-dojo-attach-point=\"delete_ctrl\" data-dojo-type=\"research/freelance/FreelanceDelete\"></div>\r\n\t</div>\r\n</div>\r\n","url:research/advance/templates/AdvanceDelete.html":"<div style=\"width:400px;height:200px;\" >\r\n\t<form  data-dojo-attach-point=\"form\" data-dojo-type=\"dijit/form/Form\" data-dojo-props='\"class\":\"prmaxdefault\",onsubmit:\"return false;\"'>\r\n\t\t<input data-dojo-attach-point=\"advancefeatureid\" data-dojo-props='name:\"advancefeatureid\",type:\"hidden\"' data-dojo-type=\"dijit/form/TextBox\" >\r\n\t\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\"  border =\"0\">\r\n\t\t\t<tr><td  align=\"center\" data-dojo-attach-point=\"heading\" class=\"prmaxrowdisplaylarge\" colspan=\"2\" ></td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Reason</td><td ><select data-dojo-attach-point=\"reasoncodes\" data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-props='name:\"reasoncodeid\",searchAttr:\"name\",labelType:\"html\",style:\"width:98%\",\"class\":\"prmaxrequired\"'/>\r\n\t\t\t</td></tr>\r\n\t\t\t<tr><td  align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Description</td><td  ><div class=\"reasonframe\" ><textarea data-dojo-type=\"dijit/form/Textarea\" data-dojo-attach-point=\"reason\" data-dojo-props='name:\"reason\",\"class\":\"prmaxrowtag\",required:true,style:\"width:99%;height:80%;\"'></textarea></div></td></tr>\r\n\t\t</table>\r\n\t</form>\r\n\t<br/><br/>\r\n\t<button data-dojo-type=\"dijit/form/Button\" data-dojo-props='style:\"float:right;\",type:\"button\",name:\"submit\"' data-dojo-attach-event=\"onClick:_delete_submit\">Delete Feature</button>\r\n</div>\r\n","url:prcommon2/web/templates/WebButton.html":"<span>\r\n\t<button data-dojo-attach-point=\"webbutton\" data-dojo-attach-event=\"onClick:_open_url_new_tab\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",source:\"\"'><i class=\"fa fa-eye\" aria-hidden=\"true\"></i></button>\r\n<span>\r\n","url:research/audit/templates/AuditDelete.html":"<div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"top\",style:\"width:100%;height:60px;\",splitter:true'>\r\n\t\t<div style=\"height:55px;width:100%;overflow:hidden\" class=\"searchresults\">\r\n\t\t\t<div style=\"height:100%;width:15%;float:left;\" class=\"prmaxrowdisplaylarge\">View Audit Trail</div>\r\n\t\t\t<div data-dojo-type=\"dijit/form/DropDownButton\"  data-dojo-props='iconClass:\"PRMaxCommonStdIcon PRMaxFilterIcon\",label:\"Filter\",showLabel:true'>\r\n\t\t\t\t<div data-dojo-type=\"dijit/TooltipDialog\" data-dojo-attach-event=\"execute: _execute\">\r\n\t\t\t\t\t<table>\r\n\t\t\t\t\t\t<tr><td><label>Date</label></td><td><input data-dojo-props='\"class\":\"prmaxbutton\",type:\"text\",name:\"filterdate\"' data-dojo-attach-point=\"filterdate\" data-dojo-type=\"dijit/form/DateTextBox\"></td></tr>\r\n\t\t\t\t\t\t<tr><td><label>Outlet</label></td>\r\n\t\t\t\t\t\t\t<td><input data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"filteroutlet\" data-dojo-props='name:\"filteroutlet\",trim:\"true\",maxlength:45,type:\"text\"' ></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td align=\"left\"><button data-dojo-attach-event=\"onClick:_clear_filter\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\"' >Clear Filter by</button></td>\r\n\t\t\t\t\t\t\t<td align=\"right\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"submit\",name:\"submit\"'>Filter by</button></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\t\t\t\r\n\t\t</div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"result_grid_view\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"center\",splitter:true' ></div>\r\n</div>\r\n","url:research/lookups/templates/Publishers.html":"<div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"top\",style:\"width:100%;height:48px;padding:0px;margin:0px\"'>\r\n\t\t<div data-dojo-type=\"dijit/Toolbar\" data-dojo-props='style:\"height:99%;width:100%;padding:0px;margin:0px\"'>\r\n\t\t\t<div data-dojo-type=\"dijit/form/DropDownButton\"  data-dojo-props='iconClass:\"PRMaxCommonStdIcon PRMaxFilterIcon\",label:\"Filter\",showLabel:true'>\r\n\t\t\t\t<span>Filter By</span>\r\n\t\t\t\t<div data-dojo-type=\"dijit/TooltipDialog\" title=\"Enter Publisher filter\" data-dojo-attach-event=\"execute: _execute\">\r\n\t\t\t\t\t<table>\r\n\t\t\t\t\t\t<tr><td><label>Publisher Name</label></td><td><input data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"filter\" data-dojo-props='name:\"filter\",trim:\"true\",maxlength:45,type:\"text\"' ></td></tr>\r\n\t\t\t\t\t\t<tr><td><label>Source</label></td><td><select data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"filter_sourcetype\" data-dojo-props='name:\"filter_sourcetype\",maxlength:45,autoComplete:true,searchAttr:\"name\", required:false'></td></tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td align=\"left\"><button data-dojo-attach-event=\"onClick: _clear_filter\" data-dojo-type=\"dijit/form/Button\" type=\"button\" >Clear Filter by</button></td>\r\n\t\t\t\t\t\t\t<td align=\"right\"><button data-dojo-type=\"dijit/form/Button\" type=\"submit\" name=\"submit\">Filter by</button></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div data-dojo-type=\"dijit/form/Button\" data-dojo-props='iconClass:\"PRMaxCommonStdIcon PRMaxAddIcon\",showLabel:true' data-dojo-attach-event=\"onClick: _new_publisher\" > <span>New</span></div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"center\"' data-dojo-attach-point=\"grid_view\"></div>\r\n\r\n\t<div data-dojo-attach-point=\"publisher_add_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Publisher Add\"'>\r\n\t\t<div data-dojo-attach-point=\"publisher_add_ctrl\" data-dojo-type=\"prcommon2/publisher/PublisherAdd\"></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"publisher_update_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Publisher Update\"'>\r\n\t\t<div data-dojo-attach-point=\"publisher_update_ctrl\" data-dojo-type=\"prcommon2/publisher/PublisherAdd\" data-dojo-props='mode:\"update\"'></div>\r\n\t</div>\r\n</div>","url:prcommon2/search/templates/standard.html":"<table width=\"99%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\r\n<tr><td width=\"20%\" ><span class=\"prmaxrowtag\">${displayname}</span></td>\r\n<td width=\"60%\" ><input data-dojo-type=\"dijit/form/TextBox\" data-dojo-props='style:\"width:100%\",\"class\":\"prmaxinput\",type:\"text\",trim:true,maxlength:255' data-dojo-attach-point=\"datanode\" data-dojo-attach-event=\"onBlur:_on_change\"  /></td>\r\n<td align=\"right\"><div data-dojo-attach-point=\"countnode\" data-dojo-type=\"prcommon2/search/SearchCount\"></div></td></tr></table >\r\n","url:prcommon2/languages/templates/LanguageAdd.html":"<div style=\"border: 1px solid black\">\r\n<form  data-dojo-props='onsubmit:\"return false\",\"class\":\"prmaxdefault\"' data-dojo-attach-point=\"form\" data-dojo-type=\"dijit/form/Form\">\r\n\t<input data-dojo-props='name:\"languageid\",type:\"hidden\",value:-1'  data-dojo-attach-point=\"languageid\" data-dojo-type=\"dijit/form/TextBox\"/>\r\n\t\t<table cellspacing=\"0\" cellpadding=\"0\" width=\"400px\">\r\n\t\t<tr><td colspan=\"2\">&nbsp;</td></tr>\r\n\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" >Language</td><td ><input data-dojo-props='\"class\":\"prmaxinput\",name:\"languagename\",type:\"text\",trim:true,required:true,style:\"width:90%\",placeHolder:\"Circulation Dates\"'  data-dojo-attach-point=\"languagename\" data-dojo-type=\"dijit/form/ValidationTextBox\" ></input></td></tr>\r\n\t\t<tr><td colspan=\"2\">&nbsp;</td></tr>\r\n\t\t<tr><td data-dojo-attach-point=\"close_button\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Close\"' data-dojo-attach-event=\"onClick:_close\"></button></td><td colspan=\"3\" align=\"right\"><button data-dojo-attach-event=\"onClick:_add_language\" data-dojo-attach-point=\"savenode\" data-dojo-type=\"dojox/form/BusyButton\" type=\"button\" busyLabel=\"Please Wait Saving...\" label=\"Save\"></button></td></tr>\r\n\t</table>\r\n</form>\r\n</div>\r\n","url:research/lookups/templates/MarketSector.html":"<div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"top\",style:\"width:100%;height:48px;padding:0px;margin:0px\"'>\r\n\t\t<div data-dojo-type=\"dijit/Toolbar\" data-dojo-props='style:\"height:99%;width:100%;padding:0px;margin:0px\"'>\r\n\t\t\t<div data-dojo-type=\"dijit/form/DropDownButton\"  data-dojo-props='iconClass:\"PRMaxCommonStdIcon PRMaxFilterIcon\",label:\"Filter\",showLabel:true'>\r\n\t\t\t\t<span>Filter By</span>\r\n\t\t\t\t<div data-dojo-type=\"dijit/TooltipDialog\" title=\"Enter Market Sector filter\" data-dojo-attach-event=\"execute: _execute\">\r\n\t\t\t\t\t<table>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td>Text</td>\r\n\t\t\t\t\t\t\t<td><input data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"filter\" data-dojo-props='name:\"filter\",trim:\"true\",maxlength:45,type:\"text\"' ></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td align=\"left\"><button data-dojo-attach-event=\"onClick: _clear_filter\" data-dojo-type=\"dijit/form/Button\" type=\"button\" >Clear Filter by</button></td>\r\n\t\t\t\t\t\t\t<td align=\"right\"><button data-dojo-type=\"dijit/form/Button\" type=\"submit\" name=\"submit\">Filter by</button></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div data-dojo-type=\"dijit/form/Button\" data-dojo-props='iconClass:\"PRMaxCommonStdIcon PRMaxAddIcon\",showLabel:true' data-dojo-attach-event=\"onClick: _new_market_sector\" > <span>New</span></div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"center\"' data-dojo-attach-point=\"grid_view\"></div>\r\n\r\n\t<div data-dojo-attach-point=\"marketsector_add_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Market Sector Add\"'>\r\n\t\t<div data-dojo-attach-point=\"marketsector_add_ctrl\" data-dojo-type=\"prcommon2/marketsector/MarketSectorAdd\"></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"marketsector_update_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Market Sector Update\"'>\r\n\t\t<div data-dojo-attach-point=\"marketsector_update_ctrl\" data-dojo-type=\"prcommon2/marketsector/MarketSectorAdd\" data-dojo-props='mode:\"update\"'></div>\r\n\t</div>\r\n</div>","url:research/questionnaires/templates/SendSingle.html":"<div>\r\n\t<form  data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\" onsubmit=\"return false;\">\r\n\t<input data-dojo-attach-point=\"objecttypeid\" data-dojo-props='name:\"objecttypeid\",type:\"hidden\"' data-dojo-type=\"dijit/form/TextBox\">\r\n\t<input data-dojo-attach-point=\"objectid\" data-dojo-props='name:\"objectid\",type:\"hidden\"' data-dojo-type=\"dijit/form/TextBox\">\r\n\t\t<table width=\"700px\" cellpadding=\"0\" cellspacing=\"0\">\r\n\t\t\t<tr><td  align=\"center\" data-dojo-attach-point=\"heading\" class=\"prmaxrowdisplaylarge\" colspan=\"2\" ></td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">To Name</td><td>\r\n\t\t\t<input data-dojo-attach-point=\"toname\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"toname\",type:\"text\",style:\"width:15em\",required:true'></td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">To Email</td><td><input data-dojo-attach-point=\"toemail\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"toemail\",type:\"text\",pattern:dojox.validate.regexp.emailAddress,trim:true,invalidMessage:\"invalid email address\",size:20,style:\"width:90%\",required:true'></td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Subject</td><td><input data-dojo-attach-point=\"subject\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"subject\",type:\"text\",trim:true,style:\"width:90%\",required:true'></td></tr>\r\n\t\t\t<tr><td align=\"right\" valign=\"top\" class=\"prmaxrowtag\">Body</td><td><div class=\"stdframe\" style=\"height:200px;overflow:hidden\"><textarea data-dojo-attach-point=\"body\"  data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"body\",style:\"height:300px\"'></textarea></div></td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" >Reason</td><td ><select data-dojo-attach-point=\"reasoncodeid\" data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-props='name:\"reasoncodeid\",searchAttr:\"name\",labelType:\"html\",style:\"width:15em\",\"class\":\"prmaxrequired\"' /></td></tr>\r\n\t\t\t<tr><td align=\"left\"><button data-dojo-attach-event=\"onClick:_close\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Close\"'></button></td>\r\n\t\t\t\t<td align=\"right\"><button data-dojo-attach-point=\"sendemail\" data-dojo-attach-event=\"onClick:_send\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='busyLabel:\"Please Wait Sending...\",type:\"button\",label:\"Send Email\"'></button></td></tr>\r\n\t\t</table>\r\n\t</form>\r\n</div>","url:research/questionnaires/templates/FreelanceEdit.html":"<div >\r\n\t<div data-dojo-type=\"dijit/layout/TabContainer\" data-dojo-attach-point=\"outlet_container\" data-dojo-props='region:\"center\"' >\r\n\t\t<div title=\"Freelance Details\"  data-dojo-type=\"dijit/layout/BorderContainer\" data-dojo-props='style:\"width:100%;height:100%\",gutters:false' data-dojo-attach-point=\"freelance_details_view\">\r\n\t\t\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='style:\"width:100%padding-left:5px\",\"class\":\"scrollpanel\",region:\"center\"'>\r\n\t\t\t\t<form  data-dojo-data='\"class\":\"prmaxdefault\"' data-dojo-attach-point=\"requirednode\" data-dojo-type=\"dijit/form/Form\">\r\n\t\t\t\t\t<input data-dojo-attach-point=\"researchprojectitemid\" data-dojo-type=\"dijit/form/TextBox\" data-dojo-props='type:\"hidden\",name:\"researchprojectitemid\",value:\"-1\"'/>\r\n\t\t\t\t\t<table style=\"width:98%\" class=\"prmaxtable\" cellspacing=\"0\" cellpadding=\"0\" >\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td align=\"right\" class=\"prmaxrowtag\" width=\"120px\">Contact</td>\r\n\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t<table style=\"width:99%;border-collapse:collapse;\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\">\r\n\t\t\t\t\t\t\t\t\t<tr><td class=\"prmaxrowtag\" width=\"50px\" >Prefix</td><td></td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"prmaxrowtag\" width=\"120px\" >First</td><td></td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"prmaxrowtag\">Surname</td><td></td>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<td><input data-dojo-props='type:\"text\",trim:true,style:\"width: 2em\",\"class\":\"prmaxinput\",name:\"prefix\"' data-dojo-attach-point=\"prefix\" data-dojo-type=\"dijit/form/TextBox\" ></input></td><td align=\"left\" width=\"30px\"><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"prefix_modified\"></div></td>\r\n\t\t\t\t\t\t\t\t\t\t<td><input data-dojo-props= '\"class\":\"prmaxinput\",name:\"firstname\",style:\"width: 5em;\",type:\"text\",trim:true' data-dojo-attach-point=\"firstname\" data-dojo-type=\"dijit/form/TextBox\" ></input></td><td align=\"left\" width=\"30px\"><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"firstname_modified\"></div></td>\r\n\t\t\t\t\t\t\t\t\t\t<td><input data-dojo-attach-point=\"familyname\" data-dojo-props='name:\"familyname\", type:\"text\", trim:true, required:\"true\",style:\"width: 18em\"' data-dojo-type=\"dijit/form/ValidationTextBox\" ></input></td><td align=\"left\" width=\"30px\"><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"familyname_modified\"></div></td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Job Title</td><td><input data-dojo-attach-point=\"job_title\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxrequired\",name:\"job_title\",type:\"text\",maxlength:80,trim:true,required:true,style:\"width:98%\"'/></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Sort Name</td><td><input data-dojo-props='style:\"width:90%\",\"class\":\"prmaxrequired\",name:\"sortname\",type:\"text\",trim:true,required:true,invalidMessage:\"Please enter sortname\",uppercase:true' data-dojo-attach-point=\"sortname\" data-dojo-type=\"dijit/form/ValidationTextBox\" ></input></td></tr>\r\n\t\t\t\t\t\t<tr><td class=\"prmaxrowtag\" align=\"right\" width=\"100px\" >Country</td><td><select data-dojo-props='style:\"width:90%\",\"class\":\"prmaxrequired\",name:\"countryid\",autoComplete:true,searchAttr:\"name\",required:true,invalidMessage:\"Please select Country Name\",labelType:\"html\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"countryid\"></select></td><td width=\"50px\"><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"countryid_modified\"></div></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Address 1</td><td><input data-dojo-attach-point=\"address1\" data-dojo-type=\"dijit/form/TextBox\" data-dojo-props='name:\"address1\",type:\"text\",size:40,required:false,style:\"width:90%\"'/></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"address1_modified\"></div></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Address 2</td><td><input data-dojo-attach-point=\"address2\" data-dojo-type=\"dijit/form/TextBox\" data-dojo-props='name:\"address2\",type:\"text\",size:40,maxlength:80,style:\"width:90%\"'/></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"address2_modified\"></div></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Town</td><td><input data-dojo-attach-point=\"townname\" data-dojo-props='name:\"townname\",type:\"text\",size:30' data-dojo-type=\"dijit/form/TextBox\"/><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"townname_modified\"></div></td></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">County</td><td><input data-dojo-attach-point=\"county\" data-dojo-props='name:\"county\",type:\"text\"' data-dojo-type=\"dijit/form/TextBox\"/></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"county_modified\"></div></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Postcode</td><td><input data-dojo-attach-point=\"postcode\" data-dojo-type=\"dijit/form/TextBox\" data-dojo-props='name:\"postcode\",type:\"text\",size:20,maxlength:10,style:\"width:10em\"'/></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"postcode_modified\"></div></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Blog</td><td><input data-dojo-attach-point=\"blog\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='name:\"blog\",type:\"text\",maxlength:120,style:\"width:90%\",pattern:dojox.validate.regexp.url,trim:true'/></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"blog_modified\"></div></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Www</td><td><input data-dojo-attach-point=\"www\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='name:\"www\",type:\"text\",maxlength:120,style:\"width:90%\",pattern:dojox.validate.regexp.url,trim:true'/></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"www_modified\"></div></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Email</td><td><input data-dojo-attach-point=\"email\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='name:\"email\",type:\"text\",size:40,maxlength:80,trim:true,pattern:dojox.validate.regexp.emailAddress, invalidMessage:\"invalid email address\",style:\"width:90%\"'/></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"email_modified\"></div></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Tel</td><td><input data-dojo-attach-point=\"tel\" data-dojo-type=\"dijit/form/TextBox\" data-dojo-props='name:\"tel\",type:\"text\",size:25,maxlength:40' /></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"tel_modified\"></div></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Fax</td><td><input data-dojo-attach-point=\"fax\" data-dojo-type=\"dijit/form/TextBox\" data-dojo-props='name:\"fax\",type:\"text\",size:25,maxlength:40' /></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"fax_modified\"></div></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Mobile</td><td><input data-dojo-attach-point=\"mobile\" data-dojo-type=\"dijit/form/TextBox\" data-dojo-props='name:\"mobile\",type:\"text\",size:25,maxlength:40' /></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"mobile_modified\"></div></td></tr>\r\n\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Twitter</td>\r\n\t\t\t\t\t\t\t<td><span><input data-dojo-attach-point=\"twitter\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"twitter\",type:\"text\",maxlength:80,pattern:dojox.validate.regexp.url,trim:true,style:\"width:90%\"'/></span>\r\n\t\t\t\t\t\t\t\t<span><div data-dojo-attach-point=\"twitter_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t<td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"twitter_modified\"></div></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Facebook</td>\r\n\t\t\t\t\t\t\t<td><span><input data-dojo-attach-point=\"facebook\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"facebook\",type:\"text\",maxlength:80,pattern:dojox.validate.regexp.url,trim:true,style:\"width:90%\"'/></span>\r\n\t\t\t\t\t\t\t\t<span><div data-dojo-attach-point=\"facebook_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t<td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"facebook_modified\"></div></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Linkedin</td>\r\n\t\t\t\t\t\t\t<td><span><input data-dojo-attach-point=\"linkedin\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"linkedin\",type:\"text\",maxlength:80,pattern:dojox.validate.regexp.url,trim:true,style:\"width:90%\"' /></span>\r\n\t\t\t\t\t\t\t\t<span><div data-dojo-attach-point=\"linkedin_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t<td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"linkedin_modified\"></div></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Instagram</td>\r\n\t\t\t\t\t\t\t<td><span><input data-dojo-attach-point=\"instagram\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"instagram\",type:\"text\",maxlength:80,pattern:dojox.validate.regexp.url,trim:true,style:\"width:90%\"' /></span>\r\n\t\t\t\t\t\t\t\t<span><div data-dojo-attach-point=\"instagram_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t<td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"instagram_modified\"></div></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\"  valign=\"top\" class=\"prmaxrowtag\">Writes About</td><td class=\"prmaxrowemphasise\" data-dojo-attach-point=\"interests_user\"></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\"  valign=\"top\" class=\"prmaxrowtag\">Keywords</td><td><div  data-dojo-attach-point=\"interests\" data-dojo-type=\"prcommon2/interests/Interests\" data-dojo-props='name:\"interests\",title:\"\",startopen:true,restrict:0,selectonly:true,keytypeid:6,displaytitle:\"\"'></div></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\"  valign=\"top\" class=\"prmaxrowtag\">Profile</td>\r\n\t\t\t\t\t\t<td><div class=\"dialogprofileframelarge\" ><textarea data-dojo-attach-point=\"editorialprofile\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"editorialprofile\",style:\"width:99%;height:99%\"' ></textarea></div></td><td valign=\"top\"><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"editorialprofile_modified\"></div></td></tr>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"bottom\",style:\"width:100%;height:3em;padding-right:3px;\"'>\r\n\t\t\t\t<table style=\"width:100%;border-style:collapsed\">\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td><button data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:_delete\" data-dojo-props='\"class\":\"prmaxbutton\",type:\"button\",label:\"Delete\"'></button></td>\r\n\t\t\t\t\t\t<td align=\"right\"><button data-dojo-attach-point=\"savenode\"  data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='\"class\":\"prmaxbutton\",type:\"button\",busyLabe:\"Please Wait Saving...\",label:\"Update\"' data-dojo-attach-event=\"onClick:_save\"></button></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div data-dojo-attach-point=\"outlet_audit_ctrl\" data-dojo-type=\"research/audit/AuditViewer\" data-dojo-props='objecttypeid:4,style:\"width:100%;height:100%\",title:\"Freelance Activity\" '></div>\r\n\t\t<div data-dojo-attach-point=\"outlet_research_ctrl\" data-dojo-type=\"research/ResearchDetails\" data-dojo-props='style:\"width:100%;height:100%\",title:\"Research\"' ></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"delete_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Delete Freelance\"'>\r\n\t\t<div data-dojo-attach-point=\"delete_ctrl\" data-dojo-type=\"research/freelance/FreelanceDelete\"></div>\r\n\t</div>\r\n</div>\r\n","url:research/lookups/templates/Geographical.html":"<div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"top\",style:\"width:100%;height:48px;padding:0px;margin:0px\"'>\r\n\t\t<div data-dojo-type=\"dijit/Toolbar\" data-dojo-props='style:\"height:99%;width:100%;padding:0px;margin:0px\"'>\r\n\t\t\t<div data-dojo-type=\"dijit/form/DropDownButton\"  data-dojo-props='iconClass:\"PRMaxCommonStdIcon PRMaxFilterIcon\",label:\"Filter Geographical\",showLabel:true'>\r\n\t\t\t\t<span>Filter By</span>\r\n\t\t\t\t<div data-dojo-type=\"dijit/TooltipDialog\" title=\"Enter Geographical filter\" data-dojo-attach-event=\"execute: _execute\">\r\n\t\t\t\t\t<table>\r\n\t\t\t\t\t\t<tr><td>Area</td><td><input data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"filter\" data-dojo-props='name:\"filter\",trim:true,maxlength:45, type:\"text\"'></td></tr>\r\n\t\t\t\t\t\t<tr><td>Type</td><td><select data-dojo-attach-point=\"geographicallookups\" name=\"geographicallookuptypeid\" data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-props='searchAttr:\"name\",labelType:\"html\"' /></td></tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td align=\"left\"><button data-dojo-attach-event=\"onClick:_clear_filter\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\"' >Clear Filter by</button></td>\r\n\t\t\t\t\t\t\t<td align=\"right\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"submit\",name:\"submit\"'>Filter by</button></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div data-dojo-type=\"dijit/form/Button\" data-dojo-props='iconClass:\"PRMaxCommonStdIcon PRMaxAddIcon\",showLabel:true,label:\"Add\"' data-dojo-attach-event=\"onClick:_add_new\"></div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"left\",style:\"width:50%;height:100%\",splitter:true' data-dojo-attach-point=\"geographical_grid_view\"></div>\r\n\t<div data-dojo-type=\"dijit/layout/StackContainer\" data-dojo-props='region:\"center\",splitter:true' data-dojo-attach-point=\"edit_view\" >\r\n\t\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-attach-point=\"blank\" data-dojo-props='title:\"Blank\"'></div>\r\n\t\t<div data-dojo-type=\"dijit/layout/TabContainer\" data-dojo-props='region:\"center\",splitter:true' data-dojo-attach-point=\"edit_view_page\" >\r\n\t\t\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='title:\"Details\"' >\r\n\t\t\t\t<div data-dojo-attach-point=\"geographical_edit\" data-dojo-type=\"prcommon2/geographical/GeographicalEdit\" data-dojo-props='style:\"width:100%;height:100%\"'></div>\r\n\t\t\t</div>\r\n\t\t\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='title:\"Geo. Coverage\",style:\"width:100%;height:100%\"' data-dojo-attach-point=\"coverage_grid_view\"></div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/Dialog\" title=\"Add Geographical Area\" data-dojo-attach-point=\"geographical_add_dlg\" style=\"width:400px\">\r\n\t\t<div data-dojo-attach-point=\"geographical_add\" data-dojo-type=\"prcommon2/geographical/GeographicalEdit\" style=\"width:100%;height:100%\" ></div>\r\n\t</div>\r\n</div>\r\n","url:research/employees/templates/EmployeeSelect.html":"<div>\r\n\t<div data-dojo-attach-point=\"select_view\"><input data-dojo-props='name:\"contacttype\",value:\"N\"' data-dojo-attach-event=\"onClick:_contact_mode_no_contact\" data-dojo-attach-point=\"nocontactnode\" data-dojo-type=\"dijit/form/RadioButton\"> </input><label data-dojo-attach-point=\"nocontactlabel\">No Person</label>\r\n\t\t<input data-dojo-props='name:\"contacttype\",value:\"S\",checked:true' data-dojo-attach-event=\"onClick:_contact_mode_contact\" data-dojo-attach-point=\"selectcontactnode\" data-dojo-type=\"dijit/form/RadioButton\"> </input><label data-dojo-attach-point=\"selectcontactlabel\">Select Person</label>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"selectcontactform\" class=\"prmaxvisible prmaxdefault\" >\r\n\t\t<table style=\"width:100%\" class=\"prmaxtable\" cellspacing=\"0\" cellpadding=\"0\">\r\n\t\t\t<tr><td class=\"prmaxrowtag\" data-dojo-attach-point=\"displayname_ctrl\">Person</td><td>\r\n\t\t\t\t<td><div data-dojo-type=\"prcommon2/contact/ContactSelectMain\" data-dojo-props='name:\"contactid\"' data-dojo-attach-point=\"contactid\"></div></td>\r\n\t\t\t</tr>\r\n\t\t</table>\r\n\t</div>\r\n</div>\r\n","url:research/translations/templates/translatemediatype.html":"<div>\r\n\t<form data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\">\r\n\t\t<input data-dojo-props='type:\"hidden\",value:\"-1\",name:\"datasourcetranslationid\"' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"datasourcetranslationid\"/>\r\n\t\t<table width=\"550px\" cellspacing=\"0\" cellpadding=\"0\" style=\"border-collapse: collapse\" >\r\n\t\t\t<tr><td>&nbsp;</td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\" width=\"250px\">Media Type</td><td><select data-dojo-props='style:\"width:15em\",name:\"translation\",autoComplete:true,searchAttr:\"name\",required:true,placeHolder:\"No Selection\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"frequencyid\"></select></td><tr>\r\n\t\t\t<tr><td>&nbsp;</td></tr>\r\n\t\t\t<tr><td class=\"prmaxrowtag\" align=\"right\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",name:\"submit\",label:\"Update\"' data-dojo-attach-event=\"onClick:_update_translation\" ></button></td></tr>\r\n\t\t</table>\r\n\t\t<br/>\r\n\t</form>\r\n</div>\r\n\r\n","url:research/translations/templates/translatecountry.html":"<div>\r\n\t<form data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\">\r\n\t\t<input data-dojo-props='type:\"hidden\",value:\"-1\",name:\"datasourcetranslationid\"' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"datasourcetranslationid\"/>\r\n\t\t<table width=\"550px\" cellspacing=\"0\" cellpadding=\"0\" style=\"border-collapse: collapse\" >\r\n\t\t\t<tr><td>&nbsp;</td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\" width=\"250px\">Country</td><td><select data-dojo-props='style:\"width:15em\",name:\"translation\",autoComplete:true,searchAttr:\"name\",required:true,placeHolder:\"No Selection\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"countryid\"></select></td><tr>\r\n\t\t\t<tr><td>&nbsp;</td></tr>\r\n\t\t\t<tr><td class=\"prmaxrowtag\" align=\"right\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",name:\"submit\",label:\"Update\"' data-dojo-attach-event=\"onClick:_update_translation\" ></button></td></tr>\r\n\t\t</table>\r\n\t\t<br/>\r\n\t</form>\r\n</div>\r\n\r\n","url:dijit/form/templates/TextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\" id=\"widget_${id}\" role=\"presentation\"\r\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\r\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\r\n\t\t\t${!nameAttrSetting} type='${type}'\r\n\t/></div\r\n></div>\r\n","url:dijit/templates/TreeNode.html":"<div class=\"dijitTreeNode\" role=\"presentation\"\r\n\t><div data-dojo-attach-point=\"rowNode\" class=\"dijitTreeRow\" role=\"presentation\"\r\n\t\t><span data-dojo-attach-point=\"expandoNode\" class=\"dijitInline dijitTreeExpando\" role=\"presentation\"></span\r\n\t\t><span data-dojo-attach-point=\"expandoNodeText\" class=\"dijitExpandoText\" role=\"presentation\"></span\r\n\t\t><span data-dojo-attach-point=\"contentNode\"\r\n\t\t\tclass=\"dijitTreeContent\" role=\"presentation\">\r\n\t\t\t<span role=\"presentation\" class=\"dijitInline dijitIcon dijitTreeIcon\" data-dojo-attach-point=\"iconNode\"></span\r\n\t\t\t><span data-dojo-attach-point=\"labelNode,focusNode\" class=\"dijitTreeLabel\" role=\"treeitem\"\r\n\t\t\t\t   tabindex=\"-1\" aria-selected=\"false\" id=\"${id}_label\"></span>\r\n\t\t</span\r\n\t></div>\r\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitTreeNodeContainer\" role=\"presentation\"\r\n\t\t style=\"display: none;\" aria-labelledby=\"${id}_label\"></div>\r\n</div>\r\n","url:prcommon2/search/templates/Frequency.html":"<div class=\"frequencies\">\r\n\t<table width=\"99%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\" >\r\n\t\t<tr><td width=\"20%\"   class=\"prmaxrowtag\">Frequency</td>\r\n\t\t\t\t<td width=\"75%\" ><select data-dojo-attach-point=\"select\" data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-props='searchAttr:\"name\",labelType:\"html\"' data-dojo-attach-event=\"onChange:_changed\" ></td>\r\n\t\t\t\t<td width=\"5%\"align=\"right\" valign=\"top\" ><div data-dojo-attach-point=\"countnode\" data-dojo-type=\"prcommon2/search/SearchCount\"></div></td>\r\n\t\t</tr>\r\n\t</table>\r\n</div>\r\n\r\n","url:research/freelance/templates/FreelanceDelete.html":"<div style=\"width:400px;height:200px;\" >\r\n\t<form  data-dojo-attach-point=\"form\"data-dojo-type=\"dijit/form/Form\" data-dojo-props='\"class\":\"prmaxdefault\",onsubmit:\"return false;\"'>\r\n\t\t<input data-dojo-attach-point=\"outletid\" name=\"outletid\" type=\"hidden\"data-dojo-type=\"dijit/form/TextBox\" >\r\n\t\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\"  border =\"0\">\r\n\t\t\t<tr><td  align=\"center\" data-dojo-attach-point=\"heading\" class=\"prmaxrowdisplaylarge\" colspan=\"2\" ></td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Reason</td><td >\r\n\t\t\t<select data-dojo-attach-point=\"reasoncodes\" data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-props='name:\"reasoncodeid\",searchAttr:\"name\",labelType:\"html\",style:\"width:98%\",\"class\":\"prmaxrequired\"'/>\r\n\t\t\t</td></tr>\r\n\t\t\t<tr><td  align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Description</td><td  ><div class=\"reasonframe\" ><textarea data-dojo-attach-point=\"reason\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"reason\",\"class\":\"prmaxrowtag\",required:true,style:\"width:99%;height:80%;\"'></textarea></div></td></tr>\r\n\t\t</table>\r\n\t</form>\r\n\t<br/><br/>\r\n\t<button data-dojo-type=\"dijit/form/Button\" data-dojo-props='style:\"float:right;\",type:\"button\"' data-dojo-attach-event=\"onClick:_delete_submit\">Delete Freelancer</button>\r\n</div>\r\n","url:research/international/templates/Edit.html":"<div>\r\n\t<div data-dojo-props='region:\"top\",style:\"width:100%;height:30px\",\"class\":\"prmaxrowdisplaytitle\"' data-dojo-attach-point=\"blank_cont_view\" data-dojo-type=\"dijit/layout/ContentPane\" >\r\n\t\t<p style=\"color:white;padding:0px;margin:0px;text-align:middle\" data-dojo-attach-point=\"outlet_details_view\"></p>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/TabContainer\" data-dojo-props='region:\"center\"' data-dojo-attach-point=\"tabs\">\r\n\t\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-attach-point='details_tab' data-dojo-props='style:\"overflow:auto;overflow-x:hidden\",region:\"center\",title:\"Details\"' >\r\n\t\t\t<form  data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\" data-dojo-props='onsubmit:\"return false;\"'>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<input data-dojo-props='type:\"hidden\",name:\"outletid\",value:\"-1\"' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"outletid\">\r\n\t\t\t\t<table width=\"90%\" cellspacing=\"0\" cellpadding=\"0\" data-dojo-attach-point=\"tb\">\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\"  data-dojo-props='style:\"width:20px\"'>Media Channel</td><td class=\"prmaxrowdisplay\"><select data-dojo-props='style:\"width:90%\",\"class\":\"prmaxrequired\",name:\"prmax_outlettypeid\",autoComplete:true,searchAttr:\"name\",required:true,invalidMessage:\"Please select outlet type\",labelType:\"html\"' data-dojo-type=\"dijit/form/FilteringSelect\"  data-dojo-attach-point=\"prmax_outlettypeid\"></select></td></tr>\r\n\t\t\t\t</table>\r\n\t\t\t\t<br/><br/>\r\n\t\t\t\t<table width=\"98%\" cellspacing=\"0\" cellpadding=\"0\" data-dojo-attach-point=\"tb2\">\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Keywords</td><td><div data-dojo-type=\"prcommon2/interests/Interests\" data-dojo-attach-point=\"interests\" data-dojo-props='name:\"interests\",selectonly:true,size:6,displaytitle:\"\",startopen:true,restrict:0,keytypeid:6,title:\"Select\"'></div></td></tr>\r\n\t\t\t\t\t<tr><td><br/></td></tr>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Www</td>\r\n\t\t\t\t\t\t<td><span><input data-dojo-attach-point=\"www\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",disabled:true, name:\"www\",type:\"text\",maxlength:\"120\",pattern:dojox.validate.regexp.url,style:\"width:90%\"' /></span>\r\n\t\t\t\t\t\t\t<span><div data-dojo-attach-point=\"www_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">House/Street</td><td><input data-dojo-attach-point=\"address1\" data-dojo-props='name:\"address1\",type:\"text\",trim:true,required:false,style:\"width:70%\"' data-dojo-type=\"dijit/form/ValidationTextBox\"></input></td></tr>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Street/District</td><td><input data-dojo-attach-point=\"address2\"data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"address2\",type:\"text\",trim:true,style:\"width:70%\"'></input></td></tr>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Town</td><td><input data-dojo-attach-point=\"townname\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"townname\",type:\"text\",trim:true,style:\"width:70%\"' ></input></td></tr>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">County</td><td><input data-dojo-attach-point=\"county\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"county\",type:\"text\",trim:true,style:\"width:70%\"' ></input></td></tr>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Post Code</td><td><input data-dojo-attach-point=\"postcode\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"postcode\",type:\"text\",trim:true,style:\"width:10em\"' ></input></td></tr>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Tel</td><td><input data-dojo-attach-point=\"tel\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"tel\",type:\"text\",maxlength:40,trim:true,style:\"width:60%\"' /></td></tr>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Fax</td><td><input data-dojo-attach-point=\"fax\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"fax\",type:\"text\",maxlength:40, trim:true,style:\"width:60%\"'/></td></tr>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Email</td><td><input data-dojo-attach-point=\"email\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"email\",type:\"text\",pattern:dojox.validate.regexp.emailAddress, trim:true,invalidMessage:\"invalid email address\",size:20,maxlength:70,style:\"width:90%\"'></td></tr>\r\n\t\t\t\t</table>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t\t<div data-dojo-attach-point=\"outlet_audit\" data-dojo-type=\"research/audit/AuditViewer\" data-dojo-props='title:\"Audit\",objectisbase:true,objecttypeid:1,style:\"width:100%;height:100%\"'></div>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"bottom\",style:\"width:100%;height:3em;padding-right:3px;\"'>\r\n\t\t<table width=\"99%\" cellspacing=\"0\" cellpadding=\"0\">\r\n\t\t\t<tr>\r\n\t\t\t\t<td align=\"left\"><button data-dojo-attach-event=\"onClick:_delete\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Delete Outlet\"'></button></td>\r\n\t\t\t\t<td align=\"right\"><label class=\"prmaxrowtag\">Reason</label><select data-dojo-attach-point=\"reasoncodeid\" data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-props='name:\"reasoncodeid\",searchAttr:\"name\",labelType:\"html\",\"class\":\"prmaxrequired\",style:\"width:120px\"'></select></td>\r\n\t\t\t\t<td align=\"right\"><button data-dojo-attach-point=\"updatebtn\" data-dojo-attach-event=\"onClick:_update\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='type:\"button\",busyLabel:\"Please Wait Saving Outlet...\",label:\"Save\"'></button></td>\r\n\t\t\t</tr>\r\n\t\t</table>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"outlet_delete_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Delete Outlet\"'>\r\n\t\t<div data-dojo-attach-point=\"outlet_delete_ctrl\" data-dojo-type=\"research/outlets/OutletDelete\"></div>\r\n\t</div>\r\n</div>\r\n","url:dijit/form/templates/Select.html":"<table class=\"dijit dijitReset dijitInline dijitLeft\"\r\n\tdata-dojo-attach-point=\"_buttonNode,tableNode,focusNode,_popupStateNode\" cellspacing='0' cellpadding='0'\r\n\trole=\"listbox\" aria-haspopup=\"true\"\r\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\r\n\t\t><td class=\"dijitReset dijitStretch dijitButtonContents\" role=\"presentation\"\r\n\t\t\t><div class=\"dijitReset dijitInputField dijitButtonText\"  data-dojo-attach-point=\"containerNode,textDirNode\" role=\"presentation\"></div\r\n\t\t\t><div class=\"dijitReset dijitValidationContainer\"\r\n\t\t\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\r\n\t\t\t/></div\r\n\t\t\t><input type=\"hidden\" ${!nameAttrSetting} data-dojo-attach-point=\"valueNode\" value=\"${value}\" aria-hidden=\"true\"\r\n\t\t/></td\r\n\t\t><td class=\"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\"\r\n\t\t\tdata-dojo-attach-point=\"titleNode\" role=\"presentation\"\r\n\t\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\r\n\t\t\t\t${_buttonInputDisabled}\r\n\t\t/></td\r\n\t></tr></tbody\r\n></table>\r\n","url:prcommon2/search/templates/Countries.html":"<div data-dojo-attach-point=\"containerNode\" >\r\n\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\" >\r\n\t\t<tr><td width=\"20%\" class=\"prmaxrowtag\">${displaytitle}</td>\r\n\t\t\t\t<td width=\"5%\" ><img height=\"16px\" width=\"16px\" data-dojo-attach-point=\"togglectrl\" data-dojo-attach-event=\"onclick:_toggle\" src=\"/prmax_common_s/images/toopen.gif\" class=\"toggleselect\"></img></td>\r\n\t\t\t\t<td align=\"right\" valign=\"top\" ><div data-dojo-attach-point=\"countnode\" data-dojo-type=\"prcommon2/search/SearchCount\"></div></td>\r\n\t\t</tr>\r\n\t</table>\r\n\t<div class=\"dojoInterestPane\" >\r\n\t\t<div data-dojo-attach-point=\"selectarea\" style=\"display:none\" >\r\n\t\t\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\" >\r\n\t\t\t\t  <tr><td width=\"47%\"></td><td width=\"5%\"></td><td width=\"48%\" ></td></tr>\r\n\t\t\t\t  <tr><td colspan=\"3\">\r\n\t\t\t\t\t  <table style=\"width:100%\" class=\"prmaxtable\" >\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td width=\"40%\" data-dojo-attach-point=\"master_type_text\"><span class=\"prmaxrowtag\">Select</span><input data-dojo-type=\"dijit/form/TextBox\" data-dojo-props='\"class\":\"prmaxfocus prmaxinput\",type:\"text\",style:\"width:60%\"' data-dojo-attach-point=\"interest_list_select\" data-dojo-attach-event=\"onkeyup:interest_select_event\" /></td>\r\n\t\t\t\t\t\t\t<td width=\"3%\" align=\"right\"><input data-dojo-props='\"class\":\"prmaxdefault\",checked:\"checked\",type:\"checkbox\",value:\"2\"' data-dojo-attach-point=\"andor\" data-dojo-type=\"dijit/form/CheckBox\" data-dojo-attach-event=\"onClick:and_or\"/></td>\r\n\t\t\t\t\t\t\t<td width=\"15%\"><label data-dojo-attach-point=\"andorlabel\" class=\"prmaxlabeltag\" >All</label></td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t  </td></tr>\r\n\t\t\t\t\t  <tr><td ><select style=\"width:100%\" data-dojo-attach-point=\"interest_list\" size=\"${size}\" class=\"lists\" multiple=\"multiple\" ></select></td>\r\n\t\t\t\t  <td>\r\n\t\t\t\t  <button data-dojo-props='style:\"padding:0px;margin:0px\",disabled:\"true\",type:\"button\",\"class\":\"button_add_all\"' data-dojo-attach-point=\"button_all\" data-dojo-attach-event=\"onClick:interest_select_all\" data-dojo-type=\"dijit/form/Button\"><div class=\"std_movement_button\">&gt;&gt;</div></button><br/>\r\n\t\t\t\t  <button data-dojo-props='style:\"padding:0px;margin:0px\",disabled:\"true\",type:\"button\",\"class\":\"button_add_single\"' data-dojo-attach-point=\"button_single\" data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:interest_select_single\"><div class=\"std_movement_button\">&gt;&nbsp;</div></button><br/>\r\n\t\t\t\t  <button data-dojo-props='style:\"padding:0px;margin:0px\",disabled:\"true\",type:\"button\",\"class\":\"button_del_all\"' data-dojo-attach-point=\"button_del_all\" data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:interest_remove_all\"><div class=\"std_movement_button\">&lt;&lt;</div></button><br/>\r\n\t\t\t\t  <button data-dojo-props='style:\"padding:0px;margin:0px\",disabled:\"true\",type:\"button\",\"class\":\"button_del_single\"' data-dojo-attach-point=\"button_del_single\" data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:interest_remove_single\"><div class=\"std_movement_button\">&lt;&nbsp;</div></button></td>\r\n\t\t\t\t  <td ><select style=\"width:100%\" size=\"${size}\" class=\"lists\" multiple=\"multiple\" data-dojo-attach-point=\"interest_select\" data-dojo-attach-event=\"onchange:interest_update_selection\"></select></td>\r\n\t\t\t</tr>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t</div>\r\n</div>","url:prcommon2/marketsector/templates/MarketSectorAdd.html":"<div style=\"border: 1px solid black\">\r\n<form  data-dojo-props='onsubmit:\"return false\",\"class\":\"prmaxdefault\"' data-dojo-attach-point=\"form\" data-dojo-type=\"dijit/form/Form\">\r\n\t<input data-dojo-props='name:\"marketsectorid\",type:\"hidden\",value:-1'  data-dojo-attach-point=\"marketsectorid\" data-dojo-type=\"dijit/form/TextBox\"/>\r\n\t\t<table cellspacing=\"0\" cellpadding=\"0\" width=\"400px\">\r\n\t\t<tr><td >&nbsp;</td></tr>\r\n\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" >Market Sector</td><td colspan=\"2\" ><input data-dojo-props='\"class\":\"prmaxinput\",name:\"marketsectordescription\",type:\"text\",trim:true,required:true,style:\"width:90%\",placeHolder:\"Market Sector\"'  data-dojo-attach-point=\"marketsectordescription\" data-dojo-type=\"dijit/form/ValidationTextBox\" ></input></td></tr>\r\n\t\t<tr><td >&nbsp;</td></tr>\r\n\t\t<tr>\r\n\t\t\t<td data-dojo-attach-point=\"close_button\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Close\"' data-dojo-attach-event=\"onClick:_close\"></button></td>\r\n\t\t\t<td data-dojo-attach-point=\"delete_button\" class=\"prmaxhidden\" ><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Delete\"' data-dojo-attach-event=\"onClick:_delete\"></button></td>\r\n\t\t\t<td align=\"right\"><button data-dojo-attach-event=\"onClick:_add_marketsector\" data-dojo-attach-point=\"savenode\" data-dojo-type=\"dojox/form/BusyButton\" type=\"button\" busyLabel=\"Please Wait Saving...\" label=\"Save\"></button></td></tr>\r\n\t</table>\r\n</form>\r\n</div>\r\n","url:research/questionnaires/templates/EmployeeEdit.html":"<div>\r\n\t<form data-dojo-attach-point=\"formnode\" data-dojo-type=\"dijit/form/Form\" data-dojo-props='onSubmit:\"return false\",\"class\":\"prmaxdefault\"' >\r\n\t\t<input data-dojo-attach-point=\"employeeidnode\" data-dojo-props='type:\"hidden\",name:\"employeeid\"' data-dojo-type=\"dijit/form/TextBox\"></input>\r\n\t\t<input data-dojo-attach-point=\"researchprojectitemid\" data-dojo-props='name:\"researchprojectitemid\",type:\"hidden\"' data-dojo-type=\"dijit/form/TextBox\"></input>\r\n\t\t<input data-dojo-attach-point=\"researchprojectitemchangeid\" data-dojo-props='name:\"researchprojectitemchangeid\",type:\"hidden\"' data-dojo-type=\"dijit/form/TextBox\"></input>\r\n\t\t<table style=\"width:97%;border-collapse:collapse;\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\">\r\n\t\t\t\r\n\t\t\t<tr><td width=\"15%\" class=\"prmaxrowtag\" valign=\"top\"align=\"right\">Person</td><td><div data-dojo-props='\"class\":\"prmaxrequired\"' data-dojo-type=\"research/employees/EmployeeSelect\" data-dojo-attach-point=\"selectcontact\"></div><div data-dojo-attach-point=\"contact_name_display\" style=\"color:red;font-weight:bold\"></div></td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Job Title</td><td><input data-dojo-attach-point=\"job_title\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxrequired\",name:\"job_title\",type:\"text\",maxlength:80,trim:true,required:false,style:\"width:98%\"'/></td><td width=\"5%\"><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"job_title_modified\"></div></td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Job Roles</td><td><div data-dojo-attach-point=\"jobroles\" data-dojo-type=\"prcommon2/roles/Roles\" data-dojo-props='name:\"jobroles\",value:\"\",startopen:true, size:6, searchmode:true, selectonly:true' ></div></td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Desk</td><td><select data-dojo-attach-point=\"outletdeskid\" data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-props='name:\"outletdeskid\",searchAttr:\"deskname\",labelType:\"html\",\"class\":\"prmaxrequired\"' /></td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Email</td><td ><input data-dojo-attach-point=\"email\"  data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"email\",type:\"text\",pattern:dojox.validate.regexp.emailAddress,trim:true,invalidMessage:\"invalid email address\",style:\"width:98%\",maxlength:70'></td><td width=\"5%\"><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"email_modified\"></div></td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Tel</td><td><input data-dojo-attach-point=\"tel\" data-dojo-props='\"class\":\"prmaxinput\",name:\"tel\",type:\"text\",size:25,maxlength:40' data-dojo-type=\"dijit/form/TextBox\"/></td><td width=\"5%\"><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"tel_modified\"></div></td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Fax</td><td><input data-dojo-attach-point=\"fax\" data-dojo-type=\"dijit/form/TextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"fax\",type:\"text\",size:25,maxlength:40' /></td><td width=\"5%\"><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"fax_modified\"></div></td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Mobile</td><td><input data-dojo-props='\"class\":\"prmaxinput\",name:\"mobile\",type:\"text\",size:25,maxlength:40' data-dojo-attach-point=\"mobile\" data-dojo-type=\"dijit/form/TextBox\"/></td><td width=\"5%\"><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"mobile_modified\"></div></td></tr>\r\n\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Twitter</td>\r\n\t\t\t\t<td><span><input data-dojo-attach-point=\"twitter\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='name:\"twitter\",pattern:dojox.validate.regexp.url,type:\"text\",maxlength:80,trim:true,style:\"width:90%\"'/></span>\r\n\t\t\t\t\t<span><div data-dojo-attach-point=\"twitter_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td width=\"5%\"><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"twitter_modified\"></div></td>\r\n\t\t\t</tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Facebook</td>\r\n\t\t\t\t<td><span><input data-dojo-attach-point=\"facebook\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"facebook\",type:\"text\",maxlength:80,pattern:dojox.validate.regexp.url,trim:true,style:\"width:90%\"'/></span>\r\n\t\t\t\t\t<span><div data-dojo-attach-point=\"facebook_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td width=\"5%\"><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"facebook_modified\"></div></td>\r\n\t\t\t</tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Linkedin</td>\r\n\t\t\t\t<td><span><input data-dojo-attach-point=\"linkedin\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"linkedin\",type:\"text\",maxlength:80,pattern:dojox.validate.regexp.url,trim:true,style:\"width:90%\"' /></span>\r\n\t\t\t\t\t<span><div data-dojo-attach-point=\"linkedin_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td width=\"5%\"><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"linkedin_modified\"></div></td>\r\n\t\t\t</tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Instagram</td>\r\n\t\t\t\t<td><span><input data-dojo-attach-point=\"instagram\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"instagram\",type:\"text\",maxlength:80,pattern:dojox.validate.regexp.url,trim:true,style:\"width:90%\"' /></span>\r\n\t\t\t\t\t<span><div data-dojo-attach-point=\"instagram_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td width=\"5%\"><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"instagram_modified\"></div></td>\r\n\t\t\t</tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Different Address</td><td><input data-dojo-props='name:\"no_address\",type:\"checkbox\"' data-dojo-attach-point=\"no_address\"  data-dojo-type=\"dijit/form/CheckBox\" data-dojo-attach-event=\"onClick:_address_show\" /></td></tr>\r\n\t\t\t<tr data-dojo-attach-point=\"addr1\" class=\"prmaxhidden\" ><td align=\"right\" class=\"prmaxrowtag\">Address1</td><td><input data-dojo-attach-point=\"address1\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='style:\"margin-left:10px\",\"class\":\"prmaxinput\",name:\"address1\",type:\"text\",trim:true,invalidMessage:\"Please enter address\",style:\"width:90%\"'></input></td><td width=\"5%\"><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"address1_modified\"></div></td></tr>\r\n\t\t\t<tr data-dojo-attach-point=\"addr2\" class=\"prmaxhidden\" ><td align=\"right\" class=\"prmaxrowtag\">Address2</td><td><input data-dojo-attach-point=\"address2\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='style:\"margin-left:10px\",\"class\":\"prmaxinput\",name:\"address2\",type:\"text\",trim:true,style:\"width:90%\"'></input></td><td width=\"5%\"><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"address2_modified\"></div></td></tr>\r\n\t\t\t<tr data-dojo-attach-point=\"addr3\" class=\"prmaxhidden\" ><td align=\"right\" class=\"prmaxrowtag\">Town</td><td><input data-dojo-attach-point=\"townname\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"townname\",type:\"text\",trim:true,style:\"width:90%\"' ></input></td><td width=\"5%\"><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"townname_modified\"></div></td></tr>\r\n\t\t\t<tr data-dojo-attach-point=\"addr4\" class=\"prmaxhidden\" ><td align=\"right\" class=\"prmaxrowtag\">County</td><td><input data-dojo-attach-point=\"county\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"county\",type:\"text\",trim:true,style:\"width:90%\"' ></input></td><td width=\"5%\"><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"county_modified\"></div></td></tr>\r\n\t\t\t<tr data-dojo-attach-point=\"addr5\" class=\"prmaxhidden\" ><td align=\"right\" class=\"prmaxrowtag\">Post Code</td><td><input data-dojo-attach-point=\"postcode\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"postcode\",type:\"text\",trim:true,style:\"width:10em\"' ></input></td><td width=\"5%\"><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"postcode_modified\"></div></td></tr>\r\n\t\t\t<tr><td></td><td data-dojo-attach-point=\"copy_keywords_btn\" align=\"left\" class=\"prmaxrowtag\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Copy Keywords from Outlet\"' data-dojo-attach-event=\"onClick:_copy_keywords_btn\"></button></td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\" >Writes About:</td><td class=\"prmaxrowemphasise\" data-dojo-attach-point=\"interests\" ></td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\" >Keywords:</td><td><div data-dojo-type=\"prcommon2/interests/Interests\" data-dojo-attach-point=\"interests_org\" data-dojo-props='displaytitle:\"\",restrict:0,size:6,name:\"interests\",startopen:true,selectonly:true,nofilter:true,keytypeid:1,interesttypeid:1' ></div></td><td width=\"5%\"><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"interests_modified\"></div></td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Profile</td><td><div class=\"dialogprofileframe\" ><textarea data-dojo-attach-point=\"profile\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"profile\",style:\"width:99%;height:99%\"' ></textarea></div></td></tr>\r\n\t\t\t<tr><td colspan=\"2\">&nbsp;</td></tr>\r\n\t\t\t<tr><td colspan=\"3\" align=\"right\"><button data-dojo-attach-event=\"onClick:_save\" data-dojo-attach-point=\"savenode\" data-dojo-type=\"dojox/form/BusyButton\" type=\"button\" busyLabel=\"Please Wait Saving ...\" label=\"Save\"></button></td></tr>\r\n\t\t</table>\r\n\t</form>\r\n</div>\r\n","url:research/translations/templates/translateclassification.html":"<div>\r\n\t<form data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\">\r\n\t\t<input data-dojo-props='type:\"hidden\",value:\"-1\",name:\"datasourcetranslationid\"' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"datasourcetranslationid\"/>\r\n\t\t<table width=\"700px\" cellspacing=\"0\" cellpadding=\"0\" style=\"border-collapse: collapse\" >\r\n\t\t\t<tr><td>&nbsp;</td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\" width=\"150px\">Media Type</td><td><select data-dojo-props='style:\"width:15em\",name:\"translation\",autoComplete:true,searchAttr:\"name\",required:true,placeHolder:\"No Selection\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"outlettypeid\"></select></td><tr>\r\n\t\t\t<tr><td>&nbsp;</td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Interest</td><td><div data-dojo-type=\"prcommon2/interests/Interests\" data-dojo-attach-point=\"interests\" data-dojo-props='name:\"interests\",selectonly:true,size:6,displaytitle:\"\",startopen:true,restrict:0,keytypeid:6,title:\"Select\"'></div></td><tr>\r\n\t\t\t<tr><td>&nbsp;</td></tr>\r\n\t\t\t<tr><td class=\"prmaxrowtag\" align=\"right\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",name:\"submit\",label:\"Update\"' data-dojo-attach-event=\"onClick:_update_translation\" ></button></td></tr>\r\n\t\t</table>\r\n\t\t<br/>\r\n\t</form>\r\n</div>\r\n\r\n","url:prcommon2/outlet/templates/OutletSelectDetails.html":"<div>\r\n\t<div data-dojo-type=\"dijit/layout/TabContainer\" data-dojo-props='region:\"center\"'>\r\n\t\t<div data-dojo-attach-point=\"details\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='style:\"width:100%;height:100%\",title:\"Outlet Details\",\"class\":\"scrollpanel\"'>\r\n\t\t\t<table cellspacing=\"0\" cellpadding=\"1\" width=\"99%\" style=\"margin-top:5px\">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Outlet Name</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"outletname\",type:\"text\", disabled:true, style:\"width:400px;\"' data-dojo-attach-point=\"outletname\" data-dojo-type=\"dijit/form/TextBox\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Web</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<span><input data-dojo-props='name:\"www\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"www\" data-dojo-type=\"dijit/form/TextBox\"/></span>\r\n\t\t\t\t\t\t<span><div data-dojo-attach-point=\"www_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Address</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"address\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"address\" data-dojo-type=\"dijit/form/TextBox\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Country</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"country\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"country\" data-dojo-type=\"dijit/form/FilteringSelect\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Tel</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"tel\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"tel\" data-dojo-type=\"dijit/form/TextBox\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Email</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"email\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"email\" data-dojo-type=\"dijit/form/TextBox\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Twitter</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<span><input data-dojo-props='name:\"twitter\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"twitter\" data-dojo-type=\"dijit/form/TextBox\"/></span>\r\n\t\t\t\t\t\t<span><div data-dojo-attach-point=\"twitter_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Facebook</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<span><input data-dojo-props='name:\"facebook\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"facebook\" data-dojo-type=\"dijit/form/TextBox\"/></span>\r\n\t\t\t\t\t\t<span><div data-dojo-attach-point=\"facebook_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Instagram</td>\r\n\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<span><input data-dojo-props='name:\"instagram\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"instagram\" data-dojo-type=\"dijit/form/TextBox\"/></span>\r\n\t\t\t\t\t\t<span><div data-dojo-attach-point=\"instagram_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Circulation</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"circulation\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"circulation\" data-dojo-type=\"dijit/form/TextBox\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Frequency</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"frequency\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"frequency\" data-dojo-type=\"dijit/form/FilteringSelect\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Cost</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"cost\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"cost\" data-dojo-type=\"dijit/form/FilteringSelect\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Sqcm</td>\r\n\t\t\t\t\t<td><input data-dojo-props='sqcm:\"type\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"sqcm\" data-dojo-type=\"dijit/form/TextBox\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Type</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"prmax_outlettypeid\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"prmax_outlettypeid\" data-dojo-type=\"dijit/form/FilteringSelect\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" valign=\"top\" class=\"prmaxrowtag\" width=\"20%\">Keywords</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"keywords\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"keywords\" data-dojo-type=\"dijit/form/Textarea\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t\t<div data-dojo-attach-point=\"profile\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='style:\"width:100%;height:100%\",title:\"Outlet Profile\",\"class\":\"scrollpanel\"'>\r\n\t\t\t<table cellspacing=\"0\" cellpadding=\"1\" width=\"99%\" style=\"margin-top:5px\">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" valign=\"top\" class=\"prmaxrowtag\" width=\"20%\">Profile</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"profile\",type:\"text\", disabled:true, style:\"width:400px;\"' data-dojo-attach-point=\"profile\" data-dojo-type=\"dijit/form/Textarea\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" valign=\"top\" class=\"prmaxrowtag\" width=\"20%\">Publisher</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"publisherid\", type:\"text\", disabled:true, style:\"width:400px;\"' data-dojo-attach-point=\"publisherid\" data-dojo-type=\"dijit/form/FilteringSelect\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" valign=\"top\" class=\"prmaxrowtag\" width=\"20%\">Editorial Profile</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"editorialprofile\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"editorialprofile\" data-dojo-type=\"dijit/form/Textarea\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" valign=\"top\" class=\"prmaxrowtag\" width=\"20%\">Language</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"language\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"language\" data-dojo-type=\"dijit/form/FilteringSelect\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" valign=\"top\" class=\"prmaxrowtag\" width=\"20%\">Readership/Audience</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"readership\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"readership\" data-dojo-type=\"dijit/form/Textarea\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" valign=\"top\" class=\"prmaxrowtag\" width=\"20%\">PAMco</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"nrsreadership\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"nrsreadership\" data-dojo-type=\"dijit/form/Textarea\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" valign=\"top\" class=\"prmaxrowtag\" width=\"20%\">JICREG Readership</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"jicregreadership\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"jicregreadership\" data-dojo-type=\"dijit/form/Textarea\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" valign=\"top\" class=\"prmaxrowtag\" width=\"20%\">Coverage</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"coverage\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"coverage\" data-dojo-type=\"dijit/form/Textarea\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" valign=\"top\" class=\"prmaxrowtag\" width=\"20%\">Broadcast Times</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"broadcasttimes\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"broadcasttimes\" data-dojo-type=\"dijit/form/Textarea\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" valign=\"top\" class=\"prmaxrowtag\" width=\"20%\">Series Members</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"serieschildren\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"serieschildren\" data-dojo-type=\"dijit/form/Textarea\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='style:\"width:100%;height:40px\",region:\"bottom\"'>\r\n\t\t<table cellspacing=\"0\" cellpadding=\"1\" width=\"99%\">\r\n\t\t\t<tr>\r\n\t\t\t\t<td width=\"33%\" align=\"left\" data-dojo-attach-point=\"close_button\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Close\"' data-dojo-attach-event=\"onClick:_close\"></button></td>\r\n\t\t\t</tr>\r\n\t\t</table>\r\n\t</div>\r\n</div>\r\n","url:research/lookups/templates/Interests.html":"<div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"top\",style:\"width:100%;height:48px;padding:0px;margin:0px\"'>\r\n\t\t<div data-dojo-type=\"dijit/Toolbar\" data-dojo-props='style:\"height:99%;width:100%;padding:0px;margin:0px\"'>\r\n\t\t\t<div data-dojo-type=\"dijit/form/DropDownButton\"  data-dojo-props='iconClass:\"PRMaxCommonStdIcon PRMaxFilterIcon\",label:\"Filter\",showLabel:true'>\r\n\t\t\t\t<span>Filter By</span>\r\n\t\t\t\t<div data-dojo-type=\"dijit/TooltipDialog\" title=\"Enter Filter\" data-dojo-attach-event=\"execute: _execute\">\r\n\t\t\t\t\t<table>\r\n\t\t\t\t\t\t<tr><td>Text</td><td><input data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"filter\" data-dojo-props='name:\"filter\",trim:\"true\",maxlength:45,type:\"text\"' ></td></tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td align=\"left\"><button data-dojo-attach-event=\"onClick: _clear_filter\" data-dojo-type=\"dijit/form/Button\" type=\"button\" >Clear Filter by</button></td>\r\n\t\t\t\t\t\t\t<td align=\"right\"><button data-dojo-type=\"dijit/form/Button\" type=\"submit\" name=\"submit\">Filter by</button></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div data-dojo-type=\"dijit/form/DropDownButton\"  data-dojo-props='iconClass:\"PRMaxCommonStdIcon PRMaxNewIcon\",label:\"New\",showLabel:true'>\r\n\t\t\t\t<span>New</span>\r\n\t\t\t\t<div data-dojo-type=\"dijit/TooltipDialog\" title=\"New Keyword\" data-dojo-attach-event=\"execute: _execute_add\">\r\n\t\t\t\t\t<table width=\"300px\">\r\n\t\t\t\t\t\t<tr><td><label >Keyword Name</label></td><td><input data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='required:true,invalidMessage:\"Keyword Name Required\",name:\"interestname\",trim:true,maxlength:45,type:\"text\"' data-dojo-attach-point=\"interestname\" ></td></tr>\r\n\t\t\t\t\t\t<tr><td><label >Keyword Parent</label></td><td><select data-dojo-props='style:\"width:100%\",name:\"interestparentid\",autoComplete:true,searchAttr:\"name\",labelType:\"html\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"master_type\" ></select></td></tr>\r\n\t\t\t\t\t\t<tr><td><label >Is Section Heading</label></td><td><input data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='name:\"is_new_section\",type:\"checkbox\"'></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" colspan=\"2\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"submit\",name:\"submit\"'>Add </button></td></tr>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"interest_grid_view\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"left\",style:\"width:50%;height:100%\",splitter:true' ></div>\r\n\t<div data-dojo-attach-point=\"interest_view\" data-dojo-type=\"dijit/layout/StackContainer\" data-dojo-props='region:\"center\",splitter:true'>\r\n\t\t<div data-dojo-attach-point=\"blank\" data-dojo-type=\"dijit/layout/ContentPane\"></div>\r\n\t\t<div data-dojo-attach-point=\"details_view\" data-dojo-type=\"dijit/layout/TabContainer\" data-dojo-props='style:\"width:100%;height:100%\"'>\r\n\t\t\t<div data-dojo-attach-point=\"details\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='title:\"Details\",selected:true' >\r\n\t\t\t\t<table width=\"100%\">\r\n\t\t\t\t\t<tr><td class=\"prmaxrowdisplaylarge\" width=\"30%\">Keywords</td><td class=\"prmaxrowdisplaylarge\"  data-dojo-attach-point=\"interest_name\"></td></tr>\r\n\t\t\t\t\t<tr><td><label >Name</label></td><td><input data-dojo-props='required:true,invalidMessage:\"Keyword Name Required\",trim:true,maxlength:45,type:\"text\",name:\"interestname\"' data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-attach-point=\"interestname2\" ></td></tr>\r\n\t\t\t\t\t<tr><td><label >Keywords Parent</label></td><td><select data-dojo-props='labelType:\"html\",style:\"width:80%\",name:\"interestparentid\",autoComplete:true,searchAttr:\"name\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"master_type2\" ></select></td></tr>\r\n\t\t\t\t\t<tr><td><label >Is Section Heading</label></td><td><input data-dojo-props='name:\"is_section\",type:\"checkbox\"'  data-dojo-type=\"dijit/form/CheckBox\" data-dojo-attach-point=\"is_section\"  ></td></tr>\r\n\t\t\t\t\t<tr><td colspan=\"2\" align=\"right\"><button data-dojo-type=\"dijit/form/Button\" type=\"button\" name=\"button\" data-dojo-attach-event=\"onClick:_rename_interest\">Update</button></td></tr>\r\n\t\t\t\t\t<tr><td colspan=\"2\">&nbsp;</td></tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td align=\"left\"><button data-dojo-props='style:\"padding:0px;margin:0px\",type:\"button\",label:\"Show Transfer Keywords\"' data-dojo-attach-point=\"transfer\" data-dojo-attach-event=\"onClick:_transfere\" data-dojo-type=\"dijit/form/Button\" ></button></td>\r\n\t\t\t\t\t\t<td ><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",name:\"submit\"' data-dojo-attach-event=\"onClick:_delete_interest\">Delete Keyword</button></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t\t<div class=\"prmaxhidden\" data-dojo-attach-point=\"show_transfer\" style=\"padding-top:5px\">\r\n\t\t\t\t\t<table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\">\r\n\t\t\t\t\t\t<tr><td colspan=\"3\" class=\"prmaxrowdisplaytitle\">Move Keyword to a New Keyword</td></tr>\r\n\t\t\t\t\t\t<tr><td >&nbsp;</td></tr>\r\n\t\t\t\t\t\t<tr ><td colspan=\"3\" ><span class=\"prmaxrowtag\">Select</span><input class=\"prmaxfocus prmaxinput\" type=\"text\" style=\"width:200px;padding-bottom:3px\" data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"transfer_list_select\" /></td></tr>\r\n\t\t\t\t\t\t<tr><td width=\"46%\"><select style=\"width:100%\" data-dojo-attach-point=\"transfer_list\" size=\"7\" class=\"lists\" ></select></td></tr>\r\n\t\t\t\t\t\t<tr><td >&nbsp;</td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"left\"><button  style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"transfer_do\" disabled=\"disabled\" type=\"button\" data-dojo-attach-event=\"onClick:_transfere_do\" data-dojo-type=\"dijit/form/Button\" label=\"Do Transfer Keyword To\"></button></td></tr>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div data-dojo-attach-point=\"interest_outlet_used_grid_view\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='title:\"Outlet Used\",style:\"width:100%;height:100%\"'></div>\r\n\t\t\t<div data-dojo-attach-point=\"interest_employee_used_grid_view\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='title:\"Contact Used\",style:\"width:100%;height:100%\"'></div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","url:research/employees/templates/PersonNew.html":"<div style=\"border: 1px solid black\">\r\n<form  data-dojo-props='onsubmit:\"return false\",\"class\":\"prmaxdefault\"' data-dojo-attach-point=\"form\" data-dojo-type=\"dijit/form/Form\">\r\n\t<table cellspacing =\"0\" cellpadding=\"0\" width=\"100%\">\r\n\t\t<tr><td class=\"prmaxrowtag\">${displayname}</td><td></tr>\r\n\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Prefix</td><td ><input  data-dojo-attach-point=\"prefix\" data-dojo-props='\"class\":\"prmaxinput\",name:\"prefix\",style:\"width: 2em;\",type:\"text\",trim:true'  data-dojo-attach-point=\"prefix\" data-dojo-type=\"dijit/form/TextBox\" ></input></td></tr>\r\n\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">First Name</td><td ><input data-dojo-props='style:\"width: 5em;\",\"class\":\"prmaxinput\",name:\"firstname\",type:\"text\",trim:true' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"firstname\" ></input></td></tr>\r\n\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Surname</td><td><input data-dojo-attach-point=\"familyname\"  data-dojo-props='\"class\":\"prmaxrequired\",name:\"familyname\",type:\"text\",trim:true,required:true,style:\"width: 12em\"' data-dojo-type=\"dijit/form/ValidationTextBox\"></input></td></tr>\r\n\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Country</td><td><select data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"countryid\" data-dojo-props='name:\"countryid\",searchAttr:\"name\",labelType:\"html\",style:\"width:98%\",autoComplete:true'/></td></tr>\r\n\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Source</td><td ><select data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"sourcetypeid\" data-dojo-props='name:\"sourcetypeid\",searchAttr:\"name\",labelType:\"html\",style:\"width:98%\",\"class\":\"prmaxrequired\"'  /></td></tr>\r\n\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Reason</td><td ><select data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"reasoncodeid\" data-dojo-props='name:\"reasoncodeid\",searchAttr:\"name\",labelType:\"html\",style:\"width:98%\",\"class\":\"prmaxrequired\"'  /></td></tr>\r\n\t\t<tr><td colspan=\"2\" align=\"right\" valign=\"bottom\" ><button data-dojo-attach-event=\"onClick:_add_contact\" data-dojo-attach-point=\"addcontactnode\" type=\"button\" data-dojo-type=\"dijit/form/Button\" label=\"Add\"></button></td></tr>\r\n\t</table>\r\n</form>\r\n</div>\r\n","url:research/lookups/templates/CirculationDates.html":"<div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"top\",style:\"width:100%;height:48px;padding:0px;margin:0px\"'>\r\n\t\t<div data-dojo-type=\"dijit/Toolbar\" data-dojo-props='style:\"height:99%;width:100%;padding:0px;margin:0px\"'>\r\n\t\t\t<div data-dojo-type=\"dijit/form/DropDownButton\"  data-dojo-props='iconClass:\"PRMaxCommonStdIcon PRMaxFilterIcon\",label:\"Filter\",showLabel:true'>\r\n\t\t\t\t<span>Filter By</span>\r\n\t\t\t\t<div data-dojo-type=\"dijit/TooltipDialog\" title=\"Enter Circulation Dates filter\" data-dojo-attach-event=\"execute: _execute\">\r\n\t\t\t\t\t<table>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td>Text</td>\r\n\t\t\t\t\t\t\t<td><input data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"filter\" data-dojo-props='name:\"filter\",trim:\"true\",maxlength:45,type:\"text\"' ></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td align=\"left\"><button data-dojo-attach-event=\"onClick: _clear_filter\" data-dojo-type=\"dijit/form/Button\" type=\"button\" >Clear Filter by</button></td>\r\n\t\t\t\t\t\t\t<td align=\"right\"><button data-dojo-type=\"dijit/form/Button\" type=\"submit\" name=\"submit\">Filter by</button></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div data-dojo-type=\"dijit/form/Button\" data-dojo-props='iconClass:\"PRMaxCommonStdIcon PRMaxAddIcon\",showLabel:true' data-dojo-attach-event=\"onClick: _new_circulation_dates\" > <span>New</span></div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"center\"' data-dojo-attach-point=\"grid_view\"></div>\r\n\r\n\t<div data-dojo-attach-point=\"circulationdates_add_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Circulation Dates Add\"'>\r\n\t\t<div data-dojo-attach-point=\"circulationdates_add_ctrl\" data-dojo-type=\"prcommon2/circulation/CirculationDatesAdd\"></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"circulationdates_update_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Circulation Dates Update\"'>\r\n\t\t<div data-dojo-attach-point=\"circulationdates_update_ctrl\" data-dojo-type=\"prcommon2/circulation/CirculationDatesAdd\" data-dojo-props='mode:\"update\"'></div>\r\n\t</div>\r\n</div>","url:dojox/layout/resources/ExpandoPane.html":"<div class=\"dojoxExpandoPane\">\r\n\t<div dojoAttachPoint=\"titleWrapper\" class=\"dojoxExpandoTitle\">\r\n\t\t<div class=\"dojoxExpandoIcon\" dojoAttachPoint=\"iconNode\" dojoAttachEvent=\"ondijitclick:toggle\"><span class=\"a11yNode\">X</span></div>\r\n\t\t<span class=\"dojoxExpandoTitleNode\" dojoAttachPoint=\"titleNode\">${title}</span>\r\n\t</div>\r\n\t<div class=\"dojoxExpandoWrapper\" dojoAttachPoint=\"cwrapper\" dojoAttachEvent=\"ondblclick:_trap\">\r\n\t\t<div class=\"dojoxExpandoContent\" dojoAttachPoint=\"containerNode\"></div>\r\n\t</div>\r\n</div>\r\n","url:prcommon2/interests/templates/Interests.html":"<div data-dojo-attach-point=\"containerNode\" >\r\n\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\">\r\n\t\t<tr><td width=\"20%\"   class=\"prmaxrowtag\">${displaytitle}</td>\r\n\t\t\t\t<td width=\"5%\" ><img height=\"16px\" width=\"16px\" data-dojo-attach-point=\"togglectrl\" data-dojo-attach-event=\"onclick:_toggle\" src=\"/prmax_common_s/images/toopen.gif\" class=\"toggleselect\"></img></td>\r\n\t\t\t\t<td align=\"right\" valign=\"top\" ><div data-dojo-attach-point=\"countnode\" data-dojo-type=\"prcommon2/search/SearchCount\"></div></td>\r\n\t\t</tr>\r\n\t</table>\r\n\t<div class=\"dojoInterestPane\" >\r\n\t\t<div data-dojo-attach-point=\"selectarea\" class=\"prmaxselectmultiple\" style=\"display:none\" >\r\n\t\t\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\" >\r\n\t\t\t\t  <tr><td width=\"47%\"></td><td width=\"5%\"></td><td width=\"48%\" ></td></tr>\r\n\t\t\t\t  <tr><td colspan=\"3\">\r\n\t\t\t\t  <table style=\"width:100%\" class=\"prmaxtable\" >\r\n\t\t\t\t  <tr>\r\n\t\t\t\t\t\t<td width=\"40%\" data-dojo-attach-point=\"master_type_text\"><span class=\"prmaxrowtag\">Select</span><input class=\"prmaxfocus prmaxinput\" type=\"text\" data-dojo-type=\"dijit/form/TextBox\" style=\"width:60%\" data-dojo-attach-point=\"interest_list_select\" data-dojo-attach-event=\"onkeyup:interest_select\" /></td>\r\n\t\t\t\t\t\t<td width=\"40%\"><select data-dojo-props='style:\"width:100%\",autoComplete:true,searchAttr:\"name\",labelType:\"html\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"master_type\"data-dojo-attach-event=\"onChange:change_filter\"></td>\r\n\t\t\t\t\t\t<td width=\"3%\" align=\"right\"><input class=\"prmaxdefault\" data-dojo-attach-point=\"andor\"  data-dojo-type=\"dijit/form/CheckBox\" checked type=\"checkbox\" value=\"2\" data-dojo-attach-event=\"onClick:and_or\"/></td>\r\n\t\t\t\t\t\t<td width=\"15%\"><label data-dojo-attach-point=\"andorlabel\" class=\"prmaxlabeltag\" >All</label></td>\r\n\t\t\t\t\t\t<td width=\"3%\" align=\"right\" data-dojo-attach-point=\"show_help_btn\" class=\"prmaxhidden\"><div data-dojo-attach-event=\"onClick:_show_help\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='iconClass:\"PRMaxSmallCommonIcon PRMaxSmallHelpIcon\",style:\"padding:0px;margin:0px\"'></div></td>\r\n\t\t\t\t  </tr></table>\r\n\t\t\t\t  </td></tr>\r\n\t\t\t\t  <tr><td ><select style=\"width:100%\" data-dojo-attach-point=\"interest_list\" size=\"${size}\" class=\"lists\" multiple=\"multiple\" ></select></td>\r\n\t\t\t\t  <td >\r\n\t\t\t\t  <button class=\"button_add_all\"  style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"button_all\" disabled=\"true\" type=\"button\" data-dojo-attach-event=\"onClick:interest_select_all\" data-dojo-type=\"dijit/form/Button\"><div class=\"std_movement_button\">&gt;&gt;</div></button><br data-dojo-attach-point=\"button_all_line\" />\r\n\t\t\t\t  <button class=\"button_add_single\" style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"button_single\" disabled=\"true\" type=\"button\" data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:interest_select_single\"><div class=\"std_movement_button\">&gt;&nbsp;</div></button><br/>\r\n\t\t\t\t  <button class=\"button_del_all\" style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"button_del_all\" disabled=\"true\" type=\"button\" data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:interest_remove_all\"><div class=\"std_movement_button\">&lt;&lt;</div></button><br data-dojo-attach-point=\"button_del_all_line\" />\r\n\t\t\t\t  <button class=\"button_del_single\" style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"button_del_single\" disabled=\"true\" type=\"button\" data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:interest_remove_single\"><div class=\"std_movement_button\">&lt;&nbsp;</div></button></td>\r\n\t\t\t\t  <td ><select style=\"width:100%\" data-dojo-attach-point=\"interest_select\" size=\"${size}\" class=\"lists\" multiple=\"multiple\" data-dojo-attach-event=\"onchange:interest_update_selection\"></select></td></tr>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/Tooltip\" data-dojo-attach-point=\"andor_tip\" data-dojo-props='showDelay:800'>\r\n\t\t<div class=\"tooltipframe\" ><b>All Search Options</b><br/>If this option is selected then the resulting search will be all the unique items in all the interests <br/>added together, if it's not checked then the result is only those items that have entries in all the interests<br/></div>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/Dialog\" data-dojo-attach-point=\"show_help_dialog\" data-dojo-props='title:\"Editing Keywords\",style:\"width:400px\"'>\r\n\t\t<div class=\"tooltipframe\" >\r\n\t\t\t<p>To add an interest search using the Select box. Once you have found the interest you want click on it and select the right pointing arrow head button</p>\r\n\t\t\t<p>To delete click on the interest in the right hand pane and then select the left pointing arrow head button</p>\r\n\t\t\t<div data-dojo-attach-event=\"onClick:_hide_help\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='label:\"Close\",style:\"float:right\"'></div></td>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","url:dijit/layout/templates/_ScrollingTabControllerButton.html":"<div data-dojo-attach-event=\"ondijitclick:_onClick\" class=\"dijitTabInnerDiv dijitTabContent dijitButtonContents\"  data-dojo-attach-point=\"focusNode\" role=\"button\">\r\n\t<span role=\"presentation\" class=\"dijitInline dijitTabStripIcon\" data-dojo-attach-point=\"iconNode\"></span>\r\n\t<span data-dojo-attach-point=\"containerNode,titleNode\" class=\"dijitButtonText\"></span>\r\n</div>","url:prcommon2/production/templates/ProductionCompanyAdd.html":"<div style=\"border: 1px solid black\">\r\n<form  data-dojo-props='onsubmit:\"return false\",\"class\":\"prmaxdefault\"' data-dojo-attach-point=\"form\" data-dojo-type=\"dijit/form/Form\">\r\n\t<input data-dojo-props='name:\"productioncompanyid\",type:\"hidden\",value:-1'  data-dojo-attach-point=\"productioncompanyid\" data-dojo-type=\"dijit/form/TextBox\"/>\r\n\t\t<table cellspacing=\"0\" cellpadding=\"0\" width=\"400px\">\r\n\t\t<tr><td >&nbsp;</td></tr>\r\n\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" >Production Company</td><td colspan=\"2\" ><input data-dojo-props='\"class\":\"prmaxinput\",name:\"productioncompanydescription\",type:\"text\",trim:true,required:true,style:\"width:90%\",placeHolder:\"Circulation Dates\"'  data-dojo-attach-point=\"productioncompanydescription\" data-dojo-type=\"dijit/form/ValidationTextBox\" ></input></td></tr>\r\n\t\t<tr><td >&nbsp;</td></tr>\r\n\t\t<tr>\r\n\t\t\t<td align=\"left\" data-dojo-attach-point=\"close_button\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Close\"' data-dojo-attach-event=\"onClick:_close\"></button></td>\r\n\t\t\t<td data-dojo-attach-point=\"delete_button\" class=\"prmaxhidden\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Delete\"' data-dojo-attach-event=\"onClick:_delete\"></button></td>\r\n\t\t\t<td align=\"right\"><button data-dojo-attach-event=\"onClick:_add_dates\" data-dojo-attach-point=\"savenode\" data-dojo-type=\"dojox/form/BusyButton\" type=\"button\" busyLabel=\"Please Wait Saving...\" label=\"Save\"></button></td></tr>\r\n\t</table>\r\n</form>\r\n</div>\r\n","url:dijit/templates/Menu.html":"<table class=\"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable\" role=\"menu\" tabIndex=\"${tabIndex}\"\r\n\t   cellspacing=\"0\">\r\n\t<tbody class=\"dijitReset\" data-dojo-attach-point=\"containerNode\"></tbody>\r\n</table>\r\n","url:research/outlets/templates/OutletCopyContact.html":"<div style=\"width:400px;height:200px;\" >\r\n\t<form  data-dojo-attach-point=\"form\" data-dojo-type=\"dijit/form/Form\" data-dojo-props='\"class\":\"prmaxdefault\",onsubmit:\"return false;\"'>\r\n\t\t<input data-dojo-attach-point=\"employeeid\" data-dojo-props='name:\"employeeid\",type:\"hidden\"' data-dojo-type=\"dijit/form/TextBox\" >\r\n\t\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\"  border =\"0\">\r\n\t\t\t<tr><td  align=\"center\" data-dojo-attach-point=\"heading\" class=\"prmaxrowdisplaylarge\" colspan=\"2\" ></td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">New Outlet</td><td ><select data-dojo-attach-point=\"outletid\" data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-props='name:\"outletid\",searchAttr:\"outletname\",labelType:\"html\",style:\"width:98%\",\"class\":\"prmaxrequired\"' data-dojo-attach-event=\"onChange:_outlet_selected\"/></td></tr>\r\n\t\t\t<tr data-dojo-attach-point=\"desk_view\" class=\"prmaxhidden\"><td align=\"right\" class=\"prmaxrowtag\">Desks</td><td ><select data-dojo-attach-point=\"outletdeskid\" data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-props='name:\"outletdeskid\",searchAttr:\"deskname\",labelType:\"html\",style:\"width:98%\",\"class\":\"prmaxrequired\"'/></td></tr>\r\n\t\t</table>\r\n\t</form>\r\n\t<br/><br/>\r\n\t<button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",style:\"float:left\" ' data-dojo-attach-event=\"onClick:_close_dlg\">Close</button>\r\n\t<button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",style:\"float:right\" ' data-dojo-attach-event=\"onClick:_copy_contact\">Copy Contact</button>\r\n</div>\r\n","url:research/questionnaires/templates/DeskUpdate.html":"<div >\r\n\t<div data-dojo-props='region:\"top\",style:\"width:100%;height:30px\",\"class\":\"prmaxrowdisplaytitle\"' data-dojo-attach-point=\"blank_cont_view\" data-dojo-type=\"dijit/layout/ContentPane\" >\r\n\t\t<p style=\"color:white;padding:0px;margin:0px;text-align:middle\" data-dojo-attach-point=\"outlet_details_view\"></p>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/TabContainer\" data-dojo-attach-point=\"outlet_container\" data-dojo-props='region:\"center\"' >\r\n\t\t<div data-dojo-props='title:\"Title/Desk\"' data-dojo-attach-point=\"desk_main\" data-dojo-type=\"research/questionnaires/DeskDetails\" data-dojo-props='style:\"width:100%;height:100%;\",\"class\":\"scrollpanel\"'></div>\r\n\t\t<div data-dojo-type=\"dijit/layout/BorderContainer\" data-dojo-attach-point=\"outlet_contact_view\" data-dojo-props='title:\"Contacts\",style:\"width:100%;height:100%\",gutters:\"false\"' >\r\n\t\t\t<div data-dojo-attach-point=\"outlet_contact_grid_view\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='style:\"width:100%;height:30%;border:1px solid black\",splitter:true,region:\"center\"'></div>\r\n\t\t\t<div data-dojo-type=\"dijit/layout/StackContainer\" data-dojo-attach-point=\"contact_edit_container\" data-dojo-props='region:\"bottom\",style:\"width:100%;height:70%\",splitter:true' >\r\n\t\t\t\t<div data-dojo-props='title:\"blank_cont_view\"' data-dojo-attach-point=\"blank_cont_view\" data-dojo-type=\"dijit/layout/ContentPane\" ></div>\r\n\t\t\t\t<div data-dojo-props='title:\"contact_edit\",\"class\":\"scrollpanel\",style:\"width:100%;height:100%\",prmaxcontext:\"desk\"' data-dojo-attach-point=\"contact_edit\" data-dojo-type=\"research/questionnaires/EmployeeEdit\"></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div data-dojo-attach-point=\"research_ctrl\" data-dojo-type=\"research/questionnaires/Research\" data-dojo-props='title:\"Research\",style:\"width:100%;height:100%\",\"class\":\"scrollpanel\"'></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"delete_ctrl\" data-dojo-type=\"research/questionnaires/EmployeeDelete\" data-dojo-props='region:\"bottom\",style:\"width:1px;height:1px;\"'></div>\r\n\t<div data-dojo-attach-point=\"employee_change_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Add Contact\"'>\r\n\t\t<div data-dojo-attach-point=\"employee_change_ctrl\" data-dojo-type=\"research/employees/EmployeeEdit\" data-dojo-props='style:\"width:600px;height:500px\"' ></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"employee_set_primary_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title :\"Set Primary Contact\"'>\r\n\t\t<div data-dojo-attach-point=\"employee_set_primary_ctrl\" data-dojo-type=\"research/outlets/OutletSetPrimary\"></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"employee_move_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title :\"Move Contact to another Outlet\"'>\r\n\t\t<div data-dojo-attach-point=\"employee_move_ctrl\" data-dojo-type=\"research/outlets/OutletMoveContact\"></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"employee_copy_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title :\"Copy Contact to Outlet\"'>\r\n\t\t<div data-dojo-attach-point=\"employee_copy_ctrl\" data-dojo-type=\"research/outlets/OutletCopyContact\"></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"employee_merge_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title :\"Merge selected Contact to\"'>\r\n\t\t<div data-dojo-attach-point=\"employee_merge_ctrl\" data-dojo-type=\"research/employees/EmployeeMerge\"></div>\r\n\t</div>\r\n\r\n</div>\r\n","url:dijit/templates/MenuItem.html":"<tr class=\"dijitReset\" data-dojo-attach-point=\"focusNode\" role=\"menuitem\" tabIndex=\"-1\">\r\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\r\n\t\t<span role=\"presentation\" class=\"dijitInline dijitIcon dijitMenuItemIcon\" data-dojo-attach-point=\"iconNode\"></span>\r\n\t</td>\r\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode,textDirNode\"\r\n\t\trole=\"presentation\"></td>\r\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\r\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">\r\n\t\t<span data-dojo-attach-point=\"arrowWrapper\" style=\"visibility: hidden\">\r\n\t\t\t<span class=\"dijitInline dijitIcon dijitMenuExpand\"></span>\r\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\r\n\t\t</span>\r\n\t</td>\r\n</tr>\r\n","url:prcommon2/search/templates/Circulation.html":"<div class=\"circulation\">\r\n\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\" >\r\n\t\t<tr><td width=\"20%\"   class=\"prmaxrowtag\">Circulation</td>\r\n\t\t\t\t<td width=\"5%\" ><img height=\"16px\" width=\"16px\" data-dojo-attach-point=\"togglectrl\" data-dojo-attach-event=\"onclick:_toggle\" src=\"/prmax_common_s/images/toopen.gif\" class=\"toggleselect\"></img>\r\n\t\t\t\t<td align=\"right\" valign=\"top\" ><div data-dojo-attach-point=\"countnode\" data-dojo-type=\"prcommon2/search/SearchCount\"></div></td>\r\n\t\t</tr>\r\n\t</table>\r\n\t<div style=\"border 2px solid black\">\r\n\t\t<div data-dojo-attach-point=\"selectarea\" style=\"display:none\" >\r\n\t\t\t<table width=\"100%\" class=\"prmaxtable\">\r\n\t\t\t  <tr>\r\n\t\t\t  <td width=\"8%\"><input data-dojo-attach-point=\"node_1\"  data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='\"class\":\"prmaxdefault\",type:\"checkbox\",value:\"1\"' data-dojo-attach-event=\"onClick:check_count\"/></td><td width=\"23%\"><label data-dojo-attach-point=\"node_1_label\" class=\"labeltag\">1-500</label></td>\r\n\t\t\t  <td width=\"8%\"><input data-dojo-attach-point=\"node_2\" data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='\"class\":\"prmaxdefault\",type:\"checkbox\",value:\"2\"' data-dojo-attach-event=\"onClick:check_count\"/></td><td width=\"26%\"><label data-dojo-attach-point=\"node_2_label\" class=\"labeltag\">501-2500</label></td>\r\n\t\t\t  <td width=\"8%\"><input data-dojo-attach-point=\"node_3\" data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='\"class\":\"prmaxdefault\",type:\"checkbox\",value:\"3\"' data-dojo-attach-event=\"onClick:check_count\"/></td><td width=\"21%\"><label data-dojo-attach-point=\"node_3_label\" class=\"labeltag\">2501-10k</label></td>\r\n\t\t\t  </tr>\r\n\t\t\t  <tr>\r\n\t\t\t  <td width=\"8%\"><input data-dojo-attach-point=\"node_4\" data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='\"class\":\"prmaxdefault\",type:\"checkbox\",value:\"4\"' data-dojo-attach-event=\"onClick:check_count\"/></td><td width=\"23%\"><label data-dojo-attach-point=\"node_4_label\" class=\"labeltag\">10001-50k</label></td>\r\n\t\t\t  <td width=\"8%\"><input data-dojo-attach-point=\"node_5\" data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='\"class\":\"prmaxdefault\",type:\"checkbox\",value:\"5\"' data-dojo-attach-event=\"onClick:check_count\"/></td><td width=\"26%\"><label data-dojo-attach-point=\"node_5_label\" class=\"labeltag\">50001-100k</label></td>\r\n\t\t\t  <td width=\"8%\"><input data-dojo-attach-point=\"node_6\" data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='\"class\":\"prmaxdefault\",type:\"checkbox\",value:\"6\"' data-dojo-attach-event=\"onClick:check_count\"/></td><td width=\"21%\"><label data-dojo-attach-point=\"node_6_label\" class=\"labeltag\">100001+</label></td>\r\n\t\t\t</tr>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n","url:prcommon2/geographical/templates/GeographicalTree.html":"<div>\r\n\t<div data-dojo-attach-point=\"tree\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"center\"' ></div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"bottom\",style:\"width:100%;height:2em\"'>\r\n\t\t<button data-dojo-props='type:\"button\",style:\"float:right;padding-right:10px\"' data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:_close\">Close</button>\r\n\t</div>\r\n</div>\r\n","url:research/feedback/templates/BouncedEmails.html":"<div>\r\n\t\t<div  data-dojo-type=\"dijit/layout/BorderContainer\" data-dojo-props=\"region:'left',splitter:true,'class':'bordered',style:'height:100%;width:40%',gutters:false\">\r\n\t\t\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-attach-point=\"controls\" data-dojo-props='region:\"top\",style:\"height:42px;width:100%;overflow:hidden\"'>\r\n\t\t<div data-dojo-type=\"dijit/Toolbar\" data-dojo-props='style:\"height:99%;width:100%;padding:0px;margin:0px\"'>\r\n\t\t\t\t\t<div data-dojo-attach-event=\"onClick:_refresh\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='iconClass:\"PRMaxCommonStdIcon PRMaxCommonRefresh\"'><span>Refresh</span></div>\r\n\t\t\t\t\t<div data-dojo-type=\"dijit/form/DropDownButton\"  data-dojo-props='iconClass:\"PRMaxCommonStdIcon PRMaxFilterIcon\",label:\"Filter\",showLabel:true'>\r\n\t\t\t\t\t\t<span>Filter By</span>\r\n\t\t\t\t\t\t<div data-dojo-type=\"dijit/TooltipDialog\" data-dojo-props='title:\"Filter By\"' data-dojo-attach-event=\"execute:_execute\">\r\n\t\t\t\t\t\t\t<table>\r\n\t\t\t\t\t\t\t\t<tr><td><label>Exclude Auto Reply</label></td><td><input data-dojo-type=\"dijit/form/CheckBox\" data-dojo-attach-point=\"autoreply\" data-dojo-props='type:\"checkbox\",name:\"autoreply\"' ></td></tr>\r\n\t\t\t\t\t\t\t\t<tr><td><label>Outlet Name</label></td><td><input data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"outletname\" data-dojo-props='type:\"text\",name:\"outletname\"' ></td></tr>\r\n\t\t\t\t\t\t\t\t<tr><td><label>Email Address</label></td><td><input data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"emailaddress\" data-dojo-props='type:\"text\",name:\"emailaddress\"' ></td></tr>\r\n\t\t\t\t\t\t\t\t<tr><td><label>Customer</label></td><td><select data-dojo-attach-point=\"customers\" data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-props='name:\"icustomerid\",autoComplete:true,searchAttr:\"customername\",labelType:\"html\"' ></select></td></tr>\r\n\t\t\t\t\t\t\t\t<tr><td><label>Top 50 PRmax</label></td><td><input data-dojo-type=\"dijit/form/CheckBox\" data-dojo-attach-point=\"top50\" data-dojo-props='type:\"checkbox\",name:\"top50\"' ></td></tr>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<td align=\"left\"><button data-dojo-attach-event=\"onClick: _clear_filter\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\"' >Clear Filter by</button></td>\r\n\t\t\t\t\t\t\t\t\t<td align=\"right\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"submit\",name:\"submit\"'>Filter by</button></td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div data-dojo-attach-point=\"result_grid_view\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"center\"'></div>\r\n\t\t</div>\r\n\t\t<div data-dojo-attach-point=\"tabcont\" data-dojo-type=\"dijit/layout/TabContainer\" data-dojo-props=\"region:'center',splitter:true,'class':'bordered'\">\r\n\t\t\t<div data-dojo-attach-point=\"msg_basic_display\"  data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props=\"title:'Message',style:'height:100%;width:100%;overflow :auto','class':'bordered scrollpane',selected:'selected'\"></div>\r\n\t\t\t<div data-dojo-attach-point=\"msg_display\"  data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props=\"title:'Original',style:'height:100%;width:100%;overflow :auto','class':'bordered scrollpanel'\"></div>\r\n\t\t\t<div data-dojo-type=\"dijit/layout/StackContainer\" data-dojo-attach-point=\"controls\" data-dojo-props=\"preload:false,title:'Details','class':'bordered'\">\r\n\t\t\t\t<div title=\"blank\" data-dojo-attach-point=\"blank\" data-dojo-type=\"dijit/layout/ContentPane\" selected class=\"bordered\"></div>\r\n\t\t\t\t<div title=\"outlet\" data-dojo-attach-point=\"outletedit\" data-dojo-type=\"research/outlets/OutletEdit\" data-dojo-props='style:\"width:100%;height:100%\",\"class\":\"bordered\"'></div>\r\n\t\t\t\t<div title=\"freelance\" data-dojo-attach-point=\"freelanceedit\" data-dojo-type=\"research/freelance/FreelanceEdit\" data-dojo-props='style:\"width:100%;height:100%\",\"class\":\"bordered\"'></div>\r\n\t\t\t\t\t<div data-dojo-attach-point=\"isprivate\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='style:\"width:100%;height:100%\",\"class\":\"bordered\",title:\"isprivate\"'></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t<div data-dojo-attach-point=\"completed_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Bounced Email Completed\"'>\r\n\t\t<div data-dojo-attach-point=\"completed_ctrl\" data-dojo-type=\"research/feedback/Completed\"></div>\r\n\t</div>\r\n</div>\r\n","url:research/lookups/templates/ProductionCompanies.html":"<div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"top\",style:\"width:100%;height:48px;padding:0px;margin:0px\"'>\r\n\t\t<div data-dojo-type=\"dijit/Toolbar\" data-dojo-props='style:\"height:99%;width:100%;padding:0px;margin:0px\"'>\r\n\t\t\t<div data-dojo-type=\"dijit/form/DropDownButton\"  data-dojo-props='iconClass:\"PRMaxCommonStdIcon PRMaxFilterIcon\",label:\"Filter\",showLabel:true'>\r\n\t\t\t\t<span>Filter By</span>\r\n\t\t\t\t<div data-dojo-type=\"dijit/TooltipDialog\" title=\"Enter Production Company Dates filter\" data-dojo-attach-event=\"execute: _execute\">\r\n\t\t\t\t\t<table>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td>Text</td>\r\n\t\t\t\t\t\t\t<td><input data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"filter\" data-dojo-props='name:\"filter\",trim:\"true\",maxlength:45,type:\"text\"' ></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td align=\"left\"><button data-dojo-attach-event=\"onClick: _clear_filter\" data-dojo-type=\"dijit/form/Button\" type=\"button\" >Clear Filter by</button></td>\r\n\t\t\t\t\t\t\t<td align=\"right\"><button data-dojo-type=\"dijit/form/Button\" type=\"submit\" name=\"submit\">Filter by</button></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div data-dojo-type=\"dijit/form/Button\" data-dojo-props='iconClass:\"PRMaxCommonStdIcon PRMaxAddIcon\",showLabel:true' data-dojo-attach-event=\"onClick: _new_production_company\" > <span>New</span></div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"center\"' data-dojo-attach-point=\"grid_view\"></div>\r\n\r\n\t<div data-dojo-attach-point=\"production_company_add_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Production Company Add\"'>\r\n\t\t<div data-dojo-attach-point=\"production_company_add_ctrl\" data-dojo-type=\"prcommon2/production/ProductionCompanyAdd\"></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"production_company_update_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Production Company Update\"'>\r\n\t\t<div data-dojo-attach-point=\"production_company_update_ctrl\" data-dojo-type=\"prcommon2/production/ProductionCompanyAdd\" data-dojo-props='mode:\"update\"'></div>\r\n\t</div>\r\n</div>","url:research/lookups/templates/Roles.html":"<div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"top\",style:\"width:100%;height:48px;padding:0px;margin:0px\"'>\r\n\t\t<div data-dojo-type=\"dijit/Toolbar\" data-dojo-props='style:\"height:99%;width:100%;padding:0px;margin:0px\"'>\r\n\t\t\t<div data-dojo-type=\"dijit/form/DropDownButton\"  data-dojo-props='iconClass:\"PRMaxCommonStdIcon PRMaxFilterIcon\",label:\"Filter\",showLabel:true'>\r\n\t\t\t\t<span>Filter By</span>\r\n\t\t\t\t<div data-dojo-type=\"dijit/TooltipDialog\" title=\"Enter Roles filter\" data-dojo-attach-event=\"execute: _execute\">\r\n\t\t\t\t\t<table>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td>Text</td>\r\n\t\t\t\t\t\t\t<td><input data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"filter\" data-dojo-props='name:\"filter\",trim:\"true\",maxlength:45,type:\"text\"' ></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td>Primary Only</td>\r\n\t\t\t\t\t\t\t<td><input data-dojo-type=\"dijit/form/CheckBox\" data-dojo-attach-point=\"visible_only\" data-dojo-props='name:\"visible\",type:\"checkbox\"' ></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td align=\"left\"><button data-dojo-attach-event=\"onClick: _clear_filter\" data-dojo-type=\"dijit/form/Button\" type=\"button\" >Clear Filter by</button></td>\r\n\t\t\t\t\t\t\t<td align=\"right\"><button data-dojo-type=\"dijit/form/Button\" type=\"submit\" name=\"submit\">Filter by</button></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div data-dojo-type=\"dijit/form/DropDownButton\" data-dojo-props='iconClass:\"PRMaxCommonStdIcon PRMaxAddIcon\",showLabel:true'>\r\n\t\t\t\t<span>New Role</span>\r\n\t\t\t\t<div data-dojo-type=\"dijit/TooltipDialog\" title=\"Enter New Role\" data-dojo-attach-event=\"execute: _execute_add\">\r\n\t\t\t\t\t<table>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td>Role</td>\r\n\t\t\t\t\t\t\t<td><input data-dojo-props='trim:true,maxlength:45,type:\"text\",required:true,invalidMessage:\"Role Name Required\",name:\"rolename\"' data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-attach-point=\"rolename\" ></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" colspan=\"2\"><button data-dojo-type=\"dijit/form/Button\" type=\"submit\" name=\"submit\">Add Role</button></td></tr>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"center\"' data-dojo-attach-point=\"grid_view\"></div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"bottom\",style:\"height:50%;width:100%;overflow:auto;overflow-x:hidden\"'>\r\n\t\t<div class=\"prmaxhidden\" data-dojo-attach-point=\"detail_view\">\r\n\t\t\t<table style=\"width:100%;height:50px\">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td><label >Primary Only</label><input data-dojo-type=\"dijit/form/CheckBox\" data-dojo-attach-point=\"visible_change\" type=\"checkbox\"  ></td>\r\n\t\t\t\t\t<td><button data-dojo-type=\"dijit/form/Button\" type=\"button\" data-dojo-attach-event=\"onClick:_set_primary\">Set Primary</button></td>\r\n\t\t\t\t</tr>\r\n\t\t\t</table>\r\n\t\t\t<div class=\"prmaxhidden\" data-dojo-attach-point=\"details_ext\">\r\n\t\t\t\t<form  data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"ext_form\" data-dojo-props='onsubmit:\"return false;\"'>\r\n\t\t\t\t\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\" border=\"0px\">\r\n\t\t\t\t\t\t<tr><td width=\"47%\"></td><td width=\"5%\"></td><td width=\"48%\" ></td></tr>\r\n\t\t\t\t\t\t<tr><td colspan=\"3\">\r\n\t\t\t\t\t\t\t<table style=\"width:100%\" class=\"prmaxtable\" >\r\n\t\t\t\t\t\t\t\t<tr><td width=\"40%\" data-dojo-attach-point=\"master_type_text\"><span class=\"prmaxrowtag\">Select</span><input class=\"prmaxfocus prmaxinput\" type=\"text\" data-dojo-type=\"dijit/form/TextBox\" style=\"width:60%\" data-dojo-attach-point=\"role_list_select\" /><button data-dojo-type=\"dijit/form/Button\" type=\"button\" data-dojo-attach-event=\"onClick:_find_roles\" >Find</button> </td>\r\n\t\t\t\t\t\t\t</tr></table>\r\n\t\t\t\t\t\t</td></tr>\r\n\t\t\t\t\t\t<tr><td ><select style=\"width:100%\" data-dojo-attach-point=\"role_list\" size=\"7\" class=\"lists\" multiple=\"multiple\" data-dojo-attach-event=\"onchange:_selection_options,ondblclick:role_select_single\" ></select></td>\r\n\t\t\t\t\t\t\t<td >\r\n\t\t\t\t\t\t\t\t<button class=\"button_add_single\" style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"button_single\" disabled=\"true\" type=\"button\" data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:role_select_single\">&gt;&nbsp;</button><br/>\r\n\t\t\t\t\t\t\t\t<button class=\"button_del_all\" style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"button_del_all\" disabled=\"true\" type=\"button\" data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:role_remove_all\">&lt;&lt;</button><br/>\r\n\t\t\t\t\t\t\t\t<button class=\"button_del_single\" style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"button_del_single\" disabled=\"true\" type=\"button\" data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:role_remove_single\">&lt;&nbsp;</button></td>\r\n\t\t\t\t\t\t\t<td ><select style=\"width:100%\" data-dojo-attach-point=\"role_select\" size=\"7\" class=\"lists\" multiple=\"multiple\" data-dojo-attach-event=\"onchange:_selection_options\" ></select></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr><td align=\"left\" class=\"prmaxrowtag\" valign=\"top\" colspan=\"3\"><div data-dojo-props='keytypeid:6' data-dojo-type=\"prcommon2/interests/Interests\" data-dojo-attach-point=\"interests\" ></div></td></tr>\r\n\t\t\t\t\t\t<tr><td colspan=\"3\"></td></tr>\r\n\t\t\t\t\t\t<tr><td colspan=\"3\"><button type=\"button\" type=\"button\" data-dojo-attach-event=\"onClick:_update_synonims\" data-dojo-type=\"dijit/form/Button\">Update</button></td></tr>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","url:prcommon2/contact/templates/ContactSelect.html":"<div>\r\n<p style=\"float:left;padding-right:10px;padding-top:5px\" class=\"prmaxdefault\" data-dojo-attach-point=\"display\"></p>\r\n<button data-dojo-attach-event=\"onClick:_select\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Select\",style:\"float:left\",\"class\":\"prmaxdefault\"'></button>\r\n<button data-dojo-attach-point=\"clearbtn\" data-dojo-attach-event=\"onClick:_clear\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Clear\",style:\"float:left\",\"class\":\"prmaxhidden prmaxdefault\"'></button>\r\n\t<div data-dojo-attach-point=\"select_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Select Contact\"'>\r\n\t\t<div data-dojo-attach-point=\"frame\" data-dojo-type=\"dijit/layout/BorderContainer\" data-dojo-props='style:\"height:500px;width:500px\"'>\r\n\t\t\t<div data-dojo-attach-point=\"searchFrame\" data-dojo-props='region:\"top\",style:\"width:100%;height:100px\",splitter:true'  data-dojo-type=\"dijit/layout/ContentPane\">\r\n\t\t\t\t<table>\r\n\t\t\t\t\t<tr><td><label>Surname</label></td><td><input data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"filter\" data-dojo-props='name:\"filter\",trim:true,maxlength:45,type:\"text\"'  ></td></tr>\r\n\t\t\t\t\t<tr><td><label>Person Id</label></td><td><input data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"filter_personid\" data-dojo-props='name:\"filter_personid\",trim:true,maxlength:45,type:\"text\"'></td></tr>\r\n\t\t\t\t\t<tr><td><button data-dojo-attach-point=\"newbutton\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"New Person\"' data-dojo-attach-event=\"onClick:_add_contact\"></button></td></tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t\t<div data-dojo-props='region:\"center\",splitter:true' data-dojo-attach-point=\"people_grid_view\" data-dojo-type=\"dijit/layout/ContentPane\"></div>\r\n\t\t\t<div data-dojo-props='region:\"bottom\",style:\"width:100%\",height:\"2em\"' data-dojo-type=\"dijit/layout/ContentPane\">\r\n\t\t\t\t<button data-dojo-attach-event=\"onClick:_close\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Close\"'></button>\r\n\t\t\t\t<button data-dojo-attach-point=\"searchbutton\" data-dojo-attach-event=\"onClick:_search\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='style:\"float:right\",\"class\":\"prmaxbutton\",busyLabel:\"Searching...\",label:\"Search\"' ></button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"person_add_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Add Contact\",style:\"width:400px;height:200px\"' >\r\n\t\t<div data-dojo-attach-point=\"person_add_ctrl\" data-dojo-type=\"research/employees/PersonNew\"></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"person_edit_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Contact Info\"' >\r\n\t\t<div data-dojo-attach-point=\"person_edit_ctrl\" data-dojo-type=\"research/employees/PersonEdit\" data-dojo-props='style:\"width:820px;height:700px\"'></div>\r\n\t</div>\r\n</div>\r\n","url:research/clippings/templates/ipcb_outlets.html":"<div>\r\n\t<form data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\">\r\n\t\t<input data-dojo-props='type:\"hidden\",value:\"-1\",name:\"outletexternallinkid\"' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"outletexternallinkid\"/>\r\n\t\t<table width=\"550px\" cellspacing=\"0\" cellpadding=\"0\" style=\"border-collapse: collapse\" >\r\n\t\t\t<tr><td>&nbsp;</td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\" width=\"250px\">Country Filter</td><td><select data-dojo-props='style:\"width:15em\",autoComplete:true,searchAttr:\"name\",required:true,placeHolder:\"No Selection\",pageSize:20' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"countryid\" data-dojo-attach-event='onChange:_change_country'></select></td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\" width=\"250px\">Outlet</td><td><select data-dojo-props='style:\"width:20em\",name:\"outletid\",autoComplete:true,searchAttr:\"outletname\",required:true,placeHolder:\"No Selection\",pageSize:20' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"outletid\"></select></td></tr>\r\n\t\t\t<tr><td>&nbsp;</td></tr>\r\n\t\t\t<tr><td class=\"prmaxrowtag\" align=\"right\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",name:\"submit\",label:\"Update\"' data-dojo-attach-event=\"onClick:_update_outlet\" ></button></td></tr>\r\n\t\t</table>\r\n\t\t<br/>\r\n\t</form>\r\n</div>\r\n\r\n\r\n","url:research/freelance/templates/FreelanceNew.html":"<div >\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"top\",style:\"width:100%;height:3em\"'>\r\n\t\t<div style=\"height:40px;width:100%;overflow:hidden\" class=\"searchresults\">\r\n\t\t\t<div style=\"height:100%;width:45%;float:left;\" class=\"prmaxrowdisplaylarge prmaxHeadingStyle\">Add Research Freelance</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='style:\"overflow:auto;overflow-x:hidden\",region:\"center\"' >\r\n\t<form  data-dojo-props='\"class\":\"prmaxdefault\"' data-dojo-attach-point=\"requirednode\" data-dojo-type=\"dijit/form/Form\">\r\n\t<table style=\"width:100%\" class=\"prmaxtable\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\">\r\n\t<tr><td width=\"9em\" align=\"right\" class=\"prmaxrowtag\">Person</td><td><div data-dojo-type=\"research/employees/EmployeeSelect\" data-dojo-attach-point=\"selectcontact\" data-dojo-props='displayname:\"\",mustexists:true,required:true,invalidMessage:\"Person Must be selected\"'></div></td></tr>\r\n\t<tr><td class=\"prmaxrowtag\" align=\"right\" >Country</td><td><select data-dojo-props='style:\"width:200px\",\"class\":\"prmaxrequired\",name:\"countryid\",autoComplete:true,searchAttr:\"name\",required:true,invalidMessage:\"Please select Country Name\",labelType:\"html\" ' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"countryid\"></select></td></tr>\r\n\t<tr><td align=\"right\" class=\"prmaxrowtag\">Address 1</td><td><input data-dojo-attach-point=\"address1\" data-dojo-props='name:\"address1\",type:\"text\",size:40,required:false,style:\"width:24em\"' data-dojo-type=\"dijit/form/TextBox\" /></td></tr>\r\n\t<tr><td align=\"right\" class=\"prmaxrowtag\">Address 2</td><td><input data-dojo-attach-point=\"address2\" data-dojo-type=\"dijit/form/TextBox\" data-dojo-props='name:\"address2\",type:\"text\",size:40,maxlength:80,style:\"width:24em\"'/></td></tr>\r\n\t<tr><td align=\"right\" class=\"prmaxrowtag\">Town</td>\t<td><input data-dojo-attach-point=\"townname\" data-dojo-props='name:\"townname\",type:\"text\",size:\"30\"' data-dojo-type=\"dijit/form/TextBox\"/></td></tr>\r\n\t<tr><td align=\"right\" class=\"prmaxrowtag\">County</td><td><input data-dojo-attach-point=\"county\" data-dojo-props='name:\"county\",type:\"text\"' data-dojo-type=\"dijit/form/TextBox\"/></td></tr>\r\n\t<tr><td align=\"right\" class=\"prmaxrowtag\">Postcode</td><td><input data-dojo-attach-point=\"postcode\" data-dojo-type=\"dijit/form/TextBox\" data-dojo-props='name:\"postcode\",type:\"text\",size:\"20\",maxlength:\"10\",style:\"width:10em\"'/></td></tr>\r\n\t<tr><td align=\"right\" class=\"prmaxrowtag\">Www</td><td><input data-dojo-attach-point=\"www\" data-dojo-type=\"dijit/form/TextBox\" data-dojo-props='name:\"www\",type:\"text\",size:\"40\",maxlength:\"120\",trim:true,style:\"width:30em\"'/></td></tr>\r\n\t<tr><td align=\"right\" class=\"prmaxrowtag\">Email</td><td><input data-dojo-attach-point=\"email\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='name:\"email\",type:\"text\",size:40,maxlength:80,trim:true,pattern:dojox.validate.regexp.emailAddress,trim:true,invalidMessage:\"invalid email address\",size:\"40\",maxlength:\"70\",style:\"width:24em\"'/></td></tr>\r\n\t<tr><td align=\"right\" class=\"prmaxrowtag\">Tel</td><td><input data-dojo-attach-point=\"tel\" data-dojo-props='name:\"tel\",type:\"text\",size:\"25\",maxlength:\"40\"' data-dojo-type=\"dijit/form/TextBox\"/></td></tr>\r\n\t<tr><td align=\"right\" class=\"prmaxrowtag\">Fax</td><td><input data-dojo-attach-point=\"fax\" data-dojo-props='name:\"fax\",type:\"text\",size:\"25\",maxlength:\"40\"' data-dojo-type=\"dijit/form/TextBox\"/></td></tr>\r\n\t<tr><td align=\"right\" class=\"prmaxrowtag\">Mobile</td><td><input data-dojo-attach-point=\"mobile\" data-dojo-props='name:\"mobile\",type:\"text\",size:\"25\",maxlength:\"40\"' data-dojo-type=\"dijit/form/TextBox\"/></td></tr>\r\n\t<tr><td align=\"right\" class=\"prmaxrowtag\">Twitter</td><td><input data-dojo-attach-point=\"twitter\" data-dojo-props='\"class\":\"prmaxinput\",name:\"twitter\",type:\"text\",maxlength:\"80\",pattern:dojox.validate.regexp.url,trim:true,style:\"width:90%\"' data-dojo-type=\"dijit/form/ValidationTextBox\"/></td></tr>\r\n\t<tr><td align=\"right\" class=\"prmaxrowtag\">Facebook</td><td><input data-dojo-attach-point=\"facebook\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"facebook\",type:\"text\",maxlength:80,pattern:dojox.validate.regexp.url,trim:true,style:\"width:90%\"'/></td></tr>\r\n\t<tr><td align=\"right\" class=\"prmaxrowtag\">Linkedin</td><td><input data-dojo-attach-point=\"linkedin\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"linkedin\",type:\"text\",maxlength:80,pattern:dojox.validate.regexp.url,trim:true,style:\"width:90%\"' /></td></tr>\r\n\t<tr><td align=\"right\" class=\"prmaxrowtag\">Instagram</td><td><input data-dojo-attach-point=\"instagram\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"instagram\",type:\"text\",maxlength:80,pattern:dojox.validate.regexp.url,trim:true,style:\"width:90%\"' /></td></tr>\r\n\r\n\t<tr><td align=\"right\"  valign=\"top\" class=\"prmaxrowtag\">Keywords</td><td><div  data-dojo-attach-point=\"interests\" data-dojo-type=\"prcommon2/interests/Interests\" data-dojo-props='name:\"interests\",title:\"\",startopen:true,restrict:0,selectonly:true,keytypeid:6,displaytitle:\"\"'></div></td></tr>\r\n\t<tr><td align=\"right\"  valign=\"top\" class=\"prmaxrowtag\">Profile</td><td><div class=\"dialogprofileframelarge\"><textarea data-dojo-attach-point=\"profile\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"profile\",style:\"width: 100%; height:100%\"' ></textarea></div></td></tr>\r\n\t<tr><td colspan=\"2\">&nbsp;</td></tr>\r\n\t<tr><td class=\"prmaxrowtag\" colspan=\"2\" align=\"center\" valign=\"top\">Reason </td></tr>\r\n\t<tr><td align=\"right\" class=\"prmaxrowtag\" >Code</td><td ><select data-dojo-attach-point=\"reasoncodeid\" data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-props='name:\"reasoncodeid\",searchAttr:\"name\",labelType:\"html\",style:\"width:98%\",\"class\":\"prmaxrequired\"' /></td></tr>\r\n\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Description</td><td ><div class=\"reasonframe\" ><textarea data-dojo-attach-point=\"reason\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"reason\",required:true,style:\"width:99%;height:80%\"'  ></textarea></div></td></tr>\r\n</table>\r\n</form>\r\n</div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"bottom\",style:\"width:100%;height:3em;padding-right:3px;\"'>\r\n\t\t<table style=\"width:100%;border-style:collapsed\"><tr><td align=\"right\">\r\n\t\t\t<button data-dojo-attach-point=\"savenode\"  data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='\"class\":\"prmaxbutton\",type:\"button\",busyLabel:\"Please Wait Saving...\",label:\"Add Freelancer\"' data-dojo-attach-event=\"onClick:_save\"></button>\r\n\t\t\t</td></tr></table>\r\n\t</div>\r\n</div>\r\n","url:prcommon2/outlet/templates/OutletSelect.html":"<div class=\"dijit dijitReset dijitInline dijitLeft dijitTextBox dijitValidationContainer dijitInputField dijitTextBox\">\r\n\t<p style=\"float:left;position:relative;top:3px;white-space: nowrap;overflow:hidden;width:60%\" class=\"PlaceHolder dijitReset\" data-dojo-attach-point=\"display\"></p>\r\n\t<button data-dojo-attach-event=\"onClick:_select\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Select an outlet\",style:\"float:right;padding:0px;margin:0px\",iconClass:\"fa fa-search\",showLabel: false',\"class\",\"dijitReset\"></button>\r\n\t<button data-dojo-attach-point=\"clearbtn\" data-dojo-attach-event=\"onClick:_clear\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='style:\"float:right;padding:0px;margin:0px\",type:\"button\",label:\"Clear current selection\",\"class\":\"prmaxhidden dijitReset\",iconClass:\"fa fa-eraser\",showLabel: false'></button>\r\n\t<button data-dojo-attach-point=\"parentbtn\" data-dojo-attach-event=\"onClick:_load_parent_outlet\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='style:\"float:right;padding:0px;margin:0px\",type:\"button\",label:\"Load Parent Outlet\",\"class\":\"prmaxhidden dijitReset\",iconClass:\"fa fa-level-up fa-fw\",showLabel: false'></button>\r\n\t<div data-dojo-attach-point=\"select_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Select Publication\",style:\"height:590px;width:650px;overflow:hidden\"'>\r\n\t\t<div data-dojo-props='style:\"width:100%;height:250px\"' data-dojo-type=\"dijit/layout/ContentPane\">\r\n\t\t\t<div data-dojo-props='style:\"width:100%:height:250px\",\"class\":\"scrollpanel\",searchtypeid:6' data-dojo-attach-point=\"search_form_pane\" data-dojo-type=\"prcommon2/search/OutletSearch\"></div>\r\n\t\t</div>\r\n\t\t<div data-dojo-props='style:\"width:100%;height:250px;overflow:hidden\"' data-dojo-attach-point=\"select_search_view\" data-dojo-type=\"dijit/layout/ContentPane\"></div>\r\n\t\t<div data-dojo-props='style:\"width:100%;height:50px;overflow:hidden\"'  data-dojo-type=\"dijit/layout/ContentPane\">\r\n\t\t\t<button data-dojo-attach-event=\"onClick:_close\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Close\"'></button>\r\n\t\t\t<button data-dojo-attach-point=\"searchbutton\" data-dojo-attach-event=\"onClick:_search\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='style:\"float:right;padding-right:20px\",\"class\":\"prmaxbutton\",busyLabel:\"Searching...\",label:\"Search\"' ></button>\r\n\t\t</div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"selectdetails_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Publication Details\",style:\"width:600px;height:520px\"'>\r\n\t\t<div data-dojo-attach-point=\"selectdetails_ctrl\" data-dojo-type=\"prcommon2/outlet/OutletSelectDetails\" data-dojo-props='style:\"width:590px;height:490px\"'></div>\r\n\t</div>\r\n\r\n</div>\r\n\r\n\r\n\r\n","url:research/questionnaires/templates/UserModified.html":"<div><img data-dojo-attach-event=\"onclick:_swap_data_view\" data-dojo-attach-point=\"change_view\" class=\"prmaxhidden\" src=\"prcommon/images/view_emphasised.png\"></img></div>","url:research/templates/frame.html":"<div>\r\n\t<div data-dojo-type=\"dojox/layout/ExpandoPane\" data-dojo-props='\"class\":\"bordered\",title:\"Research\",region:\"left\",maxWidth:175,style:\"margin:0px;padding:0px;width:15%;height:100%\"' >\r\n\t\t<div data-dojo-type=\"dojo/data/ItemFileReadStore\" data-dojo-id=\"catStore\" data-dojo-props='url:\"/research/frame/options\"'></div>\r\n\t\t<div data-dojo-type=\"dijit/tree/ForestStoreModel\" data-dojo-id=\"catModel\" query=\"{type:'1'}\" childrenAttrs=\"children\" store=\"catStore\" rootId=\"root\" rootLabel=\"root\"></div>\r\n\t\t<div data-dojo-type=\"dijit/Tree\" data-dojo-props='\"class\":\"bordered\",model:catModel,showRoot:false' data-dojo-attach-event=\"onClick: _SelectNode\" ></div>\r\n</div>\r\n\t<div data-dojo-type=\"dijit/layout/StackContainer\" data-dojo-attach-point=\"zone\" data-dojo-props='region:\"center\",\"class\":\"bordered\"'></div>\r\n</div>","url:research/translations/templates/basicedit.html":"<div>\r\n\t<form data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\">\r\n\t\t<input data-dojo-props='type:\"hidden\",value:\"-1\",name:\"datasourcetranslationid\"' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"datasourcetranslationid\"/>\r\n\t\t<table width=\"550px\" cellspacing=\"0\" cellpadding=\"0\" style=\"border-collapse: collapse\" >\r\n\t\t\t<tr><td>&nbsp;</td></tr>\r\n\t\t\t<tr><td class=\"prmaxrowtag\" align=\"right\" width=\"250px\" >Translation</td><td><input data-dojo-props='style:\"width:300px\",\"class\":\"prmaxrequired\",name:\"translation\",type:\"text\",trim:true,required:true' data-dojo-attach-point=\"translation\" data-dojo-type=\"dijit/form/ValidationTextBox\"/></td></tr>\r\n\t\t\t<tr><td>&nbsp;</td></tr>\r\n\t\t\t<tr><td class=\"prmaxrowtag\" align=\"right\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",name:\"submit\",label:\"Update\"' data-dojo-attach-event=\"onClick:_update_translation\" ></button></td></tr>\r\n\t\t</table>\r\n\t\t<br/>\r\n\t</form>\r\n</div>\r\n\r\n","url:prcommon2/search/templates/person.html":"<table width=\"99%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\" >\r\n<tr>\r\n<td width=\"20%\" ><span class=\"prmaxrowtag\">Surname</span></td>\r\n<td width=\"40%\" ><input data-dojo-props='type:\"text\",trim:true,maxlength:\"84\",style:\"width:90%\",\"class\":\"prmaxinput\"' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"data_surname\" data-dojo-attach-event=\"onBlur:_onChange\" /></td>\r\n<td width=\"10%\" ><span class=\"prmaxrowtag\">Firstname</span></td>\r\n<td width=\"20%\" ><input data-dojo-props='type:\"text\",trim:true,maxlength:\"10\",style:\"width:90%\",\"class\":\"prmaxinput\",disabled:true' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"data_firstname\" data-dojo-attach-event=\"onBlur:_onChange\" /></td>\r\n<td align=\"right\"><div data-dojo-attach-point=\"countnode\" data-dojo-type=\"prcommon2/search/SearchCount\"></div></td></tr></table >\r\n","url:research/outlets/templates/Coding.html":"<div >\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='style:\"overflow:auto;overflow-x:hidden\",region:\"center\"' >\r\n\t\t<form  data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\" data-dojo-props='onsubmit:\"return false;\"'>\r\n\t\t\t<input data-dojo-props='type:\"hidden\",name:\"outletid\",value:\"-1\"' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"outletid\">\r\n\t\t\t<table width=\"98%\" cellspacing=\"1\" cellpadding=\"1\">\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Supplement of</td><td><div data-dojo-type=\"prcommon2/outlet/OutletSelect\" data-dojo-attach-point=\"supplementofid\" data-dojo-props='name:\"supplementofid\"'></div></td><tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Outlet Supplements</td><td><div data-dojo-type=\"prcommon2/outlet/SelectMultipleOutlets\" data-dojo-attach-point=\"supplements\" data-dojo-props='value:\"\",name:\"supplements\"'></div></td><tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Series Parent</td><td><div data-dojo-type=\"prcommon2/outlet/OutletSelect\" data-dojo-attach-point=\"seriesparentid\" data-dojo-props='name:\"seriesparentid\"'></div></td><tr>\r\n\t\t\t\t<tr id='${prefix}_serieschildren_tr'><tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Media Channel</td><td class=\"prmaxrowdisplay\"><select data-dojo-props='style:\"width:90%\",\"class\":\"prmaxrequired\",name:\"prmax_outlettypeid\",autoComplete:true,searchAttr:\"name\",required:true,invalidMessage:\"Please select outlet type\",labelType:\"html\"' data-dojo-type=\"dijit/form/FilteringSelect\"  data-dojo-attach-point=\"prmax_outlettypeid\"></select></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Keywords</td><td ><div data-dojo-type=\"prcommon2/interests/Interests\" data-dojo-attach-point=\"interests\" data-dojo-props='name:\"interests\",selectonly:true,size:6,displaytitle:\"\",startopen:true,restrict:0,keytypeid:6,title:\"Select\"'></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Geo. Coverage</td><td ><div data-dojo-attach-point=\"coverage\" data-dojo-type=\"prcommon2/geographical/Geographical\" data-dojo-props='name:\"coverage\",selectonly:true,size:6,displaytitle:\"\",startopen:true,title:\"Select\"'></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Primary Market Sector</td><td class=\"prmaxrowdisplay\"><select data-dojo-props='style:\"width:90%\",name:\"marketsectorprimaryid\",autoComplete:true,searchAttr:\"marketsectordescription\",required:false,placeHolder:\"No Selection\",invalidMessage:\"Please select Primary Market Sector\",labelType:\"html\"' data-dojo-type=\"dijit/form/FilteringSelect\"  data-dojo-attach-point=\"marketsectorprimaryid\"></select></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Secondary Market Sector</td><td class=\"prmaxrowdisplay\"><select data-dojo-props='style:\"width:90%\",name:\"marketsectorsecondaryid\",autoComplete:true,searchAttr:\"marketsectordescription\",required:false,placeHolder:\"No Selection\",invalidMessage:\"Please select Secondary Market Sector\",labelType:\"html\"' data-dojo-type=\"dijit/form/FilteringSelect\"  data-dojo-attach-point=\"marketsectorsecondaryid\"></select></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Tertiary Market Sector</td><td class=\"prmaxrowdisplay\"><select data-dojo-props='style:\"width:90%\",name:\"marketsectortertiaryid\",autoComplete:true,searchAttr:\"marketsectordescription\",required:false,placeHolder:\"No Selection\",invalidMessage:\"Please select Tertiary Market Sector\",labelType:\"html\"' data-dojo-type=\"dijit/form/FilteringSelect\"  data-dojo-attach-point=\"marketsectortertiaryid\"></select></td></tr>\r\n\t\t\t</table>\r\n\t\t</form>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"bottom\", style:\"width:100%;height:40px;padding:5px\"' >\r\n\t\t<table width=\"100%\" cellspacing=\"0\" cellpadding=\"0\">\r\n\t\t\t<tr>\r\n\t\t\t\t<td align=\"left\"><button data-dojo-attach-event=\"onClick:_delete\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Delete Outlet\"'></button></td>\r\n\t\t\t\t<td><label class=\"prmaxrowtag\">Reason</label><select data-dojo-attach-point=\"reasoncodeid\" data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-props='name:\"reasoncodeid\",searchAttr:\"name\",labelType:\"html\",\"class\":\"prmaxrequired\",style:\"width:120px\"'></select></td>\r\n\t\t\t\t<td><button data-dojo-attach-event=\"onClick:_update_coding\" data-dojo-attach-point=\"savenode\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='style:\"float:right\",type:\"button\",busyLabel:\"Please Wait Saving...\",label:\"Save\"'></button></td>\r\n\t\t\t</tr>\r\n\t\t</table>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"outlet_delete_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Delete Outlet\"'>\r\n\t\t<div data-dojo-attach-point=\"outlet_delete_ctrl\" data-dojo-type=\"research/outlets/OutletDelete\"></div>\r\n\t</div>\r\n</div>\r\n","url:prcommon2/advance/templates/advance.html":"<div class=\"prmaxhidden\">\r\n\t<form  data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\" onsubmit=\"return false;\" style=\"width:100%;height:100%\">\r\n\t\t<br/>\r\n\t\t<input type=\"hidden\" name=\"outletid\" value=\"-1\" data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"outletid\">\r\n\t\t<input type=\"hidden\" name=\"advancefeatureid\" value=\"-1\" data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"advancefeatureid\">\r\n\t\t<table style=\"width:97%\" cellpadding=\"1\" cellspacing=\"0\">\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" width=\"120px\">Editorial Date</td><td><input data-dojo-props='type:\"text\",style:\"width:25em\",name:\"editorial\",required:false' data-dojo-attach-point=\"editorial_date\" data-dojo-type=\"prcommon2/date/DateExtended\" /></td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Cover Date</td><td><input data-dojo-props='style:\"width:25em\",name:\"cover\",required:true' data-dojo-type=\"prcommon2/date/DateExtended\" data-dojo-attach-point=\"cover_date\"></td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Publication Date</td><td><input data-dojo-props='style:\"width:25em\",name:\"publicationdate\",required:true' data-dojo-type=\"prcommon2/date/DateExtended\" data-dojo-attach-point=\"publication_date\"></td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Summary</td><td><input data-dojo-props='maxLength:120,required:true,style:\"width:95%\",name:\"feature\",type:\"text\"' data-dojo-attach-point=\"feature\" data-dojo-type=\"dijit/form/ValidationTextBox\" ></td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Contact</td><td><select data-dojo-props='style:\"width:100%\",name:\"employeeid\",\"class\":\"prmaxinput\",autoComplete:true,searchAttr:\"displayname\",labelAttr:\"displayname\",labelType:\"html\",maxlength:80' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"employeeid\" ></select></td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Feature Details</td><td>&nbsp;\t</td></tr>\r\n\t\t\t<tr><td colspan=\"2\"><div class=\"stdframe\" style=\"height:200px;margin-left:10px\"><textarea data-dojo-attach-point=\"featuredescription\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"featuredescription\",required:true,style:\"height:300px;width:99%\"'></textarea></div></td></tr>\r\n<!--\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\" >Feature Interest</td><td><div data-dojo-attach-point=\"interests\" data-dojo-type=\"prcommon2/interests/Interests\" data-dojo-props='\"name\":\"interests\",selectonly:true,size:6,displaytitle:\"\",startopen:\"\",restrict:0,keytypeid:-1,title:\"Select\"'></div></td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" >Reason Code</td><td ><select data-dojo-attach-point=\"reasoncodeid\" data-dojo-type =\"dijit/form/Select\" data-dojo-props='name:\"reasoncodeid\",searchAttr:\"name\",labelType:\"html\",class:\"prmaxrequired\"'  /></td></tr>\r\n-->\r\n\t\t\t<tr><td align=\"right\" colspan=\"2\"><br/><button data-dojo-attach-point=\"savenode\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='type:\"button\",\"class\":\"prmaxbutton\",busyLabel:\"Please Wait Saving...\",label:\"Save\"' data-dojo-attach-event=\"onClick:_save\"></button></td></tr>\r\n\t\t</table>\r\n\t</form>\r\n</div>\r\n","url:research/employees/templates/ContactInterests.html":"<div style=\"width:500px\" >\r\n\t<form  data-dojo-attach-point=\"form\" data-dojo-type=\"dijit/form/Form\" data-dojo-props='\"class\":\"prmaxdefault\",onsubmit:\"return false;\"'>\r\n\t\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\"  border =\"0\">\r\n\t\t\t<tr><td align=\"left\" class=\"prmaxrowtag\" width=\"40%\"></td><td></td></tr>\r\n\t\t\t<tr><td colspan=\"2\"><div data-dojo-props='style:\"width:99%\",keytypeid:-1,restrict:0,size:8,name:\"interests\",startopen:true,selectonly:true' data-dojo-type=\"prcommon2/interests/Interests\"></div></td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Remove Existing Keywords</td><td><input data-dojo-props='name:\"append_mode\",name:\"append_mode\"' data-dojo-type=\"dijit/form/CheckBox\" data-dojo-attach-point=\"append_mode\"></td></tr>\r\n\t\t\t<tr><td colspan=\"2\">&nbsp;</td></tr>\r\n\t\t\t<tr><td colspan=\"2\" align=\"right\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:_change_interests\" data-dojo-props='type:\"button\",name:\"submit\"'>Change Contact Keywords</button></td></tr>\r\n\t\t</table>\r\n\t</form>\r\n</div>\r\n","url:research/outlets/templates/OutletSetPrimary.html":"<div style=\"width:400px;height:140px;\" >\r\n\t<form  class=\"prmaxdefault\" data-dojo-attach-point=\"form\" data-dojo-type=\"dijit/form/Form\" onsubmit=\"return false;\">\r\n\t\t<input data-dojo-attach-point=\"employeeid\" name=\"employeeid\" type=\"hidden\" data-dojo-type=\"dijit/form/TextBox\" >\r\n\t\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\"  border =\"0\">\r\n\t\t\t<tr><td  align=\"center\" data-dojo-attach-point=\"heading\" class=\"prmaxrowdisplaylarge\" colspan=\"2\" ></td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Reason</td><td ><select data-dojo-attach-point=\"reasoncodes\" data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-props='name:\"reasoncodeid\",searchAttr:\"name\",labelType:\"html\",style:\"width:98%\"'/></td></tr>\r\n<!--\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Reason</td><td ><select data-dojo-attach-point=\"reasoncodes\" data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-props='name:\"reasoncodeid\",searchAttr:\"name\",labelType:\"html\",style:\"width:98%\",\"class\":\"prmaxrequired\"'/></td></tr>\r\n\t\t\t<tr><td  align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Description</td><td  ><div class=\"reasonframe\" ><textarea data-dojo-attach-point=\"reason\" data-dojo-type=\"dijit/form/Textarea\"  data-dojo-props='name:\"reason\",style:\"width:99%;height:80%;\"'></textarea></div></td></tr>\r\n-->\r\n\t\t</table>\r\n\t</form>\r\n\t<br/><br/>\r\n\t<button data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:_set_primary_submit\" data-dojo-props='style:\"float:right;\",type:\"button\",name:\"submit\"'>Set Primary Contact</button>\r\n</div>\r\n","url:prcommon2/outlet/templates/SelectMultipleOutlets.html":"<div >\r\n\t<div class=\"dojolanguagesPane\" >\r\n\t\t<div data-dojo-attach-point=\"selectarea\" class=\"prmaxselectmultiple\" >\r\n\t\t\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\r\n\t\t\t\t  <tr><td width=\"60%\"></td><td width=\"5%\"></td></tr>\r\n\t\t\t\t  <tr>\r\n\t\t\t\t\t<td><select style=\"width:100%\" data-dojo-attach-point=\"outlet_select\" size=\"${size}\" class=\"lists\"  data-dojo-attach-event=\"onchange:outlets_update_selection\"></select></td>\r\n\t\t\t\t  <td valign=\"top\">\r\n\t\t\t\t\t<button style=\"padding:0px;margin:0px\" data-dojo-props='type:\"button\",label:\"Select\"' data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:_select_outlet\"></button>\r\n\t\t\t\t\t<button class=\"button_del_all\" style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"button_del_all\" data-dojo-props='disabled:true,type:\"button\"' data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:outlets_remove_all\"><div class=\"std_movement_button\">&lt;&lt;</div></button><br/>\r\n\t\t\t\t\t<button class=\"button_del_single\" style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"button_del_single\" data-dojo-props='disabled:true,type:\"button\"' data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:outlets_remove_single\"><div class=\"std_movement_button\">&lt;&nbsp;</div></button></td>\r\n\t\t\t\t  <td ></td>\r\n\t\t\t\t  </tr>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t</div>\r\n\t\t<div data-dojo-attach-point=\"select_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Select Publication\"'>\r\n\t\t\t<div data-dojo-attach-point=\"select_ctrl\" data-dojo-type=\"prcommon2/outlet/OutletSelectPanel\" data-dojo-props='style:\"width:500px;height:600px\"'></div>\r\n\t</div>\r\n</div>\r\n","url:research/questionnaires/templates/EmployeeDelete.html":"<div >\r\n\t<div data-dojo-attach-point=\"dialog_ctrl\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Delete Contact\",style:\"width:400px\"'>\r\n\t\t<form  data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\" data-dojo-props='onsubmit:\"return false;\"'>\r\n\t\t\t<input data-dojo-props='type:\"hidden\",name:\"objectid\",value:\"-1\"' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"objectid\">\r\n\t\t\t\t<p class=\"prmaxrowtag\" style=\"text-align:center\" data-dojo-attach-point=\"employee_name\"></p>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<label class=\"prmaxrowtag\"><input data-dojo-attach-point=\"delete_completely\" data-dojo-type=\"dijit/form/RadioButton\" data-dojo-props='name:\"delete_option\",\"class\":\"prmaxdefault\",checked:\"checked\",type:\"radio\",value:\"1\"'/>Delete completely</label><br/>\r\n\t\t\t\t<label class=\"prmaxrowtag\"><input data-dojo-attach-point=\"delete_and_retain\" data-dojo-type=\"dijit/form/RadioButton\" data-dojo-props='name:\"delete_option\",\"class\":\"prmaxdefault\",type:\"radio\",value:\"2\"'/>Delete contact and retain role</label><br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<button data-dojo-attach-point=\"savenode\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='style:\"float:right\",type:\"button\",label:\"Delete Contact\",busyLabel:\"Please Wait Saving ...\"' data-dojo-attach-event=\"onClick:_delete_contact\"></button>\r\n\t\t\t\t<br/>\r\n\t\t</form>\r\n\t</div>\r\n</div>\r\n","url:prcommon2/web/templates/WebSourcesAdd.html":"<div style=\"border: 1px solid black\">\r\n<form  data-dojo-props='onsubmit:\"return false\",\"class\":\"prmaxdefault\"' data-dojo-attach-point=\"form\" data-dojo-type=\"dijit/form/Form\">\r\n\t<input data-dojo-props='name:\"websourceid\",type:\"hidden\",value:-1'  data-dojo-attach-point=\"websourceid\" data-dojo-type=\"dijit/form/TextBox\"/>\r\n\t\t<table cellspacing=\"0\" cellpadding=\"0\" width=\"400px\">\r\n\t\t<tr><td colspan=\"2\">&nbsp;</td></tr>\r\n\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" >Web Source</td><td ><input data-dojo-props='\"class\":\"prmaxinput\",name:\"websourcedescription\",type:\"text\",trim:true,required:true,style:\"width:90%\",placeHolder:\"Web Source Name\"'  data-dojo-attach-point=\"websourcedescription\" data-dojo-type=\"dijit/form/ValidationTextBox\" ></input></td></tr>\r\n\t\t<tr><td colspan=\"2\">&nbsp;</td></tr>\r\n\t\t<tr><td data-dojo-attach-point=\"close_button\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Close\"' data-dojo-attach-event=\"onClick:_close\"></button></td><td colspan=\"3\" align=\"right\"><button data-dojo-attach-event=\"onClick:_add_publisher\" data-dojo-attach-point=\"savenode\" data-dojo-type=\"dojox/form/BusyButton\" type=\"button\" busyLabel=\"Please Wait Saving...\" label=\"Save\"></button></td></tr>\r\n\t</table>\r\n</form>\r\n</div>\r\n","url:prcommon2/contact/templates/ContactSelectMain.html":"<div class=\"dijit dijitReset dijitInline dijitLeft dijitTextBox dijitValidationContainer dijitInputField dijitTextBox\">\r\n\t<p style=\"float:left;position:relative;top:3px;white-space: nowrap;overflow:hidden;width:60%\" class=\"PlaceHolder dijitReset\" data-dojo-attach-point=\"display\"></p>\r\n\t<button data-dojo-attach-event=\"onClick:_select\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Select a contact\",style:\"float:right;padding:0px;margin:0px\",iconClass:\"fa fa-search\",showLabel: false',\"class\",\"dijitReset\"></button>\r\n\t<div data-dojo-attach-point=\"select_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Select Contact\"'>\r\n\t\t<div data-dojo-attach-point=\"frame\" data-dojo-type=\"dijit/layout/BorderContainer\" data-dojo-props='style:\"height:500px;width:500px\"'>\r\n\t\t\t<div data-dojo-attach-point=\"searchFrame\" data-dojo-props='region:\"top\",style:\"width:100%;height:100px\",splitter:true'  data-dojo-type=\"dijit/layout/ContentPane\">\r\n\t\t\t\t<table>\r\n\t\t\t\t\t<tr><td><label>Surname</label></td><td><input data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"filter\" data-dojo-props='name:\"filter\",trim:true,maxlength:45,type:\"text\"'  ></td></tr>\r\n\t\t\t\t\t<tr><td><label>Person Id</label></td><td><input data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"filter_personid\" data-dojo-props='name:\"filter_personid\",trim:true,maxlength:45,type:\"text\"'></td></tr>\r\n\t\t\t\t\t<tr><td><button data-dojo-attach-point=\"newbutton\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"New Person\"' data-dojo-attach-event=\"onClick:_add_contact\"></button></td>\r\n\t\t\t\t\t<td><button data-dojo-attach-point=\"clearbutton\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Clear Search\"' data-dojo-attach-event=\"onClick:_clear_search\"></button></td></tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t\t<div data-dojo-props='region:\"center\",splitter:true' data-dojo-attach-point=\"people_grid_view\" data-dojo-type=\"dijit/layout/ContentPane\"></div>\r\n\t\t\t<div data-dojo-props='region:\"bottom\",style:\"width:100%\",height:\"2em\"' data-dojo-type=\"dijit/layout/ContentPane\">\r\n\t\t\t\t<button data-dojo-attach-event=\"onClick:_close\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Close\"'></button>\r\n\t\t\t\t<button data-dojo-attach-point=\"searchbutton\" data-dojo-attach-event=\"onClick:_search\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='style:\"float:right\",\"class\":\"prmaxbutton\",busyLabel:\"Searching...\",label:\"Search\"' ></button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<div data-dojo-attach-point=\"person_add_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Add Contact\",style:\"width:400px;height:200px\"' >\r\n\t\t<div data-dojo-attach-point=\"person_add_ctrl\" data-dojo-type=\"research/employees/PersonNew\"></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"person_edit_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Contact Info\"' >\r\n\t\t<div data-dojo-attach-point=\"person_edit_ctrl\" data-dojo-type=\"research/employees/PersonEdit\" data-dojo-props='style:\"width:820px;height:700px\"'></div>\r\n\t</div>\r\n\r\n</div>\r\n","url:research/questionnaires/templates/Coding.html":"<div >\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='style:\"overflow:auto;overflow-x:hidden\",region:\"center\"' >\r\n\t\t<form  data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\" data-dojo-props='onsubmit:\"return false;\"'>\r\n\t\t\t<input data-dojo-props='type:\"hidden\",name:\"researchprojectitemid\",value:\"-1\"' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"researchprojectitemid\">\r\n\t\t\t<table width=\"98%\" cellspacing=\"0\" cellpadding=\"0\">\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Supplement of</td><td><div data-dojo-type=\"prcommon2/outlet/OutletSelect\" data-dojo-attach-point=\"supplementofid\" data-dojo-props='name:\"supplementofid\"'></div></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"suppllementofid_modified\"></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Outlet Supplements</td><td><div data-dojo-type=\"prcommon2/outlet/SelectMultipleOutlets\" data-dojo-attach-point=\"supplements\" data-dojo-props='value:\"\",name:\"supplements\"'></div></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"supplements_modified\"></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Series Parent</td><td><div data-dojo-type=\"prcommon2/outlet/OutletSelect\" data-dojo-attach-point=\"seriesparentid\" data-dojo-props='name:\"seriesparentid\"'></div></td><tr>\r\n\t\t\t\t<tr id='serieschildren_tr'><tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Series Feedback</td><td data-dojo-attach-point=\"seriesfeedback\"></td></tr>\r\n\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Media Channel</td><td class=\"prmaxrowdisplay\"><select data-dojo-props='style:\"width:90%\",\"class\":\"prmaxrequired\",name:\"prmax_outlettypeid\",autoComplete:true,searchAttr:\"name\",required:true,invalidMessage:\"Please select outlet type\",labelType:\"html\"' data-dojo-type=\"dijit/form/FilteringSelect\"  data-dojo-attach-point=\"prmax_outlettypeid\"></select></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Keywords</td><td ><div data-dojo-type=\"prcommon2/interests/Interests\" data-dojo-attach-point=\"interests\" data-dojo-props='name:\"interests\",selectonly:true,size:6,displaytitle:\"\",startopen:true,restrict:0,keytypeid:6,title:\"Select\"'></div></td></tr>\r\n\t\t\t</table>\r\n\t\t</form>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"bottom\", style:\"width:100%;height:40px;padding:5px\"' >\r\n\t\t\t<label class=\"prmaxrowtag\">Reason Code</label><select data-dojo-attach-point=\"reasoncodeid\" data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-props='name:\"reasoncodeid\",searchAttr:\"name\",labelType:\"html\",\"class\":\"prmaxrequired\"'></select>\r\n\t\t\t<button data-dojo-attach-event=\"onClick:_update_coding\" data-dojo-attach-point=\"savenode\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='style:\"float:right\",type:\"button\",busyLabel:\"Please Wait Saving...\",label:\"Save\"'></button>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"publisher_add_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Publisher Add\"'>\r\n\t\t<div data-dojo-attach-point=\"publisher_add_ctrl\" data-dojo-type=\"prcommon2/publisher/PublisherAdd\"></div>\r\n\t</div>\r\n</div>\r\n","url:research/outlets/templates/Profile.html":"<div >\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='style:\"overflow:auto;overflow-x:hidden\",region:\"center\"' >\r\n\t\t<form  data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\" data-dojo-props='onsubmit:\"return false;\"'>\r\n\t\t\t<input data-dojo-props='type:\"hidden\",name:\"outletid\",value:\"-1\"' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"outletid\">\r\n\t\t\t<table width=\"98%\" cellspacing=\"0\" cellpadding=\"0\">\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Publisher/Broadcaster</td><td><select data-dojo-props='style:\"width:15em\",name:\"publisherid\",autoComplete:true,searchAttr:\"publishername\",required:false,placeHolder:\"No Selection\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"publisherid\"></select></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Primary Language</td><td><select data-dojo-props='style:\"width:15em\",name:\"language1id\",autoComplete:true,searchAttr:\"name\",required:false,placeHolder:\"No Selection\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"language1id\"></select></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Other Language</td><td><select data-dojo-props='style:\"width:15em\",name:\"language2id\",autoComplete:true,searchAttr:\"name\",required:false,placeHolder:\"No Selection\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"language2id\"></select></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Profile</td><td ><div class=\"stdtextframe\" ><textarea data-dojo-attach-point=\"editorialprofile\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"editorialprofile\",style:\"width:99%;height:99%;overflow:hidden\"'  ></textarea></div></td><td valign=\"top\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='\"class\":\"prmaxdefault\",type:\"button\",label:\"Expand\"' data-dojo-attach-event=\"onClick:_expand_profile\"></button></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Readership</td><td ><div class=\"stdtextframe\" ><textarea data-dojo-attach-point=\"readership\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"readership\",style:\"width:99%;height:99%\"'  ></textarea></div></td><td valign=\"top\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='\"class\":\"prmaxdefault\",type:\"button\",label:\"Expand\"' data-dojo-attach-event=\"onClick:_expand_readership\"></button></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">PAMco</td><td ><div class=\"stdtextframe\" ><textarea data-dojo-attach-point=\"nrsreadership\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"nrsreadership\",style:\"width:99%;height:99%\"'  ></textarea></div></td><td valign=\"top\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='\"class\":\"prmaxdefault\",type:\"button\",label:\"Expand\"' data-dojo-attach-event=\"onClick:_expand_nrsreadership\"></button></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">JICREG Readership</td><td ><div class=\"stdtextframe\" ><textarea data-dojo-attach-point=\"jicregreadership\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"jicregreadership\",style:\"width:99%;height:99%\"'  ></textarea></div></td><td valign=\"top\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='\"class\":\"prmaxdefault\",type:\"button\",label:\"Expand\"' data-dojo-attach-event=\"onClick:_expand_jicreg_readership\"></button></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Production Company</td><td><select data-dojo-props='style:\"width:15em\",name:\"productioncompanyid\",autoComplete:true,searchAttr:\"productioncompanydescription\",required:false,placeHolder:\"No Selection\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"productioncompanyid\"></select></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Broadcast Times</td><td ><div class=\"stdtextframe\" ><textarea data-dojo-attach-point=\"broadcasttimes\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"broadcasttimes\",style:\"width:99%;height:99%\"'  ></textarea></div></td><td valign=\"top\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='\"class\":\"prmaxdefault\",type:\"button\",label:\"Expand\"' data-dojo-attach-event=\"onClick:_expand_broadcast\"></button></td></tr>\r\n<!--\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Deadlines</td><td ><div class=\"stdtextframe\" ><textarea data-dojo-attach-point=\"deadline\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"deadline\",style:\"width:99%;height:99%\"' ></textarea></div></td><td valign=\"top\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='\"class\":\"prmaxdefault\",type:\"button\",label:\"Expand\"' data-dojo-attach-event=\"onClick:_expand_deadline\"></button></td></tr>\r\n-->\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Web Profile Page</td><td><input data-dojo-attach-point=\"web_profile_link\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"web_profile_link\",type:\"text\",maxlength:\"120\",pattern:dojox.validate.regexp.url,style:\"width:90%\"' /></td></tr>\r\n\t \t\t</table>\r\n\t\t</form>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"bottom\", style:\"width:100%;height:40px;padding:5px\"' >\r\n\t\t<table width=\"100%\" cellspacing=\"0\" cellpadding=\"0\">\r\n\t\t\t<tr>\r\n\t\t\t\t<td align=\"left\"><button data-dojo-attach-event=\"onClick:_delete\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Delete Outlet\"'></button></td>\r\n\t\t\t\t<td align=\"left\"><label class=\"prmaxrowtag\">Reason</label><select data-dojo-attach-point=\"reasoncodeid\" data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-props='name:\"reasoncodeid\",searchAttr:\"name\",labelType:\"html\",\"class\":\"prmaxrequired\",style:\"width:120px\"'></select></td>\r\n\t\t\t\t<td><button data-dojo-attach-event=\"onClick:_show_old_profile\" data-dojo-type=\"dijit/form/Button\">Show Old Profile</button></td>\r\n\t\t\t\t<td><button data-dojo-attach-event=\"onClick:_update_profile\" data-dojo-attach-point=\"savenode\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='style:\"float:right\",type:\"button\",busyLabel:\"Please Wait Saving...\",label:\"Save\"'></button></td>\r\n\t\t\t</tr>\r\n\t\t</table>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"publisher_add_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Publisher Add\"'>\r\n\t\t<div data-dojo-attach-point=\"publisher_add_ctrl\" data-dojo-type=\"prcommon2/publisher/PublisherAdd\"></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"production_add_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Production Company\"'>\r\n\t\t<div data-dojo-attach-point=\"production_add_ctrl\" data-dojo-type=\"prcommon2/production/ProductionCompanyAdd\"></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"outlet_delete_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Delete Outlet\"'>\r\n\t\t<div data-dojo-attach-point=\"outlet_delete_ctrl\" data-dojo-type=\"research/outlets/OutletDelete\"></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"text_view_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Add Notes\"'>\r\n\t\t<div data-dojo-attach-point=\"text_view_ctrl\" data-dojo-type=\"prcommon2/common/ExpandedText\" data-dojo-props='style:\"width:600px;height:500px\"'></div>\r\n\t</div>\r\n\r\n\t<form data-dojo-attach-point=\"old_profile_form\" target=\"_newtab\" action=\"/research/admin/outlets/old_profile\" method=\"post\">\r\n\t\t<input type=\"hidden\" name=\"outletid\" data-dojo-attach-point=\"old_profile_outletid\">\r\n\t</form>\r\n\r\n</div>\r\n","url:prcommon2/search/templates/SearchCount.html":"<div data-dojo-attach-point=\"innerNode\" class=\"prmaxsearchcount\">&nbsp;</div>","url:prcommon2/search/templates/FreelanceSearch.html":"<div class=\"searchform\">\r\n\t<div class=\"paddingcell\" >\r\n\t\t<form data-dojo-props='\"class\":\"prmaxdefault\",name:\"std_search_freelance\",cellspacing:\"0\",cellpadding:\"0\",onsubmit:\"return false\",formid:\"search_freelance\"' data-dojo-attach-point=\"form_name\" data-dojo-type=\"ttl/Form2\" >\r\n\t\t\t<input type=\"hidden\" value=\"freelance\"  name=\"search_type\" data-dojo-type=\"dijit/form/TextBox\" />\r\n\t\t\t<div class=\"paddingrow\">&nbsp;</div>\r\n\t\t\t<div data-dojo-props='usepartial:true,search:\"std_search_freelance\",keytypeid:136,name:\"freelance_searchname_ext\"' data-dojo-type=\"prcommon2/search/person\"></div>\r\n\t\t\t<hr/>\r\n\t\t\t<div data-dojo-props='search:\"std_search_freelance\",displayname:\"Email\",keytypeid:113,name:\"freelance_email\"' data-dojo-type=\"prcommon2/search/standard\"></div>\r\n\t\t\t<hr/>\r\n\t\t\t<div data-dojo-props='search:\"std_search_freelance\",displayname:\"Tel\",keytypeid:112,name:\"freelance_tel\"' data-dojo-type=\"prcommon2/search/standard\"></div>\r\n\t\t\t<hr/>\r\n\t\t\t<div data-dojo-props='search:\"std_search_freelance\",style:\"width:99%\",keytypeid:14, name:\"freelance_interests\"' data-dojo-type=\"prcommon2/interests/Interests\"></div>\r\n\t\t\t<hr/>\r\n\t\t\t<div data-dojo-props='search:\"std_search_freelance\",displayname:\"Profile\",keytypeid:115,name:\"freelance_profile\"' data-dojo-type=\"prcommon2/search/standard\"></div>\r\n\t\t\t<hr/>\r\n\t\t\t<input data-dojo-props='type:\"hidden\",name:\"searchtypeid\",value:1' data-dojo-attach-point=\"searchtypeid\" data-dojo-type=\"dijit/form/TextBox\"/>\r\n\t\t\t<input type=\"submit\" style=\"display:none\"/>\r\n\t\t</form>\r\n\t</div>\r\n</div>","url:dijit/form/templates/ComboButton.html":"<table class=\"dijit dijitReset dijitInline dijitLeft\"\r\n\tcellspacing='0' cellpadding='0' role=\"presentation\"\r\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\r\n\t\t><td class=\"dijitReset dijitStretch dijitButtonNode\" data-dojo-attach-point=\"buttonNode\" data-dojo-attach-event=\"ondijitclick:__onClick,onkeydown:_onButtonKeyDown\"\r\n\t\t><div id=\"${id}_button\" class=\"dijitReset dijitButtonContents\"\r\n\t\t\tdata-dojo-attach-point=\"titleNode\"\r\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\r\n\t\t\t><div class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\" role=\"presentation\"></div\r\n\t\t\t><div class=\"dijitReset dijitInline dijitButtonText\" id=\"${id}_label\" data-dojo-attach-point=\"containerNode\" role=\"presentation\"></div\r\n\t\t></div\r\n\t\t></td\r\n\t\t><td id=\"${id}_arrow\" class='dijitReset dijitRight dijitButtonNode dijitArrowButton'\r\n\t\t\tdata-dojo-attach-point=\"_popupStateNode,focusNode,_buttonNode\"\r\n\t\t\tdata-dojo-attach-event=\"onkeydown:_onArrowKeyDown\"\r\n\t\t\ttitle=\"${optionsTitle}\"\r\n\t\t\trole=\"button\" aria-haspopup=\"true\"\r\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" role=\"presentation\"></div\r\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" role=\"presentation\">&#9660;</div\r\n\t\t></td\r\n\t\t><td style=\"display:none !important;\"\r\n\t\t\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" data-dojo-attach-point=\"valueNode\"\r\n\t\t\t\tclass=\"dijitOffScreen\" aria-hidden=\"true\" data-dojo-attach-event=\"onclick:_onClick\"\r\n\t\t/></td></tr></tbody\r\n></table>\r\n","url:prcommon2/roles/templates/Roles.html":"<div >\r\n\t<div class=\"dojoInterestPane\" >\r\n\t\t<div data-dojo-attach-point=\"selectarea\" style=\"display:none\" >\r\n\t\t\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\r\n\t\t\t\t  <tr><td width=\"47%\"></td><td width=\"5%\"></td><td width=\"48%\" ></td></tr>\r\n\t\t\t\t  <tr><td colspan=\"3\">\r\n\t\t\t\t  <table style=\"width:100%\" class=\"prmaxtable\" >\r\n\t\t\t\t\t  <tr>\r\n\t\t\t\t\t  <td width=\"70%\" data-dojo-attach-point=\"master_type_text\"><span class=\"prmaxrowtag\">Select </span><input class=\"prmaxfocus prmaxinput\" type=\"text\" data-dojo-type=\"dijit/form/TextBox\" data-dojo-props='style:\"width:150px\"' data-dojo-attach-point=\"interest_list_select\" data-dojo-attach-event=\"onkeyup:interest_select_event\" /></td>\r\n\t\t\t\t\t<td><div data-dojo-attach-point=\"show_search_integration\" class=\"prmaxhidden\"><label data-dojo-attach-point=\"search_only_label\">Default to Primary</label><input data-dojo-attach-point=\"search_only\"  data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='\"class\":\"prmaxdefault\",type:\"checkbox\",value:\"1\"' /></div></td></tr>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t  </td></tr>\r\n\t\t\t\t  <tr><td ><select style=\"width:100%\" name=\"roles\" data-dojo-attach-point=\"interest_list\" size=\"${size}\" class=\"lists\" multiple=\"multiple\" ></select></td>\r\n\t\t\t\t  <td >\r\n\t\t\t\t\t<button class=\"button_add_all\" style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"button_all\" data-dojo-props='disabled:true,type:\"button\"' data-dojo-attach-event=\"onClick:interest_select_all\" data-dojo-type=\"dijit/form/Button\"><div class=\"std_movement_button\">&gt;&gt;</div></button><br/>\r\n\t\t\t\t\t<button class=\"button_add_single\" style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"button_single\" data-dojo-props='disabled:true,type:\"button\"' data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:interest_select_single\"><div class=\"std_movement_button\">&gt;&nbsp;</div></button><br/>\r\n\t\t\t\t\t<button class=\"button_del_all\" style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"button_del_all\" data-dojo-props='disabled:true,type:\"button\"' data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:interest_remove_all\"><div class=\"std_movement_button\">&lt;&lt;</div></button><br/>\r\n\t\t\t\t\t<button class=\"button_del_single\" style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"button_del_single\" data-dojo-props='disabled:true,type:\"button\"' data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:interest_remove_single\"><div class=\"std_movement_button\">&lt;&nbsp;</div></button></td>\r\n\t\t\t\t  <td ><select style=\"width:100%\" data-dojo-attach-point=\"interest_select\" size=\"${size}\" class=\"lists\"  data-dojo-attach-event=\"onchange:interest_update_selection\"></select></td>\r\n\t\t\t\t  <td>\r\n\t\t\t\t\t<button  style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"up\" data-dojo-props='disabled:true,type:\"button\"' data-dojo-attach-event=\"onClick:_up_button\" data-dojo-type=\"dijit/form/Button\"><div style=\"width:2em\">Up</div></button><br/>\r\n\t\t\t\t\t<button style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"down\" data-dojo-props='disabled:true,type:\"button\"' data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:_down_button\"><div style=\"width:2em\">Down</div></button><br/>\r\n\t\t\t\t  </td></tr>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","url:research/audit/templates/AuditViewer.html":"<div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"top\",style:\"width:100%;height:45px;\"'>\r\n\t\t<div style=\"height:40px;width:100%;overflow:hidden\" class=\"searchresults\">\r\n\t\t\t<div style=\"height:100%;width:25%;float:left;\" class=\"prmaxrowdisplaylarge\">Audit Trail</div>\r\n\t\t\t<div style=\"float:left\" >\r\n\t\t\t\t<form data-dojo-attach-point=\"filterform\"  data-dojo-props='onsubmit:\"return false\"' data-dojo-type=\"dijit/form/Form\">\r\n\t\t\t\t\t<input data-dojo-props='\"class\":\"prmaxbutton\",type:\"text\" ,name:\"filterdate\"' data-dojo-type=\"dijit/form/DateTextBox\" data-dojo-attach-point=\"filterdate\" >\r\n\t\t\t\t\t<button data-dojo-props='\"class\":\"prmaxbutton\",type:\"button\",label:\"Filter By\"' data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:_filter\"></button>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div  data-dojo-attach-point=\"result_grid_view\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"center\",splitter:true' ></div>\r\n\t<div  data-dojo-attach-point=\"details_grid_view\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"bottom\",splitter:true,style:\"width:100%;height:20%\"'></div>\r\n</div>\r\n","url:research/employees/templates/PersonDelete.html":"<div style=\"width:400px\" >\r\n\t<form  data-dojo-attach-point=\"form\" data-dojo-type=\"dijit/form/Form\" data-dojo-props='onsubmit:\"return false;\",\"class\":\"prmaxdefault\" '>\r\n\t\t<input data-dojo-attach-point=\"contactid\" data-dojo-props='name:\"contactid\",type:\"hidden\"' data-dojo-type=\"dijit/form/TextBox\" >\r\n\t\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\"  border =\"0\">\r\n\t\t\t<tr><td  align=\"center\" data-dojo-attach-point=\"heading\" class=\"prmaxrowdisplaylarge\" colspan=\"2\" data-dojo-attach-point=\"header\" ></td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Reason</td><td ><select data-dojo-attach-point=\"reasoncodes\" data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-props='name:\"reasoncodeid\",searchAttr:\"name\",labelType:\"html\",style:\"width:98%\",\"class\":\"prmaxrequired\"'/></td></tr>\r\n\t\t\t<tr><td  align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Description</td><td  ><div class=\"reasonframe\" ><textarea data-dojo-attach-point=\"reason\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"reason\",\"class\":\"prmaxrowtag\",required:true,style:\"width:99%;height:80%;\"' name=\"reasoncodeid\" ></textarea></div></td></tr>\r\n\t\t\t<tr><td colspan=\"2\">&nbsp;</td></tr>\r\n\t\t\t<tr><td colspan=\"2\" align=\"right\"><button data-dojo-type=\"dojox/form/BusyButton\" data-dojo-attach-point=\"deletebtn\" data-dojo-attach-event=\"onClick:_delete_submit\" data-dojo-props='busyLabel:\"Please Wait Delete Person...\",label:\"Delete Person\",type:\"button\"' ></button></td></tr>\r\n\t\t</table>\r\n\t</form>\r\n</div>\r\n","url:prcommon2/geographical/templates/Geographical.html":"<div class=\"dojogeographicalPane\" data-dojo-attach-point=\"containerNode\" >\r\n\t<div>\r\n\t\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\" >\r\n\t\t\t<tr><td width=\"20%\"   class=\"prmaxrowtag\">${displaytitle}</td>\r\n\t\t\t\t\t<td width=\"5%\" ><img height=\"16px\" width=\"16px\" data-dojo-attach-point=\"togglectrl\" data-dojo-attach-event=\"onclick:_toggle\" src=\"/prmax_common_s/images/toopen.gif\" class=\"toggleselect\"></img></td>\r\n\t\t\t\t\t<td align=\"right\" valign=\"top\" ><div data-dojo-attach-point=\"countnode\" data-dojo-type=\"prcommon2/search/SearchCount\"></div></td>\r\n\t\t\t</tr></table>\r\n\t\t<div style=\"border 2px solid black\">\r\n\t\t\t<div data-dojo-attach-point=\"selectarea\" class=\"prmaxselectmultiple\" style=\"display:none\" >\r\n\t\t\t\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\" >\r\n\t\t\t\t\t  <tr><td width=\"47%\"></td><td width=\"5%\"></td><td width=\"47%\"></td></tr>\r\n\t\t\t\t\t  <tr><td colspan=\"3\">\r\n\t\t\t\t\t\t  <table style=\"width:100%\" class=\"prmaxtable\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" >\r\n\t\t\t\t\t\t\t  <tr>\r\n\t\t\t\t\t\t\t\t  <td data-dojo-attach-point=\"master_type_text\"><span class=\"prmaxrowtag\">Select</span><input data-dojo-props='\"class\":\"prmaxfocus prmaxinput\",type:\"text\",style:\"width:100px\"' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"geographical_list_select\" data-dojo-attach-event=\"onkeyup:_geographical_select_func\" /></td>\r\n\t\t\t\t\t\t<td style=\"padding-left:10px\"> <span class=\"prmaxrowtag\" >Filter By</span>\r\n\t\t\t\t\t\t\t\t<input data-dojo-attach-event=\"onClick:_show_no_filter\" data-dojo-attach-point=\"filter_radio_restriction\" data-dojo-type=\"dijit/form/RadioButton\" data-dojo-props='name:\"geog_selection\",\"class\":\"prmaxdefault\",checked:\"checked\",type:\"radio\",value:\"-1\"'/><label data-dojo-attach-point=\"filter_radio_restriction_label\" class=\"prmaxlabeltag\" >All</label>\r\n\t\t\t\t\t\t\t\t<input data-dojo-attach-event=\"onClick:_show_all\" data-dojo-attach-point=\"filter_radio_town\" data-dojo-type=\"dijit/form/RadioButton\" data-dojo-props='name:\"geog_selection\",\"class\":\"prmaxdefault\",type:\"radio\",value:\"1\"'/><label data-dojo-attach-point=\"filter_radio_town_label\" class=\"prmaxlabeltag\" >Towns</label>\r\n\t\t\t\t\t\t\t\t<input data-dojo-attach-event=\"onClick:_show_all\" data-dojo-attach-point=\"filter_radio_county\" data-dojo-type=\"dijit/form/RadioButton\" data-dojo-props='name:\"geog_selection\",\"class\":\"prmaxdefault\",type:\"radio\",value:\"2\"'/><label data-dojo-attach-point=\"filter_radio_county_label\" class=\"prmaxlabeltag\" >Counties</label>\r\n\t\t\t\t\t\t\t\t<input data-dojo-attach-event=\"onClick:_show_all\" data-dojo-attach-point=\"filter_radio_region\" data-dojo-type=\"dijit/form/RadioButton\" data-dojo-props='name:\"geog_selection\",\"class\":\"prmaxdefault\",type:\"radio\",value:\"3\"'/><label data-dojo-attach-point=\"filter_radio_region_label\" class=\"prmaxlabeltag\" >Regions</label>\r\n\t\t\t\t\t\t\t\t<input data-dojo-attach-event=\"onClick:_show_all\" data-dojo-attach-point=\"filter_radio_nation\" data-dojo-type=\"dijit/form/RadioButton\" data-dojo-props='name:\"geog_selection\",\"class\":\"prmaxdefault\",type:\"radio\",value:\"6\"'/><label data-dojo-attach-point=\"filter_radio_nation_label\" class=\"prmaxlabeltag\" >Nation</label>\r\n\t\t\t\t\t\t</td><td width=\"5%\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\"' data-dojo-attach-event=\"onClick:_tree_view\">Tree</button></td>\r\n\t\t\t\t\t\t</tr></table>\r\n\t\t\t\t\t</td></tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td><select style=\"width:100%\" data-dojo-attach-point=\"geographical_list\" size=\"${size}\" class=\"lists\" multiple=\"multiple\" ></select></td>\r\n\t\t\t\t\t\t  <td>\r\n\t\t\t\t\t\t\t<button data-dojo-attach-point=\"button_all\" data-dojo-props='\"class\":\"button_add_all\",style:\"padding:0px;margin:0px\",disabled:true,type:\"button\"' data-dojo-attach-event=\"onClick:geographical_select_all\" data-dojo-type=\"dijit/form/Button\"><div class=\"std_movement_button\">&gt;&gt;</div></button><br/>\r\n\t\t\t\t\t\t\t<button data-dojo-attach-point=\"button_single\" data-dojo-props='\"class\":\"button_add_single\",style:\"padding:0px;margin:0px\",disabled:true,type:\"button\"' data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:geographical_select_single\"><div class=\"std_movement_button\">&gt;&nbsp;</div></button><br/>\r\n\t\t\t\t\t\t\t<button data-dojo-attach-point=\"button_del_all\" data-dojo-props='\"class\":\"button_del_all\",style:\"padding:0px;margin:0px\",disabled:true,type:\"button\"' data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:geographical_remove_all\"><div class=\"std_movement_button\">&lt;&lt;</div></button><br/>\r\n\t\t\t\t\t\t\t<button data-dojo-attach-point=\"button_del_single\" data-dojo-props='\"class\":\"button_del_single\",style:\"padding:0px;margin:0px\",disabled:true,type:\"button\"' data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:geographical_remove_single\"><div class=\"std_movement_button\">&lt;&nbsp;</div></button>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td ><select data-dojo-attach-point=\"geographical_select\" style=\"width:100%\" size=\"${size}\" class=lists\",multiple=\"multiple\" data-dojo-attach-event=\"onchange:geographical_update_selection\"></select></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t </div>\r\n\t<div data-dojo-attach-point=\"geog_tree_dlg\" data-dojo-type=\"dijit/Dialog\" title =\"Geographical Tree View\">\r\n\t\t<div data-dojo-attach-point=\"geog_tree\" data-dojo-type=\"prcommon2/geographical/GeographicalTree\" style=\"width:400px;height:500px\"></div>\r\n\t</div>\r\n\r\n </div>\r\n","url:research/translations/templates/translatejobrole.html":"<div>\r\n\t<form data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\">\r\n\t\t<input data-dojo-props='type:\"hidden\",value:\"-1\",name:\"datasourcetranslationid\"' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"datasourcetranslationid\"/>\r\n\t\t<table width=\"700px\" cellspacing=\"0\" cellpadding=\"0\" style=\"border-collapse: collapse\" >\r\n\t\t\t<tr><td>&nbsp;</td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\" width=\"100px\">Roles</td><td><div data-dojo-type=\"prcommon2/roles/Roles\" data-dojo-attach-point=\"roles\" data-dojo-props='orderbtns:false,name:\"roles\",startopen:true,size:6, searchmode:true, selectonly:true'></div></td><tr>\r\n\t\t\t<tr><td>&nbsp;</td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Keywords</td><td><div data-dojo-type=\"prcommon2/interests/Interests\" data-dojo-attach-point=\"interests\" data-dojo-props='name:\"interests\",selectonly:true,size:6,displaytitle:\"\",startopen:true,restrict:0,keytypeid:6,title:\"Select\"'></div></td><tr>\r\n\t\t\t<tr><td>&nbsp;</td></tr>\r\n\t\t\t<tr><td class=\"prmaxrowtag\" align=\"right\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",name:\"submit\",label:\"Update\"' data-dojo-attach-event=\"onClick:_update_translation\" ></button></td></tr>\r\n\t\t</table>\r\n\t\t<br/>\r\n\t</form>\r\n</div>\r\n\r\n","url:research/advance/templates/view.html":"<div>\r\n\t<div data-dojo-type=\"dijit/layout/BorderContainer\" data-dojo-props='region:\"left\",style:\"width:50%;height:100%\",gutters:false' >\r\n\t\t<div data-dojo-type=\"dijit/layout/BorderContainer\" data-dojo-props='style:\"width:100%;height:55%; border: 0; padding: 0; margin: 0\",region:\"top\",gutters:false'>\r\n\t\t\t<div data-dojo-attach-point=\"search_form_pane\" data-dojo-type=\"dijit/layout/TabContainer\" data-dojo-props='region:\"center\"' >\r\n\t\t\t\t<div data-dojo-attach-point=\"std_search_advance\" data-dojo-type=\"prcommon2/search/AdvanceSearch\" data-dojo-props='title:\"Features\",style:\"overflow:auto\"' ></div>\r\n\t\t\t</div>\r\n\t\t\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"bottom\",style:\"width:100%;height:35px\"'>\r\n\t\t\t\t<table width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" style=\"border-collapse: collapse;\" >\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td><button data-dojo-attach-event=\"onClick:_clear_search\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='\"class\":\"prmaxbutton\",label:\"Clear Search Criteria\",iconClass:\"fa fa-eraser\"' ></button></td>\r\n\t\t\t\t\t\t<td><button data-dojo-attach-event=\"onClick:_clear_search_results\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='\"class\":\"prmaxbutton\",label:\"Clear Search Results\",iconClass:\"fa fa-eraser\"' ></button></td>\r\n\t\t\t\t\t\t<td align=\"right\"><button data-dojo-attach-point=\"searchbutton\" data-dojo-attach-event=\"onClick:_search\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='\"class\":\"prmaxbutton\",busyLabel:\"Searching...\",label:\"Search\",iconClass:\"fa fa-search-plus fa-2x\"' ></button></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div  data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"center\",splitter:true' data-dojo-attach-point=\"searchgrid_view\" ></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"outlet_advance_ctrl\" data-dojo-type=\"prcommon2/advance/advance\" data-dojo-props='region:\"center\"'></div>\r\n</div>\r\n","url:prcommon2/search/templates/SmartSearch.html":"<div>\r\n\t<div>\r\n\t\t<form data-dojo-props='onsubmit:\"return false\",\"class\":\"prmaxtable\",name:\"std_search_quick\",formid:\"std_search_quick_form\"' data-dojo-attach-point=\"form_name\" data-dojo-type=\"ttl/Form2\" >\r\n\t\t\t<br/>\r\n\t\t\t<input data-dojo-props='type:\"hidden\",value:\"quick\",name:\"search_type\"' data-dojo-type=\"dijit/form/TextBox\" />\r\n\t\t\t<div  data-dojo-props='usepartial:true,displayname:\"Outlet Name\",keytypeid:1,name:\"quick_searchname\",value:\"\"' data-dojo-type=\"prcommon2/search/standard\"></div>\r\n\t\t\t<hr/>\r\n\t\t\t<div data-dojo-props='usepartial:true,displayname:\"Surname\",keytypeid:138,name:\"quick_contactfull_ext\"' data-dojo-type=\"prcommon2/search/person\"></div>\r\n\t\t\t<hr/>\r\n\t\t\t<div data-dojo-props='style:\"width:99%\",keytypeid:23,name:\"quick_outlettypes\"' data-dojo-type=\"prcommon2/search/PrmaxOutletTypes\"></div>\r\n\t\t\t<hr/>\r\n\t\t\t<div data-dojo-props='style:\"width:99%\",keytypeid:114,size:8,name:\"quick_interests\",restrict:0' data-dojo-type=\"prcommon2/interests/Interests\"></div>\r\n\t\t\t<hr/>\r\n\t\t\t<div data-dojo-props='style:\"width:99%\",keytypeid:50,name:\"quick_coverage\"' data-dojo-type=\"prcommon2/geographical/Geographical\" ></div>\r\n\t\t\t<hr/>\r\n\t\t\t<div data-dojo-props='search:\"std_search_quick\",displayname:\"Tel\",keytypeid:118,name:\"quick_tel\",min:4' data-dojo-type=\"prcommon2/search/standard\"></div>\r\n\t\t\t<hr/>\r\n\t\t\t<div data-dojo-props='search:\"std_search_quick\",displayname:\"Email\",keytypeid:117,name:\"quick_email\",min:4' data-dojo-type=\"prcommon2/search/standard\"></div>\r\n\t\t\t<hr/>\r\n\t\t\t<div data-dojo-props='style:\"width:99%\",keytypeid:24,name:\"quick_countryid\"' data-dojo-type=\"prcommon2/search/Countries\"></div>\r\n\t\t\t<input data-dojo-props='type:\"hidden\",name:\"searchtypeid\",value:1' data-dojo-attach-point=\"searchtypeid\" data-dojo-type=\"dijit/form/TextBox\"/>\r\n\t\t\t<input type=\"submit\" style=\"display:none\"/>\r\n\t\t</form>\r\n\t</div>\r\n</div>","url:prcommon2/circulation/templates/CirculationSourcesAdd.html":"<div style=\"border: 1px solid black\">\r\n<form  data-dojo-props='onsubmit:\"return false\",\"class\":\"prmaxdefault\"' data-dojo-attach-point=\"form\" data-dojo-type=\"dijit/form/Form\">\r\n\t<input data-dojo-props='name:\"circulationsourceid\",type:\"hidden\",value:-1'  data-dojo-attach-point=\"circulationsourceid\" data-dojo-type=\"dijit/form/TextBox\"/>\r\n\t\t<table cellspacing=\"0\" cellpadding=\"0\" width=\"400px\">\r\n\t\t<tr><td colspan=\"2\">&nbsp;</td></tr>\r\n\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" >Circulation Source</td><td ><input data-dojo-props='\"class\":\"prmaxinput\",name:\"circulationsourcedescription\",type:\"text\",trim:true,required:true,style:\"width:90%\",placeHolder:\"Circulation Source Name\"'  data-dojo-attach-point=\"circulationsourcedescription\" data-dojo-type=\"dijit/form/ValidationTextBox\" ></input></td></tr>\r\n\t\t<tr><td colspan=\"2\">&nbsp;</td></tr>\r\n\t\t<tr><td data-dojo-attach-point=\"close_button\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Close\"' data-dojo-attach-event=\"onClick:_close\"></button></td><td colspan=\"3\" align=\"right\"><button data-dojo-attach-event=\"onClick:_add_publisher\" data-dojo-attach-point=\"savenode\" data-dojo-type=\"dojox/form/BusyButton\" type=\"button\" busyLabel=\"Please Wait Saving...\" label=\"Save\"></button></td></tr>\r\n\t</table>\r\n</form>\r\n</div>\r\n","url:dijit/form/templates/DropDownButton.html":"<span class=\"dijit dijitReset dijitInline\"\r\n\t><span class='dijitReset dijitInline dijitButtonNode'\r\n\t\tdata-dojo-attach-event=\"ondijitclick:__onClick\" data-dojo-attach-point=\"_buttonNode\"\r\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\r\n\t\t\tdata-dojo-attach-point=\"focusNode,titleNode,_arrowWrapperNode,_popupStateNode\"\r\n\t\t\trole=\"button\" aria-haspopup=\"true\" aria-labelledby=\"${id}_label\"\r\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\"\r\n\t\t\t\tdata-dojo-attach-point=\"iconNode\"\r\n\t\t\t></span\r\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\r\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\r\n\t\t\t\tid=\"${id}_label\"\r\n\t\t\t></span\r\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\"></span\r\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\r\n\t\t></span\r\n\t></span\r\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\r\n\t\tdata-dojo-attach-event=\"onclick:_onClick\" data-dojo-attach-point=\"valueNode\" aria-hidden=\"true\"\r\n/></span>\r\n","url:research/clippings/templates/linkoutlets.html":"<div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"top\",style:\"width:100%;height:48px;padding:0px;margin:0px\"'>\r\n\t\t<div data-dojo-type=\"dijit/Toolbar\" data-dojo-props='style:\"height:99%;width:100%;padding:0px;margin:0px\"'>\r\n\t\t\t<div data-dojo-type=\"dijit/form/DropDownButton\"  data-dojo-props='iconClass:\"fa fa-filter fa-3x\",label:\"Filter\",showLabel:false'>\r\n\t\t\t\t<span>Filter By</span>\r\n\t\t\t\t<div data-dojo-type=\"dijit/TooltipDialog\" title=\"Filter\" data-dojo-attach-event=\"execute: _execute\">\r\n\t\t\t\t\t<table>\r\n\t\t\t\t\t\t<tr><td>Source</td><td><select data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"filter_source\" data-dojo-props='name:\"source\",searchAttr:\"name\",labelType:\"html\"' ></td></tr>\r\n\t\t\t\t\t\t<tr><td>Link Code</td><td><input data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"filter_linktext\" data-dojo-props='name:\"linktext\",trim:\"true\",maxlength:45,type:\"text\"' ></td></tr>\r\n\t\t\t\t\t\t<tr><td>Link Description</td><td><input data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"filter_linkdescription\" data-dojo-props='name:\"linkdescription\",trim:\"true\",maxlength:45,type:\"text\"' ></td></tr>\r\n\t\t\t\t\t\t<tr><td>URL</td><td><input data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"filter_url\" data-dojo-props='name:\"url\",trim:\"true\",maxlength:45,type:\"text\"' ></td></tr>\r\n\t\t\t\t\t\t<tr><td>Not Linked Only</td><td><input data-dojo-type=\"dijit/form/CheckBox\" data-dojo-attach-point=\"not_linked\" data-dojo-props='name:\"not_linked\",type:\"checkbox\",checked:true' ></td> </tr>\r\n\t\t\t\t\t\t<tr><td>Hide Ignore</td><td><input data-dojo-type=\"dijit/form/CheckBox\" data-dojo-attach-point=\"hide_ignore\" data-dojo-props='name:\"hide_ignore\",type:\"checkbox\",checked:true' ></td> </tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td align=\"left\"><button data-dojo-attach-event=\"onClick: _clear_filter\" data-dojo-type=\"dijit/form/Button\" type=\"button\" >Clear Filter by</button></td>\r\n\t\t\t\t\t\t\t\t<td align=\"right\"><button data-dojo-type=\"dijit/form/Button\" type=\"submit\" name=\"submit\">Filter by</button></td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"center\"' data-dojo-attach-point=\"grid_view\"></div>\r\n\t<div data-dojo-type=\"dijit/layout/StackContainer\" data-dojo-props='region:\"bottom\",splitter:true,style:\"height:50%;width:100%;\"' data-dojo-attach-point=\"edit_view\" >\r\n\t\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='style:\"width:100%;height:100%\"' data-dojo-attach-point=\"blank_view\"></div>\r\n\t\t<div data-dojo-type=\"research/clippings/ipcb_outlets\" data-dojo-props='style:\"width:100%;height:100%\"' data-dojo-attach-point=\"ipbc_outlet_link\"></div>\r\n\t\t<div data-dojo-type=\"research/clippings/mbrain_outlets\" data-dojo-props='style:\"width:100%;height:100%\"' data-dojo-attach-point=\"mbrain_outlet_link\"></div>\r\n\t</div>\r\n</div>\r\n\r\n","url:prcommon2/search/templates/AdvanceSearch.html":"<div class=\"searchform\">\r\n\t<div class=\"paddingcell\" >\r\n\t\t<form data-dojo-attach-point=\"std_search_advance_form\" data-dojo-props='name:\"search_advance\",formid:\"std_search_advance_form\",onsubmit:\"return false\"' data-dojo-type=\"ttl/Form2\" >\r\n\t\t\t<input data-dojo-props='type:\"hidden\",value:\"advance\",name:\"search_type\"' data-dojo-type=\"dijit/form/TextBox\" />\r\n\t\t\t<div class=\"paddingrow\">&nbsp;</div>\r\n\t\t\t<div  data-dojo-props='search:\"std_search_advance\",displayname:\"Publication Date\",keytypeid:124,name:\"advance_publicationdate\"' data-dojo-type=\"prcommon2/date/DateSearchExtended\"></div>\r\n\t\t\t<hr />\r\n\t\t\t<div  data-dojo-props='usepartial:true,search:\"std_search_advance\",displayname:\"Feature Text\",keytypeid:122,name:\"advance_advancename\"' data-dojo-type=\"prcommon2/search/standard\"></div>\r\n\t\t\t<hr />\r\n\t\t\t<div data-dojo-props='search:\"std_search_advance\",style:\"width:99%\",keytypeid:127,name:\"advance_outlettypes\"'data-dojo-type=\"prcommon2/search/PrmaxOutletTypes\"></div>\r\n\t\t\t<hr />\r\n\t\t\t<div data-dojo-props='usepartial:true,search:\"std_search_advance\",displayname:\"Outlet Name\",keytypeid:126,name:\"advance_outletname\"' data-dojo-type=\"prcommon2/search/standard\"></div>\r\n\t\t\t<hr/>\r\n\t\t\t<input type=\"submit\" style=\"display:none\"/>\r\n\t\t</form>\r\n\t</div>\r\n</div>","url:research/outlets/templates/OutletMoveContact.html":"<div style=\"width:400px;height:200px;\" >\r\n\t<form  data-dojo-attach-point=\"form\" data-dojo-type=\"dijit/form/Form\" data-dojo-props='\"class\":\"prmaxdefault\",onsubmit:\"return false;\"'>\r\n\t\t<input data-dojo-attach-point=\"employeeid\" data-dojo-props='name:\"employeeid\",type:\"hidden\"' data-dojo-type=\"dijit/form/TextBox\" >\r\n\t\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\"  border =\"0\">\r\n\t\t\t<tr><td  align=\"center\" data-dojo-attach-point=\"heading\" class=\"prmaxrowdisplaylarge\" colspan=\"2\" ></td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">New Outlet</td><td ><select data-dojo-attach-point=\"outletid\" data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-props='name:\"outletid\",searchAttr:\"outletname\",labelType:\"html\",style:\"width:98%\",\"class\":\"prmaxrequired\"' data-dojo-attach-event=\"onChange:_outlet_selected\"/></td></tr>\r\n\t\t\t<tr data-dojo-attach-point=\"desk_view\" class=\"prmaxhidden\"><td align=\"right\" class=\"prmaxrowtag\">Desks</td><td ><select data-dojo-attach-point=\"outletdeskid\" data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-props='name:\"outletdeskid\",searchAttr:\"deskname\",labelType:\"html\",style:\"width:98%\",\"class\":\"prmaxrequired\"'/></td></tr>\r\n\t\t</table>\r\n\t</form>\r\n\t<br/><br/>\r\n\t<button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",style:\"float:left\" ' data-dojo-attach-event=\"onClick:_close_dlg\">Close</button>\r\n\t<button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",style:\"float:right\" ' data-dojo-attach-event=\"onClick:_move_contact\">Move Contact</button>\r\n</div>\r\n","url:prcommon2/common/templates/ExpandedText.html":"<div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='\"class\":\"reasonframe\",region:\"center\"' >\r\n\t\t<textarea data-dojo-attach-point=\"text_point\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='style:\"width:98%;height:98%\"'  ></textarea>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"bottom\",style:\"width:100%;height:34px\"' >\r\n\t\t<button data-dojo-attach-event=\"onClick:_close\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='style:\"float:left\",type:\"button\",label:\"Close\",iconClass:\"fa fa-close\"'></button>\r\n\t\t<button data-dojo-attach-event=\"onClick:_save\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='style:\"float:right\",type:\"button\",label:\"Finish\"'></button>\r\n\t</div>\r\n</div>\r\n","url:research/questionnaires/templates/OutletEditMainDetails.html":"<div >\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='style:\"overflow:auto;overflow-x:hidden\",region:\"center\"' >\r\n\t\t<form  data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\" data-dojo-props='onsubmit:\"return false;\"'>\r\n\t\t\t<input data-dojo-props='type:\"hidden\",name:\"researchprojectitemid\",value:\"-1\"' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"researchprojectitemid\">\r\n\t\t\t<table width=\"98%\" cellspacing=\"0\" cellpadding=\"0\">\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Outlets Name</td><td><input data-dojo-props='style:\"width:90%\",\"class\":\"prmaxrequired\",name:\"outletname\",type:\"text\",trim:true,required:true,invalidMessage:\"Please enter outletname\"' data-dojo-attach-point=\"outletname\" data-dojo-type=\"dijit/form/ValidationTextBox\" ></input></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"outletname_modified\"></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Sort Name</td><td><input data-dojo-props='style:\"width:90%\",\"class\":\"prmaxrequired\",name:\"sortname\",type:\"text\",trim:true,required:true,invalidMessage:\"Please enter outlet sort name\",uppercase:true' data-dojo-attach-point=\"sortname\" data-dojo-type=\"dijit/form/ValidationTextBox\" ></input></td><td></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Sub Title</td><td ><div class=\"framesmall\" ><textarea data-dojo-attach-point=\"subtitle\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"subtitle\",style:\"width:99%;height:99%\"'  ></textarea></div></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"subtitle_modified\"></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Official Journal of</td><td ><div class=\"framesmall\" ><textarea data-dojo-attach-point=\"officialjournalof\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"officialjournalof\",style:\"width:99%;height:99%\"'  ></textarea></div></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"officialjournalof_modified\"></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Incorporating</td><td ><div class=\"framesmall\" ><textarea data-dojo-attach-point=\"incorporating\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"incorporating\",style:\"width:99%;height:99%\"'  ></textarea></div></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"incorporating_modified\"></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">House/Street</td><td><input data-dojo-attach-point=\"address1\" data-dojo-props='name:\"address1\",type:\"text\",trim:true,required:false,style:\"width:70%\"' data-dojo-type=\"dijit/form/ValidationTextBox\"></input></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"address1_modified\"></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Street/District</td><td><input data-dojo-attach-point=\"address2\"data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"address2\",type:\"text\",trim:true,style:\"width:70%\"'></input></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"address2_modified\"></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Town</td><td><input data-dojo-attach-point=\"townname\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"townname\",type:\"text\",trim:true,style:\"width:70%\"' ></input></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"townname_modified\"></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">County</td><td><input data-dojo-attach-point=\"county\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"county\",type:\"text\",trim:true,style:\"width:70%\"' ></input></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"county_modified\"></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Post Code</td><td><input data-dojo-attach-point=\"postcode\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"postcode\",type:\"text\",trim:true,style:\"width:10em\"' ></input></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"postcode_modified\"></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Country</td><td><select data-dojo-props='style:\"width:90%\",\"class\":\"prmaxrequired\",name:\"countryid\",autoComplete:true,searchAttr:\"name\",required:true,invalidMessage:\"Please select Country Name\",labelType:\"html\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"countryid\"></select></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"countryid_modified\"></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Www</td>\r\n\t\t\t\t\t<td><span><input data-dojo-attach-point=\"www\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"www\",type:\"text\",maxlength:\"120\",pattern:dojox.validate.regexp.url,style:\"width:90%\"' /></span>\r\n\t\t\t\t\t\t<span><div data-dojo-attach-point=\"www_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"www_modified\"></div></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Email</td><td><input data-dojo-attach-point=\"email\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"email\",type:\"text\",pattern:dojox.validate.regexp.emailAddress, trim:true,invalidMessage:\"invalid email address\",size:20,maxlength:70,style:\"width:90%\"'></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"email_modified\"></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Tel</td><td><input data-dojo-attach-point=\"tel\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"tel\",type:\"text\",maxlength:40,trim:true,style:\"width:60%\"' /></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"tel_modified\"></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Fax</td><td><input data-dojo-attach-point=\"fax\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"fax\",type:\"text\",maxlength:40, trim:true,style:\"width:60%\"'/></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"fax_modified\"></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Twitter</td>\r\n\t\t\t\t\t<td><span><input data-dojo-attach-point=\"twitter\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='name:\"twitter\",pattern:dojox.validate.regexp.url,type:\"text\",maxlength:80,trim:true,style:\"width:90%\"'/></span>\r\n\t\t\t\t\t\t<span><div data-dojo-attach-point=\"twitter_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"twitter_modified\"></div></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Facebook</td>\r\n\t\t\t\t\t<td><span><input data-dojo-attach-point=\"facebook\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"facebook\",type:\"text\",maxlength:80,pattern:dojox.validate.regexp.url,trim:true,style:\"width:90%\"'/></span>\r\n\t\t\t\t\t\t<span><div data-dojo-attach-point=\"facebook_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"facebook_modified\"></div></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Linkedin</td>\r\n\t\t\t\t\t<td><span><input data-dojo-attach-point=\"linkedin\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"linkedin\",type:\"text\",maxlength:80,pattern:dojox.validate.regexp.url,trim:true,style:\"width:90%\"' /></span>\r\n\t\t\t\t\t\t<span><div data-dojo-attach-point=\"linkedin_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"linkedin_modified\"></div></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Instagram</td>\r\n\t\t\t\t\t<td><span><input data-dojo-attach-point=\"instagram\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"instagram\",type:\"text\",maxlength:80,pattern:dojox.validate.regexp.url,trim:true,style:\"width:90%\"' /></span>\r\n\t\t\t\t\t\t<span><div data-dojo-attach-point=\"instagram_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"instagram_modified\"></div></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Circulation</td><td><input data-dojo-attach-point=\"circulation\" data-dojo-type=\"dijit/form/NumberTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"circulation\",type:\"text\",value:0,constraints:{min:0,max:99999999}, trim:true,style:\"width:8em\"'/></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"circulation_modified\"></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Circulation Source</td><td><select data-dojo-props='style:\"width:15em\",name:\"circulationsourceid\",autoComplete:true,searchAttr:\"circulationsourcedescription\",required:false,placeHolder:\"No Selection\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"circulationsourceid\"></select></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"circulationsourceid_modified\"></div></td><tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Circulation Date</td><td><select data-dojo-props='style:\"width:15em\",name:\"circulationauditdateid\",autoComplete:true,searchAttr:\"circulationauditdatedescription\",required:false,placeHolder:\"No Selection\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"circulationauditdateid\"></select></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"circulationauditdateid_modified\"></div></td><tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Frequency</td><td><select data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-props='name:\"frequencyid\",autoComplete:true,searchAttr:\"name\",required:true,invalidMessage:\"Please select frequency\",labelType:\"html\"' data-dojo-attach-point=\"frequencyid\"></select></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"frequencyid_modified\"></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Frequency Notes</td><td ><div class=\"stdtextframe\" ><textarea data-dojo-attach-point=\"frequencynotes\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"frequencynotes\",style:\"width:99%;height:99%\"'  ></textarea></div></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"frequencynotes_modified\"></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Cost</td><td><select data-dojo-props='style:\"width:10em\",name:\"outletpriceid\",autoComplete:true,searchAttr:\"name\",required:true,placeHolder:\"\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"outletpriceid\"></select></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"outletpriceid_modified\"></div></td></tr>\r\n\t\t\t</table>\r\n\t\t</form>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"bottom\",style:\"width:100%;height:3em;padding-right:3px;\"'>\r\n\t\t<table width=\"100%\" cellspacing=\"0\" cellpadding=\"0\">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\"><button data-dojo-attach-point=\"updatebtn\" data-dojo-attach-event=\"onClick:_update\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='type:\"button\",busyLabel:\"Please Wait Updating Outlet...\",label:\"Update Outlet\"'></button></td>\r\n\t\t\t\t</tr>\r\n\t\t</table>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"circulationsource_add_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Circulation Source Add\"'>\r\n\t\t<div data-dojo-attach-point=\"circulationsource_add_ctrl\" data-dojo-type=\"prcommon2/circulation/CirculationSourcesAdd\"></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"circulationdates_add_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Circulation Dates Add\"'>\r\n\t\t<div data-dojo-attach-point=\"circulationdates_add_ctrl\" data-dojo-type=\"prcommon2/circulation/CirculationDatesAdd\"></div>\r\n\t</div>\r\n</div>\r\n","url:research/outlets/templates/OutletEditMainDetails.html":"<div >\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='style:\"overflow:auto;overflow-x:hidden\",region:\"center\"' >\r\n\t\t<form  data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\" data-dojo-props='onsubmit:\"return false;\"'>\r\n\t\t\t<input data-dojo-props='type:\"hidden\",name:\"outletid\",value:\"-1\"' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"outletid\">\r\n\t\t\t<input data-dojo-props='type:\"hidden\",name:\"searchtypeid\",value:\"3\"' data-dojo-type=\"dijit/form/TextBox\" >\r\n\t\t\t<table width=\"98%\" cellspacing=\"0\" cellpadding=\"0\">\r\n\t\t\t\t<tr><td width=\"120px\" align=\"right\" class=\"prmaxrowtag\">Outlets Name</td><td><input data-dojo-props='style:\"width:90%\",\"class\":\"prmaxrequired\",name:\"outletname\",type:\"text\",trim:true,required:true,invalidMessage:\"Please enter outletname\"' data-dojo-attach-point=\"outletname\" data-dojo-type=\"dijit/form/ValidationTextBox\" ></input></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Sort Name</td><td><input data-dojo-props='style:\"width:90%\",\"class\":\"prmaxrequired\",name:\"sortname\",type:\"text\",trim:true,required:true,invalidMessage:\"Please enter sortname\",uppercase:true' data-dojo-attach-point=\"sortname\" data-dojo-type=\"dijit/form/ValidationTextBox\" ></input></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Sub Title</td><td ><div class=\"framesmall\" ><textarea data-dojo-attach-point=\"subtitle\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"subtitle\",style:\"width:99%;height:99%\"'  ></textarea></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Official Journal of</td><td ><div class=\"framesmall\" ><textarea data-dojo-attach-point=\"officialjournalof\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"officialjournalof\",style:\"width:99%;height:99%\"'  ></textarea></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Incorporating</td><td ><div class=\"framesmall\" ><textarea data-dojo-attach-point=\"incorporating\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"incorporating\",style:\"width:99%;height:99%\"'  ></textarea></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">House/Street</td><td><input data-dojo-attach-point=\"address1\" data-dojo-props='name:\"address1\",type:\"text\",trim:true,required:false,style:\"width:70%\"' data-dojo-type=\"dijit/form/ValidationTextBox\"></input></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Street/District</td><td><input data-dojo-attach-point=\"address2\"data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"address2\",type:\"text\",trim:true,style:\"width:70%\"'></input></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Town</td><td><input data-dojo-attach-point=\"townname\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"townname\",type:\"text\",trim:true,style:\"width:70%\"' ></input></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">County</td><td><input data-dojo-attach-point=\"county\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"county\",type:\"text\",trim:true,style:\"width:70%\"' ></input></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Post Code</td><td><input data-dojo-attach-point=\"postcode\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"postcode\",type:\"text\",trim:true,style:\"width:10em\"' ></input></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Country</td><td><select data-dojo-props='style:\"width:90%\",\"class\":\"prmaxrequired\",name:\"countryid\",autoComplete:true,searchAttr:\"name\",required:true,invalidMessage:\"Please select Country Name\",labelType:\"html\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"countryid\"></select></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Tel</td><td><input data-dojo-attach-point=\"tel\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"tel\",type:\"text\",maxlength:40,trim:true,style:\"width:60%\"' /></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Fax</td><td><input data-dojo-attach-point=\"fax\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"fax\",type:\"text\",maxlength:40, trim:true,style:\"width:60%\"'/></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Email</td><td><input data-dojo-attach-point=\"email\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"email\",type:\"text\",pattern:dojox.validate.regexp.emailAddress, trim:true,invalidMessage:\"invalid email address\",size:20,maxlength:70,style:\"width:90%\"'></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Www</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<span><input data-dojo-attach-point=\"www\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"www\",type:\"text\",maxlength:\"120\",pattern:dojox.validate.regexp.url,style:\"width:90%\"' /></span>\r\n\t\t\t\t\t\t<span><div data-dojo-attach-point=\"www_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Twitter</td>\r\n\t\t\t\t\t<td><span><input data-dojo-attach-point=\"twitter\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='name:\"twitter\",pattern:dojox.validate.regexp.url,type:\"text\",maxlength:80,trim:true,style:\"width:90%\"'/></span>\r\n\t\t\t\t\t\t<span><div data-dojo-attach-point=\"twitter_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Facebook</td>\r\n\t\t\t\t\t<td><span><input data-dojo-attach-point=\"facebook\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"facebook\",type:\"text\",maxlength:80,pattern:dojox.validate.regexp.url,trim:true,style:\"width:90%\"'/></span>\r\n\t\t\t\t\t\t<span><div data-dojo-attach-point=\"facebook_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Linkedin</td>\r\n\t\t\t\t\t<td><span><input data-dojo-attach-point=\"linkedin\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"linkedin\",type:\"text\",maxlength:80,pattern:dojox.validate.regexp.url,trim:true,style:\"width:90%\"' /></span>\r\n\t\t\t\t\t\t<span><div data-dojo-attach-point=\"linkedin_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Instagram</td>\r\n\t\t\t\t\t<td><span><input data-dojo-attach-point=\"instagram\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"instagram\",type:\"text\",maxlength:80,pattern:dojox.validate.regexp.url,trim:true,style:\"width:90%\"' /></span>\r\n\t\t\t\t\t\t<span><div data-dojo-attach-point=\"instagram_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Circulation</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<span><input data-dojo-attach-point=\"circulation\" data-dojo-type=\"dijit/form/NumberTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"circulation\",type:\"text\",value:0,constraints:{min:0,max:999999999}, trim:true'/></span>\r\n\t\t\t\t\t\t<span><div data-dojo-attach-point=\"circulation_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Circulation Source</td><td><select data-dojo-props='style:\"width:15em\",name:\"circulationsourceid\",autoComplete:true,searchAttr:\"circulationsourcedescription\",required:false,placeHolder:\"No Selection\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"circulationsourceid\"></select></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Circulation Date</td><td><select data-dojo-props='style:\"width:15em\",name:\"circulationauditdateid\",autoComplete:true,searchAttr:\"circulationauditdatedescription\",required:false,placeHolder:\"No Selection\",pageSize:20' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"circulationauditdateid\"></select></td></tr>\r\n\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Web Browsers</td><td><input data-dojo-attach-point=\"webbrowsers\" data-dojo-type=\"dijit/form/NumberTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"webbrowsers\",type:\"text\",value:0,constraints:{min:0,max:999999999}, trim:true'/></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Web Source</td><td><select data-dojo-props='style:\"width:15em\",name:\"websourceid\",autoComplete:true,searchAttr:\"websourcedescription\",required:false,placeHolder:\"No Selection\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"websourceid\"></select></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Web Date</td><td><select data-dojo-props='style:\"width:15em\",name:\"webauditdateid\",autoComplete:true,searchAttr:\"webauditdatedescription\",required:false,placeHolder:\"No Selection\",pageSize:20' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"webauditdateid\"></select></td></tr>\r\n\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Frequency</td><td>\t<select data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-props='name:\"frequencyid\",autoComplete:true,searchAttr:\"name\",required:true,invalidMessage:\"Please select frequency\",labelType:\"html\"' data-dojo-attach-point=\"frequency\"></select></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Frequency Notes</td><td ><div class=\"stdtextframe\" ><textarea data-dojo-attach-point=\"frequencynotes\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"frequencynotes\",style:\"width:99%;height:99%\"'  ></textarea></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Cost</td><td><select data-dojo-props='style:\"width:10em\",name:\"outletpriceid\",autoComplete:true,searchAttr:\"name\",required:false,placeHolder:\"\"' data-dojo-type=\"dijit/form/Select\" data-dojo-attach-point=\"outletpriceid\"></select></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Media Access Type</td><td><select data-dojo-props='style:\"width:10em\",name:\"mediaaccesstypeid\",autoComplete:true,searchAttr:\"name\",required:false,placeHolder:\"\"' data-dojo-type=\"dijit/form/Select\" data-dojo-attach-point=\"mediaaccesstypeid\"></select></td></tr>\r\n\t\t\t\t\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Do not synchronise</td><td><p data-dojo-attach-point=\"no_sync\" data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='type:\"checkbox\"' ></p></td></tr>\r\n\r\n\t\t\t</table>\r\n\t\t</form>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"bottom\",style:\"width:100%;height:3em;padding-right:3px;\"'>\r\n\t\t<table width=\"99%\" cellspacing=\"0\" cellpadding=\"0\">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"left\"><button data-dojo-attach-event=\"onClick:_delete\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Delete Outlet\"'></button></td>\r\n\t\t\t\t\t<td align=\"left\"><button data-dojo-attach-event=\"onClick:_synchronise\" data-dojo-attach-point='synchrbtn' data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='type:\"button\",\"class\":\"prmaxhidden\",label:\"Synchronise\"'></button></td>\r\n\t\t\t\t\t\t<div data-dojo-attach-point=\"synchronise_dlg\" data-dojo-type=\"dijit/Dialog\" title=\"Synchronise Employees\" data-dojo-props='style:\"width:350px\"'>\r\n\t\t\t\t\t\t\t<div data-dojo-type=\"prcommon2/dialogs/SynchroniseDialog\" data-dojo-attach-point=\"synchronise_node\"></div>\r\n\t\t\t\t\t\t</div>\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t<td align=\"right\"><label class=\"prmaxrowtag\">Reason</label><select data-dojo-attach-point=\"reasoncodeid\" data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-props='name:\"reasoncodeid\",searchAttr:\"name\",labelType:\"html\",\"class\":\"prmaxrequired\",style:\"width:120px\"'></select></td>\r\n\t\t\t\t\t<td align=\"right\"><button data-dojo-attach-point=\"updatebtn\" data-dojo-attach-event=\"onClick:_update\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='type:\"button\",busyLabel:\"Please Wait Saving Outlet...\",label:\"Save\"'></button></td>\r\n\t\t\t\t</tr>\r\n\t\t</table>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"outlet_delete_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Delete Outlet\"'>\r\n\t\t<div data-dojo-attach-point=\"outlet_delete_ctrl\" data-dojo-type=\"research/outlets/OutletDelete\"></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"circulationsource_add_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Circulation Source Add\"'>\r\n\t\t<div data-dojo-attach-point=\"circulationsource_add_ctrl\" data-dojo-type=\"prcommon2/circulation/CirculationSourcesAdd\"></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"circulationdates_add_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Circulation Dates Add\"'>\r\n\t\t<div data-dojo-attach-point=\"circulationdates_add_ctrl\" data-dojo-type=\"prcommon2/circulation/CirculationDatesAdd\"></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"websource_add_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Web Source Add\"'>\r\n\t\t<div data-dojo-attach-point=\"websource_add_ctrl\" data-dojo-type=\"prcommon2/web/WebSourcesAdd\"></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"webdates_add_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Web Dates Add\"'>\r\n\t\t<div data-dojo-attach-point=\"webdates_add_ctrl\" data-dojo-type=\"prcommon2/web/WebDatesAdd\"></div>\r\n\t</div>\r\n</div>\r\n","url:research/templates/search.html":"<div>\r\n\t<div data-dojo-type=\"dijit/layout/BorderContainer\"  data-dojo-props='style:\"width:100%;height:55%; border: 1\",region:\"top\",gutters:false'>\r\n\t\t<div data-dojo-attach-point=\"search_form_pane\" data-dojo-type=\"dijit/layout/TabContainer\" data-dojo-props='region:\"center\"' >\r\n\t\t\t<div data-dojo-attach-point=\"std_search_smart\" data-dojo-type=\"prcommon2/search/SmartSearch\" data-dojo-props='style:\"width:100%;height:100%\",title:\"Smart\",\"class\":\"scrollpanel\"'  ></div>\r\n\t\t\t<div data-dojo-attach-point=\"std_search_outlet\" data-dojo-type=\"prcommon2/search/OutletSearch\" data-dojo-props='style:\"width:100%;height:100%\",title:\"Outlet\",selected:\"selected\",\"class\":\"scrollpanel\"'  ></div>\r\n\t\t\t<div data-dojo-attach-point=\"std_search_employee\" data-dojo-type=\"prcommon2/search/EmployeeSearch\" data-dojo-props='style:\"width:100%;height:100%\",title:\"Contact\",\"class\":\"scrollpanel\"' ></div>\r\n\t\t\t<div data-dojo-attach-point=\"std_search_freelance\" data-dojo-type=\"prcommon2/search/FreelanceSearch\" data-dojo-props='style:\"width:100%;height:100%\",title:\"Freelance\",\"class\":\"scrollpanel\"'  ></div>\r\n\t\t</div>\r\n\t\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"bottom\",style:\"width:100%;height:40px\"'>\r\n\t\t\t<table width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" style=\"border-collapse: collapse;\" >\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td ><button data-dojo-attach-event=\"onClick:_clear_search\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='\"class\":\"prmaxbutton\",label:\"Clear Search Criteria\",iconClass:\"fa fa-undo\"' ></button></td>\r\n\t\t\t\t\t<td ><button data-dojo-attach-event=\"onClick:_clear_search_results\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='\"class\":\"prmaxbutton\",label:\"Clear Search Results\",iconClass:\"fa fa-undo\"' ></button></td>\r\n\t\t\t\t\t<td align=\"right\"><button data-dojo-attach-point=\"searchbutton\" data-dojo-attach-event=\"onClick:_search\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='iconClass:\"fa fa-search-plus fa-2x\",busyLabel:\"Searching...\",label:\"Search\"' ></button></td>\r\n\t\t\t\t</tr>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/BorderContainer\" data-dojo-props='region:\"center\",splitter:true, gutters: false' >\r\n\t\t<div data-dojo-attach-point=\"searchgrid_view\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"center\"' ></div>\r\n\t\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"bottom\",style:\"width:100%;height:2em\"'>\r\n\t\t\t<button data-dojo-attach-event=\"onClick:_contact_interests\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='\"class\":\"prmaxbutton\" '>Batch Contact Keywords</button>\r\n\t\t</div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"contact_interest_dlg\" data-dojo-type=\"dijit/Dialog\" title =\"Modify the Keywords on the Contacts In the Search Results\">\r\n\t\t<div data-dojo-attach-point=\"contact_interest_ctrl\" data-dojo-type=\"research/employees/ContactInterests\"></div>\r\n\t\t<input data-dojo-type=\"dijit/form/TextBox\"  data-dojo-attach-point=\"search_partial\" data-dojo-props='type:\"hidden\",value:\"2\"' />\r\n\t</div>\r\n</div>\r\n","url:research/advance/templates/AdvanceDuplicate.html":"<div style=\"width:600px;height:200px;\" >\r\n\t<form  data-dojo-attach-point=\"form\" data-dojo-type=\"dijit/form/Form\" data-dojo-props='onsubmit:\"return false;\",\"class\":\"prmaxdefault\"' >\r\n\t\t<input data-dojo-attach-point=\"advancefeatureid\" data-dojo-props='name:\"advancefeatureid\",type:\"hidden\"' data-dojo-type=\"dijit/form/TextBox\" >\r\n\t\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\"  border =\"0\">\r\n\t\t\t<tr><td  align=\"center\" data-dojo-attach-point=\"heading\" class=\"prmaxrowdisplaylarge\" colspan=\"2\" ></td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">New Feature</td><td ><input\r\n\t\t\tdata-dojo-attach-point=\"feature\" data-dojo-props='style:\"width:95%\",name:\"feature\",type:\"text\",required:true' data-dojo-type=\"dijit/form/ValidationTextBox\"></td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Reason</td><td ><select data-dojo-attach-point=\"reasoncodes\" data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-props='name:\"reasoncodeid\",searchAttr:\"name\",labelType:\"html\",style:\"width:98%\",class:\"prmaxrequired\"'/></td></tr>\r\n\t\t</table>\r\n\t</form>\r\n\t<br/><br/>\r\n\t<button data-dojo-type=\"dijit/form/Button\" data-dojo-props='style:\"float:right;\",type:\"button\",name:\"submit\"' data-dojo-attach-event=\"onClick:_duplicate_button\" >Duplicate Feature</button>\r\n</div>\r\n","url:prcommon2/web/templates/WebDatesAdd.html":"<div style=\"border: 1px solid black\">\r\n<form  data-dojo-props='onsubmit:\"return false\",\"class\":\"prmaxdefault\"' data-dojo-attach-point=\"form\" data-dojo-type=\"dijit/form/Form\">\r\n\t<input data-dojo-props='name:\"webauditdateid\",type:\"hidden\",value:-1'  data-dojo-attach-point=\"webauditdateid\" data-dojo-type=\"dijit/form/TextBox\"/>\r\n\t\t<table cellspacing=\"0\" cellpadding=\"0\" width=\"400px\">\r\n\t\t<tr><td >&nbsp;</td></tr>\r\n\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" >Web Dates</td><td colspan=\"2\" ><input data-dojo-props='\"class\":\"prmaxinput\",name:\"webauditdatedescription\",type:\"text\",trim:true,required:true,style:\"width:90%\",placeHolder:\"Web Dates\"'  data-dojo-attach-point=\"webauditdatedescription\" data-dojo-type=\"dijit/form/ValidationTextBox\" ></input></td></tr>\r\n\t\t<tr><td >&nbsp;</td></tr>\r\n\t\t<tr>\r\n\t\t\t<td data-dojo-attach-point=\"close_button\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Close\"' data-dojo-attach-event=\"onClick:_close\"></button></td>\r\n\t\t\t<td data-dojo-attach-point=\"delete_button\" class=\"prmaxhidden\" ><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Delete\"' data-dojo-attach-event=\"onClick:_delete\"></button></td>\r\n\t\t\t<td align=\"right\"><button data-dojo-attach-event=\"onClick:_add_dates\" data-dojo-attach-point=\"savenode\" data-dojo-type=\"dojox/form/BusyButton\" type=\"button\" busyLabel=\"Please Wait Saving...\" label=\"Save\"></button></td></tr>\r\n\t</table>\r\n</form>\r\n</div>\r\n","url:research/outlets/templates/OutletEdit.html":"<div>\r\n\t<div data-dojo-props='region:\"top\",style:\"width:100%;height:30px\",\"class\":\"prmaxrowdisplaytitle\"' data-dojo-attach-point=\"blank_cont_view\" data-dojo-type=\"dijit/layout/ContentPane\" >\r\n\t\t<p style=\"color:white;padding:0px;margin:0px;text-align:middle\" data-dojo-attach-point=\"outlet_details_view\"></p>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/TabContainer\" data-dojo-attach-point=\"outlet_container\" data-dojo-props='region:\"center\"' >\r\n\t\t<div data-dojo-props='title:\"Title/Address\"' data-dojo-attach-point=\"outlet_main\" data-dojo-type=\"research/outlets/OutletEditMainDetails\" style=\"width:100%;height:100%;overflow:auto;\"></div>\r\n\t\t<div data-dojo-attach-point=\"outlet_profile_ctrl\" data-dojo-type=\"research/outlets/Profile\" data-dojo-props='title:\"Profile\",style:\"width:100%;height:100%\",\"class\":\"scrollpanel\"'></div>\r\n\t\t<div data-dojo-attach-point=\"outlet_coding_ctrl\" data-dojo-type=\"research/outlets/Coding\" data-dojo-props='prefix:\"${prefix}\", title:\"Related to/Coding\",style:\"width:100%;height:100%\",\"class\":\"scrollpanel\"'></div>\r\n\t\t<div data-dojo-type=\"dijit/layout/StackContainer\" data-dojo-attach-point=\"contact_grid\" data-dojo-props='title:\"Contacts\",style:\"width:100%;height:100%\",gutters:\"false\"' >\r\n\t\t\t<div data-dojo-attach-point=\"outlet_contact_no_edit_view\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='style:\"width:100%;height:100%;border:1px solid black\",region:\"center\"'></div>\r\n\t\t\t<div data-dojo-type=\"dijit/layout/BorderContainer\" data-dojo-attach-point=\"outlet_contact_view\" data-dojo-props='style:\"width:100%;height:100%\",gutters:\"false\"' >\r\n\t\t\t\t<div data-dojo-attach-point=\"outlet_contact_grid_view\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='style:\"width:100%;height:30%;border:1px solid black\",splitter:true,region:\"center\"'></div>\r\n\t\t\t\t<div data-dojo-type=\"dijit/layout/StackContainer\" data-dojo-attach-point=\"contact_edit_container\" data-dojo-props='region:\"bottom\",style:\"width:100%;height:70%\",splitter:true' >\r\n\t\t\t\t\t<div data-dojo-props='title:\"blank_cont_view\"' data-dojo-attach-point=\"blank_cont_view\" data-dojo-type=\"dijit/layout/ContentPane\" ></div>\r\n\t\t\t\t\t<div data-dojo-props='title:\"contact_edit\",\"class\":\"scrollpanel\"' data-dojo-attach-point=\"contact_edit\" data-dojo-type=\"research/employees/EmployeeEdit\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div data-dojo-attach-point=\"outlet_advance_ctrl\" data-dojo-type=\"research/outlets/AdvanceView\" data-dojo-props='title:\"Features\",style:\"width:100%;height:100%\"'></div>\r\n\t\t<div data-dojo-attach-point=\"outlet_research_ctrl\" data-dojo-type=\"research/ResearchDetails\" data-dojo-props='title:\"Research\",style:\"width:100%;height:100%\",\"class\":\"scrollpanel\"'></div>\r\n\t\t<div data-dojo-attach-point=\"outlet_audit_ctrl\" data-dojo-type=\"research/audit/AuditViewer\" data-dojo-props='title:\"Audit\",objectisbase:true,objecttypeid:1,style:\"width:100%;height:100%\"'></div>\r\n\t\t<div data-dojo-attach-point=\"outlet_desk_ctrl\" data-dojo-type=\"research/outlets/OutletDesks\" data-dojo-props='title:\"Desks\",style:\"width:100%;height:100%\"'></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"employee_delete_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Delete Outlet Contact\"'>\r\n\t\t<div data-dojo-attach-point=\"employee_delete_ctrl\" data-dojo-type=\"research/employees/EmployeeDelete\"></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"employee_change_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Add Contact\"'>\r\n\t\t<div data-dojo-attach-point=\"employee_change_ctrl\" data-dojo-type=\"research/employees/EmployeeEdit\" data-dojo-props='style:\"width:600px;height:500px\"' ></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"employee_set_primary_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title :\"Set Primary Contact\"'>\r\n\t\t<div data-dojo-attach-point=\"employee_set_primary_ctrl\" data-dojo-type=\"research/outlets/OutletSetPrimary\"></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"employee_move_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title :\"Move Contact to another Outlet\"'>\r\n\t\t<div data-dojo-attach-point=\"employee_move_ctrl\" data-dojo-type=\"research/outlets/OutletMoveContact\"></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"employee_copy_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title :\"Copy Contact to Outlet\"'>\r\n\t\t<div data-dojo-attach-point=\"employee_copy_ctrl\" data-dojo-type=\"research/outlets/OutletCopyContact\"></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"employee_merge_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title :\"Merge selected Contact to\"'>\r\n\t\t<div data-dojo-attach-point=\"employee_merge_ctrl\" data-dojo-type=\"research/employees/EmployeeMerge\"></div>\r\n\t</div>\r\n</div>\r\n","url:research/clippings/templates/mbrain_outlets.html":"<div>\r\n\t<form data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\">\r\n\t\t<input data-dojo-props='type:\"hidden\",value:\"-1\",name:\"outletexternallinkid\"' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"outletexternallinkid\"/>\r\n\t\t<table width=\"550px\" cellspacing=\"0\" cellpadding=\"0\" style=\"border-collapse: collapse\" >\r\n\t\t\t<tr><td>&nbsp;</td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\" width=\"250px\">Outlet</td><td><select data-dojo-props='style:\"width:20em\",name:\"outletid\",autoComplete:true,searchAttr:\"outletname\",required:true,placeHolder:\"No Selection\",pageSize:20' data-dojo-type=\"prcommon2/outlet/OutletSelect\" data-dojo-attach-point=\"outletid\"></select></td></tr>\r\n\t\t\t<tr><td>&nbsp;</td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Mark As Ignored</td><td><input data-dojo-type=\"dijit/form/CheckBox\" data-dojo-attach-point=\"ignore\" data-dojo-props='name:\"ignore\",type:\"checkbox\",checked:true' ></td> </tr>\r\n\t\t\t<tr><td>&nbsp;</td></tr>\r\n\t\t\t<tr><td class=\"prmaxrowtag\" align=\"right\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",name:\"submit\",label:\"Update\"' data-dojo-attach-event=\"onClick:_update_outlet\" ></button></td></tr>\r\n\t\t</table>\r\n\t\t<br/>\r\n\t</form>\r\n</div>\r\n\r\n\r\n","url:dijit/form/templates/ValidationTextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\r\n\tid=\"widget_${id}\" role=\"presentation\"\r\n\t><div class='dijitReset dijitValidationContainer'\r\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\r\n\t/></div\r\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\r\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\r\n\t\t\t${!nameAttrSetting} type='${type}'\r\n\t/></div\r\n></div>\r\n","url:research/employees/templates/EmployeeEdit.html":"<div>\r\n\t<div data-dojo-attach-point=\"data_view\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='style:\"overflow:auto;overflow-x:hidden\",region:\"center\"' >\r\n\t\t<form data-dojo-attach-point=\"formnode\" data-dojo-type=\"dijit/form/Form\" data-dojo-props='onSubmit:\"return false\",\"class\":\"prmaxdefault\"' >\r\n\t\t\t<input data-dojo-attach-point=\"employeeidnode\" data-dojo-props='name:\"employeeid\",type:\"hidden\"' data-dojo-type=\"dijit/form/TextBox\"></input>\r\n\t\t\t<table style=\"width:97%;border-collapse:collapse;\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\">\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Job Title</td><td><input data-dojo-attach-point=\"job_title\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxrequired\",name:\"job_title\",type:\"text\",maxlength:80,trim:true,required:true,style:\"width:98%\"'/></td></tr>\r\n\r\n\t\t\t\t<tr><td width=\"15%\" class=\"prmaxrowtag\" valign=\"top\"align=\"right\">Person</td><td><div data-dojo-props='\"class\":\"prmaxrequired\"' data-dojo-type=\"research/employees/EmployeeSelect\" data-dojo-attach-point=\"selectcontact\"></div></td></tr>\r\n\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Job Roles</td><td><div data-dojo-attach-point=\"jobroles\" data-dojo-type=\"prcommon2/roles/Roles\" data-dojo-props='orderbtns:false,name:\"jobroles\",value:\"\",startopen:true, size:6, searchmode:true, selectonly:true' ></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Desk</td><td><select data-dojo-attach-point=\"outletdeskid\" data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-props='name:\"outletdeskid\",searchAttr:\"deskname\",labelType:\"html\",\"class\":\"prmaxrequired\"' /></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Email</td><td ><input data-dojo-attach-point=\"email\"  data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"email\",type:\"text\",pattern:dojox.validate.regexp.emailAddress,trim:true,invalidMessage:\"invalid email address\",style:\"width:98%\",maxlength:70'></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Tel</td><td><input data-dojo-attach-point=\"tel\" data-dojo-props='\"class\":\"prmaxinput\",name:\"tel\",type:\"text\",size:25,maxlength:40' data-dojo-type=\"dijit/form/TextBox\"/></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Fax</td><td><input data-dojo-attach-point=\"fax\" data-dojo-type=\"dijit/form/TextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"fax\",type:\"text\",size:25,maxlength:40' /></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Mobile</td><td><input data-dojo-props='\"class\":\"prmaxinput\",name:\"mobile\",type:\"text\",size:25,maxlength:40' data-dojo-attach-point=\"mobile\" data-dojo-type=\"dijit/form/TextBox\"/></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Twitter</td>\r\n\t\t\t\t\t<td><span><input data-dojo-attach-point=\"twitter\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='name:\"twitter\",pattern:dojox.validate.regexp.url,type:\"text\",maxlength:80,trim:true,style:\"width:90%\"'/></span>\r\n\t\t\t\t\t\t<span><div data-dojo-attach-point=\"twitter_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Facebook</td>\r\n\t\t\t\t\t<td><span><input data-dojo-attach-point=\"facebook\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"facebook\",type:\"text\",maxlength:80,pattern:dojox.validate.regexp.url,trim:true,style:\"width:90%\"'/></span>\r\n\t\t\t\t\t\t<span><div data-dojo-attach-point=\"facebook_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Linkedin</td>\r\n\t\t\t\t\t<td><span><input data-dojo-attach-point=\"linkedin\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"linkedin\",type:\"text\",maxlength:80,pattern:dojox.validate.regexp.url,trim:true,style:\"width:90%\"' /></span>\r\n\t\t\t\t\t\t<span><div data-dojo-attach-point=\"linkedin_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Instagram</td>\r\n\t\t\t\t\t<td><span><input data-dojo-attach-point=\"instagram\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"instagram\",type:\"text\",maxlength:80,pattern:dojox.validate.regexp.url,trim:true,style:\"width:90%\"' /></span>\r\n\t\t\t\t\t\t<span><div data-dojo-attach-point=\"instagram_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Different Address</td><td><input data-dojo-props='name:\"no_address\",type:\"checkbox\"' data-dojo-attach-point=\"no_address\"  data-dojo-type=\"dijit/form/CheckBox\" data-dojo-attach-event=\"onClick:_address_show\" /></td></tr>\r\n\t\t\t\t<tr data-dojo-attach-point=\"addr1\" class=\"prmaxhidden\" ><td align=\"right\" class=\"prmaxrowtag\">Address1</td><td><input data-dojo-attach-point=\"address1\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='style:\"margin-left:10px\",\"class\":\"prmaxinput\",name:\"address1\",type:\"text\",trim:true,invalidMessage:\"Please enter address\",style:\"width:90%\"'></input></td></tr>\r\n\t\t\t\t<tr data-dojo-attach-point=\"addr2\" class=\"prmaxhidden\" ><td align=\"right\" class=\"prmaxrowtag\">Address2</td><td><input data-dojo-attach-point=\"address2\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='style:\"margin-left:10px\",\"class\":\"prmaxinput\",name:\"address2\",type:\"text\",trim:true,style:\"width:90%\"'></input></td></tr>\r\n\t\t\t\t<tr data-dojo-attach-point=\"addr3\" class=\"prmaxhidden\" ><td align=\"right\" class=\"prmaxrowtag\">Town</td><td><input data-dojo-attach-point=\"townname\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"townname\",type:\"text\",trim:true,style:\"width:90%\"' ></input></td></tr>\r\n\t\t\t\t<tr data-dojo-attach-point=\"addr4\" class=\"prmaxhidden\" ><td align=\"right\" class=\"prmaxrowtag\">County</td><td><input data-dojo-attach-point=\"county\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"county\",type:\"text\",trim:true,style:\"width:90%\"' ></input></td></tr>\r\n\t\t\t\t<tr data-dojo-attach-point=\"addr5\" class=\"prmaxhidden\" ><td align=\"right\" class=\"prmaxrowtag\">Post Code</td><td><input data-dojo-attach-point=\"postcode\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"postcode\",type:\"text\",trim:true,style:\"width:10em\"' ></input></td></tr>\r\n\t\t\t\t<tr><td></td><td data-dojo-attach-point=\"copy_keywords_btn\" align=\"left\" class=\"prmaxrowtag\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Copy Keywords from Outlet\"' data-dojo-attach-event=\"onClick:_copy_keywords_btn\"></button></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\" >Keywords:</td><td><div data-dojo-type=\"prcommon2/interests/Interests\" data-dojo-attach-point=\"interests\" data-dojo-props='displaytitle:\"\",restrict:0,size:6,name:\"interests\",startopen:true,selectonly:true,nofilter:true,keytypeid:1,interesttypeid:1' ></div></td></tr>\r\n\t\t\t</table>\r\n\t\t</form>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"bottom\", style:\"width:100%;height:40px;padding:5px\"' >\r\n\t\t<table width=\"100%\">\r\n\t\t\t<tr>\r\n\t\t\t\t<td data-dojo-attach-point=\"close_button\" class=\"prmaxhidden\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Close\"' data-dojo-attach-event=\"onClick:_close\"></button></td>\r\n\t\t\t\t<td data-dojo-attach-point=\"delete_button\" class=\"prmaxhidden\"><button data-dojo-attach-event=\"onClick:_delete_contact\" data-dojo-attach-point=\"deletenode\" data-dojo-type=\"dijit/form/Button\" type=\"button\" label=\"Delete Contact\"></button></td>\r\n\t\t\t\t<td width=\"70%\"><label class=\"prmaxrowtag\">Reason Code</label><select data-dojo-attach-point=\"reasoncodeid\" data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-props='name:\"reasoncodeid\",searchAttr:\"name\",labelType:\"html\",\"class\":\"prmaxrequired\"' /></td>\r\n\t\t\t\t<td align=\"right\"><button disabled=\"disabled\" data-dojo-attach-event=\"onClick:_save\" data-dojo-attach-point=\"savenode\" data-dojo-type=\"dojox/form/BusyButton\" type=\"button\" busyLabel=\"Please Wait Saving///\" label=\"Save\"></button></td>\r\n\t\t\t</tr>\r\n\t\t</table>\r\n\t</div>\r\n</div>\r\n","url:research/translations/templates/translationcirculationsource.html":"<div>\r\n\t<form data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\">\r\n\t\t<input data-dojo-props='type:\"hidden\",value:\"-1\",name:\"datasourcetranslationid\"' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"datasourcetranslationid\"/>\r\n\t\t<table width=\"550px\" cellspacing=\"0\" cellpadding=\"0\" style=\"border-collapse: collapse\" >\r\n\t\t\t<tr><td>&nbsp;</td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\" width=\"250px\">Source</td><td><select data-dojo-props='style:\"width:15em\",name:\"translation\",autoComplete:true,searchAttr:\"name\",required:true,placeHolder:\"No Selection\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"languageid\"></select></td><tr>\r\n\t\t\t<tr><td>&nbsp;</td></tr>\r\n\t\t\t<tr><td class=\"prmaxrowtag\" align=\"right\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",name:\"submit\",label:\"Update\"' data-dojo-attach-event=\"onClick:_update_translation\" ></button></td></tr>\r\n\t\t</table>\r\n\t\t<br/>\r\n\t</form>\r\n</div>\r\n\r\n","url:research/questionnaires/templates/Profile.html":"<div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='style:\"overflow:auto;overflow-x:hidden\",region:\"center\"' >\r\n\t\t<form  data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\" data-dojo-props='onsubmit:\"return false;\"'>\r\n\t\t\t<input data-dojo-props='type:\"hidden\",name:\"researchprojectitemid\",value:\"-1\"' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"researchprojectitemid\">\r\n\t\t\t<table width=\"98%\" cellspacing=\"0\" cellpadding=\"0\">\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Publisher</td><td><select data-dojo-props='style:\"width:15em\",name:\"publisherid\",autoComplete:true,searchAttr:\"publishername\",required:false,placeHolder:\"No Selection\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"publisherid\"></select></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"publisher_modified\"></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Publisher Name </td><td data-dojo-attach-point=\"publishername_view\" class=\"prmaxrowemphasise\"></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Primary Language</td><td><select data-dojo-props='style:\"width:15em\",name:\"language1id\",autoComplete:true,searchAttr:\"name\",required:false,placeHolder:\"No Selection\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"language1id\"></select></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"language1id_modified\"></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Other Language</td><td><select data-dojo-props='style:\"width:15em\",name:\"language2id\",autoComplete:true,searchAttr:\"name\",required:false,placeHolder:\"No Selection\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"language2id\"></select></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"language2id_modified\"></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Editorial Profile</td><td ><div class=\"reasonframe\" ><textarea data-dojo-attach-point=\"editorialprofile\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"editorialprofile\",style:\"width:99%;height:99%\"'  ></textarea></div></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"editorialprofile_modified\"></div></td><td valign=\"top\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='\"class\":\"prmaxdefault\",type:\"button\",label:\"Expand\"' data-dojo-attach-event=\"onClick:_expand_profile\"></button></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Readership/Audience</td><td ><div class=\"reasonframe\" ><textarea data-dojo-attach-point=\"readership\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"readership\",style:\"width:99%;height:99%\"'  ></textarea></div></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"readership_modified\"></div></td><td><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='\"class\":\"prmaxdefault\",type:\"button\",label:\"Expand\"' data-dojo-attach-event=\"onClick:_expand_readership\"></button></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">PAMco</td><td ><div class=\"reasonframe\" ><textarea data-dojo-attach-point=\"nrsreadership\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"nrsreadership\",style:\"width:99%;height:99%\"'  ></textarea></div></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"nrsreadership_modified\"></div></td><td valign=\"top\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='\"class\":\"prmaxdefault\",type:\"button\",label:\"Expand\"' data-dojo-attach-event=\"onClick:_expand_nrsreadership\"></button></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">JICREG Readership</td><td ><div class=\"reasonframe\" ><textarea data-dojo-attach-point=\"jicregreadership\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"jicregreadership\",style:\"width:99%;height:99%\"'  ></textarea></div></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"jicregreadership_modified\"></div></td><td valign=\"top\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='\"class\":\"prmaxdefault\",type:\"button\",label:\"Expand\"' data-dojo-attach-event=\"onClick:_expand_jicreg_readership\"></button></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Production Company</td><td><select data-dojo-props='style:\"width:15em\",name:\"productioncompanyid\",autoComplete:true,searchAttr:\"productioncompanydescription\",required:false,placeHolder:\"No Selection\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"productioncompanyid\"></select></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"productioncompanyid_modified\"></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Broadcast Times</td><td ><div class=\"reasonframe\" ><textarea data-dojo-attach-point=\"broadcasttimes\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"broadcasttimes\",style:\"width:99%;height:99%\"'  ></textarea></div></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"broadcasttimes_modified\"></div></td><td valign=\"top\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='\"class\":\"prmaxdefault\",type:\"button\",label:\"Expand\"' data-dojo-attach-event=\"onClick:_expand_broadcast\"></button></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Deadlines</td><td ><div class=\"reasonframe\" ><textarea data-dojo-attach-point=\"deadline\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"deadline\",style:\"width:99%;height:99%\"'  ></textarea></div></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"deadline_modified\"></div></td><td valign=\"top\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='\"class\":\"prmaxdefault\",type:\"button\",label:\"Expand\"' data-dojo-attach-event=\"onClick:_expand_deadline\"></button></td></tr>\r\n\t\t\t</table>\r\n\t\t</form>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"bottom\", style:\"width:100%;height:40px;padding:5px\"' >\r\n\t\t<table width=\"100%\" cellspacing=\"0\" cellpadding=\"0\">\r\n\t\t\t<tr>\r\n\t\t\t\t<td><button data-dojo-attach-event=\"onClick:_update_profile\" data-dojo-attach-point=\"savenode\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='style:\"float:right\",type:\"button\",busyLabel:\"Please Wait Saving...\",label:\"Save\"'></button></td>\r\n\t\t\t</tr>\r\n\t\t</table>\r\n\t</div>\r\n\r\n\t<div data-dojo-attach-point=\"publisher_add_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Publisher Add\"'>\r\n\t\t<div data-dojo-attach-point=\"publisher_add_ctrl\" data-dojo-type=\"prcommon2/publisher/PublisherAdd\"></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"production_add_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Production Company\"'>\r\n\t\t<div data-dojo-attach-point=\"production_add_ctrl\" data-dojo-type=\"prcommon2/production/ProductionCompanyAdd\"></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"text_view_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Edit\"'>\r\n\t\t<div data-dojo-attach-point=\"text_view_ctrl\" data-dojo-type=\"prcommon2/common/ExpandedText\" data-dojo-props='style:\"width:600px;height:500px\"'></div>\r\n\t</div>\r\n\r\n</div>\r\n","url:research/translations/templates/translateinterests.html":"<div>\r\n\t<form data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\">\r\n\t\t<input data-dojo-props='type:\"hidden\",value:\"-1\",name:\"datasourcetranslationid\"' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"datasourcetranslationid\"/>\r\n\t\t<table width=\"700px\" cellspacing=\"0\" cellpadding=\"0\" style=\"border-collapse: collapse\" >\r\n\t\t\t<tr><td>&nbsp;</td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\" width=\"100px\">Interest</td><td><div data-dojo-type=\"prcommon2/interests/Interests\" data-dojo-attach-point=\"interests\" data-dojo-props='name:\"interests\",selectonly:true,size:6,displaytitle:\"\",startopen:true,restrict:0,keytypeid:6,title:\"Select\"'></div></td><tr>\r\n\t\t\t<tr><td>&nbsp;</td></tr>\r\n\t\t\t<tr><td class=\"prmaxrowtag\" align=\"right\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",name:\"submit\",label:\"Update\"' data-dojo-attach-event=\"onClick:_update_translation\" ></button></td></tr>\r\n\t\t</table>\r\n\t\t<br/>\r\n\t</form>\r\n</div>\r\n\r\n","url:research/feedback/templates/Completed.html":"<div style=\"width:600px;height:200px;\" >\r\n\t<form  data-dojo-attach-point=\"form\" data-dojo-type=\"dijit/form/Form\" data-dojo-props='\"class\":\"prmaxdefault\",onsubmit:\"return false;\"'>\r\n\t\t<input data-dojo-attach-point=\"bounceddistributionid\" data-dojo-props='type:\"hidden\",name:\"bounceddistributionid\"' data-dojo-type=\"dijit/form/TextBox\" >\r\n\t\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\"  border =\"0\">\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Has Been Researched?</td><td><input data-dojo-attach-point=\"has_been_research\" data-dojo-props='\"class\":\"prmaxbutton\", type:\"text\", name:\"has_been_research\"' data-dojo-type=\"dijit/form/CheckBox\" ></td><td>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Reason</td><td >\r\n\t\t\t<select data-dojo-attach-point=\"reasoncodes\" data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-props='searchattr:\"name\",labeltype:\"html\",name:\"reasoncodeid\",style:\"width:98%\",\"class\":\"prmaxrequired\"'/>\r\n\t\t\t</td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Description</td><td  ><div class=\"reasonframe\" ><textarea data-dojo-attach-point=\"reason\" data-dojo-props='name:\"reason\",\"class\":\"prmaxrowtag\",required:true,style:\"width:99%;height:80%;\"' data-dojo-type=\"dijit/form/Textarea\"></textarea></div></td></tr>\r\n\t\t\t<tr><td><br/><br/></td></tr>\r\n\t\t\t<tr><td align=\"right\" colspan=\"2\"><button data-dojo-type=\"dijit/form/Button\" type=\"button\" data-dojo-attach-event=\"onClick:_complete_submit\" name=\"submit\">Bounce Email Completed</button></td></tr>\r\n\t\t</table>\r\n\t</form>\r\n</div>","url:research/employees/templates/EmployeeDelete.html":"<div style=\"width:400px\" >\r\n\t<form  data-dojo-attach-point=\"form\" data-dojo-type=\"dijit/form/Form\" data-dojo-props='onsubmit:\"return false;\",\"class\":\"prmaxdefault\" '>\r\n\t\t<input data-dojo-attach-point=\"employeeid\" data-dojo-props='name:\"employeeid\",type:\"hidden\"' data-dojo-type=\"dijit/form/TextBox\" >\r\n\t\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\"  border =\"0\">\r\n\t\t\t<tr><td  align=\"center\" data-dojo-attach-point=\"heading\" class=\"prmaxrowdisplaylarge\" colspan=\"2\" data-dojo-attach-point=\"header\" ></td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Reason</td><td ><select data-dojo-attach-point=\"reasoncodes\" data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-props='name:\"reasoncodeid\",searchAttr:\"name\",labelType:\"html\",style:\"width:98%\",\"class\":\"prmaxrequired\"'/></td></tr>\r\n\t\t\t<tr><td colspan=\"2\">&nbsp;</td></tr>\r\n\t\t\t<tr><td></td><td><label class=\"prmaxrowtag\"><input data-dojo-attach-point=\"delete_completely\" data-dojo-type=\"dijit/form/RadioButton\" data-dojo-props='name:\"delete_option\",\"class\":\"prmaxdefault\",checked:\"checked\",type:\"radio\",value:\"1\"'/>Delete completely</label></td></tr>\r\n\t\t\t<tr><td></td><td><label class=\"prmaxrowtag\"><input data-dojo-attach-point=\"delete_and_retain\" data-dojo-type=\"dijit/form/RadioButton\" data-dojo-props='name:\"delete_option\",\"class\":\"prmaxdefault\",type:\"radio\",value:\"2\"'/>Delete contact and retain role</label></td></tr>\r\n\t\t\t<tr><td colspan=\"2\">&nbsp;</td></tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td align=\"left\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\"' data-dojo-attach-event=\"onClick:_close\">Close</button></td>\r\n\t\t\t\t<td align=\"right\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\"' data-dojo-attach-event=\"onClick:_delete_submit\">Delete Contact</button></td></tr>\r\n\t\t</table>\r\n\t</form>\r\n</div>\r\n\r\n\r\n","url:research/lookups/templates/Countries.html":"<div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"top\",style:\"height:45px;width:100%;overflow:hidden\",\"class\":\"searchresults\"'>\r\n\t\t<div data-dojo-type=\"dijit/Toolbar\" data-dojo-props='style:\"height:99%;width:100%;padding:0px;margin:0px\"'>\r\n\t\t\t<div data-dojo-type=\"dijit/form/DropDownButton\"  data-dojo-props='iconClass:\"PRMaxCommonStdIcon PRMaxFilterIcon\",label:\"Filter\",showLabel:true'>\r\n\t\t\t\t<span>Filter By</span>\r\n\t\t\t\t<div data-dojo-type=\"dijit/TooltipDialog\" data-dojo-props='title:\"Enter Filter\"' data-dojo-attach-event=\"execute: _execute\">\r\n\t\t\t\t\t<table>\r\n\t\t\t\t\t\t<tr><td class=\"prmaxlabeltag\">Name</td><td><input data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"filter\" data-dojo-props='name:\"filter\",trim:true,maxlength:45,type:\"text\"'  ></td></tr>\r\n\t\t\t\t\t\t<tr><td class=\"prmaxlabeltag\">Type</td><td><select data-dojo-attach-point=\"countrytypeid_filter\" data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-props='name:\"countrytypeid\",searchAttr:\"name\",labelType:\"html\"' /></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"left\"><button data-dojo-attach-event=\"onClick: _clear_filter\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Clear Filter by\"'></button></td>\r\n\t\t\t\t\t\t\t\t<td align=\"right\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"submit\",name:\"submit\",label:\"Filter by\"'></button></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div data-dojo-type=\"dijit/form/Button\" data-dojo-props='iconClass:\"PRMaxCommonStdIcon PRMaxAddIcon\",showLabel:true,label:\"Add\"' data-dojo-attach-event=\"onClick:_show_new\"></div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"countries_grid_view\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"center\",style:\"width:50%;height:100%\",splitter:\"true\"' ></div>\r\n\t<div data-dojo-type=\"dijit/Dialog\" data-dojo-attach-point=\"add_dlg\" data-dojo-props='title:\"Add Country\",style:\"width:400px\"'>\r\n\t\t<form data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\" data-dojo-props='onsubmit:\"return false;\"'>\r\n\t\t\t<table width=\"300px\" cellpadding=\"0\" cellpadding=\"0\">\r\n\t\t\t\t<tr><td class=\"prmaxlabeltag\">Name</td><td><input data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-attach-point=\"countryname\" data-dojo-props='required:true,name:\"countryname\",invalidMessage:\"Please Enter Country Name\",trim:true,type:\"text\"'></td></tr>\r\n\t\t\t\t<tr><td class=\"prmaxlabeltag\">Type</td><td><select data-dojo-attach-point=\"countrytypeid\" data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-props='name:\"countrytypeid\",searchAttr:\"name\",labelType:\"html\",required:true' /></td></tr>\r\n\t\t\t\t<tr><td class=\"prmaxlabeltag\">Parent</td><td><select data-dojo-attach-point=\"regioncountryid\" data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-props='name:\"regioncountryid\",searchAttr:\"name\",labelType:\"html\"' /></td></tr>\r\n\t\t\t\t<tr><td><br/></td></tr>\r\n\t\t\t\t<tr><td colspan=\"2\" align=\"right\"><button data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='label:\"Add\",busyLabel:\"Please Wait\",type:\"button\"' data-dojo-attach-point=\"addbtn\" data-dojo-attach-event=\"onClick:_add\"></button></td></tr>\r\n\t\t\t</table>\r\n\t\t</form>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/Dialog\" data-dojo-attach-point=\"upd_dlg\" data-dojo-props='title:\"Update Country\",style:\"width:400px\"'>\r\n\t\t<form data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"upd_form\" data-dojo-props='onsubmit:\"return false;\"'>\r\n\t\t\t<input data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"upd_countryid\" data-dojo-props='name:\"countryid\",type:\"hidden\"'>\r\n\t\t\t<table width=\"100%\" cellpadding=\"0\" cellpadding=\"0\">\r\n\t\t\t\t<tr><td class=\"prmaxlabeltag\">Name</td><td><input data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-attach-point=\"upd_countryname\" data-dojo-props='required:true,name:\"countryname\",invalidMessage:\"Please Enter Country Name\",trim:true,type:\"text\"'></td></tr>\r\n\t\t\t\t<tr><td class=\"prmaxlabeltag\">Type</td><td><select data-dojo-attach-point=\"upd_countrytypeid\" data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-props='name:\"countrytypeid\",searchAttr:\"name\",labelType:\"html\",required:true' /></td></tr>\r\n\t\t\t\t<tr><td class=\"prmaxlabeltag\">Parent</td><td><select data-dojo-attach-point=\"upd_regioncountryid\" data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-props='name:\"regioncountryid\",searchAttr:\"name\",labelType:\"html\"' /></td></tr>\r\n\t\t\t\t<tr><td><br/></td></tr>\r\n\t\t\t\t<tr><td colspan=\"2\" align=\"right\"><button data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='label:\"Update\",busyLabel:\"Please Wait\",type:\"button\"' data-dojo-attach-point=\"updbtn\" data-dojo-attach-event=\"onClick:_update\"></button></td></tr>\r\n\t\t\t</table>\r\n\t\t</form>\r\n\t</div>\r\n</div>\r\n","url:research/templates/ResearchDetails.html":"<div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='style:\"overflow:auto;overflow-x:hidden\",region:\"center\"' >\r\n\t\t<form  data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\" data-dojo-props='\"class\":\"common_prmax_layout\",onsubmit:\"return false;\"'>\r\n\t\t\t<input type=\"hidden\" name=\"outletid\" value=\"-1\" data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"outletid\">\r\n\t\t\t<label class=\"label_1\">Surname</label><input data-dojo-attach-point=\"surname\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxrequired\",name:\"surname\",type:\"text\",trim:true,required:true,invalidMessage:\"Please enter contact surname\",style:\"width:70%\"'></input></br>\r\n\t\t\t<label class=\"label_1\">Firstname</label><input data-dojo-attach-point=\"firstname\" data-dojo-type=\"dijit/form/TextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"firstname\",type:\"text\",style:\"width:40%\"'></input></br>\r\n\t\t\t<label class=\"label_1\">Title</label><input data-dojo-attach-point=\"prefix\" data-dojo-type=\"dijit/form/TextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"prefix\",type:\"text\",style:\"width:20%\"'></input></br>\r\n\t\t\t<label class=\"label_1\">Job Title</label><input data-dojo-attach-point=\"job_title\" data-dojo-type=\"dijit/form/TextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"job_title\",type:\"text\",style:\"width:70%\"'></input></br>\r\n\t\t\t<label class=\"label_1\">Email</label><input data-dojo-attach-point=\"email\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"email\",type:\"text\",pattern:dojox.validate.regexp.emailAddress,trim:true,invalidMessage:\"invalid email address\",size:20,maxlength:70'></br>\r\n<!--\r\n\t\t\t<label class=\"label_1\">Tel</label><input data-dojo-attach-point=\"tel\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"tel\",type:\"text\",maxlength:40,trim:true,style:\"width:60%\"' /></br>\r\n-->\r\n\t\t\t<label class=\"label_1\">Frequency</label><select data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"researchfrequencyid\" data-dojo-props='style:\"width:70%\",\"class\":\"prmaxrequired\",name:\"researchfrequencyid\",autoComplete:true,searchAttr:\"name\",required:true,invalidMessage:\"Please select research frequency\",labelType:\"html\"' data-dojo-attach-event=\"onChange:_show_months\"></select></br>\r\n\t\t\t<div data-dojo-attach-point=\"quest_month_1_label\"><label class=\"label_1\">Month 1</label><select data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"quest_month_1\" data-dojo-props='name:\"quest_month_1\",autoComplete:true,searchAttr:\"name\",required:true,labelType:\"html\"'></select></br></div>\r\n\t\t\t<div data-dojo-attach-point=\"quest_month_2_label\"><label class=\"label_1\">Month 2</label><select data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"quest_month_2\" data-dojo-props='name:\"quest_month_2\",autoComplete:true,searchAttr:\"name\",required:true,labelType:\"html\"'></select></br></div>\r\n\t\t\t<div data-dojo-attach-point=\"quest_month_3_label\"><label class=\"label_1\">Month 3</label><select data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"quest_month_3\" data-dojo-props='name:\"quest_month_3\",autoComplete:true,searchAttr:\"name\",required:true,labelType:\"html\"'></select></br></div>\r\n\t\t\t<div data-dojo-attach-point=\"quest_month_4_label\"><label class=\"label_1\">Month 4</label><select data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"quest_month_4\" data-dojo-props='name:\"quest_month_4\",autoComplete:true,searchAttr:\"name\",required:true,labelType:\"html\"'></select></br></div>\r\n\t\t\t<label class=\"label_3\">Last Questionaire Sent</label><input data-dojo-props='\"class\":\"prmaxbutton\",type:\"text\",name:\"last_questionaire_sent\"' data-dojo-attach-point=\"last_questionaire_sent\" data-dojo-type=\"dijit/form/DateTextBox\" ></br>\r\n\t\t\t<label class=\"label_3\">Last Researched Completed</label><input data-dojo-props='\"class\":\"prmaxbutton\",type:\"text\",name:\"last_research_completed\"' data-dojo-attach-point=\"last_research_completed\" data-dojo-type=\"dijit/form/DateTextBox\" ></br>\r\n\t\t\t<label class=\"label_3\">Last Changed</label><p data-dojo-attach-point=\"last_research_changed_date\" ></p></br>\r\n\t\t\t<label class=\"label_3\">Last IP Update</label><p data-dojo-attach-point=\"last_customer_questionaire_action\" ></p></br>\r\n\t\t\t<label class=\"label_3\">Last Synchronised</label><p data-dojo-attach-point=\"last_sync\"></p></br></br>\r\n\r\n\t\t\t<label class=\"label_3\">Italian Export</label><p data-dojo-attach-point=\"italian_export\" data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='name:\"italian_export\",type:\"checkbox\"' ></p></br>\r\n<!--\r\n\t\t\t<label class=\"label_3\">Do not sunchronise</label><p data-dojo-attach-point=\"no_sync\" data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='type:\"checkbox\"' ></p></br>\r\n-->\r\n\t\t\t<label class=\"label_1\">Notes</label><div class=\"stdframe\" style=\"height:300px\"><textarea data-dojo-attach-point=\"notes\"  data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"notes\",style:\"height:300px\"'></textarea></div></br>\r\n\t\t</form>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"bottom\",style:\"width:100%;height:10em;padding-right:3px;\"'>\r\n\t\t<button data-dojo-attach-point=\"savebtn\" data-dojo-props='type:\"submit\",style:\"float:left\",label:\"Save\",busyLabel:\"Please Wait Updating...\"' data-dojo-attach-event=\"onClick:_update\" data-dojo-type=\"dojox/form/BusyButton\"></button>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"qdlg\" data-dojo-props='title:\"Email Questionaire\"' data-dojo-type=\"dijit/Dialog\">\r\n\t\t<div data-dojo-attach-point=\"qctrl\" data-dojo-type=\"research/questionnaires/SendSingle\"></div>\r\n\t</div>\r\n\t<form data-dojo-attach-point=\"previewform\" target=\"_newtab\" action=\"/research/admin/preview_questionnaire\" method=\"post\">\r\n\t\t<input type=\"hidden\" name=\"objecttypeid\" data-dojo-attach-point=\"preview_objecttypeid\">\r\n\t\t<input type=\"hidden\" name=\"objectid\" data-dojo-attach-point=\"preview_objectid\">\r\n\t</form>\r\n</div>\r\n","url:prcommon2/circulation/templates/CirculationDatesAdd.html":"<div style=\"border: 1px solid black\">\r\n<form  data-dojo-props='onsubmit:\"return false\",\"class\":\"prmaxdefault\"' data-dojo-attach-point=\"form\" data-dojo-type=\"dijit/form/Form\">\r\n\t<input data-dojo-props='name:\"circulationauditdateid\",type:\"hidden\",value:-1'  data-dojo-attach-point=\"circulationauditdateid\" data-dojo-type=\"dijit/form/TextBox\"/>\r\n\t\t<table cellspacing=\"0\" cellpadding=\"0\" width=\"400px\">\r\n\t\t<tr><td >&nbsp;</td></tr>\r\n\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" >Circulation Dates</td><td colspan=\"2\" ><input data-dojo-props='\"class\":\"prmaxinput\",name:\"circulationauditdatedescription\",type:\"text\",trim:true,required:true,style:\"width:90%\",placeHolder:\"Circulation Dates\"'  data-dojo-attach-point=\"circulationauditdatedescription\" data-dojo-type=\"dijit/form/ValidationTextBox\" ></input></td></tr>\r\n\t\t<tr><td >&nbsp;</td></tr>\r\n\t\t<tr>\r\n\t\t\t<td data-dojo-attach-point=\"close_button\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Close\"' data-dojo-attach-event=\"onClick:_close\"></button></td>\r\n\t\t\t<td data-dojo-attach-point=\"delete_button\" class=\"prmaxhidden\" ><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Delete\"' data-dojo-attach-event=\"onClick:_delete\"></button></td>\r\n\t\t\t<td align=\"right\"><button data-dojo-attach-event=\"onClick:_add_dates\" data-dojo-attach-point=\"savenode\" data-dojo-type=\"dojox/form/BusyButton\" type=\"button\" busyLabel=\"Please Wait Saving...\" label=\"Save\"></button></td></tr>\r\n\t</table>\r\n</form>\r\n</div>\r\n","url:dijit/form/templates/Button.html":"<span class=\"dijit dijitReset dijitInline\" role=\"presentation\"\r\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\r\n\t\tdata-dojo-attach-event=\"ondijitclick:__onClick\" role=\"presentation\"\r\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\r\n\t\t\tdata-dojo-attach-point=\"titleNode,focusNode\"\r\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\r\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\"></span\r\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\r\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\r\n\t\t\t\tid=\"${id}_label\"\r\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\r\n\t\t\t></span\r\n\t\t></span\r\n\t></span\r\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\r\n\t\tdata-dojo-attach-event=\"onclick:_onClick\"\r\n\t\ttabIndex=\"-1\" aria-hidden=\"true\" data-dojo-attach-point=\"valueNode\"\r\n/></span>\r\n","url:research/lookups/templates/Lanquages.html":"<div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"top\",style:\"width:100%;height:48px;padding:0px;margin:0px\"'>\r\n\t\t<div data-dojo-type=\"dijit/Toolbar\" data-dojo-props='style:\"height:99%;width:100%;padding:0px;margin:0px\"'>\r\n\t\t\t<div data-dojo-type=\"dijit/form/DropDownButton\"  data-dojo-props='iconClass:\"PRMaxCommonStdIcon PRMaxFilterIcon\",label:\"Filter\",showLabel:true'>\r\n\t\t\t\t<span>Filter By</span>\r\n\t\t\t\t<div data-dojo-type=\"dijit/TooltipDialog\" title=\"Enter Language filter\" data-dojo-attach-event=\"execute: _execute\">\r\n\t\t\t\t\t<table>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td>Text</td>\r\n\t\t\t\t\t\t\t<td><input data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"filter\" data-dojo-props='name:\"filter\",trim:\"true\",maxlength:45,type:\"text\"' ></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td align=\"left\"><button data-dojo-attach-event=\"onClick: _clear_filter\" data-dojo-type=\"dijit/form/Button\" type=\"button\" >Clear Filter by</button></td>\r\n\t\t\t\t\t\t\t<td align=\"right\"><button data-dojo-type=\"dijit/form/Button\" type=\"submit\" name=\"submit\">Filter by</button></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div data-dojo-type=\"dijit/form/Button\" data-dojo-props='iconClass:\"PRMaxCommonStdIcon PRMaxAddIcon\",showLabel:true' data-dojo-attach-event=\"onClick: _new_language\" > <span>New</span></div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"center\"' data-dojo-attach-point=\"grid_view\"></div>\r\n\r\n\t<div data-dojo-attach-point=\"language_add_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Language Add\"'>\r\n\t\t<div data-dojo-attach-point=\"language_add_ctrl\" data-dojo-type=\"prcommon2/languages/LanguageAdd\"></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"language_update_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Language Update\"'>\r\n\t\t<div data-dojo-attach-point=\"language_update_ctrl\" data-dojo-type=\"prcommon2/languages/LanguageAdd\" data-dojo-props='mode:\"update\"'></div>\r\n\t</div>\r\n</div>","url:prcommon2/search/templates/PrmaxOutletTypes.html":"<div class=\"prmaxoutlettype\">\r\n\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\" >\r\n\t\t<tr><td width=\"20%\"   class=\"prmaxrowtag\">Media Channels</td>\r\n\t\t\t\t<td width=\"5%\" ><img height=\"16px\" width=\"16px\" data-dojo-attach-point=\"togglectrl\" data-dojo-attach-event=\"onclick:_toggle\" src=\"/prmax_common_s/images/toopen.gif\" class=\"toggleselect\"></img>\r\n\t\t\t\t<td align=\"right\" valign=\"top\" ><div data-dojo-attach-point=\"countnode\" data-dojo-type=\"prcommon2/search/SearchCount\"></div></td>\r\n\t\t</tr>\r\n\t</table>\r\n\t<div style=\"border 2px solid black\">\r\n\t\t<div data-dojo-attach-point=\"selectarea\" style=\"display:none\" >\r\n\t\t\t<table width=\"100%\" class=\"prmaxtable\" >\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t <td width=\"33%\">\r\n\t\t\t\t\t <div class=\"box1\">\r\n\t\t\t\t\t <input  data-dojo-attach-point=\"node1\" data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='style:\"float:left\",\"class\":\"check_input prmaxdefault\",type:\"checkbox\",value:\"1\"' />\r\n\t\t\t\t\t <label data-dojo-attach-point=\"node1label\" class=\"labeltag\" >National Newspapers</label><div class=\"imagebox\" style=\"display:inline\">&nbsp;<img src=\"/prmax_common_s/images/outlet_fill.gif\" data-dojo-attach-point=\"node1button\" ></img></a></div>\r\n\t\t\t\t\t </div>\r\n\t\t\t\t\t </td>\r\n\t\t\t\t\t<td width=\"33%\">\r\n\t\t\t\t\t <div class=\"box1\">\r\n\t\t\t\t\t<input data-dojo-props='style:\"float:left\",\"class\":\"check_input prmaxdefault\",type:\"checkbox\",value:\"2\"' data-dojo-attach-point=\"node2\" data-dojo-type=\"dijit/form/CheckBox\"/>\r\n\t\t\t\t\t<label  data-dojo-attach-point=\"node2label\" class=\"labeltag\" >Regional Newspapers</label>\r\n\t\t\t\t\t<div class=\"imagebox\" style=\"display:inline\">&nbsp;<img src=\"/prmax_common_s/images/outlet_fill.gif\" data-dojo-attach-point=\"node2button\"></div>\r\n\t\t\t\t\t</div></td>\r\n\t\t\t\t\t<td width=\"33%\">\r\n\t\t\t\t\t <div class=\"box1\">\r\n\t\t\t\t\t<input data-dojo-attach-point=\"node3\" data-dojo-type=\"dijit/form/CheckBox\" data--dojo-props='style:\"float:left\",\"class\":\"check_input prmaxdefault\",type:\"checkbox\",value:\"3\"' />\r\n\t\t\t\t\t<label data-dojo-attach-point=\"node3label\" class=\"labeltag\" >B2B Magazines</label>\r\n\t\t\t\t\t<div class=\"imagebox\" style=\"display:inline\">&nbsp;<img src=\"/prmax_common_s/images/outlet_fill.gif\" data-dojo-attach-point=\"node3button\"></div>\r\n\t\t\t\t\t</div></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t <td width=\"33%\">\r\n\t\t\t\t\t <div class=\"box1\">\r\n\t\t\t\t\t<input data-dojo-props='style:\"float:left\",\"class\":\"check_input prmaxdefault\",type:\"checkbox\",value:\"4\"' data-dojo-attach-point=\"node4\" data-dojo-type=\"dijit/form/CheckBox\" />\r\n\t\t\t\t\t<label data-dojo-attach-point=\"node4label\" class=\"labeltag\" >Consumer Magazines</label>\r\n\t\t\t\t\t<div class=\"imagebox\" style=\"display:inline\">&nbsp;<img src=\"/prmax_common_s/images/outlet_fill.gif\" data-dojo-attach-point=\"node4button\"></div>\r\n\t\t\t\t\t</div></td>\r\n\t\t\t\t\t <td width=\"33%\">\r\n\t\t\t\t\t <div class=\"box1\">\r\n\t\t\t\t\t<input data-dojo-props='style:\"float:left\",\"class\":\"prmaxdefault\",type:\"checkbox\",value:\"5\"' data-dojo-attach-point=\"node5\" data-dojo-type=\"dijit/form/CheckBox\" />\r\n\t\t\t\t\t<label class=\"labeltag\" data-dojo-attach-point=\"node5label\" >Radio</label>\r\n\t\t\t\t\t<div class=\"imagebox\" style=\"display:inline\">&nbsp;<img src=\"/prmax_common_s/images/outlet_fill.gif\" data-dojo-attach-point=\"node5button\"></div>\r\n\t\t\t\t\t</div></td>\r\n\t\t\t\t\t <td width=\"33%\">\r\n\t\t\t\t\t <div class=\"box1\">\r\n\t\t\t\t\t<input data-dojo-props='style:\"float:left\",\"class\":\"prmaxdefault\",type:\"checkbox\",value:\"6\"' data-dojo-attach-point=\"node6\" data-dojo-type=\"dijit/form/CheckBox\" />\r\n\t\t\t\t\t<label class=\"labeltag\" data-dojo-attach-point=\"node6label\" >TV</label>\r\n\t\t\t\t\t<div class=\"imagebox\" style=\"display:inline\">&nbsp;<img src=\"/prmax_common_s/images/outlet_fill.gif\" data-dojo-attach-point=\"node6button\"></div>\r\n\t\t\t\t\t</div></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t <td width=\"33%\">\r\n\t\t\t\t\t <div class=\"box1\">\r\n\t\t\t\t\t<input  data-dojo-attach-point=\"node7\" data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='style:\"float:left\",\"class\":\"prmaxdefault\",type:\"checkbox\",value:\"7\"' /><label class=\"labeltag\" data-dojo-attach-point=\"node7label\" >Influencers</label>\r\n\t\t\t\t\t<div class=\"imagebox\" style=\"display:inline\">&nbsp;<img src=\"/prmax_common_s/images/outlet_fill.gif\" data-dojo-attach-point=\"node7button\"></div>\r\n\t\t\t\t\t</div></td>\r\n\t\t\t\t\t <td width=\"33%\">\r\n\t\t\t\t\t <div class=\"box1\">\r\n\t\t\t\t\t<input  data-dojo-attach-point=\"node8\" data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='style:\"float:left\",\"class\":\"prmaxdefault\",type:\"checkbox\",value:\"8\"' /><label class=\"labeltag\" data-dojo-attach-point=\"node8label\" >News Services</label>\r\n\t\t\t\t\t<div class=\"imagebox\" style=\"display:inline\">&nbsp;<img src=\"/prmax_common_s/images/outlet_fill.gif\" data-dojo-attach-point=\"node8button\"></div>\r\n\t\t\t\t\t</div></td>\r\n\t\t\t\t\t <td width=\"33%\">\r\n\t\t\t\t\t <div class=\"box1\">\r\n\t\t\t\t\t<input  data-dojo-attach-point=\"node9\"  data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='style:\"float:left\",\"class\":\"prmaxdefault\",type:\"checkbox\",value:\"9\"' /><label class=\"labeltag\" data-dojo-attach-point=\"node9label\" >Parliamentary</label>\r\n\t\t\t\t\t<div class=\"imagebox\" style=\"display:inline\">&nbsp;<img src=\"/prmax_common_s/images/outlet_fill.gif\" data-dojo-attach-point=\"node9button\"></div>\r\n\t\t\t\t\t</div></td>\r\n\t\t\t\t</tr>\r\n\t\t\t</table>\r\n\t\t\t<br/>\r\n\t\t\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\" >\r\n\t\t\t\t  <tr><td width=\"48%\"><select style=\"width:100%\" data-dojo-attach-point=\"outlet_type_list\" size=\"${size}\" class=\"lists\" multiple=\"multiple\" ></select></td>\r\n\t\t\t\t  <td >\r\n\t\t\t\t  <button data-dojo-attach-point=\"button_all\" data-dojo-props='\"class\":\"button_add_add\",style:\"padding:0px;margin:0px\",disabled:true,type:\"button\"' data-dojo-attach-event=\"onClick:_outlet_type_select_all\" data-dojo-type=\"dijit/form/Button\"><div class=\"std_movement_button\">&gt;&gt;</div></button><br/>\r\n\t\t\t\t  <button data-dojo-attach-point=\"button_single\" data-dojo-props='\"class\":\"button_add_single\",style:\"padding:0px;margin:0px\",disabled:true,type:\"button\"' data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:_outlet_type_select_single\"><div class=\"std_movement_button\">&gt;&nbsp;</div></button><br/>\r\n\t\t\t\t  <button data-dojo-attach-point=\"button_del_all\" data-dojo-props='\"class\":\"button_del_all\",style:\"padding:0px;margin:0px\",disabled:true,type:\"button\"'  data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:_outlet_type_remove_all\"><div class=\"std_movement_button\">&lt;&lt;</div></button><br/>\r\n\t\t\t\t  <button data-dojo-attach-point=\"button_del_single\" data-dojo-props='\"class\":\"button_del_single\",style:\"padding:0px;margin:0px\",disabled:true,type:\"button\"'  data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:_outlet_type_remove_single\"><div class=\"std_movement_button\">&lt;&nbsp;</div></button></td>\r\n\t\t\t\t  <td width=\"48%\"><select style=\"width:100%\" data-dojo-attach-point=\"outlet_type_select\" size=\"${size}\" class=\"lists\" multiple=\"multiple\" ></select></td></tr>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n","url:dijit/form/templates/CheckBox.html":"<div class=\"dijit dijitReset dijitInline\" role=\"presentation\"\r\n\t><input\r\n\t \t${!nameAttrSetting} type=\"${type}\" role=\"${type}\" aria-checked=\"false\" ${checkedAttrSetting}\r\n\t\tclass=\"dijitReset dijitCheckBoxInput\"\r\n\t\tdata-dojo-attach-point=\"focusNode\"\r\n\t \tdata-dojo-attach-event=\"ondijitclick:_onClick\"\r\n/></div>\r\n","url:prcommon2/geographical/templates/GeographicalEdit.html":"<div class=\"dojogeographicalPane\" data-dojo-attach-point=\"containerNode\" >\r\n\t<form class=\"prmaxdefault\" data-dojo-attach-point=\"form\" data-dojo-type=\"dijit/form/Form\" onSubmit=\"return false\">\r\n\t<table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\">\r\n\t\t<tr><td >&nbsp;</td></tr>\r\n\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Name</td><td><input data-dojo-type=\"dijit/form/ValidationTextBox\"name=\"geographicalname\" data-dojo-attach-point=\"geographicalname\" data-dojo-props='trim:true,required:true,maxlength:85,style:\"width:98%\",type:\"text\"' ></td></tr>\r\n\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Type</td><td><select data-dojo-attach-point=\"geographicallookuptypeid\" data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-attach-event =\"onChange:_type_changed\" data-dojo-props='name:\"geographicallookuptypeid\",searchAttr:\"name\",labelType:\"html\",style:\"width:98%\"' /></td></tr>\r\n\t\t<tr><td >&nbsp;</td></tr>\r\n\t\t<tr><td class=\"prmaxrowtag\" colspan=\"2\" align=\"left\" >Parent</td></tr>\r\n\t\t<tr><td colspan=\"2\"><table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\">\r\n\t\t<tr ><td colspan=\"3\" ><span class=\"prmaxrowtag\">Select</span><input data-dojo-props='\"class\":\"prmaxfocus prmaxinput\",type:\"text\",style:\"width:200px;padding-bottom:3px\"' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"geographical_list_select\" /></td></tr>\r\n\t\t<tr><td width=\"46%\"><select style=\"width:100%\" data-dojo-attach-point=\"geographical_list\" size=\"7\" class=\"lists\" multiple=\"multiple\" ></select></td>\r\n\t\t\t\t<td>\r\n\t\t\t\t\t<button class=\"button_add_all\" style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"button_all\" disabled=\"true\" type=\"button\" data-dojo-attach-event=\"onClick:_geographical_select_all\" data-dojo-type=\"dijit/form/Button\"><div class=\"std_movement_button\">&gt;&gt;</div></button><br/>\r\n\t\t\t\t\t<button class=\"button_add_single\" style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"button_single\" disabled=\"true\" type=\"button\" data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:_geographical_select_single\"><div class=\"std_movement_button\">&gt;&nbsp;</div></button><br/>\r\n\t\t\t\t\t<button class=\"button_del_all\" style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"button_del_all\" disabled=\"true\" type=\"button\" data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:_geographical_remove_all\"><div class=\"std_movement_button\">&lt;&lt;</div></button><br/>\r\n\t\t\t\t\t<button class=\"button_del_single\" style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"button_del_single\" disabled=\"true\" type=\"button\" data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:_geographical_remove_single\"><div class=\"std_movement_button\">&lt;&nbsp;</div></button>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t<td  width=\"46%\"><select style=\"width:100%\" data-dojo-attach-point=\"geographical_select\" size=\"7\" class=\"lists\" multiple=\"multiple\" data-dojo-attach-event=\"onchange:_geographical_update_selection\"></select></td>\r\n\t\t</tr></table></td></tr>\r\n\t</table>\r\n\t<div data-dojo-attach-point=\"child_view\">\r\n\t\t<table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\">\r\n\t\t\t<tr><td class=\"prmaxrowtag\" colspan=\"2\" align=\"left\" >Children</td></tr>\r\n\t\t\t<tr><td colspan=\"2\"><table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\">\r\n\t\t\t<tr ><td colspan=\"3\" ><span class=\"prmaxrowtag\">Select</span><input class=\"prmaxfocus prmaxinput\" type=\"text\" style=\"width:200px;padding-bottom:3px\" data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"child_list_select\" /></td></tr>\r\n\t\t\t<tr><td width=\"46%\"><select style=\"width:100%\" data-dojo-attach-point=\"child_list\" size=\"7\" class=\"lists\" multiple=\"multiple\" ></select></td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<button class=\"button_add_all\"  style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"child_btn_all\" disabled=\"true\" type=\"button\" data-dojo-attach-event=\"onClick:_child_select_all\" data-dojo-type=\"dijit/form/Button\"><div class=\"std_movement_button\">&gt;&gt;</div></button><br/>\r\n\t\t\t\t\t\t<button class=\"button_add_single\" style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"child_btn_single\" disabled=\"true\" type=\"button\" data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:_child_select_single\"><div class=\"std_movement_button\">&gt;&nbsp;</div></button><br/>\r\n\t\t\t\t\t\t<button class=\"button_del_all\" style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"child_btn_del_all\" disabled=\"true\" type=\"button\" data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:_child_remove_all\"><div class=\"std_movement_button\">&lt;&lt;</div></button><br/>\r\n\t\t\t\t\t\t<button class=\"button_del_single\" style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"child_btn_del_single\" disabled=\"true\" type=\"button\" data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:_child_remove_single\"><div class=\"std_movement_button\">&lt;&nbsp;</div></button>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t<td  width=\"46%\"><select style=\"width:100%\" data-dojo-attach-point=\"child_select\" size=\"7\" class=\"lists\" multiple=\"multiple\" data-dojo-attach-event=\"onchange:_child_update_selection\"></select></td>\r\n\t\t\t</tr></table></td></tr>\r\n\t\t\t<tr><td >&nbsp;</td></tr>\r\n\t\t</table>\r\n\t</div>\r\n\t<table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\">\r\n\t\t<tr><td colspan=\"2\"><table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\">\r\n\t\t<td align=\"left\"><button  style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"transfer\" type=\"button\" data-dojo-attach-event=\"onClick:_transfere\" data-dojo-type=\"dijit/form/Button\" label=\"Show Transfer Coverage\"></button></td>\r\n\t\t<td><class=\"prmaxhidden\" button  style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"deletebtn\" type=\"button\" data-dojo-attach-event=\"onClick:_delete\" data-dojo-type=\"dijit/form/Button\" label=\"Delete\"></button></td>\r\n\t\t<td align=\"right\"><button  style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"save\" type=\"button\" data-dojo-attach-event=\"onClick:_save\" data-dojo-type=\"dijit/form/Button\" label=\"Save\"></button></td>\r\n\t\t</tr></table></tr></td>\r\n\t</table>\r\n\t</form>\r\n\t<div class=\"prmaxhidden\" data-dojo-attach-point=\"show_transfer\" style=\"padding-top:5px\">\r\n\t\t<table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\">\r\n\t\t\t<tr><td colspan=\"3\" class=\"prmaxrowdisplaytitle\">Move Coverage to a New Area</td></tr>\r\n\t\t\t<tr><td >&nbsp;</td></tr>\r\n\t\t\t<tr ><td colspan=\"3\" ><span class=\"prmaxrowtag\">Select</span><input class=\"prmaxfocus prmaxinput\" type=\"text\" style=\"width:200px;padding-bottom:3px\" data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"transfer_list_select\" /></td></tr>\r\n\t\t<tr><td width=\"46%\"><select style=\"width:100%\" data-dojo-attach-point=\"transfer_list\" size=\"7\" class=\"lists\" ></select></td>\r\n\t\t<tr><td >&nbsp;</td></tr>\r\n\t\t<tr><td align=\"left\"><button  style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"transfer_do\" disabled=\"disabled\" type=\"button\" data-dojo-attach-event=\"onClick:_transfere_do\" data-dojo-type=\"dijit/form/Button\" label=\"Do Transfer Coverage To\"></button></td>\r\n\t\t</tr></table></td></tr>\r\n\r\n </div>\r\n","url:research/outlets/templates/OutletDesks.html":"<div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"top\",style:\"width:100%;height:48px;padding:0px;margin:0px\"'>\r\n\t\t<div data-dojo-type=\"dijit/Toolbar\" data-dojo-props='style:\"height:99%;width:100%;padding:0px;margin:0px\"'>\r\n\t\t\t<div data-dojo-type=\"dijit/form/Button\" data-dojo-props='iconClass:\"fa fa-plus fa-3x\",showLabel:true' data-dojo-attach-event=\"onClick:_add_desk\"><span>Add Desk</span></div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/BorderContainer\" data-dojo-props='region:\"center\"'>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"center\"' data-dojo-attach-point=\"grid_view\"></div>\r\n\t\t<div data-dojo-type=\"dijit/layout/StackContainer\" data-dojo-attach-point=\"controls\" data-dojo-props=\"region:'bottom',style:'width:100%;height:50%',preload:false,splitter:true\">\r\n\t\t\t<div data-dojo-attach-point=\"blank\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='title:\"blank\",selected:\"selected\"'></div>\r\n\t\t\t<div data-dojo-attach-point=\"desk_update_ctrl\" data-dojo-type=\"prcommon2/outlet/desks/DeskAdd\" data-dojo-props='mode:\"update\",style:\"width:100%;height:100%\",\"class\":\"scrollpanel\"'></div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"desk_add_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Add Desk\",style:\"width:600px;height:520px\"'>\r\n\t\t<div data-dojo-type=\"dijit/layout/BorderContainer\" data-dojo-props='style:\"width:590px;height:490px\"'>\r\n\t\t\t<div data-dojo-attach-point=\"desk_add_ctrl\" data-dojo-type=\"prcommon2/outlet/desks/DeskAdd\" data-dojo-props='region:\"center\"'></div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","url:research/projects/templates/edit.html":"<div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-attach-point=\"controls\" data-dojo-props='region:\"top\",style:\"height:44px;width:100%;overflow:hidden\"'>\r\n\t\t<div data-dojo-attach-point=\"researchprojectname\" class=\"dijitToolbar prmaxrowdisplaylarge\" style=\"float:left;height:99%;width:25%;padding:0px;margin:0px\">Project Name</div>\r\n\t\t<div data-dojo-type=\"dijit/Toolbar\" data-dojo-props='style:\"height:99%;width:100%;padding:0px;margin:0px\"'>\r\n\t\t\t<div data-dojo-type=\"dijit/form/DropDownButton\"  data-dojo-props='iconClass:\"fa fa-filter fa-3x\",label:\"Filter\",showLabel:true'>\r\n\t\t\t\t<span>Filter By</span>\r\n\t\t\t\t<div data-dojo-type=\"dijit/TooltipDialog\" title=\"Filter\" data-dojo-attach-event=\"execute: _execute_filter\">\r\n\t\t\t\t\t<table>\r\n\t\t\t\t\t\t<tr><td>Type</td><td><select data-dojo-attach-point=\"filter_researchprojectstatusid\" name=\"researchprojectstatusid\" data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-props='searchAttr:\"name\",labelType:\"html\"' /></td></tr>\r\n\t\t\t\t\t\t<tr><td>Outlet Name</td><td><input data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"filter_outletname\" data-dojo-props='type:\"text\",name:\"outletname\"' ></td></tr>\r\n\t\t\t\t\t\t<tr><td>Email Address</td><td><input data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"filter_emailaddress\" data-dojo-props='type:\"text\",name:\"emailaddress\"' ></td></tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td align=\"left\"><button data-dojo-attach-event=\"onClick:_clear_filter\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\"' >Clear Filter by</button></td>\r\n\t\t\t\t\t\t\t<td align=\"right\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"submit\",name:\"submit\"'>Filter by</button></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div data-dojo-attach-event=\"onClick:_list_of_projects\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='iconClass:\"fa fa-list-alt fa-3x\"'><span>Goto Project List</span></div>\r\n\t\t\t<div data-dojo-attach-event=\"onClick:_show_info\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='iconClass:\"fa fa-info fa-3x\"'><span>Project Status</span></div>\r\n\t\t\t<div data-dojo-attach-event=\"onClick:_show_add\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='iconClass:\"fa fa-plus fa-3x\"'><span>Add to Project</span></div>\r\n\t\t\t<div data-dojo-attach-event=\"onClick:_do_refresh\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='iconClass:\"fa fa-refresh fa-3x\"'><span>Refresh</span></div>\r\n\r\n\t\t</div>\r\n\t</div>\r\n\t<div data-dojo-type=\"dojox/layout/ExpandoPane\" data-dojo-props='title:\"Outlets\",region:\"left\",maxWidth:175,style:\"width:40%;height:100%;overflow:hidden\",splitter:true'>\r\n\t\t<div data-dojo-attach-point=\"grid_view\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='style:\"height:100%;width:100%\"'></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"zone\" data-dojo-type=\"dijit/layout/StackContainer\" data-dojo-props='region:\"center\"'>\r\n\t\t<div data-dojo-attach-point=\"blank\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='title:\"blank\"'></div>\r\n\t\t<div data-dojo-attach-point=\"outletwizard\" data-dojo-type=\"research/questionnaires/OutletUpdate\" data-dojo-props='title:\"outletwizard\",style:\"height:100%;width:100%\"'></div>\r\n\t\t<div data-dojo-attach-point=\"deskwizard\" data-dojo-type=\"research/questionnaires/DeskUpdate\" data-dojo-props='title:\"deskwizard\",style:\"height:100%;width:100%\"'></div>\r\n\t\t<div data-dojo-attach-point=\"outletedit\" data-dojo-type=\"research/outlets/OutletEdit\" data-dojo-props='prefix:\"${prefix}\",title:\"outlet\",style:\"width:100%;height:100%\",\"class\":\"bordered\"'></div>\r\n\t\t<div data-dojo-attach-point=\"freelanceedit\" data-dojo-type=\"research/freelance/FreelanceEdit\" data-dojo-props='title:\"freelance\",style:\"width:100%;height:100%\",\"class\":\"bordered\"'></div>\r\n\t\t<div data-dojo-attach-point=\"freelancewizard\" data-dojo-type=\"research/questionnaires/FreelanceEdit\" data-dojo-props='title:\"freelance\",style:\"width:100%;height:100%\",\"class\":\"bordered\"'></div>\r\n\t\t<div data-dojo-attach-point=\"info_page\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='title:\"info_page\",style:\"width:100%;height:100%\",\"class\":\"bordered\"'></div>\r\n\t\t<div data-dojo-attach-point=\"statusedit\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='title:\"status_edit\",style:\"width:100%;height:100%\",\"class\":\"bordered\"'>\r\n\t\t\t<br/>\r\n\t\t\t<form data-dojo-attach-point=\"form\" data-dojo-type=\"dijit/form/Form\" data-dojo-props='onsubmit:\"return false;\",\"class\":\"prmaxdefault\"'>\r\n\t\t\t\t<input data-dojo-attach-point=\"researchprojectitemid\" data-dojo-props='name:\"researchprojectitemid\",type:\"hidden\"' data-dojo-type=\"dijit/form/TextBox\" >\r\n\t\t\t\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\"  border =\"0\">\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" width=\"200px\">New Status</td><td ><select data-dojo-attach-point=\"researchprojectstatusid\" data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-props='name:\"researchprojectstatusid\",searchAttr:\"name\",labelType:\"html\",\"class\":\"prmaxrequired\"'/></td></tr>\r\n<!--\r\n\t\t\t\t\t<tr><td class=\"prmaxrowtag\" align=\"right\">Update Researched Date</td><td><input data-dojo-attach-point=\"researcheddate\" data-dojo-props='name:\"researcheddate\",type:\"checkbox\"' data-dojo-type=\"dijit/form/CheckBox\"></td></tr>\r\n\t\t\t\t\t<tr><td class=\"prmaxrowtag\" align=\"right\">Notes</td><td><div class=\"stdtextframe\" ><textarea data-dojo-attach-point=\"notes\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"notes\",style:\"width:99%;height:99%\"'  ></textarea></div></td></tr>\r\n-->\r\n\t\t\t\t\t<tr><td colspan=\"2\">&nbsp;</td></tr>\r\n\t\t\t\t\t<tr>\r\n<!--\r\n\t\t\t\t\t\t<td align=\"left\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:_update_record_complete\" data-dojo-props='type:\"button\",label:\"Complete\"'></button></td>\r\n-->\r\n\t\t\t\t\t\t<td align=\"right\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:_update_record\" data-dojo-props='type:\"button\",label:\"Update\"'></button></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t\t<div data-dojo-attach-point=\"append_select\" data-dojo-type=\"dijit/layout/BorderContainer\" data-dojo-props='title:\"append_select\",gutters:false,style:\"width:100%;height:100%\"'>\r\n\t\t\t<div data-dojo-type=\"dijit/layout/BorderContainer\" data-dojo-props='region:\"top\",style:\"width:100%;height:40%;overflow:hidden\",gutters:false'>\r\n\t\t\t\t<div data-dojo-attach-point=\"search_tabcont\" data-dojo-type=\"dijit/layout/TabContainer\" data-dojo-props='region:\"center\"'>\r\n\t\t\t\t\t<div data-dojo-attach-point=\"search_tab_outlet\" data-dojo-type=\"prcommon2/search/OutletSearch\" data-dojo-props='style:\"height:100%;overflow:auto;overflow-x:hidden\",\"class\":\"scrollpanel\",title:\"Outlet\"'></div>\r\n\t\t\t\t\t<div data-dojo-attach-point=\"search_tab_freelance\" data-dojo-type=\"prcommon2/search/FreelanceSearch\" data-dojo-props='style:\"height:100%;overflow:auto;overflow-x:hidden\",\"class\":\"scrollpanel\",title:\"Freelance\"'></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"bottom\",style:\"width:100%;height:15%;padding-top:10px\"'>\r\n\t\t\t\t\t<table width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" style=\"border-collapse: collapse;\" >\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td align=\"left\"><button data-dojo-attach-point=\"search_append\" data-dojo-attach-event=\"onClick:_search_append\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='\"class\":\"prmaxbutton\",iconClass:\"fa fa-search-plus\",busyLabel:\"Adding\"'>Append Results too Project</button></td>\r\n\t\t\t\t\t\t\t<td><button data-dojo-attach-event=\"onClick:_clear_search\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='\"class\":\"prmaxbutton\",label:\"Clear Results\"' ></button></td>\r\n\t\t\t\t\t\t\t<td><button data-dojo-attach-event=\"onClick:_clear_search_criteria\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='\"class\":\"prmaxbutton\",label:\"Clear Criteria\"' ></button></td>\r\n\t\t\t\t\t\t\t<td align=\"right\"><button data-dojo-attach-point=\"searchbutton\" data-dojo-attach-event=\"onClick:_search\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='\"class\":\"prmaxbutton\",iconClass:\"fa fa-search-plus\",busyLabel:\"Searching...\",label:\"Search\"'></button></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div data-dojo-attach-point=\"grid_append_view\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"center\",splitter:true'></div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"resend_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Send Questionnaires Link\"'>\r\n\t\t<form data-dojo-attach-point=\"form_resend\" data-dojo-type=\"dijit/form/Form\" data-dojo-props='onsubmit:\"return false;\",\"class\":\"prmaxdefault\"'>\r\n\t\t\t<input data-dojo-attach-point=\"researchprojectitemid2\" data-dojo-props='name:\"researchprojectitemid\",type:\"hidden\"' data-dojo-type=\"dijit/form/TextBox\" >\r\n\t\t\t<table class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\"  border =\"0\">\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" width=\"120px\">Email</td><td style=\"width:450px\"><input data-dojo-attach-point=\"email\"  data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"email\",type:\"text\",pattern:dojox.validate.regexp.emailAddress,trim:true,invalidMessage:\"invalid email address\",style:\"width:98%\",maxlength:70'></td></tr>\r\n\t\t\t\t<tr><td class=\"prmaxrowtag\" align=\"right\">Subject</td><td><input data-dojo-props='\"class\":\"prmaxrequired\",name:\"subject\",type:\"text\",trim:true,required:true' data-dojo-attach-point=\"subject\" data-dojo-type=\"dijit/form/ValidationTextBox\"/></td></tr>\r\n\t\t\t\t<tr><td class=\"prmaxrowtag\" align=\"right\">From User</td><td><select data-dojo-attach-point=\"iuserid\" data-dojo-props='name:\"iuserid\",autoComplete:\"true\",style:\"width:15em\",labelType:\"html\"' data-dojo-type=\"dijit/form/FilteringSelect\"></select></td></tr>\r\n\t\t\t\t<tr><td class=\"prmaxrowtag\" valign=\"top\" align=\"right\">Body</td><td><div style=\"height:300px\" class=\"dialogprofileframelarge\"><textarea data-dojo-attach-point=\"bodytext\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"bodytext\",style:\"width:99%;height:99%\"'></textarea></div></td></tr>\r\n\r\n\t\t\t\t<tr><td colspan=\"2\">&nbsp;</td></tr>\r\n\t\t\t\t<tr><td colspan=\"2\" align=\"right\"><button data-dojo-type=\"dojox/form/BusyButton\" data-dojo-attach-point=\"sendbtn\" data-dojo-attach-event=\"onClick:_send_email_record\" data-dojo-props='type:\"button\",busyLabel:\"Sending\"'>Send</button></td></tr>\r\n\t\t\t</table>\r\n\t\t</form>\r\n\t</div>\r\n\r\n</div>\r\n","url:prcommon2/search/templates/SearchRoles.html":"<div class=\"searchroles\">\r\n\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\" >\r\n\t\t<tr>\r\n\t\t\t<td width=\"20%\"   class=\"prmaxrowtag\">Job Roles</td>\r\n\t\t\t<td width=\"5%\" ><i data-dojo-attach-point=\"togglectrl\" data-dojo-attach-event=\"onclick:_toggle\" class=\"fa fa-plus-circle\" style=\"color:#7F7F7F\"></i></td>\r\n\t\t\t<td align=\"right\" valign=\"top\" ><div data-dojo-attach-point=\"countnode\" data-dojo-type=\"prcommon2/search/SearchCount\"></div></td>\r\n\t\t</tr>\r\n\t</table>\r\n\t<div data-dojo-attach-point=\"selectarea\" class=\"prmaxselectmultiple\" style=\"display:none\">\r\n\t\t<div  data-dojo-attach-point=\"roles_search\"  data-dojo-type=\"prcommon2/roles/Roles\" data-dojo-props='startopen:true, size:6, searchmode:true, selectonly:false,orderbtns:false' ></div>\r\n\t</div>\r\n</div>","url:research/outlets/templates/OutletDelete.html":"<div style=\"width:400px;height:200px;\" >\r\n\t<form  data-dojo-attach-point=\"form\" data-dojo-type=\"dijit/form/Form\" data-dojo-props='\"class\":\"prmaxdefault\",onsubmit:\"return false;\"'>\r\n\t\t<input data-dojo-attach-point=\"outletid\" data-dojo-props='name:\"outletid\",type:\"hidden\"' data-dojo-type=\"dijit/form/TextBox\" >\r\n\t\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\"  border =\"0\">\r\n\t\t\t<tr><td  align=\"center\" data-dojo-attach-point=\"heading\" class=\"prmaxrowdisplaylarge\" colspan=\"2\" ></td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Reason</td><td ><select data-dojo-attach-point=\"reasoncodes\" data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-props='name:\"reasoncodeid\",searchAttr:\"name\",labelType:\"html\",style:\"width:98%\",\"class\":\"prmaxrequired\"'/></td></tr>\r\n\t\t</table>\r\n\t</form>\r\n\t<br/><br/>\r\n\t<button data-dojo-attach-point=\"delete_btn\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='type:\"button\",name:\"submit\",style:\"float:right;\",busyLabel:\"Please Wait Deleting\",iconClass:\"fa fa-trash fa-2x\"' data-dojo-attach-event=\"onClick:_delete_submit\">Delete Outlet</button>\r\n\t<br/><br/>\r\n</div>\r\n","url:research/templates/usersettings.html":"<div>\r\n\t<form  data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\" data-dojo-props='onsubmit:\"return false;\"'>\r\n\t\t<table width=\"100%\" cellspacing=\"0\" cellpadding=\"0\">\r\n\t\t\t<tr><td colspan=\"2\" class=\"prmaxrowdisplaylarge\">PRMax Researcher Setting</td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Display Name</td><td><input data-dojo-props='\"class\":\"prmaxrequired\",name:\"display_name\",type:\"text\",maxlength:80,trim:true,required:true,style:\"width:15em\"' data-dojo-attach-point=\"display_name\" data-dojo-type=\"dijit/form/ValidationTextBox\"/></td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Job Title</td><td>\t<input data-dojo-props='\"class\":\"prmaxrequired\",name:\"job_title\",type:\"text\",style:\"width:15em\",maxlength:\"80\",trim:true,required:true' data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-attach-point=\"job_title\"  /></td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Email</td><td ><input data-dojo-attach-point=\"email_address\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxrequired\",name:\"email_address\",type:\"text\",pattern:dojox.validate.regexp.emailAddress,trim:true,invalidMessage:\"invalid email address\",style:\"width:25em\",maxlength:\"70\"'></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Tel</td><td><input data-dojo-attach-point=\"tel\" data-dojo-type=\"dijit/form/TextBox\" data-dojo-props='\"class\":\"prmaxrequired\",name:\"tel\",type:\"text\",size:25,maxlength:40,style:\"width:15em\",required:true'/></td></tr>\r\n<!--\r\n\t\t\t<tr><td colspan=\"2\" class=\"prmaxrowdisplaylarge\">The Media Researcher Company</td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Display Name</td><td><input data-dojo-props='\"class\":\"prmaxrequired\",name:\"research_display_name\",type:\"text\",maxlength:80,trim:true,required:true,style:\"width:15em\"' data-dojo-attach-point=\"research_display_name\" data-dojo-type=\"dijit/form/ValidationTextBox\"/></td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Job Title</td><td>\t<input data-dojo-props='\"class\":\"prmaxrequired\",name:\"research_job_title\",type:\"text\",style:\"width:15em\",maxlength:\"80\",trim:true,required:true' data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-attach-point=\"research_job_title\"  /></td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Email</td><td ><input data-dojo-attach-point=\"research_email\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxrequired\",name:\"research_email\",type:\"text\",pattern:dojox.validate.regexp.emailAddress,trim:true,invalidMessage:\"invalid email address\",style:\"width:25em\",maxlength:\"70\"'></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Tel</td><td><input data-dojo-attach-point=\"research_tel\" data-dojo-type=\"dijit/form/TextBox\" data-dojo-props='\"class\":\"prmaxrequired\",name:\"research_tel\",type:\"text\",size:25,maxlength:40,style:\"width:15em\",required:true'/></td></tr>\r\n-->\r\n\t\t\t<tr><td></td><td><button data-dojo-attach-event=\"onClick:_update\" data-dojo-attach-point=\"savenode\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='disabled:\"disabled\",type:\"button\",busyLabel:\"Please Wait Saving...\",label:\"Save\"'></button></td></tr>\r\n\t\t</table>\r\n\t</form>\r\n</div>\r\n","url:dijit/templates/MenuSeparator.html":"<tr class=\"dijitMenuSeparator\" role=\"separator\">\r\n\t<td class=\"dijitMenuSeparatorIconCell\">\r\n\t\t<div class=\"dijitMenuSeparatorTop\"></div>\r\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\r\n\t</td>\r\n\t<td colspan=\"3\" class=\"dijitMenuSeparatorLabelCell\">\r\n\t\t<div class=\"dijitMenuSeparatorTop dijitMenuSeparatorLabel\"></div>\r\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\r\n\t</td>\r\n</tr>\r\n","url:prcommon2/outlet/desks/templates/DeskAdd.html":"<div>\r\n\t<div data-dojo-type=\"dijit/layout/TabContainer\" data-dojo-props='region:\"center\"'>\r\n\t\t<div data-dojo-attach-point=\"desk_details\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='style:\"width:100%;height:100%\",title:\"Desk Details\",\"class\":\"scrollpanel\"'>\r\n\t\t\t<form data-dojo-props='onsubmit:\"return false\"' data-dojo-attach-point=\"form\" data-dojo-type=\"dijit/form/Form\">\r\n\t\t\t\t<input data-dojo-props='name:\"outletid\",type:\"hidden\",value:-1'  data-dojo-attach-point=\"outletid\" data-dojo-type=\"dijit/form/TextBox\"/>\r\n\t\t\t\t<input data-dojo-props='name:\"outletdeskid\",type:\"hidden\",value:-1'  data-dojo-attach-point=\"outletdeskid\" data-dojo-type=\"dijit/form/TextBox\"/>\r\n\t\t\t\t<table cellspacing=\"0\" cellpadding=\"1\" width=\"97%\">\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" width=\"100px\">Desk name</td><td colspan=\"2\" ><input data-dojo-props='\"class\":\"prmaxinput\",name:\"deskname\",type:\"text\",trim:true,required:true,style:\"width:90%\",placeHolder:\"Desk Name\"'  data-dojo-attach-point=\"deskname\" data-dojo-type=\"dijit/form/ValidationTextBox\" ></input></td></tr>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Email</td><td ><input data-dojo-attach-point=\"email\"  data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"email\",type:\"text\",pattern:dojox.validate.regexp.emailAddress,trim:true,invalidMessage:\"invalid email address\",style:\"width:98%\",maxlength:70'></td></tr>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Tel</td><td><input data-dojo-attach-point=\"tel\" data-dojo-props='\"class\":\"prmaxinput\",name:\"tel\",type:\"text\",size:25,maxlength:40' data-dojo-type=\"dijit/form/TextBox\"/></td></tr>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Fax</td><td><input data-dojo-attach-point=\"fax\" data-dojo-type=\"dijit/form/TextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"fax\",type:\"text\",size:25,maxlength:40' /></td></tr>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Twitter</td><td><input data-dojo-attach-point=\"twitter\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='name:\"twitter\",pattern:dojox.validate.regexp.url,type:\"text\",maxlength:80,trim:true,style:\"width:90%\"'/></td></tr>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Facebook</td><td><input data-dojo-attach-point=\"facebook\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"facebook\",type:\"text\",maxlength:80,pattern:dojox.validate.regexp.url,trim:true,style:\"width:90%\"'/></td></tr>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Linkedin</td><td><input data-dojo-attach-point=\"linkedin\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"linkedin\",type:\"text\",maxlength:80,pattern:dojox.validate.regexp.url,trim:true,style:\"width:90%\"' /></td></tr>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Instagram</td><td><input data-dojo-attach-point=\"instagram\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"instagram\",type:\"text\",maxlength:80,pattern:dojox.validate.regexp.url,trim:true,style:\"width:90%\"' /></td></tr>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Different Address</td><td><input data-dojo-props='name:\"has_address\",type:\"checkbox\"' data-dojo-attach-point=\"has_address\"  data-dojo-type=\"dijit/form/CheckBox\" data-dojo-attach-event=\"onClick:_address_show\" /></td></tr>\r\n\t\t\t\t\t<tr data-dojo-attach-point=\"addr1\" class=\"prmaxhidden\" ><td align=\"right\" class=\"prmaxrowtag\">Address1</td><td><input data-dojo-attach-point=\"address1\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='style:\"margin-left:10px\",\"class\":\"prmaxinput\",name:\"address1\",type:\"text\",trim:true,invalidMessage:\"Please enter address\",style:\"width:90%\"'></input></td></tr>\r\n\t\t\t\t\t<tr data-dojo-attach-point=\"addr2\" class=\"prmaxhidden\" ><td align=\"right\" class=\"prmaxrowtag\">Address2</td><td><input data-dojo-attach-point=\"address2\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='style:\"margin-left:10px\",\"class\":\"prmaxinput\",name:\"address2\",type:\"text\",trim:true,style:\"width:90%\"'></input></td></tr>\r\n\t\t\t\t\t<tr data-dojo-attach-point=\"addr3\" class=\"prmaxhidden\" ><td align=\"right\" class=\"prmaxrowtag\">Town</td><td><input data-dojo-attach-point=\"townname\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"townname\",type:\"text\",trim:true,style:\"width:90%\"' ></input></td></tr>\r\n\t\t\t\t\t<tr data-dojo-attach-point=\"addr4\" class=\"prmaxhidden\" ><td align=\"right\" class=\"prmaxrowtag\">County</td><td><input data-dojo-attach-point=\"county\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"county\",type:\"text\",trim:true,style:\"width:90%\"' ></input></td></tr>\r\n\t\t\t\t\t<tr data-dojo-attach-point=\"addr5\" class=\"prmaxhidden\" ><td align=\"right\" class=\"prmaxrowtag\">Post Code</td><td><input data-dojo-attach-point=\"postcode\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"postcode\",type:\"text\",trim:true,style:\"width:10em\"' ></input></td></tr>\r\n\t\t\t\t</table>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t\t<div data-dojo-attach-point=\"desk_research_details\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='style:\"width:100%;height:100%\",title:\"Research Details Required\",\"class\":\"scrollpanel\"'>\r\n\t\t\t<form data-dojo-props='onsubmit:\"return false\"' data-dojo-attach-point=\"form1\" data-dojo-type=\"dijit/form/Form\">\r\n\t\t\t\t<table cellspacing=\"0\" cellpadding=\"1\" width=\"97%\">\r\n\t\t\t\t\t<tr ><td width=\"180px\"></td><td></td></tr>\r\n\t\t\t\t\t<tr><td class=\"prmaxrowdisplaylarge\" colspan=\"2\">Required&nbsp;<input data-dojo-type=\"dijit/form/CheckBox\" data-dojo-attach-point=\"research_required\" data-dojo-props='type:\"checkbox\",name:\"research_required\",checked:\"checked\"' data-dojo-attach-event=\"onClick:_change_view\" ></td></tr>\r\n\t\t\t\t\t<tr data-dojo-attach-point=\"research_required_1\"><td align=\"right\" class=\"prmaxrowtag\">Surname</td><td><input data-dojo-attach-point=\"research_surname\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='name:\"research_surname\",type:\"text\",trim:false,required:false,style:\"width:70%\"'></input></td></tr>\r\n\t\t\t\t\t<tr data-dojo-attach-point=\"research_required_2\"><td align=\"right\" class=\"prmaxrowtag\">Firstname</td><td><input data-dojo-attach-point=\"research_firstname\" data-dojo-type=\"dijit/form/TextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"research_firstname\",type:\"text\",style:\"width:40%\"'></input></td></tr>\r\n\t\t\t\t\t<tr data-dojo-attach-point=\"research_required_3\"><td align=\"right\" class=\"prmaxrowtag\">Title</td><td><input data-dojo-attach-point=\"research_prefix\" data-dojo-type=\"dijit/form/TextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"research_prefix\",type:\"text\",style:\"width:20%\"'></input></td></tr>\r\n\t\t\t\t\t<tr data-dojo-attach-point=\"research_required_4\"><td align=\"right\" class=\"prmaxrowtag\">Job Title</td><td><input data-dojo-attach-point=\"research_job_title\" data-dojo-type=\"dijit/form/TextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"research_job_title\",type:\"text\",style:\"width:70%\"'></input></td></tr>\r\n\t\t\t\t\t<tr data-dojo-attach-point=\"research_required_5\"><td align=\"right\" class=\"prmaxrowtag\">Email</td><td><input data-dojo-attach-point=\"research_email\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"research_email\",type:\"text\",pattern:dojox.validate.regexp.emailAddress,trim:true,invalidMessage:\"invalid email address\",size:20,maxlength:70'></td></tr>\r\n\t\t\t\t\t<tr data-dojo-attach-point=\"research_required_6\"><td align=\"right\" class=\"prmaxrowtag\">Tel</td><td><input data-dojo-attach-point=\"research_tel\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"research_tel\",type:\"text\",maxlength:40,trim:true,style:\"width:60%\"' /></td></tr>\r\n\t\t\t\t\t<tr data-dojo-attach-point=\"research_required_7\"><td align=\"right\" class=\"prmaxrowtag\">Frequency</td><td><select data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"researchfrequencyid\" data-dojo-props='style:\"width:70%\",\"class\":\"prmaxrequired\",name:\"researchfrequencyid\",autoComplete:true,searchAttr:\"name\",required:true,invalidMessage:\"Please select research frequency\",labelType:\"html\"' data-dojo-attach-event=\"onChange:_show_months_check\"></select></td></tr>\r\n\t\t\t\t\t<tr data-dojo-attach-point=\"quest_month_2_label_1\"><td align=\"right\" class=\"prmaxrowtag\">Month 1</td><td><select data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"quest_month_1\" data-dojo-props='name:\"quest_month_1\",autoComplete:true,searchAttr:\"name\",required:true,labelType:\"html\"'></select></td></tr>\r\n\t\t\t\t\t<tr data-dojo-attach-point=\"quest_month_2_label_2\"><td align=\"right\" class=\"prmaxrowtag\">Month 2</td><td><select data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"quest_month_2\" data-dojo-props='name:\"quest_month_2\",autoComplete:true,searchAttr:\"name\",required:true,labelType:\"html\"'></select></td></tr>\r\n\t\t\t\t\t<tr data-dojo-attach-point=\"quest_month_2_label_3\"><td align=\"right\" class=\"prmaxrowtag\">Month 3</td><td><select data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"quest_month_3\" data-dojo-props='name:\"quest_month_3\",autoComplete:true,searchAttr:\"name\",required:true,labelType:\"html\"'></select></td></tr>\r\n\t\t\t\t\t<tr data-dojo-attach-point=\"quest_month_2_label_4\"><td align=\"right\" class=\"prmaxrowtag\">Month 4</td><td><select data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"quest_month_4\" data-dojo-props='name:\"quest_month_4\",autoComplete:true,searchAttr:\"name\",required:true,labelType:\"html\"'></select></td></tr>\r\n\t\t\t\t\t<tr data-dojo-attach-point=\"research_required_8\"><td align=\"right\" class=\"prmaxrowtag\">Last Questionaire Sent</td><td><input data-dojo-props='\"class\":\"prmaxbutton\",type:\"text\",name:\"last_questionaire_sent\"' data-dojo-attach-point=\"last_questionaire_sent\" data-dojo-type=\"dijit/form/DateTextBox\" ></td></tr>\r\n\t\t\t\t\t<tr data-dojo-attach-point=\"research_required_9\"><td align=\"right\" class=\"prmaxrowtag\">Last Researched Completed</td><td><input data-dojo-props='\"class\":\"prmaxbutton\",type:\"text\",name:\"last_research_completed\"' data-dojo-attach-point=\"last_research_completed\" data-dojo-type=\"dijit/form/DateTextBox\" ></td></tr>\r\n\t\t\t\t\t<tr data-dojo-attach-point=\"research_required_10\"><td align=\"right\" class=\"prmaxrowtag\">Last Changed</td><td><p data-dojo-attach-point=\"last_research_changed_date\" ></p></td></tr>\r\n\t\t\t\t\t<tr data-dojo-attach-point=\"research_required_11\"><td align=\"right\" valign=\"top\" class=\"prmaxrowtag\">Notes</td><td><div class=\"stdframe\" style=\"height:300px\"><textarea data-dojo-attach-point=\"notes\"  data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"notes\",style:\"height:300px\"'></textarea></div></td></tr>\r\n\t\t\t\t\t<tr><td >&nbsp;</td></tr>\r\n\t\t\t\t</table>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='style:\"width:100%;height:40px\",region:\"bottom\"'>\r\n\t\t<table cellspacing=\"0\" cellpadding=\"1\" width=\"99%\">\r\n\t\t\t<tr>\r\n\t\t\t\t<td width=\"33%\" align=\"left\" data-dojo-attach-point=\"close_button\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Close\"' data-dojo-attach-event=\"onClick:_close\"></button></td>\r\n\t\t\t\t<td width=\"33%\" align=\"left\"  data-dojo-attach-point=\"delete_button\" class=\"prmaxhidden\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Delete\"' data-dojo-attach-event=\"onClick:_delete\"></button></td>\r\n\t\t\t\t<td width=\"33%\" align=\"right\"><button data-dojo-attach-event=\"onClick:_add_dates\" data-dojo-attach-point=\"savenode\" data-dojo-type=\"dojox/form/BusyButton\" type=\"button\" busyLabel=\"Please Wait Saving...\" label=\"Save\"></button></td>\r\n\t\t\t</tr>\r\n\t\t</table>\r\n\t</div>\r\n</div>\r\n","url:research/lookups/templates/CirculationSources.html":"<div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"top\",style:\"width:100%;height:48px;padding:0px;margin:0px\"'>\r\n\t\t<div data-dojo-type=\"dijit/Toolbar\" data-dojo-props='style:\"height:99%;width:100%;padding:0px;margin:0px\"'>\r\n\t\t\t<div data-dojo-type=\"dijit/form/DropDownButton\"  data-dojo-props='iconClass:\"PRMaxCommonStdIcon PRMaxFilterIcon\",label:\"Filter\",showLabel:true'>\r\n\t\t\t\t<span>Filter By</span>\r\n\t\t\t\t<div data-dojo-type=\"dijit/TooltipDialog\" title=\"Enter Circulation Source filter\" data-dojo-attach-event=\"execute: _execute\">\r\n\t\t\t\t\t<table>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td>Text</td>\r\n\t\t\t\t\t\t\t<td><input data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"filter\" data-dojo-props='name:\"filter\",trim:\"true\",maxlength:45,type:\"text\"' ></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td align=\"left\"><button data-dojo-attach-event=\"onClick: _clear_filter\" data-dojo-type=\"dijit/form/Button\" type=\"button\" >Clear Filter by</button></td>\r\n\t\t\t\t\t\t\t<td align=\"right\"><button data-dojo-type=\"dijit/form/Button\" type=\"submit\" name=\"submit\">Filter by</button></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div data-dojo-type=\"dijit/form/Button\" data-dojo-props='iconClass:\"PRMaxCommonStdIcon PRMaxAddIcon\",showLabel:true' data-dojo-attach-event=\"onClick: _new_circulation_source\" > <span>New</span></div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"center\"' data-dojo-attach-point=\"grid_view\"></div>\r\n\r\n\t<div data-dojo-attach-point=\"circulationsource_add_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Circulation Source Add\"'>\r\n\t\t<div data-dojo-attach-point=\"circulationsource_add_ctrl\" data-dojo-type=\"prcommon2/circulation/CirculationSourcesAdd\"></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"circulationsource_update_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Circulation Source Update\"'>\r\n\t\t<div data-dojo-attach-point=\"circulationsource_update_ctrl\" data-dojo-type=\"prcommon2/circulation/CirculationSourcesAdd\" data-dojo-props='mode:\"update\"'></div>\r\n\t</div>\r\n</div>","url:dijit/templates/Dialog.html":"<div class=\"dijitDialog\" role=\"dialog\" aria-labelledby=\"${id}_title\">\r\n\t<div data-dojo-attach-point=\"titleBar\" class=\"dijitDialogTitleBar\">\r\n\t\t<span data-dojo-attach-point=\"titleNode\" class=\"dijitDialogTitle\" id=\"${id}_title\"\r\n\t\t\t\trole=\"heading\" level=\"1\"></span>\r\n\t\t<span data-dojo-attach-point=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" data-dojo-attach-event=\"ondijitclick: onCancel\" title=\"${buttonCancel}\" role=\"button\" tabindex=\"-1\">\r\n\t\t\t<span data-dojo-attach-point=\"closeText\" class=\"closeText\" title=\"${buttonCancel}\">x</span>\r\n\t\t</span>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitDialogPaneContent\"></div>\r\n\t${!actionBarTemplate}\r\n</div>\r\n\r\n","url:research/lookups/templates/WebDates.html":"<div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"top\",style:\"width:100%;height:48px;padding:0px;margin:0px\"'>\r\n\t\t<div data-dojo-type=\"dijit/Toolbar\" data-dojo-props='style:\"height:99%;width:100%;padding:0px;margin:0px\"'>\r\n\t\t\t<div data-dojo-type=\"dijit/form/DropDownButton\"  data-dojo-props='iconClass:\"PRMaxCommonStdIcon PRMaxFilterIcon\",label:\"Filter\",showLabel:true'>\r\n\t\t\t\t<span>Filter By</span>\r\n\t\t\t\t<div data-dojo-type=\"dijit/TooltipDialog\" title=\"Enter Web Dates filter\" data-dojo-attach-event=\"execute: _execute\">\r\n\t\t\t\t\t<table>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td>Text</td>\r\n\t\t\t\t\t\t\t<td><input data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"filter\" data-dojo-props='name:\"filter\",trim:\"true\",maxlength:45,type:\"text\"' ></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td align=\"left\"><button data-dojo-attach-event=\"onClick: _clear_filter\" data-dojo-type=\"dijit/form/Button\" type=\"button\" >Clear Filter by</button></td>\r\n\t\t\t\t\t\t\t<td align=\"right\"><button data-dojo-type=\"dijit/form/Button\" type=\"submit\" name=\"submit\">Filter by</button></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div data-dojo-type=\"dijit/form/Button\" data-dojo-props='iconClass:\"PRMaxCommonStdIcon PRMaxAddIcon\",showLabel:true' data-dojo-attach-event=\"onClick: _new_web_dates\" > <span>New</span></div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"center\"' data-dojo-attach-point=\"grid_view\"></div>\r\n\r\n\t<div data-dojo-attach-point=\"webdates_add_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Web Dates Add\"'>\r\n\t\t<div data-dojo-attach-point=\"webdates_add_ctrl\" data-dojo-type=\"prcommon2/web/WebDatesAdd\"></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"webdates_update_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Web Dates Update\"'>\r\n\t\t<div data-dojo-attach-point=\"webdates_update_ctrl\" data-dojo-type=\"prcommon2/web/WebDatesAdd\" data-dojo-props='mode:\"update\"'></div>\r\n\t</div>\r\n</div>","url:prcommon2/date/templates/DateSearchExtended.html":"<div>\r\n\t<table style=\"width:99%;border-style:collapsed\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\" >\r\n\t\t<tr><td width=\"20%\" ><span class=\"prmaxrowtag\">${displayname}</span></td>\r\n\t\t\t<td width=\"70%\" >\r\n\t\t\t\t<select data-dojo-type=\"dijit/form/ComboBox\" data-dojo-props='style:\"width:8em\",autocomplete:false,value:\"No Selection\"' data-dojo-attach-point=\"option\" data-dojo-attach-event=\"onChange:_option_changed\">\r\n\t\t\t\t\t\t<option>No Selection</option>\r\n\t\t\t\t\t\t<option>Before</option>\r\n\t\t\t\t\t\t<option>After</option>\r\n\t\t\t\t\t\t<option>Between</option>\r\n\t\t\t\t</select>\r\n\t\t\t\t<input data-dojo-attach-point=\"from_date_box\" data-dojo-props='\"class\":\"prmaxbutton prmaxhidden\",type:\"text\",style:\"width:6em\"' data-dojo-type=\"dijit/form/DateTextBox\" data-dojo-attach-event=\"onChange:_date_changed\">\r\n\t\t\t\t<label data-dojo-attach-point=\"to_box_label\" class=\"prmaxhidden\"> and </label><input data-dojo-attach-point=\"to_date_box\" data-dojo-props='\"class\":\"prmaxbutton prmaxhidden\",type:\"text\",style:\"width:6em\" '  data-dojo-type=\"dijit/form/DateTextBox\" data-dojo-attach-event=\"onChange:_date_changed\" >\r\n\t\t\t\t<input data-dojo-attach-point=\"month_checkbox\" data-data-props='type:\"checkbox\",checked:\"checked\",value:\"1\"' data-dojo-type=\"dijit/form/CheckBox\" data-dojo-attach-event=\"onChange:_date_changed\" ><label data-dojo-attach-point=\"label_box\" checked >Include Months</label>\r\n\t\t\t</td>\r\n\t\t\t<td width=\"10%\" align=\"right\"><div data-dojo-attach-point=\"countnode\" data-dojo-type=\"prcommon2/search/SearchCount\"></div></td>\r\n\t\t</tr>\r\n\t</table>\r\n</div>\r\n","url:research/questionnaires/templates/DeskDetails.html":"<div >\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='style:\"overflow:auto;overflow-x:hidden\",region:\"center\"' >\r\n\t\t<form  data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\" data-dojo-props='onsubmit:\"return false;\"'>\r\n\t\t\t<input data-dojo-props='type:\"hidden\",name:\"researchprojectitemid\",value:\"-1\"' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"researchprojectitemid\">\r\n\t\t\t<table width=\"98%\" cellspacing=\"0\" cellpadding=\"0\">\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Desk Name</td><td><input data-dojo-props='style:\"width:90%\",\"class\":\"prmaxrequired\",name:\"deskname\",type:\"text\",trim:true,required:true,invalidMessage:\"Please enter deskname\"' data-dojo-attach-point=\"deskname\" data-dojo-type=\"dijit/form/ValidationTextBox\" ></input></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"deskname_modified\"></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">House/Street</td><td><input data-dojo-attach-point=\"address1\" data-dojo-props='name:\"address1\",type:\"text\",trim:true,required:false,style:\"width:70%\"' data-dojo-type=\"dijit/form/ValidationTextBox\"></input></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"address1_modified\"></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Street/District</td><td><input data-dojo-attach-point=\"address2\"data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"address2\",type:\"text\",trim:true,style:\"width:70%\"'></input></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"address2_modified\"></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Town</td><td><input data-dojo-attach-point=\"townname\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"townname\",type:\"text\",trim:true,style:\"width:70%\"' ></input></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"townname_modified\"></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">County</td><td><input data-dojo-attach-point=\"county\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"county\",type:\"text\",trim:true,style:\"width:70%\"' ></input></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"county_modified\"></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Post Code</td><td><input data-dojo-attach-point=\"postcode\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"postcode\",type:\"text\",trim:true,style:\"width:10em\"' ></input></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"postcode_modified\"></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Email</td><td><input data-dojo-attach-point=\"email\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"email\",type:\"text\",pattern:dojox.validate.regexp.emailAddress, trim:true,invalidMessage:\"invalid email address\",size:20,maxlength:70,style:\"width:90%\"'></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"email_modified\"></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Tel</td><td><input data-dojo-attach-point=\"tel\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"tel\",type:\"text\",maxlength:40,trim:true,style:\"width:60%\"' /></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"tel_modified\"></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Fax</td><td><input data-dojo-attach-point=\"fax\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"fax\",type:\"text\",maxlength:40, trim:true,style:\"width:60%\"'/></td><td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"fax_modified\"></div></td></tr>\r\n\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Twitter</td>\r\n\t\t\t\t\t<td><span><input data-dojo-attach-point=\"twitter\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"twitter\",pattern:dojox.validate.regexp.url,type:\"text\",maxlength:80,trim:true,style:\"width:90%\"'/></span>\r\n\t\t\t\t\t\t<span><div data-dojo-attach-point=\"twitter_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"twitter_modified\"></div></td>\r\n\t\t\t\t</tr>\t\t\t\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Facebook</td>\r\n\t\t\t\t\t<td><span><input data-dojo-attach-point=\"facebook\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"facebook\",pattern:dojox.validate.regexp.url,type:\"text\",maxlength:80,trim:true,style:\"width:90%\"'/></span>\r\n\t\t\t\t\t\t<span><div data-dojo-attach-point=\"facebook_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"facebook_modified\"></div></td>\r\n\t\t\t\t</tr>\t\t\t\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Linkedin</td>\r\n\t\t\t\t\t<td><span><input data-dojo-attach-point=\"linkedin\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"linkedin\",pattern:dojox.validate.regexp.url,type:\"text\",maxlength:80,trim:true,style:\"width:90%\"'/></span>\r\n\t\t\t\t\t\t<span><div data-dojo-attach-point=\"linkedin_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"linkedin_modified\"></div></td>\r\n\t\t\t\t</tr>\t\t\t\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Instagram</td>\r\n\t\t\t\t\t<td><span><input data-dojo-attach-point=\"instagram\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"instagram\",pattern:dojox.validate.regexp.url,type:\"text\",maxlength:80,trim:true,style:\"width:90%\"'/></span>\r\n\t\t\t\t\t\t<span><div data-dojo-attach-point=\"instagram_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td><div data-dojo-type=\"research/questionnaires/UserModified\" data-dojo-attach-point=\"instagram_modified\"></div></td>\r\n\t\t\t\t</tr>\t\t\t\r\n\t\t\t</table>\r\n\t\t</form>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"bottom\",style:\"width:100%;height:3em;padding-right:3px;\"'>\r\n\t\t<table width=\"100%\" cellspacing=\"0\" cellpadding=\"0\">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\"><button data-dojo-attach-point=\"updatebtn\" data-dojo-attach-event=\"onClick:_update\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='type:\"button\",busyLabel:\"Please Wait Updating Desk...\",label:\"Update Desk\"'></button></td>\r\n\t\t\t\t</tr>\r\n\t\t</table>\r\n\t</div>\r\n</div>\r\n","url:dijit/templates/ProgressBar.html":"<div class=\"dijitProgressBar dijitProgressBarEmpty\" role=\"progressbar\"\r\n\t><div  data-dojo-attach-point=\"internalProgress\" class=\"dijitProgressBarFull\"\r\n\t\t><div class=\"dijitProgressBarTile\" role=\"presentation\"></div\r\n\t\t><span style=\"visibility:hidden\">&#160;</span\r\n\t></div\r\n\t><div data-dojo-attach-point=\"labelNode\" class=\"dijitProgressBarLabel\" id=\"${id}_label\"></div\r\n\t><span data-dojo-attach-point=\"indeterminateHighContrastImage\"\r\n\t\t   class=\"dijitInline dijitProgressBarIndeterminateHighContrastImage\"></span\r\n></div>\r\n","url:dijit/form/templates/DropDownBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\r\n\tid=\"widget_${id}\"\r\n\trole=\"combobox\"\r\n\taria-haspopup=\"true\"\r\n\tdata-dojo-attach-point=\"_popupStateNode\"\r\n\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer'\r\n\t\tdata-dojo-attach-point=\"_buttonNode\" role=\"presentation\"\r\n\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"button presentation\" aria-hidden=\"true\"\r\n\t\t\t${_buttonInputDisabled}\r\n\t/></div\r\n\t><div class='dijitReset dijitValidationContainer'\r\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\r\n\t/></div\r\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\r\n\t\t><input class='dijitReset dijitInputInner' ${!nameAttrSetting} type=\"${type}\" autocomplete=\"off\"\r\n\t\t\tdata-dojo-attach-point=\"textbox,focusNode\" role=\"textbox\"\r\n\t/></div\r\n></div>\r\n","url:research/questionnaires/templates/Coverage.html":"<div >\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='style:\"overflow:auto;overflow-x:hidden\",region:\"center\"' >\r\n\t\t<form  data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\" data-dojo-props='onsubmit:\"return false;\"'>\r\n\t\t\t<input data-dojo-props='type:\"hidden\",name:\"researchprojectitemid\",value:\"-1\"' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"researchprojectitemid\">\r\n\t\t\t<table width=\"100%\" cellspacing=\"0\" cellpadding=\"0\">\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\" width=\"150px\">Geo. Coverage</td><td ><div data-dojo-attach-point=\"coverage\" data-dojo-type=\"prcommon2/geographical/Geographical\" data-dojo-props='name:\"coverage\",selectonly:true,size:6,displaytitle:\"\",startopen:true,title:\"Select\"'></div></td></tr>\r\n\t\t\t\t<tr><td class=\"prmaxrowtag\">User FeedBack</td></tr>\r\n\t\t\t\t<tr><td style=\"padding:5px\" class=\"prmaxrowemphasise\" colspan=\"2\" data-dojo-attach-point=\"feedback\"></td></tr>\r\n\t\t\t</table>\r\n\t\t</form>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"bottom\", style:\"width:100%;height:40px;padding:5px\"' >\r\n\t\t\t<label class=\"prmaxrowtag\">Reason Code</label><select data-dojo-attach-point=\"reasoncodeid\" data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-props='name:\"reasoncodeid\",searchAttr:\"name\",labelType:\"html\",\"class\":\"prmaxrequired\"'></select>\r\n\t\t\t<button data-dojo-attach-event=\"onClick:_update_coding\" data-dojo-attach-point=\"savenode\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='style:\"float:right\",type:\"button\",busyLabel:\"Please Wait Saving...\",label:\"Save\"'></button>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"publisher_add_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Publisher Add\"'>\r\n\t\t<div data-dojo-attach-point=\"publisher_add_ctrl\" data-dojo-type=\"prcommon2/publisher/PublisherAdd\"></div>\r\n\t</div>\r\n</div>\r\n","url:dijit/templates/Tooltip.html":"<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\" data-dojo-attach-event=\"mouseenter:onMouseEnter,mouseleave:onMouseLeave\"\r\n\t><div class=\"dijitTooltipConnector\" data-dojo-attach-point=\"connectorNode\"></div\r\n\t><div class=\"dijitTooltipContainer dijitTooltipContents\" data-dojo-attach-point=\"containerNode\" role='alert'></div\r\n></div>\r\n","url:research/translations/templates/translations.html":"<div>\r\n\t<div data-dojo-type=\"dijit/layout/StackContainer\" data-dojo-props='region:\"center\",splitter:true' data-dojo-attach-point=\"main_view\" >\r\n\t\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='style:\"width:100%;height:100%;\"' data-dojo-attach-point=\"supplier_view\">\r\n\t\t\t<p>Select Data Supplier Source </p>\r\n\t\t\t<br/>\r\n\t\t\t<label class=\"prmaxrowtag\"><input data-dojo-attach-point=\"source_stamm\" data-dojo-type=\"dijit/form/RadioButton\" data-dojo-props='\"class\":\"prmaxdefault\",checked:\"checked\",type:\"radio\",value:\"5\"'/>Stamm</label><br/>\r\n\t\t\t<label class=\"prmaxrowtag\"><input data-dojo-attach-point=\"source_nijgh\" data-dojo-type=\"dijit/form/RadioButton\" data-dojo-props='\"class\":\"prmaxdefault\",type:\"radio\",value:\"6\"'/>Nijgh Periodieken</label><br/>\r\n\t\t\t<label class=\"prmaxrowtag\"><input data-dojo-attach-point=\"source_cyberwatch\" data-dojo-type=\"dijit/form/RadioButton\" data-dojo-props='\"class\":\"prmaxdefault\",type:\"radio\",value:\"8\"'/>Cyberwatch</label><br/>\r\n\t\t\t<label class=\"prmaxrowtag\"><input data-dojo-attach-point=\"source_madaptive\" data-dojo-type=\"dijit/form/RadioButton\" data-dojo-props='\"class\":\"prmaxdefault\",type:\"radio\",value:\"8\"'/>Madaptive</label><br/>\r\n\t\t\t<br/>\r\n\t\t\t<button data-dojo-type=\"dijit/form/Button\" data-dojo-props='style:\"float:left\",type:\"button\",label:\"Display Translations\"' data-dojo-attach-event=\"onClick:_do_show_translations\"></button>\r\n\t\t\t<br/>\r\n\t\t</div>\r\n\t\t<div data-dojo-type=\"dijit/layout/BorderContainer\" data-dojo-props='style:\"width:100%;height:100%;\",gutters:false' data-dojo-attach-point=\"trans_view\" >\r\n\t\t\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"top\",style:\"width:100%;height:48px;padding:0px;margin:0px\"'>\r\n\t\t\t\t<div data-dojo-type=\"dijit/Toolbar\" data-dojo-props='style:\"height:99%;width:100%;padding:0px;margin:0px\"'>\r\n\t\t\t\t\t<div data-dojo-type=\"dijit/form/DropDownButton\"  data-dojo-props='iconClass:\"fa fa-filter fa-3x\",label:\"Filter\",showLabel:true'>\r\n\t\t\t\t\t\t<span>Filter By</span>\r\n\t\t\t\t\t\t<div data-dojo-type=\"dijit/TooltipDialog\" title=\"Filter\" data-dojo-attach-event=\"execute: _execute\">\r\n\t\t\t\t\t\t\t<table>\r\n\t\t\t\t\t\t\t\t<tr><td>Source Text</td><td><input data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"filter_sourcetext\" data-dojo-props='name:\"sourcetext\",trim:\"true\",maxlength:45,type:\"text\"' ></td></tr>\r\n\t\t\t\t\t\t\t\t<tr><td>Not Translated Only</td><td><input data-dojo-type=\"dijit/form/CheckBox\" data-dojo-attach-point=\"not_translated\" data-dojo-props='name:\"not_translated\",type:\"checkbox\",checked:true' ></td> </tr>\r\n\t\t\t\t\t\t\t\t<tr><td>Source Field</td><td ><select data-dojo-attach-point=\"filter_sourcefield\" data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-props='name:\"sourcefield\",searchAttr:\"name\",labelType:\"html\",style:\"width:98%\",required:false,placeHolider:\"No Selection\"'/></td></tr>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<td align=\"left\"><button data-dojo-attach-event=\"onClick: _clear_filter\" data-dojo-type=\"dijit/form/Button\" type=\"button\" >Clear Filter by</button></td>\r\n\t\t\t\t\t\t\t\t\t<td align=\"right\"><button data-dojo-type=\"dijit/form/Button\" type=\"submit\" name=\"submit\">Filter by</button></td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"center\"' data-dojo-attach-point=\"grid_view\"></div>\r\n\t\t\t<div data-dojo-type=\"dijit/layout/StackContainer\" data-dojo-props='region:\"bottom\",splitter:true,style:\"height:50%;width:100%;\"' data-dojo-attach-point=\"edit_view\" >\r\n\t\t\t\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='style:\"width:100%;height:100%\"' data-dojo-attach-point=\"blank_view\"></div>\r\n\t\t\t\t<div data-dojo-type=\"research/translations/basicedit\" data-dojo-props='style:\"width:100%;height:100%\"' data-dojo-attach-point=\"basic_edit\"></div>\r\n\t\t\t\t<div data-dojo-type=\"research/translations/translatelanguage\" data-dojo-props='style:\"width:100%;height:100%\"' data-dojo-attach-point=\"language_edit\"></div>\r\n\t\t\t\t<div data-dojo-type=\"research/translations/translatecountry\" data-dojo-props='style:\"width:100%;height:100%\"' data-dojo-attach-point=\"country_edit\"></div>\r\n\t\t\t\t<div data-dojo-type=\"research/translations/translateinterests\" data-dojo-props='style:\"width:100%;height:100%\"' data-dojo-attach-point=\"interests_edit\"></div>\r\n\t\t\t\t<div data-dojo-type=\"research/translations/translationcirculationsource\" data-dojo-props='style:\"width:100%;height:100%\"' data-dojo-attach-point=\"circulationsource_edit\"></div>\r\n\t\t\t\t<div data-dojo-type=\"research/translations/translatefrequency\" data-dojo-props='style:\"width:100%;height:100%\"' data-dojo-attach-point=\"frequency_edit\"></div>\r\n\t\t\t\t<div data-dojo-type=\"research/translations/translatejobrole\" data-dojo-props='style:\"width:100%;height:100%\"' data-dojo-attach-point=\"jobrole_edit\"></div>\r\n\t\t\t\t<div data-dojo-type=\"research/translations/translatemediatype\" data-dojo-props='style:\"width:100%;height:100%\"' data-dojo-attach-point=\"mediatype_edit\"></div>\r\n\t\t\t\t<div data-dojo-type=\"research/translations/translateclassification\" data-dojo-props='style:\"width:100%;height:100%\"' data-dojo-attach-point=\"classification_edit\"></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n","*now":function(r){r(["dojo/i18n!*preload*dojo/nls/prmaxresearch*[\"ar\",\"ca\",\"cs\",\"da\",\"de\",\"el\",\"en-gb\",\"en-us\",\"es-es\",\"fi-fi\",\"fr-fr\",\"he-il\",\"hu\",\"it-it\",\"ja-jp\",\"ko-kr\",\"nl-nl\",\"nb\",\"pl\",\"pt-br\",\"pt-pt\",\"ru\",\"sk\",\"sl\",\"sv\",\"th\",\"tr\",\"zh-tw\",\"zh-cn\",\"ROOT\"]"]);}}});define("dojo/prmaxresearch",[],1);