/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

//>>built
require({cache:{"ttl/store/TtlQueryResults":function(){define([],function(){var _1=function(_2){return _2;};return _1;});},"dijit/form/TextBox":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-style","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/sniff","./_FormValueWidget","./_TextBoxMixin","dojo/text!./templates/TextBox.html","../main"],function(_3,_4,_5,_6,_7,on,_8,_9,_a,_b,_c){var _d=_3("dijit.form.TextBox"+(_8("dojo-bidi")?"_NoBidi":""),[_9,_a],{templateString:_b,_singleNodeTemplate:"<input class=\"dijit dijitReset dijitLeft dijitInputField\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" type=\"${type}\" ${!nameAttrSetting} />",_buttonInputDisabled:_8("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){var _e=this.type.toLowerCase();if(this.templateString&&this.templateString.toLowerCase()=="input"||((_e=="hidden"||_e=="file")&&this.templateString==this.constructor.prototype.templateString)){this.templateString=this._singleNodeTemplate;}this.inherited(arguments);},postCreate:function(){this.inherited(arguments);if(_8("ie")<9){this.defer(function(){try{var s=_5.getComputedStyle(this.domNode);if(s){var ff=s.fontFamily;if(ff){var _f=this.domNode.getElementsByTagName("INPUT");if(_f){for(var i=0;i<_f.length;i++){_f[i].style.fontFamily=ff;}}}}}catch(e){}});}},_setPlaceHolderAttr:function(v){this._set("placeHolder",v);if(!this._phspan){this._attachPoints.push("_phspan");this._phspan=_4.create("span",{className:"dijitPlaceHolder dijitInputField"},this.textbox,"after");this.own(on(this._phspan,"mousedown",function(evt){evt.preventDefault();}),on(this._phspan,"touchend, pointerup, MSPointerUp",_7.hitch(this,function(){this.focus();})));}this._phspan.innerHTML="";this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(v));this._updatePlaceHolder();},_onInput:function(evt){this.inherited(arguments);this._updatePlaceHolder();},_updatePlaceHolder:function(){if(this._phspan){this._phspan.style.display=(this.placeHolder&&!this.textbox.value)?"":"none";}},_setValueAttr:function(_10,_11,_12){this.inherited(arguments);this._updatePlaceHolder();},getDisplayedValue:function(){_6.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.","","2.0");return this.get("displayedValue");},setDisplayedValue:function(_13){_6.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",_13);},_onBlur:function(e){if(this.disabled){return;}this.inherited(arguments);this._updatePlaceHolder();if(_8("mozilla")){if(this.selectOnClick){this.textbox.selectionStart=this.textbox.selectionEnd=undefined;}}},_onFocus:function(by){if(this.disabled||this.readOnly){return;}this.inherited(arguments);this._updatePlaceHolder();}});if(_8("ie")<9){_d.prototype._isTextSelected=function(){var _14=this.ownerDocument.selection.createRange();var _15=_14.parentElement();return _15==this.textbox&&_14.text.length>0;};_c._setSelectionRange=_a._setSelectionRange=function(_16,_17,_18){if(_16.createTextRange){var r=_16.createTextRange();r.collapse(true);r.moveStart("character",-99999);r.moveStart("character",_17);r.moveEnd("character",_18-_17);r.select();}};}if(_8("dojo-bidi")){_d=_3("dijit.form.TextBox",_d,{_setPlaceHolderAttr:function(v){this.inherited(arguments);this.applyTextDir(this._phspan);}});}return _d;});},"dijit/_base/scroll":function(){define(["dojo/window","../main"],function(_19,_1a){_1a.scrollIntoView=function(_1b,pos){_19.scrollIntoView(_1b,pos);};});},"dijit/_CssStateMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-class","dojo/has","dojo/_base/lang","dojo/on","dojo/domReady","dojo/touch","dojo/_base/window","./a11yclick","./registry"],function(_1c,_1d,dom,_1e,has,_1f,on,_20,_21,win,_22,_23){var _24=_1d("dijit._CssStateMixin",[],{hovering:false,active:false,_applyAttributes:function(){this.inherited(arguments);_1c.forEach(["disabled","readOnly","checked","selected","focused","state","hovering","active","_opened"],function(_25){this.watch(_25,_1f.hitch(this,"_setStateClass"));},this);for(var ap in this.cssStateNodes||{}){this._trackMouseState(this[ap],this.cssStateNodes[ap]);}this._trackMouseState(this.domNode,this.baseClass);this._setStateClass();},_cssMouseEvent:function(_26){if(!this.disabled){switch(_26.type){case "mouseover":case "MSPointerOver":case "pointerover":this._set("hovering",true);this._set("active",this._mouseDown);break;case "mouseout":case "MSPointerOut":case "pointerout":this._set("hovering",false);this._set("active",false);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":this._set("active",true);break;case "mouseup":case "dojotouchend":case "MSPointerUp":case "pointerup":case "keyup":this._set("active",false);break;}}},_setStateClass:function(){var _27=this.baseClass.split(" ");function _28(_29){_27=_27.concat(_1c.map(_27,function(c){return c+_29;}),"dijit"+_29);};if(!this.isLeftToRight()){_28("Rtl");}var _2a=this.checked=="mixed"?"Mixed":(this.checked?"Checked":"");if(this.checked){_28(_2a);}if(this.state){_28(this.state);}if(this.selected){_28("Selected");}if(this._opened){_28("Opened");}if(this.disabled){_28("Disabled");}else{if(this.readOnly){_28("ReadOnly");}else{if(this.active){_28("Active");}else{if(this.hovering){_28("Hover");}}}}if(this.focused){_28("Focused");}var tn=this.stateNode||this.domNode,_2b={};_1c.forEach(tn.className.split(" "),function(c){_2b[c]=true;});if("_stateClasses" in this){_1c.forEach(this._stateClasses,function(c){delete _2b[c];});}_1c.forEach(_27,function(c){_2b[c]=true;});var _2c=[];for(var c in _2b){_2c.push(c);}tn.className=_2c.join(" ");this._stateClasses=_27;},_subnodeCssMouseEvent:function(_2d,_2e,evt){if(this.disabled||this.readOnly){return;}function _2f(_30){_1e.toggle(_2d,_2e+"Hover",_30);};function _31(_32){_1e.toggle(_2d,_2e+"Active",_32);};function _33(_34){_1e.toggle(_2d,_2e+"Focused",_34);};switch(evt.type){case "mouseover":case "MSPointerOver":case "pointerover":_2f(true);break;case "mouseout":case "MSPointerOut":case "pointerout":_2f(false);_31(false);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":_31(true);break;case "mouseup":case "MSPointerUp":case "pointerup":case "dojotouchend":case "keyup":_31(false);break;case "focus":case "focusin":_33(true);break;case "blur":case "focusout":_33(false);break;}},_trackMouseState:function(_35,_36){_35._cssState=_36;}});_20(function(){function _37(evt,_38,_39){if(_39&&dom.isDescendant(_39,_38)){return;}for(var _3a=_38;_3a&&_3a!=_39;_3a=_3a.parentNode){if(_3a._cssState){var _3b=_23.getEnclosingWidget(_3a);if(_3b){if(_3a==_3b.domNode){_3b._cssMouseEvent(evt);}else{_3b._subnodeCssMouseEvent(_3a,_3a._cssState,evt);}}}}};var _3c=win.body(),_3d;on(_3c,_21.over,function(evt){_37(evt,evt.target,evt.relatedTarget);});on(_3c,_21.out,function(evt){_37(evt,evt.target,evt.relatedTarget);});on(_3c,_22.press,function(evt){_3d=evt.target;_37(evt,_3d);});on(_3c,_22.release,function(evt){_37(evt,_3d);_3d=null;});on(_3c,"focusin, focusout",function(evt){var _3e=evt.target;if(_3e._cssState&&!_3e.getAttribute("widgetId")){var _3f=_23.getEnclosingWidget(_3e);if(_3f){_3f._subnodeCssMouseEvent(_3e,_3e._cssState,evt);}}});});return _24;});},"dijit/layout/ScrollingTabController":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/fx","dojo/_base/lang","dojo/on","dojo/query","dojo/sniff","../registry","dojo/text!./templates/ScrollingTabController.html","dojo/text!./templates/_ScrollingTabControllerButton.html","./TabController","./utils","../_WidgetsInTemplateMixin","../Menu","../MenuItem","../form/Button","../_HasDropDown","dojo/NodeList-dom","../a11yclick"],function(_40,_41,_42,_43,_44,fx,_45,on,_46,has,_47,_48,_49,_4a,_4b,_4c,_4d,_4e,_4f,_50){var _51=_41("dijit.layout.ScrollingTabController",[_4a,_4c],{baseClass:"dijitTabController dijitScrollingTabController",templateString:_48,useMenu:true,useSlider:true,tabStripClass:"",_minScroll:5,_setClassAttr:{node:"containerNode",type:"class"},buildRendering:function(){this.inherited(arguments);var n=this.domNode;this.scrollNode=this.tablistWrapper;this._initButtons();if(!this.tabStripClass){this.tabStripClass="dijitTabContainer"+this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"")+"None";_42.add(n,"tabStrip-disabled");}_42.add(this.tablistWrapper,this.tabStripClass);},onStartup:function(){this.inherited(arguments);_44.set(this.domNode,"visibility","");this._postStartup=true;this.own(on(this.containerNode,"attrmodified-label, attrmodified-iconclass",_45.hitch(this,function(evt){if(this._dim){this.resize(this._dim);}})));},onAddChild:function(_52,_53){this.inherited(arguments);_44.set(this.containerNode,"width",(_44.get(this.containerNode,"width")+200)+"px");},onRemoveChild:function(_54,_55){var _56=this.pane2button(_54.id);if(this._selectedTab===_56.domNode){this._selectedTab=null;}this.inherited(arguments);},_initButtons:function(){this._btnWidth=0;this._buttons=_46("> .tabStripButton",this.domNode).filter(function(btn){if((this.useMenu&&btn==this._menuBtn.domNode)||(this.useSlider&&(btn==this._rightBtn.domNode||btn==this._leftBtn.domNode))){this._btnWidth+=_43.getMarginSize(btn).w;return true;}else{_44.set(btn,"display","none");return false;}},this);},_getTabsWidth:function(){var _57=this.getChildren();if(_57.length){var _58=_57[this.isLeftToRight()?0:_57.length-1].domNode,_59=_57[this.isLeftToRight()?_57.length-1:0].domNode;return _59.offsetLeft+_59.offsetWidth-_58.offsetLeft;}else{return 0;}},_enableBtn:function(_5a){var _5b=this._getTabsWidth();_5a=_5a||_44.get(this.scrollNode,"width");return _5b>0&&_5a<_5b;},resize:function(dim){this._dim=dim;this.scrollNode.style.height="auto";var cb=this._contentBox=_4b.marginBox2contentBox(this.domNode,{h:0,w:dim.w});cb.h=this.scrollNode.offsetHeight;_43.setContentSize(this.domNode,cb);var _5c=this._enableBtn(this._contentBox.w);this._buttons.style("display",_5c?"":"none");this._leftBtn.region="left";this._rightBtn.region="right";this._menuBtn.region=this.isLeftToRight()?"right":"left";_4b.layoutChildren(this.domNode,this._contentBox,[this._menuBtn,this._leftBtn,this._rightBtn,{domNode:this.scrollNode,region:"center"}]);if(this._selectedTab){if(this._anim&&this._anim.status()=="playing"){this._anim.stop();}this.scrollNode.scrollLeft=this._convertToScrollLeft(this._getScrollForSelectedTab());}this._setButtonClass(this._getScroll());this._postResize=true;return {h:this._contentBox.h,w:dim.w};},_getScroll:function(){return (this.isLeftToRight()||has("ie")<8||(has("trident")&&has("quirks"))||has("webkit"))?this.scrollNode.scrollLeft:_44.get(this.containerNode,"width")-_44.get(this.scrollNode,"width")+(has("trident")||has("edge")?-1:1)*this.scrollNode.scrollLeft;},_convertToScrollLeft:function(val){if(this.isLeftToRight()||has("ie")<8||(has("trident")&&has("quirks"))||has("webkit")){return val;}else{var _5d=_44.get(this.containerNode,"width")-_44.get(this.scrollNode,"width");return (has("trident")||has("edge")?-1:1)*(val-_5d);}},onSelectChild:function(_5e,_5f){var tab=this.pane2button(_5e.id);if(!tab){return;}var _60=tab.domNode;if(_60!=this._selectedTab){this._selectedTab=_60;if(this._postResize){var sl=this._getScroll();if(sl>_60.offsetLeft||sl+_44.get(this.scrollNode,"width")<_60.offsetLeft+_44.get(_60,"width")){var _61=this.createSmoothScroll();if(_5f){_61.onEnd=function(){tab.focus();};}_61.play();}else{if(_5f){tab.focus();}}}}this.inherited(arguments);},_getScrollBounds:function(){var _62=this.getChildren(),_63=_44.get(this.scrollNode,"width"),_64=_44.get(this.containerNode,"width"),_65=_64-_63,_66=this._getTabsWidth();if(_62.length&&_66>_63){return {min:this.isLeftToRight()?0:_62[_62.length-1].domNode.offsetLeft,max:this.isLeftToRight()?(_62[_62.length-1].domNode.offsetLeft+_62[_62.length-1].domNode.offsetWidth)-_63:_65};}else{var _67=this.isLeftToRight()?0:_65;return {min:_67,max:_67};}},_getScrollForSelectedTab:function(){var w=this.scrollNode,n=this._selectedTab,_68=_44.get(this.scrollNode,"width"),_69=this._getScrollBounds();var pos=(n.offsetLeft+_44.get(n,"width")/2)-_68/2;pos=Math.min(Math.max(pos,_69.min),_69.max);return pos;},createSmoothScroll:function(x){if(arguments.length>0){var _6a=this._getScrollBounds();x=Math.min(Math.max(x,_6a.min),_6a.max);}else{x=this._getScrollForSelectedTab();}if(this._anim&&this._anim.status()=="playing"){this._anim.stop();}var _6b=this,w=this.scrollNode,_6c=new fx.Animation({beforeBegin:function(){if(this.curve){delete this.curve;}var _6d=w.scrollLeft,_6e=_6b._convertToScrollLeft(x);_6c.curve=new fx._Line(_6d,_6e);},onAnimate:function(val){w.scrollLeft=val;}});this._anim=_6c;this._setButtonClass(x);return _6c;},_getBtnNode:function(e){var n=e.target;while(n&&!_42.contains(n,"tabStripButton")){n=n.parentNode;}return n;},doSlideRight:function(e){this.doSlide(1,this._getBtnNode(e));},doSlideLeft:function(e){this.doSlide(-1,this._getBtnNode(e));},doSlide:function(_6f,_70){if(_70&&_42.contains(_70,"dijitTabDisabled")){return;}var _71=_44.get(this.scrollNode,"width");var d=(_71*0.75)*_6f;var to=this._getScroll()+d;this._setButtonClass(to);this.createSmoothScroll(to).play();},_setButtonClass:function(_72){var _73=this._getScrollBounds();this._leftBtn.set("disabled",_72<=_73.min);this._rightBtn.set("disabled",_72>=_73.max);}});var _74=_41("dijit.layout._ScrollingTabControllerButtonMixin",null,{baseClass:"dijitTab tabStripButton",templateString:_49,tabIndex:"",isFocusable:function(){return false;}});_41("dijit.layout._ScrollingTabControllerButton",[_4f,_74]);_41("dijit.layout._ScrollingTabControllerMenuButton",[_4f,_50,_74],{containerId:"",tabIndex:"-1",isLoaded:function(){return false;},loadDropDown:function(_75){this.dropDown=new _4d({id:this.containerId+"_menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir});var _76=_47.byId(this.containerId);_40.forEach(_76.getChildren(),function(_77){var _78=new _4e({id:_77.id+"_stcMi",label:_77.title,iconClass:_77.iconClass,disabled:_77.disabled,ownerDocument:this.ownerDocument,dir:_77.dir,lang:_77.lang,textDir:_77.textDir||_76.textDir,onClick:function(){_76.selectChild(_77);}});this.dropDown.addChild(_78);},this);_75();},closeDropDown:function(_79){this.inherited(arguments);if(this.dropDown){this._popupStateNode.removeAttribute("aria-owns");this.dropDown.destroyRecursive();delete this.dropDown;}}});return _51;});},"dijit/DialogUnderlay":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/aspect","dojo/dom-attr","dojo/dom-style","dojo/on","dojo/window","./_Widget","./_TemplatedMixin","./BackgroundIframe","./Viewport","./main"],function(_7a,_7b,_7c,_7d,_7e,on,_7f,_80,_81,_82,_83,_84){var _85=_7a("dijit.DialogUnderlay",[_80,_81],{templateString:"<div class='dijitDialogUnderlayWrapper'><div class='dijitDialogUnderlay' tabIndex='-1' data-dojo-attach-point='node'></div></div>",dialogId:"","class":"",_modalConnects:[],_setDialogIdAttr:function(id){_7d.set(this.node,"id",id+"_underlay");this._set("dialogId",id);},_setClassAttr:function(_86){this.node.className="dijitDialogUnderlay "+_86;this._set("class",_86);},postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.own(on(this.domNode,"keydown",_7b.hitch(this,"_onKeyDown")));this.inherited(arguments);},layout:function(){var is=this.node.style,os=this.domNode.style;os.display="none";var _87=_7f.getBox(this.ownerDocument);os.top=_87.t+"px";os.left=_87.l+"px";is.width=_87.w+"px";is.height=_87.h+"px";os.display="block";},show:function(){this.domNode.style.display="block";this.open=true;this.layout();this.bgIframe=new _82(this.domNode);var win=_7f.get(this.ownerDocument);this._modalConnects=[_83.on("resize",_7b.hitch(this,"layout")),on(win,"scroll",_7b.hitch(this,"layout"))];},hide:function(){this.bgIframe.destroy();delete this.bgIframe;this.domNode.style.display="none";while(this._modalConnects.length){(this._modalConnects.pop()).remove();}this.open=false;},destroy:function(){while(this._modalConnects.length){(this._modalConnects.pop()).remove();}this.inherited(arguments);},_onKeyDown:function(){}});_85.show=function(_88,_89){var _8a=_85._singleton;if(!_8a||_8a._destroyed){_8a=_84._underlay=_85._singleton=new _85(_88);}else{if(_88){_8a.set(_88);}}_7e.set(_8a.domNode,"zIndex",_89);if(!_8a.open){_8a.show();}};_85.hide=function(){var _8b=_85._singleton;if(_8b&&!_8b._destroyed){_8b.hide();}};return _85;});},"prmaxquestionnaires/pages/RelatedOutlets":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../pages/templates/RelatedOutlets.html","dijit/layout/BorderContainer","dojo/topic","dojo/_base/lang","ttl/utilities2","dojo/request","dojox/data/JsonRestStore","dojo/data/ItemFileReadStore","dijit/form/Form","dijit/form/TextBox","dijit/form/FilteringSelect","dijit/form/Button","dojox/form/BusyButton","dijit/Dialog","dijit/form/Textarea","prcommon2/outlet/OutletSelect","prcommon2/outlet/OutletSelectSimple","prcommon2/outlet/SelectMultipleOutlets"],function(_8c,_8d,_8e,_8f,_90,_91,_92,_93,_94,_95){return _8c("prmaxquestionnaires.pages.RelatedOutlets",[_8d,_8f],{templateString:_8e,constructor:function(){this._update_call_back=_91.hitch(this,this._update_call);this._error_call_back=_91.hitch(this,this._error_handler);this._page_ctrl=null;this._page_error=null;},postCreate:function(){this.inherited(arguments);this.load(PRMAX.questionnaire);},load:function(_96){with(_96){if(outlet.research!=null){this.surname.set("value",outlet.research.research_surname);this.firstname.set("value",outlet.research.research_firstname);this.prefix.set("value",outlet.research.research_prefix);this.email.set("value",outlet.research.research_email);this.job_title.set("value",outlet.research.research_job_title);}}this.questionnaireid.set("value",_96.questionnaireid);},_update_related:function(){if(_92.form_validator(this.form)==false){alert("Not all required field filled in");throw "N";}_93.post("/questionnaire/update_related_outlets",_92.make_params({data:this.form.get("value")})).then(this._update_call_back,this._error_call_back);},_update_call:function(_97){if(_97.success=="OK"){if(this._page_ctrl){this._page_ctrl();}else{alert("Related Outlets Updated");}}else{alert("Changes Failed to Apply");if(this._page_error){this._page_error();}}},_error_handler:function(_98,_99){_92.xhr_post_error(_98,_99);if(this._page_error){this._page_error();}},save_move:function(_9a,_9b){this._page_ctrl=_9a;this._page_error=_9b;this._update_related();}});});},"put-selector/put":function(){(function(_9c){var _9d,_9e=/[-+,> ]/;_9c([],_9d=function(doc,_9f){"use strict";_9e=_9f||_9e;var _a0=/(?:\s*([-+ ,<>]))?\s*(\.|!\.?|#)?([-\w%$|]+)?(?:\[([^\]=]+)=?['"]?([^\]'"]*)['"]?\])?/g,_a1,_a2,_a3=false,doc=doc||document,_a4=typeof doc.createElement=="object";function _a5(_a6,_a7){_a6.appendChild(doc.createTextNode(_a7));};function put(_a8){var _a9,_aa,_ab,_ac,_ad,_ae=arguments,_af=_ae[0];function _b0(){if(_ad&&_ac&&_ad!=_ac){(_ac==_a8&&(_a9||(_a9=_9e.test(_b1)&&doc.createDocumentFragment()))?_a9:_ac).insertBefore(_ad,_ab||null);}};for(var i=0;i<_ae.length;i++){var _b1=_ae[i];if(typeof _b1=="object"){_aa=false;if(_b1 instanceof Array){_ad=doc.createDocumentFragment();for(var key=0;key<_b1.length;key++){_ad.appendChild(put(_b1[key]));}_b1=_ad;}if(_b1.nodeType){_ad=_b1;_b0();_ac=_b1;_ab=0;}else{for(var key in _b1){_ad[key]=_b1[key];}}}else{if(_aa){_aa=false;_a5(_ad,_b1);}else{if(i<1){_a8=null;}_aa=true;var _b2=_b1.replace(_a0,function(t,_b3,_b4,_b5,_b6,_b7){if(_b3){_b0();if(_b3=="-"||_b3=="+"){_ac=(_ab=(_ad||_ac)).parentNode;_ad=null;if(_b3=="+"){_ab=_ab.nextSibling;}}else{if(_b3=="<"){_ac=_ad=(_ad||_ac).parentNode;}else{if(_b3==","){_ac=_a8;}else{if(_ad){_ac=_ad;}}_ad=null;}_ab=0;}if(_ad){_ac=_ad;}}var tag=!_b4&&_b5;if(tag||(!_ad&&(_b4||_b6))){if(tag=="$"){_a5(_ac,_ae[++i]);}else{tag=tag||put.defaultTag;var _b8=_a4&&_ae[i+1]&&_ae[i+1].name;if(_b8){tag="<"+tag+" name=\""+_b8+"\">";}_ad=_a3&&~(_a2=tag.indexOf("|"))?doc.createElementNS(_a3[tag.slice(0,_a2)],tag.slice(_a2+1)):doc.createElement(tag);}}if(_b4){if(_b5=="$"){_b5=_ae[++i];}if(_b4=="#"){_ad.id=_b5;}else{var _b9=_ad.className;var _ba=_b9&&(" "+_b9+" ").replace(" "+_b5+" "," ");if(_b4=="."){_ad.className=_b9?(_ba+_b5).substring(1):_b5;}else{if(_b1=="!"){var _bb;if(_a4){put("div",_ad,"<").innerHTML="";}else{if(_bb=_ad.parentNode){_bb.removeChild(_ad);}}}else{_ba=_ba.substring(1,_ba.length-1);if(_ba!=_b9){_ad.className=_ba;}}}}}if(_b6){if(_b7=="$"){_b7=_ae[++i];}if(_b6=="style"){_ad.style.cssText=_b7;}else{var _bc=_b6.charAt(0)=="!"?(_b6=_b6.substring(1))&&"removeAttribute":"setAttribute";_b7=_b7===""?_b6:_b7;_a3&&~(_a2=_b6.indexOf("|"))?_ad[_bc+"NS"](_a3[_b6.slice(0,_a2)],_b6.slice(_a2+1),_b7):_ad[_bc](_b6,_b7);}}return "";});if(_b2){throw new SyntaxError("Unexpected char "+_b2+" in "+_b1);}_b0();_ac=_af=_ad||_ac;}}}if(_a8&&_a9){_a8.appendChild(_a9);}return _af;};put.addNamespace=function(_bd,uri){if(doc.createElementNS){(_a3||(_a3={}))[_bd]=uri;}else{doc.namespaces.add(_bd,uri);}};put.defaultTag="div";put.forDocument=_9d;return put;});})(function(id,_be,_bf){_bf=_bf||_be;if(typeof define==="function"){define([],function(){return _bf();});}else{if(typeof window=="undefined"){require("./node-html")(module,_bf);}else{put=_bf();}}});},"dijit/place":function(){define(["dojo/_base/array","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/window","./Viewport","./main"],function(_c0,_c1,_c2,_c3,win,_c4,_c5){function _c6(_c7,_c8,_c9,_ca){var _cb=_c4.getEffectiveBox(_c7.ownerDocument);if(!_c7.parentNode||String(_c7.parentNode.tagName).toLowerCase()!="body"){win.body(_c7.ownerDocument).appendChild(_c7);}var _cc=null;_c0.some(_c8,function(_cd){var _ce=_cd.corner;var pos=_cd.pos;var _cf=0;var _d0={w:{"L":_cb.l+_cb.w-pos.x,"R":pos.x-_cb.l,"M":_cb.w}[_ce.charAt(1)],h:{"T":_cb.t+_cb.h-pos.y,"B":pos.y-_cb.t,"M":_cb.h}[_ce.charAt(0)]};var s=_c7.style;s.left=s.right="auto";if(_c9){var res=_c9(_c7,_cd.aroundCorner,_ce,_d0,_ca);_cf=typeof res=="undefined"?0:res;}var _d1=_c7.style;var _d2=_d1.display;var _d3=_d1.visibility;if(_d1.display=="none"){_d1.visibility="hidden";_d1.display="";}var bb=_c1.position(_c7);_d1.display=_d2;_d1.visibility=_d3;var _d4={"L":pos.x,"R":pos.x-bb.w,"M":Math.max(_cb.l,Math.min(_cb.l+_cb.w,pos.x+(bb.w>>1))-bb.w)}[_ce.charAt(1)],_d5={"T":pos.y,"B":pos.y-bb.h,"M":Math.max(_cb.t,Math.min(_cb.t+_cb.h,pos.y+(bb.h>>1))-bb.h)}[_ce.charAt(0)],_d6=Math.max(_cb.l,_d4),_d7=Math.max(_cb.t,_d5),_d8=Math.min(_cb.l+_cb.w,_d4+bb.w),_d9=Math.min(_cb.t+_cb.h,_d5+bb.h),_da=_d8-_d6,_db=_d9-_d7;_cf+=(bb.w-_da)+(bb.h-_db);if(_cc==null||_cf<_cc.overflow){_cc={corner:_ce,aroundCorner:_cd.aroundCorner,x:_d6,y:_d7,w:_da,h:_db,overflow:_cf,spaceAvailable:_d0};}return !_cf;});if(_cc.overflow&&_c9){_c9(_c7,_cc.aroundCorner,_cc.corner,_cc.spaceAvailable,_ca);}var top=_cc.y,_dc=_cc.x,_dd=win.body(_c7.ownerDocument);if(/relative|absolute/.test(_c2.get(_dd,"position"))){top-=_c2.get(_dd,"marginTop");_dc-=_c2.get(_dd,"marginLeft");}var s=_c7.style;s.top=top+"px";s.left=_dc+"px";s.right="auto";return _cc;};var _de={"TL":"BR","TR":"BL","BL":"TR","BR":"TL"};var _df={at:function(_e0,pos,_e1,_e2,_e3){var _e4=_c0.map(_e1,function(_e5){var c={corner:_e5,aroundCorner:_de[_e5],pos:{x:pos.x,y:pos.y}};if(_e2){c.pos.x+=_e5.charAt(1)=="L"?_e2.x:-_e2.x;c.pos.y+=_e5.charAt(0)=="T"?_e2.y:-_e2.y;}return c;});return _c6(_e0,_e4,_e3);},around:function(_e6,_e7,_e8,_e9,_ea){var _eb;if(typeof _e7=="string"||"offsetWidth" in _e7||"ownerSVGElement" in _e7){_eb=_c1.position(_e7,true);if(/^(above|below)/.test(_e8[0])){var _ec=_c1.getBorderExtents(_e7),_ed=_e7.firstChild?_c1.getBorderExtents(_e7.firstChild):{t:0,l:0,b:0,r:0},_ee=_c1.getBorderExtents(_e6),_ef=_e6.firstChild?_c1.getBorderExtents(_e6.firstChild):{t:0,l:0,b:0,r:0};_eb.y+=Math.min(_ec.t+_ed.t,_ee.t+_ef.t);_eb.h-=Math.min(_ec.t+_ed.t,_ee.t+_ef.t)+Math.min(_ec.b+_ed.b,_ee.b+_ef.b);}}else{_eb=_e7;}if(_e7.parentNode){var _f0=_c2.getComputedStyle(_e7).position=="absolute";var _f1=_e7.parentNode;while(_f1&&_f1.nodeType==1&&_f1.nodeName!="BODY"){var _f2=_c1.position(_f1,true),pcs=_c2.getComputedStyle(_f1);if(/relative|absolute/.test(pcs.position)){_f0=false;}if(!_f0&&/hidden|auto|scroll/.test(pcs.overflow)){var _f3=Math.min(_eb.y+_eb.h,_f2.y+_f2.h);var _f4=Math.min(_eb.x+_eb.w,_f2.x+_f2.w);_eb.x=Math.max(_eb.x,_f2.x);_eb.y=Math.max(_eb.y,_f2.y);_eb.h=_f3-_eb.y;_eb.w=_f4-_eb.x;}if(pcs.position=="absolute"){_f0=true;}_f1=_f1.parentNode;}}var x=_eb.x,y=_eb.y,_f5="w" in _eb?_eb.w:(_eb.w=_eb.width),_f6="h" in _eb?_eb.h:(_c3.deprecated("place.around: dijit/place.__Rectangle: { x:"+x+", y:"+y+", height:"+_eb.height+", width:"+_f5+" } has been deprecated.  Please use { x:"+x+", y:"+y+", h:"+_eb.height+", w:"+_f5+" }","","2.0"),_eb.h=_eb.height);var _f7=[];function _f8(_f9,_fa){_f7.push({aroundCorner:_f9,corner:_fa,pos:{x:{"L":x,"R":x+_f5,"M":x+(_f5>>1)}[_f9.charAt(1)],y:{"T":y,"B":y+_f6,"M":y+(_f6>>1)}[_f9.charAt(0)]}});};_c0.forEach(_e8,function(pos){var ltr=_e9;switch(pos){case "above-centered":_f8("TM","BM");break;case "below-centered":_f8("BM","TM");break;case "after-centered":ltr=!ltr;case "before-centered":_f8(ltr?"ML":"MR",ltr?"MR":"ML");break;case "after":ltr=!ltr;case "before":_f8(ltr?"TL":"TR",ltr?"TR":"TL");_f8(ltr?"BL":"BR",ltr?"BR":"BL");break;case "below-alt":ltr=!ltr;case "below":_f8(ltr?"BL":"BR",ltr?"TL":"TR");_f8(ltr?"BR":"BL",ltr?"TR":"TL");break;case "above-alt":ltr=!ltr;case "above":_f8(ltr?"TL":"TR",ltr?"BL":"BR");_f8(ltr?"TR":"TL",ltr?"BR":"BL");break;default:_f8(pos.aroundCorner,pos.corner);}});var _fb=_c6(_e6,_f7,_ea,{w:_f5,h:_f6});_fb.aroundNodePos=_eb;return _fb;}};return _c5.place=_df;});},"dijit/tree/TreeStoreModel":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang"],function(_fc,_fd,_fe,_ff){return _fe("dijit.tree.TreeStoreModel",null,{store:null,childrenAttrs:["children"],newItemIdAttr:"id",labelAttr:"",root:null,query:null,deferItemLoadingUntilExpand:false,constructor:function(args){_ff.mixin(this,args);this.connects=[];var _100=this.store;if(!_100.getFeatures()["dojo.data.api.Identity"]){throw new Error("dijit.tree.TreeStoreModel: store must support dojo.data.Identity");}if(_100.getFeatures()["dojo.data.api.Notification"]){this.connects=this.connects.concat([_fd.after(_100,"onNew",_ff.hitch(this,"onNewItem"),true),_fd.after(_100,"onDelete",_ff.hitch(this,"onDeleteItem"),true),_fd.after(_100,"onSet",_ff.hitch(this,"onSetItem"),true)]);}},destroy:function(){var h;while(h=this.connects.pop()){h.remove();}},getRoot:function(_101,_102){if(this.root){_101(this.root);}else{this.store.fetch({query:this.query,onComplete:_ff.hitch(this,function(_103){if(_103.length!=1){throw new Error("dijit.tree.TreeStoreModel: root query returned "+_103.length+" items, but must return exactly one");}this.root=_103[0];_101(this.root);}),onError:_102});}},mayHaveChildren:function(item){return _fc.some(this.childrenAttrs,function(attr){return this.store.hasAttribute(item,attr);},this);},getChildren:function(_104,_105,_106){var _107=this.store;if(!_107.isItemLoaded(_104)){var _108=_ff.hitch(this,arguments.callee);_107.loadItem({item:_104,onItem:function(_109){_108(_109,_105,_106);},onError:_106});return;}var _10a=[];for(var i=0;i<this.childrenAttrs.length;i++){var vals=_107.getValues(_104,this.childrenAttrs[i]);_10a=_10a.concat(vals);}var _10b=0;if(!this.deferItemLoadingUntilExpand){_fc.forEach(_10a,function(item){if(!_107.isItemLoaded(item)){_10b++;}});}if(_10b==0){_105(_10a);}else{_fc.forEach(_10a,function(item,idx){if(!_107.isItemLoaded(item)){_107.loadItem({item:item,onItem:function(item){_10a[idx]=item;if(--_10b==0){_105(_10a);}},onError:_106});}});}},isItem:function(_10c){return this.store.isItem(_10c);},fetchItemByIdentity:function(_10d){this.store.fetchItemByIdentity(_10d);},getIdentity:function(item){return this.store.getIdentity(item);},getLabel:function(item){if(this.labelAttr){return this.store.getValue(item,this.labelAttr);}else{return this.store.getLabel(item);}},newItem:function(args,_10e,_10f){var _110={parent:_10e,attribute:this.childrenAttrs[0]},_111;if(this.newItemIdAttr&&args[this.newItemIdAttr]){this.fetchItemByIdentity({identity:args[this.newItemIdAttr],scope:this,onItem:function(item){if(item){this.pasteItem(item,null,_10e,true,_10f);}else{_111=this.store.newItem(args,_110);if(_111&&(_10f!=undefined)){this.pasteItem(_111,_10e,_10e,false,_10f);}}}});}else{_111=this.store.newItem(args,_110);if(_111&&(_10f!=undefined)){this.pasteItem(_111,_10e,_10e,false,_10f);}}},pasteItem:function(_112,_113,_114,_115,_116){var _117=this.store,_118=this.childrenAttrs[0];if(_113){_fc.forEach(this.childrenAttrs,function(attr){if(_117.containsValue(_113,attr,_112)){if(!_115){var _119=_fc.filter(_117.getValues(_113,attr),function(x){return x!=_112;});_117.setValues(_113,attr,_119);}_118=attr;}});}if(_114){if(typeof _116=="number"){var _11a=_117.getValues(_114,_118).slice();_11a.splice(_116,0,_112);_117.setValues(_114,_118,_11a);}else{_117.setValues(_114,_118,_117.getValues(_114,_118).concat(_112));}}},onChange:function(){},onChildrenChange:function(){},onDelete:function(){},onNewItem:function(item,_11b){if(!_11b){return;}this.getChildren(_11b.item,_ff.hitch(this,function(_11c){this.onChildrenChange(_11b.item,_11c);}));},onDeleteItem:function(item){this.onDelete(item);},onSetItem:function(item,_11d){if(_fc.indexOf(this.childrenAttrs,_11d)!=-1){this.getChildren(item,_ff.hitch(this,function(_11e){this.onChildrenChange(item,_11e);}));}else{this.onChange(item);}}});});},"dijit/_HasDropDown":function(){define(["dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","dojo/touch","./registry","./focus","./popup","./_FocusMixin"],function(_11f,_120,dom,_121,_122,_123,_124,has,keys,lang,on,_125,_126,_127,_128,_129){return _11f("dijit._HasDropDown",_129,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:true,forceWidth:false,maxHeight:-1,dropDownPosition:["below","above"],_stopClickEvents:true,_onDropDownMouseDown:function(e){if(this.disabled||this.readOnly){return;}if(e.type!="MSPointerDown"&&e.type!="pointerdown"){e.preventDefault();}this.own(on.once(this.ownerDocument,_125.release,lang.hitch(this,"_onDropDownMouseUp")));this.toggleDropDown();},_onDropDownMouseUp:function(e){var _12a=this.dropDown,_12b=false;if(e&&this._opened){var c=_123.position(this._buttonNode,true);if(!(e.pageX>=c.x&&e.pageX<=c.x+c.w)||!(e.pageY>=c.y&&e.pageY<=c.y+c.h)){var t=e.target;while(t&&!_12b){if(_122.contains(t,"dijitPopup")){_12b=true;}else{t=t.parentNode;}}if(_12b){t=e.target;if(_12a.onItemClick){var _12c;while(t&&!(_12c=_126.byNode(t))){t=t.parentNode;}if(_12c&&_12c.onClick&&_12c.getParent){_12c.getParent().onItemClick(_12c,e);}}return;}}}if(this._opened){if(_12a.focus&&(_12a.autoFocus!==false||(e.type=="mouseup"&&!this.hovering))){this._focusDropDownTimer=this.defer(function(){_12a.focus();delete this._focusDropDownTimer;});}}else{if(this.focus){this.defer("focus");}}},_onDropDownClick:function(e){if(this._stopClickEvents){e.stopPropagation();e.preventDefault();}},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var _12d={"after":this.isLeftToRight()?"Right":"Left","before":this.isLeftToRight()?"Left":"Right","above":"Up","below":"Down","left":"Left","right":"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";_122.add(this._arrowWrapperNode||this._buttonNode,"dijit"+_12d+"ArrowButton");},postCreate:function(){this.inherited(arguments);var _12e=this.focusNode||this.domNode;this.own(on(this._buttonNode,_125.press,lang.hitch(this,"_onDropDownMouseDown")),on(this._buttonNode,"click",lang.hitch(this,"_onDropDownClick")),on(_12e,"keydown",lang.hitch(this,"_onKey")),on(_12e,"keyup",lang.hitch(this,"_onKeyUp")));},destroy:function(){if(this._opened){this.closeDropDown(true);}if(this.dropDown){if(!this.dropDown._destroyed){this.dropDown.destroyRecursive();}delete this.dropDown;}this.inherited(arguments);},_onKey:function(e){if(this.disabled||this.readOnly){return;}var d=this.dropDown,_12f=e.target;if(d&&this._opened&&d.handleKey){if(d.handleKey(e)===false){e.stopPropagation();e.preventDefault();return;}}if(d&&this._opened&&e.keyCode==keys.ESCAPE){this.closeDropDown();e.stopPropagation();e.preventDefault();}else{if(!this._opened&&(e.keyCode==keys.DOWN_ARROW||((e.keyCode==keys.ENTER||(e.keyCode==keys.SPACE&&(!this._searchTimer||(e.ctrlKey||e.altKey||e.metaKey))))&&((_12f.tagName||"").toLowerCase()!=="input"||(_12f.type&&_12f.type.toLowerCase()!=="text"))))){this._toggleOnKeyUp=true;e.stopPropagation();e.preventDefault();}}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var d=this.dropDown;if(d&&d.focus){this.defer(lang.hitch(d,"focus"),1);}}},_onBlur:function(){this.closeDropDown(false);this.inherited(arguments);},isLoaded:function(){return true;},loadDropDown:function(_130){_130();},loadAndOpenDropDown:function(){var d=new _120(),_131=lang.hitch(this,function(){this.openDropDown();d.resolve(this.dropDown);});if(!this.isLoaded()){this.loadDropDown(_131);}else{_131();}return d;},toggleDropDown:function(){if(this.disabled||this.readOnly){return;}if(!this._opened){this.loadAndOpenDropDown();}else{this.closeDropDown(true);}},openDropDown:function(){var _132=this.dropDown,_133=_132.domNode,_134=this._aroundNode||this.domNode,self=this;var _135=_128.open({parent:this,popup:_132,around:_134,orient:this.dropDownPosition,maxHeight:this.maxHeight,onExecute:function(){self.closeDropDown(true);},onCancel:function(){self.closeDropDown(true);},onClose:function(){_121.set(self._popupStateNode,"popupActive",false);_122.remove(self._popupStateNode,"dijitHasDropDownOpen");self._set("_opened",false);}});if(this.forceWidth||(this.autoWidth&&_134.offsetWidth>_132._popupWrapper.offsetWidth)){var _136=_134.offsetWidth-_132._popupWrapper.offsetWidth;var _137={w:_132.domNode.offsetWidth+_136};this._origStyle=_133.style.cssText;if(lang.isFunction(_132.resize)){_132.resize(_137);}else{_123.setMarginBox(_133,_137);}if(_135.corner[1]=="R"){_132._popupWrapper.style.left=(_132._popupWrapper.style.left.replace("px","")-_136)+"px";}}_121.set(this._popupStateNode,"popupActive","true");_122.add(this._popupStateNode,"dijitHasDropDownOpen");this._set("_opened",true);this._popupStateNode.setAttribute("aria-expanded","true");this._popupStateNode.setAttribute("aria-owns",_132.id);if(_133.getAttribute("role")!=="presentation"&&!_133.getAttribute("aria-labelledby")){_133.setAttribute("aria-labelledby",this.id);}return _135;},closeDropDown:function(_138){if(this._focusDropDownTimer){this._focusDropDownTimer.remove();delete this._focusDropDownTimer;}if(this._opened){this._popupStateNode.setAttribute("aria-expanded","false");if(_138&&this.focus){this.focus();}_128.close(this.dropDown);this._opened=false;}if(this._origStyle){this.dropDown.domNode.style.cssText=this._origStyle;delete this._origStyle;}}});});},"dijit/_MenuBase":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/_base/lang","dojo/mouse","dojo/on","dojo/window","./a11yclick","./registry","./_Widget","./_CssStateMixin","./_KeyNavContainer","./_TemplatedMixin"],function(_139,_13a,dom,_13b,_13c,lang,_13d,on,_13e,_13f,_140,_141,_142,_143,_144){return _13a("dijit._MenuBase",[_141,_144,_143,_142],{selected:null,_setSelectedAttr:function(item){if(this.selected!=item){if(this.selected){this.selected._setSelected(false);this._onChildDeselect(this.selected);}if(item){item._setSelected(true);}this._set("selected",item);}},activated:false,_setActivatedAttr:function(val){_13c.toggle(this.domNode,"dijitMenuActive",val);_13c.toggle(this.domNode,"dijitMenuPassive",!val);this._set("activated",val);},parentMenu:null,popupDelay:500,passivePopupDelay:Infinity,autoFocus:false,childSelector:function(node){var _145=_140.byNode(node);return node.parentNode==this.containerNode&&_145&&_145.focus;},postCreate:function(){var self=this,_146=typeof this.childSelector=="string"?this.childSelector:lang.hitch(this,"childSelector");this.own(on(this.containerNode,on.selector(_146,_13d.enter),function(){self.onItemHover(_140.byNode(this));}),on(this.containerNode,on.selector(_146,_13d.leave),function(){self.onItemUnhover(_140.byNode(this));}),on(this.containerNode,on.selector(_146,_13f),function(evt){self.onItemClick(_140.byNode(this),evt);evt.stopPropagation();}),on(this.containerNode,on.selector(_146,"focusin"),function(){self._onItemFocus(_140.byNode(this));}));this.inherited(arguments);},onKeyboardSearch:function(item,evt,_147,_148){this.inherited(arguments);if(!!item&&(_148==-1||(!!item.popup&&_148==1))){this.onItemClick(item,evt);}},_keyboardSearchCompare:function(item,_149){if(!!item.shortcutKey){return _149==item.shortcutKey.toLowerCase()?-1:0;}return this.inherited(arguments)?1:0;},onExecute:function(){},onCancel:function(){},_moveToPopup:function(evt){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled){this.onItemClick(this.focusedChild,evt);}else{var _14a=this._getTopMenu();if(_14a&&_14a._isMenuBar){_14a.focusNext();}}},_onPopupHover:function(){this.set("selected",this.currentPopupItem);this._stopPendingCloseTimer();},onItemHover:function(item){if(this.activated){this.set("selected",item);if(item.popup&&!item.disabled&&!this.hover_timer){this.hover_timer=this.defer(function(){this._openItemPopup(item);},this.popupDelay);}}else{if(this.passivePopupDelay<Infinity){if(this.passive_hover_timer){this.passive_hover_timer.remove();}this.passive_hover_timer=this.defer(function(){this.onItemClick(item,{type:"click"});},this.passivePopupDelay);}}this._hoveredChild=item;item._set("hovering",true);},_onChildDeselect:function(item){this._stopPopupTimer();if(this.currentPopupItem==item){this._stopPendingCloseTimer();this._pendingClose_timer=this.defer(function(){this._pendingClose_timer=null;this.currentPopupItem=null;item._closePopup();},this.popupDelay);}},onItemUnhover:function(item){if(this._hoveredChild==item){this._hoveredChild=null;}if(this.passive_hover_timer){this.passive_hover_timer.remove();this.passive_hover_timer=null;}item._set("hovering",false);},_stopPopupTimer:function(){if(this.hover_timer){this.hover_timer=this.hover_timer.remove();}},_stopPendingCloseTimer:function(){if(this._pendingClose_timer){this._pendingClose_timer=this._pendingClose_timer.remove();}},_getTopMenu:function(){for(var top=this;top.parentMenu;top=top.parentMenu){}return top;},onItemClick:function(item,evt){if(this.passive_hover_timer){this.passive_hover_timer.remove();}this.focusChild(item);if(item.disabled){return false;}if(item.popup){this.set("selected",item);this.set("activated",true);var _14b=/^key/.test(evt._origType||evt.type)||(evt.clientX==0&&evt.clientY==0);this._openItemPopup(item,_14b);}else{this.onExecute();item._onClick?item._onClick(evt):item.onClick(evt);}},_openItemPopup:function(_14c,_14d){if(_14c==this.currentPopupItem){return;}if(this.currentPopupItem){this._stopPendingCloseTimer();this.currentPopupItem._closePopup();}this._stopPopupTimer();var _14e=_14c.popup;_14e.parentMenu=this;this.own(this._mouseoverHandle=on.once(_14e.domNode,"mouseover",lang.hitch(this,"_onPopupHover")));var self=this;_14c._openPopup({parent:this,orient:this._orient||["after","before"],onCancel:function(){if(_14d){self.focusChild(_14c);}self._cleanUp();},onExecute:lang.hitch(this,"_cleanUp",true),onClose:function(){if(self._mouseoverHandle){self._mouseoverHandle.remove();delete self._mouseoverHandle;}}},_14d);this.currentPopupItem=_14c;},onOpen:function(){this.isShowingNow=true;this.set("activated",true);},onClose:function(){this.set("activated",false);this.set("selected",null);this.isShowingNow=false;this.parentMenu=null;},_closeChild:function(){this._stopPopupTimer();if(this.currentPopupItem){if(this.focused){_13b.set(this.selected.focusNode,"tabIndex",this.tabIndex);this.selected.focusNode.focus();}this.currentPopupItem._closePopup();this.currentPopupItem=null;}},_onItemFocus:function(item){if(this._hoveredChild&&this._hoveredChild!=item){this.onItemUnhover(this._hoveredChild);}this.set("selected",item);},_onBlur:function(){this._cleanUp(true);this.inherited(arguments);},_cleanUp:function(_14f){this._closeChild();if(typeof this.isShowingNow=="undefined"){this.set("activated",false);}if(_14f){this.set("selected",null);}}});});},"prmaxquestionnaires/main/deskbanner":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../main/templates/deskbanner.html","prmaxquestionnaires/main/banner","dojo/dom-attr","dojo/topic","dojo/dom-class"],function(_150,_151,_152,_153,_154,_155,_156){return _150("prmaxquestionnaires.main.deskbanner",[_153],{templateString:_152,mode:"normal",questionnaireid:-1,postCreate:function(){this.inherited(arguments);_154.set(this.title_text,"innerHTML",PRMAX.questionnaire.outlet.desk.deskname+" - "+PRMAX.questionnaire.outlet.outlet.outletname);},_show_page_call:function(_157){switch(_157){case "title":_156.remove(this.journalists_view,"selected");_156.remove(this.related_outlets_view,"selected");_156.add(this.title_view,"selected");break;case "journalists":_156.remove(this.title_view,"selected");_156.remove(this.related_outlets_view,"selected");_156.add(this.journalists_view,"selected");break;case "related_outlets":_156.remove(this.title_view,"selected");_156.remove(this.journalists_view,"selected");_156.add(this.related_outlets_view,"selected");break;}}});});},"ttl/grid/Grid":function(){define(["dojo/_base/declare","dojo/dom-style","dgrid/List","dgrid/OnDemandGrid","dgrid/Selection","dgrid/editor","dgrid/Keyboard","dgrid/tree","dgrid/extensions/DijitRegistry","dgrid/TouchScroll"],function(_158,_159,_15a,_15b,_15c,_15d,tree,_15e,_15f){return _158("ttl.grid.Grid",[_15a,_15b,_15c,_15d,tree,_15e,_15f],{pagingDelay:100,postCreate:function(){this.inherited(arguments);_159.set(this.domNode,"height","100%");}});});},"dgrid/util/touch":function(){define(["dojo/on","dojo/query"],function(on,_160){var util={tapRadius:10,dbltapTime:250,selector:function(_161,_162,_163){return function(_164,_165){var _166=_162.bubble;if(_166){_162=_166;}else{if(_163!==false){_163=true;}}return on(_164,_162,function(_167){var _168=_167.target;if(_168.nodeType==3){_168=_168.parentNode;}while(!_160.matches(_168,_161,_164)){if(_168==_164||!_163||!(_168=_168.parentNode)){return;}}return _165.call(_168,_167);});};},countCurrentTouches:function(evt,node){if(!("touches" in evt)){return -1;}var i,_169,_16a;for(i=0,_169=0;(_16a=evt.touches[i]);++i){if(node.contains(_16a.target)){++_169;}}return _169;}};function _16b(_16c,_16d,evt,_16e){if(evt.targetTouches.length>1){return;}var _16f=evt.changedTouches[0],_170=_16f.screenX,_171=_16f.screenY;_16e&&evt.preventDefault();var _172=on(_16c,"touchend",function(evt){var end=evt.changedTouches[0];if(!evt.targetTouches.length){if(Math.abs(end.screenX-_170)<util.tapRadius&&Math.abs(end.screenY-_171)<util.tapRadius){_16e&&evt.preventDefault();_16d.call(this,evt);}_172.remove();}});};function tap(_173,_174){return on(_173,"touchstart",function(evt){_16b(_173,_174,evt);});};function _175(_176,_177){var _178,_179;return on(_176,"touchstart",function(evt){if(!_178){_16b(_176,function(evt){_178=evt.changedTouches[0];_179=setTimeout(function(){_178=_179=null;},util.dbltapTime);},evt);}else{_16b(_176,function(evt){if(!_178){return;}var _17a=evt.changedTouches[0];if(Math.abs(_17a.screenX-_178.screenX)<util.tapRadius&&Math.abs(_17a.screenY-_178.screenY)<util.tapRadius){_179&&clearTimeout(_179);_178=_179=null;_177.call(this,evt);}},evt,true);}});};util.tap=tap;util.dbltap=_175;return util;});},"dijit/tree/ForestStoreModel":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","./TreeStoreModel"],function(_17b,_17c,_17d,lang,_17e){return _17c("dijit.tree.ForestStoreModel",_17e,{rootId:"$root$",rootLabel:"ROOT",query:null,constructor:function(_17f){this.root={store:this,root:true,id:_17f.rootId,label:_17f.rootLabel,children:_17f.rootChildren};},mayHaveChildren:function(item){return item===this.root||this.inherited(arguments);},getChildren:function(_180,_181,_182){if(_180===this.root){if(this.root.children){_181(this.root.children);}else{this.store.fetch({query:this.query,onComplete:lang.hitch(this,function(_183){this.root.children=_183;_181(_183);}),onError:_182});}}else{this.inherited(arguments);}},isItem:function(_184){return (_184===this.root)?true:this.inherited(arguments);},fetchItemByIdentity:function(_185){if(_185.identity==this.root.id){var _186=_185.scope||_17d.global;if(_185.onItem){_185.onItem.call(_186,this.root);}}else{this.inherited(arguments);}},getIdentity:function(item){return (item===this.root)?this.root.id:this.inherited(arguments);},getLabel:function(item){return (item===this.root)?this.root.label:this.inherited(arguments);},newItem:function(args,_187,_188){if(_187===this.root){this.onNewRootItem(args);return this.store.newItem(args);}else{return this.inherited(arguments);}},onNewRootItem:function(){},pasteItem:function(_189,_18a,_18b,_18c,_18d){if(_18a===this.root){if(!_18c){this.onLeaveRoot(_189);}}this.inherited(arguments,[_189,_18a===this.root?null:_18a,_18b===this.root?null:_18b,_18c,_18d]);if(_18b===this.root){this.onAddToRoot(_189);}},onAddToRoot:function(item){},onLeaveRoot:function(item){},_requeryTop:function(){var _18e=this.root.children||[];this.store.fetch({query:this.query,onComplete:lang.hitch(this,function(_18f){this.root.children=_18f;if(_18e.length!=_18f.length||_17b.some(_18e,function(item,idx){return _18f[idx]!=item;})){this.onChildrenChange(this.root,_18f);}})});},onNewItem:function(item,_190){this._requeryTop();this.inherited(arguments);},onDeleteItem:function(item){if(_17b.indexOf(this.root.children,item)!=-1){this._requeryTop();}this.inherited(arguments);},onSetItem:function(item,_191,_192,_193){this._requeryTop();this.inherited(arguments);}});});},"prcommon2/search/Countries":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../search/templates/Countries.html","prcommon2/search/std_search","dojo/_base/lang","dojo/dom-attr","dojo/dom-class","dojo/dom-style","dojo/json","dojo/request","ttl/utilities2","prcommon2/search/std_search","prcommon2/search/SearchCount"],function(_194,_195,_196,_197,lang,_198,_199,_19a,json,_19b,_19c){return _194("prcommon2.search.Countries",[_195,_197],{templateString:_196,name:"",value:"",displaytitle:"Countries",search:"",size:"7",testmode:false,selectonly:false,startopen:false,preload:true,interesttypeid:1,restrict:1,constructor:function(){this.disabled=false;this._extended=false;this._load_selection_call=lang.hitch(this,this._load_selection);this.interestTimer=null;this.inherited(arguments);},postCreate:function(){dojo.connect(this.interest_list_select.domNode,"onkeyup",lang.hitch(this,this.interest_select_event));dojo.connect(this.interest_list,"onchange",lang.hitch(this,this.interest_update_selection));dojo.connect(this.interest_list,"ondblclick",lang.hitch(this,this.interest_select_dbl));_198.set(this.andorlabel,"for",this.andor.id);if(this.selectonly){this.andor.domNode.style.display="None";this.countnode.domNode.style.display="None";this.andor.style.display="None";}if(this.startopen){_19a.set(this.togglectrl,"display","none");_19a.set(this.selectarea,"display","block");}if(this.preload){for(var key in PRMAX.Settings.countries){var _19d=PRMAX.Settings.countries[key];this.interest_select.options[this.interest_select.options.length]=new Option(_19d.countryname,_19d.countryid);}if(PRMAX.Settings.countries.length>0){this.make_open();this._get_selector(this._getValueAttr(),true);}}this.inherited(arguments);},clear:function(){this._clear_selection_box();this._clear_selected_box();this.interest_list_select.set("value","");this._get_selector(this._getValueAttr());this._selection_options();this.inherited(arguments);},_send_request:function(data){this._transactionid=PRCOMMON.utils.uuid.createUUID();_19b.post("/geographical/countries_listselection",_19c.make_params({data:{word:data,logic:this.andor.get("value"),keytypeid:this.keytypeid,restrict:this.restrict,transactionid:this._transactionid}})).then(this._load_selection_call);},interest_select_event:function(p1,_19e){var data=this.interest_list_select.get("value");if(_19e!=null){data=_19e;}if(data.length>0){if(this.interestTimer){clearTimeout(this.interestTimer);this.interestTimer=null;}this.interestTimer=setTimeout(dojo.hitch(this,this._send_request,data),this.searchTime);}else{this.interestTimer=null;this._clear_selection_box();this._selection_options();}},_load_selection:function(_19f){if(this._transactionid==_19f.transactionid){this._clear_selection_box();for(var i=0;i<_19f.data.length;++i){var _1a0=_19f.data[i];this.interest_list.options[this.interest_list.options.length]=new Option(_1a0.countryname,_1a0.countryid);}this._selection_options();}},_clear_selection_box:function(){this.interest_list.options.length=0;},_clear_selected_box:function(){this.interest_select.length=0;},and_or:function(){this._get_selector(this._getValueAttr(),true);},interest_update_selection:function(){this._selection_options();},interest_select_dbl:function(){this.interest_select_single();this._selection_options();},interest_select_all:function(){for(var c=0;c<this.interest_list.options.length;c++){var _1a1=this.interest_list.options[c];var _1a2=true;for(var c1=0;c1<this.interest_select.options.length;c1++){if(this.interest_select.options[c1].value==_1a1.value){_1a2=false;break;}}if(_1a2){this.interest_select.options[this.interest_select.options.length]=new Option(_1a1.text,_1a1.value);}}this._get_selector(this._getValueAttr());this.interest_list.options.length=0;this.interest_update_selection();},interest_select_single:function(){for(var c=0;c<this.interest_list.options.length;c++){var _1a3=this.interest_list.options[c];if(_1a3.selected){_1a3.selected=false;var _1a4=true;for(var c1=0;c1<this.interest_select.options.length;c1++){if(this.interest_select.options[c1].value==_1a3.value){_1a4=false;break;}}if(_1a4){this.interest_select.options[this.interest_select.options.length]=new Option(_1a3.text,_1a3.value);this._get_selector(this._getValueAttr());}}}},interest_remove_all:function(){this.interest_select.options.length=0;this.interest_update_selection();this._get_selector(this._getValueAttr());},interest_remove_single:function(){for(var c=0;c<this.interest_select.options.length;c++){if(this.interest_select.options[c].selected){this.interest_select.options[c]=null;}}this.interest_update_selection();this._get_selector(this._getValueAttr());},add_select:function(data){this.interest_select.options[this.interest_select.options.length]=new Option(data.countryname,data.countryid);},_setValueAttr:function(_1a5){this.clear();var data=_1a5.data;var open=false;if(data==null||data==undefined){data=_1a5;}for(var key in data){var _1a6=data[key];this.interest_select.options[this.interest_select.options.length]=new Option(_1a6.countryname,_1a6.countryid);opne=true;}if(open){this.make_open();}this._get_selector(this._getValueAttr());},_getValueAttr:function(){var data=Array();for(var c=0;c<this.interest_select.options.length;c++){if(this._extended){data[c]={countryid:parseInt(this.interest_select.options[c].value),countryname:this.interest_select.options[c].text};}else{data[c]=parseInt(this.interest_select.options[c].value);}}var obj={data:data,logic:this.andor.get("value")};if(this._extended){return obj;}else{var data=data.length>0?json.stringify(obj):"";this.value=data;return data;}},_getCountAttr:function(){return this.interest_select.options.length;},_setExtendedAttr:function(_1a7){this._extended=_1a7;},_selection_options:function(){this.button_all.set("disabled",this.interest_list.length?false:true);this.button_single.set("disabled",this.interest_list.selectedIndex!=-1?false:true);this.button_del_all.set("disabled",this.interest_select.length?false:true);this.button_del_single.set("disabled",this.interest_select.selectedIndex!=-1?false:true);},_capture_extended_content:function(data){var _1a8=this.andor.get("value");return dojo.mixin(data,{logic:_1a8});},_setDisabledAttr:function(_1a9){this.disabled=_1a9;},_getDisabledAttr:function(){return this.disabled;},_get_selector:function(){if(this.selectonly==false){this.inherited(arguments);}},_focus:function(){this.interest_list_select.focus();}});});},"prcommon2/prevents":function(){define(["dojo/_base/declare"],function(_1aa){return _1aa("prcommon2.prevents",null,{Employee_Deleted:"/employee/deleted",Employee_Updated:"/employee/update",SearchSession_Added:"/searchsession/add",SearchSession_Deleted:"/searchsession/delete",Outlet_Deleted:"/outlet/deleted",Outlet_Updated:"/outlet/update",Outlet_Overrides:"/outlet/overrides",SearchSession_Changed:"/searchsession/changed",Advance_Session_Changed:"/advance/sessionchanged",Display_Retry:"/display/retry",Employee_Add:"/employee/add",Employee_Override:"/employee/overrides",Display_Clear:"/display/clear",Display_Load:"/display/load",Display_Name:"/display/name",Dialog_Close:"/dialog/close",Display_ReLoad:"/display/refresh",Display_View_Changed:"/display/chnaged",Search_PartialMatch:"/search/partialmatch",Search_Total:"/search/searchtotal",Collateral_Add:"/collateral/add",Project_Add:"/projects/add",Project_Update:"/projects/update",Project_Delete:"/projects/delete",List_Deleted:"/lists/delete",List_Add:"/lists/add",User_Added:"/user/added",Word_Html_Data:"/email.html",Geographical_Area_Delete:"/geographical/delete",Geographical_Area_Update:"/geographical/update",Geographical_Area_Add:"/geographical/add",Interest_Delete:"/interest/delete",Interest_Update:"/interest/update",Interest_Add:"/interest/add",Coverage_Moved:"/coverage/moved",Person_Added:"/person/add",Person_Update:"/person/update",Person_Delete:"/person/delete",PressReleaseStart:"/pressrelease/start",Crm_Note_Add:"/crm/add",Crm_Note_Update:"/crm/update",Crm_Note_Delete:"/crm/delete",Monthly_Payments:"/payment/taken",Message_Sent:"/messages/sent",Button_Pressed:"/button/pressed",Feature_Deleted:"/feature/deleted",Feature_Added:"/feature/added",Feature_Updated:"/feature/update",Feature_List_Add:"/featurelist/add",Feature_List_Update:"/featurelist/update",Feature_List_Update:"/featurelist/delete",Geographical_Selected:"/geographical/selected",BouncedEmail_Completed:"/events/bouncedcompleted",Financial_ReLoad:"/financial/refresh",Publisher_Added:"/publisher/add",Publisher_Update:"/publisher/update",Publisher_Deleted:"/publisher/deleted",Circulation_Sources_Added:"/circulationsources/add",Circulation_Sources_Update:"/circulationsources/update",Circulation_Dates_Added:"/circulationdates/add",Circulation_Dates_Update:"/circulationdates/update",Circulation_Dates_Deleted:"/circulationdates/deleted",Web_Sources_Added:"/websources/add",Web_Sources_Update:"/websources/update",Web_Dates_Added:"/webdates/add",Web_Dates_Update:"/webdates/update",Web_Dates_Deleted:"/webdates/deleted",Market_Sector_Added:"/marketsector/add",Market_Sector_Update:"/marketsector/update",Market_Sector_Deleted:"/marketsector/deleted",Production_Company_Added:"/production/add",Production_Company_Update:"/production/update",Production_Company_Deleted:"/production/delete",Lanquage_Added:"/lang/add",Lanquage_Update:"/lang/update",Desk_Added:"/desk/add",Desk_Updated:"/desk/update",Desk_Deleted:"/desk/delete",Show_Customer_Main:"/m/show",Expire_Date_Changed:"/m/exp",Task_Refresh:"/m/t_refresh",Employee_Quest_Deleted:"/eq/deleted",Employee_Quest_Updated:"/eq/update",Employee_Quest_Add:"/eq/add",Edit_Notes:"/crm/edit_notes",Update_Notes:"crm/notes_updated",Task_Add:"/task/add",Task_Update:"task/updated",Brief_Note_Add:"i/bn/add",Brief_Note_Upd:"i/bn/upd"});});},"dijit/form/_ComboBoxMenuMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/has","dojo/i18n","dojo/i18n!./nls/ComboBox"],function(_1ab,_1ac,_1ad,has,i18n){var _1ae=_1ac("dijit.form._ComboBoxMenuMixin"+(has("dojo-bidi")?"_NoBidi":""),null,{_messages:null,postMixInProperties:function(){this.inherited(arguments);this._messages=i18n.getLocalization("dijit.form","ComboBox",this.lang);},buildRendering:function(){this.inherited(arguments);this.previousButton.innerHTML=this._messages["previousMessage"];this.nextButton.innerHTML=this._messages["nextMessage"];},_setValueAttr:function(_1af){this._set("value",_1af);this.onChange(_1af);},onClick:function(node){if(node==this.previousButton){this._setSelectedAttr(null);this.onPage(-1);}else{if(node==this.nextButton){this._setSelectedAttr(null);this.onPage(1);}else{this.onChange(node);}}},onChange:function(){},onPage:function(){},onClose:function(){this._setSelectedAttr(null);},_createOption:function(item,_1b0){var _1b1=this._createMenuItem();var _1b2=_1b0(item);if(_1b2.html){_1b1.innerHTML=_1b2.label;}else{_1b1.appendChild(_1b1.ownerDocument.createTextNode(_1b2.label));}if(_1b1.innerHTML==""){_1b1.innerHTML="&#160;";}return _1b1;},createOptions:function(_1b3,_1b4,_1b5){this.items=_1b3;this.previousButton.style.display=(_1b4.start==0)?"none":"";_1ad.set(this.previousButton,"id",this.id+"_prev");_1ab.forEach(_1b3,function(item,i){var _1b6=this._createOption(item,_1b5);_1b6.setAttribute("item",i);_1ad.set(_1b6,"id",this.id+i);this.nextButton.parentNode.insertBefore(_1b6,this.nextButton);},this);var _1b7=false;if(_1b3.total&&!_1b3.total.then&&_1b3.total!=-1){if((_1b4.start+_1b4.count)<_1b3.total){_1b7=true;}else{if((_1b4.start+_1b4.count)>_1b3.total&&_1b4.count==_1b3.length){_1b7=true;}}}else{if(_1b4.count==_1b3.length){_1b7=true;}}this.nextButton.style.display=_1b7?"":"none";_1ad.set(this.nextButton,"id",this.id+"_next");},clearResultList:function(){var _1b8=this.containerNode;while(_1b8.childNodes.length>2){_1b8.removeChild(_1b8.childNodes[_1b8.childNodes.length-2]);}this._setSelectedAttr(null);},highlightFirstOption:function(){this.selectFirstNode();},highlightLastOption:function(){this.selectLastNode();},selectFirstNode:function(){this.inherited(arguments);if(this.getHighlightedOption()==this.previousButton){this.selectNextNode();}},selectLastNode:function(){this.inherited(arguments);if(this.getHighlightedOption()==this.nextButton){this.selectPreviousNode();}},getHighlightedOption:function(){return this.selected;}});if(has("dojo-bidi")){_1ae=_1ac("dijit.form._ComboBoxMenuMixin",_1ae,{_createOption:function(){var _1b9=this.inherited(arguments);this.applyTextDir(_1b9);return _1b9;}});}return _1ae;});},"dijit/form/_SearchMixin":function(){define(["dojo/_base/declare","dojo/keys","dojo/_base/lang","dojo/query","dojo/string","dojo/when","../registry"],function(_1ba,keys,lang,_1bb,_1bc,when,_1bd){return _1ba("dijit.form._SearchMixin",null,{pageSize:Infinity,store:null,fetchProperties:{},query:{},list:"",_setListAttr:function(list){this._set("list",list);},searchDelay:200,searchAttr:"name",queryExpr:"${0}*",ignoreCase:true,_patternToRegExp:function(_1be){return new RegExp("^"+_1be.replace(/(\\.)|(\*)|(\?)|\W/g,function(str,_1bf,star,_1c0){return star?".*":_1c0?".":_1bf?_1bf:"\\"+str;})+"$",this.ignoreCase?"mi":"m");},_abortQuery:function(){if(this.searchTimer){this.searchTimer=this.searchTimer.remove();}if(this._queryDeferHandle){this._queryDeferHandle=this._queryDeferHandle.remove();}if(this._fetchHandle){if(this._fetchHandle.abort){this._cancelingQuery=true;this._fetchHandle.abort();this._cancelingQuery=false;}if(this._fetchHandle.cancel){this._cancelingQuery=true;this._fetchHandle.cancel();this._cancelingQuery=false;}this._fetchHandle=null;}},_processInput:function(evt){if(this.disabled||this.readOnly){return;}var key=evt.charOrCode;var _1c1=false;this._prev_key_backspace=false;switch(key){case keys.DELETE:case keys.BACKSPACE:this._prev_key_backspace=true;this._maskValidSubsetError=true;_1c1=true;break;default:_1c1=typeof key=="string"||key==229;}if(_1c1){if(!this.store){this.onSearch();}else{this.searchTimer=this.defer("_startSearchFromInput",1);}}},onSearch:function(){},_startSearchFromInput:function(){this._startSearch(this.focusNode.value);},_startSearch:function(text){this._abortQuery();var _1c2=this,_1bb=lang.clone(this.query),_1c3={start:0,count:this.pageSize,queryOptions:{ignoreCase:this.ignoreCase,deep:true}},qs=_1bc.substitute(this.queryExpr,[text.replace(/([\\\*\?])/g,"\\$1")]),q,_1c4=function(){var _1c5=_1c2._fetchHandle=_1c2.store.query(_1bb,_1c3);if(_1c2.disabled||_1c2.readOnly||(q!==_1c2._lastQuery)){return;}when(_1c5,function(res){_1c2._fetchHandle=null;if(!_1c2.disabled&&!_1c2.readOnly&&(q===_1c2._lastQuery)){when(_1c5.total,function(_1c6){res.total=_1c6;var _1c7=_1c2.pageSize;if(isNaN(_1c7)||_1c7>res.total){_1c7=res.total;}res.nextPage=function(_1c8){_1c3.direction=_1c8=_1c8!==false;_1c3.count=_1c7;if(_1c8){_1c3.start+=res.length;if(_1c3.start>=res.total){_1c3.count=0;}}else{_1c3.start-=_1c7;if(_1c3.start<0){_1c3.count=Math.max(_1c7+_1c3.start,0);_1c3.start=0;}}if(_1c3.count<=0){res.length=0;_1c2.onSearch(res,_1bb,_1c3);}else{_1c4();}};_1c2.onSearch(res,_1bb,_1c3);});}},function(err){_1c2._fetchHandle=null;if(!_1c2._cancelingQuery){}});};lang.mixin(_1c3,this.fetchProperties);if(this.store._oldAPI){q=qs;}else{q=this._patternToRegExp(qs);q.toString=function(){return qs;};}this._lastQuery=_1bb[this.searchAttr]=q;this._queryDeferHandle=this.defer(_1c4,this.searchDelay);},constructor:function(){this.query={};this.fetchProperties={};},postMixInProperties:function(){if(!this.store){var list=this.list;if(list){this.store=_1bd.byId(list);}}this.inherited(arguments);}});});},"dijit/form/ToggleButton":function(){define(["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(_1c9,_1ca,_1cb,_1cc){return _1c9("dijit.form.ToggleButton",[_1cb,_1cc],{baseClass:"dijitToggleButton",setChecked:function(_1cd){_1ca.deprecated("setChecked("+_1cd+") is deprecated. Use set('checked',"+_1cd+") instead.","","2.0");this.set("checked",_1cd);}});});},"dojox/validate":function(){define(["./validate/_base"],function(_1ce){return _1ce;});},"dgrid/util/has-css3":function(){define(["dojo/has"],function(has){var _1cf=["ms","O","Moz","Webkit"];function _1d0(_1d1,_1d2){var _1d3=_1d1.style,i;if(_1d2 in _1d3){return true;}_1d2=_1d2.slice(0,1).toUpperCase()+_1d2.slice(1);for(i=_1cf.length;i--;){if((_1cf[i]+_1d2) in _1d3){return _1cf[i];}}return false;};has.add("css-transitions",function(_1d4,doc,_1d5){return _1d0(_1d5,"transitionProperty");});has.add("css-transforms",function(_1d6,doc,_1d7){return _1d0(_1d7,"transform");});has.add("css-transforms3d",function(_1d8,doc,_1d9){return _1d0(_1d9,"perspective");});has.add("transitionend",function(){var tpfx=has("css-transitions");if(!tpfx){return false;}if(tpfx===true){return "transitionend";}return {ms:"MSTransitionEnd",O:"oTransitionEnd",Moz:"transitionend",Webkit:"webkitTransitionEnd"}[tpfx];});return has;});},"dijit/form/Textarea":function(){define(["dojo/_base/declare","dojo/dom-style","./_ExpandingTextAreaMixin","./SimpleTextarea"],function(_1da,_1db,_1dc,_1dd){return _1da("dijit.form.Textarea",[_1dd,_1dc],{baseClass:"dijitTextBox dijitTextArea dijitExpandingTextArea",cols:"",buildRendering:function(){this.inherited(arguments);_1db.set(this.textbox,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"});}});});},"dojox/json/schema":function(){define(["dojo/_base/kernel","dojox","dojo/_base/array"],function(dojo,_1de){dojo.getObject("json.schema",true,_1de);_1de.json.schema.validate=function(_1df,_1e0){return this._validate(_1df,_1e0,false);};_1de.json.schema.checkPropertyChange=function(_1e1,_1e2,_1e3){return this._validate(_1e1,_1e2,_1e3||"property");};_1de.json.schema.mustBeValid=function(_1e4){if(!_1e4.valid){throw new TypeError(dojo.map(_1e4.errors,function(_1e5){return "for property "+_1e5.property+": "+_1e5.message;}).join(", "));}};_1de.json.schema._validate=function(_1e6,_1e7,_1e8){var _1e9=[];function _1ea(_1eb,_1ec,path,i){var l;path+=path?typeof i=="number"?"["+i+"]":typeof i=="undefined"?"":"."+i:i;function _1ed(_1ee){_1e9.push({property:path,message:_1ee});};if((typeof _1ec!="object"||_1ec instanceof Array)&&(path||typeof _1ec!="function")){if(typeof _1ec=="function"){if(!(Object(_1eb) instanceof _1ec)){_1ed("is not an instance of the class/constructor "+_1ec.name);}}else{if(_1ec){_1ed("Invalid schema/property definition "+_1ec);}}return null;}if(_1e8&&_1ec.readonly){_1ed("is a readonly field, it can not be changed");}if(_1ec["extends"]){_1ea(_1eb,_1ec["extends"],path,i);}function _1ef(type,_1f0){if(type){if(typeof type=="string"&&type!="any"&&(type=="null"?_1f0!==null:typeof _1f0!=type)&&!(_1f0 instanceof Array&&type=="array")&&!(type=="integer"&&_1f0%1===0)){return [{property:path,message:(typeof _1f0)+" value found, but a "+type+" is required"}];}if(type instanceof Array){var _1f1=[];for(var j=0;j<type.length;j++){if(!(_1f1=_1ef(type[j],_1f0)).length){break;}}if(_1f1.length){return _1f1;}}else{if(typeof type=="object"){var _1f2=_1e9;_1e9=[];_1ea(_1f0,type,path);var _1f3=_1e9;_1e9=_1f2;return _1f3;}}}return [];};if(_1eb===undefined){if(!_1ec.optional){_1ed("is missing and it is not optional");}}else{_1e9=_1e9.concat(_1ef(_1ec.type,_1eb));if(_1ec.disallow&&!_1ef(_1ec.disallow,_1eb).length){_1ed(" disallowed value was matched");}if(_1eb!==null){if(_1eb instanceof Array){if(_1ec.items){if(_1ec.items instanceof Array){for(i=0,l=_1eb.length;i<l;i++){_1e9.concat(_1ea(_1eb[i],_1ec.items[i],path,i));}}else{for(i=0,l=_1eb.length;i<l;i++){_1e9.concat(_1ea(_1eb[i],_1ec.items,path,i));}}}if(_1ec.minItems&&_1eb.length<_1ec.minItems){_1ed("There must be a minimum of "+_1ec.minItems+" in the array");}if(_1ec.maxItems&&_1eb.length>_1ec.maxItems){_1ed("There must be a maximum of "+_1ec.maxItems+" in the array");}}else{if(_1ec.properties){_1e9.concat(_1f4(_1eb,_1ec.properties,path,_1ec.additionalProperties));}}if(_1ec.pattern&&typeof _1eb=="string"&&!_1eb.match(_1ec.pattern)){_1ed("does not match the regex pattern "+_1ec.pattern);}if(_1ec.maxLength&&typeof _1eb=="string"&&_1eb.length>_1ec.maxLength){_1ed("may only be "+_1ec.maxLength+" characters long");}if(_1ec.minLength&&typeof _1eb=="string"&&_1eb.length<_1ec.minLength){_1ed("must be at least "+_1ec.minLength+" characters long");}if(typeof _1ec.minimum!==undefined&&typeof _1eb==typeof _1ec.minimum&&_1ec.minimum>_1eb){_1ed("must have a minimum value of "+_1ec.minimum);}if(typeof _1ec.maximum!==undefined&&typeof _1eb==typeof _1ec.maximum&&_1ec.maximum<_1eb){_1ed("must have a maximum value of "+_1ec.maximum);}if(_1ec["enum"]){var _1f5=_1ec["enum"];l=_1f5.length;var _1f6;for(var j=0;j<l;j++){if(_1f5[j]===_1eb){_1f6=1;break;}}if(!_1f6){_1ed("does not have a value in the enumeration "+_1f5.join(", "));}}if(typeof _1ec.maxDecimal=="number"&&(_1eb.toString().match(new RegExp("\\.[0-9]{"+(_1ec.maxDecimal+1)+",}")))){_1ed("may only have "+_1ec.maxDecimal+" digits of decimal places");}}}return null;};function _1f4(_1f7,_1f8,path,_1f9){if(typeof _1f8=="object"){if(typeof _1f7!="object"||_1f7 instanceof Array){_1e9.push({property:path,message:"an object is required"});}for(var i in _1f8){if(_1f8.hasOwnProperty(i)&&!(i.charAt(0)=="_"&&i.charAt(1)=="_")){var _1fa=_1f7[i];var _1fb=_1f8[i];_1ea(_1fa,_1fb,path,i);}}}for(i in _1f7){if(_1f7.hasOwnProperty(i)&&!(i.charAt(0)=="_"&&i.charAt(1)=="_")&&_1f8&&!_1f8[i]&&_1f9===false){_1e9.push({property:path,message:(typeof _1fa)+"The property "+i+" is not defined in the schema and the schema does not allow additional properties"});}var _1fc=_1f8&&_1f8[i]&&_1f8[i].requires;if(_1fc&&!(_1fc in _1f7)){_1e9.push({property:path,message:"the presence of the property "+i+" requires that "+_1fc+" also be present"});}_1fa=_1f7[i];if(_1f8&&typeof _1f8=="object"&&!(i in _1f8)){_1ea(_1fa,_1f9,path,i);}if(!_1e8&&_1fa&&_1fa.$schema){_1e9=_1e9.concat(_1ea(_1fa,_1fa.$schema,path,i));}}return _1e9;};if(_1e7){_1ea(_1e6,_1e7,"",_1e8||"");}if(!_1e8&&_1e6&&_1e6.$schema){_1ea(_1e6,_1e6.$schema,"","");}return {valid:!_1e9.length,errors:_1e9};};return _1de.json.schema;});},"dijit/form/ComboButton":function(){define(["dojo/_base/declare","dojo/keys","../focus","./DropDownButton","dojo/text!./templates/ComboButton.html","../a11yclick"],function(_1fd,keys,_1fe,_1ff,_200){return _1fd("dijit.form.ComboButton",_1ff,{templateString:_200,_setIdAttr:"",_setTabIndexAttr:["focusNode","titleNode"],_setTitleAttr:"titleNode",optionsTitle:"",baseClass:"dijitComboButton",cssStateNodes:{"buttonNode":"dijitButtonNode","titleNode":"dijitButtonContents","_popupStateNode":"dijitDownArrowButton"},_focusedNode:null,_onButtonKeyDown:function(evt){if(evt.keyCode==keys[this.isLeftToRight()?"RIGHT_ARROW":"LEFT_ARROW"]){_1fe.focus(this._popupStateNode);evt.stopPropagation();evt.preventDefault();}},_onArrowKeyDown:function(evt){if(evt.keyCode==keys[this.isLeftToRight()?"LEFT_ARROW":"RIGHT_ARROW"]){_1fe.focus(this.titleNode);evt.stopPropagation();evt.preventDefault();}},focus:function(_201){if(!this.disabled){_1fe.focus(_201=="start"?this.titleNode:this._popupStateNode);}}});});},"dijit/form/_AutoCompleterMixin":function(){define(["dojo/aspect","dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/query","dojo/regexp","dojo/sniff","./DataList","./_TextBoxMixin","./_SearchMixin"],function(_202,_203,_204,keys,lang,_205,_206,has,_207,_208,_209){var _20a=_203("dijit.form._AutoCompleterMixin",_209,{item:null,autoComplete:true,highlightMatch:"first",labelAttr:"",labelType:"text",maxHeight:-1,_stopClickEvents:false,_getCaretPos:function(_20b){var pos=0;if(typeof (_20b.selectionStart)=="number"){pos=_20b.selectionStart;}else{if(has("ie")){var tr=_20b.ownerDocument.selection.createRange().duplicate();var ntr=_20b.createTextRange();tr.move("character",0);ntr.move("character",0);try{ntr.setEndPoint("EndToEnd",tr);pos=String(ntr.text).replace(/\r/g,"").length;}catch(e){}}}return pos;},_setCaretPos:function(_20c,_20d){_20d=parseInt(_20d);_208.selectInputText(_20c,_20d,_20d);},_setDisabledAttr:function(_20e){this.inherited(arguments);this.domNode.setAttribute("aria-disabled",_20e?"true":"false");},_onKey:function(evt){if(evt.charCode>=32){return;}var key=evt.charCode||evt.keyCode;if(key==keys.ALT||key==keys.CTRL||key==keys.META||key==keys.SHIFT){return;}var pw=this.dropDown;var _20f=null;this._abortQuery();this.inherited(arguments);if(evt.altKey||evt.ctrlKey||evt.metaKey){return;}if(this._opened){_20f=pw.getHighlightedOption();}switch(key){case keys.PAGE_DOWN:case keys.DOWN_ARROW:case keys.PAGE_UP:case keys.UP_ARROW:if(this._opened){this._announceOption(_20f);}evt.stopPropagation();evt.preventDefault();break;case keys.ENTER:if(_20f){if(_20f==pw.nextButton){this._nextSearch(1);evt.stopPropagation();evt.preventDefault();break;}else{if(_20f==pw.previousButton){this._nextSearch(-1);evt.stopPropagation();evt.preventDefault();break;}}evt.stopPropagation();evt.preventDefault();}else{this._setBlurValue();this._setCaretPos(this.focusNode,this.focusNode.value.length);}case keys.TAB:var _210=this.get("displayedValue");if(pw&&(_210==pw._messages["previousMessage"]||_210==pw._messages["nextMessage"])){break;}if(_20f){this._selectOption(_20f);}case keys.ESCAPE:if(this._opened){this._lastQuery=null;this.closeDropDown();}break;}},_autoCompleteText:function(text){var fn=this.focusNode;_208.selectInputText(fn,fn.value.length);var _211=this.ignoreCase?"toLowerCase":"substr";if(text[_211](0).indexOf(this.focusNode.value[_211](0))==0){var cpos=this.autoComplete?this._getCaretPos(fn):fn.value.length;if((cpos+1)>fn.value.length){fn.value=text;_208.selectInputText(fn,cpos);}}else{fn.value=text;_208.selectInputText(fn);}},_openResultList:function(_212,_213,_214){var _215=this.dropDown.getHighlightedOption();this.dropDown.clearResultList();if(!_212.length&&_214.start==0){this.closeDropDown();return;}this._nextSearch=this.dropDown.onPage=lang.hitch(this,function(_216){_212.nextPage(_216!==-1);this.focus();});this.dropDown.createOptions(_212,_214,lang.hitch(this,"_getMenuLabelFromItem"));this._showResultList();if("direction" in _214){if(_214.direction){this.dropDown.highlightFirstOption();}else{if(!_214.direction){this.dropDown.highlightLastOption();}}if(_215){this._announceOption(this.dropDown.getHighlightedOption());}}else{if(this.autoComplete&&!this._prev_key_backspace&&!/^[*]+$/.test(_213[this.searchAttr].toString())){this._announceOption(this.dropDown.containerNode.firstChild.nextSibling);}}},_showResultList:function(){this.closeDropDown(true);this.openDropDown();this.domNode.setAttribute("aria-expanded","true");},loadDropDown:function(){this._startSearchAll();},isLoaded:function(){return false;},closeDropDown:function(){this._abortQuery();if(this._opened){this.inherited(arguments);this.domNode.setAttribute("aria-expanded","false");}},_setBlurValue:function(){var _217=this.get("displayedValue");var pw=this.dropDown;if(pw&&(_217==pw._messages["previousMessage"]||_217==pw._messages["nextMessage"])){this._setValueAttr(this._lastValueReported,true);}else{if(typeof this.item=="undefined"){this.item=null;this.set("displayedValue",_217);}else{if(this.value!=this._lastValueReported){this._handleOnChange(this.value,true);}this._refreshState();}}this.focusNode.removeAttribute("aria-activedescendant");},_setItemAttr:function(item,_218,_219){var _21a="";if(item){if(!_219){_219=this.store._oldAPI?this.store.getValue(item,this.searchAttr):item[this.searchAttr];}_21a=this._getValueField()!=this.searchAttr?this.store.getIdentity(item):_219;}this.set("value",_21a,_218,_219,item);},_announceOption:function(node){if(!node){return;}var _21b;if(node==this.dropDown.nextButton||node==this.dropDown.previousButton){_21b=node.innerHTML;this.item=undefined;this.value="";}else{var item=this.dropDown.items[node.getAttribute("item")];_21b=(this.store._oldAPI?this.store.getValue(item,this.searchAttr):item[this.searchAttr]).toString();this.set("item",item,false,_21b);}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);this.focusNode.setAttribute("aria-activedescendant",_204.get(node,"id"));this._autoCompleteText(_21b);},_selectOption:function(_21c){this.closeDropDown();if(_21c){this._announceOption(_21c);}this._setCaretPos(this.focusNode,this.focusNode.value.length);this._handleOnChange(this.value,true);this.focusNode.removeAttribute("aria-activedescendant");},_startSearchAll:function(){this._startSearch("");},_startSearchFromInput:function(){this.item=undefined;this.inherited(arguments);},_startSearch:function(key){if(!this.dropDown){var _21d=this.id+"_popup",_21e=lang.isString(this.dropDownClass)?lang.getObject(this.dropDownClass,false):this.dropDownClass;this.dropDown=new _21e({onChange:lang.hitch(this,this._selectOption),id:_21d,dir:this.dir,textDir:this.textDir});}this._lastInput=key;this.inherited(arguments);},_getValueField:function(){return this.searchAttr;},postMixInProperties:function(){this.inherited(arguments);if(!this.store&&this.srcNodeRef){var _21f=this.srcNodeRef;this.store=new _207({},_21f);if(!("value" in this.params)){var item=(this.item=this.store.fetchSelectedItem());if(item){var _220=this._getValueField();this.value=this.store._oldAPI?this.store.getValue(item,_220):item[_220];}}}},postCreate:function(){var _221=_205("label[for=\""+this.id+"\"]");if(_221.length){if(!_221[0].id){_221[0].id=this.id+"_label";}this.domNode.setAttribute("aria-labelledby",_221[0].id);}this.inherited(arguments);_202.after(this,"onSearch",lang.hitch(this,"_openResultList"),true);},_getMenuLabelFromItem:function(item){var _222=this.labelFunc(item,this.store),_223=this.labelType;if(this.highlightMatch!="none"&&this.labelType=="text"&&this._lastInput){_222=this.doHighlight(_222,this._lastInput);_223="html";}return {html:_223=="html",label:_222};},doHighlight:function(_224,find){var _225=(this.ignoreCase?"i":"")+(this.highlightMatch=="all"?"g":""),i=this.queryExpr.indexOf("${0}");find=_206.escapeString(find);return this._escapeHtml(_224.replace(new RegExp((i==0?"^":"")+"("+find+")"+(i==(this.queryExpr.length-4)?"$":""),_225),"\uffff$1\uffff")).replace(/\uFFFF([^\uFFFF]+)\uFFFF/g,"<span class=\"dijitComboBoxHighlightMatch\">$1</span>");},_escapeHtml:function(str){str=String(str).replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");return str;},reset:function(){this.item=null;this.inherited(arguments);},labelFunc:function(item,_226){return (_226._oldAPI?_226.getValue(item,this.labelAttr||this.searchAttr):item[this.labelAttr||this.searchAttr]).toString();},_setValueAttr:function(_227,_228,_229,item){this._set("item",item||null);if(_227==null){_227="";}this.inherited(arguments);}});if(has("dojo-bidi")){_20a.extend({_setTextDirAttr:function(_22a){this.inherited(arguments);if(this.dropDown){this.dropDown._set("textDir",_22a);}}});}return _20a;});},"dijit/form/MappedTextBox":function(){define(["dojo/_base/declare","dojo/sniff","dojo/dom-construct","./ValidationTextBox"],function(_22b,has,_22c,_22d){return _22b("dijit.form.MappedTextBox",_22d,{postMixInProperties:function(){this.inherited(arguments);this.nameAttrSetting="";},_setNameAttr:"valueNode",serialize:function(val){return val.toString?val.toString():"";},toString:function(){var val=this.filter(this.get("value"));return val!=null?(typeof val=="string"?val:this.serialize(val,this.constraints)):"";},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);this.valueNode=_22c.place("<input type='hidden'"+((this.name&&!has("msapp"))?" name=\""+this.name.replace(/"/g,"&quot;")+"\"":"")+"/>",this.textbox,"after");},reset:function(){this.valueNode.value="";this.inherited(arguments);}});});},"dijit/form/ComboBoxMixin":function(){define(["dojo/_base/declare","dojo/Deferred","dojo/_base/kernel","dojo/_base/lang","dojo/store/util/QueryResults","./_AutoCompleterMixin","./_ComboBoxMenu","../_HasDropDown","dojo/text!./templates/DropDownBox.html"],function(_22e,_22f,_230,lang,_231,_232,_233,_234,_235){return _22e("dijit.form.ComboBoxMixin",[_234,_232],{dropDownClass:_233,hasDownArrow:true,templateString:_235,baseClass:"dijitTextBox dijitComboBox",cssStateNodes:{"_buttonNode":"dijitDownArrowButton"},_setHasDownArrowAttr:function(val){this._set("hasDownArrow",val);this._buttonNode.style.display=val?"":"none";},_showResultList:function(){this.displayMessage("");this.inherited(arguments);},_setStoreAttr:function(_236){if(!_236.get){lang.mixin(_236,{_oldAPI:true,get:function(id){var _237=new _22f();this.fetchItemByIdentity({identity:id,onItem:function(_238){_237.resolve(_238);},onError:function(_239){_237.reject(_239);}});return _237.promise;},query:function(_23a,_23b){var _23c=new _22f(function(){_23d.abort&&_23d.abort();});_23c.total=new _22f();var _23d=this.fetch(lang.mixin({query:_23a,onBegin:function(_23e){_23c.total.resolve(_23e);},onComplete:function(_23f){_23c.resolve(_23f);},onError:function(_240){_23c.reject(_240);}},_23b));return _231(_23c);}});}this._set("store",_236);},postMixInProperties:function(){var _241=this.params.store||this.store;if(_241){this._setStoreAttr(_241);}this.inherited(arguments);if(!this.params.store&&this.store&&!this.store._oldAPI){var _242=this.declaredClass;lang.mixin(this.store,{getValue:function(item,attr){_230.deprecated(_242+".store.getValue(item, attr) is deprecated for builtin store.  Use item.attr directly","","2.0");return item[attr];},getLabel:function(item){_230.deprecated(_242+".store.getLabel(item) is deprecated for builtin store.  Use item.label directly","","2.0");return item.name;},fetch:function(args){_230.deprecated(_242+".store.fetch() is deprecated for builtin store.","Use store.query()","2.0");var shim=["dojo/data/ObjectStore"];require(shim,lang.hitch(this,function(_243){new _243({objectStore:this}).fetch(args);}));}});}},buildRendering:function(){this.inherited(arguments);this.focusNode.setAttribute("aria-autocomplete",this.autoComplete?"both":"list");}});});},"dijit/form/_TextBoxMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/sniff","dojo/keys","dojo/_base/lang","dojo/on","../main"],function(_244,_245,dom,has,keys,lang,on,_246){var _247=_245("dijit.form._TextBoxMixin"+(has("dojo-bidi")?"_NoBidi":""),null,{trim:false,uppercase:false,lowercase:false,propercase:false,maxLength:"",selectOnClick:false,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints);},_setValueAttr:function(_248,_249,_24a){var _24b;if(_248!==undefined){_24b=this.filter(_248);if(typeof _24a!="string"){if(_24b!==null&&((typeof _24b!="number")||!isNaN(_24b))){_24a=this.filter(this.format(_24b,this.constraints));}else{_24a="";}if(this.compare(_24b,this.filter(this.parse(_24a,this.constraints)))!=0){_24a=null;}}}if(_24a!=null&&((typeof _24a)!="number"||!isNaN(_24a))&&this.textbox.value!=_24a){this.textbox.value=_24a;this._set("displayedValue",this.get("displayedValue"));}this.inherited(arguments,[_24b,_249]);},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value);},_setDisplayedValueAttr:function(_24c){if(_24c==null){_24c="";}else{if(typeof _24c!="string"){_24c=String(_24c);}}this.textbox.value=_24c;this._setValueAttr(this.get("value"),undefined);this._set("displayedValue",this.get("displayedValue"));},format:function(_24d){return _24d==null?"":(_24d.toString?_24d.toString():_24d);},parse:function(_24e){return _24e;},_refreshState:function(){},onInput:function(){},_onInput:function(evt){this._lastInputEventValue=this.textbox.value;this._processInput(this._lastInputProducingEvent||evt);delete this._lastInputProducingEvent;if(this.intermediateChanges){this._handleOnChange(this.get("value"),false);}},_processInput:function(){this._refreshState();this._set("displayedValue",this.get("displayedValue"));},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);function _24f(e){var _250;if(e.type=="keydown"&&e.keyCode!=229){_250=e.keyCode;switch(_250){case keys.SHIFT:case keys.ALT:case keys.CTRL:case keys.META:case keys.CAPS_LOCK:case keys.NUM_LOCK:case keys.SCROLL_LOCK:return;}if(!e.ctrlKey&&!e.metaKey&&!e.altKey){switch(_250){case keys.NUMPAD_0:case keys.NUMPAD_1:case keys.NUMPAD_2:case keys.NUMPAD_3:case keys.NUMPAD_4:case keys.NUMPAD_5:case keys.NUMPAD_6:case keys.NUMPAD_7:case keys.NUMPAD_8:case keys.NUMPAD_9:case keys.NUMPAD_MULTIPLY:case keys.NUMPAD_PLUS:case keys.NUMPAD_ENTER:case keys.NUMPAD_MINUS:case keys.NUMPAD_PERIOD:case keys.NUMPAD_DIVIDE:return;}if((_250>=65&&_250<=90)||(_250>=48&&_250<=57)||_250==keys.SPACE){return;}var _251=false;for(var i in keys){if(keys[i]===e.keyCode){_251=true;break;}}if(!_251){return;}}}_250=e.charCode>=32?String.fromCharCode(e.charCode):e.charCode;if(!_250){_250=(e.keyCode>=65&&e.keyCode<=90)||(e.keyCode>=48&&e.keyCode<=57)||e.keyCode==keys.SPACE?String.fromCharCode(e.keyCode):e.keyCode;}if(!_250){_250=229;}if(e.type=="keypress"){if(typeof _250!="string"){return;}if((_250>="a"&&_250<="z")||(_250>="A"&&_250<="Z")||(_250>="0"&&_250<="9")||(_250===" ")){if(e.ctrlKey||e.metaKey||e.altKey){return;}}}var faux={faux:true},attr;for(attr in e){if(!/^(layer[XY]|returnValue|keyLocation)$/.test(attr)){var v=e[attr];if(typeof v!="function"&&typeof v!="undefined"){faux[attr]=v;}}}lang.mixin(faux,{charOrCode:_250,_wasConsumed:false,preventDefault:function(){faux._wasConsumed=true;e.preventDefault();},stopPropagation:function(){e.stopPropagation();}});this._lastInputProducingEvent=faux;if(this.onInput(faux)===false){faux.preventDefault();faux.stopPropagation();}if(faux._wasConsumed){return;}if(has("ie")<=9){switch(e.keyCode){case keys.TAB:case keys.ESCAPE:case keys.DOWN_ARROW:case keys.UP_ARROW:case keys.LEFT_ARROW:case keys.RIGHT_ARROW:break;default:if(e.keyCode==keys.ENTER&&this.textbox.tagName.toLowerCase()!="textarea"){break;}this.defer(function(){if(this.textbox.value!==this._lastInputEventValue){on.emit(this.textbox,"input",{bubbles:true});}});}}};this.own(on(this.textbox,"keydown, keypress, paste, cut, compositionend",lang.hitch(this,_24f)),on(this.textbox,"input",lang.hitch(this,"_onInput")),on(this.domNode,"keypress",function(e){e.stopPropagation();}));},_blankValue:"",filter:function(val){if(val===null){return this._blankValue;}if(typeof val!="string"){return val;}if(this.trim){val=lang.trim(val);}if(this.uppercase){val=val.toUpperCase();}if(this.lowercase){val=val.toLowerCase();}if(this.propercase){val=val.replace(/[^\s]+/g,function(word){return word.substring(0,1).toUpperCase()+word.substring(1);});}return val;},_setBlurValue:function(){this._setValueAttr(this.get("value"),true);},_onBlur:function(e){if(this.disabled){return;}this._setBlurValue();this.inherited(arguments);},_isTextSelected:function(){return this.textbox.selectionStart!=this.textbox.selectionEnd;},_onFocus:function(by){if(this.disabled||this.readOnly){return;}if(this.selectOnClick&&by=="mouse"){this._selectOnClickHandle=on.once(this.domNode,"mouseup, touchend",lang.hitch(this,function(evt){if(!this._isTextSelected()){_247.selectInputText(this.textbox);}}));this.own(this._selectOnClickHandle);this.defer(function(){if(this._selectOnClickHandle){this._selectOnClickHandle.remove();this._selectOnClickHandle=null;}},500);}this.inherited(arguments);this._refreshState();},reset:function(){this.textbox.value="";this.inherited(arguments);}});if(has("dojo-bidi")){_247=_245("dijit.form._TextBoxMixin",_247,{_setValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.focusNode);},_setDisplayedValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.focusNode);},_onInput:function(){this.applyTextDir(this.focusNode);this.inherited(arguments);}});}_247._setSelectionRange=_246._setSelectionRange=function(_252,_253,stop){if(_252.setSelectionRange){_252.setSelectionRange(_253,stop);}};_247.selectInputText=_246.selectInputText=function(_254,_255,stop){_254=dom.byId(_254);if(isNaN(_255)){_255=0;}if(isNaN(stop)){stop=_254.value?_254.value.length:0;}try{_254.focus();_247._setSelectionRange(_254,_255,stop);}catch(e){}};return _247;});},"dojox/data/ServiceStore":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array"],function(_256,lang,_257){return _256("dojox.data.ServiceStore",lang.getObject("dojox.data.ClientFilter",0)||null,{service:null,constructor:function(_258){this.byId=this.fetchItemByIdentity;this._index={};if(_258){lang.mixin(this,_258);}this.idAttribute=(_258&&_258.idAttribute)||(this.schema&&this.schema._idAttr);},schema:null,idAttribute:"id",labelAttribute:"label",syncMode:false,estimateCountFactor:1,getSchema:function(){return this.schema;},loadLazyValues:true,getValue:function(item,_259,_25a){var _25b=item[_259];return _25b||(_259 in item?_25b:item._loadObject?(dojox.rpc._sync=true)&&arguments.callee.call(this,dojox.data.ServiceStore.prototype.loadItem({item:item})||{},_259,_25a):_25a);},getValues:function(item,_25c){var val=this.getValue(item,_25c);return val instanceof Array?val:val===undefined?[]:[val];},getAttributes:function(item){var res=[];for(var i in item){if(item.hasOwnProperty(i)&&!(i.charAt(0)=="_"&&i.charAt(1)=="_")){res.push(i);}}return res;},hasAttribute:function(item,_25d){return _25d in item;},containsValue:function(item,_25e,_25f){return _257.indexOf(this.getValues(item,_25e),_25f)>-1;},isItem:function(item){return (typeof item=="object")&&item&&!(item instanceof Date);},isItemLoaded:function(item){return item&&!item._loadObject;},loadItem:function(args){var item;if(args.item._loadObject){args.item._loadObject(function(_260){item=_260;delete item._loadObject;var func=_260 instanceof Error?args.onError:args.onItem;if(func){func.call(args.scope,_260);}});}else{if(args.onItem){args.onItem.call(args.scope,args.item);}}return item;},_currentId:0,_processResults:function(_261,_262){if(_261&&typeof _261=="object"){var id=_261.__id;if(!id){if(this.idAttribute){id=_261[this.idAttribute];}else{id=this._currentId++;}if(id!==undefined){var _263=this._index[id];if(_263){for(var j in _263){delete _263[j];}_261=lang.mixin(_263,_261);}_261.__id=id;this._index[id]=_261;}}for(var i in _261){_261[i]=this._processResults(_261[i],_262).items;}var _264=_261.length;}return {totalCount:_262.request.count==_264?(_262.request.start||0)+_264*this.estimateCountFactor:_264,items:_261};},close:function(_265){return _265&&_265.abort&&_265.abort();},fetch:function(args){args=args||{};if("syncMode" in args?args.syncMode:this.syncMode){dojox.rpc._sync=true;}var self=this;var _266=args.scope||self;var _267=this.cachingFetch?this.cachingFetch(args):this._doQuery(args);_267.request=args;_267.addCallback(function(_268){if(args.clientFetch){_268=self.clientSideFetch({query:args.clientFetch,sort:args.sort,start:args.start,count:args.count},_268);}var _269=self._processResults(_268,_267);_268=args.results=_269.items;if(args.onBegin){args.onBegin.call(_266,_269.totalCount,args);}if(args.onItem){for(var i=0;i<_268.length;i++){args.onItem.call(_266,_268[i],args);}}if(args.onComplete){args.onComplete.call(_266,args.onItem?null:_268,args);}return _268;});_267.addErrback(args.onError&&function(err){return args.onError.call(_266,err,args);});args.abort=function(){_267.cancel();};args.store=this;return args;},_doQuery:function(args){var _26a=typeof args.queryStr=="string"?args.queryStr:args.query;return this.service(_26a);},getFeatures:function(){return {"dojo.data.api.Read":true,"dojo.data.api.Identity":true,"dojo.data.api.Schema":this.schema};},getLabel:function(item){return this.getValue(item,this.labelAttribute);},getLabelAttributes:function(item){return [this.labelAttribute];},getIdentity:function(item){return item.__id;},getIdentityAttributes:function(item){return [this.idAttribute];},fetchItemByIdentity:function(args){var item=this._index[(args._prefix||"")+args.identity];if(item){if(item._loadObject){args.item=item;return this.loadItem(args);}else{if(args.onItem){args.onItem.call(args.scope,item);}}}else{return this.fetch({query:args.identity,onComplete:args.onItem,onError:args.onError,scope:args.scope}).results;}return item;}});});},"dijit/form/SimpleTextarea":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/sniff","./TextBox"],function(_26b,_26c,has,_26d){return _26b("dijit.form.SimpleTextarea",_26d,{baseClass:"dijitTextBox dijitTextArea",rows:"3",cols:"20",templateString:"<textarea ${!nameAttrSetting} data-dojo-attach-point='focusNode,containerNode,textbox' autocomplete='off'></textarea>",postMixInProperties:function(){if(!this.value&&this.srcNodeRef){this.value=this.srcNodeRef.value;}this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);if(has("ie")&&this.cols){_26c.add(this.textbox,"dijitTextAreaCols");}},filter:function(_26e){if(_26e){_26e=_26e.replace(/\r/g,"");}return this.inherited(arguments);},_onInput:function(e){if(this.maxLength){var _26f=parseInt(this.maxLength);var _270=this.textbox.value.replace(/\r/g,"");var _271=_270.length-_26f;if(_271>0){var _272=this.textbox;if(_272.selectionStart){var pos=_272.selectionStart;var cr=0;if(has("opera")){cr=(this.textbox.value.substring(0,pos).match(/\r/g)||[]).length;}this.textbox.value=_270.substring(0,pos-_271-cr)+_270.substring(pos-cr);_272.setSelectionRange(pos-_271,pos-_271);}else{if(this.ownerDocument.selection){_272.focus();var _273=this.ownerDocument.selection.createRange();_273.moveStart("character",-_271);_273.text="";_273.select();}}}}this.inherited(arguments);}});});},"dijit/_base/window":function(){define(["dojo/window","../main"],function(_274,_275){_275.getDocumentWindow=function(doc){return _274.get(doc);};});},"dijit/form/RadioButton":function(){define(["dojo/_base/declare","./CheckBox","./_RadioButtonMixin"],function(_276,_277,_278){return _276("dijit.form.RadioButton",[_277,_278],{baseClass:"dijitRadio"});});},"ttl/Form2":function(){define(["dojo/_base/declare","dijit/form/Form",],function(_279,Form){return _279("ttl.Form2",[Form],{formid:"",isValid:function(){return dojo.every(this.getChildren(),function(_27a){var rest=!_27a.isValid||_27a.isValid();if(rest==false){if(_27a.isFocusable()){_27a.focus();}else{rest=true;}}return rest;});},setExtendedMode:function(_27b){dojo.forEach(this.getChildren(),function(_27c){if(!_27c.name){return;}_27c.set("extended",_27b);});}});});},"prcommon2/search/Circulation":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../search/templates/Circulation.html","prcommon2/search/std_search","dojo/_base/lang","dojo/dom-attr","dojo/dom-class","dojo/dom-style","dojo/json","dijit/form/CheckBox","prcommon2/search/SearchCount"],function(_27d,_27e,_27f,_280,lang,_281,_282,_283,json){return _27d("prcommon2.search.Circulation",[_27e,_280],{templateString:_27f,name:"",value:"",title:"",search:"",size:"9",testmode:false,constructor:function(){this._field_list=[1,2,3,4,5,6];},postCreate:function(){for(var key in this._field_list){var _284=this._field_list[key];_281.set(this["node_"+_284+"_label"],"for",this["node_"+_284].id);}},check_count:function(){this._get_selector(this._get_data());},clear:function(){for(var a in this._field_list){this["node_"+this._field_list[a]].set("value",false);}this._get_selector("");this.inherited(arguments);},_setValueAttr:function(_285){var open=false;this.Clear();for(var key in _285.data){var _286=_285.data[key];this["node_"+_286].set("value",true);open=true;}this._get_selector(this._getValueAttr());if(open){this.make_open();}},_getValueAttr:function(){return this._get_data();},_get_data:function(){var data=Array();var _287=0;for(var a in this._field_list){if(this["node_"+this._field_list[a]].get("value")!=false){data[_287]=parseInt(this._field_list[a]);++_287;}}if(this._extended){return {data:data};}else{var data=_287>0?json.stringify(data):"";this.value=data;return data;}},_focus:function(){this.node_1.focus();}});});},"prmaxquestionnaires/pages/Journalists":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../pages/templates/Journalists.html","dijit/layout/BorderContainer","ttl/grid/Grid","ttl/store/JsonRest","dojo/store/Observable","dojo/request","ttl/utilities2","dojo/json","dojo/data/ItemFileReadStore","dojo/_base/lang","dojo/topic","dojo/dom-attr","dojo/dom-class","dijit/layout/BorderContainer","dijit/layout/ContentPane","prcommon2/interests/Interests"],function(_288,_289,_28a,_28b,Grid,_28c,_28d,_28e,_28f,json,_290,lang,_291,_292,_293){return _288("prmaxquestionnaires.pages.Journalists",[_289,_28b],{templateString:_28a,gutters:false,constructor:function(){this.outlet_contact_model=new _28d(new _28c({target:"/questionnaire/journalists",idProperty:"key"}));_291.subscribe(PRCOMMON.Events.Employee_Add,lang.hitch(this,this._employee_add_event));_291.subscribe(PRCOMMON.Events.Employee_Updated,lang.hitch(this,this._employee_update_event));this._load_call_back=lang.hitch(this,this._load_call);this._save_call_back=lang.hitch(this,this._save_call);this._remove_call_back=lang.hitch(this,this._remove_call);this._error_handler_call_back=lang.hitch(this,this._error_handler);this._add_call_back=lang.hitch(this,this._add_call);this._firsttime=true;this._has_address_old=null;this._has_address_new=null;},postCreate:function(){var _294=[{label:"Contact",className:"standard",field:"contactname"},{label:"Job Title",className:"standard",field:"job_title"}];this.outlet_contact_grid=new Grid({columns:_294,selectionMode:"single",store:this.outlet_contact_model,query:{outletid:PRMAX.questionnaire.outlet.outlet.outletid,researchprojectitemid:PRMAX.questionnaire.questionnaireid}});this.outlet_contact_grid_view.set("content",this.outlet_contact_grid);this.outlet_contact_grid.on(".dgrid-cell:click",lang.hitch(this,this._on_cell_call));this.outlet_contact_grid.on("dgrid-refresh-complete",lang.hitch(this,this._first_time_call));this.questionnaireid.set("value",PRMAX.questionnaire.questionnaireid);this.inherited(arguments);},_first_time_call:function(evt){if(this._firsttime==true){if(evt.results.results&&evt.results.results[0].length>0){this.outlet_contact_grid.select(this.outlet_contact_grid.row(evt.results.results[0][0].key));this._post_load_request(evt.results.results[0][0]);}this._firsttime=false;}},_on_cell_call:function(e){var cell=this.outlet_contact_grid.cell(e);if(cell.row){this._post_load_request(cell.row.data);}},_post_load_request:function(data){_28e.post("/questionnaire/get_journalist",_28f.make_params({data:{objectid:data.objectid,questionnaireid:this.questionnaireid.get("value"),typeid:data.typeid}})).then(this._load_call_back,this._error_handler_call_back);},_load_call:function(_295){if(_295.success=="OK"){_292.set(this.contact_mode,"innerHTML","");this.objectid.set("value",_295.data.objectid);this.prefix.set("value",_295.data.prefix);this.firstname.set("value",_295.data.firstname);this.familyname.set("value",_295.data.familyname);this.job_title.set("value",_295.data.job_title);this.tel.set("value",_295.data.tel);this.fax.set("value",_295.data.fax);this.mobile.set("value",_295.data.mobile);this.email.set("value",_295.data.email);this.twitter.set("value",_295.data.twitter);this.facebook.set("value",_295.data.facebook);this.linkedin.set("value",_295.data.linkedin);this.instagram.set("value",_295.data.instagram);this.interests.set("value",_295.data.interests);_292.set(this.interests_org,"innerHTML",_295.data.interests_org);this.typeid.set("value",_295.data.typeid);if(_295.data.alt_address==false){this.no_address.set("checked",false);this._has_address_old=false;this._address_show_do(false);this.address1.set("value","");this.address2.set("value","");this.townname.set("value","");this.county.set("value","");this.postcode.set("value","");}else{this.no_address.set("checked",true);this._has_address_old=true;this._address_show_do(true);this.address1.set("value",_295.data.address1);this.address2.set("value",_295.data.address2);this.townname.set("value",_295.data.townname);this.county.set("value",_295.data.county);this.postcode.set("value",_295.data.postcode);}this.updatebtn.cancel();this.removebtn.cancel();_293.remove(this.removebtn.domNode,"prmaxhidden");this.contact_edit_container.selectChild(this.contact_edit_view);}},_employee_update_event:function(_296){this.outlet_contact_model.put(_296);},_employee_add_event:function(_297){this.outlet_contact_model.add(_297);},_show_add:function(){_292.set(this.contact_mode,"innerHTML","Add New Journalist");this.objectid.set("value",-1);this.prefix.set("value","");this.firstname.set("value","");this.familyname.set("value","");this.job_title.set("value","");this.tel.set("value","");this.fax.set("value","");this.mobile.set("value","");this.email.set("value","");this.twitter.set("value","");this.facebook.set("value","");this.linkedin.set("value","");this.instagram.set("value","");this.no_address.set("checked",false);this._address_show_do(false);this.address1.set("value","");this.address2.set("value","");this.townname.set("value","");this.county.set("value","");this.postcode.set("value","");this.interests.set("value","");_292.set(this.interests_org,"innerHTML","");this.updatebtn.cancel();_293.add(this.removebtn.domNode,"prmaxhidden");this.contact_edit_container.selectChild(this.contact_edit_view);this.outlet_contact_grid.clearSelection();},_save_contact:function(){if(_28f.form_validator(this.form)==false){alert("Not all required field filled in");throw "N";}if(this.objectid.get("value")==-1){_28e.post("/questionnaire/add_contact",_28f.make_params({data:this.form.get("value")})).then(this._add_call_back,this._error_handler_call_back);}else{_28e.post("/questionnaire/update_contact",_28f.make_params({data:this.form.get("value")})).then(this._save_call_back,this._error_handler_call_back);}},_add_call:function(_298){if(_298.success=="OK"){this.outlet_contact_model.add(_298.data);this.objectid.set("value",_298.data.objectid);this.typeid.set("value",_298.data.typeid);_293.remove(this.removebtn.domNode,"prmaxhidden");_292.set(this.contact_mode,"innerHTML","");this.outlet_contact_grid.select(_298.data);alert("Journalist Added");}else{alert("Problem applying changes");}this.updatebtn.cancel();this.removebtn.cancel();},_save_call:function(_299){if(_299.success=="OK"){alert("Journalist Updated");this.outlet_contact_model.put(_299.data);this.outlet_contact_grid.select(_299.data);}else{alert("Problem applying changes");}this.updatebtn.cancel();this.removebtn.cancel();},_remove_contact:function(){if(confirm("Delete Journalist")){_28e.post("/questionnaire/delete_contact",_28f.make_params({data:this.form.get("value")})).then(this._remove_call_back,this._error_handler_call_back);}else{throw "N";}},_remove_call:function(_29a){if(_29a.success=="OK"){this.outlet_contact_model.remove(_29a.data.key);this.contact_edit_container.selectChild(this.blank_cont_view);alert("Journalist Removed");var tmp=Object.keys(this.outlet_contact_grid._rowIdToObject);if(tmp.length){this.outlet_contact_grid.select(this.outlet_contact_grid._rowIdToObject[tmp[0]]);this._post_load_request(this.outlet_contact_grid._rowIdToObject[tmp[0]]);}}else{alert("Problem Removing Journalist");}this.removebtn.cancel();},_error_handler:function(_29b,_29c){_28f.xhr_post_error(_29b,_29c);this.updatebtn.cancel();this.removebtn.cancel();},_address_show:function(){this._address_show_do(this.no_address.get("checked"));if(this.no_address.get("checked")){this._has_address_old=false;this._has_address_new=true;}else{this._has_address_old=true;this._has_address_new=false;}},_address_show_do:function(_29d){var _29e=["addr1","addr2","addr3","addr4","addr5"];if(_29d==false){for(var key in _29e){_293.add(this[_29e[key]],"prmaxhidden");}}else{for(var key in _29e){_293.remove(this[_29e[key]],"prmaxhidden");}}},save_move:function(_29f,_2a0){_29f();throw "N";}});});},"prcommon2/geographical/GeographicalTree":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dijit/layout/BorderContainer","dojo/text!../geographical/templates/GeographicalTree.html","dojo/request","ttl/utilities2","dojo/json","dojo/_base/lang","dojo/topic","dojox/data/JsonRestStore","dijit/tree/ForestStoreModel","dijit/Tree"],function(_2a1,_2a2,_2a3,_2a4,_2a5,_2a6,json,lang,_2a7,_2a8,_2a9,Tree){return _2a1("prcommon2.geographical.GeographicalTree",[_2a2,_2a3],{templateString:_2a4,constructor:function(){this.json_store=new _2a8({target:"/geographical/resttree",labelAttribute:"name"});this.myModel=new _2a9({store:this.json_store,deferItemLoadingUntilExpand:true,query:"root",childrenAttrs:["children"]});this._dialog=null;},postCreate:function(){this.treenode=new Tree({model:this.myModel,showRoot:true,label:"Countries",persist:false});this.tree.domNode.appendChild(this.treenode.domNode);this.treenode.startup();dojo.connect(this.treenode,"onDblClick",lang.hitch(this,this._select_node));this.inherited(arguments);},_select_node:function(e){_2a7.publish(PRCOMMON.Events.Geographical_Selected,{geographicalid:e.id,geographicalname:e.name});},_close:function(){if(this._dialog){this._dialog.hide();}else{_2a7.publish(PRCOMMON.Events.Dialog_Close,"geog_close");}},_setDialogAttr:function(_2aa){this._dialog=_2aa;}});});},"dijit/form/_RadioButtonMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/_base/lang","dojo/query!css2","../registry"],function(_2ab,_2ac,_2ad,lang,_2ae,_2af){return _2ac("dijit.form._RadioButtonMixin",null,{type:"radio",_getRelatedWidgets:function(){var ary=[];_2ae("input[type=radio]",this.focusNode.form||this.ownerDocument).forEach(lang.hitch(this,function(_2b0){if(_2b0.name==this.name&&_2b0.form==this.focusNode.form){var _2b1=_2af.getEnclosingWidget(_2b0);if(_2b1){ary.push(_2b1);}}}));return ary;},_setCheckedAttr:function(_2b2){this.inherited(arguments);if(!this._created){return;}if(_2b2){_2ab.forEach(this._getRelatedWidgets(),lang.hitch(this,function(_2b3){if(_2b3!=this&&_2b3.checked){_2b3.set("checked",false);}}));}},_getSubmitValue:function(_2b4){return _2b4==null?"on":_2b4;},_onClick:function(e){if(this.checked||this.disabled){e.stopPropagation();e.preventDefault();return false;}if(this.readOnly){e.stopPropagation();e.preventDefault();_2ab.forEach(this._getRelatedWidgets(),lang.hitch(this,function(_2b5){_2ad.set(this.focusNode||this.domNode,"checked",_2b5.checked);}));return false;}var _2b6=false;var _2b7;_2ab.some(this._getRelatedWidgets(),function(_2b8){if(_2b8.checked){_2b7=_2b8;return true;}return false;});this.checked=true;_2b7&&(_2b7.checked=false);if(this.onClick(e)===false||e.defaultPrevented){_2b6=true;}this.checked=false;_2b7&&(_2b7.checked=true);if(_2b6){e.preventDefault();}else{this.set("checked",true);}return !_2b6;}});});},"dojox/rpc/JsonRest":function(){define("dojox/rpc/JsonRest",["dojo","dojox","dojox/json/ref","dojox/rpc/Rest"],function(dojo,_2b9){var _2ba=[];var Rest=_2b9.rpc.Rest;var jr;function _2bb(_2bc,_2bd,_2be,_2bf){var _2c0=_2bd.ioArgs&&_2bd.ioArgs.xhr&&_2bd.ioArgs.xhr.getResponseHeader("Last-Modified");if(_2c0&&Rest._timeStamps){Rest._timeStamps[_2bf]=_2c0;}var _2c1=_2bc._schema&&_2bc._schema.hrefProperty;if(_2c1){_2b9.json.ref.refAttribute=_2c1;}_2be=_2be&&_2b9.json.ref.resolveJson(_2be,{defaultId:_2bf,index:Rest._index,timeStamps:_2c0&&Rest._timeStamps,time:_2c0,idPrefix:_2bc._store.allowNoTrailingSlash?_2bc.servicePath+"/":_2bc.servicePath.replace(/[^\/]*$/,""),idAttribute:jr.getIdAttribute(_2bc),schemas:jr.schemas,loader:jr._loader,idAsRef:_2bc.idAsRef,assignAbsoluteIds:true});_2b9.json.ref.refAttribute="$ref";return _2be;};jr=_2b9.rpc.JsonRest={serviceClass:_2b9.rpc.Rest,conflictDateHeader:"If-Unmodified-Since",commit:function(_2c2){_2c2=_2c2||{};var _2c3=[];var _2c4={};var _2c5=[];for(var i=0;i<_2ba.length;i++){var _2c6=_2ba[i];var _2c7=_2c6.object;var old=_2c6.old;var _2c8=false;if(!(_2c2.service&&(_2c7||old)&&(_2c7||old).__id.indexOf(_2c2.service.servicePath))&&_2c6.save){delete _2c7.__isDirty;if(_2c7){if(old){var _2c9;if((_2c9=_2c7.__id.match(/(.*)#.*/))){_2c7=Rest._index[_2c9[1]];}if(!(_2c7.__id in _2c4)){_2c4[_2c7.__id]=_2c7;if(_2c2.incrementalUpdates&&!_2c9){var _2ca=(typeof _2c2.incrementalUpdates=="function"?_2c2.incrementalUpdates:function(){_2ca={};for(var j in _2c7){if(_2c7.hasOwnProperty(j)){if(_2c7[j]!==old[j]){_2ca[j]=_2c7[j];}}else{if(old.hasOwnProperty(j)){return null;}}}return _2ca;})(_2c7,old);}if(_2ca){_2c3.push({method:"post",target:_2c7,content:_2ca});}else{_2c3.push({method:"put",target:_2c7,content:_2c7});}}}else{var _2cb=jr.getServiceAndId(_2c7.__id).service;var _2cc=jr.getIdAttribute(_2cb);if((_2cc in _2c7)&&!_2c2.alwaysPostNewItems){_2c3.push({method:"put",target:_2c7,content:_2c7});}else{_2c3.push({method:"post",target:{__id:_2cb.servicePath},content:_2c7});}}}else{if(old){_2c3.push({method:"delete",target:old});}}_2c5.push(_2c6);_2ba.splice(i--,1);}}dojo.connect(_2c2,"onError",function(){if(_2c2.revertOnError!==false){var _2cd=_2ba;_2ba=_2c5;var _2ce=0;jr.revert();_2ba=_2cd;}else{dojo.forEach(_2c5,function(obj){jr.changing(obj.object,!obj.object);});}});jr.sendToServer(_2c3,_2c2);return _2c3;},sendToServer:function(_2cf,_2d0){var _2d1;var _2d2=dojo.xhr;var left=_2cf.length;var i,_2d3;var _2d4;var _2d5=this.conflictDateHeader;dojo.xhr=function(_2d6,args){args.headers=args.headers||{};args.headers["Transaction"]=_2cf.length-1==i?"commit":"open";if(_2d5&&_2d4){args.headers[_2d5]=_2d4;}if(_2d3){args.headers["Content-ID"]="<"+_2d3+">";}return _2d2.apply(dojo,arguments);};for(i=0;i<_2cf.length;i++){var _2d7=_2cf[i];_2b9.rpc.JsonRest._contentId=_2d7.content&&_2d7.content.__id;var _2d8=_2d7.method=="post";_2d4=_2d7.method=="put"&&Rest._timeStamps[_2d7.content.__id];if(_2d4){Rest._timeStamps[_2d7.content.__id]=(new Date())+"";}_2d3=_2d8&&_2b9.rpc.JsonRest._contentId;var _2d9=jr.getServiceAndId(_2d7.target.__id);var _2da=_2d9.service;var dfd=_2d7.deferred=_2da[_2d7.method](_2d9.id.replace(/#/,""),_2b9.json.ref.toJson(_2d7.content,false,_2da.servicePath,true));(function(_2db,dfd,_2dc){dfd.addCallback(function(_2dd){try{var _2de=dfd.ioArgs.xhr&&dfd.ioArgs.xhr.getResponseHeader("Location");if(_2de){var _2df=_2de.match(/(^\w+:\/\/)/)&&_2de.indexOf(_2dc.servicePath);_2de=_2df>0?_2de.substring(_2df):(_2dc.servicePath+_2de).replace(/^(.*\/)?(\w+:\/\/)|[^\/\.]+\/\.\.\/|^.*\/(\/)/,"$2$3");_2db.__id=_2de;Rest._index[_2de]=_2db;}_2dd=_2bb(_2dc,dfd,_2dd,_2db&&_2db.__id);}catch(e){}if(!(--left)){if(_2d0.onComplete){_2d0.onComplete.call(_2d0.scope,_2cf);}}return _2dd;});})(_2d7.content,dfd,_2da);dfd.addErrback(function(_2e0){left=-1;_2d0.onError.call(_2d0.scope,_2e0);});}dojo.xhr=_2d2;},getDirtyObjects:function(){return _2ba;},revert:function(_2e1){for(var i=_2ba.length;i>0;){i--;var _2e2=_2ba[i];var _2e3=_2e2.object;var old=_2e2.old;var _2e4=_2b9.data._getStoreForItem(_2e3||old);if(!(_2e1&&(_2e3||old)&&(_2e3||old).__id.indexOf(_2e1.servicePath))){if(_2e3&&old){for(var j in old){if(old.hasOwnProperty(j)&&_2e3[j]!==old[j]){if(_2e4){_2e4.onSet(_2e3,j,_2e3[j],old[j]);}_2e3[j]=old[j];}}for(j in _2e3){if(!old.hasOwnProperty(j)){if(_2e4){_2e4.onSet(_2e3,j,_2e3[j]);}delete _2e3[j];}}}else{if(!old){if(_2e4){_2e4.onDelete(_2e3);}}else{if(_2e4){_2e4.onNew(old);}}}delete (_2e3||old).__isDirty;_2ba.splice(i,1);}}},changing:function(_2e5,_2e6){if(!_2e5.__id){return;}_2e5.__isDirty=true;for(var i=0;i<_2ba.length;i++){var _2e7=_2ba[i];if(_2e5==_2e7.object){if(_2e6){_2e7.object=false;if(!this._saveNotNeeded){_2e7.save=true;}}return;}}var old=_2e5 instanceof Array?[]:{};for(i in _2e5){if(_2e5.hasOwnProperty(i)){old[i]=_2e5[i];}}_2ba.push({object:!_2e6&&_2e5,old:old,save:!this._saveNotNeeded});},deleteObject:function(_2e8){this.changing(_2e8,true);},getConstructor:function(_2e9,_2ea){if(typeof _2e9=="string"){var _2eb=_2e9;_2e9=new _2b9.rpc.Rest(_2e9,true);this.registerService(_2e9,_2eb,_2ea);}if(_2e9._constructor){return _2e9._constructor;}_2e9._constructor=function(data){var self=this;var args=arguments;var _2ec;var _2ed;function _2ee(_2ef){if(_2ef){_2ee(_2ef["extends"]);_2ec=_2ef.properties;for(var i in _2ec){var _2f0=_2ec[i];if(_2f0&&(typeof _2f0=="object")&&("default" in _2f0)){self[i]=_2f0["default"];}}}if(_2ef&&_2ef.prototype&&_2ef.prototype.initialize){_2ed=true;_2ef.prototype.initialize.apply(self,args);}};_2ee(_2e9._schema);if(!_2ed&&data&&typeof data=="object"){dojo.mixin(self,data);}var _2f1=jr.getIdAttribute(_2e9);Rest._index[this.__id=this.__clientId=_2e9.servicePath+(this[_2f1]||Math.random().toString(16).substring(2,14)+"@"+((_2b9.rpc.Client&&_2b9.rpc.Client.clientId)||"client"))]=this;if(_2b9.json.schema&&_2ec){_2b9.json.schema.mustBeValid(_2b9.json.schema.validate(this,_2e9._schema));}_2ba.push({object:this,save:true});};return dojo.mixin(_2e9._constructor,_2e9._schema,{load:_2e9});},fetch:function(_2f2){var _2f3=jr.getServiceAndId(_2f2);return this.byId(_2f3.service,_2f3.id);},getIdAttribute:function(_2f4){var _2f5=_2f4._schema;var _2f6;if(_2f5){if(!(_2f6=_2f5._idAttr)){for(var i in _2f5.properties){if(_2f5.properties[i].identity||(_2f5.properties[i].link=="self")){_2f5._idAttr=_2f6=i;}}}}return _2f6||"id";},getServiceAndId:function(_2f7){var _2f8="";for(var _2f9 in jr.services){if((_2f7.substring(0,_2f9.length)==_2f9)&&(_2f9.length>=_2f8.length)){_2f8=_2f9;}}if(_2f8){return {service:jr.services[_2f8],id:_2f7.substring(_2f8.length)};}var _2fa=_2f7.match(/^(.*\/)([^\/]*)$/);return {service:new jr.serviceClass(_2fa[1],true),id:_2fa[2]};},services:{},schemas:{},registerService:function(_2fb,_2fc,_2fd){_2fc=_2fb.servicePath=_2fc||_2fb.servicePath;_2fb._schema=jr.schemas[_2fc]=_2fd||_2fb._schema||{};jr.services[_2fc]=_2fb;},byId:function(_2fe,id){var _2ff,_300=Rest._index[(_2fe.servicePath||"")+id];if(_300&&!_300._loadObject){_2ff=new dojo.Deferred();_2ff.callback(_300);return _2ff;}return this.query(_2fe,id);},query:function(_301,id,args){var _302=_301(id,args);_302.addCallback(function(_303){if(_303.nodeType&&_303.cloneNode){return _303;}return _2bb(_301,_302,_303,typeof id!="string"||(args&&(args.start||args.count))?undefined:id);});return _302;},_loader:function(_304){var _305=jr.getServiceAndId(this.__id);var self=this;jr.query(_305.service,_305.id).addBoth(function(_306){if(_306==self){delete _306.$ref;delete _306._loadObject;}else{self._loadObject=function(_307){_307(_306);};}_304(_306);});},isDirty:function(item,_308){if(!item){if(_308){return dojo.some(_2ba,function(_309){return _2b9.data._getStoreForItem(_309.object||_309.old)==_308;});}return !!_2ba.length;}return item.__isDirty;}};return _2b9.rpc.JsonRest;});},"dojo/dnd/TimedMoveable":function(){define(["../_base/declare","./Moveable"],function(_30a,_30b){var _30c=_30b.prototype.onMove;return _30a("dojo.dnd.TimedMoveable",_30b,{timeout:40,constructor:function(node,_30d){if(!_30d){_30d={};}if(_30d.timeout&&typeof _30d.timeout=="number"&&_30d.timeout>=0){this.timeout=_30d.timeout;}},onMoveStop:function(_30e){if(_30e._timer){clearTimeout(_30e._timer);_30c.call(this,_30e,_30e._leftTop);}_30b.prototype.onMoveStop.apply(this,arguments);},onMove:function(_30f,_310){_30f._leftTop=_310;if(!_30f._timer){var _311=this;_30f._timer=setTimeout(function(){_30f._timer=null;_30c.call(_311,_30f,_30f._leftTop);},this.timeout);}}});});},"dojo/store/Observable":function(){define(["../_base/kernel","../_base/lang","../when","../_base/array"],function(_312,lang,when,_313){var _314=function(_315){var _316,_317=[],_318=0;_315=lang.delegate(_315);_315.notify=function(_319,_31a){_318++;var _31b=_317.slice();for(var i=0,l=_31b.length;i<l;i++){_31b[i](_319,_31a);}};var _31c=_315.query;_315.query=function(_31d,_31e){_31e=_31e||{};var _31f=_31c.apply(this,arguments);if(_31f&&_31f.forEach){var _320=lang.mixin({},_31e);delete _320.start;delete _320.count;var _321=_315.queryEngine&&_315.queryEngine(_31d,_320);var _322=_318;var _323=[],_324;_31f.observe=function(_325,_326){if(_323.push(_325)==1){_317.push(_324=function(_327,_328){when(_31f,function(_329){var _32a=_329.length!=_31e.count;var i,l,_325;if(++_322!=_318){throw new Error("Query is out of date, you must observe() the query prior to any data modifications");}var _32b,_32c=-1,_32d=-1;if(_328!==_316){var _32e=[].concat(_329);if(_321&&!_327){_32e=_321(_329);}for(i=0,l=_329.length;i<l;i++){var _32f=_329[i];if(_315.getIdentity(_32f)==_328){if(_32e.indexOf(_32f)<0){continue;}_32b=_32f;_32c=i;if(_321||!_327){_329.splice(i,1);}break;}}}if(_321){if(_327&&(_321.matches?_321.matches(_327):_321([_327]).length)){var _330=_32c>-1?_32c:_329.length;_329.splice(_330,0,_327);_32d=_313.indexOf(_321(_329),_327);_329.splice(_330,1);if((_31e.start&&_32d==0)||(!_32a&&_32d==_329.length)){_32d=-1;}else{_329.splice(_32d,0,_327);}}}else{if(_327){if(_328!==_316){_32d=_32c;}else{if(!_31e.start){_32d=_315.defaultIndex||0;_329.splice(_32d,0,_327);}}}}if((_32c>-1||_32d>-1)&&(_326||!_321||(_32c!=_32d))){var _331=_323.slice();for(i=0;_325=_331[i];i++){_325(_327||_32b,_32c,_32d);}}});});}var _332={};_332.remove=_332.cancel=function(){var _333=_313.indexOf(_323,_325);if(_333>-1){_323.splice(_333,1);if(!_323.length){_317.splice(_313.indexOf(_317,_324),1);}}};return _332;};}return _31f;};var _334;function _335(_336,_337){var _338=_315[_336];if(_338){_315[_336]=function(_339){var _33a;if(_336==="put"){_33a=_315.getIdentity(_339);}if(_334){return _338.apply(this,arguments);}_334=true;try{var _33b=_338.apply(this,arguments);when(_33b,function(_33c){_337((typeof _33c=="object"&&_33c)||_339,_33a);});return _33b;}finally{_334=false;}};}};_335("put",function(_33d,_33e){_315.notify(_33d,_33e);});_335("add",function(_33f){_315.notify(_33f);});_335("remove",function(id){_315.notify(undefined,id);});return _315;};lang.setObject("dojo.store.Observable",_314);return _314;});},"dijit/form/_ListMouseMixin":function(){define(["dojo/_base/declare","dojo/on","dojo/touch","./_ListBase"],function(_340,on,_341,_342){return _340("dijit.form._ListMouseMixin",_342,{postCreate:function(){this.inherited(arguments);this.domNode.dojoClick=true;this._listConnect("click","_onClick");this._listConnect("mousedown","_onMouseDown");this._listConnect("mouseup","_onMouseUp");this._listConnect("mouseover","_onMouseOver");this._listConnect("mouseout","_onMouseOut");},_onClick:function(evt,_343){this._setSelectedAttr(_343,false);if(this._deferredClick){this._deferredClick.remove();}this._deferredClick=this.defer(function(){this._deferredClick=null;this.onClick(_343);});},_onMouseDown:function(evt,_344){if(this._hoveredNode){this.onUnhover(this._hoveredNode);this._hoveredNode=null;}this._isDragging=true;this._setSelectedAttr(_344,false);},_onMouseUp:function(evt,_345){this._isDragging=false;var _346=this.selected;var _347=this._hoveredNode;if(_346&&_345==_346){this.defer(function(){this._onClick(evt,_346);});}else{if(_347){this.defer(function(){this._onClick(evt,_347);});}}},_onMouseOut:function(evt,_348){if(this._hoveredNode){this.onUnhover(this._hoveredNode);this._hoveredNode=null;}if(this._isDragging){this._cancelDrag=(new Date()).getTime()+1000;}},_onMouseOver:function(evt,_349){if(this._cancelDrag){var time=(new Date()).getTime();if(time>this._cancelDrag){this._isDragging=false;}this._cancelDrag=null;}this._hoveredNode=_349;this.onHover(_349);if(this._isDragging){this._setSelectedAttr(_349,false);}}});});},"prmaxquestionnaires/pages/Profile":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../pages/templates/Profile.html","dijit/layout/BorderContainer","dijit/layout/ContentPane","dojo/topic","dojo/_base/lang","dojo/dom-attr","dojo/dom-class","ttl/utilities2","dojo/request","dojox/data/JsonRestStore","dojo/data/ItemFileReadStore","dojo/query","dijit/layout/ContentPane","dijit/form/Form","dijit/form/TextBox","dijit/form/FilteringSelect","dijit/form/Button","dojox/form/BusyButton","dijit/Dialog","dijit/form/Textarea","dijit/form/NumberTextBox"],function(_34a,_34b,_34c,_34d,_34e,_34f,lang,_350,_351,_352,_353,_354,_355,_356){return _34a("prmaxquestionnaires.pages.Profile",[_34b,_34d],{templateString:_34c,gutters:false,constructor:function(){this._publishers=new _354({target:"/questionnaire/list_publisher",labelAttribute:"publishername",idProperty:"publisherid"});this._circulationsources=new _354({target:"/questionnaire/list_circulationsources",labelAttribute:"circulationsourcedescription",idProperty:"circulationsourceid"});this._circulationauditdates=new _354({target:"/questionnaire/list_circulationdates",labelAttribute:"circulationauditdatedescription",idProperty:"circulationauditdateid"});this._productioncompanies=new _354({target:"/questionnaire/list_production",idProperty:"productioncompanyid"});this._costs=new _355({url:"/common/lookups?searchtype=outletprices"});this._languages=new _355({url:"/common/lookups?searchtype=languages&nofilter=1"});this._update_call_back=lang.hitch(this,this._update_call);this._error_call_back=lang.hitch(this,this._error_handler);this._page_ctrl=null;this._page_error=null;},postCreate:function(){this.inherited(arguments);this.outletpriceid.set("store",this._costs);this.frequency.set("store",PRCOMMON.utils.stores.Frequency());this.circulationsourceid.set("store",this._circulationsources);this.circulationauditdateid.set("store",this._circulationauditdates);this.publisherid.set("query",{questionnaireid:PRMAX.questionnaire.questionnaireid});this.publisherid.set("store",this._publishers);this.productioncompanyid.set("store",this._productioncompanies);this.language1id.set("store",this._languages);this.language2id.set("store",this._languages);this._show_fields_by_type();this.load(PRMAX.questionnaire);},load:function(_357){with(_357){if(outlet.outlet.outletpriceid==null){this.outletpriceid.set("value",1);}else{this.outletpriceid.set("value",outlet.outlet.outletpriceid);}this.circulation.set("value",outlet.outlet.circulation);this.frequency.set("value",outlet.outlet.frequencyid);this.circulationsourceid.set("value",outlet.outlet.circulationsourceid);this.circulationauditdateid.set("value",outlet.outlet.circulationauditdateid);this.publisherid.set("value",outlet.outlet.publisherid);this.language1id.set("value",outlet.language1id);this.language2id.set("value",outlet.language2id);this.relatedoutlets.set("value",outlet.relatedoutlets);if(outlet.outletprofile.profile){if(outlet.outletprofile.profile.editorialprofile!=null){this.editorialprofile.set("value",outlet.outletprofile.profile.editorialprofile.replace(/<br\/>/gi,"\n"));}this.readership.set("value",outlet.outletprofile.profile.readership);this.broadcasttimes.set("value",outlet.outletprofile.profile.broadcasttimes);this.frequencynotes.set("value",outlet.outletprofile.profile.frequencynotes);this.productioncompanyid.set("value",outlet.outletprofile.profile.productioncompanyid);}else{this.editorialprofile.set("value","");this.readership.set("value","");this.broadcasttimes.set("value","");this.frequencynotes.set("value","");this.productioncompanyid.set("value",-1);}if(outlet.outlet.countryid==119){_351.add(this.publisher_std_view,"prmaxhidden");_351.remove(this.publisher_text_view,"prmaxhidden");}}_350.set(this.relatedoutlets_view,"innerHTML",_357.relatedoutlets_view);this.questionnaireid.set("value",_357.questionnaireid);},_update_profile:function(){if(_352.form_validator(this.form)==false){alert("Not all required field filled in");if(this._page_error){this._page_error();}throw "n";}var _358=this.form.get("value");_358["relatedoutlets"]=this.relatedoutlets.get("value");_353.post("/questionnaire/update_profile",_352.make_params({data:_358})).then(this._update_call_back,this._error_call_back);},_update_call:function(_359){if(_359.success=="OK"){if(this._page_ctrl){this._page_ctrl();}else{alert("Profile Updated");}}else{alert("Changes Failed to Apply");if(this._page_error){this._page_error();}}},_error_handler:function(_35a,_35b){_352.xhr_post_error(_35a,_35b);if(this._page_error){this._page_error();}},save_move:function(_35c,_35d){this._page_ctrl=_35c;this._page_error=_35d;this._update_profile();},_show_fields_by_type:function(){if(PRMAX.questionnaire.outlet.outlet.isbroadcast==false){_351.add(this.productioncompany_view,"prmaxhidden");_351.add(this.broadcasttimes_view,"prmaxhidden");}}});});},"dojo/cookie":function(){define(["./_base/kernel","./regexp"],function(dojo,_35e){dojo.cookie=function(name,_35f,_360){var c=document.cookie,ret;if(arguments.length==1){var _361=c.match(new RegExp("(?:^|; )"+_35e.escapeString(name)+"=([^;]*)"));ret=_361?decodeURIComponent(_361[1]):undefined;}else{_360=_360||{};var exp=_360.expires;if(typeof exp=="number"){var d=new Date();d.setTime(d.getTime()+exp*24*60*60*1000);exp=_360.expires=d;}if(exp&&exp.toUTCString){_360.expires=exp.toUTCString();}_35f=encodeURIComponent(_35f);var _362=name+"="+_35f,_363;for(_363 in _360){_362+="; "+_363;var _364=_360[_363];if(_364!==true){_362+="="+_364;}}document.cookie=_362;}return ret;};dojo.cookie.isSupported=function(){if(!("cookieEnabled" in navigator)){this("__djCookieTest__","CookiesAllowed");navigator.cookieEnabled=this("__djCookieTest__")=="CookiesAllowed";if(navigator.cookieEnabled){this("__djCookieTest__","",{expires:-1});}}return navigator.cookieEnabled;};return dojo.cookie;});},"prcommon2/search/Publisher":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../search/templates/Publisher.html","prcommon2/search/std_search","dojo/_base/lang","dojo/dom-attr","dojo/dom-class","dojo/dom-style","dojo/json","dojo/data/ItemFileReadStore","dojox/data/JsonRestStore","prcommon2/search/std_search","dijit/form/FilteringSelect","prcommon2/search/SearchCount"],function(_365,_366,_367,_368,lang,_369,_36a,_36b,json,_36c,_36d){return _365("prcommon2.search.Publisher",[_366,_368],{templateString:_367,constructor:function(){this.store=new _36d({target:"/research/admin/publisher/search_list",mode:"search",labelAttribute:"publishername",idProperty:"publisherid"});},postCreate:function(){this.select.set("store",this.store);this.select.set("value",-1);},_changed:function(){this._get_selector(this._get_data());},clear:function(){this.select.set("value",-1);this._get_selector("All");this.inherited(arguments);},_setValueAttr:function(_36e){var open=false;this.clear();this._get_selector(this._getValueAttr());},_getValueAttr:function(){return this._get_data();},_get_data:function(){if(this.select.get("value")==""){this.select.set("value",-1);}var data=parseInt(this.select.get("value"));if(this._extended){return {data:data};}else{this.value=(data!=null&&data!=-1)?json.stringify(data):"";return this.value;}},_focus:function(){this.select.focus();},_capture_extended_content:function(_36f){var tmp=this.inherited(arguments);tmp.partial=0;return tmp;}});});},"dijit/_base/popup":function(){define(["dojo/dom-class","dojo/_base/window","../popup","../BackgroundIframe"],function(_370,win,_371){var _372=_371._createWrapper;_371._createWrapper=function(_373){if(!_373.declaredClass){_373={_popupWrapper:(_373.parentNode&&_370.contains(_373.parentNode,"dijitPopup"))?_373.parentNode:null,domNode:_373,destroy:function(){},ownerDocument:_373.ownerDocument,ownerDocumentBody:win.body(_373.ownerDocument)};}return _372.call(this,_373);};var _374=_371.open;_371.open=function(args){if(args.orient&&typeof args.orient!="string"&&!("length" in args.orient)){var ary=[];for(var key in args.orient){ary.push({aroundCorner:key,corner:args.orient[key]});}args.orient=ary;}return _374.call(this,args);};return _371;});},"dijit/form/NumberTextBox":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/i18n","dojo/string","dojo/number","./RangeBoundTextBox"],function(_375,lang,i18n,_376,_377,_378){var _379=function(_37a){var _37a=_37a||{},_37b=i18n.getLocalization("dojo.cldr","number",i18n.normalizeLocale(_37a.locale)),_37c=_37a.pattern?_37a.pattern:_37b[(_37a.type||"decimal")+"Format"];var _37d;if(typeof _37a.places=="number"){_37d=_37a.places;}else{if(typeof _37a.places==="string"&&_37a.places.length>0){_37d=_37a.places.replace(/.*,/,"");}else{_37d=(_37c.indexOf(".")!=-1?_37c.split(".")[1].replace(/[^#0]/g,"").length:0);}}return {sep:_37b.decimal,places:_37d};};var _37e=_375("dijit.form.NumberTextBoxMixin",null,{pattern:function(_37f){return "("+(this.focused&&this.editOptions?this._regExpGenerator(lang.delegate(_37f,this.editOptions))+"|":"")+this._regExpGenerator(_37f)+")";},value:NaN,editOptions:{pattern:"#.######"},_formatter:_377.format,_regExpGenerator:_377.regexp,_decimalInfo:_379(),postMixInProperties:function(){this.inherited(arguments);this._set("type","text");},_setConstraintsAttr:function(_380){var _381=typeof _380.places=="number"?_380.places:0;if(_381){_381++;}if(typeof _380.max!="number"){_380.max=9*Math.pow(10,15-_381);}if(typeof _380.min!="number"){_380.min=-9*Math.pow(10,15-_381);}this.inherited(arguments,[_380]);if(this.focusNode&&this.focusNode.value&&!isNaN(this.value)){this.set("value",this.value);}this._decimalInfo=_379(_380);},_onFocus:function(){if(this.disabled||this.readOnly){return;}var val=this.get("value");if(typeof val=="number"&&!isNaN(val)){var _382=this.format(val,this.constraints);if(_382!==undefined){this.textbox.value=_382;}}this.inherited(arguments);},format:function(_383,_384){var _385=String(_383);if(typeof _383!="number"){return _385;}if(isNaN(_383)){return "";}if(!("rangeCheck" in this&&this.rangeCheck(_383,_384))&&_384.exponent!==false&&/\de[-+]?\d/i.test(_385)){return _385;}if(this.editOptions&&this.focused){_384=lang.mixin({},_384,this.editOptions);}return this._formatter(_383,_384);},_parser:_377.parse,parse:function(_386,_387){var _388=lang.mixin({},_387,(this.editOptions&&this.focused)?this.editOptions:{});if(this.focused&&_388.places!=null){var _389=_388.places;var _38a=typeof _389==="number"?_389:Number(_389.split(",").pop());_388.places="0,"+_38a;}var v=this._parser(_386,_388);if(this.editOptions&&this.focused&&isNaN(v)){v=this._parser(_386,_387);}return v;},_getDisplayedValueAttr:function(){var v=this.inherited(arguments);return isNaN(v)?this.textbox.value:v;},filter:function(_38b){if(_38b==null||typeof _38b=="string"&&_38b==""){return NaN;}else{if(typeof _38b=="number"&&!isNaN(_38b)&&_38b!=0){_38b=_377.round(_38b,this._decimalInfo.places);}}return this.inherited(arguments,[_38b]);},serialize:function(_38c,_38d){return (typeof _38c!="number"||isNaN(_38c))?"":this.inherited(arguments);},_setBlurValue:function(){var val=lang.hitch(lang.delegate(this,{focused:true}),"get")("value");this._setValueAttr(val,true);},_setValueAttr:function(_38e,_38f,_390){if(_38e!==undefined&&_390===undefined){_390=String(_38e);if(typeof _38e=="number"){if(isNaN(_38e)){_390="";}else{if(("rangeCheck" in this&&this.rangeCheck(_38e,this.constraints))||this.constraints.exponent===false||!/\de[-+]?\d/i.test(_390)){_390=undefined;}}}else{if(!_38e){_390="";_38e=NaN;}else{_38e=undefined;}}}this.inherited(arguments,[_38e,_38f,_390]);},_getValueAttr:function(){var v=this.inherited(arguments);if(isNaN(v)&&this.textbox.value!==""){if(this.constraints.exponent!==false&&/\de[-+]?\d/i.test(this.textbox.value)&&(new RegExp("^"+_377._realNumberRegexp(lang.delegate(this.constraints))+"$").test(this.textbox.value))){var n=Number(this.textbox.value);return isNaN(n)?undefined:n;}else{return undefined;}}else{return v;}},isValid:function(_391){if(!this.focused||this._isEmpty(this.textbox.value)){return this.inherited(arguments);}else{var v=this.get("value");if(!isNaN(v)&&this.rangeCheck(v,this.constraints)){if(this.constraints.exponent!==false&&/\de[-+]?\d/i.test(this.textbox.value)){return true;}else{return this.inherited(arguments);}}else{return false;}}},_isValidSubset:function(){var _392=(typeof this.constraints.min=="number"),_393=(typeof this.constraints.max=="number"),_394=this.get("value");if(isNaN(_394)||(!_392&&!_393)){return this.inherited(arguments);}var _395=_394|0,_396=_394<0,_397=this.textbox.value.indexOf(this._decimalInfo.sep)!=-1,_398=this.maxLength||20,_399=_398-this.textbox.value.length,_39a=_397?this.textbox.value.split(this._decimalInfo.sep)[1].replace(/[^0-9]/g,""):"";var _39b=_397?_395+"."+_39a:_395+"";var _39c=_376.rep("9",_399),_39d=_394,_39e=_394;if(_396){_39d=Number(_39b+_39c);}else{_39e=Number(_39b+_39c);}return !((_392&&_39e<this.constraints.min)||(_393&&_39d>this.constraints.max));}});var _39f=_375("dijit.form.NumberTextBox",[_378,_37e],{baseClass:"dijitTextBox dijitNumberTextBox"});_39f.Mixin=_37e;return _39f;});},"xstyle/has-class":function(){define(["dojo/has"],function(has){var _3a0={};return function(){var test,args=arguments;for(var i=0;i<args.length;i++){var test=args[i];if(!_3a0[test]){_3a0[test]=true;var _3a1=test.match(/^(no-)?(.+?)((-[\d\.]+)(-[\d\.]+)?)?$/),_3a2=has(_3a1[2]),_3a3=-_3a1[4];if((_3a3>0?_3a3<=_3a2&&(-_3a1[5]||_3a3)>=_3a2:!!_3a2)==!_3a1[1]){document.documentElement.className+=" has-"+test;}}}};});},"prcommon2/outlet/OutletSelectDetails":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../outlet/templates/OutletSelectDetails.html","dijit/layout/BorderContainer","dojo/json","dojo/request","ttl/utilities2","ttl/store/JsonRest","dojox/data/JsonRestStore","dojo/store/Observable","dojo/_base/lang","dojo/topic","ttl/grid/Grid","dojo/dom-attr","dojo/dom-class","dojo/data/ItemFileReadStore","dojo/_base/array","dijit/form/TextBox","dijit/form/Button","dijit/Dialog","prcommon2/search/OutletSearch","dijit/layout/ContentPane","dojox/form/BusyButton","prcommon2/web/WebButton","dijit/layout/TabContainer","dijit/form/Textarea"],function(_3a4,_3a5,_3a6,_3a7,json,_3a8,_3a9,_3aa,_3ab,_3ac,lang,_3ad,Grid,_3ae,_3af,_3b0,_3b1){return _3a4("prcommon2.outlet.OutletSelectDetails",[_3a5,_3a7],{templateString:_3a6,constructor:function(){this._dialog=null;this._load_call_back=lang.hitch(this,this._load_call);this._costs=new _3b0({url:"/common/lookups?searchtype=outletprices"});this._languages=new _3b0({url:"/common/lookups?searchtype=languages&nofilter=1"});this._publishers=new _3b0({url:"/common/lookups?searchtype=publishers"});this.outletid="";},postCreate:function(){this.country.set("store",PRCOMMON.utils.stores.Countries());this.frequency.set("store",PRCOMMON.utils.stores.Frequency());this.prmax_outlettypeid.set("store",PRCOMMON.utils.stores.OutletTypes());this.cost.set("store",this._costs);this.language.set("store",this._languages);this.publisherid.set("store",this._publishers);this.www_show.set("source",this.www);this.facebook_show.set("source",this.facebook);this.twitter_show.set("source",this.twitter);this.instagram_show.set("source",this.instagram);this.inherited(arguments);},_setDialogAttr:function(_3b2){this._dialog=_3b2;},load:function(_3b3,mode){var url="/research/admin/outlets/research_outlet_edit_get";if(mode=="clippings"){url="/outlets/research_outlet_edit_get";}_3a8.post(url,_3a9.make_params({data:{outletid:_3b3}})).then(this._load_call_back);},_load_call:function(_3b4){this._dialog("show");if(_3b4.success=="OK"){var _3b5="";var _3b6="";var _3b7="";var _3b8="";if(_3b4.outlet.address.address1){_3b5=_3b4.outlet.address.address1;}if(_3b4.outlet.address.address2){_3b5+=", "+_3b4.outlet.address.address2;}if(_3b4.outlet.address.townname){_3b5+=", "+_3b4.outlet.address.townname;}if(_3b4.outlet.address.postcode){_3b5+=", "+_3b4.outlet.address.postcode;}if(_3b4.outlet.interests.data.length>0){for(var i=0;i<_3b4.outlet.interests.data.length;i++){_3b6=_3b6+_3b4.outlet.interests.data[i].interestname+", ";}_3b6=_3b6.substring(0,_3b6.length-2);}if(_3b4.outlet.coverage.length>0){for(var i=0;i<_3b4.outlet.coverage.length;i++){_3b7=_3b7+_3b4.outlet.coverage[i].geographicalname+", ";}_3b7=_3b7.substring(0,_3b7.length-2);}if(_3b4.outlet.serieschildren.length>0){for(var i=0;i<_3b4.outlet.serieschildren.length;i++){_3b8=_3b8+_3b4.outlet.serieschildren[i].outletname+", ";}_3b8=_3b8.substring(0,_3b8.length-2);}this.outletname.set("value",_3b4.outlet.outlet.outletname);this.www.set("value",_3b4.outlet.outlet.www);this.address.set("value",_3b5);this.country.set("value",_3b4.outlet.outlet.countryid);this.tel.set("value",_3b4.outlet.communications.tel);this.email.set("value",_3b4.outlet.communications.email);this.twitter.set("value",_3b4.outlet.communications.twitter);this.facebook.set("value",_3b4.outlet.communications.facebook);this.instagram.set("value",_3b4.outlet.communications.instagram);this.circulation.set("value",_3b4.outlet.outlet.circulation);this.frequency.set("value",_3b4.outlet.outlet.frequencyid);this.prmax_outlettypeid.set("value",_3b4.outlet.outlet.prmax_outlettypeid);this.cost.set("value",_3b4.outlet.outlet.outletpriceid);this.sqcm.set("value",_3b4.outlet.outlet.mp_sqcm);this.keywords.set("value",_3b6);this.publisherid.set("value",_3b4.outlet.outlet.publisherid);this.language.set("value",_3b4.outlet.languages.language1id);this.profile.set("value",_3b4.outlet.outlet.profile);if(_3b4.outlet.profile.profile!=null){this.editorialprofile.set("value",_3b4.outlet.profile.profile.editorialprofile);this.readership.set("value",_3b4.outlet.profile.profile.readership);this.nrsreadership.set("value",_3b4.outlet.profile.profile.nrsreadership);this.jicregreadership.set("value",_3b4.outlet.profile.profile.jicregreadership);this.broadcasttimes.set("value",_3b4.outlet.profile.profile.broadcasttimes);}this.coverage.set("value",_3b7);this.serieschildren.set("value",_3b8);}},_close:function(){if(this._dialog){this._dialog("hide");}this._clear();},_clear:function(){this.outletname.set("value","");this.www.set("value","");this.address.set("value","");this.country.set("value","");this.tel.set("value","");this.email.set("value","");this.twitter.set("value","");this.facebook.set("value","");this.instagram.set("value","");this.circulation.set("value","");this.frequency.set("value","");this.prmax_outlettypeid.set("value","");this.cost.set("value","");this.sqcm.set("value","");this.keywords.set("value","");this.publisherid.set("value","");this.language.set("value","");this.profile.set("value","");this.editorialprofile.set("value","");this.readership.set("value","");this.nrsreadership.set("value","");this.jicregreadership.set("value","");this.broadcasttimes.set("value","");this.coverage.set("value","");this.serieschildren.set("value","");}});});},"dojox/main":function(){define(["dojo/_base/kernel"],function(dojo){return dojo.dojox;});},"prcommon2/roles/Roles":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../roles/templates/Roles.html","prcommon2/search/std_search","dojo/_base/lang","dojo/dom-attr","dojo/dom-class","dojo/dom-style","dojo/request","ttl/utilities2"],function(_3b9,_3ba,_3bb,_3bc,lang,_3bd,_3be,_3bf,_3c0,_3c1){return _3b9("prcommon2.roles.Roles",[_3ba,_3bc],{templateString:_3bb,name:"",value:"",size:"7",startopen:false,searchmode:false,widgetsInTemplate:true,selectonly:true,orderbtns:true,constructor:function(){this.disabled=false;this._extended=false;this._load_selection_call=lang.hitch(this,this._load_selection);this.selectTimer=null;},postCreate:function(){dojo.connect(this.interest_list_select.domNode,"onkeyup",lang.hitch(this,this.interest_select_event));dojo.connect(this.interest_list,"onchange",lang.hitch(this,this.interest_update_selection));dojo.connect(this.interest_list,"ondblclick",lang.hitch(this,this.interest_select_dbl));if(this.startopen){_3bf.set(this.selectarea,"display","block");}else{_3bf.set(this.selectarea,"display","none");}if(this.orderbtns==false){_3be.add(this.up.domNode,"prmaxhidden");_3be.add(this.down.domNode,"prmaxhidden");}this.inherited(arguments);},clear:function(){this._clear_selection_box();this._clear_selected_box();this.interest_list_select.set("value","");this._get_selector(this._getValueAttr());this._selection_options();this.inherited(arguments);},_send_request:function(data){var _3c2={word:data};_3c0.post("/roles/listuserselection",_3c1.make_params({data:_3c2})).then(this._load_selection_call);},interest_select_event:function(){var data=this.interest_list_select.get("value");if(data.length>0){if(this.selectTimer){clearTimeout(this.selectTimer);this.selectTimer=null;}this.selectTimer=setTimeout(dojo.hitch(this,this._send_request,data),this.searchTime);}else{if(this.selectTimer){clearTimeout(this.selectTimer);this.selectTimer=null;}this._ClearSelectionBox();this._SelectionOptions();}},_load_selection:function(_3c3){this._clear_selection_box();for(var i=0;i<_3c3.data.length;++i){var _3c4=_3c3.data[i];this.interest_list.options[this.interest_list.options.length]=new Option(_3c4[0],_3c4[1]);}this._selection_options();},_clear_selection_box:function(){this.interest_list.options.length=0;},_clear_selected_box:function(){this.interest_select.length=0;},interest_update_selection:function(){this._selection_options();},interest_select_dbl:function(){this.interest_select_single();this._selection_options();},interest_select_all:function(){for(var c=0;c<this.interest_list.options.length;c++){var _3c5=this.interest_list.options[c];var _3c6=true;for(var c1=0;c1<this.interest_select.options.length;c1++){if(this.interest_select.options[c1].value==_3c5.value){_3c6=false;break;}}if(_3c6){this.interest_select.options[this.interest_select.options.length]=new Option(_3c5.text,_3c5.value);}}this._get_selector(this._getValueAttr());this.interest_list.options.length=0;this.interest_update_selection();},interest_select_single:function(){for(var c=0;c<this.interest_list.options.length;c++){var _3c7=this.interest_list.options[c];if(_3c7.selected){_3c7.selected=false;var _3c8=true;for(var c1=0;c1<this.interest_select.options.length;c1++){if(this.interest_select.options[c1].value==_3c7.value){_3c8=false;break;}}if(_3c8){this.interest_select.options[this.interest_select.options.length]=new Option(_3c7.text,_3c7.value);this._get_selector(this._getValueAttr());}}}},interest_remove_all:function(){this.interest_select.options.length=0;this.interest_update_selection();this._get_selector(this._getValueAttr());},interest_remove_single:function(){for(var c=0;c<this.interest_select.options.length;c++){if(this.interest_select.options[c].selected){this.interest_select.options[c]=null;}}this.interest_update_selection();this._get_selector(this._getValueAttr());},add_select:function(data){rolename=data.rolename;this.interest_select.options[this.interest_select.options.length]=new Option(data.rolename,data.prmaxroleid);},_setValueAttr:function(_3c9){this.clear();if(_3c9!=null){var data=_3c9.data;var open=false;if(data==null||data==undefined){data=_3c9;}for(var key in data){var _3ca=data[key];var _3cb="rolename";if(_3ca.rolename==undefined||_3ca.rolename==null){_3cb="prmaxrole";}this.interest_select.options[this.interest_select.options.length]=new Option(_3ca[_3cb],_3ca.prmaxroleid);opne=true;}if(open){this.make_open();}this._get_selector(this._getValueAttr());}},_getValueAttr:function(){var data=Array();for(var c=0;c<this.interest_select.options.length;c++){if(this._extended){data[c]={interestid:parseInt(this.interest_select.options[c].value),interestname:this.interest_select.options[c].text};}else{data[c]=parseInt(this.interest_select.options[c].value);}}var obj=this._capture_extended_content({data:data});if(this._extended){return obj;}else{var data=data.length>0?dojo.toJson(obj):"";this.value=data;return data;}},_getCountAttr:function(){return this.interest_select.options.length;},_setExtendedAttr:function(_3cc){this._extended=_3cc;},change_filter:function(){this.interest_select();},_selection_options:function(){this.button_all.set("disabled",this.interest_list.length?false:true);this.button_single.set("disabled",this.interest_list.selectedIndex!=-1?false:true);this.button_del_all.set("disabled",this.interest_select.length?false:true);this.button_del_single.set("disabled",this.interest_select.selectedIndex!=-1?false:true);this._up_down();},_up_down:function(){var _3cd=true;var _3ce=true;if(this.interest_select.options.length>1&&this.interest_select.selectedIndex!=-1){if(this.interest_select.selectedIndex>0){_3cd=false;}if(this.interest_select.selectedIndex<this.interest_select.options.length-1){_3ce=false;}}this.up.set("disabled",_3cd);this.down.set("disabled",_3ce);},_up_button:function(){var _3cf=this.interest_select.selectedIndex;if(_3cf!=-1){var temp=this.interest_select.options[_3cf];var _3d0=this.interest_select.options[_3cf-1];this.interest_select.options[_3cf-1]=new Option(temp.innerHTML,temp.value,true);this.interest_select.options[_3cf]=new Option(_3d0.innerHTML,_3d0.value);this._up_down();}},_down_button:function(){var _3d1=this.interest_select.selectedIndex;if(_3d1!=-1){var temp=this.interest_select.options[_3d1];var _3d2=this.interest_select.options[_3d1+1];this.interest_select.options[_3d1+1]=new Option(temp.innerHTML,temp.value,true);this.interest_select.options[_3d1]=new Option(_3d2.innerHTML,_3d2.value);this._up_down();}},_capture_extended_content:function(data){var _3d3={logic:2};if(this.search_only.get("checked")){_3d3.search_only=true;}return dojo.mixin(data,_3d3);},_setDisabledAttr:function(_3d4){this.disabled=_3d4;},_getDisabledAttr:function(){return this.disabled;},_get_selector:function(){if(this.selectonly==false){this.inherited(arguments);}},_focus:function(){this.interest_list_select.focus();},_toggle:function(){this.inherited(arguments);}});});},"dgrid/tree":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/Deferred","dojo/query","dojo/on","dojo/aspect","./util/has-css3","./Grid","dojo/has!touch?./util/touch","put-selector/put"],function(_3d5,_3d6,_3d7,_3d8,on,_3d9,has,Grid,_3da,put){function _3db(_3dc,_3dd,_3de,_3df){var dir=this.grid.isRTL?"right":"left",cls=".dgrid-expando-icon",node;if(_3dd){cls+=".ui-icon.ui-icon-triangle-1-"+(_3de?"se":"e");}node=put("div"+cls+"[style=margin-"+dir+": "+(_3dc*(this.indentWidth||9))+"px; float: "+dir+"]");node.innerHTML="&nbsp;";return node;};function _3e0(_3e1){var _3e2=this,_3e3=this.style.height;if(_3e3){this.style.display=_3e3=="0px"?"none":"block";}if(_3e1){put(this,".dgrid-tree-resetting");setTimeout(function(){put(_3e2,"!dgrid-tree-resetting");});}this.style.height="";};function tree(_3e4){var _3e5=_3e4.renderCell||Grid.defaultRenderCell;var _3e6,_3e7;if(!_3e4){_3e4={};}_3e4.shouldExpand=_3e4.shouldExpand||function(row,_3e8,_3e9){return _3e9;};_3d9.after(_3e4,"init",function(){var grid=_3e4.grid,_3ea=".dgrid-content .dgrid-column-"+_3e4.id,_3eb=[];grid.cleanEmptyObservers=false;if(!grid.store){throw new Error("dgrid tree column plugin requires a store to operate.");}if(!_3e4.renderExpando){_3e4.renderExpando=_3db;}_3eb.push(grid.on(_3e4.expandOn||".dgrid-expando-icon:click,"+_3ea+":dblclick,"+_3ea+":keydown",function(_3ec){var row=grid.row(_3ec);if((!grid.store.mayHaveChildren||grid.store.mayHaveChildren(row.data))&&(_3ec.type!="keydown"||_3ec.keyCode==32)&&!(_3ec.type=="dblclick"&&_3e7&&_3e7.count>1&&row.id==_3e7.id&&_3ec.target.className.indexOf("dgrid-expando-icon")>-1)){grid.expand(row);}if(_3ec.target.className.indexOf("dgrid-expando-icon")>-1){if(_3e7&&_3e7.id==grid.row(_3ec).id){_3e7.count++;}else{_3e7={id:grid.row(_3ec).id,count:1};}}}));if(has("touch")){_3eb.push(grid.on(_3da.selector(_3ea,_3da.dbltap),function(){grid.expand(this);}));}if(!grid._expanded){grid._expanded={};}_3eb.push(_3d9.after(grid,"insertRow",function(_3ed){var row=this.row(_3ed),_3ee=_3e4.shouldExpand(row,_3e6,this._expanded[row.id]);if(_3ee){this.expand(_3ed,true,true);}return _3ed;}));_3eb.push(_3d9.before(grid,"removeRow",function(_3ef,_3f0){var _3f1=_3ef.connected;if(_3f1){_3d8(">.dgrid-row",_3f1).forEach(function(_3f2){grid.removeRow(_3f2,true);});if(!_3f0){put(_3f1,"!");}}}));if(_3e4.collapseOnRefresh){_3eb.push(_3d9.after(grid,"cleanup",function(){this._expanded={};}));}grid._calcRowHeight=function(_3f3){var _3f4=_3f3.connected;return _3f3.offsetHeight+(_3f4?_3f4.offsetHeight:0);};grid.expand=function(_3f5,_3f6,_3f7){var row=_3f5.element?_3f5:grid.row(_3f5),_3f8=has("transitionend"),dfd=new _3d7(),_3f9=dfd.promise;dfd.resolve();_3f5=row.element;_3f5=_3f5.className.indexOf("dgrid-expando-icon")>-1?_3f5:_3d8(".dgrid-expando-icon",_3f5)[0];_3f7=_3f7||_3e4.enableTransitions===false;if(_3f5&&_3f5.mayHaveChildren&&(_3f7||_3f6!==!!this._expanded[row.id])){var _3fa=_3f6===undefined?!this._expanded[row.id]:_3f6;put(_3f5,".ui-icon-triangle-1-"+(_3fa?"se":"e")+"!ui-icon-triangle-1-"+(_3fa?"e":"se"));var _3fb=row.element,_3fc=_3fb.connected,_3fd,_3fe,_3ff={originalQuery:this.query};if(!_3fc){_3fc=_3ff.container=_3fb.connected=put(_3fb,"+div.dgrid-tree-container");var _400=function(_401){return grid.store.getChildren(row.data,_401);};if(_3e4.allowDuplicates){_3ff.parentId=row.id;}if("level" in _3f5){_400.level=_3f5.level;}_3f9=_3f9.then(function(){if(grid.renderQuery){return grid.renderQuery(_400,_3ff);}var _402=put(_3fc,"div");var rows=grid.renderArray(_400(_3ff),_402,"level" in _400?{queryLevel:_400.level}:{});_3d7.when(rows,function(){put(_402,"!");});return rows;});if(_3f8){on(_3fc,_3f8,_3e0);}else{_3e0.call(_3fc);}}_3fc.hidden=!_3fa;_3fd=_3fc.style;if(!_3f8||_3f7){_3fd.display=_3fa?"block":"none";_3fd.height="";}else{if(_3fa){_3fd.display="block";_3fe=_3fc.scrollHeight;_3fd.height="0px";}else{put(_3fc,".dgrid-tree-resetting");_3fd.height=_3fc.scrollHeight+"px";}setTimeout(function(){put(_3fc,"!dgrid-tree-resetting");_3fd.height=_3fa?(_3fe?_3fe+"px":"auto"):"0px";});}if(_3fa){this._expanded[row.id]=true;}else{delete this._expanded[row.id];}}return _3f9;};_3d9.after(_3e4,"destroy",function(){_3d6.forEach(_3eb,function(l){l.remove();});delete grid.expand;delete grid._calcRowHeight;});});_3e4.renderCell=function(_403,_404,td,_405){var grid=_3e4.grid,_406=Number(_405&&_405.queryLevel)+1,_407=!grid.store.mayHaveChildren||grid.store.mayHaveChildren(_403),_408=_405.parentId,_409,node;_406=_3e6=isNaN(_406)?0:_406;_409=_3e4.renderExpando(_406,_407,grid._expanded[(_408?_408+"-":"")+grid.store.getIdentity(_403)],_403);_409.level=_406;_409.mayHaveChildren=_407;node=_3e5.call(_3e4,_403,_404,td,_405);if(node&&node.nodeType){put(td,_409);put(td,node);}else{td.insertBefore(_409,td.firstChild);}};return _3e4;};tree.defaultRenderExpando=_3db;return tree;});},"dijit/layout/LayoutContainer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-style","dojo/_base/lang","../_WidgetBase","./_LayoutWidget","./utils"],function(_40a,_40b,_40c,_40d,lang,_40e,_40f,_410){var _411=_40b("dijit.layout.LayoutContainer",_40f,{design:"headline",baseClass:"dijitLayoutContainer",startup:function(){if(this._started){return;}_40a.forEach(this.getChildren(),this._setupChild,this);this.inherited(arguments);},_setupChild:function(_412){this.inherited(arguments);var _413=_412.region;if(_413){_40c.add(_412.domNode,this.baseClass+"Pane");}},_getOrderedChildren:function(){var _414=_40a.map(this.getChildren(),function(_415,idx){return {pane:_415,weight:[_415.region=="center"?Infinity:0,_415.layoutPriority,(this.design=="sidebar"?1:-1)*(/top|bottom/.test(_415.region)?1:-1),idx]};},this);_414.sort(function(a,b){var aw=a.weight,bw=b.weight;for(var i=0;i<aw.length;i++){if(aw[i]!=bw[i]){return aw[i]-bw[i];}}return 0;});return _40a.map(_414,function(w){return w.pane;});},layout:function(){_410.layoutChildren(this.domNode,this._contentBox,this._getOrderedChildren());},addChild:function(_416,_417){this.inherited(arguments);if(this._started){this.layout();}},removeChild:function(_418){this.inherited(arguments);if(this._started){this.layout();}_40c.remove(_418.domNode,this.baseClass+"Pane");_40d.set(_418.domNode,{top:"auto",bottom:"auto",left:"auto",right:"auto",position:"static"});_40d.set(_418.domNode,/top|bottom/.test(_418.region)?"width":"height","auto");}});_411.ChildWidgetProperties={region:"",layoutAlign:"",layoutPriority:0};lang.extend(_40e,_411.ChildWidgetProperties);return _411;});},"dijit/Tooltip":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/fx","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","./_base/manager","./place","./_Widget","./_TemplatedMixin","./BackgroundIframe","dojo/text!./templates/Tooltip.html","./main"],function(_419,_41a,fx,dom,_41b,_41c,_41d,lang,_41e,on,has,_41f,_420,_421,_422,_423,_424,_425){var _426=_41a("dijit._MasterTooltip",[_421,_422],{duration:_41f.defaultDuration,templateString:_424,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.bgIframe=new _423(this.domNode);this.fadeIn=fx.fadeIn({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onShow")});this.fadeOut=fx.fadeOut({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onHide")});},show:function(_427,_428,_429,rtl,_42a,_42b,_42c){if(this.aroundNode&&this.aroundNode===_428&&this.containerNode.innerHTML==_427){return;}if(this.fadeOut.status()=="playing"){this._onDeck=arguments;return;}this.containerNode.innerHTML=_427;if(_42a){this.set("textDir",_42a);}this.containerNode.align=rtl?"right":"left";var pos=_420.around(this.domNode,_428,_429&&_429.length?_429:_42d.defaultPosition,!rtl,lang.hitch(this,"orient"));var _42e=pos.aroundNodePos;if(pos.corner.charAt(0)=="M"&&pos.aroundCorner.charAt(0)=="M"){this.connectorNode.style.top=_42e.y+((_42e.h-this.connectorNode.offsetHeight)>>1)-pos.y+"px";this.connectorNode.style.left="";}else{if(pos.corner.charAt(1)=="M"&&pos.aroundCorner.charAt(1)=="M"){this.connectorNode.style.left=_42e.x+((_42e.w-this.connectorNode.offsetWidth)>>1)-pos.x+"px";}else{this.connectorNode.style.left="";this.connectorNode.style.top="";}}_41d.set(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=true;this.aroundNode=_428;this.onMouseEnter=_42b||noop;this.onMouseLeave=_42c||noop;},orient:function(node,_42f,_430,_431,_432){this.connectorNode.style.top="";var _433=_431.h,_434=_431.w;node.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_42f+"-"+_430];this.domNode.style.width="auto";var size=_41c.position(this.domNode);if(has("ie")||has("trident")){size.w+=2;}var _435=Math.min((Math.max(_434,1)),size.w);_41c.setMarginBox(this.domNode,{w:_435});if(_430.charAt(0)=="B"&&_42f.charAt(0)=="B"){var bb=_41c.position(node);var _436=this.connectorNode.offsetHeight;if(bb.h>_433){var _437=_433-((_432.h+_436)>>1);this.connectorNode.style.top=_437+"px";this.connectorNode.style.bottom="";}else{this.connectorNode.style.bottom=Math.min(Math.max(_432.h/2-_436/2,0),bb.h-_436)+"px";this.connectorNode.style.top="";}}else{this.connectorNode.style.top="";this.connectorNode.style.bottom="";}return Math.max(0,size.w-_434);},_onShow:function(){if(has("ie")){this.domNode.style.filter="";}},hide:function(_438){if(this._onDeck&&this._onDeck[1]==_438){this._onDeck=null;}else{if(this.aroundNode===_438){this.fadeIn.stop();this.isShowingNow=false;this.aroundNode=null;this.fadeOut.play();}else{}}this.onMouseEnter=this.onMouseLeave=noop;},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";if(this._onDeck){this.show.apply(this,this._onDeck);this._onDeck=null;}}});if(has("dojo-bidi")){_426.extend({_setAutoTextDir:function(node){this.applyTextDir(node);_419.forEach(node.children,function(_439){this._setAutoTextDir(_439);},this);},_setTextDirAttr:function(_43a){this._set("textDir",_43a);if(_43a=="auto"){this._setAutoTextDir(this.containerNode);}else{this.containerNode.dir=this.textDir;}}});}_425.showTooltip=function(_43b,_43c,_43d,rtl,_43e,_43f,_440){if(_43d){_43d=_419.map(_43d,function(val){return {after:"after-centered",before:"before-centered"}[val]||val;});}if(!_42d._masterTT){_425._masterTT=_42d._masterTT=new _426();}return _42d._masterTT.show(_43b,_43c,_43d,rtl,_43e,_43f,_440);};_425.hideTooltip=function(_441){return _42d._masterTT&&_42d._masterTT.hide(_441);};var _442="DORMANT",_443="SHOW TIMER",_444="SHOWING",_445="HIDE TIMER";function noop(){};var _42d=_41a("dijit.Tooltip",_421,{label:"",showDelay:400,hideDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(_446){_419.forEach(this._connections||[],function(_447){_419.forEach(_447,function(_448){_448.remove();});},this);this._connectIds=_419.filter(lang.isArrayLike(_446)?_446:(_446?[_446]:[]),function(id){return dom.byId(id,this.ownerDocument);},this);this._connections=_419.map(this._connectIds,function(id){var node=dom.byId(id,this.ownerDocument),_449=this.selector,_44a=_449?function(_44b){return on.selector(_449,_44b);}:function(_44c){return _44c;},self=this;return [on(node,_44a(_41e.enter),function(){self._onHover(this);}),on(node,_44a("focusin"),function(){self._onHover(this);}),on(node,_44a(_41e.leave),lang.hitch(self,"_onUnHover")),on(node,_44a("focusout"),lang.hitch(self,"set","state",_442))];},this);this._set("connectId",_446);},addTarget:function(node){var id=node.id||node;if(_419.indexOf(this._connectIds,id)==-1){this.set("connectId",this._connectIds.concat(id));}},removeTarget:function(node){var id=node.id||node,idx=_419.indexOf(this._connectIds,id);if(idx>=0){this._connectIds.splice(idx,1);this.set("connectId",this._connectIds);}},buildRendering:function(){this.inherited(arguments);_41b.add(this.domNode,"dijitTooltipData");},startup:function(){this.inherited(arguments);var ids=this.connectId;_419.forEach(lang.isArrayLike(ids)?ids:[ids],this.addTarget,this);},getContent:function(node){return this.label||this.domNode.innerHTML;},state:_442,_setStateAttr:function(val){if(this.state==val||(val==_443&&this.state==_444)||(val==_445&&this.state==_442)){return;}if(this._hideTimer){this._hideTimer.remove();delete this._hideTimer;}if(this._showTimer){this._showTimer.remove();delete this._showTimer;}switch(val){case _442:if(this._connectNode){_42d.hide(this._connectNode);delete this._connectNode;this.onHide();}break;case _443:if(this.state!=_444){this._showTimer=this.defer(function(){this.set("state",_444);},this.showDelay);}break;case _444:var _44d=this.getContent(this._connectNode);if(!_44d){this.set("state",_442);return;}_42d.show(_44d,this._connectNode,this.position,!this.isLeftToRight(),this.textDir,lang.hitch(this,"set","state",_444),lang.hitch(this,"set","state",_445));this.onShow(this._connectNode,this.position);break;case _445:this._hideTimer=this.defer(function(){this.set("state",_442);},this.hideDelay);break;}this._set("state",val);},_onHover:function(_44e){if(this._connectNode&&_44e!=this._connectNode){this.set("state",_442);}this._connectNode=_44e;this.set("state",_443);},_onUnHover:function(_44f){this.set("state",_445);},open:function(_450){this.set("state",_442);this._connectNode=_450;this.set("state",_444);},close:function(){this.set("state",_442);},onShow:function(){},onHide:function(){},destroy:function(){this.set("state",_442);_419.forEach(this._connections||[],function(_451){_419.forEach(_451,function(_452){_452.remove();});},this);this.inherited(arguments);}});_42d._MasterTooltip=_426;_42d.show=_425.showTooltip;_42d.hide=_425.hideTooltip;_42d.defaultPosition=["after-centered","before-centered"];return _42d;});},"dijit/dijit":function(){define(["./main","./_base","dojo/parser","./_Widget","./_TemplatedMixin","./_Container","./layout/_LayoutWidget","./form/_FormWidget","./form/_FormValueWidget"],function(_453){return _453;});},"dijit/form/DropDownButton":function(){define(["dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/query","../registry","../popup","./Button","../_Container","../_HasDropDown","dojo/text!./templates/DropDownButton.html","../a11yclick"],function(_454,_455,lang,_456,_457,_458,_459,_45a,_45b,_45c){return _454("dijit.form.DropDownButton",[_459,_45a,_45b],{baseClass:"dijitDropDownButton",templateString:_45c,_fillContent:function(){var _45d=this.srcNodeRef;var dest=this.containerNode;if(_45d&&dest){while(_45d.hasChildNodes()){var _45e=_45d.firstChild;if(_45e.hasAttribute&&(_45e.hasAttribute("data-dojo-type")||_45e.hasAttribute("dojoType")||_45e.hasAttribute("data-"+_455._scopeName+"-type")||_45e.hasAttribute(_455._scopeName+"Type"))){this.dropDownContainer=this.ownerDocument.createElement("div");this.dropDownContainer.appendChild(_45e);}else{dest.appendChild(_45e);}}}},startup:function(){if(this._started){return;}if(!this.dropDown&&this.dropDownContainer){this.dropDown=_457.byNode(this.dropDownContainer.firstChild);delete this.dropDownContainer;}if(this.dropDown){_458.hide(this.dropDown);}this.inherited(arguments);},isLoaded:function(){var _45f=this.dropDown;return (!!_45f&&(!_45f.href||_45f.isLoaded));},loadDropDown:function(_460){var _461=this.dropDown;var _462=_461.on("load",lang.hitch(this,function(){_462.remove();_460();}));_461.refresh();},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown;}});});},"dijit/form/_FormValueMixin":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/on","./_FormWidgetMixin"],function(_463,_464,keys,lang,on,_465){return _463("dijit.form._FormValueMixin",_465,{readOnly:false,_setReadOnlyAttr:function(_466){_464.set(this.focusNode,"readOnly",_466);this._set("readOnly",_466);},postCreate:function(){this.inherited(arguments);if(this._resetValue===undefined){this._lastValueReported=this._resetValue=this.value;}},_setValueAttr:function(_467,_468){this._handleOnChange(_467,_468);},_handleOnChange:function(_469,_46a){this._set("value",_469);this.inherited(arguments);},undo:function(){this._setValueAttr(this._lastValueReported,false);},reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);}});});},"dijit/form/_FormWidgetMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","dojo/window","../a11y"],function(_46b,_46c,_46d,_46e,lang,_46f,on,has,_470,a11y){return _46c("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:false,intermediateChanges:false,scrollOnFocus:true,_setIdAttr:"focusNode",_setDisabledAttr:function(_471){this._set("disabled",_471);if(/^(button|input|select|textarea|optgroup|option|fieldset)$/i.test(this.focusNode.tagName)){_46d.set(this.focusNode,"disabled",_471);}else{this.focusNode.setAttribute("aria-disabled",_471?"true":"false");}if(this.valueNode){_46d.set(this.valueNode,"disabled",_471);}if(_471){this._set("hovering",false);this._set("active",false);var _472="tabIndex" in this.attributeMap?this.attributeMap.tabIndex:("_setTabIndexAttr" in this)?this._setTabIndexAttr:"focusNode";_46b.forEach(lang.isArray(_472)?_472:[_472],function(_473){var node=this[_473];if(has("webkit")||a11y.hasDefaultTabStop(node)){node.setAttribute("tabIndex","-1");}else{node.removeAttribute("tabIndex");}},this);}else{if(this.tabIndex!=""){this.set("tabIndex",this.tabIndex);}}},_onFocus:function(by){if(by=="mouse"&&this.isFocusable()){var _474=this.own(on(this.focusNode,"focus",function(){_475.remove();_474.remove();}))[0];var _476=has("pointer-events")?"pointerup":has("MSPointer")?"MSPointerUp":has("touch-events")?"touchend, mouseup":"mouseup";var _475=this.own(on(this.ownerDocumentBody,_476,lang.hitch(this,function(evt){_475.remove();_474.remove();if(this.focused){if(evt.type=="touchend"){this.defer("focus");}else{this.focus();}}})))[0];}if(this.scrollOnFocus){this.defer(function(){_470.scrollIntoView(this.domNode);});}this.inherited(arguments);},isFocusable:function(){return !this.disabled&&this.focusNode&&(_46e.get(this.domNode,"display")!="none");},focus:function(){if(!this.disabled&&this.focusNode.focus){try{this.focusNode.focus();}catch(e){}}},compare:function(val1,val2){if(typeof val1=="number"&&typeof val2=="number"){return (isNaN(val1)&&isNaN(val2))?0:val1-val2;}else{if(val1>val2){return 1;}else{if(val1<val2){return -1;}else{return 0;}}}},onChange:function(){},_onChangeActive:false,_handleOnChange:function(_477,_478){if(this._lastValueReported==undefined&&(_478===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_477;}this._pendingOnChange=this._pendingOnChange||(typeof _477!=typeof this._lastValueReported)||(this.compare(_477,this._lastValueReported)!=0);if((this.intermediateChanges||_478||_478===undefined)&&this._pendingOnChange){this._lastValueReported=_477;this._pendingOnChange=false;if(this._onChangeActive){if(this._onChangeHandle){this._onChangeHandle.remove();}this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(_477);});}}},create:function(){this.inherited(arguments);this._onChangeActive=true;},destroy:function(){if(this._onChangeHandle){this._onChangeHandle.remove();this.onChange(this._lastValueReported);}this.inherited(arguments);}});});},"prcommon2/interests/Interests":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../interests/templates/Interests.html","prcommon2/search/std_search","dojo/json","dojo/request","ttl/utilities2","dijit/popup","dojo/dom-class","dojo/dom-style","dojo/_base/lang","dojo/dom-attr","dojo/on","prcommon2/search/SearchCount","dijit/form/TextBox","dijit/form/FilteringSelect","dijit/form/CheckBox","dijit/form/Button","dijit/Tooltip","dijit/Dialog"],function(_479,_47a,_47b,_47c,json,_47d,_47e,_47f,_480,_481,lang,_482,on){return _479("prcommon2.interests.Interests",[_47a,_47c],{templateString:_47b,name:"",value:"",displaytitle:"Keywords",search:"",size:"7",testmode:false,selectonly:false,startopen:false,interesttypeid:1,nofilter:false,restrict:1,compact:false,showhelp:false,constructor:function(){this.disabled=false;this._extended=false;this._load_selection_call=lang.hitch(this,this._load_selection);this.interest_timer=null;},statup2:function(){this.master_type.set("value",-1);this.inherited(arguments);},postCreate:function(){this.master_type.set("store",PRCOMMON.utils.stores.interest_sections());this.master_type.set("value",-1);on(this.interest_list_select.domNode,"keyup",lang.hitch(this,this._interest_select));on(this.interest_list,"change",lang.hitch(this,this.interest_update_selection));on(this.interest_list,"dblclick",lang.hitch(this,this.interest_select_dbl));_482.set(this.andorlabel,"for",this.andor.id);if(this.selectonly==true){_481.set(this.andor.domNode,"display","None");_481.set(this.countnode.domNode,"display","None");_481.set(this.andorlabel,"display","None");}else{this.andor_tip.set("connectId",this.andor.id);}if(this.nofilter){_481.set(this.master_type.domNode,"display","none");}if(this.startopen==true){_481.set(this.togglectrl,"display","none");_481.set(this.selectarea,"display","block");}if(this.showhelp==true){_480.remove(this.show_help_btn,"prmaxhidden");}if(this.compact==true){_480.add(this.button_all.domNode,"prmaxhidden");_480.add(this.button_del_all.domNode,"prmaxhidden");_480.add(this.button_all_line,"prmaxhidden");_480.add(this.button_del_all_line,"prmaxhidden");}this.inherited(arguments);},clear:function(){this._clear_selection_box();this._clear_selected_box();this.master_type.set("value",-1);this.interest_list_select.set("value","");this._get_selector(this._getValueAttr());this._selection_options();if(this.selectonly==false){this.inherited(arguments);}},clear_selection:function(){this._clear_selection_box();this.interest_list_select.set("value","");this._get_selector(this._getValueAttr());},_send_request:function(data,_483){this._transactionid=PRCOMMON.utils.uuid.createUUID();_47d.post("/interests/listuserselection",_47e.make_params({data:{word:data,filter:_483,logic:this.andor.get("value"),interesttypeid:this.interesttypeid,keytypeid:this.keytypeid,restrict:this.restrict,transactionid:this._transactionid}})).then(this._load_selection_call);},_interest_select:function(p1,_484){var data=this.interest_list_select.get("value");var _485=this.master_type.get("value");if(_484!=null){data=_484;}if(_485=="-1"&&data=="*"){data="";}if(data.length>0){if(this.interest_timer){clearTimeout(this.interest_timer);this.interest_timer=null;}this.interest_timer=setTimeout(lang.hitch(this,this._send_request,data,_485),this.searchTime);}else{this.interest_timer=null;this._clear_selection_box();this._selection_options();}},_load_selection:function(_486){if(this._transactionid==_486.transactionid){this._clear_selection_box();for(var i=0;i<_486.data.length;++i){var _487=_486.data[i];this.interest_list.options[this.interest_list.options.length]=new Option(_487[0],_487[1]);}this._selection_options();}},_clear_selection_box:function(){this.interest_list.options.length=0;},_clear_selected_box:function(){this.interest_select.length=0;},and_or:function(){this._get_selector(this._getValueAttr(),true);},interest_update_selection:function(){this._selection_options();},interest_select_dbl:function(){this.interest_select_single();this._selection_options();},interest_select_all:function(){for(var c=0;c<this.interest_list.options.length;c++){var _488=this.interest_list.options[c];var _489=true;for(var c1=0;c1<this.interest_select.options.length;c1++){if(this.interest_select.options[c1].value==_488.value){_489=false;break;}}if(_489){this.interest_select.options[this.interest_select.options.length]=new Option(_488.text,_488.value);}}this._get_selector(this._getValueAttr());this.interest_list.options.length=0;this.interest_update_selection();},interest_select_single:function(){for(var c=0;c<this.interest_list.options.length;c++){var _48a=this.interest_list.options[c];if(_48a.selected){_48a.selected=false;var _48b=true;for(var c1=0;c1<this.interest_select.options.length;c1++){if(this.interest_select.options[c1].value==_48a.value){_48b=false;break;}}if(_48b){this.interest_select.options[this.interest_select.options.length]=new Option(_48a.text,_48a.value);this._get_selector(this._getValueAttr());}}}},interest_remove_all:function(){this.interest_select.options.length=0;this.interest_update_selection();this._get_selector(this._getValueAttr());},interest_remove_single:function(){for(var c=0;c<this.interest_select.options.length;c++){if(this.interest_select.options[c].selected){this.interest_select.options[c]=null;}}this.interest_update_selection();this._get_selector(this._getValueAttr());},add_select:function(data){this.interest_select.options[this.interest_select.options.length]=new Option(data.interestname,data.interestid);},_setValueAttr:function(_48c){this.clear();if(_48c!=null){var data=_48c.data;var open=false;if(data==null||data==undefined){data=_48c;}for(var key in data){var _48d=data[key];this.interest_select.options[this.interest_select.options.length]=new Option(_48d.interestname,_48d.interestid);open=true;}if(open){this.make_open();}this._get_selector(this._getValueAttr());}},_getValueAttr:function(){var data=Array();for(var c=0;c<this.interest_select.options.length;c++){if(this._extended){data[c]={interestid:parseInt(this.interest_select.options[c].value),interestname:this.interest_select.options[c].text};}else{data[c]=parseInt(this.interest_select.options[c].value);}}var obj={data:data,logic:this.andor.get("value")};if(this._extended){return obj;}else{var data=data.length>0?json.stringify(obj):"";this.value=data;return data;}},_getCountAttr:function(){return this.interest_select.options.length;},_setExtendedAttr:function(_48e){this._extended=_48e;},change_filter:function(){this._interest_select(null,"*");},_selection_options:function(){this.button_all.set("disabled",this.interest_list.length?false:true);this.button_single.set("disabled",this.interest_list.selectedIndex!=-1?false:true);this.button_del_all.set("disabled",this.interest_select.length?false:true);this.button_del_single.set("disabled",this.interest_select.selectedIndex!=-1?false:true);},_capture_extended_content:function(data){var _48f=this.andor.get("value");return lang.mixin(data,{logic:_48f});},_setDisabledAttr:function(_490){this.disabled=_490;},_getDisabledAttr:function(){return this.disabled;},_get_selector:function(){if(this.selectonly==false){this.inherited(arguments);}},_focus:function(){this.interest_list_select.focus();},_toggle:function(){if(this.open==false&&(this.master_type.get("value")==null||this.master_type.get("value").length==0)){this.master_type.set("value",-1);}this.inherited(arguments);},_show_help:function(){this.show_help_dialog.show();},_hide_help:function(){this.show_help_dialog.hide();}});});},"dgrid/TouchScroll":function(){define(["dojo/_base/declare","dojo/on","./util/touch","./util/has-css3","put-selector/put","xstyle/css!./css/TouchScroll.css"],function(_491,on,_492,has,put){var _493=50,_494=30,_495={},_496={},_497=1,_498=8,_499=/^translate(?:3d)?\((-?\d+)(?:\.\d*)?(?:px)?, (-?\d+)/,_49a=/^matrix\(1, 0, 0, 1, (-?\d+)(?:\.\d*)?(?:px)?, (-?\d+)/,_49b=has("css-transitions"),_49c=has("transitionend"),_49d=has("css-transforms"),_49e=has("css-transforms3d"),_49f,_4a0,_4a1,_4a2,_4a3;if(_49e){_4a2="translate3d(";_4a3=",0)";}else{if(_49d){_4a2="translate(";_4a3=")";}}if(!_49b||!_4a2){return function(){};}_4a1=_49e||_49d;_4a1=_4a1===true?"transform":_4a1+"Transform";_4a0=_49b===true?"transition":_49b+"Transition";_49f=_49d===true?"":"-"+_49d.toLowerCase()+"-";function _4a4(_4a5,curr){var node=_4a5.touchNode,_4a6=node.parentNode,_4a7=_4a6.offsetWidth-_498,_4a8=_4a6.offsetHeight-_498,_4a9=curr.scrollWidth=node.scrollWidth,_4aa=curr.scrollHeight=node.scrollHeight,_4ab=curr.parentWidth=_4a6.offsetWidth,_4ac=curr.parentHeight=_4a6.offsetHeight,_4ad;if(_4a9>_4ab){if(!_4a5._scrollbarXNode){_4ad=put(_4a6,"div.touchscroll-x");}_4ad=_4a5._scrollbarXNode=_4a5._scrollbarXNode||put(_4ad,"div.touchscroll-bar");_4ad.style.width=_4a7*_4a7/_4a9+"px";_4ad.style.left=node.offsetLeft+"px";put(_4a6,".touchscroll-scrollable-x");curr.scrollableX=true;}else{put(_4a6,"!touchscroll-scrollable-x");}if(_4aa>_4ac){if(!_4a5._scrollbarYNode){_4ad=put(_4a6,"div.touchscroll-y");}_4ad=_4a5._scrollbarYNode=_4a5._scrollbarYNode||put(_4ad,"div.touchscroll-bar");_4ad.style.height=_4a8*_4a8/_4aa+"px";_4ad.style.top=node.offsetTop+"px";put(_4a6,".touchscroll-scrollable-y");curr.scrollableY=true;}else{put(_4a6,"!touchscroll-scrollable-y");}put(_4a6,"!touchscroll-fadeout");};function _4ae(_4af,_4b0){var node=_4af.touchNode,curr=_495[_4af.id],pos,hasX,hasY,x,y;if(typeof _4b0!=="object"){x=_4b0;y=arguments[2];_4b0=arguments[3];hasX=hasY=true;}else{hasX="x" in _4b0;hasY="y" in _4b0;if(!hasX||!hasY){pos=_4af.getScrollPosition();}x=hasX?_4b0.x:pos.x;y=hasY?_4b0.y:pos.y;}node.style[_4a1]=_4a2+-x+"px,"+-y+"px"+_4a3;if(curr&&hasX&&_4af._scrollbarXNode){_4af._scrollbarXNode.style[_4a1]=_4a2+(x*curr.parentWidth/curr.scrollWidth)+"px,0"+_4a3;}if(curr&&hasY&&_4af._scrollbarYNode){_4af._scrollbarYNode.style[_4a1]=_4a2+"0,"+(y*curr.parentHeight/curr.scrollHeight)+"px"+_4a3;}on.emit(_4af.touchNode.parentNode,"scroll",{scrollLeft:x,scrollTop:y});};function _4b1(_4b2){if(_495[_4b2.id]){return _49a.exec(window.getComputedStyle(_4b2.touchNode)[_4a1]);}return _499.exec(_4b2.touchNode.style[_4a1]);};function _4b3(_4b4){var _4b5=this.widget,_4b6=[this.node,_4b5._scrollbarXNode,_4b5._scrollbarYNode],i=_4b6.length;if(this.timer){clearTimeout(this.timer);this.timer=null;}if(this.transitionHandler){this.transitionHandler.remove();}while(i--){if(_4b6[i]){_4b6[i].style[_4a0+"Duration"]="0";}}if(!_4b4||!_4b4.preserveScrollbars){put(this.node.parentNode,".touchscroll-fadeout");}delete this.resetEffects;};function _4b7(evt){var _4b8=evt.widget,node=_4b8.touchNode,id=_4b8.id,posX=0,posY=0,_4b9,_4ba,curr;if(_492.countCurrentTouches(evt,node)!==_4b8.touchesToScroll){return;}_4ba=_4b1(_4b8);if(_4ba){posX=+_4ba[1];posY=+_4ba[2];}if((curr=_495[id])){if(curr.resetEffects){curr.resetEffects({preserveScrollbars:true});}node.style[_4a1]=_4a2+posX+"px,"+posY+"px"+_4a3;_496[id]=curr;}_4b9=evt.targetTouches[0];curr=_495[id]={widget:_4b8,node:node,startX:posX-_4b9.pageX,startY:posY-_4b9.pageY,lastX:posX,lastY:posY,pageX:_4b9.pageX,pageY:_4b9.pageY,tickFunc:function(){_4bb(id);}};curr.timer=setTimeout(curr.tickFunc,_493);};function _4bc(evt){var _4bd=evt.widget,id=_4bd.id,_4be=_4bd.touchesToScroll,curr=_495[id],_4bf,_4c0,_4c1,nx,ny,minX,minY,i;if(!curr||(_4bf=_492.countCurrentTouches(evt,_4bd.touchNode))!==_4be){if(_4bf>_4be){_4bd.cancelTouchScroll();}return;}_4c0=evt.targetTouches;_4c1=_4c0[0];if(!curr.scrollbarsShown){if(_496[id]||(Math.abs(_4c1.pageX-curr.pageX)>_4bd.scrollThreshold||Math.abs(_4c1.pageY-curr.pageY)>_4bd.scrollThreshold)){_4a4(_4bd,curr);curr.scrollbarsShown=true;for(i=_4c0.length;i--;){_4c0[i].touchScrolled=true;}}}if(curr.scrollbarsShown&&(curr.scrollableX||curr.scrollableY)){evt.preventDefault();nx=curr.scrollableX?curr.startX+_4c1.pageX:0;ny=curr.scrollableY?curr.startY+_4c1.pageY:0;minX=curr.scrollableX?-(curr.scrollWidth-curr.parentWidth):0;minY=curr.scrollableY?-(curr.scrollHeight-curr.parentHeight):0;if(nx>0){nx=nx/2;}else{if(nx<minX){nx=minX-(minX-nx)/2;}}if(ny>0){ny=ny/2;}else{if(ny<minY){ny=minY-(minY-ny)/2;}}_4ae(_4bd,-nx,-ny);}};function _4c2(evt){var _4c3=evt.widget,id=_4c3.id,curr=_495[id];if(!curr||_492.countCurrentTouches(evt,_4c3.touchNode)!=_4c3.touchesToScroll-1){return;}_4c4(id);};function _4bb(id){var curr=_495[id],node,_4c5,x,y;if(!curr){return;}node=curr.node;_4c5=_499.exec(node.style[_4a1]);if(_4c5){x=+_4c5[1];y=+_4c5[2];curr.velX=x-curr.lastX;curr.velY=y-curr.lastY;curr.lastX=x;curr.lastY=y;}else{curr.lastX=curr.lastY=0;}curr.timer=setTimeout(curr.tickFunc,_493);};function _4c6(id,_4c7,_4c8){var curr=_495[id],_4c9=curr.widget,node=curr.node,_4ca,x=curr.scrollableX?Math.max(Math.min(0,_4c7),-(curr.scrollWidth-curr.parentWidth)):_4c7,y=curr.scrollableY?Math.max(Math.min(0,_4c8),-(curr.scrollHeight-curr.parentHeight)):_4c8;function end(){delete curr.transitionHandler;curr.resetEffects();delete _495[id];};delete curr.timer;if(x!=_4c7||y!=_4c8){curr.transitionHandler=on.once(node,_49c,end);node.style[_4a0+"Duration"]=_4c9.bounceDuration+"ms";node.style[_4a1]=_4a2+x+"px,"+y+"px"+_4a3;if(x!=_4c7&&curr.scrollableX){_4ca=curr.widget._scrollbarXNode;_4ca.style[_4a0+"Duration"]=_4c9.bounceDuration+"ms";if(_4c7>x){_4ca.style[_4a1]=_4a2+"0,0"+_4a3;}else{_4ca.style[_4a1]=_4a2+(_4ca.parentNode.offsetWidth-_4ca.offsetWidth)+"px,0"+_4a3;}}if(y!=_4c8&&curr.scrollableY){_4ca=curr.widget._scrollbarYNode;_4ca.style[_4a0+"Duration"]=_4c9.bounceDuration+"ms";if(_4c8>y){_4ca.style[_4a1]=_4a2+"0,0"+_4a3;}else{_4ca.style[_4a1]=_4a2+"0,"+(_4ca.parentNode.offsetHeight-_4ca.offsetHeight)+"px"+_4a3;}}}else{end();}};function _4c4(id){var curr=_495[id],prev=_496[id],_4cb,posX,posY,_4cc=1.15;delete _496[id];if(curr.timer){clearTimeout(curr.timer);}curr.resetEffects=_4b3;_4cb=_499.exec(curr.node.style[_4a1]);if(_4cb){posX=+_4cb[1];posY=+_4cb[2];}else{posX=posY=0;}if((!curr.velX&&!curr.velY)||((posX>=0||posX<=-(curr.scrollWidth-curr.parentWidth))&&(posY>=0||posY<=-(curr.scrollHeight-curr.parentHeight)))){_4c6(id,posX,posY);return;}function _4cd(a,b){return ((a.velX<=0&&b.velX<=0)||(a.velX>=0&&b.velX>=0))&&((a.velY<=0&&b.velY<=0)||(a.velY>=0&&b.velY>=0));};if(prev&&(prev.velX||prev.velY)&&_4cd(curr,prev)){curr.velX=(curr.velX+prev.velX)*_4cc;curr.velY=(curr.velY+prev.velY)*_4cc;}curr.lastX=posX;curr.lastY=posY;curr.calcFunc=function(){_4ce(id);};curr.timer=setTimeout(curr.calcFunc,_494);};function _4ce(id){var curr=_495[id],node,_4cf,_4d0,i,nx,ny,nvx,nvy,_4d1=6;if(!curr){return;}node=curr.node;_4cf=node.parentNode;_4d0=curr.widget;nvx=_4d0.glideDecel(curr.velX);nvy=_4d0.glideDecel(curr.velY);if(Math.abs(nvx)>=_497||Math.abs(nvy)>=_497){nx=curr.lastX+nvx;ny=curr.lastY+nvy;if(nx>0||nx<-(curr.scrollWidth-curr.parentWidth)){for(i=_4d1;i--;){nvx=_4d0.glideDecel(nvx);}}if(ny>0||ny<-(curr.scrollHeight-curr.parentHeight)){for(i=_4d1;i--;){nvy=_4d0.glideDecel(nvy);}}_4ae(_4d0,-nx,-ny);curr.lastX=nx;curr.lastY=ny;curr.velX=nvx;curr.velY=nvy;curr.timer=setTimeout(curr.calcFunc,_494);}else{_4c6(id,curr.lastX,curr.lastY);}};return _491(null,{touchesToScroll:1,touchNode:null,scrollThreshold:10,bounceDuration:300,postCreate:function(){this._initTouch();this.inherited(arguments);},_initTouch:function(){var node=this.touchNode=this.touchNode||this.containerNode,_4d2=this,_4d3;if(!node||!node.parentNode){return;}_4d3=node.parentNode;_4d3.style.overflow="hidden";node.style[_4a0+"Property"]=_49f+"transform";node.style[_4a0+"TimingFunction"]="cubic-bezier(0.33, 0.66, 0.66, 1)";function _4d4(){_4d2.cancelTouchScroll();};function _4d5(func){return function(evt){evt.widget=_4d2;evt.cancelTouchScroll=_4d4;func.call(this,evt);};};this._touchScrollListeners=[on(_4d3,"touchstart",_4d5(_4b7)),on(_4d3,"touchmove",_4d5(_4bc)),on(_4d3,"touchend,touchcancel",_4d5(_4c2))];},destroy:function(){var i=this._touchScrollListeners.length;while(i--){this._touchScrollListeners[i].remove();}delete _495[this.id];this.inherited(arguments);},scrollTo:function(_4d6){var curr=_495[this.id],_4d7=this.touchNode,_4d8=_4d7.parentNode;if(!_4d6.preserveMomentum&&curr&&curr.resetEffects){curr.resetEffects();}if(_4d6.x){_4d6.x=Math.max(0,Math.min(_4d6.x,_4d7.scrollWidth-_4d8.offsetWidth));}if(_4d6.y){_4d6.y=Math.max(0,Math.min(_4d6.y,_4d7.scrollHeight-_4d8.offsetHeight));}_4ae(this,_4d6);},getScrollPosition:function(){var _4d9=_4b1(this);return _4d9?{x:-_4d9[1],y:-_4d9[2]}:{x:0,y:0};},cancelTouchScroll:function(){var curr=_495[this.id];if(!curr){return;}if(curr.resetEffects){curr.resetEffects();}else{if(curr.timer){clearTimeout(curr.timer);}put(curr.node.parentNode,".touchscroll-fadeout");}delete _495[this.id];},glideDecel:function(n){return n*0.9;}});});},"ttl/utilities2":function(){define(["dojo/_base/declare","dojo/number","dojo/_base/lang","dojo/_base/array"],function(_4da,_4db,lang,_4dc){tmp=_4da("ttl.utilities2",null,{});ttl.utilities2.generic_view=function(_4dd){if(_4dd==null){return "...";}if(_4dd){return "<img src=\"/prcommon/images/view.png\" alt=\"view\" width=\"16\" height=\"16\" style=\"padding:0px;margin:0px\"/>";}return "";};ttl.utilities2.delete_icon=function(_4de){if(_4de==null){return "...";}return "<img title=\""+_4de+"\" height=\"10px\" width=\"10px\" style=\"padding:0x;margin:0px\" src=\"/prcommon/images/delete.gif\"></img>";};ttl.utilities2.delete_icon_row=function(_4df){return "<img height=\"10px\" width=\"10px\" style=\"padding:0x;margin:0px\" src=\"/prcommon/images/delete.gif\"></img>";};ttl.utilities2.edit_icon=function(_4e0){if(_4e0==null){return "...";}return "<img title=\""+_4e0+"\" height=\"10px\" width=\"10px\" style=\"padding:0x;margin:0px\" src=\"/prcommon/images/edit.gif\"></img>";};ttl.utilities2.row_button_small=function(_4e1){if(_4e1==null){return "...";}return "<img height=\"10px\" width=\"10px\" style=\"padding:0x;margin:0px\" src=\"/prcommon/images/rowctrl.gif\"></img>";};ttl.utilities2.format_row_ctrl=function(_4e2){return "<img title=\"Options\" height=\"14px\" width=\"14px\" style=\"padding:0x;margin:0px\" src=\"/prcommon/images/rowctrl.gif\"></img>";};ttl.utilities2.delete_row_ctrl=function(_4e3){return "<img title=\"Delete\" height=\"14px\" width=\"14px\" style=\"padding:0x;margin:0px\" src=\"/prcommon/images/remove.gif\"></img>";};ttl.utilities2.edit_row_ctrl=function(_4e4){return "<img title=\""+_4e4+"\" height=\"14px\" width=\"14px\" style=\"padding:0x;margin:0px\" src=\"/prcommon/images/edit.gif\"></img>";};ttl.utilities2.pdf_icon_row=function(_4e5){if(_4e5==null){return "...";}return "<img height=\"10px\" width=\"10px\" style=\"padding:0x;margin:0px\" src=\"/prcommon/images/pdf.gif\" alt=\"view\"></img>";};ttl.utilities2.check_cell=function(_4e6){var _4e7=_4e6==true?"checked.gif":"unchecked.gif";return "<img  height=\"10px\" width=\"10px\" style=\"padding:0x;margin:0px\" src=\"/prcommon/images/"+_4e7+"\" ></img>";};ttl.utilities2.format_deleted_ctrl=function(_4e8){if(_4e8==2){return "<img height=\"10px\" width=\"10px\" style=\"padding:0x;margin:0px\" src=\"/prcommon/images/delete.gif\"></img>";}else{return "&nbsp;";}};ttl.utilities2.outlet_type=function(_4e9){if(_4e9==null){return "...";}var _4ea="";switch(_4e9){case "national":_4ea="blue";break;case "regional":_4ea="green";break;case "business":_4ea="yellow";break;case "consumer":_4ea="orange";break;case "television":_4ea="purple";break;case "radio":_4ea="black";break;case "internet":_4ea="pink";break;case "news":_4ea="indigo";break;case "others":_4ea="white";break;case "freelance":_4ea="white";break;case "parliamentary":_4ea="gray";break;}return "<div style='background-color:"+_4ea+";width:6px;height:100%'>&nbsp;</div>";};ttl.utilities2.form_validator=function(form){var _4eb=null;return _4dc.every(form.getChildren(),function(_4ec){if(_4ec.get("disabled")==true){return true;}var rest=!_4ec.isValid||_4ec.isValid();if(rest==false){if(_4ec.isFocusable()){try{_4ec.focus();}catch(e){}}else{rest=true;}}return rest;});};ttl.utilities2.to_json_date=function(_4ed){if(_4ed==null){return "";}else{return _4ed.getFullYear()+"-"+(_4ed.getMonth()+1)+"-"+_4ed.getDate();}};ttl.utilities2.error_checker=function(_4ee){var _4ef=false;try{if(_4ee.status==403){_4ef=true;}}catch(a){}if(_4ef){window.location.href=TTL.login_page||"/login";throw "Security Failure";}};ttl.utilities2.add_days_to_date=function(_4f0,days){var _4f1=new Date(_4f0);_4f1.setDate(_4f1.getDate()+days);return _4f1;};ttl.utilities2.xhr_post_error=function(_4f2,_4f3){ttl.utilities2.error_checker(_4f2);if(TTL.isDebug==false){return;}try{alert("Problem with call to server :\nstatus: "+_4f2.status+"\nmessage :"+_4f2.message+"\nresponseText :"+_4f2.responseText);}catch(e){alert("Problem with call to server\n"+_4f2);}};ttl.utilities2.default_params={preventCache:true,timeout:30000,handleAs:"json",url:"/error"};ttl.utilities2.make_params=function(_4f4){var res=lang.mixin({preventCache:true,timeout:30000,handleAs:"json",url:"/error"},_4f4||{});if(_4f4.error==null){res["error"]=ttl.utilities2.xhr_post_error;}return res;};ttl.utilities2.make_params_ignore=function(_4f5){var res=lang.mixin(ttl.utilities2.default_params,_4f5||{});res["error"]=ttl.utilities2.globalerrorchecker;return res;};ttl.utilities2.get_prevent_cache=function(_4f6){var _4f7=new Date().valueOf();return lang.mixin({"dojo.preventCache":_4f7},_4f6||{});};ttl.utilities2.get_prevent_cache_param=function(){var _4f8=new Date().valueOf();return "dojo.preventcache="+_4f8;};ttl.utilities2.from_object_date=function(_4f9){if(_4f9==null||_4f9===""){return new Date();}else{return new Date(new Date(_4f9.year,_4f9.month-1,_4f9.day));}};ttl.utilities2.from_object_date_no_date=function(_4fa){if(_4fa==null||_4fa===""){return null;}else{return new Date(new Date(_4fa.year,_4fa.month-1,_4fa.day));}};ttl.utilities2.display_money=function(_4fb){if(isNaN(_4fb)){return "...";}else{try{return _4db.format(parseFloat(_4fb),{places:2});}catch(e){return "0.00";}}};ttl.utilities2.display_int_money=function(_4fc){if(isNaN(_4fc)){return "...";}else{try{return _4db.format(parseFloat(_4fc)/100,{places:2});}catch(e){return "0.00";}}};ttl.utilities2.document_exists=function(_4fd){if(_4fd==null){return "...";}if(_4fd==true){return "<img src='/prcommon/images/pdf.gif' width='16' height='16' style='padding:0px;margin:0px'/>";}return "";};ttl.utilities2.fonticon=function(_4fe){if(_4fe==null){return "...";}var _4ff="";var _500="";switch(_4fe){case "News":_4ff="fa fa-newspaper-o";_500="News";break;case "Twitter":_4ff="fa fa-twitter-square";break;case "Facebook":_4ff="fa fa-facebook-square";break;case "Forums":_4ff="fa fa-forumbee";break;case "Blogs":_4ff="fa fa-bold";break;case "Instagram":_4ff="fa fa-instagram";break;case "YouTube":_4ff="fa fa-youtube-square";break;case "GooglePlus":_4ff="fa fa-google-plus-official";break;case "Tumblr":_4ff="fa fa-tumblr-square";break;case "VKontakte":_4ff="fa fa-check-square";break;case "Chat":_4ff="fa fa-weixin";break;}return "<i class=\" fa-fw "+_4ff+"\" title=\""+_500+"\" aria-hidden=\"true\"></i>";};ttl.utilities2.fonticon2=function(_501){if(_501==null){return "...";}return "<i class=\" fa "+_501+"\" aria-hidden=\"true\"></i>";};ttl.utilities2.format_row_icon=function(){return "<i class=\" fa fa-bars aria-hidden=\"true\"></i>";};ttl.utilities2.EMPTYGRID={data_mode:"EMPTYGRID"};ttl.utilities2.range=function(_502,end){var _503=[];if(!end){end=_502;_502=0;}for(var i=_502;i<end;i+=1){_503.push(i);}return _503;};ttl.utilities2.round_decimals=function(_504,_505){var _506=_504*Math.pow(10,_505);var _507=Math.round(_506);var _508=_507/Math.pow(10,_505);return ttl.utilities2.pad_with_zeros(_508,_505);};ttl.utilities2.pad_with_zeros=function(_509,_50a){var _50b=_509.toString();var _50c=_50b.indexOf(".");if(_50c==-1){decimal_part_length=0;_50b+=_50a>0?".":"";}else{decimal_part_length=_50b.length-_50c-1;}var _50d=_50a-decimal_part_length;if(_50d>0){for(var _50e=1;_50e<=_50d;_50e++){_50b+="0";}}return _50b;};return tmp;});},"prmaxquestionnaires/loaded":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","ttl/Amduuid","dijit/layout/BorderContainer","dijit/layout/ContentPane","dojo/data/ItemFileReadStore","dijit/layout/StackContainer","dijit/layout/BorderContainer","prmaxquestionnaires/main/frame","prmaxquestionnaires/main/deskframe","prmaxquestionnaires/main/freelanceframe","prmaxquestionnaires/store/DataStores","prcommon2/prevents"],function(){});},"dijit/layout/_ContentPaneResizeMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/query","../registry","../Viewport","./utils"],function(_50f,_510,_511,_512,_513,lang,_514,_515,_516,_517){return _510("dijit.layout._ContentPaneResizeMixin",null,{doLayout:true,isLayoutContainer:true,startup:function(){if(this._started){return;}var _518=this.getParent();this._childOfLayoutWidget=_518&&_518.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);if(this._isShown()){this._onShow();}if(!this._childOfLayoutWidget){this.own(_516.on("resize",lang.hitch(this,"resize")));}},_checkIfSingleChild:function(){if(!this.doLayout){return;}var _519=[],_51a=false;_514("> *",this.containerNode).some(function(node){var _51b=_515.byNode(node);if(_51b&&_51b.resize){_519.push(_51b);}else{if(!/script|link|style/i.test(node.nodeName)&&node.offsetHeight){_51a=true;}}});this._singleChild=_519.length==1&&!_51a?_519[0]:null;_511.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild);},resize:function(_51c,_51d){this._resizeCalled=true;this._scheduleLayout(_51c,_51d);},_scheduleLayout:function(_51e,_51f){if(this._isShown()){this._layout(_51e,_51f);}else{this._needLayout=true;this._changeSize=_51e;this._resultSize=_51f;}},_layout:function(_520,_521){delete this._needLayout;if(!this._wasShown&&this.open!==false){this._onShow();}if(_520){_512.setMarginBox(this.domNode,_520);}var cn=this.containerNode;if(cn===this.domNode){var mb=_521||{};lang.mixin(mb,_520||{});if(!("h" in mb)||!("w" in mb)){mb=lang.mixin(_512.getMarginBox(cn),mb);}this._contentBox=_517.marginBox2contentBox(cn,mb);}else{this._contentBox=_512.getContentBox(cn);}this._layoutChildren();},_layoutChildren:function(){this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){var cb=this._contentBox||_512.getContentBox(this.containerNode);this._singleChild.resize({w:cb.w,h:cb.h});}else{var _522=this.getChildren(),_523,i=0;while(_523=_522[i++]){if(_523.resize){_523.resize();}}}},_isShown:function(){if(this._childOfLayoutWidget){if(this._resizeCalled&&"open" in this){return this.open;}return this._resizeCalled;}else{if("open" in this){return this.open;}else{var node=this.domNode,_524=this.domNode.parentNode;return (node.style.display!="none")&&(node.style.visibility!="hidden")&&!_511.contains(node,"dijitHidden")&&_524&&_524.style&&(_524.style.display!="none");}}},_onShow:function(){this._wasShown=true;if(this._needLayout){this._layout(this._changeSize,this._resultSize);}this.inherited(arguments);}});});},"dijit/WidgetSet":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","./registry"],function(_525,_526,_527,_528){var _529=_526("dijit.WidgetSet",null,{constructor:function(){this._hash={};this.length=0;},add:function(_52a){if(this._hash[_52a.id]){throw new Error("Tried to register widget with id=="+_52a.id+" but that id is already registered");}this._hash[_52a.id]=_52a;this.length++;},remove:function(id){if(this._hash[id]){delete this._hash[id];this.length--;}},forEach:function(func,_52b){_52b=_52b||_527.global;var i=0,id;for(id in this._hash){func.call(_52b,this._hash[id],i++,this._hash);}return this;},filter:function(_52c,_52d){_52d=_52d||_527.global;var res=new _529(),i=0,id;for(id in this._hash){var w=this._hash[id];if(_52c.call(_52d,w,i++,this._hash)){res.add(w);}}return res;},byId:function(id){return this._hash[id];},byClass:function(cls){var res=new _529(),id,_52e;for(id in this._hash){_52e=this._hash[id];if(_52e.declaredClass==cls){res.add(_52e);}}return res;},toArray:function(){var ar=[];for(var id in this._hash){ar.push(this._hash[id]);}return ar;},map:function(func,_52f){return _525.map(this.toArray(),func,_52f);},every:function(func,_530){_530=_530||_527.global;var x=0,i;for(i in this._hash){if(!func.call(_530,this._hash[i],x++,this._hash)){return false;}}return true;},some:function(func,_531){_531=_531||_527.global;var x=0,i;for(i in this._hash){if(func.call(_531,this._hash[i],x++,this._hash)){return true;}}return false;}});_525.forEach(["forEach","filter","byClass","map","every","some"],function(func){_528[func]=_529.prototype[func];});return _529;});},"dijit/form/RangeBoundTextBox":function(){define(["dojo/_base/declare","dojo/i18n","./MappedTextBox","dojo/i18n!./nls/validate"],function(_532,i18n,_533){var _534=_532("dijit.form.RangeBoundTextBox",_533,{rangeMessage:"",rangeCheck:function(_535,_536){return ("min" in _536?(this.compare(_535,_536.min)>=0):true)&&("max" in _536?(this.compare(_535,_536.max)<=0):true);},isInRange:function(){return this.rangeCheck(this.get("value"),this.constraints);},_isDefinitelyOutOfRange:function(){var val=this.get("value");if(val==null){return false;}var _537=false;if("min" in this.constraints){var min=this.constraints.min;_537=this.compare(val,((typeof min=="number")&&min>=0&&val!=0)?0:min)<0;}if(!_537&&("max" in this.constraints)){var max=this.constraints.max;_537=this.compare(val,((typeof max!="number")||max>0)?max:0)>0;}return _537;},_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange();},isValid:function(_538){return this.inherited(arguments)&&((this._isEmpty(this.textbox.value)&&!this.required)||this.isInRange(_538));},getErrorMessage:function(_539){var v=this.get("value");if(v!=null&&v!==""&&(typeof v!="number"||!isNaN(v))&&!this.isInRange(_539)){return this.rangeMessage;}return this.inherited(arguments);},postMixInProperties:function(){this.inherited(arguments);if(!this.rangeMessage){this.messages=i18n.getLocalization("dijit.form","validate",this.lang);this.rangeMessage=this.messages.rangeMessage;}}});return _534;});},"dojo/dnd/Moveable":function(){define(["../_base/array","../_base/declare","../_base/lang","../dom","../dom-class","../Evented","../on","../topic","../touch","./common","./Mover","../_base/window"],function(_53a,_53b,lang,dom,_53c,_53d,on,_53e,_53f,dnd,_540,win){var _541=_53b("dojo.dnd.Moveable",[_53d],{handle:"",delay:0,skip:false,constructor:function(node,_542){this.node=dom.byId(node);if(!_542){_542={};}this.handle=_542.handle?dom.byId(_542.handle):null;if(!this.handle){this.handle=this.node;}this.delay=_542.delay>0?_542.delay:0;this.skip=_542.skip;this.mover=_542.mover?_542.mover:_540;this.events=[on(this.handle,_53f.press,lang.hitch(this,"onMouseDown")),on(this.handle,"dragstart",lang.hitch(this,"onSelectStart")),on(this.handle,"selectstart",lang.hitch(this,"onSelectStart"))];},markupFactory:function(_543,node,Ctor){return new Ctor(node,_543);},destroy:function(){_53a.forEach(this.events,function(_544){_544.remove();});this.events=this.node=this.handle=null;},onMouseDown:function(e){if(this.skip&&dnd.isFormElement(e)){return;}if(this.delay){this.events.push(on(this.handle,_53f.move,lang.hitch(this,"onMouseMove")),on(this.handle.ownerDocument,_53f.release,lang.hitch(this,"onMouseUp")));this._lastX=e.pageX;this._lastY=e.pageY;}else{this.onDragDetected(e);}e.stopPropagation();e.preventDefault();},onMouseMove:function(e){if(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay){this.onMouseUp(e);this.onDragDetected(e);}e.stopPropagation();e.preventDefault();},onMouseUp:function(e){for(var i=0;i<2;++i){this.events.pop().remove();}e.stopPropagation();e.preventDefault();},onSelectStart:function(e){if(!this.skip||!dnd.isFormElement(e)){e.stopPropagation();e.preventDefault();}},onDragDetected:function(e){new this.mover(this.node,e,this);},onMoveStart:function(_545){_53e.publish("/dnd/move/start",_545);_53c.add(win.body(),"dojoMove");_53c.add(this.node,"dojoMoveItem");},onMoveStop:function(_546){_53e.publish("/dnd/move/stop",_546);_53c.remove(win.body(),"dojoMove");_53c.remove(this.node,"dojoMoveItem");},onFirstMove:function(){},onMove:function(_547,_548){this.onMoving(_547,_548);var s=_547.node.style;s.left=_548.l+"px";s.top=_548.t+"px";this.onMoved(_547,_548);},onMoving:function(){},onMoved:function(){}});return _541;});},"dgrid/Grid":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/on","dojo/has","put-selector/put","./List","./util/misc","dojo/_base/sniff"],function(_549,_54a,_54b,has,put,List,_54c){var _54d=has("ie")<8&&!has("quirks");function _54e(_54f,_550){if(_550&&_550.nodeType){_54f.appendChild(_550);}};function _551(str){return _54c.escapeCssIdentifier(str,"-");};var Grid=_54a(List,{columns:null,cellNavigation:true,tabableHeader:true,showHeader:true,column:function(_552){if(typeof _552!="object"){return this.columns[_552];}else{return this.cell(_552).column;}},listType:"grid",cell:function(_553,_554){if(_553.column&&_553.element){return _553;}if(_553.target&&_553.target.nodeType){_553=_553.target;}var _555;if(_553.nodeType){var _556;do{if(this._rowIdToObject[_553.id]){break;}var _557=_553.columnId;if(_557){_554=_557;_555=_553;break;}_553=_553.parentNode;}while(_553&&_553!=this.domNode);}if(!_555&&typeof _554!="undefined"){var row=this.row(_553),_558=row&&row.element;if(_558){var _559=_558.getElementsByTagName("td");for(var i=0;i<_559.length;i++){if(_559[i].columnId==_554){_555=_559[i];break;}}}}if(_553!=null){return {row:row||this.row(_553),column:_554&&this.column(_554),element:_555};}},createRowCells:function(tag,each,_55a,_55b){var row=put("table.dgrid-row-table[role=presentation]"),_55c=this.cellNavigation,_55d=(has("ie")<9||has("quirks"))?put(row,"tbody"):row,tr,si,sl,i,l,_55e,_55f,id,_560,_561,cell,_562,_563,_564;_55a=_55a||this.subRows;for(si=0,sl=_55a.length;si<sl;si++){_55e=_55a[si];tr=put(_55d,"tr");if(_55e.className){put(tr,"."+_55e.className);}for(i=0,l=_55e.length;i<l;i++){_55f=_55e[i];id=_55f.id;_560=_55f.field?".field-"+_551(_55f.field):"";_561=typeof _55f.className==="function"?_55f.className(_55b):_55f.className;if(_561){_560+="."+_561;}cell=put(tag+(".dgrid-cell.dgrid-cell-padding"+(id?".dgrid-column-"+_551(id):"")+_560.replace(/ +/g,"."))+"[role="+(tag==="th"?"columnheader":"gridcell")+"]");cell.columnId=id;if(_54d){_562=put(cell,"!dgrid-cell-padding div.dgrid-cell-padding");cell.contents=_562;}else{_562=cell;}_563=_55f.colSpan;if(_563){cell.colSpan=_563;}_564=_55f.rowSpan;if(_564){cell.rowSpan=_564;}each(_562,_55f);tr.appendChild(cell);}}return row;},left:function(cell,_565){if(!cell.element){cell=this.cell(cell);}return this.cell(this._move(cell,-(_565||1),"dgrid-cell"));},right:function(cell,_566){if(!cell.element){cell=this.cell(cell);}return this.cell(this._move(cell,_566||1,"dgrid-cell"));},renderRow:function(_567,_568){var self=this;var row=this.createRowCells("td",function(td,_569){var data=_567;if(_569.get){data=_569.get(_567);}else{if("field" in _569&&_569.field!="_item"){data=data[_569.field];}}if(_569.renderCell){_54e(td,_569.renderCell(_567,data,td,_568));}else{_56a.call(_569,_567,data,td,_568);}},_568&&_568.subRows,_567);return put("div[role=row]>",row);},renderHeader:function(){var grid=this,_56b=this.columns,_56c=this.headerNode,i=_56c.childNodes.length;_56c.setAttribute("role","row");while(i--){put(_56c.childNodes[i],"!");}var row=this.createRowCells("th",function(th,_56d){var _56e=_56d.headerNode=th;if(_54d){th=th.parentNode;}var _56f=_56d.field;if(_56f){th.field=_56f;}if(_56d.renderHeaderCell){_54e(_56e,_56d.renderHeaderCell(_56e));}else{if("label" in _56d||_56d.field){_56e.appendChild(document.createTextNode("label" in _56d?_56d.label:_56d.field));}}if(_56d.sortable!==false&&_56f&&_56f!="_item"){th.sortable=true;th.className+=" dgrid-sortable";}},this.subRows&&this.subRows.headerRows);this._rowIdToObject[row.id=this.id+"-header"]=this.columns;_56c.appendChild(row);if(this._sortListener){this._sortListener.remove();}this._sortListener=_54b(row,"click,keydown",function(_570){if(_570.type=="click"||_570.keyCode==32||(!has("opera")&&_570.keyCode==13)){var _571=_570.target,_572,sort,_573,_574;do{if(_571.sortable){_573=[{attribute:(_572=_571.field||_571.columnId),descending:(sort=grid._sort[0])&&sort.attribute==_572&&!sort.descending}];_574={bubbles:true,cancelable:true,grid:grid,parentType:_570.type,sort:_573};if(_54b.emit(_570.target,"dgrid-sort",_574)){grid._sortNode=_571;grid.set("sort",_573);}break;}}while((_571=_571.parentNode)&&_571!=_56c);}});},resize:function(){var _575=this.headerNode.firstChild,_576=this.contentNode,_577;this.inherited(arguments);if(!has("ie")||(has("ie")>7&&!has("quirks"))){_576.style.width="";if(_576&&_575){if((_577=_575.offsetWidth)!=_576.offsetWidth){_576.style.width=_577+"px";}}}},destroy:function(){this._destroyColumns();if(this._sortListener){this._sortListener.remove();}this.inherited(arguments);},_setSort:function(_578,_579){this.inherited(arguments);this.updateSortArrow(this._sort);},_findSortArrowParent:function(_57a){var _57b=this.columns;for(var i in _57b){var _57c=_57b[i];if(_57c.field==_57a){return _57c.headerNode;}}},updateSortArrow:function(sort,_57d){if(this._lastSortedArrow){put(this._lastSortedArrow,"<!dgrid-sort-up!dgrid-sort-down");put(this._lastSortedArrow,"!");delete this._lastSortedArrow;}if(_57d){this._sort=sort;}if(!sort[0]){return;}var prop=sort[0].attribute,desc=sort[0].descending,_57e=this._sortNode||this._findSortArrowParent(prop),_57f;delete this._sortNode;if(_57e){_57e=_57e.contents||_57e;_57f=this._lastSortedArrow=put("div.dgrid-sort-arrow.ui-icon[role=presentation]");_57f.innerHTML="&nbsp;";_57e.insertBefore(_57f,_57e.firstChild);put(_57e,desc?".dgrid-sort-down":".dgrid-sort-up");this.resize();}},styleColumn:function(_580,css){return this.addCssRule("#"+_54c.escapeCssIdentifier(this.domNode.id)+" .dgrid-column-"+_551(_580),css);},_configColumns:function(_581,_582){var _583=[],_584=_582 instanceof Array;function _585(_586,_587){if(typeof _586=="string"){_582[_587]=_586={label:_586};}if(!_584&&!_586.field){_586.field=_587;}_587=_586.id=_586.id||(isNaN(_587)?_587:(_581+_587));if(this._configColumn){this._configColumn(_586,_587,_582,_581);_587=_586.id;}if(_584){this.columns[_587]=_586;}_586.grid=this;if(typeof _586.init==="function"){_586.init();}_583.push(_586);};_54c.each(_582,_585,this);return _584?_582:_583;},_destroyColumns:function(){var _588=this.subRows,_589=_588&&_588.length,i,j,_58a,len;this.cleanup();for(i=0;i<_589;i++){for(j=0,len=_588[i].length;j<len;j++){_58a=_588[i][j];if(typeof _58a.destroy==="function"){_58a.destroy();}}}},configStructure:function(){var _58b=this.subRows,_58c=this._columns=this.columns;this.columns=!_58c||_58c instanceof Array?{}:_58c;if(_58b){for(var i=0;i<_58b.length;i++){_58b[i]=this._configColumns(i+"-",_58b[i]);}}else{this.subRows=[this._configColumns("",_58c)];}},_getColumns:function(){return this._columns||this.columns;},_setColumns:function(_58d){this._destroyColumns();this.subRows=null;this.columns=_58d;this._updateColumns();},_setSubRows:function(_58e){this._destroyColumns();this.subRows=_58e;this._updateColumns();},setColumns:function(_58f){_549.deprecated("setColumns(...)","use set(\"columns\", ...) instead","dgrid 0.4");this.set("columns",_58f);},setSubRows:function(_590){_549.deprecated("setSubRows(...)","use set(\"subRows\", ...) instead","dgrid 0.4");this.set("subRows",_590);},_updateColumns:function(){this.configStructure();this.renderHeader();this.refresh();this._lastCollection&&this.renderArray(this._lastCollection);if(this._started){if(this._sort&&this._sort.length){this.updateSortArrow(this._sort);}else{this.resize();}}}});function _56a(_591,data,td,_592){if(this.formatter){var _593=this.formatter,_594=this.grid.formatterScope;td.innerHTML=typeof _593==="string"&&_594?_594[_593](data,_591):this.formatter(data,_591);}else{if(data!=null){td.appendChild(document.createTextNode(data));}}};Grid.appendIfNode=_54e;Grid.defaultRenderCell=_56a;return Grid;});},"dojo/store/util/SimpleQueryEngine":function(){define(["../../_base/array"],function(_595){return function(_596,_597){switch(typeof _596){default:throw new Error("Can not query with a "+typeof _596);case "object":case "undefined":var _598=_596;_596=function(_599){for(var key in _598){var _59a=_598[key];if(_59a&&_59a.test){if(!_59a.test(_599[key],_599)){return false;}}else{if(_59a!=_599[key]){return false;}}}return true;};break;case "string":if(!this[_596]){throw new Error("No filter function "+_596+" was found in store");}_596=this[_596];case "function":}function _59b(_59c){var _59d=_595.filter(_59c,_596);var _59e=_597&&_597.sort;if(_59e){_59d.sort(typeof _59e=="function"?_59e:function(a,b){for(var sort,i=0;sort=_59e[i];i++){var _59f=a[sort.attribute];var _5a0=b[sort.attribute];_59f=_59f!=null?_59f.valueOf():_59f;_5a0=_5a0!=null?_5a0.valueOf():_5a0;if(_59f!=_5a0){return !!sort.descending==(_59f==null||_59f>_5a0)?-1:1;}}return 0;});}if(_597&&(_597.start||_597.count)){var _5a1=_59d.length;_59d=_59d.slice(_597.start||0,(_597.start||0)+(_597.count||Infinity));_59d.total=_5a1;}return _59d;};_59b.matches=_596;return _59b;};});},"dijit/form/_ExpandingTextAreaMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/has","dojo/_base/lang","dojo/on","dojo/_base/window","../Viewport"],function(_5a2,_5a3,has,lang,on,win,_5a4){has.add("textarea-needs-help-shrinking",function(){var body=win.body(),te=_5a3.create("textarea",{rows:"5",cols:"20",value:" ",style:{zoom:1,fontSize:"12px",height:"96px",overflow:"hidden",visibility:"hidden",position:"absolute",border:"5px solid white",margin:"0",padding:"0",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"}},body,"last");var _5a5=te.scrollHeight>=te.clientHeight;body.removeChild(te);return _5a5;});return _5a2("dijit.form._ExpandingTextAreaMixin",null,{_setValueAttr:function(){this.inherited(arguments);this.resize();},postCreate:function(){this.inherited(arguments);var _5a6=this.textbox;_5a6.style.overflowY="hidden";this.own(on(_5a6,"focus, resize",lang.hitch(this,"_resizeLater")));},startup:function(){this.inherited(arguments);this.own(_5a4.on("resize",lang.hitch(this,"_resizeLater")));this._resizeLater();},_onInput:function(e){this.inherited(arguments);this.resize();},_estimateHeight:function(){var _5a7=this.textbox;_5a7.rows=(_5a7.value.match(/\n/g)||[]).length+1;},_resizeLater:function(){this.defer("resize");},resize:function(){var _5a8=this.textbox;function _5a9(){var _5aa=false;if(_5a8.value===""){_5a8.value=" ";_5aa=true;}var sh=_5a8.scrollHeight;if(_5aa){_5a8.value="";}return sh;};if(_5a8.style.overflowY=="hidden"){_5a8.scrollTop=0;}if(this.busyResizing){return;}this.busyResizing=true;if(_5a9()||_5a8.offsetHeight){var newH=_5a9()+Math.max(_5a8.offsetHeight-_5a8.clientHeight,0);var _5ab=newH+"px";if(_5ab!=_5a8.style.height){_5a8.style.height=_5ab;_5a8.rows=1;}if(has("textarea-needs-help-shrinking")){var _5ac=_5a9(),_5ad=_5ac,_5ae=_5a8.style.minHeight,_5af=4,_5b0,_5b1=_5a8.scrollTop;_5a8.style.minHeight=_5ab;_5a8.style.height="auto";while(newH>0){_5a8.style.minHeight=Math.max(newH-_5af,4)+"px";_5b0=_5a9();var _5b2=_5ad-_5b0;newH-=_5b2;if(_5b2<_5af){break;}_5ad=_5b0;_5af<<=1;}_5a8.style.height=newH+"px";_5a8.style.minHeight=_5ae;_5a8.scrollTop=_5b1;}_5a8.style.overflowY=_5a9()>_5a8.clientHeight?"auto":"hidden";if(_5a8.style.overflowY=="hidden"){_5a8.scrollTop=0;}}else{this._estimateHeight();}this.busyResizing=false;}});});},"dojox/collections/Dictionary":function(){define(["dojo/_base/kernel","dojo/_base/array","./_base"],function(dojo,_5b3,dxc){dxc.Dictionary=function(_5b4){var _5b5={};this.count=0;var _5b6={};this.add=function(k,v){var b=(k in _5b5);_5b5[k]=new dxc.DictionaryEntry(k,v);if(!b){this.count++;}};this.clear=function(){_5b5={};this.count=0;};this.clone=function(){return new dxc.Dictionary(this);};this.contains=this.containsKey=function(k){if(_5b6[k]){return false;}return (_5b5[k]!=null);};this.containsValue=function(v){var e=this.getIterator();while(e.get()){if(e.element.value==v){return true;}}return false;};this.entry=function(k){return _5b5[k];};this.forEach=function(fn,_5b7){var a=[];for(var p in _5b5){if(!_5b6[p]){a.push(_5b5[p]);}}dojo.forEach(a,fn,_5b7);};this.getKeyList=function(){return (this.getIterator()).map(function(_5b8){return _5b8.key;});};this.getValueList=function(){return (this.getIterator()).map(function(_5b9){return _5b9.value;});};this.item=function(k){if(k in _5b5){return _5b5[k].valueOf();}return undefined;};this.getIterator=function(){return new dxc.DictionaryIterator(_5b5);};this.remove=function(k){if(k in _5b5&&!_5b6[k]){delete _5b5[k];this.count--;return true;}return false;};if(_5b4){var e=_5b4.getIterator();while(e.get()){this.add(e.element.key,e.element.value);}}};return dxc.Dictionary;});},"dijit/typematic":function(){define(["dojo/_base/array","dojo/_base/connect","dojo/_base/lang","dojo/on","dojo/sniff","./main"],function(_5ba,_5bb,lang,on,has,_5bc){var _5bd=(_5bc.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:(this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay)),this._minDelay);this._timer=setTimeout(lang.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_5be,node,_5bf,obj,_5c0,_5c1,_5c2){if(obj!=this._obj){this.stop();this._initialDelay=_5c1||500;this._subsequentDelay=_5c0||0.9;this._minDelay=_5c2||10;this._obj=obj;this._node=node;this._currentTimeout=-1;this._count=-1;this._callback=lang.hitch(_5be,_5bf);this._evt={faux:true};for(var attr in evt){if(attr!="layerX"&&attr!="layerY"){var v=evt[attr];if(typeof v!="function"&&typeof v!="undefined"){this._evt[attr]=v;}}}this._fireEventAndReload();}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(node,_5c3,_5c4,_5c5,_5c6,_5c7,_5c8){var type="keyCode" in _5c3?"keydown":"charCode" in _5c3?"keypress":_5bb._keypress,attr="keyCode" in _5c3?"keyCode":"charCode" in _5c3?"charCode":"charOrCode";var _5c9=[on(node,type,lang.hitch(this,function(evt){if(evt[attr]==_5c3[attr]&&(_5c3.ctrlKey===undefined||_5c3.ctrlKey==evt.ctrlKey)&&(_5c3.altKey===undefined||_5c3.altKey==evt.altKey)&&(_5c3.metaKey===undefined||_5c3.metaKey==(evt.metaKey||false))&&(_5c3.shiftKey===undefined||_5c3.shiftKey==evt.shiftKey)){evt.stopPropagation();evt.preventDefault();_5bd.trigger(evt,_5c4,node,_5c5,_5c3,_5c6,_5c7,_5c8);}else{if(_5bd._obj==_5c3){_5bd.stop();}}})),on(node,"keyup",lang.hitch(this,function(){if(_5bd._obj==_5c3){_5bd.stop();}}))];return {remove:function(){_5ba.forEach(_5c9,function(h){h.remove();});}};},addMouseListener:function(node,_5ca,_5cb,_5cc,_5cd,_5ce){var _5cf=[on(node,"mousedown",lang.hitch(this,function(evt){evt.preventDefault();_5bd.trigger(evt,_5ca,node,_5cb,node,_5cc,_5cd,_5ce);})),on(node,"mouseup",lang.hitch(this,function(evt){if(this._obj){evt.preventDefault();}_5bd.stop();})),on(node,"mouseout",lang.hitch(this,function(evt){if(this._obj){evt.preventDefault();}_5bd.stop();})),on(node,"dblclick",lang.hitch(this,function(evt){evt.preventDefault();if(has("ie")<9){_5bd.trigger(evt,_5ca,node,_5cb,node,_5cc,_5cd,_5ce);setTimeout(lang.hitch(this,_5bd.stop),50);}}))];return {remove:function(){_5ba.forEach(_5cf,function(h){h.remove();});}};},addListener:function(_5d0,_5d1,_5d2,_5d3,_5d4,_5d5,_5d6,_5d7){var _5d8=[this.addKeyListener(_5d1,_5d2,_5d3,_5d4,_5d5,_5d6,_5d7),this.addMouseListener(_5d0,_5d3,_5d4,_5d5,_5d6,_5d7)];return {remove:function(){_5ba.forEach(_5d8,function(h){h.remove();});}};}});return _5bd;});},"dgrid/util/misc":function(){define(["dojo/has","put-selector/put"],function(has,put){has.add("dom-contains",function(_5d9,doc,_5da){return !!_5da.contains;});var _5db=[],_5dc,_5dd,_5de,_5df=/([^A-Za-z0-9_\u00A0-\uFFFF-])/g;function _5e0(_5e1){var _5e2=_5db[_5e1],i,l;if(_5e2===undefined){return;}_5dc[_5dd](_5e2);_5db[_5e1]=undefined;for(i=_5e1+1,l=_5db.length;i<l;i++){if(_5db[i]>_5e2){_5db[i]--;}}};var util={defaultDelay:15,throttle:function(cb,_5e3,_5e4){var ran=false;_5e4=_5e4||util.defaultDelay;return function(){if(ran){return;}ran=true;cb.apply(_5e3,arguments);setTimeout(function(){ran=false;},_5e4);};},throttleDelayed:function(cb,_5e5,_5e6){var ran=false;_5e6=_5e6||util.defaultDelay;return function(){if(ran){return;}ran=true;var a=arguments;setTimeout(function(){ran=false;cb.apply(_5e5,a);},_5e6);};},debounce:function(cb,_5e7,_5e8){var _5e9;_5e8=_5e8||util.defaultDelay;return function(){if(_5e9){clearTimeout(_5e9);_5e9=null;}var a=arguments;_5e9=setTimeout(function(){cb.apply(_5e7,a);},_5e8);};},each:function(_5ea,_5eb,_5ec){var i,len;if(!_5ea){return;}if(typeof _5ea.length==="number"){for(i=0,len=_5ea.length;i<len;i++){_5eb.call(_5ec,_5ea[i],i,_5ea);}}else{for(i in _5ea){_5eb.call(_5ec,_5ea[i],i,_5ea);}}},contains:function(_5ed,node){if(has("dom-contains")){return _5ed.contains(node);}else{return _5ed.compareDocumentPosition(node)&8;}},addCssRule:function(_5ee,css){if(!_5dc){_5dc=put(document.getElementsByTagName("head")[0],"style");_5dc=_5dc.sheet||_5dc.styleSheet;_5dd=_5dc.deleteRule?"deleteRule":"removeRule";_5de=_5dc.cssRules?"cssRules":"rules";}var _5ef=_5db.length;_5db[_5ef]=(_5dc.cssRules||_5dc.rules).length;_5dc.addRule?_5dc.addRule(_5ee,css):_5dc.insertRule(_5ee+"{"+css+"}",_5db[_5ef]);return {get:function(prop){return _5dc[_5de][_5db[_5ef]].style[prop];},set:function(prop,_5f0){if(typeof _5db[_5ef]!=="undefined"){_5dc[_5de][_5db[_5ef]].style[prop]=_5f0;}},remove:function(){_5e0(_5ef);}};},escapeCssIdentifier:function(id,_5f1){return typeof id==="string"?id.replace(_5df,_5f1||"\\$1"):id;}};return util;});},"dijit/MenuItem":function(){define(["dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/_base/kernel","dojo/sniff","dojo/_base/lang","./_Widget","./_TemplatedMixin","./_Contained","./_CssStateMixin","dojo/text!./templates/MenuItem.html"],function(_5f2,dom,_5f3,_5f4,_5f5,has,lang,_5f6,_5f7,_5f8,_5f9,_5fa){var _5fb=_5f2("dijit.MenuItem"+(has("dojo-bidi")?"_NoBidi":""),[_5f6,_5f7,_5f8,_5f9],{templateString:_5fa,baseClass:"dijitMenuItem",label:"",_setLabelAttr:function(val){this._set("label",val);var _5fc="";var text;var ndx=val.search(/{\S}/);if(ndx>=0){_5fc=val.charAt(ndx+1);var _5fd=val.substr(0,ndx);var _5fe=val.substr(ndx+3);text=_5fd+_5fc+_5fe;val=_5fd+"<span class=\"dijitMenuItemShortcutKey\">"+_5fc+"</span>"+_5fe;}else{text=val;}this.domNode.setAttribute("aria-label",text+" "+this.accelKey);this.containerNode.innerHTML=val;this._set("shortcutKey",_5fc);},iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:false,_fillContent:function(_5ff){if(_5ff&&!("label" in this.params)){this._set("label",_5ff.innerHTML);}},buildRendering:function(){this.inherited(arguments);var _600=this.id+"_text";_5f3.set(this.containerNode,"id",_600);if(this.accelKeyNode){_5f3.set(this.accelKeyNode,"id",this.id+"_accel");}dom.setSelectable(this.domNode,false);},onClick:function(){},focus:function(){try{if(has("ie")==8){this.containerNode.focus();}this.focusNode.focus();}catch(e){}},_setSelected:function(_601){_5f4.toggle(this.domNode,"dijitMenuItemSelected",_601);},setLabel:function(_602){_5f5.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_602);},setDisabled:function(_603){_5f5.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",_603);},_setDisabledAttr:function(_604){this.focusNode.setAttribute("aria-disabled",_604?"true":"false");this._set("disabled",_604);},_setAccelKeyAttr:function(_605){if(this.accelKeyNode){this.accelKeyNode.style.display=_605?"":"none";this.accelKeyNode.innerHTML=_605;_5f3.set(this.containerNode,"colSpan",_605?"1":"2");}this._set("accelKey",_605);}});if(has("dojo-bidi")){_5fb=_5f2("dijit.MenuItem",_5fb,{_setLabelAttr:function(val){this.inherited(arguments);if(this.textDir==="auto"){this.applyTextDir(this.textDirNode);}}});}return _5fb;});},"prmaxquestionnaires/pages/Freelance":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../pages/templates/Freelance.html","dijit/layout/BorderContainer","dojo/topic","dojo/_base/lang","ttl/utilities2","dojo/request","dojo/dom-attr","dijit/registry","dijit/layout/ContentPane","dijit/form/Form","dijit/form/ValidationTextBox","dijit/form/FilteringSelect","dijit/form/Button","dojox/form/BusyButton","dojox/validate"],function(_606,_607,_608,_609,_60a,lang,_60b,_60c,_60d,_60e){return _606("prmaxquestionnaires.pages.Freelance",[_607,_609],{templateString:_608,gutters:false,constructor:function(){this._updated_call_back=lang.hitch(this,this._updated_call);this._error_handler_call_back=lang.hitch(this,this._error_handler);this._page_ctrl=null;this._page_error=null;},postCreate:function(){this.countryid.set("store",PRCOMMON.utils.stores.Countries());this.load(PRMAX.questionnaire);if(PRMAX.questionnaire.outlet.outlet.countryid==119){_60d.set(this.support_email_address,"href","mailto:researchgroup@prmax.co.uk");_60d.set(this.support_email_address,"innerHTML","researchgroup@prmax.co.uk");}this.inherited(arguments);},_updated_call:function(_60f){if(_60f.success=="OK"){alert("Updated");}else{alert("Failed to updated");}_60e.byId("mainframe").savebtn.cancel();},load:function(_610){with(_610){this.countryid.set("value",outlet.outlet.countryid);this.address1.set("value",outlet.address.address1);this.address2.set("value",outlet.address.address2);this.townname.set("value",outlet.address.townname);this.county.set("value",outlet.address.county);this.postcode.set("value",outlet.address.postcode);this.www.set("value",outlet.outlet.www);this.email.set("value",outlet.communications.email);this.tel.set("value",outlet.communications.tel);this.mobile.set("value",outlet.communications.mobile);this.fax.set("value",outlet.communications.fax);this.linkedin.set("value",outlet.communications.linkedin);this.twitter.set("value",outlet.communications.twitter);this.facebook.set("value",outlet.communications.facebook);this.instagram.set("value",outlet.communications.instagram);this.blog.set("value",outlet.communications.blog);this.prefix.set("value",contact.prefix);this.firstname.set("value",contact.firstname);this.familyname.set("value",contact.familyname);this.interests.set("value",contact.interests);_60d.set(this.interests_org,"innerHTML",contact.interests_org);if(outlet.outletprofile.profile){if(outlet.outletprofile.profile.editorialprofile!=null){this.editorialprofile.set("value",outlet.outletprofile.profile.editorialprofile.replace(/<br\/>/gi,"\n"));}}else{this.editorialprofile.set("value","");}}this.questionnaireid.set("value",_610.questionnaireid);},update:function(){if(_60b.form_validator(this.form)==false){alert("Not all required field filled in");throw "n";}var _611=this.form.get("value");_611["editorialprofile"]=this.editorialprofile.get("value");_60c.post("/questionnaire/update_freelance",_60b.make_params({data:_611})).then(this._updated_call_back,this._error_handler_call_back);},_error_handler:function(_612,_613){_60b.xhr_post_error(_612,_613);_60e.byId("mainframe").savebtn.cancel();}});});},"dijit/layout/TabController":function(){define(["dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/has","dojo/i18n","dojo/_base/lang","./StackController","../registry","../Menu","../MenuItem","dojo/text!./templates/_TabButton.html","dojo/i18n!../nls/common"],function(_614,dom,_615,_616,has,i18n,lang,_617,_618,Menu,_619,_61a){var _61b=_614("dijit.layout._TabButton"+(has("dojo-bidi")?"_NoBidi":""),_617.StackButton,{baseClass:"dijitTab",cssStateNodes:{closeNode:"dijitTabCloseButton"},templateString:_61a,_setNameAttr:"focusNode",scrollOnFocus:false,buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.containerNode,false);},startup:function(){this.inherited(arguments);var n=this.domNode;this.defer(function(){n.className=n.className;},1);},_setCloseButtonAttr:function(disp){this._set("closeButton",disp);_616.toggle(this.domNode,"dijitClosable",disp);this.closeNode.style.display=disp?"":"none";if(disp){var _61c=i18n.getLocalization("dijit","common");if(this.closeNode){_615.set(this.closeNode,"title",_61c.itemClose);}}},_setDisabledAttr:function(_61d){this.inherited(arguments);if(this.closeNode){if(_61d){_615.remove(this.closeNode,"title");}else{var _61e=i18n.getLocalization("dijit","common");_615.set(this.closeNode,"title",_61e.itemClose);}}},_setLabelAttr:function(_61f){this.inherited(arguments);if(!this.showLabel&&!this.params.title){this.iconNode.alt=lang.trim(this.containerNode.innerText||this.containerNode.textContent||"");}}});if(has("dojo-bidi")){_61b=_614("dijit.layout._TabButton",_61b,{_setLabelAttr:function(_620){this.inherited(arguments);this.applyTextDir(this.iconNode,this.iconNode.alt);}});}var _621=_614("dijit.layout.TabController",_617,{baseClass:"dijitTabController",templateString:"<div role='tablist' data-dojo-attach-event='onkeydown:onkeydown'></div>",tabPosition:"top",buttonWidget:_61b,buttonWidgetCloseClass:"dijitTabCloseButton",postCreate:function(){this.inherited(arguments);var _622=new Menu({id:this.id+"_Menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,targetNodeIds:[this.domNode],selector:function(node){return _616.contains(node,"dijitClosable")&&!_616.contains(node,"dijitTabDisabled");}});this.own(_622);var _623=i18n.getLocalization("dijit","common"),_624=this;_622.addChild(new _619({label:_623.itemClose,ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,onClick:function(evt){var _625=_618.byNode(this.getParent().currentTarget);_624.onCloseButtonClick(_625.page);}}));}});_621.TabButton=_61b;return _621;});},"dgrid/editor":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","dojo/_base/Deferred","dojo/on","dojo/aspect","dojo/has","dojo/query","dojo/when","./Grid","put-selector/put","dojo/_base/sniff"],function(_626,lang,_627,_628,on,_629,has,_62a,when,Grid,put){function _62b(_62c,_62d){_62c.value=_62d;if(_62c.type=="radio"||_62c.type=="checkbox"){_62c.checked=_62c.defaultChecked=!!_62d;}};function _62e(_62f,_630){if(typeof _630=="number"){_62f=isNaN(_62f)?_62f:parseFloat(_62f);}else{if(typeof _630=="boolean"){_62f=_62f=="true"?true:_62f=="false"?false:_62f;}else{if(_630 instanceof Date){var _631=new Date(_62f);_62f=isNaN(_631.getTime())?_62f:_631;}}}return _62f;};function _632(_633,cmp){if(typeof cmp.get=="function"){return _62e(cmp.get("value"));}else{return _62e(cmp[cmp.type=="checkbox"||cmp.type=="radio"?"checked":"value"]);}};function _634(grid,cell,_635,_636,_637){var _638,row,_639,_63a;if((_635&&_635.valueOf())!=(_636&&_636.valueOf())){_638=cell.element;row=cell.row;_639=cell.column;if(_639.field&&row){_63a={grid:grid,cell:cell,rowId:row.id,oldValue:_635,value:_636,bubbles:true,cancelable:true};if(_637&&_637.type){_63a.parentType=_637.type;}if(on.emit(_638,"dgrid-datachange",_63a)){if(grid.updateDirty){grid.updateDirty(row.id,_639.field,_636);_639.autoSave&&setTimeout(function(){grid._trackError("save");},0);}else{row.data[_639.field]=_636;}}else{var cmp;if((cmp=_638.widget)){cmp._dgridIgnoreChange=true;cmp.set("value",_635);setTimeout(function(){cmp._dgridIgnoreChange=false;},0);}else{if((cmp=_638.input)){_62b(cmp,_635);}}return _635;}}}return _636;};function _63b(grid,cmp,_63c){var cell=grid.cell(cmp.domNode||cmp),_63d=cell.column,_63e,id,_63f,_640=grid._activeCell;if(!cmp.isValid||cmp.isValid()){_63e=_634(grid,cell,_640?grid._activeValue:cmp._dgridLastValue,_632(_63d,cmp),_63c);if(_640){grid._activeValue=_63e;}else{cmp._dgridLastValue=_63e;}if(cmp.type==="radio"&&cmp.name&&!_63d.editOn&&_63d.field){_63f=grid.row(cmp);_62a("input[type=radio][name="+cmp.name+"]",grid.contentNode).forEach(function(_641){var row=grid.row(_641);if(_641!==cmp&&_641._dgridLastValue){_641._dgridLastValue=false;if(grid.updateDirty){grid.updateDirty(row.id,_63d.field,false);}else{row.data[_63d.field]=false;}}});for(id in grid.dirty){if(_63f.id!==id&&grid.dirty[id][_63d.field]){grid.updateDirty(id,_63d.field,false);}}}}};function _642(_643){var _644=_643.editor,_645=_643.editOn,grid=_643.grid,_646=typeof _644!="string",args,cmp,node,_647,_648;args=_643.editorArgs||{};if(typeof args=="function"){args=args.call(grid,_643);}if(_646){cmp=new _644(args);node=cmp.focusNode||cmp.domNode;node.className+=" dgrid-input";cmp.connect(cmp,_645?"onBlur":"onChange",function(){if(!cmp._dgridIgnoreChange){_63b(grid,this,{type:"widget"});}});}else{_648=function(evt){var _649=evt.target;if("_dgridLastValue" in _649&&_649.className.indexOf("dgrid-input")>-1){_63b(grid,_649,evt);}};if(!_643.grid._hasInputListener){grid._hasInputListener=true;grid.on("change",function(evt){_648(evt);});}_647=_644=="textarea"?"textarea":"input[type="+_644+"]";cmp=node=put(_647+".dgrid-input",lang.mixin({name:_643.field,tabIndex:isNaN(_643.tabIndex)?-1:_643.tabIndex},args));if(has("ie")<9||(has("ie")&&has("quirks"))){if(_644=="radio"||_644=="checkbox"){on(cmp,"click",function(evt){_648(evt);});}else{on(cmp,"change",function(evt){_648(evt);});}}}return cmp;};function _64a(_64b,_64c){var cmp=_642(_64b),grid=_64b.grid,_64d=cmp.domNode,node=cmp.domNode||cmp,_64e=cmp.focusNode||node,_64f=_64d?function(){cmp.set("value",cmp._dgridLastValue);}:function(){_62b(cmp,cmp._dgridLastValue);_63b(_64b.grid,cmp);},_650;function blur(){var _651=grid._activeCell;_64e.blur();if(typeof grid.focus==="function"){setTimeout(function(){grid.focus(_651);},_64d&&has("ie")<9?15:0);}};function _652(){var _653=node.parentNode,i=_653.children.length-1,_654={alreadyHooked:true},cell=grid.cell(node);on.emit(cell.element,"dgrid-editor-hide",{grid:grid,cell:cell,column:_64b,editor:cmp,bubbles:true,cancelable:false});_64b._editorBlurHandle.pause();_653.removeChild(node);if(cell.row){put(cell.element,"!dgrid-cell-editing");while(i--){put(_653.firstChild,"!");}Grid.appendIfNode(_653,_64b.renderCell(_64b.grid.row(_653).data,grid._activeValue,_653,grid._activeOptions?lang.delegate(_654,grid._activeOptions):_654));}grid._focusedEditorCell=grid._activeCell=grid._activeValue=grid._activeOptions=null;};function _655(evt){var key=evt.keyCode||evt.which;if(key==27){_64f();grid._activeValue=cmp._dgridLastValue;blur();}else{if(key==13&&_64b.dismissOnEnter!==false){blur();}}};_650=on(_64e,"keydown",_655);(_64b._editorBlurHandle=on.pausable(cmp,"blur",_652)).pause();return cmp;};function _656(cmp,_657,_658,_659){var _65a=cmp.domNode;if(!_65a){_62b(cmp,_659);}_658.innerHTML="";put(_658,".dgrid-cell-editing");put(_658,cmp.domNode||cmp);if(_65a&&!_657.editOn){_657.grid._editorsPendingStartup.push([cmp,_657,_658,_659]);}else{_65b(cmp,_657,_658,_659);}};function _65b(cmp,_65c,_65d,_65e){var grid=_65c.grid;if(cmp.domNode){if(!cmp._started){cmp.startup();}cmp._dgridIgnoreChange=true;cmp.set("value",_65e);setTimeout(function(){cmp._dgridIgnoreChange=false;},0);}cmp._dgridLastValue=_65e;if(grid._activeCell){grid._activeValue=_65e;on.emit(_65d,"dgrid-editor-show",{grid:grid,cell:grid.cell(_65d),column:_65c,editor:cmp,bubbles:true,cancelable:false});}};function _65f(grid){var args=grid._editorsPendingStartup;for(var i=args.length;i--;){_65b.apply(null,args[i]);}grid._editorsPendingStartup=[];};function edit(cell){var row,_660,_661,_662,_663,_664,cmp,dfd,node,self=this;function show(dfd){_660.grid._activeCell=_661;_656(_660.editorInstance,_660,_661,_664);_660._editTimer=setTimeout(function(){if(cmp.focus){cmp.focus();}if(_660._editorBlurHandle){_660._editorBlurHandle.resume();}_660._editTimer=null;dfd.resolve(cmp);},0);};if(!cell.column){cell=this.cell(cell);}if(!cell||!cell.element){return null;}_660=cell.column;_663=_660.field;_661=cell.element.contents||cell.element;if((cmp=_660.editorInstance)){if(_660.grid._activeCell!=_661){row=cell.row;_662=this.dirty&&this.dirty[row.id];_664=(_662&&_663 in _662)?_662[_663]:_660.get?_660.get(row.data):row.data[_663];if(!_660.canEdit||_660.canEdit(cell.row.data,_664)){dfd=new _628();node=cmp.domNode||cmp;if(node.offsetWidth){node.blur();setTimeout(function(){show(dfd);},0);}else{show(dfd);}return dfd.promise;}}}else{if(_660.editor){cmp=_661.widget||_661.input;if(cmp){dfd=new _628();if(cmp.focus){cmp.focus();}dfd.resolve(cmp);return dfd.promise;}}}return null;};return function(_665,_666,_667){var _668=_665.renderCell||Grid.defaultRenderCell,_669=[],_66a;function _66b(_66c){var grid=_66c.grid,_66d,_66e;if(!grid.edit){grid.edit=edit;grid._editorsPendingStartup=[];_669.push(on(grid.domNode,".dgrid-input:focusin",function(){grid._focusedEditorCell=grid.cell(this);}));_66d=grid._editorFocusoutHandle=on.pausable(grid.domNode,".dgrid-input:focusout",function(){grid._focusedEditorCell=null;});_669.push(_66d);_669.push(_629.before(grid,"removeRow",function(row){var _66f=grid._focusedEditorCell;row=grid.row(row);if(_66f&&_66f.row.id===row.id){_66e=_66f;_66d.pause();setTimeout(function(){_66d.resume();_66e=null;},0);}}));_669.push(_629.after(grid,"insertRow",function(_670){var row=grid.row(_670);if(_66e&&_66e.row.id===row.id){grid.edit(grid.cell(row,_66e.column.id));}return _670;}));_669.push(_629.after(grid,"renderArray",function(rows){when(rows,function(_671){if(_671.length){_65f(grid);}else{grid._editorsPendingStartup=[];}});return rows;}));_669.push(_629.after(grid,"_onNotification",function(){_65f(grid);}));}};if(!_665){_665={};}_665.editor=_666=_666||_665.editor||"text";_665.editOn=_667=_667||_665.editOn;_66a=typeof _666!="string";if(_665.widgetArgs){_626.deprecated("column.widgetArgs","use column.editorArgs instead","dgrid 0.4");_665.editorArgs=_665.widgetArgs;}_629.after(_665,"init",_667?function(){_66b(_665);_665.editorInstance=_64a(_665,_668);}:function(){var grid=_665.grid;_66b(_665);if(_66a){_669.push(_629.before(grid,"removeRow",function(_672){var _673=grid.cell(_672,_665.id).element,_674=_673&&(_673.contents||_673).widget;if(_674){grid._editorFocusoutHandle.pause();_674.destroyRecursive();}}));}});_629.after(_665,"destroy",function(){_627.forEach(_669,function(l){l.remove();});if(_665._editorBlurHandle){_665._editorBlurHandle.remove();}if(_665._editTimer){clearTimeout(_665._editTimer);}if(_667&&_66a){_665.editorInstance.destroyRecursive();}_665.grid.edit=null;_665.grid._editorsPendingStartup=null;});_665.renderCell=_667?function(_675,_676,cell,_677){var grid=_665.grid;if(!_677||!_677.alreadyHooked){on(cell.tagName=="TD"?cell:cell.parentNode,_667,function(){grid._activeOptions=_677;grid.edit(this);});}return _668.call(_665,_675,_676,cell,_677);}:function(_678,_679,cell,_67a){if(!_665.canEdit||_665.canEdit(_678,_679)){var cmp=_642(_665);_656(cmp,_665,cell,_679);cell[_66a?"widget":"input"]=cmp;}else{return _668.call(_665,_678,_679,cell,_67a);}};return _665;};});},"dijit/layout/_LayoutWidget":function(){define(["dojo/_base/lang","../_Widget","../_Container","../_Contained","../Viewport","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style"],function(lang,_67b,_67c,_67d,_67e,_67f,_680,_681,_682){return _67f("dijit.layout._LayoutWidget",[_67b,_67c,_67d],{baseClass:"dijitLayoutContainer",isLayoutContainer:true,_setTitleAttr:null,buildRendering:function(){this.inherited(arguments);_680.add(this.domNode,"dijitContainer");},startup:function(){if(this._started){return;}this.inherited(arguments);var _683=this.getParent&&this.getParent();if(!(_683&&_683.isLayoutContainer)){this.resize();this.own(_67e.on("resize",lang.hitch(this,"resize")));}},resize:function(_684,_685){var node=this.domNode;if(_684){_681.setMarginBox(node,_684);}var mb=_685||{};lang.mixin(mb,_684||{});if(!("h" in mb)||!("w" in mb)){mb=lang.mixin(_681.getMarginBox(node),mb);}var cs=_682.getComputedStyle(node);var me=_681.getMarginExtents(node,cs);var be=_681.getBorderExtents(node,cs);var bb=(this._borderBox={w:mb.w-(me.w+be.w),h:mb.h-(me.h+be.h)});var pe=_681.getPadExtents(node,cs);this._contentBox={l:_682.toPixelValue(node,cs.paddingLeft),t:_682.toPixelValue(node,cs.paddingTop),w:bb.w-pe.w,h:bb.h-pe.h};this.layout();},layout:function(){},_setupChild:function(_686){var cls=this.baseClass+"-child "+(_686.baseClass?this.baseClass+"-"+_686.baseClass:"");_680.add(_686.domNode,cls);},addChild:function(_687,_688){this.inherited(arguments);if(this._started){this._setupChild(_687);}},removeChild:function(_689){var cls=this.baseClass+"-child"+(_689.baseClass?" "+this.baseClass+"-"+_689.baseClass:"");_680.remove(_689.domNode,cls);this.inherited(arguments);}});});},"dojox/data/JsonRestStore":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/_base/connect","dojox/rpc/Rest","dojox/rpc/JsonRest","dojox/json/schema","dojox/data/ServiceStore"],function(lang,_68a,_68b,_68c,_68d,_68e,_68f){var rpc=lang.getObject("dojox.rpc",true);var _690=_68a("dojox.data.JsonRestStore",_68f,{constructor:function(_691){_68b.connect(_68c._index,"onUpdate",this,function(obj,_692,_693,_694){var _695=this.service.servicePath;if(!obj.__id){}else{if(obj.__id.substring(0,_695.length)==_695){this.onSet(obj,_692,_693,_694);}}});this.idAttribute=this.idAttribute||"id";if(typeof _691.target=="string"){_691.target=_691.target.match(/\/$/)||this.allowNoTrailingSlash?_691.target:(_691.target+"/");if(!this.service){this.service=_68d.services[_691.target]||_68c(_691.target,true);}}_68d.registerService(this.service,_691.target,this.schema);this.schema=this.service._schema=this.schema||this.service._schema||{};this.service._store=this;this.service.idAsRef=this.idAsRef;this.schema._idAttr=this.idAttribute;var _696=_68d.getConstructor(this.service);var self=this;this._constructor=function(data){_696.call(this,data);self.onNew(this);};this._constructor.prototype=_696.prototype;this._index=_68c._index;},loadReferencedSchema:true,idAsRef:false,referenceIntegrity:true,target:"",allowNoTrailingSlash:false,newItem:function(data,_697){data=new this._constructor(data);if(_697){var _698=this.getValue(_697.parent,_697.attribute,[]);_698=_698.concat([data]);data.__parent=_698;this.setValue(_697.parent,_697.attribute,_698);}return data;},deleteItem:function(item){var _699=[];var _69a=_69b._getStoreForItem(item)||this;if(this.referenceIntegrity){_68d._saveNotNeeded=true;var _69c=_68c._index;var _69d=function(_69e){var _69f;_699.push(_69e);_69e.__checked=1;for(var i in _69e){if(i.substring(0,2)!="__"){var _6a0=_69e[i];if(_6a0==item){if(_69e!=_69c){if(_69e instanceof Array){(_69f=_69f||[]).push(i);}else{(_69b._getStoreForItem(_69e)||_69a).unsetAttribute(_69e,i);}}}else{if((typeof _6a0=="object")&&_6a0){if(!_6a0.__checked){_69d(_6a0);}if(typeof _6a0.__checked=="object"&&_69e!=_69c){(_69b._getStoreForItem(_69e)||_69a).setValue(_69e,i,_6a0.__checked);}}}}}if(_69f){i=_69f.length;_69e=_69e.__checked=_69e.concat();while(i--){_69e.splice(_69f[i],1);}return _69e;}return null;};_69d(_69c);_68d._saveNotNeeded=false;var i=0;while(_699[i]){delete _699[i++].__checked;}}_68d.deleteObject(item);_69a.onDelete(item);},changing:function(item,_6a1){_68d.changing(item,_6a1);},cancelChanging:function(_6a2){if(!_6a2.__id){return;}dirtyObjects=_6a3=_68d.getDirtyObjects();for(var i=0;i<dirtyObjects.length;i++){var _6a3=dirtyObjects[i];if(_6a2==_6a3.object){dirtyObjects.splice(i,1);return;}}},setValue:function(item,_6a4,_6a5){var old=item[_6a4];var _6a6=item.__id?_69b._getStoreForItem(item):this;if(_68e&&_6a6.schema&&_6a6.schema.properties){_68e.mustBeValid(_68e.checkPropertyChange(_6a5,_6a6.schema.properties[_6a4]));}if(_6a4==_6a6.idAttribute){throw new Error("Can not change the identity attribute for an item");}_6a6.changing(item);item[_6a4]=_6a5;if(_6a5&&!_6a5.__parent){_6a5.__parent=item;}_6a6.onSet(item,_6a4,old,_6a5);},setValues:function(item,_6a7,_6a8){if(!lang.isArray(_6a8)){throw new Error("setValues expects to be passed an Array object as its value");}this.setValue(item,_6a7,_6a8);},unsetAttribute:function(item,_6a9){this.changing(item);var old=item[_6a9];delete item[_6a9];this.onSet(item,_6a9,old,undefined);},save:function(_6aa){if(!(_6aa&&_6aa.global)){(_6aa=_6aa||{}).service=this.service;}if("syncMode" in _6aa?_6aa.syncMode:this.syncMode){rpc._sync=true;}var _6ab=_68d.commit(_6aa);this.serverVersion=this._updates&&this._updates.length;return _6ab;},revert:function(_6ac){_68d.revert(!(_6ac&&_6ac.global)&&this.service);},isDirty:function(item){return _68d.isDirty(item,this);},isItem:function(item,_6ad){return item&&item.__id&&(_6ad||this.service==_68d.getServiceAndId(item.__id).service);},_doQuery:function(args){var _6ae=typeof args.queryStr=="string"?args.queryStr:args.query;var _6af=_68d.query(this.service,_6ae,args);var self=this;if(this.loadReferencedSchema){_6af.addCallback(function(_6b0){var _6b1=_6af.ioArgs&&_6af.ioArgs.xhr&&_6af.ioArgs.xhr.getResponseHeader("Content-Type");var _6b2=_6b1&&_6b1.match(/definedby\s*=\s*([^;]*)/);if(_6b1&&!_6b2){_6b2=_6af.ioArgs.xhr.getResponseHeader("Link");_6b2=_6b2&&_6b2.match(/<([^>]*)>;\s*rel="?definedby"?/);}_6b2=_6b2&&_6b2[1];if(_6b2){var _6b3=_68d.getServiceAndId((self.target+_6b2).replace(/^(.*\/)?(\w+:\/\/)|[^\/\.]+\/\.\.\/|^.*\/(\/)/,"$2$3"));var _6b4=_68d.byId(_6b3.service,_6b3.id);_6b4.addCallbacks(function(_6b5){lang.mixin(self.schema,_6b5);return _6b0;},function(_6b6){return _6b0;});return _6b4;}return undefined;});}return _6af;},_processResults:function(_6b7,_6b8){var _6b9=_6b7.length;return {totalCount:_6b8.fullLength||(_6b8.request.count==_6b9?(_6b8.request.start||0)+_6b9*2:_6b9),items:_6b7};},getConstructor:function(){return this._constructor;},getIdentity:function(item){var id=item.__clientId||item.__id;if(!id){return id;}var _6ba=this.service.servicePath.replace(/[^\/]*$/,"");return id.substring(0,_6ba.length)!=_6ba?id:id.substring(_6ba.length);},fetchItemByIdentity:function(args){var id=args.identity;var _6bb=this;if(id.toString().match(/^(\w*:)?\//)){var _6bc=_68d.getServiceAndId(id);_6bb=_6bc.service._store;args.identity=_6bc.id;}args._prefix=_6bb.service.servicePath.replace(/[^\/]*$/,"");return _6bb.inherited(arguments);},onSet:function(){},onNew:function(){},onDelete:function(){},getFeatures:function(){var _6bd=this.inherited(arguments);_6bd["dojo.data.api.Write"]=true;_6bd["dojo.data.api.Notification"]=true;return _6bd;},getParent:function(item){return item&&item.__parent;}});_690.getStore=function(_6be,_6bf){if(typeof _6be.target=="string"){_6be.target=_6be.target.match(/\/$/)||_6be.allowNoTrailingSlash?_6be.target:(_6be.target+"/");var _6c0=(_68d.services[_6be.target]||{})._store;if(_6c0){return _6c0;}}return new (_6bf||_690)(_6be);};var _69b=lang.getObject("dojox.data",true);_69b._getStoreForItem=function(item){if(item.__id){var _6c1=_68d.getServiceAndId(item.__id);if(_6c1&&_6c1.service._store){return _6c1.service._store;}else{var _6c2=item.__id.toString().match(/.*\//)[0];return new _690({target:_6c2});}}return null;};var _6c3=lang.getObject("dojox.json.ref",true);_6c3._useRefs=true;return _690;});},"dijit/popup":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","./place","./BackgroundIframe","./Viewport","./main","dojo/touch"],function(_6c4,_6c5,_6c6,dom,_6c7,_6c8,_6c9,_6ca,has,keys,lang,on,_6cb,_6cc,_6cd,_6ce){function _6cf(){if(this._popupWrapper){_6c8.destroy(this._popupWrapper);delete this._popupWrapper;}};var _6d0=_6c6(null,{_stack:[],_beginZIndex:1000,_idGen:1,_repositionAll:function(){if(this._firstAroundNode){var _6d1=this._firstAroundPosition,_6d2=_6c9.position(this._firstAroundNode,true),dx=_6d2.x-_6d1.x,dy=_6d2.y-_6d1.y;if(dx||dy){this._firstAroundPosition=_6d2;for(var i=0;i<this._stack.length;i++){var _6d3=this._stack[i].wrapper.style;_6d3.top=(parseFloat(_6d3.top)+dy)+"px";if(_6d3.right=="auto"){_6d3.left=(parseFloat(_6d3.left)+dx)+"px";}else{_6d3.right=(parseFloat(_6d3.right)-dx)+"px";}}}this._aroundMoveListener=setTimeout(lang.hitch(this,"_repositionAll"),dx||dy?10:50);}},_createWrapper:function(_6d4){var _6d5=_6d4._popupWrapper,node=_6d4.domNode;if(!_6d5){_6d5=_6c8.create("div",{"class":"dijitPopup",style:{display:"none"},role:"region","aria-label":_6d4["aria-label"]||_6d4.label||_6d4.name||_6d4.id},_6d4.ownerDocumentBody);_6d5.appendChild(node);var s=node.style;s.display="";s.visibility="";s.position="";s.top="0px";_6d4._popupWrapper=_6d5;_6c5.after(_6d4,"destroy",_6cf,true);if("ontouchend" in document){on(_6d5,"touchend",function(evt){if(!/^(input|button|textarea)$/i.test(evt.target.tagName)){evt.preventDefault();}});}_6d5.dojoClick=true;}return _6d5;},moveOffScreen:function(_6d6){var _6d7=this._createWrapper(_6d6);var ltr=_6c9.isBodyLtr(_6d6.ownerDocument),_6d8={visibility:"hidden",top:"-9999px",display:""};_6d8[ltr?"left":"right"]="-9999px";_6d8[ltr?"right":"left"]="auto";_6ca.set(_6d7,_6d8);return _6d7;},hide:function(_6d9){var _6da=this._createWrapper(_6d9);_6ca.set(_6da,{display:"none",height:"auto",overflowY:"visible",border:""});var node=_6d9.domNode;if("_originalStyle" in node){node.style.cssText=node._originalStyle;}},getTopPopup:function(){var _6db=this._stack;for(var pi=_6db.length-1;pi>0&&_6db[pi].parent===_6db[pi-1].widget;pi--){}return _6db[pi];},open:function(args){var _6dc=this._stack,_6dd=args.popup,node=_6dd.domNode,_6de=args.orient||["below","below-alt","above","above-alt"],ltr=args.parent?args.parent.isLeftToRight():_6c9.isBodyLtr(_6dd.ownerDocument),_6df=args.around,id=(args.around&&args.around.id)?(args.around.id+"_dropdown"):("popup_"+this._idGen++);while(_6dc.length&&(!args.parent||!dom.isDescendant(args.parent.domNode,_6dc[_6dc.length-1].widget.domNode))){this.close(_6dc[_6dc.length-1].widget);}var _6e0=this.moveOffScreen(_6dd);if(_6dd.startup&&!_6dd._started){_6dd.startup();}var _6e1,_6e2=_6c9.position(node);if("maxHeight" in args&&args.maxHeight!=-1){_6e1=args.maxHeight||Infinity;}else{var _6e3=_6cd.getEffectiveBox(this.ownerDocument),_6e4=_6df?_6c9.position(_6df,false):{y:args.y-(args.padding||0),h:(args.padding||0)*2};_6e1=Math.floor(Math.max(_6e4.y,_6e3.h-(_6e4.y+_6e4.h)));}if(_6e2.h>_6e1){var cs=_6ca.getComputedStyle(node),_6e5=cs.borderLeftWidth+" "+cs.borderLeftStyle+" "+cs.borderLeftColor;_6ca.set(_6e0,{overflowY:"scroll",height:_6e1+"px",border:_6e5});node._originalStyle=node.style.cssText;node.style.border="none";}_6c7.set(_6e0,{id:id,style:{zIndex:this._beginZIndex+_6dc.length},"class":"dijitPopup "+(_6dd.baseClass||_6dd["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:args.parent?args.parent.id:""});if(_6dc.length==0&&_6df){this._firstAroundNode=_6df;this._firstAroundPosition=_6c9.position(_6df,true);this._aroundMoveListener=setTimeout(lang.hitch(this,"_repositionAll"),50);}if(has("config-bgIframe")&&!_6dd.bgIframe){_6dd.bgIframe=new _6cc(_6e0);}var _6e6=_6dd.orient?lang.hitch(_6dd,"orient"):null,best=_6df?_6cb.around(_6e0,_6df,_6de,ltr,_6e6):_6cb.at(_6e0,args,_6de=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],args.padding,_6e6);_6e0.style.visibility="visible";node.style.visibility="visible";var _6e7=[];_6e7.push(on(_6e0,"keydown",lang.hitch(this,function(evt){if(evt.keyCode==keys.ESCAPE&&args.onCancel){evt.stopPropagation();evt.preventDefault();args.onCancel();}else{if(evt.keyCode==keys.TAB){evt.stopPropagation();evt.preventDefault();var _6e8=this.getTopPopup();if(_6e8&&_6e8.onCancel){_6e8.onCancel();}}}})));if(_6dd.onCancel&&args.onCancel){_6e7.push(_6dd.on("cancel",args.onCancel));}_6e7.push(_6dd.on(_6dd.onExecute?"execute":"change",lang.hitch(this,function(){var _6e9=this.getTopPopup();if(_6e9&&_6e9.onExecute){_6e9.onExecute();}})));_6dc.push({widget:_6dd,wrapper:_6e0,parent:args.parent,onExecute:args.onExecute,onCancel:args.onCancel,onClose:args.onClose,handlers:_6e7});if(_6dd.onOpen){_6dd.onOpen(best);}return best;},close:function(_6ea){var _6eb=this._stack;while((_6ea&&_6c4.some(_6eb,function(elem){return elem.widget==_6ea;}))||(!_6ea&&_6eb.length)){var top=_6eb.pop(),_6ec=top.widget,_6ed=top.onClose;if(_6ec.bgIframe){_6ec.bgIframe.destroy();delete _6ec.bgIframe;}if(_6ec.onClose){_6ec.onClose();}var h;while(h=top.handlers.pop()){h.remove();}if(_6ec&&_6ec.domNode){this.hide(_6ec);}if(_6ed){_6ed();}}if(_6eb.length==0&&this._aroundMoveListener){clearTimeout(this._aroundMoveListener);this._firstAroundNode=this._firstAroundPosition=this._aroundMoveListener=null;}}});return (_6ce.popup=new _6d0());});},"dijit/_base/manager":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(_6ee,_6ef,lang,_6f0,_6f1){var _6f2={};_6ee.forEach(["byId","getUniqueId","findWidgets","_destroyAll","byNode","getEnclosingWidget"],function(name){_6f2[name]=_6f0[name];});lang.mixin(_6f2,{defaultDuration:_6ef["defaultDuration"]||200});lang.mixin(_6f1,_6f2);return _6f1;});},"dijit/layout/StackController":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/keys","dojo/_base/lang","dojo/on","dojo/topic","../focus","../registry","../_Widget","../_TemplatedMixin","../_Container","../form/ToggleButton","dojo/touch"],function(_6f3,_6f4,_6f5,_6f6,keys,lang,on,_6f7,_6f8,_6f9,_6fa,_6fb,_6fc,_6fd){var _6fe=_6f4("dijit.layout._StackButton",_6fd,{tabIndex:"-1",closeButton:false,_aria_attr:"aria-selected",buildRendering:function(evt){this.inherited(arguments);(this.focusNode||this.domNode).setAttribute("role","tab");}});var _6ff=_6f4("dijit.layout.StackController",[_6fa,_6fb,_6fc],{baseClass:"dijitStackController",templateString:"<span role='tablist' data-dojo-attach-event='onkeydown'></span>",containerId:"",buttonWidget:_6fe,buttonWidgetCloseClass:"dijitStackCloseButton",pane2button:function(id){return _6f9.byId(this.id+"_"+id);},postCreate:function(){this.inherited(arguments);this.own(_6f7.subscribe(this.containerId+"-startup",lang.hitch(this,"onStartup")),_6f7.subscribe(this.containerId+"-addChild",lang.hitch(this,"onAddChild")),_6f7.subscribe(this.containerId+"-removeChild",lang.hitch(this,"onRemoveChild")),_6f7.subscribe(this.containerId+"-selectChild",lang.hitch(this,"onSelectChild")),_6f7.subscribe(this.containerId+"-containerKeyDown",lang.hitch(this,"onContainerKeyDown")));this.containerNode.dojoClick=true;this.own(on(this.containerNode,"click",lang.hitch(this,function(evt){var _700=_6f9.getEnclosingWidget(evt.target);if(_700!=this.containerNode&&!_700.disabled&&_700.page){for(var _701=evt.target;_701!==this.containerNode;_701=_701.parentNode){if(_6f5.contains(_701,this.buttonWidgetCloseClass)){this.onCloseButtonClick(_700.page);break;}else{if(_701==_700.domNode){this.onButtonClick(_700.page);break;}}}}})));},onStartup:function(info){this.textDir=info.textDir;_6f3.forEach(info.children,this.onAddChild,this);if(info.selected){this.onSelectChild(info.selected);}var _702=_6f9.byId(this.containerId).containerNode,_703=lang.hitch(this,"pane2button"),_704={"title":"label","showtitle":"showLabel","iconclass":"iconClass","closable":"closeButton","tooltip":"title","disabled":"disabled","textdir":"textdir"},_705=function(attr,_706){return on(_702,"attrmodified-"+attr,function(evt){var _707=_703(evt.detail&&evt.detail.widget&&evt.detail.widget.id);if(_707){_707.set(_706,evt.detail.newValue);}});};for(var attr in _704){this.own(_705(attr,_704[attr]));}},destroy:function(_708){this.destroyDescendants(_708);this.inherited(arguments);},onAddChild:function(page,_709){var Cls=lang.isString(this.buttonWidget)?lang.getObject(this.buttonWidget):this.buttonWidget;var _70a=new Cls({id:this.id+"_"+page.id,name:this.id+"_"+page.id,label:page.title,disabled:page.disabled,ownerDocument:this.ownerDocument,dir:page.dir,lang:page.lang,textDir:page.textDir||this.textDir,showLabel:page.showTitle,iconClass:page.iconClass,closeButton:page.closable,title:page.tooltip,page:page});this.addChild(_70a,_709);page.controlButton=_70a;if(!this._currentChild){this.onSelectChild(page);}var _70b=page._wrapper.getAttribute("aria-labelledby")?page._wrapper.getAttribute("aria-labelledby")+" "+_70a.id:_70a.id;page._wrapper.removeAttribute("aria-label");page._wrapper.setAttribute("aria-labelledby",_70b);},onRemoveChild:function(page){if(this._currentChild===page){this._currentChild=null;}var _70c=this.pane2button(page.id);if(_70c){this.removeChild(_70c);_70c.destroy();}delete page.controlButton;},onSelectChild:function(page){if(!page){return;}if(this._currentChild){var _70d=this.pane2button(this._currentChild.id);_70d.set("checked",false);_70d.focusNode.setAttribute("tabIndex","-1");}var _70e=this.pane2button(page.id);_70e.set("checked",true);this._currentChild=page;_70e.focusNode.setAttribute("tabIndex","0");var _70f=_6f9.byId(this.containerId);},onButtonClick:function(page){var _710=this.pane2button(page.id);_6f8.focus(_710.focusNode);if(this._currentChild&&this._currentChild.id===page.id){_710.set("checked",true);}var _711=_6f9.byId(this.containerId);_711.selectChild(page);},onCloseButtonClick:function(page){var _712=_6f9.byId(this.containerId);_712.closeChild(page);if(this._currentChild){var b=this.pane2button(this._currentChild.id);if(b){_6f8.focus(b.focusNode||b.domNode);}}},adjacent:function(_713){if(!this.isLeftToRight()&&(!this.tabPosition||/top|bottom/.test(this.tabPosition))){_713=!_713;}var _714=this.getChildren();var idx=_6f3.indexOf(_714,this.pane2button(this._currentChild.id)),_715=_714[idx];var _716;do{idx=(idx+(_713?1:_714.length-1))%_714.length;_716=_714[idx];}while(_716.disabled&&_716!=_715);return _716;},onkeydown:function(e,_717){if(this.disabled||e.altKey){return;}var _718=null;if(e.ctrlKey||!e._djpage){switch(e.keyCode){case keys.LEFT_ARROW:case keys.UP_ARROW:if(!e._djpage){_718=false;}break;case keys.PAGE_UP:if(e.ctrlKey){_718=false;}break;case keys.RIGHT_ARROW:case keys.DOWN_ARROW:if(!e._djpage){_718=true;}break;case keys.PAGE_DOWN:if(e.ctrlKey){_718=true;}break;case keys.HOME:var _719=this.getChildren();for(var idx=0;idx<_719.length;idx++){var _71a=_719[idx];if(!_71a.disabled){this.onButtonClick(_71a.page);break;}}e.stopPropagation();e.preventDefault();break;case keys.END:var _719=this.getChildren();for(var idx=_719.length-1;idx>=0;idx--){var _71a=_719[idx];if(!_71a.disabled){this.onButtonClick(_71a.page);break;}}e.stopPropagation();e.preventDefault();break;case keys.DELETE:case "W".charCodeAt(0):if(this._currentChild.closable&&(e.keyCode==keys.DELETE||e.ctrlKey)){this.onCloseButtonClick(this._currentChild);e.stopPropagation();e.preventDefault();}break;case keys.TAB:if(e.ctrlKey){this.onButtonClick(this.adjacent(!e.shiftKey).page);e.stopPropagation();e.preventDefault();}break;}if(_718!==null){this.onButtonClick(this.adjacent(_718).page);e.stopPropagation();e.preventDefault();}}},onContainerKeyDown:function(info){info.e._djpage=info.page;this.onkeydown(info.e);}});_6ff.StackButton=_6fe;return _6ff;});},"dojox/validate/regexp":function(){define(["dojo/_base/lang","dojo/regexp","dojox/main"],function(lang,_71b,_71c){var _71d=lang.getObject("validate.regexp",true,_71c);_71d=_71c.validate.regexp={ipAddress:function(_71e){_71e=(typeof _71e=="object")?_71e:{};if(typeof _71e.allowDottedDecimal!="boolean"){_71e.allowDottedDecimal=true;}if(typeof _71e.allowDottedHex!="boolean"){_71e.allowDottedHex=true;}if(typeof _71e.allowDottedOctal!="boolean"){_71e.allowDottedOctal=true;}if(typeof _71e.allowDecimal!="boolean"){_71e.allowDecimal=true;}if(typeof _71e.allowHex!="boolean"){_71e.allowHex=true;}if(typeof _71e.allowIPv6!="boolean"){_71e.allowIPv6=true;}if(typeof _71e.allowHybrid!="boolean"){_71e.allowHybrid=true;}var _71f="((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";var _720="(0[xX]0*[\\da-fA-F]?[\\da-fA-F]\\.){3}0[xX]0*[\\da-fA-F]?[\\da-fA-F]";var _721="(0+[0-3][0-7][0-7]\\.){3}0+[0-3][0-7][0-7]";var _722="(0|[1-9]\\d{0,8}|[1-3]\\d{9}|4[01]\\d{8}|42[0-8]\\d{7}|429[0-3]\\d{6}|"+"4294[0-8]\\d{5}|42949[0-5]\\d{4}|429496[0-6]\\d{3}|4294967[01]\\d{2}|42949672[0-8]\\d|429496729[0-5])";var _723="0[xX]0*[\\da-fA-F]{1,8}";var _724="([\\da-fA-F]{1,4}\\:){7}[\\da-fA-F]{1,4}";var _725="([\\da-fA-F]{1,4}\\:){6}"+"((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";var a=[];if(_71e.allowDottedDecimal){a.push(_71f);}if(_71e.allowDottedHex){a.push(_720);}if(_71e.allowDottedOctal){a.push(_721);}if(_71e.allowDecimal){a.push(_722);}if(_71e.allowHex){a.push(_723);}if(_71e.allowIPv6){a.push(_724);}if(_71e.allowHybrid){a.push(_725);}var _726="";if(a.length>0){_726="("+a.join("|")+")";}return _726;},host:function(_727){_727=(typeof _727=="object")?_727:{};if(typeof _727.allowIP!="boolean"){_727.allowIP=true;}if(typeof _727.allowLocal!="boolean"){_727.allowLocal=false;}if(typeof _727.allowPort!="boolean"){_727.allowPort=true;}if(typeof _727.allowNamed!="boolean"){_727.allowNamed=false;}var _728="(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)";var _729="(?:[a-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)";var _72a=_727.allowPort?"(\\:\\d+)?":"";var _72b="((?:"+_728+"\\.)+"+_729+"\\.?)";if(_727.allowIP){_72b+="|"+_71d.ipAddress(_727);}if(_727.allowLocal){_72b+="|localhost";}if(_727.allowNamed){_72b+="|^[^-][a-zA-Z0-9_-]*";}return "("+_72b+")"+_72a;},url:function(_72c){_72c=(typeof _72c=="object")?_72c:{};if(!("scheme" in _72c)){_72c.scheme=[true,false];}var _72d=_71b.buildGroupRE(_72c.scheme,function(q){if(q){return "(https?|ftps?)\\://";}return "";});var _72e="(/(?:[^?#\\s/]+/)*(?:[^?#\\s/]+(?:\\?[^?#\\s/]*)?(?:#[A-Za-z][\\w.:-]*)?)?)?";return _72d+_71d.host(_72c)+_72e;},emailAddress:function(_72f){_72f=(typeof _72f=="object")?_72f:{};if(typeof _72f.allowCruft!="boolean"){_72f.allowCruft=false;}_72f.allowPort=false;var _730="([!#-'*+\\-\\/-9=?A-Z^-~]+[.])*[!#-'*+\\-\\/-9=?A-Z^-~]+";var _731=_730+"@"+_71d.host(_72f);if(_72f.allowCruft){_731="<?(mailto\\:)?"+_731+">?";}return _731;},emailAddressList:function(_732){_732=(typeof _732=="object")?_732:{};if(typeof _732.listSeparator!="string"){_732.listSeparator="\\s;,";}var _733=_71d.emailAddress(_732);var _734="("+_733+"\\s*["+_732.listSeparator+"]\\s*)*"+_733+"\\s*["+_732.listSeparator+"]?\\s*";return _734;},numberFormat:function(_735){_735=(typeof _735=="object")?_735:{};if(typeof _735.format=="undefined"){_735.format="###-###-####";}var _736=function(_737){return _71b.escapeString(_737,"?").replace(/\?/g,"\\d?").replace(/#/g,"\\d");};return _71b.buildGroupRE(_735.format,_736);},ca:{postalCode:function(){return "([A-Z][0-9][A-Z] [0-9][A-Z][0-9])";},province:function(){return "(AB|BC|MB|NB|NL|NS|NT|NU|ON|PE|QC|SK|YT)";}},us:{state:function(_738){_738=(typeof _738=="object")?_738:{};if(typeof _738.allowTerritories!="boolean"){_738.allowTerritories=true;}if(typeof _738.allowMilitary!="boolean"){_738.allowMilitary=true;}var _739="AL|AK|AZ|AR|CA|CO|CT|DE|DC|FL|GA|HI|ID|IL|IN|IA|KS|KY|LA|ME|MD|MA|MI|MN|MS|MO|MT|"+"NE|NV|NH|NJ|NM|NY|NC|ND|OH|OK|OR|PA|RI|SC|SD|TN|TX|UT|VT|VA|WA|WV|WI|WY";var _73a="AS|FM|GU|MH|MP|PW|PR|VI";var _73b="AA|AE|AP";if(_738.allowTerritories){_739+="|"+_73a;}if(_738.allowMilitary){_739+="|"+_73b;}return "("+_739+")";}}};return _71d;});},"dojo/dnd/Mover":function(){define(["../_base/array","../_base/declare","../_base/lang","../sniff","../_base/window","../dom","../dom-geometry","../dom-style","../Evented","../on","../touch","./common","./autoscroll"],function(_73c,_73d,lang,has,win,dom,_73e,_73f,_740,on,_741,dnd,_742){return _73d("dojo.dnd.Mover",[_740],{constructor:function(node,e,host){this.node=dom.byId(node);this.marginBox={l:e.pageX,t:e.pageY};this.mouseButton=e.button;var h=(this.host=host),d=node.ownerDocument;function _743(e){e.preventDefault();e.stopPropagation();};this.events=[on(d,_741.move,lang.hitch(this,"onFirstMove")),on(d,_741.move,lang.hitch(this,"onMouseMove")),on(d,_741.release,lang.hitch(this,"onMouseUp")),on(d,"dragstart",_743),on(d.body,"selectstart",_743)];_742.autoScrollStart(d);if(h&&h.onMoveStart){h.onMoveStart(this);}},onMouseMove:function(e){_742.autoScroll(e);var m=this.marginBox;this.host.onMove(this,{l:m.l+e.pageX,t:m.t+e.pageY},e);e.preventDefault();e.stopPropagation();},onMouseUp:function(e){if(has("webkit")&&has("mac")&&this.mouseButton==2?e.button==0:this.mouseButton==e.button){this.destroy();}e.preventDefault();e.stopPropagation();},onFirstMove:function(e){var s=this.node.style,l,t,h=this.host;switch(s.position){case "relative":case "absolute":l=Math.round(parseFloat(s.left))||0;t=Math.round(parseFloat(s.top))||0;break;default:s.position="absolute";var m=_73e.getMarginBox(this.node);var b=win.doc.body;var bs=_73f.getComputedStyle(b);var bm=_73e.getMarginBox(b,bs);var bc=_73e.getContentBox(b,bs);l=m.l-(bc.l-bm.l);t=m.t-(bc.t-bm.t);break;}this.marginBox.l=l-this.marginBox.l;this.marginBox.t=t-this.marginBox.t;if(h&&h.onFirstMove){h.onFirstMove(this,e);}this.events.shift().remove();},destroy:function(){_73c.forEach(this.events,function(_744){_744.remove();});var h=this.host;if(h&&h.onMoveStop){h.onMoveStop(this);}this.events=this.node=this.host=null;}});});},"prcommon2/web/WebButton":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../web/templates/WebButton.html","dojo/request","ttl/utilities2","dojo/json","dojo/_base/lang","dojo/dom-class","dojo/topic","dijit/form/Button"],function(_745,_746,_747,_748,_749,json,lang,_74a,_74b){return _745("prcommon2.web.WebButton",[_746],{templateString:_747,constructor:function(){},postCreate:function(){},_getSourceAttr:function(){return this.webbutton;},_setSourceAttr:function(_74c){this.webbutton=_74c;},_open_url_new_tab:function(){var url="";if(typeof this.webbutton=="string"){url=this.webbutton;}else{url=this.webbutton.get("value");}if(url&&url!=""){var win=window.open(url,"_blank");win.focus();}}});});},"dojox/form/_BusyButtonMixin":function(){define(["dojo/_base/lang","dojo/dom-attr","dojo/dom-class","dijit/form/Button","dijit/form/DropDownButton","dijit/form/ComboButton","dojo/i18n","dojo/i18n!dijit/nls/loading","dojo/_base/declare"],function(lang,_74d,_74e,_74f,_750,_751,i18n,_752,_753){return _753("dojox.form._BusyButtonMixin",null,{isBusy:false,isCancelled:false,busyLabel:"",timeout:null,useIcon:true,postMixInProperties:function(){this.inherited(arguments);if(!this.busyLabel){this.busyLabel=i18n.getLocalization("dijit","loading",this.lang).loadingState;}},postCreate:function(){this.inherited(arguments);this._label=this.containerNode.innerHTML;this._initTimeout=this.timeout;if(this.isBusy){this.makeBusy();}},makeBusy:function(){this.isBusy=true;this.isCancelled=false;if(this._disableHandle){this._disableHandle.remove();}this._disableHandle=this.defer(function(){this.set("disabled",true);});this.setLabel(this.busyLabel,this.timeout);},cancel:function(){this.isCancelled=true;if(this._disableHandle){this._disableHandle.remove();}this.set("disabled",false);this.isBusy=false;this.setLabel(this._label);if(this._timeout){clearTimeout(this._timeout);}this.timeout=this._initTimeout;},resetTimeout:function(_754){if(this._timeout){clearTimeout(this._timeout);}if(_754){this._timeout=setTimeout(lang.hitch(this,function(){this.cancel();}),_754);}else{if(_754==undefined||_754===0){this.cancel();}}},setLabel:function(_755,_756){this.label=_755;while(this.containerNode.firstChild){this.containerNode.removeChild(this.containerNode.firstChild);}this.containerNode.appendChild(document.createTextNode(this.label));if(this.showLabel==false&&!_74d.get(this.domNode,"title")){this.titleNode.title=lang.trim(this.containerNode.innerText||this.containerNode.textContent||"");}if(_756){this.resetTimeout(_756);}else{this.timeout=null;}if(this.useIcon&&this.isBusy){var node=new Image();node.src=this._blankGif;_74d.set(node,"id",this.id+"_icon");_74e.add(node,"dojoxBusyButtonIcon");this.containerNode.appendChild(node);}},_onClick:function(e){if(!this.isBusy){this.inherited(arguments);if(!this.isCancelled){this.makeBusy();}}}});});},"dijit/layout/TabContainer":function(){define(["dojo/_base/lang","dojo/_base/declare","./_TabContainerBase","./TabController","./ScrollingTabController"],function(lang,_757,_758,_759,_75a){return _757("dijit.layout.TabContainer",_758,{useMenu:true,useSlider:true,controllerWidget:"",_makeController:function(_75b){var cls=this.baseClass+"-tabs"+(this.doLayout?"":" dijitTabNoLayout"),_759=typeof this.controllerWidget=="string"?lang.getObject(this.controllerWidget):this.controllerWidget;return new _759({id:this.id+"_tablist",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,tabPosition:this.tabPosition,doLayout:this.doLayout,containerId:this.id,"class":cls,nested:this.nested,useMenu:this.useMenu,useSlider:this.useSlider,tabStripClass:this.tabStrip?this.baseClass+(this.tabStrip?"":"No")+"Strip":null},_75b);},postMixInProperties:function(){this.inherited(arguments);if(!this.controllerWidget){this.controllerWidget=(this.tabPosition=="top"||this.tabPosition=="bottom")&&!this.nested?_75a:_759;}}});});},"dijit/BackgroundIframe":function(){define(["require","./main","dojo/_base/config","dojo/dom-construct","dojo/dom-style","dojo/_base/lang","dojo/on","dojo/sniff"],function(_75c,_75d,_75e,_75f,_760,lang,on,has){has.add("config-bgIframe",(has("ie")&&!/IEMobile\/10\.0/.test(navigator.userAgent))||(has("trident")&&/Windows NT 6.[01]/.test(navigator.userAgent)));var _761=new function(){var _762=[];this.pop=function(){var _763;if(_762.length){_763=_762.pop();_763.style.display="";}else{if(has("ie")<9){var burl=_75e["dojoBlankHtmlUrl"]||_75c.toUrl("dojo/resources/blank.html")||"javascript:\"\"";var html="<iframe src='"+burl+"' role='presentation'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_763=document.createElement(html);}else{_763=_75f.create("iframe");_763.src="javascript:\"\"";_763.className="dijitBackgroundIframe";_763.setAttribute("role","presentation");_760.set(_763,"opacity",0.1);}_763.tabIndex=-1;}return _763;};this.push=function(_764){_764.style.display="none";_762.push(_764);};}();_75d.BackgroundIframe=function(node){if(!node.id){throw new Error("no id");}if(has("config-bgIframe")){var _765=(this.iframe=_761.pop());node.appendChild(_765);if(has("ie")<7||has("quirks")){this.resize(node);this._conn=on(node,"resize",lang.hitch(this,"resize",node));}else{_760.set(_765,{width:"100%",height:"100%"});}}};lang.extend(_75d.BackgroundIframe,{resize:function(node){if(this.iframe){_760.set(this.iframe,{width:node.offsetWidth+"px",height:node.offsetHeight+"px"});}},destroy:function(){if(this._conn){this._conn.remove();this._conn=null;}if(this.iframe){this.iframe.parentNode.removeChild(this.iframe);_761.push(this.iframe);delete this.iframe;}}});return _75d.BackgroundIframe;});},"dijit/form/Button":function(){define(["require","dojo/_base/declare","dojo/dom-class","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/ready","./_FormWidget","./_ButtonMixin","dojo/text!./templates/Button.html","../a11yclick"],function(_766,_767,_768,has,_769,lang,_76a,_76b,_76c,_76d){if(has("dijit-legacy-requires")){_76a(0,function(){var _76e=["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"];_766(_76e);});}var _76f=_767("dijit.form.Button"+(has("dojo-bidi")?"_NoBidi":""),[_76b,_76c],{showLabel:true,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:_76d,_setValueAttr:"valueNode",_setNameAttr:function(name){if(this.valueNode){this.valueNode.setAttribute("name",name);}},postCreate:function(){this.inherited(arguments);this._setLabelFromContainer();},_setLabelFromContainer:function(){if(this.containerNode&&!this.label){this.label=lang.trim(this.containerNode.innerHTML);this.onLabelSet();}},_setShowLabelAttr:function(val){if(this.containerNode){_768.toggle(this.containerNode,"dijitDisplayNone",!val);}this._set("showLabel",val);},setLabel:function(_770){_769.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_770);},onLabelSet:function(){this.inherited(arguments);if(!this.showLabel&&!("title" in this.params)){this.titleNode.title=lang.trim(this.containerNode.innerText||this.containerNode.textContent||"");}}});if(has("dojo-bidi")){_76f=_767("dijit.form.Button",_76f,{onLabelSet:function(){this.inherited(arguments);if(this.titleNode.title){this.applyTextDir(this.titleNode,this.titleNode.title);}},_setTextDirAttr:function(_771){if(this._created&&this.textDir!=_771){this._set("textDir",_771);this._setLabelAttr(this.label);}}});}return _76f;});},"dojox/rpc/Rest":function(){define("dojox/rpc/Rest",["dojo","dojox"],function(dojo,_772){dojo.getObject("rpc.Rest",true,_772);if(_772.rpc&&_772.rpc.transportRegistry){_772.rpc.transportRegistry.register("REST",function(str){return str=="REST";},{getExecutor:function(func,_773,svc){return new _772.rpc.Rest(_773.name,(_773.contentType||svc._smd.contentType||"").match(/json|javascript/),null,function(id,args){var _774=svc._getRequest(_773,[id]);_774.url=_774.target+(_774.data?"?"+_774.data:"");if(args&&(args.start>=0||args.count>=0)){_774.headers=_774.headers||{};_774.headers.Range="items="+(args.start||"0")+"-"+(("count" in args&&args.count!=Infinity)?(args.count+(args.start||0)-1):"");}return _774;});}});}var drr;function _775(_776,_777,_778,id){_776.addCallback(function(_779){if(_776.ioArgs.xhr&&_778){_778=_776.ioArgs.xhr.getResponseHeader("Content-Range");_776.fullLength=_778&&(_778=_778.match(/\/(.*)/))&&parseInt(_778[1]);}return _779;});return _776;};drr=_772.rpc.Rest=function(path,_77a,_77b,_77c){var _77d;_77d=function(id,args){return drr._get(_77d,id,args);};_77d.isJson=_77a;_77d._schema=_77b;_77d.cache={serialize:_77a?((_772.json&&_772.json.ref)||dojo).toJson:function(_77e){return _77e;}};_77d._getRequest=_77c||function(id,args){if(dojo.isObject(id)){id=dojo.objectToQuery(id);id=id?"?"+id:"";}if(args&&args.sort&&!args.queryStr){id+=(id?"&":"?")+"sort=";for(var i=0;i<args.sort.length;i++){var sort=args.sort[i];id+=(i>0?",":"")+(sort.descending?"-":"+")+encodeURIComponent(sort.attribute);}}var _77f={url:path+(id==null?"":id),handleAs:_77a?"json":"text",contentType:_77a?"application/json":"text/plain",sync:_772.rpc._sync,preventCache:true,headers:{Accept:_77a?"application/json,application/javascript":"*/*"}};if(args&&(args.start>=0||args.count>=0)){_77f.headers.Range="items="+(args.start||"0")+"-"+(("count" in args&&args.count!=Infinity)?(args.count+(args.start||0)-1):"");}_772.rpc._sync=false;return _77f;};function _780(name){_77d[name]=function(id,_781){return drr._change(name,_77d,id,_781);};};_780("put");_780("post");_780("delete");_77d.servicePath=path;return _77d;};drr._index={};drr._timeStamps={};drr._change=function(_782,_783,id,_784){var _785=_783._getRequest(id);_785[_782+"Data"]=_784;return _775(dojo.xhr(_782.toUpperCase(),_785,true),_783);};drr._get=function(_786,id,args){args=args||{};return _775(dojo.xhrGet(_786._getRequest(id,args)),_786,(args.start>=0||args.count>=0),id);};return drr;});},"dijit/form/Form":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/_base/kernel","dojo/sniff","../_Widget","../_TemplatedMixin","./_FormMixin","../layout/_ContentPaneResizeMixin"],function(_787,_788,_789,has,_78a,_78b,_78c,_78d){return _787("dijit.form.Form",[_78a,_78b,_78c,_78d],{name:"",action:"",method:"",encType:"","accept-charset":"",accept:"",target:"",templateString:"<form data-dojo-attach-point='containerNode' data-dojo-attach-event='onreset:_onReset,onsubmit:_onSubmit' ${!nameAttrSetting}></form>",postMixInProperties:function(){this.nameAttrSetting=this.name?("name='"+this.name+"'"):"";this.inherited(arguments);},execute:function(){},onExecute:function(){},_setEncTypeAttr:function(_78e){_788.set(this.domNode,"encType",_78e);if(has("ie")){this.domNode.encoding=_78e;}this._set("encType",_78e);},reset:function(e){var faux={returnValue:true,preventDefault:function(){this.returnValue=false;},stopPropagation:function(){},currentTarget:e?e.target:this.domNode,target:e?e.target:this.domNode};if(!(this.onReset(faux)===false)&&faux.returnValue){this.inherited(arguments,[]);}},onReset:function(){return true;},_onReset:function(e){this.reset(e);e.stopPropagation();e.preventDefault();return false;},_onSubmit:function(e){var fp=this.constructor.prototype;if(this.execute!=fp.execute||this.onExecute!=fp.onExecute){_789.deprecated("dijit.form.Form:execute()/onExecute() are deprecated. Use onSubmit() instead.","","2.0");this.onExecute();this.execute(this.getValues());}if(this.onSubmit(e)===false){e.stopPropagation();e.preventDefault();}},onSubmit:function(){return this.isValid();},submit:function(){if(!(this.onSubmit()===false)){this.containerNode.submit();}}});});},"dijit/layout/_TabContainerBase":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","./StackContainer","./utils","../_TemplatedMixin","dojo/text!./templates/TabContainer.html"],function(_78f,_790,_791,_792,_793,_794,_795,_796){return _78f("dijit.layout._TabContainerBase",[_793,_795],{tabPosition:"top",baseClass:"dijitTabContainer",tabStrip:false,nested:false,templateString:_796,postMixInProperties:function(){this.baseClass+=this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"");this.srcNodeRef&&_792.set(this.srcNodeRef,"visibility","hidden");this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);this.tablist=this._makeController(this.tablistNode);if(!this.doLayout){_790.add(this.domNode,"dijitTabContainerNoLayout");}if(this.nested){_790.add(this.domNode,"dijitTabContainerNested");_790.add(this.tablist.containerNode,"dijitTabContainerTabListNested");_790.add(this.tablistSpacer,"dijitTabContainerSpacerNested");_790.add(this.containerNode,"dijitTabPaneWrapperNested");}else{_790.add(this.domNode,"tabStrip-"+(this.tabStrip?"enabled":"disabled"));}},_setupChild:function(tab){_790.add(tab.domNode,"dijitTabPane");this.inherited(arguments);},startup:function(){if(this._started){return;}this.tablist.startup();this.inherited(arguments);},layout:function(){if(!this._contentBox||typeof (this._contentBox.l)=="undefined"){return;}var sc=this.selectedChildWidget;if(this.doLayout){var _797=this.tabPosition.replace(/-h/,"");this.tablist.region=_797;var _798=[this.tablist,{domNode:this.tablistSpacer,region:_797},{domNode:this.containerNode,region:"center"}];_794.layoutChildren(this.domNode,this._contentBox,_798);this._containerContentBox=_794.marginBox2contentBox(this.containerNode,_798[2]);if(sc&&sc.resize){sc.resize(this._containerContentBox);}}else{if(this.tablist.resize){var s=this.tablist.domNode.style;s.width="0";var _799=_791.getContentBox(this.domNode).w;s.width="";this.tablist.resize({w:_799});}if(sc&&sc.resize){sc.resize();}}},destroy:function(_79a){if(this.tablist){this.tablist.destroy(_79a);}this.inherited(arguments);}});});},"prcommon2/search/Frequency":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../search/templates/Frequency.html","prcommon2/search/std_search","dojo/_base/lang","dojo/dom-attr","dojo/dom-class","dojo/dom-style","dojo/json","dojo/data/ItemFileReadStore","prcommon2/search/std_search","dijit/form/FilteringSelect","prcommon2/search/SearchCount"],function(_79b,_79c,_79d,_79e,lang,_79f,_7a0,_7a1,json,_7a2){return _79b("prcommon2.search.Frequency",[_79c,_79e],{templateString:_79d,name:"",value:"",title:"",search:"",size:"9",testmode:false,constructor:function(){this.store=new _7a2({url:"/common/lookups?searchtype=frequencies&ignoreoption=1"});},postCreate:function(){this.select.set("store",this.store);this.select.set("value",-1);},_changed:function(){this._get_selector(this._get_data());},clear:function(){this.select.set("value",-1);this._get_selector("");this.inherited(arguments);},_setValueAttr:function(_7a3){var open=false;this.clear();this._get_selector(this._getValueAttr());},_getValueAttr:function(){return this._get_data();},_get_data:function(){var data=parseInt(this.select.get("value"));if(this._extended){return {data:data};}else{this.value=(data!=null&&data!=-1)?json.stringify(data):"";return this.value;}},_focus:function(){this.select.focus();},_capture_extended_content:function(_7a4){var tmp=this.inherited(arguments);tmp.partial=0;return tmp;}});});},"prcommon2/outlet/OutletSelectPanel":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../outlet/templates/OutletSelectPanel.html","dijit/layout/BorderContainer","dojo/json","dojo/request","ttl/utilities2","ttl/store/JsonRest","dojo/store/Observable","dojo/_base/lang","dojo/topic","ttl/grid/Grid","dojo/dom-attr","dojo/dom-class","dijit/form/TextBox","dijit/form/Button","dijit/Dialog","dijit/layout/ContentPane"],function(_7a5,_7a6,_7a7,_7a8,json,_7a9,_7aa,_7ab,_7ac,lang,_7ad,Grid,_7ae,_7af){return _7a5("prcommon2.outlet.OutletSelectPanel",[_7a6,_7a8],{templateString:_7a7,gutters:false,searchtypeid:6,constructor:function(){this._outletid=null;this._dialog=null;this._callback=null;this.model=new _7ac(new _7ab({target:"/search/list_outlet_rest",idProperty:"outletid"}));},postCreate:function(){var _7b0=[{label:"Name",className:"standard",field:"outletname"}];this.searchgrid=new Grid({columns:[{label:"Name",className:"standard",field:"outletname"}],selectionMode:"single",store:this.model,query:{}});this.select_search_view.set("content",this.searchgrid);this.searchgrid.on("dgrid-select",dojo.hitch(this,this._on_cell_call));this.inherited(arguments);},_search:function(){this.searchgrid.set("query",{extended_search:1,outletname:this.outletname.get("value")});},_clear_search:function(){this.searchgrid.set("value","");},_on_cell_call:function(e){this._callback(e.rows[0].data);if(this._dialog){this._dialog.hide();}},_setDialogAttr:function(_7b1){this._dialog=_7b1;},_setCallbackAttr:function(_7b2){this._callback=_7b2;},_close:function(){if(this._dialog){this._dialog.hide();}}});});},"prcommon2/search/standard":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../search/templates/standard.html","prcommon2/search/std_search","dijit/form/TextBox","prcommon2/search/SearchCount"],function(_7b3,_7b4,_7b5,_7b6){return _7b3("prcommon2.search.standard",[_7b4,_7b6],{templateString:_7b5,testmode:false,constructor:function(){this._on_input_call_back=dojo.hitch(this,this._on_input);},postCreate:function(){if(dojo.isMoz||dojo.isOpera){this.connect(this.datanode.textbox,"oninput",this._on_input_call_back);}else{this.connect(this.datanode.textbox,"onkeyup",this._on_input_call_back);this.connect(this.datanode.textbox,"onpaste",this._on_input_call_back);this.connect(this.datanode.textbox,"oncut",this._on_input_call_back);}},_on_input:function(){this._get_selector(this.datanode.get("value"));},_on_change:function(){this._get_selector(this.datanode.get("value"));},clear:function(){this.datanode.set("value","");this._value="";this._setdisplay(this._value);this.inherited(arguments);},_setValueAttr:function(_7b7){this.datanode.set("value",_7b7);},_getValueAttr:function(_7b8){this.value=this.datanode.get("value");return this.value;},focus:function(){this.datanode.focus();}});});},"dojo/store/Memory":function(){define(["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(_7b9,_7ba,_7bb){var base=null;return _7b9("dojo.store.Memory",base,{constructor:function(_7bc){for(var i in _7bc){this[i]=_7bc[i];}this.setData(this.data||[]);},data:null,idProperty:"id",index:null,queryEngine:_7bb,get:function(id){return this.data[this.index[id]];},getIdentity:function(_7bd){return _7bd[this.idProperty];},put:function(_7be,_7bf){var data=this.data,_7c0=this.index,_7c1=this.idProperty;var id=_7be[_7c1]=(_7bf&&"id" in _7bf)?_7bf.id:_7c1 in _7be?_7be[_7c1]:Math.random();if(id in _7c0){if(_7bf&&_7bf.overwrite===false){throw new Error("Object already exists");}data[_7c0[id]]=_7be;}else{_7c0[id]=data.push(_7be)-1;}return id;},add:function(_7c2,_7c3){(_7c3=_7c3||{}).overwrite=false;return this.put(_7c2,_7c3);},remove:function(id){var _7c4=this.index;var data=this.data;if(id in _7c4){data.splice(_7c4[id],1);this.setData(data);return true;}},query:function(_7c5,_7c6){return _7ba(this.queryEngine(_7c5,_7c6)(this.data));},setData:function(data){if(data.items){this.idProperty=data.identifier||this.idProperty;data=this.data=data.items;}else{this.data=data;}this.index={};for(var i=0,l=data.length;i<l;i++){this.index[data[i][this.idProperty]]=i;}}});});},"prmaxquestionnaires/main/freelanceframe":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/topic","dojo/text!../main/templates/freelanceframe.html","dijit/layout/BorderContainer","dojo/_base/lang","dojo/dom-class","dojo/dom-attr","dojox/collections/Dictionary","dijit/layout/ContentPane","dijit/layout/StackContainer","prmaxquestionnaires/pages/Freelance"],function(_7c7,_7c8,_7c9,_7ca,_7cb,lang,_7cc,_7cd,_7ce){return _7c7("prmaxquestionnaires.main.freelanceframe",[_7c8,_7cb],{questionnaireid:-1,gutters:true,templateString:_7ca,constructor:function(){},postCreate:function(){this.inherited(arguments);_7cd.set(this.deadline_text,"innerHTML",PRMAX.questionnaire.expire_date);_7cd.set(this.title_text,"innerHTML",PRMAX.questionnaire.outlet.outlet.outletname);if(PRMAX.questionnaire.outlet.outlet.countryid==119){_7cd.set(this.support_email_address,"href","mailto:researchgroup@prmax.co.uk");_7cd.set(this.support_email_address,"innerHTML","researchgroup@prmax.co.uk");}},_save_completed:function(){this.savebtn.cancel();alert("Saved");},_update_save:function(){this.maindetails.update();}});});},"prmaxquestionnaires/pages/GeographicalCoverage":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../pages/templates/GeographicalCoverage.html","dijit/layout/BorderContainer","dojo/topic","dojo/_base/lang","ttl/utilities2","dojo/request","ttl/grid/Grid","ttl/store/JsonRest","dojo/dom-attr","dijit/layout/ContentPane","dijit/form/Form","dijit/form/TextBox","dijit/form/FilteringSelect","dijit/form/Button","dojox/form/BusyButton","dijit/Dialog","dijit/form/Textarea"],function(_7cf,_7d0,_7d1,_7d2,_7d3,lang,_7d4,_7d5,Grid,_7d6,_7d7){return _7cf("prmaxquestionnaires.pages.GeographicalCoverage",[_7d0,_7d2],{templateString:_7d1,constructor:function(){this._update_call_back=lang.hitch(this,this._update_call);this._error_call_back=lang.hitch(this,this._error_handler);this._page_ctrl=null;this._page_error=null;},postCreate:function(){this.inherited(arguments);this.coverage_grid=new Grid({columns:[{label:"Coverage",className:"standard",field:"geographicalname"},{label:"Type",className:"dgrid-column-type",field:"geographicallookupdescription"}],selectionMode:"none",store:new _7d6({target:"/questionnaire/coverage",idProperty:"geographicalid"}),query:{outletid:PRMAX.questionnaire.outlet.outlet.outletid,researchprojectitemid:PRMAX.questionnaire.questionnaireid}});this.outlet_coverage_grid_view.set("content",this.coverage_grid);this.load(PRMAX.questionnaire);if(PRMAX.questionnaire.outlet.outlet.countryid==119){_7d7.set(this.country_name,"innerHTML","Australia");}},_update_coverage:function(){if(_7d4.form_validator(this.form)==false){alert("Not all required field filled in");throw "N";}_7d5.post("/questionnaire/update_coverage",_7d4.make_params({data:this.form.get("value")})).then(this._update_call_back,this._error_call_back);},_update_call:function(_7d8){if(_7d8.success=="OK"){if(this._page_ctrl){this._page_ctrl();}else{alert("Coverage Updated");}}else{alert("Changes Failed to Apply");if(this._page_error){this._page_error();}}},load:function(_7d9){this.geognotes.set("value",_7d9.geognotes);this.questionnaireid.set("value",_7d9.questionnaireid);},_error_handler:function(_7da,_7db){_7d4.xhr_post_error(_7da,_7db);},save_move:function(_7dc,_7dd){this._page_ctrl=_7dc;this._page_error=_7dd;this._update_coverage();}});});},"dijit/_base/sniff":function(){define(["dojo/uacss"],function(){});},"prcommon2/search/PrmaxOutletTypes":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../search/templates/PrmaxOutletTypes.html","prcommon2/search/std_search","dojo/data/ItemFileReadStore","dojox/collections/Dictionary","dojo/json","dijit/form/CheckBox","dijit/form/Button"],function(_7de,_7df,_7e0,_7e1,_7e2,_7e3,json){return _7de("prcommon2.search.PrmaxOutletTypes",[_7df,_7e1],{templateString:_7e0,name:"",value:"",title:"",search:"",size:"7",testmode:false,constructor:function(){this._fieldList=[1,2,3,4,5,6,7,8,9];this._values="";this.items=new _7e2({url:"/common/lookups?searchtype=prmaxoutlettypes"});this.items.fetch();this._clear_selection_list_call=dojo.hitch(this,this._clear_selection_list);this._load_selection_call=dojo.hitch(this,this._load_selection);this._control_buttons_call=dojo.hitch(this,this._control_buttons);this._selected=new _7e3();this._group_types=new _7e3();this._group_types.add(1,"national");this._group_types.add(2,"regional");this._group_types.add(3,"business");this._group_types.add(4,"consumer");this._group_types.add(5,"radio");this._group_types.add(6,"television");this._group_types.add(7,"internet");this._group_types.add(8,"news");this._group_types.add(9,"parliamentary");this._primary=new _7e3();this._primary.add(1,1);this._primary.add(2,6);this._primary.add(3,13);this._primary.add(4,15);this._primary.add(5,24);this._primary.add(6,27);this._primary.add(7,null);this._primary.add(8,43);this._primary.add(9,null);},postCreate:function(){for(var key in this._fieldList){var _7e4=this._fieldList[key];dojo.attr(this["node"+_7e4+"label"],"for",this["node"+_7e4].id);dojo.connect(this["node"+_7e4],"onClick",dojo.hitch(this,this._select_primary,_7e4));dojo.connect(this["node"+_7e4+"button"],"onclick",dojo.hitch(this,this._select_list,_7e4));}dojo.connect(this.outlet_type_list,"onchange",this._control_buttons_call);dojo.connect(this.outlet_type_select,"onchange",this._control_buttons_call);dojo.connect(this.outlet_type_list,"ondblclick",dojo.hitch(this,this._outlet_select_dbl));},_control_buttons:function(){this.button_all.set("disabled",this.outlet_type_list.length?false:true);this.button_single.set("disabled",this.outlet_type_list.selectedIndex!=-1?false:true);this.button_del_all.set("disabled",this.outlet_type_select.length?false:true);this.button_del_single.set("disabled",this.outlet_type_select.selectedIndex!=-1?false:true);},clear:function(){this._selected.clear();this.outlet_type_list.options.length=0;this.outlet_type_select.options.length=0;this._get_selector(this._get_data());for(var key in this._fieldList){this["node"+this._fieldList[key]].set("checked",false);}this.inherited(arguments);},_setValueAttr:function(_7e5){var open=false;this.clear();for(var key in _7e5.data){open=true;}this._get_selector(this._get_data());if(open){this.MakeOpen();}},_getValueAttr:function(){return this._get_data();},_clear_selection_list:function(size,_7e6){this.outlet_type_list.options.length=0;},_load_selection:function(_7e7,_7e8){for(i=0;i<_7e7.length;i++){var item=_7e7[i];this.outlet_type_list.options[this.outlet_type_list.options.length]=new Option(item.name,item.id);}},_select_list:function(_7e9){this.items.fetch({query:{grouptypeid:this._group_types.item(_7e9)},onBegin:this._clear_selection_list_call,onComplete:this._load_selection_call});},_select_primary:function(_7ea){if(this["node"+_7ea].get("checked")){this.items.fetch({query:{grouptypeid:this._group_types.item(_7ea)},onBegin:this._clear_selection_list_call,onComplete:this._load_selection_call});var pid=this._primary.item(_7ea);if(pid!=null&&this._selected.containsKey(pid)==false){var v=this.items._getItemByIdentity(pid);this._select_item(pid,v.name);this._control_buttons();this._get_selector(this._getValueAttr());}}else{this.outlet_type_list.options.length=0;var pid=this._primary.item(_7ea);if(this._selected.containsKey(pid)){this._selected.remove(pid);for(var c=0;c<this.outlet_type_select.options.length;c++){var _7eb=this.outlet_type_select.options[c];if(parseInt(_7eb.value)==pid){this.outlet_type_select.options[c]=null;this._control_buttons();this._get_selector(this._getValueAttr());break;}}}}},_select_item:function(id,name){if(this._selected.containsKey(id)==false){this.outlet_type_select.options[this.outlet_type_select.options.length]=new Option(name,id);this._selected.add(id,name);}},_get_data:function(){var data=this._selected.getKeyList();var obj={data:data,logic:2};if(this._extended){return obj;}else{var data=this._selected.count>0?json.stringify(obj):"";this.value=data;return data;}},_focus:function(){this.node1.focus();},_outlet_type_select_all:function(){var _7ec=false;for(var c=0;c<this.outlet_type_list.options.length;c++){var _7ed=this.outlet_type_list.options[c];var _7ee=parseInt(_7ed.value);if(this._selected.containsKey(_7ee)==false){this.outlet_type_select.options[this.outlet_type_select.options.length]=new Option(_7ed.text,_7ed.value);this._selected.add(_7ee,_7ed.text);}}this.outlet_type_list.options.length=0;this._get_selector(this._getValueAttr());this._control_buttons();},_outlet_type_select_single:function(){var _7ef=false;for(var c=0;c<this.outlet_type_list.options.length;c++){var _7f0=this.outlet_type_list.options[c];if(_7f0.selected){var _7f1=parseInt(_7f0.value);if(this._selected.containsKey(_7f1)==false){this.outlet_type_select.options[this.outlet_type_select.options.length]=new Option(_7f0.text,_7f0.value);this._selected.add(_7f1,_7f0.text);this.outlet_type_list.options[c]=null;--c;_7ef=true;}}}if(_7ef){this._get_selector(this._getValueAttr());}this._control_buttons();},_outlet_type_remove_all:function(){for(var c=0;c<this.outlet_type_select.options.length;c++){var _7f2=this.outlet_type_select.options[c];var _7f3=parseInt(_7f2.value);this._selected.remove(_7f3);this.outlet_type_list.options[this.outlet_type_list.options.length]=new Option(_7f2.text,_7f2.value);}this.outlet_type_select.options.length=0;this._get_selector(this._getValueAttr());this._control_buttons();},_outlet_type_remove_single:function(){var _7f4=false;for(var c=0;c<this.outlet_type_select.options.length;c++){var _7f5=this.outlet_type_select.options[c];if(_7f5.selected){var _7f6=parseInt(_7f5.value);this._selected.remove(_7f6);_7f4=true;this.outlet_type_list.options[this.outlet_type_list.options.length]=new Option(_7f5.text,_7f5.value);this.outlet_type_select.options[c]=null;--c;}}if(_7f4){this._get_selector(this._getValueAttr());this._control_buttons();}},_outlet_select_dbl:function(){this._outlet_type_select_single();},_capture_extended_content:function(data){return data;},_setValueAttr:function(_7f7){this.clear();var data=_7f7.data;var open=false;if(data==null||data==undefined){data=_7f7;}for(var key in data){var pid=data[key];var v=this.items._getItemByIdentity(pid);this._select_item(pid,v.name);open=true;}this._control_buttons();this._get_selector(this._getValueAttr());if(open){this.make_open();}}});});},"ttl/BaseWidgetAMD":function(){define(["dojo/_base/declare","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_Container"],function(_7f8,_7f9,_7fa,_7fb,_7fc){return _7f8("ttl.BaseWidgetAMD",[_7f9,_7fa,_7fb,_7fc],{widgetsInTemplate:true,_lock:false,Lock_Code:function(){this._lock=true;},isLocked:function(){return this._lock;},UnLock_Code:function(){this._lock=false;},Lock_Code_Wait:function(){while(this._lock==true){ttl.utilities.sleepStupidly(1);}this._lock=true;},_ReturnFalse:function(){return false;}});});},"dojox/collections/_base":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array"],function(dojo,lang,arr){var _7fd=lang.getObject("dojox.collections",true);_7fd.DictionaryEntry=function(k,v){this.key=k;this.value=v;this.valueOf=function(){return this.value;};this.toString=function(){return String(this.value);};};_7fd.Iterator=function(a){var _7fe=0;this.element=a[_7fe]||null;this.atEnd=function(){return (_7fe>=a.length);};this.get=function(){if(this.atEnd()){return null;}this.element=a[_7fe++];return this.element;};this.map=function(fn,_7ff){return arr.map(a,fn,_7ff);};this.reset=function(){_7fe=0;this.element=a[_7fe];};};_7fd.DictionaryIterator=function(obj){var a=[];var _800={};for(var p in obj){if(!_800[p]){a.push(obj[p]);}}var _801=0;this.element=a[_801]||null;this.atEnd=function(){return (_801>=a.length);};this.get=function(){if(this.atEnd()){return null;}this.element=a[_801++];return this.element;};this.map=function(fn,_802){return arr.map(a,fn,_802);};this.reset=function(){_801=0;this.element=a[_801];};};return _7fd;});},"dijit/layout/StackContainer":function(){define(["dojo/_base/array","dojo/cookie","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/has","dojo/_base/lang","dojo/on","dojo/ready","dojo/topic","dojo/when","../registry","../_WidgetBase","./_LayoutWidget"],function(_803,_804,_805,_806,_807,has,lang,on,_808,_809,when,_80a,_80b,_80c){if(has("dijit-legacy-requires")){_808(0,function(){var _80d=["dijit/layout/StackController"];require(_80d);});}var _80e=_805("dijit.layout.StackContainer",_80c,{doLayout:true,persist:false,baseClass:"dijitStackContainer",buildRendering:function(){this.inherited(arguments);_806.add(this.domNode,"dijitLayoutContainer");},postCreate:function(){this.inherited(arguments);this.own(on(this.domNode,"keydown",lang.hitch(this,"_onKeyDown")));},startup:function(){if(this._started){return;}var _80f=this.getChildren();_803.forEach(_80f,this._setupChild,this);if(this.persist){this.selectedChildWidget=_80a.byId(_804(this.id+"_selectedChild"));}else{_803.some(_80f,function(_810){if(_810.selected){this.selectedChildWidget=_810;}return _810.selected;},this);}var _811=this.selectedChildWidget;if(!_811&&_80f[0]){_811=this.selectedChildWidget=_80f[0];_811.selected=true;}_809.publish(this.id+"-startup",{children:_80f,selected:_811,textDir:this.textDir});this.inherited(arguments);},resize:function(){if(!this._hasBeenShown){this._hasBeenShown=true;var _812=this.selectedChildWidget;if(_812){this._showChild(_812);}}this.inherited(arguments);},_setupChild:function(_813){var _814=_813.domNode,_815=_807.place("<div role='tabpanel' class='"+this.baseClass+"ChildWrapper dijitHidden'>",_813.domNode,"replace"),_816=_813["aria-label"]||_813.title||_813.label;if(_816){_815.setAttribute("aria-label",_816);}_807.place(_814,_815);_813._wrapper=_815;this.inherited(arguments);if(_814.style.display=="none"){_814.style.display="block";}_813.domNode.removeAttribute("title");},addChild:function(_817,_818){this.inherited(arguments);if(this._started){_809.publish(this.id+"-addChild",_817,_818);this.layout();if(!this.selectedChildWidget){this.selectChild(_817);}}},removeChild:function(page){var idx=_803.indexOf(this.getChildren(),page);this.inherited(arguments);_807.destroy(page._wrapper);delete page._wrapper;if(this._started){_809.publish(this.id+"-removeChild",page);}if(this._descendantsBeingDestroyed){return;}if(this.selectedChildWidget===page){this.selectedChildWidget=undefined;if(this._started){var _819=this.getChildren();if(_819.length){this.selectChild(_819[Math.max(idx-1,0)]);}}}if(this._started){this.layout();}},selectChild:function(page,_81a){var d;page=_80a.byId(page);if(this.selectedChildWidget!=page){d=this._transition(page,this.selectedChildWidget,_81a);this._set("selectedChildWidget",page);_809.publish(this.id+"-selectChild",page,this._focused);if(this.persist){_804(this.id+"_selectedChild",this.selectedChildWidget.id);}}return when(d||true);},_transition:function(_81b,_81c){if(_81c){this._hideChild(_81c);}var d=this._showChild(_81b);if(_81b.resize){if(this.doLayout){_81b.resize(this._containerContentBox||this._contentBox);}else{_81b.resize();}}return d;},_adjacent:function(_81d){var _81e=this.getChildren();var _81f=_803.indexOf(_81e,this.selectedChildWidget);_81f+=_81d?1:_81e.length-1;return _81e[_81f%_81e.length];},forward:function(){return this.selectChild(this._adjacent(true),true);},back:function(){return this.selectChild(this._adjacent(false),true);},_onKeyDown:function(e){_809.publish(this.id+"-containerKeyDown",{e:e,page:this});},layout:function(){var _820=this.selectedChildWidget;if(_820&&_820.resize){if(this.doLayout){_820.resize(this._containerContentBox||this._contentBox);}else{_820.resize();}}},_showChild:function(page){var _821=this.getChildren();page.isFirstChild=(page==_821[0]);page.isLastChild=(page==_821[_821.length-1]);page._set("selected",true);if(page._wrapper){_806.replace(page._wrapper,"dijitVisible","dijitHidden");}return (page._onShow&&page._onShow())||true;},_hideChild:function(page){page._set("selected",false);if(page._wrapper){_806.replace(page._wrapper,"dijitHidden","dijitVisible");}page.onHide&&page.onHide();},closeChild:function(page){var _822=!page.onClose||page.onClose(this,page);if(_822){this.removeChild(page);page.destroyRecursive();}},destroyDescendants:function(_823){this._descendantsBeingDestroyed=true;this.selectedChildWidget=undefined;_803.forEach(this.getChildren(),function(_824){if(!_823){this.removeChild(_824);}_824.destroyRecursive(_823);},this);this._descendantsBeingDestroyed=false;}});_80e.ChildWidgetProperties={selected:false,disabled:false,closable:false,iconClass:"dijitNoIcon",showTitle:true};lang.extend(_80b,_80e.ChildWidgetProperties);return _80e;});},"dijit/form/_FormMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/window"],function(_825,_826,_827,lang,on,_828){return _826("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(_829){var res=[];_825.forEach(_829||this.getChildren(),function(_82a){if("value" in _82a){res.push(_82a);}else{res=res.concat(this._getDescendantFormWidgets(_82a.getChildren()));}},this);return res;},reset:function(){_825.forEach(this._getDescendantFormWidgets(),function(_82b){if(_82b.reset){_82b.reset();}});},validate:function(){var _82c=false;return _825.every(_825.map(this._getDescendantFormWidgets(),function(_82d){_82d._hasBeenBlurred=true;var _82e=_82d.disabled||!_82d.validate||_82d.validate();if(!_82e&&!_82c){_828.scrollIntoView(_82d.containerNode||_82d.domNode);_82d.focus();_82c=true;}return _82e;}),function(item){return item;});},setValues:function(val){_827.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",val);},_setValueAttr:function(obj){var map={};_825.forEach(this._getDescendantFormWidgets(),function(_82f){if(!_82f.name){return;}var _830=map[_82f.name]||(map[_82f.name]=[]);_830.push(_82f);});for(var name in map){if(!map.hasOwnProperty(name)){continue;}var _831=map[name],_832=lang.getObject(name,false,obj);if(_832===undefined){continue;}_832=[].concat(_832);if(typeof _831[0].checked=="boolean"){_825.forEach(_831,function(w){w.set("value",_825.indexOf(_832,w._get("value"))!=-1);});}else{if(_831[0].multiple){_831[0].set("value",_832);}else{_825.forEach(_831,function(w,i){w.set("value",_832[i]);});}}}},getValues:function(){_827.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},_getValueAttr:function(){var obj={};_825.forEach(this._getDescendantFormWidgets(),function(_833){var name=_833.name;if(!name||_833.disabled){return;}var _834=_833.get("value");if(typeof _833.checked=="boolean"){if(/Radio/.test(_833.declaredClass)){if(_834!==false){lang.setObject(name,_834,obj);}else{_834=lang.getObject(name,false,obj);if(_834===undefined){lang.setObject(name,null,obj);}}}else{var ary=lang.getObject(name,false,obj);if(!ary){ary=[];lang.setObject(name,ary,obj);}if(_834!==false){ary.push(_834);}}}else{var prev=lang.getObject(name,false,obj);if(typeof prev!="undefined"){if(lang.isArray(prev)){prev.push(_834);}else{lang.setObject(name,[prev,_834],obj);}}else{lang.setObject(name,_834,obj);}}});return obj;},isValid:function(){return this.state=="";},onValidStateChange:function(){},_getState:function(){var _835=_825.map(this._descendants,function(w){return w.get("state")||"";});return _825.indexOf(_835,"Error")>=0?"Error":_825.indexOf(_835,"Incomplete")>=0?"Incomplete":"";},disconnectChildren:function(){},connectChildren:function(_836){this._descendants=this._getDescendantFormWidgets();_825.forEach(this._descendants,function(_837){if(!_837._started){_837.startup();}});if(!_836){this._onChildChange();}},_onChildChange:function(attr){if(!attr||attr=="state"||attr=="disabled"){this._set("state",this._getState());}if(!attr||attr=="value"||attr=="disabled"||attr=="checked"){if(this._onChangeDelayTimer){this._onChangeDelayTimer.remove();}this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer;this._set("value",this.get("value"));},10);}},startup:function(){this.inherited(arguments);this._descendants=this._getDescendantFormWidgets();this.value=this.get("value");this.state=this._getState();var self=this;this.own(on(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(evt){if(evt.target==self.domNode){return;}self._onChildChange(evt.type.replace("attrmodified-",""));}));this.watch("state",function(attr,_838,_839){this.onValidStateChange(_839=="");});},destroy:function(){this.inherited(arguments);}});});},"dijit/DropDownMenu":function(){define(["dojo/_base/declare","dojo/keys","dojo/text!./templates/Menu.html","./_MenuBase"],function(_83a,keys,_83b,_83c){return _83a("dijit.DropDownMenu",_83c,{templateString:_83b,baseClass:"dijitMenu",_onUpArrow:function(){this.focusPrev();},_onDownArrow:function(){this.focusNext();},_onRightArrow:function(evt){this._moveToPopup(evt);evt.stopPropagation();evt.preventDefault();},_onLeftArrow:function(evt){if(this.parentMenu){if(this.parentMenu._isMenuBar){this.parentMenu.focusPrev();}else{this.onCancel(false);}}else{evt.stopPropagation();evt.preventDefault();}}});});},"dojo/data/util/simpleFetch":function(){define(["../../_base/lang","../../_base/kernel","./sorter"],function(lang,_83d,_83e){var _83f={};lang.setObject("dojo.data.util.simpleFetch",_83f);_83f.errorHandler=function(_840,_841){if(_841.onError){var _842=_841.scope||_83d.global;_841.onError.call(_842,_840,_841);}};_83f.fetchHandler=function(_843,_844){var _845=_844.abort||null,_846=false,_847=_844.start?_844.start:0,_848=(_844.count&&(_844.count!==Infinity))?(_847+_844.count):_843.length;_844.abort=function(){_846=true;if(_845){_845.call(_844);}};var _849=_844.scope||_83d.global;if(!_844.store){_844.store=this;}if(_844.onBegin){_844.onBegin.call(_849,_843.length,_844);}if(_844.sort){_843.sort(_83e.createSortFunction(_844.sort,this));}if(_844.onItem){for(var i=_847;(i<_843.length)&&(i<_848);++i){var item=_843[i];if(!_846){_844.onItem.call(_849,item,_844);}}}if(_844.onComplete&&!_846){var _84a=null;if(!_844.onItem){_84a=_843.slice(_847,_848);}_844.onComplete.call(_849,_84a,_844);}};_83f.fetch=function(_84b){_84b=_84b||{};if(!_84b.store){_84b.store=this;}this._fetchItems(_84b,lang.hitch(this,"fetchHandler"),lang.hitch(this,"errorHandler"));return _84b;};return _83f;});},"dijit/Menu":function(){define(["require","dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","dojo/_base/window","dojo/window","./popup","./DropDownMenu","dojo/ready"],function(_84c,_84d,_84e,dom,_84f,_850,_851,keys,lang,on,has,win,_852,pm,_853,_854){if(has("dijit-legacy-requires")){_854(0,function(){var _855=["dijit/MenuItem","dijit/PopupMenuItem","dijit/CheckedMenuItem","dijit/MenuSeparator"];_84c(_855);});}return _84e("dijit.Menu",_853,{constructor:function(){this._bindings=[];},targetNodeIds:[],selector:"",contextMenuForWindow:false,leftClickToOpen:false,refocus:true,postCreate:function(){if(this.contextMenuForWindow){this.bindDomNode(this.ownerDocumentBody);}else{_84d.forEach(this.targetNodeIds,this.bindDomNode,this);}this.inherited(arguments);},_iframeContentWindow:function(_856){return _852.get(this._iframeContentDocument(_856))||this._iframeContentDocument(_856)["__parent__"]||(_856.name&&document.frames[_856.name])||null;},_iframeContentDocument:function(_857){return _857.contentDocument||(_857.contentWindow&&_857.contentWindow.document)||(_857.name&&document.frames[_857.name]&&document.frames[_857.name].document)||null;},bindDomNode:function(node){node=dom.byId(node,this.ownerDocument);var cn;if(node.tagName.toLowerCase()=="iframe"){var _858=node,_859=this._iframeContentWindow(_858);cn=win.body(_859.document);}else{cn=(node==win.body(this.ownerDocument)?this.ownerDocument.documentElement:node);}var _85a={node:node,iframe:_858};_84f.set(node,"_dijitMenu"+this.id,this._bindings.push(_85a));var _85b=lang.hitch(this,function(cn){var _85c=this.selector,_85d=_85c?function(_85e){return on.selector(_85c,_85e);}:function(_85f){return _85f;},self=this;return [on(cn,_85d(this.leftClickToOpen?"click":"contextmenu"),function(evt){evt.stopPropagation();evt.preventDefault();if((new Date()).getTime()<self._lastKeyDown+500){return;}self._scheduleOpen(this,_858,{x:evt.pageX,y:evt.pageY},evt.target);}),on(cn,_85d("keydown"),function(evt){if(evt.keyCode==93||(evt.shiftKey&&evt.keyCode==keys.F10)||(self.leftClickToOpen&&evt.keyCode==keys.SPACE)){evt.stopPropagation();evt.preventDefault();self._scheduleOpen(this,_858,null,evt.target);self._lastKeyDown=(new Date()).getTime();}})];});_85a.connects=cn?_85b(cn):[];if(_858){_85a.onloadHandler=lang.hitch(this,function(){var _860=this._iframeContentWindow(_858),cn=win.body(_860.document);_85a.connects=_85b(cn);});if(_858.addEventListener){_858.addEventListener("load",_85a.onloadHandler,false);}else{_858.attachEvent("onload",_85a.onloadHandler);}}},unBindDomNode:function(_861){var node;try{node=dom.byId(_861,this.ownerDocument);}catch(e){return;}var _862="_dijitMenu"+this.id;if(node&&_84f.has(node,_862)){var bid=_84f.get(node,_862)-1,b=this._bindings[bid],h;while((h=b.connects.pop())){h.remove();}var _863=b.iframe;if(_863){if(_863.removeEventListener){_863.removeEventListener("load",b.onloadHandler,false);}else{_863.detachEvent("onload",b.onloadHandler);}}_84f.remove(node,_862);delete this._bindings[bid];}},_scheduleOpen:function(_864,_865,_866,_867){if(!this._openTimer){this._openTimer=this.defer(function(){delete this._openTimer;this._openMyself({target:_867,delegatedTarget:_864,iframe:_865,coords:_866});},1);}},_openMyself:function(args){var _868=args.target,_869=args.iframe,_86a=args.coords,_86b=!_86a;this.currentTarget=args.delegatedTarget;if(_86a){if(_869){var ifc=_850.position(_869,true),_86c=this._iframeContentWindow(_869),_86d=_850.docScroll(_86c.document);var cs=_851.getComputedStyle(_869),tp=_851.toPixelValue,left=(has("ie")&&has("quirks")?0:tp(_869,cs.paddingLeft))+(has("ie")&&has("quirks")?tp(_869,cs.borderLeftWidth):0),top=(has("ie")&&has("quirks")?0:tp(_869,cs.paddingTop))+(has("ie")&&has("quirks")?tp(_869,cs.borderTopWidth):0);_86a.x+=ifc.x+left-_86d.x;_86a.y+=ifc.y+top-_86d.y;}}else{_86a=_850.position(_868,true);_86a.x+=10;_86a.y+=10;}var self=this;var _86e=this._focusManager.get("prevNode");var _86f=this._focusManager.get("curNode");var _870=!_86f||(dom.isDescendant(_86f,this.domNode))?_86e:_86f;function _871(){if(self.refocus&&_870){_870.focus();}pm.close(self);};pm.open({popup:this,x:_86a.x,y:_86a.y,onExecute:_871,onCancel:_871,orient:this.isLeftToRight()?"L":"R"});this.focus();if(!_86b){this.defer(function(){this._cleanUp(true);});}this._onBlur=function(){this.inherited("_onBlur",arguments);pm.close(this);};},destroy:function(){_84d.forEach(this._bindings,function(b){if(b){this.unBindDomNode(b.node);}},this);this.inherited(arguments);}});});},"dijit/form/_CheckBoxMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(_872,_873){return _872("dijit.form._CheckBoxMixin",null,{type:"checkbox",value:"on",readOnly:false,_aria_attr:"aria-checked",_setReadOnlyAttr:function(_874){this._set("readOnly",_874);_873.set(this.focusNode,"readOnly",_874);},_setLabelAttr:undefined,_getSubmitValue:function(_875){return (_875==null||_875==="")?"on":_875;},_setValueAttr:function(_876){_876=this._getSubmitValue(_876);this._set("value",_876);_873.set(this.focusNode,"value",_876);},reset:function(){this.inherited(arguments);this._set("value",this._getSubmitValue(this.params.value));_873.set(this.focusNode,"value",this.value);},_onClick:function(e){if(this.readOnly){e.stopPropagation();e.preventDefault();return false;}return this.inherited(arguments);}});});},"prcommon2/outlet/OutletSelect":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../outlet/templates/OutletSelect.html","dojo/json","dojo/request","ttl/utilities2","ttl/store/JsonRest","dojo/store/Observable","dojo/_base/lang","dojo/topic","ttl/grid/Grid","dojo/dom-attr","dojo/dom-class","dojo/_base/array","dijit/form/TextBox","dijit/form/Button","dijit/Dialog","dijit/layout/BorderContainer","prcommon2/search/OutletSearch","prcommon2/outlet/OutletSelectDetails","dijit/layout/ContentPane","dojox/form/BusyButton"],function(_877,_878,_879,json,_87a,_87b,_87c,_87d,lang,_87e,Grid,_87f,_880,_881){return _877("prcommon2.outlet.OutletSelect",[_878],{templateString:_879,name:"",value:"",mode:"outlet",searchtypeid:6,placeHolder:"Select Outlet",source_url:"/search/list_rest",constructor:function(){this._outletid=null;this._circulation=0;this._load_call_back=lang.hitch(this,this._load_call);this.show_parentbtn=false;},postCreate:function(){var _882=[{label:" ",className:"grid-field-image-view",field:"prmax_outletgroupid",formatter:_87b.outlet_type},{label:"Name",className:"standard",field:"outletname"},{label:"Contact",className:"standard",field:"contactname"},{label:"Source",className:"dgrid-column-status-small",field:"sourcename"},{label:"Id",className:"dgrid-column-accountnbr",field:"outletid"},{label:" ",name:"edit",className:"dgrid-column-type-boolean",field:"outletid",formatter:_87b.format_row_ctrl},];this.model=new _87d(new _87c({target:this.source_url,idProperty:"sessionsearchid"}));this.searchgrid=new Grid({columns:_882,selectionMode:"single",store:this.model,sort:[{attribute:"outletname",descending:false}],query:_87b.EMPTYGRID});this.select_search_view.set("content",this.searchgrid);this.searchgrid.on(".dgrid-cell:click",lang.hitch(this,this._on_cell_call));_880.add(this.clearbtn.domNode,"prmaxhidden");_880.add(this.parentbtn.domNode,"prmaxhidden");_87f.set(this.display,"innerHTML",this.placeHolder);this.inherited(arguments);this.selectdetails_ctrl.set("dialog",lang.hitch(this,this._show_details_function));},_show_details_function:function(_883){if(_883=="show"){this.selectdetails_dlg.show();}else{this.selectdetails_dlg.hide();}},_load_call:function(_884){if(_884.outlet){outletid=_884.outlet.outlet.outletid;sourcetypeid=_884.outlet.outlet.sourcetypeid;prmax_grouptypeid="";if(_884.outlet.outlet.outlettypeid==19){prmax_grouptypeid="freelance";}_87e.publish("LoadParentOutlet",outletid,prmax_grouptypeid,sourcetypeid);}this.refresh();this.searchbutton.cancel();},_setValueAttr:function(_885){this._outletid=_885;this._set_view();},_setDisplayvalueAttr:function(_886){if(_886==""||_886==null){_87f.set(this.display,"innerHTML",this.placeHolder);_880.add(this.display,"PlaceHolder");}else{_87f.set(this.display,"innerHTML",_886);_880.remove(this.display,"PlaceHolder");_87e.publish("/outlet/circulation",[this._circulation]);}},_setParentbtnvalueAttr:function(_887){if(_887){this.show_parentbtn=_887;}},_getValueAttr:function(){return this._outletid;},_clear:function(){this.clear();},_load_parent_outlet:function(){_87a.post("/research/admin/outlets/research_outlet_edit_get",_87b.make_params({data:{outletid:this._outletid}})).then(this._load_call_back);},_set_view:function(){if(this._outletid==null){_880.add(this.clearbtn.domNode,"prmaxhidden");_880.add(this.parentbtn.domNode,"prmaxhidden");_880.add(this.display,"PlaceHolder");}else{_880.remove(this.clearbtn.domNode,"prmaxhidden");_880.remove(this.display,"PlaceHolder");if(this.show_parentbtn){_880.remove(this.parentbtn.domNode,"prmaxhidden");}}},_select:function(){this.select_dlg.show();},clear:function(){this._outletid=null;_87f.set(this.display,"innerHTML",this.placeHolder);this._set_view();},_close:function(){this.select_dlg.hide();},_get_form:function(){var form=null;_881.every(this.search_form_pane.getChildren(),function(_888){if(_888.formid!=null){form=_888;}});return form;},_search:function(){var form=this._get_form();form.setExtendedMode(false);var _889=form.get("value");_889["mode"]=1;_889["search_partial"]=2;_889["searchtypeid"]=this.searchtypeid;this.searchbutton.makeBusy();_87a.post("/search/dosearch",_87b.make_params({data:_889})).then(this._load_call_back);},refresh:function(){this.searchgrid.set("query",{searchtypeid:this.searchtypeid});},_clear_search:function(){var form=this._get_form();_881.every(form.getDescendants(),function(_88a){if(_88a.Clear!=null){_88a.Clear();}return true;});this.searchbutton.cancel();},_clear_search_results:function(){_87a.post("/search/sessionclear",_87b.make_params({data:{searchtypeid:this.searchtypeid}})).then(this._clear_all_call_back);},_search_update_event:function(data){this.refresh(data);},_on_cell_call:function(e){var cell=this.searchgrid.cell(e);if(cell.row==null||cell.row==undefined){return;}this._row=cell.row.data;this._outletid=this._row.outletid;this._circulation=this._row.circulation;if(cell.column.id==5){this.selectdetails_dlg.startup();this.selectdetails_dlg.show();this.selectdetails_ctrl.load(this._outletid,this.mode);}else{_87f.set(this.display,"innerHTML",this._row.outletname);this.select_dlg.hide();this._set_view();_87e.publish("/outlet/circulation",[this._circulation]);}},});});},"dijit/layout/ContentPane":function(){define(["dojo/_base/kernel","dojo/_base/lang","../_Widget","../_Container","./_ContentPaneResizeMixin","dojo/string","dojo/html","dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/_base/xhr","dojo/i18n","dojo/when","dojo/i18n!../nls/loading"],function(_88b,lang,_88c,_88d,_88e,_88f,html,_890,_891,_892,dom,_893,_894,xhr,i18n,when){return _891("dijit.layout.ContentPane",[_88c,_88d,_88e],{href:"",content:"",extractContent:false,parseOnLoad:true,parserScope:_88b._scopeName,preventCache:false,preload:false,refreshOnShow:false,loadingMessage:"<span class='dijitContentPaneLoading'><span class='dijitInline dijitIconLoading'></span>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'><span class='dijitInline dijitIconError'></span>${errorState}</span>",isLoaded:false,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:true,template:false,markupFactory:function(_895,node,ctor){var self=new ctor(_895,node);return !self.href&&self._contentSetter&&self._contentSetter.parseDeferred&&!self._contentSetter.parseDeferred.isFulfilled()?self._contentSetter.parseDeferred.then(function(){return self;}):self;},create:function(_896,_897){if((!_896||!_896.template)&&_897&&!("href" in _896)&&!("content" in _896)){_897=dom.byId(_897);var df=_897.ownerDocument.createDocumentFragment();while(_897.firstChild){df.appendChild(_897.firstChild);}_896=lang.delegate(_896,{content:df});}this.inherited(arguments,[_896,_897]);},postMixInProperties:function(){this.inherited(arguments);var _898=i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=_88f.substitute(this.loadingMessage,_898);this.errorMessage=_88f.substitute(this.errorMessage,_898);},buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}this.domNode.removeAttribute("title");},startup:function(){this.inherited(arguments);if(this._contentSetter){_890.forEach(this._contentSetter.parseResults,function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}},this);}},_startChildren:function(){_890.forEach(this.getChildren(),function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}});if(this._contentSetter){_890.forEach(this._contentSetter.parseResults,function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}},this);}},setHref:function(href){_88b.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0");return this.set("href",href);},_setHrefAttr:function(href){this.cancel();this.onLoadDeferred=new _892(lang.hitch(this,"cancel"));this.onLoadDeferred.then(lang.hitch(this,"onLoad"));this._set("href",href);if(this.preload||(this._created&&this._isShown())){this._load();}else{this._hrefChanged=true;}return this.onLoadDeferred;},setContent:function(data){_88b.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",data);},_setContentAttr:function(data){this._set("href","");this.cancel();this.onLoadDeferred=new _892(lang.hitch(this,"cancel"));if(this._created){this.onLoadDeferred.then(lang.hitch(this,"onLoad"));}this._setContent(data||"");this._isDownloaded=false;return this.onLoadDeferred;},_getContentAttr:function(){return this.containerNode.innerHTML;},cancel:function(){if(this._xhrDfd&&(this._xhrDfd.fired==-1)){this._xhrDfd.cancel();}delete this._xhrDfd;this.onLoadDeferred=null;},destroy:function(){this.cancel();this.inherited(arguments);},destroyRecursive:function(_899){if(this._beingDestroyed){return;}this.inherited(arguments);},_onShow:function(){this.inherited(arguments);if(this.href){if(!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow)){return this.refresh();}}},refresh:function(){this.cancel();this.onLoadDeferred=new _892(lang.hitch(this,"cancel"));this.onLoadDeferred.then(lang.hitch(this,"onLoad"));this._load();return this.onLoadDeferred;},_load:function(){this._setContent(this.onDownloadStart(),true);var self=this;var _89a={preventCache:(this.preventCache||this.refreshOnShow),url:this.href,handleAs:"text"};if(lang.isObject(this.ioArgs)){lang.mixin(_89a,this.ioArgs);}var hand=(this._xhrDfd=(this.ioMethod||xhr.get)(_89a)),_89b;hand.then(function(html){_89b=html;try{self._isDownloaded=true;return self._setContent(html,false);}catch(err){self._onError("Content",err);}},function(err){if(!hand.canceled){self._onError("Download",err);}delete self._xhrDfd;return err;}).then(function(){self.onDownloadEnd();delete self._xhrDfd;return _89b;});delete this._hrefChanged;},_onLoadHandler:function(data){this._set("isLoaded",true);try{this.onLoadDeferred.resolve(data);}catch(e){}},_onUnloadHandler:function(){this._set("isLoaded",false);try{this.onUnload();}catch(e){}},destroyDescendants:function(_89c){if(this.isLoaded){this._onUnloadHandler();}var _89d=this._contentSetter;_890.forEach(this.getChildren(),function(_89e){if(_89e.destroyRecursive){_89e.destroyRecursive(_89c);}else{if(_89e.destroy){_89e.destroy(_89c);}}_89e._destroyed=true;});if(_89d){_890.forEach(_89d.parseResults,function(_89f){if(!_89f._destroyed){if(_89f.destroyRecursive){_89f.destroyRecursive(_89c);}else{if(_89f.destroy){_89f.destroy(_89c);}}_89f._destroyed=true;}});delete _89d.parseResults;}if(!_89c){_894.empty(this.containerNode);}delete this._singleChild;},_setContent:function(cont,_8a0){cont=this.preprocessContent(cont);this.destroyDescendants();var _8a1=this._contentSetter;if(!(_8a1&&_8a1 instanceof html._ContentSetter)){_8a1=this._contentSetter=new html._ContentSetter({node:this.containerNode,_onError:lang.hitch(this,this._onError),onContentError:lang.hitch(this,function(e){var _8a2=this.onContentError(e);try{this.containerNode.innerHTML=_8a2;}catch(e){}})});}var _8a3=lang.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!cont.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:false,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{});var p=_8a1.set((lang.isObject(cont)&&cont.domNode)?cont.domNode:cont,_8a3);var self=this;return when(p&&p.then?p:_8a1.parseDeferred,function(){delete self._contentSetterParams;if(!_8a0){if(self._started){self._startChildren();self._scheduleLayout();}self._onLoadHandler(cont);}});},preprocessContent:function(_8a4){return _8a4;},_onError:function(type,err,_8a5){this.onLoadDeferred.reject(err);var _8a6=this["on"+type+"Error"].call(this,err);if(_8a5){}else{if(_8a6){this._setContent(_8a6,true);}}},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage;},onContentError:function(){},onDownloadError:function(){return this.errorMessage;},onDownloadEnd:function(){}});});},"prcommon2/search/SearchRoles":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../search/templates/SearchRoles.html","prcommon2/search/std_search","dojo/_base/lang","dojo/dom-attr","dojo/dom-class","dojo/dom-style","prcommon2/roles/Roles","prcommon2/search/SearchCount"],function(_8a7,_8a8,_8a9,_8aa,lang,_8ab,_8ac,_8ad){return _8a7("prcommon2.search.SearchRoles",[_8a8,_8aa],{templateString:_8a9,name:"",value:"",showdefaultoption:true,constructor:function(){this.disabled=false;this._extended=false;this._load_selection_call=lang.hitch(this,this._load_selection);},postCreate:function(){this.roles_search.set("keytypeid",this.keytypeid);this.roles_search.countnode=this.countnode;if(this.showdefaultoption==true){_8ac.remove(this.roles_search.show_search_integration,"prmaxhidden");}else{_8ad.set(this.selectarea,"display","none");}this.inherited(arguments);},clear:function(){this.roles_search.clear();this.inherited(arguments);},_setValueAttr:function(_8ae){this.roles_search.set("value",_8ae);if(this.roles_search.get("count")>0){this.make_open();}},_getValueAttr:function(){return this.roles_search.get("value");},_getIsDefaultAttr:function(){return this.roles_search.search_only.get("checked");},_setExtendedAttr:function(_8af){this._extended=_8af;this.roles_search.set("extended",_8af);},_capture_extended_content:function(data){return data;},_setDisabledAttr:function(_8b0){this.disabled=_8b0;},_getDisabledAttr:function(){return this.disabled;},_focus:function(){this.roles_search.master_type_text.focus();}});});},"dojox/validate/_base":function(){define(["dojo/_base/lang","dojo/regexp","dojo/number","./regexp"],function(lang,_8b1,_8b2,_8b3){var _8b4=lang.getObject("dojox.validate",true);_8b4.isText=function(_8b5,_8b6){_8b6=(typeof _8b6=="object")?_8b6:{};if(/^\s*$/.test(_8b5)){return false;}if(typeof _8b6.length=="number"&&_8b6.length!=_8b5.length){return false;}if(typeof _8b6.minlength=="number"&&_8b6.minlength>_8b5.length){return false;}if(typeof _8b6.maxlength=="number"&&_8b6.maxlength<_8b5.length){return false;}return true;};_8b4._isInRangeCache={};_8b4.isInRange=function(_8b7,_8b8){_8b7=_8b2.parse(_8b7,_8b8);if(isNaN(_8b7)){return false;}_8b8=(typeof _8b8=="object")?_8b8:{};var max=(typeof _8b8.max=="number")?_8b8.max:Infinity,min=(typeof _8b8.min=="number")?_8b8.min:-Infinity,dec=(typeof _8b8.decimal=="string")?_8b8.decimal:".",_8b9=_8b4._isInRangeCache,_8ba=_8b7+"max"+max+"min"+min+"dec"+dec;if(typeof _8b9[_8ba]!="undefined"){return _8b9[_8ba];}_8b9[_8ba]=!(_8b7<min||_8b7>max);return _8b9[_8ba];};_8b4.isNumberFormat=function(_8bb,_8bc){var re=new RegExp("^"+_8b3.numberFormat(_8bc)+"$","i");return re.test(_8bb);};_8b4.isValidLuhn=function(_8bd){var sum=0,_8be,_8bf;if(!lang.isString(_8bd)){_8bd=String(_8bd);}_8bd=_8bd.replace(/[- ]/g,"");_8be=_8bd.length%2;for(var i=0;i<_8bd.length;i++){_8bf=parseInt(_8bd.charAt(i));if(i%2==_8be){_8bf*=2;}if(_8bf>9){_8bf-=9;}sum+=_8bf;}return !(sum%10);};return _8b4;});},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(_8c0,_8c1){return _8c0("dijit._Contained",null,{_getSibling:function(_8c2){var p=this.getParent();return (p&&p._getSiblingOfChild&&p._getSiblingOfChild(this,_8c2=="previous"?-1:1))||null;},getPreviousSibling:function(){return this._getSibling("previous");},getNextSibling:function(){return this._getSibling("next");},getIndexInParent:function(){var p=this.getParent();if(!p||!p.getIndexOfChild){return -1;}return p.getIndexOfChild(this);}});});},"dgrid/List":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/dom","dojo/on","dojo/has","./util/misc","dojo/has!touch?./TouchScroll","xstyle/has-class","put-selector/put","dojo/_base/sniff","xstyle/css!./css/dgrid.css"],function(_8c3,_8c4,dom,_8c5,has,_8c6,_8c7,_8c8,put){_8c8("mozilla","opera","webkit","ie","ie-6","ie-6-7","quirks","no-quirks","touch");var _8c9="dgrid-row-odd",_8ca="dgrid-row-even",_8cb,_8cc;function byId(id){return document.getElementById(id);};function _8cd(_8ce){_8ce.className="";document.body.removeChild(_8ce);};function _8cf(_8d0,_8d1){put(document.body,_8d0,".dgrid-scrollbar-measure");var size=_8d0["offset"+_8d1]-_8d0["client"+_8d1];_8cd(_8d0);return size;};has.add("dom-scrollbar-width",function(_8d2,doc,_8d3){return _8cf(_8d3,"Width");});has.add("dom-scrollbar-height",function(_8d4,doc,_8d5){return _8cf(_8d5,"Height");});has.add("dom-rtl-scrollbar-left",function(_8d6,doc,_8d7){var div=put("div"),_8d8;put(document.body,_8d7,".dgrid-scrollbar-measure[dir=rtl]");put(_8d7,div);_8d8=!!has("ie")||!!has("trident")||div.offsetLeft>=has("dom-scrollbar-width");_8cd(_8d7);put(div,"!");_8d7.removeAttribute("dir");return _8d8;});var _8d9=0;function _8da(){return "dgrid_"+_8d9++;};var _8db=/ +/g;function _8dc(cls){var _8dd=cls?"."+cls.replace(_8db,"."):"";if(this._class){_8dd="!"+this._class.replace(_8db,"!")+_8dd;}put(this.domNode,_8dd);this._class=cls;};function _8de(){return this._class;};var _8df=has("ie")<7&&!has("quirks")?function(){var root,w,h,dims;if(!this._started){return;}root=document.documentElement;w=root.clientWidth;h=root.clientHeight;dims=this._prevWinDims||[];if(dims[0]!==w||dims[1]!==h){this.resize();this._prevWinDims=[w,h];}}:function(){if(this._started){this.resize();}};function _8e0(){return {x:this.bodyNode.scrollLeft,y:this.bodyNode.scrollTop};};function _8e1(_8e2){if(typeof _8e2.x!=="undefined"){this.bodyNode.scrollLeft=_8e2.x;}if(typeof _8e2.y!=="undefined"){this.bodyNode.scrollTop=_8e2.y;}};return _8c4(has("touch")?_8c7:null,{tabableHeader:false,showHeader:false,showFooter:false,maintainOddEven:true,cleanAddedRules:true,useTouchScroll:null,addUiClasses:true,cleanEmptyObservers:true,highlightDuration:250,postscript:function(_8e3,_8e4){var grid=this;(this._Row=function(id,_8e5,_8e6){this.id=id;this.data=_8e5;this.element=_8e6;}).prototype.remove=function(){grid.removeRow(this.element);};if(_8e4){this.srcNodeRef=_8e4=_8e4.nodeType?_8e4:byId(_8e4);}this.create(_8e3,_8e4);},listType:"list",create:function(_8e7,_8e8){var _8e9=this.domNode=_8e8||put("div"),cls;if(_8e7){this.params=_8e7;_8c4.safeMixin(this,_8e7);cls=_8e7["class"]||_8e7.className||_8e9.className;this._sort=_8e7.sort||[];delete this.sort;}else{this._sort=[];}this.observers=[];this._numObservers=0;this._listeners=[];this._rowIdToObject={};this.postMixInProperties&&this.postMixInProperties();this.id=_8e9.id=_8e9.id||this.id||_8da();if(this.useTouchScroll===null){this.useTouchScroll=!has("dom-scrollbar-width");}this.buildRendering();if(cls){_8dc.call(this,cls);}this.postCreate();delete this.srcNodeRef;if(this.domNode.offsetHeight){this.startup();}},buildRendering:function(){var _8ea=this.domNode,_8eb=this.addUiClasses,self=this,_8ec,_8ed,_8ee,_8ef,_8f0;_8f0=this.isRTL=(document.body.dir||document.documentElement.dir||document.body.style.direction).toLowerCase()=="rtl";_8ea.className="";put(_8ea,"[role=grid].dgrid.dgrid-"+this.listType+(_8eb?".ui-widget":""));_8ec=this.headerNode=put(_8ea,"div.dgrid-header.dgrid-header-row"+(_8eb?".ui-widget-header":"")+(this.showHeader?"":".dgrid-header-hidden"));if(has("quirks")||has("ie")<8){_8ed=put(_8ea,"div.dgrid-spacer");}_8ee=this.bodyNode=put(_8ea,"div.dgrid-scroller");if(has("ff")){_8ee.tabIndex=-1;}this.headerScrollNode=put(_8ea,"div.dgrid-header.dgrid-header-scroll.dgrid-scrollbar-width"+(_8eb?".ui-widget-header":""));_8ef=this.footerNode=put("div.dgrid-footer"+(this.showFooter?"":".dgrid-footer-hidden"));put(_8ea,_8ef);if(_8f0){_8ea.className+=" dgrid-rtl"+(has("dom-rtl-scrollbar-left")?" dgrid-rtl-swap":"");}_8c5(_8ee,"scroll",function(_8f1){if(self.showHeader){_8ec.scrollLeft=_8f1.scrollLeft||_8ee.scrollLeft;}_8f1.stopPropagation();_8c5.emit(_8ea,"scroll",{scrollTarget:_8ee});});this.configStructure();this.renderHeader();this.contentNode=this.touchNode=put(this.bodyNode,"div.dgrid-content"+(_8eb?".ui-widget-content":""));this._listeners.push(this._resizeHandle=_8c5(window,"resize",_8c6.throttleDelayed(_8df,this)));},postCreate:has("touch")?function(){if(this.useTouchScroll){this.inherited(arguments);}}:function(){},startup:function(){if(this._started){return;}this.inherited(arguments);this._started=true;this.resize();this.set("sort",this._sort);},configStructure:function(){},resize:function(){var _8f2=this.bodyNode,_8f3=this.headerNode,_8f4=this.footerNode,_8f5=_8f3.offsetHeight,_8f6=this.showFooter?_8f4.offsetHeight:0,_8f7=has("quirks")||has("ie")<7;this.headerScrollNode.style.height=_8f2.style.marginTop=_8f5+"px";_8f2.style.marginBottom=_8f6+"px";if(_8f7){_8f2.style.height="";_8f2.style.height=Math.max((this.domNode.offsetHeight-_8f5-_8f6),0)+"px";if(_8f6){_8f4.style.bottom="1px";setTimeout(function(){_8f4.style.bottom="";},0);}}if(!_8cb){_8cb=has("dom-scrollbar-width");_8cc=has("dom-scrollbar-height");if(has("ie")){_8cb++;_8cc++;}_8c6.addCssRule(".dgrid-scrollbar-width","width: "+_8cb+"px");_8c6.addCssRule(".dgrid-scrollbar-height","height: "+_8cc+"px");if(_8cb!=17&&!_8f7){_8c6.addCssRule(".dgrid-header-row","right: "+_8cb+"px");_8c6.addCssRule(".dgrid-rtl-swap .dgrid-header-row","left: "+_8cb+"px");}}if(_8f7){_8f3.style.width=_8f2.clientWidth+"px";setTimeout(function(){_8f3.scrollLeft=_8f2.scrollLeft;},0);}},addCssRule:function(_8f8,css){var rule=_8c6.addCssRule(_8f8,css);if(this.cleanAddedRules){this._listeners.push(rule);}return rule;},on:function(_8f9,_8fa){var _8fb=_8c5(this.domNode,_8f9,_8fa);if(!has("dom-addeventlistener")){this._listeners.push(_8fb);}return _8fb;},cleanup:function(){var _8fc=this.observers,i;for(i in this._rowIdToObject){if(this._rowIdToObject[i]!=this.columns){var _8fd=byId(i);if(_8fd){this.removeRow(_8fd,true);}}}for(i=0;i<_8fc.length;i++){var _8fe=_8fc[i];_8fe&&_8fe.cancel();}this.observers=[];this._numObservers=0;this.preload=null;},destroy:function(){if(this._listeners){for(var i=this._listeners.length;i--;){this._listeners[i].remove();}delete this._listeners;}this._started=false;this.cleanup();put(this.domNode,"!");if(this.useTouchScroll){this.inherited(arguments);}},refresh:function(){this.cleanup();this._rowIdToObject={};this._autoId=0;this.contentNode.innerHTML="";this.scrollTo({x:0,y:0});},newRow:function(_8ff,_900,_901,i,_902){if(_900){var row=this.insertRow(_8ff,_900,_901,i,_902);put(row,".dgrid-highlight"+(this.addUiClasses?".ui-state-highlight":""));setTimeout(function(){put(row,"!dgrid-highlight!ui-state-highlight");},this.highlightDuration);return row;}},adjustRowIndices:function(_903){var next=_903;var _904=next.rowIndex;if(_904>-1){do{if(next.rowIndex>-1){if(this.maintainOddEven){if((next.className+" ").indexOf("dgrid-row ")>-1){put(next,"."+(_904%2==1?_8c9:_8ca)+"!"+(_904%2==0?_8c9:_8ca));}}next.rowIndex=_904++;}}while((next=next.nextSibling)&&next.rowIndex!=_904);}},renderArray:function(_905,_906,_907){_907=_907||{};var self=this,_908=_907.start||0,_909=this.observers,rows,_90a,_90b;if(!_906){this._lastCollection=_905;}if(_905.observe){self._numObservers++;var _90c=_905.observe(function(_90d,from,to){var row,_90e,_90f,_910;function _911(){_90f=(_90f.connected||_90f).nextSibling;};if(from>-1&&rows[from]){row=rows.splice(from,1)[0];if(row.parentNode==_90a){_90e=row.nextSibling;if(_90e){if(from!=to){_90e.rowIndex--;}}self.removeRow(row);}_907.count--;if(self._processScroll){self._processScroll();}}if(to>-1){if(rows.length){if(to===0){_90f=rows[to];_90f=_90f&&_912(_90f);}else{_90f=rows[to-1];if(_90f){_90f=_912(_90f);_911();}}}else{_90f=self._getFirstRowSibling&&self._getFirstRowSibling(_90a);}if(row&&_90f&&row.id===_90f.id){_911();}if(_90f&&!_90f.parentNode){_90f=byId(_90f.id);}_910=(_906&&_906.parentNode)||(_90f&&_90f.parentNode)||self.contentNode;row=self.newRow(_90d,_910,_90f,_907.start+to,_907);if(row){row.observerIndex=_90b;rows.splice(to,0,row);if(!_90e||to<from){var _913=row.previousSibling;_90e=!_913||_913.rowIndex+1==row.rowIndex||row.rowIndex==0?row:_913;}}_907.count++;}if(from===0){_914(1,1);}else{if(from===_905.length-(to===-1?0:1)){_914(0,0);}}from!=to&&_90e&&self.adjustRowIndices(_90e);self._onNotification(rows,_90d,from,to);},true);_90b=_909.push(_90c)-1;}var _915=document.createDocumentFragment(),_916;function _914(){var _917=arguments;if(_90b>-1){for(var i=0;i<_917.length;i++){var top=_917[i];var _918=rows[top?0:rows.length-1];_918=_918&&_912(_918);if(_918){var row=_918[top?"previousSibling":"nextSibling"];if(row){row=self.row(row);}if(row&&row.element!=_918){var _919=top?"unshift":"push";_905[_919](row.data);rows[_919](row.element);_907.count++;}}}}};function _912(row){if(!dom.isDescendant(row,self.domNode)&&byId(row.id)){return self.row(row.id.slice(self.id.length+5)).element;}return row;};function _91a(_91b){_916=self.insertRow(_91b,_915,null,_908++,_907);_916.observerIndex=_90b;return _916;};function _91c(_91d){if(typeof _90b!=="undefined"){_909[_90b].cancel();_909[_90b]=0;self._numObservers--;}if(_91d){throw _91d;}};var _91e;function _91f(_920){_91e=_920.slice(0);_90a=_906?_906.parentNode:self.contentNode;if(_90a&&_90a.parentNode&&(_90a!==self.contentNode||_920.length)){_90a.insertBefore(_915,_906||null);_916=_920[_920.length-1];_916&&self.adjustRowIndices(_916);}else{if(_909[_90b]&&self.cleanEmptyObservers){_91c();}}rows=_920;if(_90c){_90c.rows=rows;}};if(_905.map){rows=_905.map(_91a,console.error);if(rows.then){return _905.then(function(_921){_905=_921;return rows.then(function(_922){_91f(_922);_914(1,1,0,0);return _91e;});});}}else{rows=[];for(var i=0,l=_905.length;i<l;i++){rows[i]=_91a(_905[i]);}}_91f(rows);_914(1,1,0,0);return _91e;},_onNotification:function(rows,_923,from,to){},renderHeader:function(){},_autoId:0,insertRow:function(_924,_925,_926,i,_927){var _928=_927.parentId,id=this.id+"-row-"+(_928?_928+"-":"")+((this.store&&this.store.getIdentity)?this.store.getIdentity(_924):this._autoId++),row=byId(id),_929=row&&row.previousSibling;if(row){if(row===_926){_926=(_926.connected||_926).nextSibling;}this.removeRow(row);}row=this.renderRow(_924,_927);row.className=(row.className||"")+" dgrid-row "+(i%2==1?_8c9:_8ca)+(this.addUiClasses?" ui-state-default":"");this._rowIdToObject[row.id=id]=_924;_925.insertBefore(row,_926||null);if(_929){this.adjustRowIndices(_929);}row.rowIndex=i;return row;},renderRow:function(_92a,_92b){return put("div",""+_92a);},removeRow:function(_92c,_92d){_92c=_92c.element||_92c;delete this._rowIdToObject[_92c.id];if(!_92d){put(_92c,"!");}},row:function(_92e){var id;if(_92e instanceof this._Row){return _92e;}if(_92e.target&&_92e.target.nodeType){_92e=_92e.target;}if(_92e.nodeType){var _92f;do{var _930=_92e.id;if((_92f=this._rowIdToObject[_930])){return new this._Row(_930.substring(this.id.length+5),_92f,_92e);}_92e=_92e.parentNode;}while(_92e&&_92e!=this.domNode);return;}if(typeof _92e=="object"){id=this.store.getIdentity(_92e);}else{id=_92e;_92e=this._rowIdToObject[this.id+"-row-"+id];}return new this._Row(id,_92e,byId(this.id+"-row-"+id));},cell:function(_931){return {row:this.row(_931)};},_move:function(item,_932,_933,_934){var _935,_936,_937;_937=_936=item.element;_932=_932||1;do{if((_935=_936[_932<0?"previousSibling":"nextSibling"])){do{_936=_935;if(_936&&(_936.className+" ").indexOf(_933+" ")>-1){_937=_936;_932+=_932<0?1:-1;break;}}while((_935=(!_934||!_936.hidden)&&_936[_932<0?"lastChild":"firstChild"]));}else{_936=_936.parentNode;if(!_936||_936===this.bodyNode||_936===this.headerNode){break;}}}while(_932);return _937;},up:function(row,_938,_939){if(!row.element){row=this.row(row);}return this.row(this._move(row,-(_938||1),"dgrid-row",_939));},down:function(row,_93a,_93b){if(!row.element){row=this.row(row);}return this.row(this._move(row,_93a||1,"dgrid-row",_93b));},scrollTo:has("touch")?function(_93c){return this.useTouchScroll?this.inherited(arguments):_8e1.call(this,_93c);}:_8e1,getScrollPosition:has("touch")?function(){return this.useTouchScroll?this.inherited(arguments):_8e0.call(this);}:_8e0,get:function(name){var fn="_get"+name.charAt(0).toUpperCase()+name.slice(1);if(typeof this[fn]==="function"){return this[fn].apply(this,[].slice.call(arguments,1));}if(!1&&typeof this[fn+"Attr"]==="function"){}return this[name];},set:function(name,_93d){if(typeof name==="object"){for(var k in name){this.set(k,name[k]);}}else{var fn="_set"+name.charAt(0).toUpperCase()+name.slice(1);if(typeof this[fn]==="function"){this[fn].apply(this,[].slice.call(arguments,1));}else{if(!1&&typeof this[fn+"Attr"]==="function"){}this[name]=_93d;}}return this;},_getClass:_8de,_setClass:_8dc,_getClassName:_8de,_setClassName:_8dc,_setSort:function(_93e,_93f){this._sort=typeof _93e!="string"?_93e:[{attribute:_93e,descending:_93f}];this.refresh();if(this._lastCollection){if(_93e.length){if(typeof _93e!="string"){_93f=_93e[0].descending;_93e=_93e[0].attribute;}this._lastCollection.sort(function(a,b){var aVal=a[_93e],bVal=b[_93e];if(aVal===undefined){aVal="";}if(bVal===undefined){bVal="";}return aVal==bVal?0:(aVal>bVal==!_93f?1:-1);});}this.renderArray(this._lastCollection);}},sort:function(_940,_941){_8c3.deprecated("sort(...)","use set(\"sort\", ...) instead","dgrid 0.4");this.set("sort",_940,_941);},_getSort:function(){return this._sort;},_setShowHeader:function(show){var _942=this.headerNode;this.showHeader=show;put(_942,(show?"!":".")+"dgrid-header-hidden");this.renderHeader();this.resize();if(show){_942.scrollLeft=this.getScrollPosition().x;}},setShowHeader:function(show){_8c3.deprecated("setShowHeader(...)","use set(\"showHeader\", ...) instead","dgrid 0.4");this.set("showHeader",show);},_setShowFooter:function(show){this.showFooter=show;put(this.footerNode,(show?"!":".")+"dgrid-footer-hidden");this.resize();}});});},"dijit/_KeyNavContainer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/_base/kernel","dojo/keys","dojo/_base/lang","./registry","./_Container","./_FocusMixin","./_KeyNavMixin"],function(_943,_944,_945,_946,keys,lang,_947,_948,_949,_94a){return _944("dijit._KeyNavContainer",[_949,_94a,_948],{connectKeyNavHandlers:function(_94b,_94c){var _94d=(this._keyNavCodes={});var prev=lang.hitch(this,"focusPrev");var next=lang.hitch(this,"focusNext");_943.forEach(_94b,function(code){_94d[code]=prev;});_943.forEach(_94c,function(code){_94d[code]=next;});_94d[keys.HOME]=lang.hitch(this,"focusFirstChild");_94d[keys.END]=lang.hitch(this,"focusLastChild");},startupKeyNavChildren:function(){_946.deprecated("startupKeyNavChildren() call no longer needed","","2.0");},startup:function(){this.inherited(arguments);_943.forEach(this.getChildren(),lang.hitch(this,"_startupChild"));},addChild:function(_94e,_94f){this.inherited(arguments);this._startupChild(_94e);},_startupChild:function(_950){_950.set("tabIndex","-1");},_getFirst:function(){var _951=this.getChildren();return _951.length?_951[0]:null;},_getLast:function(){var _952=this.getChildren();return _952.length?_952[_952.length-1]:null;},focusNext:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,1));},focusPrev:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,-1),true);},childSelector:function(node){var node=_947.byNode(node);return node&&node.getParent()==this;}});});},"dijit/layout/utils":function(){define(["dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang"],function(_953,_954,_955,_956,lang){function _957(word){return word.substring(0,1).toUpperCase()+word.substring(1);};function size(_958,dim){var _959=_958.resize?_958.resize(dim):_955.setMarginBox(_958.domNode,dim);if(_959){lang.mixin(_958,_959);}else{lang.mixin(_958,_955.getMarginBox(_958.domNode));lang.mixin(_958,dim);}};var _95a={marginBox2contentBox:function(node,mb){var cs=_956.getComputedStyle(node);var me=_955.getMarginExtents(node,cs);var pb=_955.getPadBorderExtents(node,cs);return {l:_956.toPixelValue(node,cs.paddingLeft),t:_956.toPixelValue(node,cs.paddingTop),w:mb.w-(me.w+pb.w),h:mb.h-(me.h+pb.h)};},layoutChildren:function(_95b,dim,_95c,_95d,_95e){dim=lang.mixin({},dim);_954.add(_95b,"dijitLayoutContainer");_95c=_953.filter(_95c,function(item){return item.region!="center"&&item.layoutAlign!="client";}).concat(_953.filter(_95c,function(item){return item.region=="center"||item.layoutAlign=="client";}));_953.forEach(_95c,function(_95f){var elm=_95f.domNode,pos=(_95f.region||_95f.layoutAlign);if(!pos){throw new Error("No region setting for "+_95f.id);}var _960=elm.style;_960.left=dim.l+"px";_960.top=dim.t+"px";_960.position="absolute";_954.add(elm,"dijitAlign"+_957(pos));var _961={};if(_95d&&_95d==_95f.id){_961[_95f.region=="top"||_95f.region=="bottom"?"h":"w"]=_95e;}if(pos=="leading"){pos=_95f.isLeftToRight()?"left":"right";}if(pos=="trailing"){pos=_95f.isLeftToRight()?"right":"left";}if(pos=="top"||pos=="bottom"){_961.w=dim.w;size(_95f,_961);dim.h-=_95f.h;if(pos=="top"){dim.t+=_95f.h;}else{_960.top=dim.t+dim.h+"px";}}else{if(pos=="left"||pos=="right"){_961.h=dim.h;size(_95f,_961);dim.w-=_95f.w;if(pos=="left"){dim.l+=_95f.w;}else{_960.left=dim.l+dim.w+"px";}}else{if(pos=="client"||pos=="center"){size(_95f,dim);}}}});}};lang.setObject("dijit.layout.utils",_95a);return _95a;});},"dijit/form/DataList":function(){define(["dojo/_base/declare","dojo/dom","dojo/_base/lang","dojo/query","dojo/store/Memory","../registry"],function(_962,dom,lang,_963,_964,_965){function _966(_967){return {id:_967.value,value:_967.value,name:lang.trim(_967.innerText||_967.textContent||"")};};return _962("dijit.form.DataList",_964,{constructor:function(_968,_969){this.domNode=dom.byId(_969);lang.mixin(this,_968);if(this.id){_965.add(this);}this.domNode.style.display="none";this.inherited(arguments,[{data:_963("option",this.domNode).map(_966)}]);},destroy:function(){_965.remove(this.id);},fetchSelectedItem:function(){var _96a=_963("> option[selected]",this.domNode)[0]||_963("> option",this.domNode)[0];return _96a&&_966(_96a);}});});},"dijit/form/CheckBox":function(){define(["require","dojo/_base/declare","dojo/dom-attr","dojo/has","dojo/query","dojo/ready","./ToggleButton","./_CheckBoxMixin","dojo/text!./templates/CheckBox.html","dojo/NodeList-dom","../a11yclick"],function(_96b,_96c,_96d,has,_96e,_96f,_970,_971,_972){if(has("dijit-legacy-requires")){_96f(0,function(){var _973=["dijit/form/RadioButton"];_96b(_973);});}return _96c("dijit.form.CheckBox",[_970,_971],{templateString:_972,baseClass:"dijitCheckBox",_setValueAttr:function(_974,_975){if(typeof _974=="string"){this.inherited(arguments);_974=true;}if(this._created){this.set("checked",_974,_975);}},_getValueAttr:function(){return this.checked&&this._get("value");},_setIconClassAttr:null,_setNameAttr:"focusNode",postMixInProperties:function(){this.inherited(arguments);this.checkedAttrSetting="";},_fillContent:function(){},_onFocus:function(){if(this.id){_96e("label[for='"+this.id+"']").addClass("dijitFocusedLabel");}this.inherited(arguments);},_onBlur:function(){if(this.id){_96e("label[for='"+this.id+"']").removeClass("dijitFocusedLabel");}this.inherited(arguments);}});});},"prmaxquestionnaires/main/frame":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/topic","dojo/text!../main/templates/frame.html","dijit/layout/BorderContainer","dojo/_base/lang","dojo/dom-class","dojo/dom-attr","dojox/collections/Dictionary","dijit/layout/ContentPane","dijit/layout/StackContainer","prmaxquestionnaires/main/banner","prmaxquestionnaires/pages/MainDetails","prmaxquestionnaires/pages/Freelance","prmaxquestionnaires/pages/Profile","prmaxquestionnaires/pages/Journalists","prmaxquestionnaires/pages/GeographicalCoverage","prmaxquestionnaires/pages/RelatedOutlets"],function(_976,_977,_978,_979,_97a,lang,_97b,_97c,_97d){return _976("prmaxquestionnaires.main.frame",[_977,_97a],{questionnaireid:-1,gutters:true,templateString:_979,constructor:function(){_978.subscribe("/show_page",lang.hitch(this,this._show_page_call));this._current_page="title";this._pages_control=new _97d();this._save_sequence=null;this.reset_controls_back=lang.hitch(this,this.reset_controls);},postCreate:function(){this._pages_control.add("title",{next:"journalists",prev:null,save:true,ctrl:this.maindetails,saves:new Array()});this._pages_control.add("journalists",{next:"profile",prev:"title",save:true,ctrl:this.journalists,saves:new Array()});this._pages_control.add("profile",{next:"geographical_coverage",prev:"journalists",save:true,ctrl:this.profile,saves:new Array()});this._pages_control.add("geographical_coverage",{next:"related_outlets",prev:"profile",save:true,ctrl:this.geographical_coverage,saves:new Array()});this._pages_control.add("related_outlets",{next:null,prev:"geographical_coverage",save:true,ctrl:this.related_outlets,saves:new Array()});var _97e=["title","profile","geographical_coverage","related_outlets","journalists"];for(var key in _97e){var page=this._pages_control.item(_97e[key]);page.saves.push(this._pages_control.item("title"));page.saves.push(this._pages_control.item("profile"));page.saves.push(this._pages_control.item("geographical_coverage"));page.saves.push(this._pages_control.item("related_outlets"));}if(PRMAX.questionnaire.outlet.outlet.countryid==119){_97c.set(this.support_email_address,"href","mailto:researchgroup@prmax.co.uk");_97c.set(this.support_email_address,"innerHTML","researchgroup@prmax.co.uk");}this.inherited(arguments);},_show_page_call:function(_97f){switch(_97f){case "title":this.zone_cont.selectChild(this.maindetails);this._current_page="title";break;case "profile":this.zone_cont.selectChild(this.profile);this._current_page="profile";break;case "journalists":this.zone_cont.selectChild(this.journalists);this._current_page="journalists";break;case "related_outlets":this.zone_cont.selectChild(this.related_outlets);this._current_page="related_outlets";break;case "geographical_coverage":this.zone_cont.selectChild(this.geographical_coverage);this._current_page="geographical_coverage";break;}this._enable_controls();_978.publish("/shop_page_tab",_97f);},_update_next:function(){var _980=this._pages_control.item(this._current_page);if(_980.save!=null){_980.ctrl.save_move(lang.hitch(this,this.move_page_next,_980),this.reset_controls_back);}else{this._show_page_call(_980.next);throw "N";}},move_page_next:function(_981){this._show_page_call(_981.next);},move_page_prev:function(_982){this._show_page_call(_982.prev);},_update_prev:function(){var _983=this._pages_control.item(this._current_page);if(_983.save!=null){_983.ctrl.save_move(lang.hitch(this,this.move_page_prev,_983),this.reset_controls_back);}else{this._show_page_call(_983.prev);throw "N";}},_save_completed:function(){var _984=this._save_sequence.pop();if(_984){_984.ctrl.save_move(lang.hitch(this,this._save_completed,_984),this.reset_controls_back);}else{this.savebtn.cancel();alert("Saved");}},_update_save:function(){var _985=this._pages_control.item(this._current_page);if(_985.save!=null){this._save_sequence=new Array();for(var key in _985.saves){this._save_sequence.push(_985.saves[key]);}if(_985.ctrl.save_mov!=null){_985.ctrl.save_move(lang.hitch(this,this._save_completed,_985),this.reset_controls_back);}else{var _985=this._save_sequence.pop();_985.ctrl.save_move(lang.hitch(this,this._save_completed,_985),this.reset_controls_back);}}},_enable_controls:function(){var _986=this._pages_control.item(this._current_page);if(_986.next==null){_97b.add(this.nextbtn.domNode,"prmaxhidden");}else{_97b.remove(this.nextbtn.domNode,"prmaxhidden");}if(_986.prev==null){_97b.add(this.prevbtn.domNode,"prmaxhidden");}else{_97b.remove(this.prevbtn.domNode,"prmaxhidden");}if(_986.save==null){_97b.add(this.savebtn.domNode,"prmaxhidden");}else{_97b.remove(this.savebtn.domNode,"prmaxhidden");}this.reset_controls();},reset_controls:function(){this.nextbtn.cancel();this.prevbtn.cancel();this.savebtn.cancel();}});});},"dojox/form/BusyButton":function(){define(["./_BusyButtonMixin","dijit/form/Button","dojo/_base/declare"],function(_987,_988,_989){var _98a=_989("dojox.form.BusyButton",[_988,_987],{});return _98a;});},"dijit/tree/_dndSelector":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/dnd/common","dojo/dom","dojo/mouse","dojo/on","dojo/touch","../a11yclick","./_dndContainer"],function(_98b,_98c,_98d,lang,_98e,dom,_98f,on,_990,_991,_992){return _98c("dijit.tree._dndSelector",_992,{constructor:function(){this.selection={};this.anchor=null;this.events.push(on(this.tree.domNode,_990.press,lang.hitch(this,"onMouseDown")),on(this.tree.domNode,_990.release,lang.hitch(this,"onMouseUp")),on(this.tree.domNode,_990.move,lang.hitch(this,"onMouseMove")),on(this.tree.domNode,_991.press,lang.hitch(this,"onClickPress")),on(this.tree.domNode,_991.release,lang.hitch(this,"onClickRelease")));},singular:false,getSelectedTreeNodes:function(){var _993=[],sel=this.selection;for(var i in sel){_993.push(sel[i]);}return _993;},selectNone:function(){this.setSelection([]);return this;},destroy:function(){this.inherited(arguments);this.selection=this.anchor=null;},addTreeNode:function(node,_994){this.setSelection(this.getSelectedTreeNodes().concat([node]));if(_994){this.anchor=node;}return node;},removeTreeNode:function(node){var _995=_98b.filter(this.getSelectedTreeNodes(),function(_996){return !dom.isDescendant(_996.domNode,node.domNode);});this.setSelection(_995);return node;},isTreeNodeSelected:function(node){return node.id&&!!this.selection[node.id];},setSelection:function(_997){var _998=this.getSelectedTreeNodes();_98b.forEach(this._setDifference(_998,_997),lang.hitch(this,function(node){node.setSelected(false);if(this.anchor==node){delete this.anchor;}delete this.selection[node.id];}));_98b.forEach(this._setDifference(_997,_998),lang.hitch(this,function(node){node.setSelected(true);this.selection[node.id]=node;}));this._updateSelectionProperties();},_setDifference:function(xs,ys){_98b.forEach(ys,function(y){y.__exclude__=true;});var ret=_98b.filter(xs,function(x){return !x.__exclude__;});_98b.forEach(ys,function(y){delete y["__exclude__"];});return ret;},_updateSelectionProperties:function(){var _999=this.getSelectedTreeNodes();var _99a=[],_99b=[];_98b.forEach(_999,function(node){var ary=node.getTreePath();_99b.push(node);_99a.push(ary);},this);var _99c=_98b.map(_99b,function(node){return node.item;});this.tree._set("paths",_99a);this.tree._set("path",_99a[0]||[]);this.tree._set("selectedNodes",_99b);this.tree._set("selectedNode",_99b[0]||null);this.tree._set("selectedItems",_99c);this.tree._set("selectedItem",_99c[0]||null);},onClickPress:function(e){if(this.current&&this.current.isExpandable&&this.tree.isExpandoNode(e.target,this.current)){return;}if(e.type=="mousedown"&&_98f.isLeft(e)){e.preventDefault();}var _99d=e.type=="keydown"?this.tree.focusedChild:this.current;if(!_99d){return;}var copy=_98e.getCopyKeyState(e),id=_99d.id;if(!this.singular&&!e.shiftKey&&this.selection[id]){this._doDeselect=true;return;}else{this._doDeselect=false;}this.userSelect(_99d,copy,e.shiftKey);},onClickRelease:function(e){if(!this._doDeselect){return;}this._doDeselect=false;this.userSelect(e.type=="keyup"?this.tree.focusedChild:this.current,_98e.getCopyKeyState(e),e.shiftKey);},onMouseMove:function(){this._doDeselect=false;},onMouseDown:function(){},onMouseUp:function(){},_compareNodes:function(n1,n2){if(n1===n2){return 0;}if("sourceIndex" in document.documentElement){return n1.sourceIndex-n2.sourceIndex;}else{if("compareDocumentPosition" in document.documentElement){return n1.compareDocumentPosition(n2)&2?1:-1;}else{if(document.createRange){var r1=doc.createRange();r1.setStartBefore(n1);var r2=doc.createRange();r2.setStartBefore(n2);return r1.compareBoundaryPoints(r1.END_TO_END,r2);}else{throw Error("dijit.tree._compareNodes don't know how to compare two different nodes in this browser");}}}},userSelect:function(node,_99e,_99f){if(this.singular){if(this.anchor==node&&_99e){this.selectNone();}else{this.setSelection([node]);this.anchor=node;}}else{if(_99f&&this.anchor){var cr=this._compareNodes(this.anchor.rowNode,node.rowNode),_9a0,end,_9a1=this.anchor;if(cr<0){_9a0=_9a1;end=node;}else{_9a0=node;end=_9a1;}var _9a2=[];while(_9a0!=end){_9a2.push(_9a0);_9a0=this.tree._getNext(_9a0);}_9a2.push(end);this.setSelection(_9a2);}else{if(this.selection[node.id]&&_99e){this.removeTreeNode(node);}else{if(_99e){this.addTreeNode(node,true);}else{this.setSelection([node]);this.anchor=node;}}}}},getItem:function(key){var _9a3=this.selection[key];return {data:_9a3,type:["treeNode"]};},forInSelectedItems:function(f,o){o=o||_98d.global;for(var id in this.selection){f.call(o,this.getItem(id),id,this);}}});});},"ttl/Amduuid":function(){define(["dojo/_base/declare"],function(_9a4){return _9a4("ttl.Amduuid",null,{createUUID:function(){var dg=new Date(1582,10,15,0,0,0,0);var dc=new Date();var t=dc.getTime()-dg.getTime();var h="-";var tl=this.getIntegerBits(t,0,31);var tm=this.getIntegerBits(t,32,47);var thv=this.getIntegerBits(t,48,59)+"1";var csar=this.getIntegerBits(this.rand(4095),0,7);var csl=this.getIntegerBits(this.rand(4095),0,7);var n=this.getIntegerBits(this.rand(8191),0,7)+this.getIntegerBits(this.rand(8191),8,15)+this.getIntegerBits(this.rand(8191),0,7)+this.getIntegerBits(this.rand(8191),8,15)+this.getIntegerBits(this.rand(8191),0,15);return tl+h+tm+h+thv+h+csar+csl+h+n;},getIntegerBits:function(val,_9a5,end){var _9a6=this.returnBase(val,16);var _9a7=new Array();var _9a8="";var i=0;for(i=0;i<_9a6.length;i++){_9a7.push(_9a6.substring(i,i+1));}for(i=Math.floor(_9a5/4);i<=Math.floor(end/4);i++){if(!_9a7[i]||_9a7[i]==""){_9a8+="0";}else{_9a8+=_9a7[i];}}return _9a8;},returnBase:function(_9a9,base){return (_9a9).toString(base).toUpperCase();},rand:function(max){return Math.floor(Math.random()*(max+1));}});});},"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(_9aa,_9ab,_9ac,_9ad){return _9ab("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},addChild:function(_9ae,_9af){var _9b0=this.containerNode;if(_9af>0){_9b0=_9b0.firstChild;while(_9af>0){if(_9b0.nodeType==1){_9af--;}_9b0=_9b0.nextSibling;}if(_9b0){_9af="before";}else{_9b0=this.containerNode;_9af="last";}}_9ac.place(_9ae.domNode,_9b0,_9af);if(this._started&&!_9ae._started){_9ae.startup();}},removeChild:function(_9b1){if(typeof _9b1=="number"){_9b1=this.getChildren()[_9b1];}if(_9b1){var node=_9b1.domNode;if(node&&node.parentNode){node.parentNode.removeChild(node);}}},hasChildren:function(){return this.getChildren().length>0;},_getSiblingOfChild:function(_9b2,dir){var _9b3=this.getChildren(),idx=_9aa.indexOf(_9b3,_9b2);return _9b3[idx+dir];},getIndexOfChild:function(_9b4){return _9aa.indexOf(this.getChildren(),_9b4);}});});},"prmaxquestionnaires/pages/DeskDetails":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../pages/templates/DeskDetails.html","dijit/layout/BorderContainer","dojo/topic","dojo/_base/lang","ttl/utilities2","dojo/request","dojo/dom-attr","dijit/layout/ContentPane","dijit/form/Form","dijit/form/ValidationTextBox","dijit/form/FilteringSelect","dijit/form/Button","dojox/form/BusyButton","dojox/validate"],function(_9b5,_9b6,_9b7,_9b8,_9b9,lang,_9ba,_9bb,_9bc){return _9b5("prmaxquestionnaires.pages.DeskDetails",[_9b6,_9b8],{templateString:_9b7,gutters:false,constructor:function(){this._updated_call_back=lang.hitch(this,this._updated_call);this._error_handler_call_back=lang.hitch(this,this._error_handler);this._page_ctrl=null;this._page_error=null;},postCreate:function(){this.countryid.set("store",PRCOMMON.utils.stores.Countries());this.load(PRMAX.questionnaire);if(PRMAX.questionnaire.outlet.outlet.countryid==119){_9bc.set(this.support_email_address,"href","mailto:researchgroup@prmax.co.uk");_9bc.set(this.support_email_address,"innerHTML","researchgroup@prmax.co.uk");}this.inherited(arguments);},_updated_call:function(_9bd){if(_9bd.success=="OK"){if(this._page_ctrl){this._page_ctrl();}else{alert("Updated");}}else{alert("Failed to updated");if(this._page_error){this._page_error();}}},load:function(_9be){with(_9be){this.deskname.set("value",outlet.desk.deskname);this.countryid.set("value",outlet.outlet.countryid);this.address1.set("value",outlet.address.address1);this.address2.set("value",outlet.address.address2);this.townname.set("value",outlet.address.townname);this.county.set("value",outlet.address.county);this.postcode.set("value",outlet.address.postcode);this.email.set("value",outlet.communications.email);this.tel.set("value",outlet.communications.tel);this.fax.set("value",outlet.communications.fax);this.linkedin.set("value",outlet.communications.linkedin);this.twitter.set("value",outlet.communications.twitter);this.facebook.set("value",outlet.communications.facebook);this.instagram.set("value",outlet.communications.instagram);}this.questionnaireid.set("value",_9be.questionnaireid);},_update:function(){if(_9ba.form_validator(this.form)==false){alert("Not all required field filled in");if(this._page_error){this._page_error();}throw "n";}_9bb.post("/questionnaire/update_desk_details",_9ba.make_params({data:this.form.get("value")})).then(this._updated_call_back,this._error_handler_call_back);},_error_handler:function(_9bf,_9c0){_9ba.xhr_post_error(_9bf,_9c0);if(this._page_error){this._page_error();}},save_move:function(_9c1,_9c2){this._page_ctrl=_9c1;this._page_error=_9c2;this._update();}});});},"dojo/data/ItemFileReadStore":function(){define(["../_base/kernel","../_base/lang","../_base/declare","../_base/array","../_base/xhr","../Evented","./util/filter","./util/simpleFetch","../date/stamp"],function(_9c3,lang,_9c4,_9c5,xhr,_9c6,_9c7,_9c8,_9c9){var _9ca=_9c4("dojo.data.ItemFileReadStore",[_9c6],{constructor:function(_9cb){this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._jsonFileUrl=_9cb.url;this._ccUrl=_9cb.url;this.url=_9cb.url;this._jsonData=_9cb.data;this.data=null;this._datatypeMap=_9cb.typeMap||{};if(!this._datatypeMap["Date"]){this._datatypeMap["Date"]={type:Date,deserialize:function(_9cc){return _9c9.fromISOString(_9cc);}};}this._features={"dojo.data.api.Read":true,"dojo.data.api.Identity":true};this._itemsByIdentity=null;this._storeRefPropName="_S";this._itemNumPropName="_0";this._rootItemPropName="_RI";this._reverseRefMap="_RRM";this._loadInProgress=false;this._queuedFetches=[];if(_9cb.urlPreventCache!==undefined){this.urlPreventCache=_9cb.urlPreventCache?true:false;}if(_9cb.hierarchical!==undefined){this.hierarchical=_9cb.hierarchical?true:false;}if(_9cb.clearOnClose){this.clearOnClose=true;}if("failOk" in _9cb){this.failOk=_9cb.failOk?true:false;}},url:"",_ccUrl:"",data:null,typeMap:null,clearOnClose:false,urlPreventCache:false,failOk:false,hierarchical:true,_assertIsItem:function(item){if(!this.isItem(item)){throw new Error(this.declaredClass+": Invalid item argument.");}},_assertIsAttribute:function(_9cd){if(typeof _9cd!=="string"){throw new Error(this.declaredClass+": Invalid attribute argument.");}},getValue:function(item,_9ce,_9cf){var _9d0=this.getValues(item,_9ce);return (_9d0.length>0)?_9d0[0]:_9cf;},getValues:function(item,_9d1){this._assertIsItem(item);this._assertIsAttribute(_9d1);return (item[_9d1]||[]).slice(0);},getAttributes:function(item){this._assertIsItem(item);var _9d2=[];for(var key in item){if((key!==this._storeRefPropName)&&(key!==this._itemNumPropName)&&(key!==this._rootItemPropName)&&(key!==this._reverseRefMap)){_9d2.push(key);}}return _9d2;},hasAttribute:function(item,_9d3){this._assertIsItem(item);this._assertIsAttribute(_9d3);return (_9d3 in item);},containsValue:function(item,_9d4,_9d5){var _9d6=undefined;if(typeof _9d5==="string"){_9d6=_9c7.patternToRegExp(_9d5,false);}return this._containsValue(item,_9d4,_9d5,_9d6);},_containsValue:function(item,_9d7,_9d8,_9d9){return _9c5.some(this.getValues(item,_9d7),function(_9da){if(_9da!==null&&!lang.isObject(_9da)&&_9d9){if(_9da.toString().match(_9d9)){return true;}}else{if(_9d8===_9da){return true;}}});},isItem:function(_9db){if(_9db&&_9db[this._storeRefPropName]===this){if(this._arrayOfAllItems[_9db[this._itemNumPropName]]===_9db){return true;}}return false;},isItemLoaded:function(_9dc){return this.isItem(_9dc);},loadItem:function(_9dd){this._assertIsItem(_9dd.item);},getFeatures:function(){return this._features;},getLabel:function(item){if(this._labelAttr&&this.isItem(item)){return this.getValue(item,this._labelAttr);}return undefined;},getLabelAttributes:function(item){if(this._labelAttr){return [this._labelAttr];}return null;},filter:function(_9de,_9df,_9e0){var _9e1=[],i,key;if(_9de.query){var _9e2,_9e3=_9de.queryOptions?_9de.queryOptions.ignoreCase:false;var _9e4={};for(key in _9de.query){_9e2=_9de.query[key];if(typeof _9e2==="string"){_9e4[key]=_9c7.patternToRegExp(_9e2,_9e3);}else{if(_9e2 instanceof RegExp){_9e4[key]=_9e2;}}}for(i=0;i<_9df.length;++i){var _9e5=true;var _9e6=_9df[i];if(_9e6===null){_9e5=false;}else{for(key in _9de.query){_9e2=_9de.query[key];if(!this._containsValue(_9e6,key,_9e2,_9e4[key])){_9e5=false;}}}if(_9e5){_9e1.push(_9e6);}}_9e0(_9e1,_9de);}else{for(i=0;i<_9df.length;++i){var item=_9df[i];if(item!==null){_9e1.push(item);}}_9e0(_9e1,_9de);}},_fetchItems:function(_9e7,_9e8,_9e9){var self=this;if(this._loadFinished){this.filter(_9e7,this._getItemsArray(_9e7.queryOptions),_9e8);}else{if(this._jsonFileUrl!==this._ccUrl){_9c3.deprecated(this.declaredClass+": ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_9e7,filter:lang.hitch(self,"filter"),findCallback:lang.hitch(self,_9e8)});}else{this._loadInProgress=true;var _9ea={url:self._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk};var _9eb=xhr.get(_9ea);_9eb.addCallback(function(data){try{self._getItemsFromLoadedData(data);self._loadFinished=true;self._loadInProgress=false;self.filter(_9e7,self._getItemsArray(_9e7.queryOptions),_9e8);self._handleQueuedFetches();}catch(e){self._loadFinished=true;self._loadInProgress=false;_9e9(e,_9e7);}});_9eb.addErrback(function(_9ec){self._loadInProgress=false;_9e9(_9ec,_9e7);});var _9ed=null;if(_9e7.abort){_9ed=_9e7.abort;}_9e7.abort=function(){var df=_9eb;if(df&&df.fired===-1){df.cancel();df=null;}if(_9ed){_9ed.call(_9e7);}};}}else{if(this._jsonData){try{this._loadFinished=true;this._getItemsFromLoadedData(this._jsonData);this._jsonData=null;self.filter(_9e7,this._getItemsArray(_9e7.queryOptions),_9e8);}catch(e){_9e9(e,_9e7);}}else{_9e9(new Error(this.declaredClass+": No JSON source data was provided as either URL or a nested Javascript object."),_9e7);}}}},_handleQueuedFetches:function(){if(this._queuedFetches.length>0){for(var i=0;i<this._queuedFetches.length;i++){var _9ee=this._queuedFetches[i],_9ef=_9ee.args,_9f0=_9ee.filter,_9f1=_9ee.findCallback;if(_9f0){_9f0(_9ef,this._getItemsArray(_9ef.queryOptions),_9f1);}else{this.fetchItemByIdentity(_9ef);}}this._queuedFetches=[];}},_getItemsArray:function(_9f2){if(_9f2&&_9f2.deep){return this._arrayOfAllItems;}return this._arrayOfTopLevelItems;},close:function(_9f3){if(this.clearOnClose&&this._loadFinished&&!this._loadInProgress){if(((this._jsonFileUrl==""||this._jsonFileUrl==null)&&(this.url==""||this.url==null))&&this.data==null){}this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._itemsByIdentity=null;this._loadInProgress=false;this._queuedFetches=[];}},_getItemsFromLoadedData:function(_9f4){var _9f5=false,self=this;function _9f6(_9f7){return (_9f7!==null)&&(typeof _9f7==="object")&&(!lang.isArray(_9f7)||_9f5)&&(!lang.isFunction(_9f7))&&(_9f7.constructor==Object||lang.isArray(_9f7))&&(typeof _9f7._reference==="undefined")&&(typeof _9f7._type==="undefined")&&(typeof _9f7._value==="undefined")&&self.hierarchical;};function _9f8(_9f9){self._arrayOfAllItems.push(_9f9);for(var _9fa in _9f9){var _9fb=_9f9[_9fa];if(_9fb){if(lang.isArray(_9fb)){var _9fc=_9fb;for(var k=0;k<_9fc.length;++k){var _9fd=_9fc[k];if(_9f6(_9fd)){_9f8(_9fd);}}}else{if(_9f6(_9fb)){_9f8(_9fb);}}}}};this._labelAttr=_9f4.label;var i,item;this._arrayOfAllItems=[];this._arrayOfTopLevelItems=_9f4.items;for(i=0;i<this._arrayOfTopLevelItems.length;++i){item=this._arrayOfTopLevelItems[i];if(lang.isArray(item)){_9f5=true;}_9f8(item);item[this._rootItemPropName]=true;}var _9fe={},key;for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];for(key in item){if(key!==this._rootItemPropName){var _9ff=item[key];if(_9ff!==null){if(!lang.isArray(_9ff)){item[key]=[_9ff];}}else{item[key]=[null];}}_9fe[key]=key;}}while(_9fe[this._storeRefPropName]){this._storeRefPropName+="_";}while(_9fe[this._itemNumPropName]){this._itemNumPropName+="_";}while(_9fe[this._reverseRefMap]){this._reverseRefMap+="_";}var _a00;var _a01=_9f4.identifier;if(_a01){this._itemsByIdentity={};this._features["dojo.data.api.Identity"]=_a01;for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];_a00=item[_a01];var _a02=_a00[0];if(!Object.hasOwnProperty.call(this._itemsByIdentity,_a02)){this._itemsByIdentity[_a02]=item;}else{if(this._jsonFileUrl){throw new Error(this.declaredClass+":  The json data as specified by: ["+this._jsonFileUrl+"] is malformed.  Items within the list have identifier: ["+_a01+"].  Value collided: ["+_a02+"]");}else{if(this._jsonData){throw new Error(this.declaredClass+":  The json data provided by the creation arguments is malformed.  Items within the list have identifier: ["+_a01+"].  Value collided: ["+_a02+"]");}}}}}else{this._features["dojo.data.api.Identity"]=Number;}for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];item[this._storeRefPropName]=this;item[this._itemNumPropName]=i;}for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];for(key in item){_a00=item[key];for(var j=0;j<_a00.length;++j){_9ff=_a00[j];if(_9ff!==null&&typeof _9ff=="object"){if(("_type" in _9ff)&&("_value" in _9ff)){var type=_9ff._type;var _a03=this._datatypeMap[type];if(!_a03){throw new Error("dojo.data.ItemFileReadStore: in the typeMap constructor arg, no object class was specified for the datatype '"+type+"'");}else{if(lang.isFunction(_a03)){_a00[j]=new _a03(_9ff._value);}else{if(lang.isFunction(_a03.deserialize)){_a00[j]=_a03.deserialize(_9ff._value);}else{throw new Error("dojo.data.ItemFileReadStore: Value provided in typeMap was neither a constructor, nor a an object with a deserialize function");}}}}if(_9ff._reference){var _a04=_9ff._reference;if(!lang.isObject(_a04)){_a00[j]=this._getItemByIdentity(_a04);}else{for(var k=0;k<this._arrayOfAllItems.length;++k){var _a05=this._arrayOfAllItems[k],_a06=true;for(var _a07 in _a04){if(_a05[_a07]!=_a04[_a07]){_a06=false;}}if(_a06){_a00[j]=_a05;}}}if(this.referenceIntegrity){var _a08=_a00[j];if(this.isItem(_a08)){this._addReferenceToMap(_a08,item,key);}}}else{if(this.isItem(_9ff)){if(this.referenceIntegrity){this._addReferenceToMap(_9ff,item,key);}}}}}}}},_addReferenceToMap:function(_a09,_a0a,_a0b){},getIdentity:function(item){var _a0c=this._features["dojo.data.api.Identity"];if(_a0c===Number){return item[this._itemNumPropName];}else{var _a0d=item[_a0c];if(_a0d){return _a0d[0];}}return null;},fetchItemByIdentity:function(_a0e){var item,_a0f;if(!this._loadFinished){var self=this;if(this._jsonFileUrl!==this._ccUrl){_9c3.deprecated(this.declaredClass+": ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null&&this._jsonData==null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_a0e});}else{this._loadInProgress=true;var _a10={url:self._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk};var _a11=xhr.get(_a10);_a11.addCallback(function(data){var _a12=_a0e.scope?_a0e.scope:_9c3.global;try{self._getItemsFromLoadedData(data);self._loadFinished=true;self._loadInProgress=false;item=self._getItemByIdentity(_a0e.identity);if(_a0e.onItem){_a0e.onItem.call(_a12,item);}self._handleQueuedFetches();}catch(error){self._loadInProgress=false;if(_a0e.onError){_a0e.onError.call(_a12,error);}}});_a11.addErrback(function(_a13){self._loadInProgress=false;if(_a0e.onError){var _a14=_a0e.scope?_a0e.scope:_9c3.global;_a0e.onError.call(_a14,_a13);}});}}else{if(this._jsonData){self._getItemsFromLoadedData(self._jsonData);self._jsonData=null;self._loadFinished=true;item=self._getItemByIdentity(_a0e.identity);if(_a0e.onItem){_a0f=_a0e.scope?_a0e.scope:_9c3.global;_a0e.onItem.call(_a0f,item);}}}}else{item=this._getItemByIdentity(_a0e.identity);if(_a0e.onItem){_a0f=_a0e.scope?_a0e.scope:_9c3.global;_a0e.onItem.call(_a0f,item);}}},_getItemByIdentity:function(_a15){var item=null;if(this._itemsByIdentity){if(Object.hasOwnProperty.call(this._itemsByIdentity,_a15)){item=this._itemsByIdentity[_a15];}}else{if(Object.hasOwnProperty.call(this._arrayOfAllItems,_a15)){item=this._arrayOfAllItems[_a15];}}if(item===undefined){item=null;}return item;},getIdentityAttributes:function(item){var _a16=this._features["dojo.data.api.Identity"];if(_a16===Number){return null;}else{return [_a16];}},_forceLoad:function(){var self=this;if(this._jsonFileUrl!==this._ccUrl){_9c3.deprecated(this.declaredClass+": ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){var _a17={url:this._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk,sync:true};var _a18=xhr.get(_a17);_a18.addCallback(function(data){try{if(self._loadInProgress!==true&&!self._loadFinished){self._getItemsFromLoadedData(data);self._loadFinished=true;}else{if(self._loadInProgress){throw new Error(this.declaredClass+":  Unable to perform a synchronous load, an async load is in progress.");}}}catch(e){throw e;}});_a18.addErrback(function(_a19){throw _a19;});}else{if(this._jsonData){self._getItemsFromLoadedData(self._jsonData);self._jsonData=null;self._loadFinished=true;}}}});lang.extend(_9ca,_9c8);return _9ca;});},"dojo/html":function(){define(["./_base/kernel","./_base/lang","./_base/array","./_base/declare","./dom","./dom-construct","./parser"],function(_a1a,lang,_a1b,_a1c,dom,_a1d,_a1e){var _a1f=0;var html={_secureForInnerHtml:function(cont){return cont.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"");},_emptyNode:_a1d.empty,_setNodeContent:function(node,cont){_a1d.empty(node);if(cont){if(typeof cont=="number"){cont=cont.toString();}if(typeof cont=="string"){cont=_a1d.toDom(cont,node.ownerDocument);}if(!cont.nodeType&&lang.isArrayLike(cont)){for(var _a20=cont.length,i=0;i<cont.length;i=_a20==cont.length?i+1:0){_a1d.place(cont[i],node,"last");}}else{_a1d.place(cont,node,"last");}}return node;},_ContentSetter:_a1c("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:false,extractContent:false,parseContent:false,parserScope:_a1a._scopeName,startup:true,constructor:function(_a21,node){lang.mixin(this,_a21||{});node=this.node=dom.byId(this.node||node);if(!this.id){this.id=["Setter",(node)?node.id||node.tagName:"",_a1f++].join("_");}},set:function(cont,_a22){if(undefined!==cont){this.content=cont;}if(typeof cont=="number"){cont=cont.toString();}if(_a22){this._mixin(_a22);}this.onBegin();this.setContent();var ret=this.onEnd();if(ret&&ret.then){return ret;}else{return this.node;}},setContent:function(){var node=this.node;if(!node){throw new Error(this.declaredClass+": setContent given no node");}try{node=html._setNodeContent(node,this.content);}catch(e){var _a23=this.onContentError(e);try{node.innerHTML=_a23;}catch(e){}}this.node=node;},empty:function(){if(this.parseDeferred){if(!this.parseDeferred.isResolved()){this.parseDeferred.cancel();}delete this.parseDeferred;}if(this.parseResults&&this.parseResults.length){_a1b.forEach(this.parseResults,function(w){if(w.destroy){w.destroy();}});delete this.parseResults;}_a1d.empty(this.node);},onBegin:function(){var cont=this.content;if(lang.isString(cont)){if(this.cleanContent){cont=html._secureForInnerHtml(cont);}if(this.extractContent){var _a24=cont.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_a24){cont=_a24[1];}}}this.empty();this.content=cont;return this.node;},onEnd:function(){if(this.parseContent){this._parse();}return this.node;},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;delete this.content;},onContentError:function(err){return "Error occurred setting content: "+err;},onExecError:function(err){return "Error occurred executing scripts: "+err;},_mixin:function(_a25){var _a26={},key;for(key in _a25){if(key in _a26){continue;}this[key]=_a25[key];}},_parse:function(){var _a27=this.node;try{var _a28={};_a1b.forEach(["dir","lang","textDir"],function(name){if(this[name]){_a28[name]=this[name];}},this);var self=this;this.parseDeferred=_a1e.parse({rootNode:_a27,noStart:!this.startup,inherited:_a28,scope:this.parserScope}).then(function(_a29){return self.parseResults=_a29;},function(e){self._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);});}catch(e){this._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);}},_onError:function(type,err,_a2a){var _a2b=this["on"+type+"Error"].call(this,err);if(_a2a){}else{if(_a2b){html._setNodeContent(this.node,_a2b,true);}}}}),set:function(node,cont,_a2c){if(undefined==cont){cont="";}if(typeof cont=="number"){cont=cont.toString();}if(!_a2c){return html._setNodeContent(node,cont,true);}else{var op=new html._ContentSetter(lang.mixin(_a2c,{content:cont,node:node}));return op.set();}}};lang.setObject("dojo.html",html);return html;});},"dijit/form/ValidationTextBox":function(){define(["dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/i18n","./TextBox","../Tooltip","dojo/text!./templates/ValidationTextBox.html","dojo/i18n!./nls/validate"],function(_a2d,_a2e,lang,i18n,_a2f,_a30,_a31){var _a32=_a2d("dijit.form.ValidationTextBox",_a2f,{templateString:_a31,required:false,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},pattern:".*",regExp:"",regExpGen:function(){},state:"",tooltipPosition:[],_deprecateRegExp:function(attr,_a33){if(_a33!=_a32.prototype[attr]){_a2e.deprecated("ValidationTextBox id="+this.id+", set('"+attr+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0");this.set("pattern",_a33);}},_setRegExpGenAttr:function(_a34){this._deprecateRegExp("regExpGen",_a34);this._set("regExpGen",this._computeRegexp);},_setRegExpAttr:function(_a35){this._deprecateRegExp("regExp",_a35);},_setValueAttr:function(){this.inherited(arguments);this._refreshState();},validator:function(_a36,_a37){return (new RegExp("^(?:"+this._computeRegexp(_a37)+")"+(this.required?"":"?")+"$")).test(_a36)&&(!this.required||!this._isEmpty(_a36))&&(this._isEmpty(_a36)||this.parse(_a36,_a37)!==undefined);},_isValidSubset:function(){return this.textbox.value.search(this._partialre)==0;},isValid:function(){return this.validator(this.textbox.value,this.get("constraints"));},_isEmpty:function(_a38){return (this.trim?/^\s*$/:/^$/).test(_a38);},getErrorMessage:function(){var _a39=this.invalidMessage=="$_unset_$"?this.messages.invalidMessage:!this.invalidMessage?this.promptMessage:this.invalidMessage;var _a3a=this.missingMessage=="$_unset_$"?this.messages.missingMessage:!this.missingMessage?_a39:this.missingMessage;return (this.required&&this._isEmpty(this.textbox.value))?_a3a:_a39;},getPromptMessage:function(){return this.promptMessage;},_maskValidSubsetError:true,validate:function(_a3b){var _a3c="";var _a3d=this.disabled||this.isValid(_a3b);if(_a3d){this._maskValidSubsetError=true;}var _a3e=this._isEmpty(this.textbox.value);var _a3f=!_a3d&&_a3b&&this._isValidSubset();this._set("state",_a3d?"":(((((!this._hasBeenBlurred||_a3b)&&_a3e)||_a3f)&&(this._maskValidSubsetError||(_a3f&&!this._hasBeenBlurred&&_a3b)))?"Incomplete":"Error"));this.focusNode.setAttribute("aria-invalid",this.state=="Error"?"true":"false");if(this.state=="Error"){this._maskValidSubsetError=_a3b&&_a3f;_a3c=this.getErrorMessage(_a3b);}else{if(this.state=="Incomplete"){_a3c=this.getPromptMessage(_a3b);this._maskValidSubsetError=!this._hasBeenBlurred||_a3b;}else{if(_a3e){_a3c=this.getPromptMessage(_a3b);}}}this.set("message",_a3c);return _a3d;},displayMessage:function(_a40){if(_a40&&this.focused){_a30.show(_a40,this.domNode,this.tooltipPosition,!this.isLeftToRight());}else{_a30.hide(this.domNode);}},_refreshState:function(){if(this._created){this.validate(this.focused);}this.inherited(arguments);},constructor:function(_a41){this.constraints=lang.clone(this.constraints);this.baseClass+=" dijitValidationTextBox";},startup:function(){this.inherited(arguments);this._refreshState();},_setConstraintsAttr:function(_a42){if(!_a42.locale&&this.lang){_a42.locale=this.lang;}this._set("constraints",_a42);this._refreshState();},_setPatternAttr:function(_a43){this._set("pattern",_a43);this._refreshState();},_computeRegexp:function(_a44){var p=this.pattern;if(typeof p=="function"){p=p.call(this,_a44);}if(p!=this._lastRegExp){var _a45="";this._lastRegExp=p;if(p!=".*"){p.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(re){switch(re.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":_a45+=re;break;case ")":_a45+="|$)";break;default:_a45+="(?:"+re+"|$)";break;}});}try{"".search(_a45);}catch(e){_a45=this.pattern;}this._partialre="^(?:"+_a45+")$";}return p;},postMixInProperties:function(){this.inherited(arguments);this.messages=i18n.getLocalization("dijit.form","validate",this.lang);this._setConstraintsAttr(this.constraints);},_setDisabledAttr:function(_a46){this.inherited(arguments);this._refreshState();},_setRequiredAttr:function(_a47){this._set("required",_a47);this.focusNode.setAttribute("aria-required",_a47);this._refreshState();},_setMessageAttr:function(_a48){this._set("message",_a48);this.displayMessage(_a48);},reset:function(){this._maskValidSubsetError=true;this.inherited(arguments);},_onBlur:function(){this.displayMessage("");this.inherited(arguments);},destroy:function(){_a30.hide(this.domNode);this.inherited(arguments);}});return _a32;});},"dijit/selection":function(){define(["dojo/_base/array","dojo/dom","dojo/_base/lang","dojo/sniff","dojo/_base/window","dijit/focus"],function(_a49,dom,lang,has,_a4a,_a4b){var _a4c=function(win){var doc=win.document;this.getType=function(){if(doc.getSelection){var _a4d="text";var oSel;try{oSel=win.getSelection();}catch(e){}if(oSel&&oSel.rangeCount==1){var _a4e=oSel.getRangeAt(0);if((_a4e.startContainer==_a4e.endContainer)&&((_a4e.endOffset-_a4e.startOffset)==1)&&(_a4e.startContainer.nodeType!=3)){_a4d="control";}}return _a4d;}else{return doc.selection.type.toLowerCase();}};this.getSelectedText=function(){if(doc.getSelection){var _a4f=win.getSelection();return _a4f?_a4f.toString():"";}else{if(this.getType()=="control"){return null;}return doc.selection.createRange().text;}};this.getSelectedHtml=function(){if(doc.getSelection){var _a50=win.getSelection();if(_a50&&_a50.rangeCount){var i;var html="";for(i=0;i<_a50.rangeCount;i++){var frag=_a50.getRangeAt(i).cloneContents();var div=doc.createElement("div");div.appendChild(frag);html+=div.innerHTML;}return html;}return null;}else{if(this.getType()=="control"){return null;}return doc.selection.createRange().htmlText;}};this.getSelectedElement=function(){if(this.getType()=="control"){if(doc.getSelection){var _a51=win.getSelection();return _a51.anchorNode.childNodes[_a51.anchorOffset];}else{var _a52=doc.selection.createRange();if(_a52&&_a52.item){return doc.selection.createRange().item(0);}}}return null;};this.getParentElement=function(){if(this.getType()=="control"){var p=this.getSelectedElement();if(p){return p.parentNode;}}else{if(doc.getSelection){var _a53=doc.getSelection();if(_a53){var node=_a53.anchorNode;while(node&&(node.nodeType!=1)){node=node.parentNode;}return node;}}else{var r=doc.selection.createRange();r.collapse(true);return r.parentElement();}}return null;};this.hasAncestorElement=function(_a54){return this.getAncestorElement.apply(this,arguments)!=null;};this.getAncestorElement=function(_a55){var node=this.getSelectedElement()||this.getParentElement();return this.getParentOfType(node,arguments);};this.isTag=function(node,tags){if(node&&node.tagName){var _a56=node.tagName.toLowerCase();for(var i=0;i<tags.length;i++){var _a57=String(tags[i]).toLowerCase();if(_a56==_a57){return _a57;}}}return "";};this.getParentOfType=function(node,tags){while(node){if(this.isTag(node,tags).length){return node;}node=node.parentNode;}return null;};this.collapse=function(_a58){if(doc.getSelection){var _a59=win.getSelection();if(_a59.removeAllRanges){if(_a58){_a59.collapseToStart();}else{_a59.collapseToEnd();}}else{_a59.collapse(_a58);}}else{var _a5a=doc.selection.createRange();_a5a.collapse(_a58);_a5a.select();}};this.remove=function(){var sel=doc.selection;if(doc.getSelection){sel=win.getSelection();sel.deleteFromDocument();return sel;}else{if(sel.type.toLowerCase()!="none"){sel.clear();}return sel;}};this.selectElementChildren=function(_a5b,_a5c){var _a5d;_a5b=dom.byId(_a5b);if(doc.getSelection){var _a5e=win.getSelection();if(has("opera")){if(_a5e.rangeCount){_a5d=_a5e.getRangeAt(0);}else{_a5d=doc.createRange();}_a5d.setStart(_a5b,0);_a5d.setEnd(_a5b,(_a5b.nodeType==3)?_a5b.length:_a5b.childNodes.length);_a5e.addRange(_a5d);}else{_a5e.selectAllChildren(_a5b);}}else{_a5d=_a5b.ownerDocument.body.createTextRange();_a5d.moveToElementText(_a5b);if(!_a5c){try{_a5d.select();}catch(e){}}}};this.selectElement=function(_a5f,_a60){var _a61;_a5f=dom.byId(_a5f);if(doc.getSelection){var _a62=doc.getSelection();_a61=doc.createRange();if(_a62.removeAllRanges){if(has("opera")){if(_a62.getRangeAt(0)){_a61=_a62.getRangeAt(0);}}_a61.selectNode(_a5f);_a62.removeAllRanges();_a62.addRange(_a61);}}else{try{var tg=_a5f.tagName?_a5f.tagName.toLowerCase():"";if(tg==="img"||tg==="table"){_a61=_a4a.body(doc).createControlRange();}else{_a61=_a4a.body(doc).createRange();}_a61.addElement(_a5f);if(!_a60){_a61.select();}}catch(e){this.selectElementChildren(_a5f,_a60);}}};this.inSelection=function(node){if(node){var _a63;var _a64;if(doc.getSelection){var sel=win.getSelection();if(sel&&sel.rangeCount>0){_a64=sel.getRangeAt(0);}if(_a64&&_a64.compareBoundaryPoints&&doc.createRange){try{_a63=doc.createRange();_a63.setStart(node,0);if(_a64.compareBoundaryPoints(_a64.START_TO_END,_a63)===1){return true;}}catch(e){}}}else{_a64=doc.selection.createRange();try{_a63=node.ownerDocument.body.createTextRange();_a63.moveToElementText(node);}catch(e2){}if(_a64&&_a63){if(_a64.compareEndPoints("EndToStart",_a63)===1){return true;}}}}return false;};this.getBookmark=function(){var bm,rg,tg,sel=doc.selection,cf=_a4b.curNode;if(doc.getSelection){sel=win.getSelection();if(sel){if(sel.isCollapsed){tg=cf?cf.tagName:"";if(tg){tg=tg.toLowerCase();if(tg=="textarea"||(tg=="input"&&(!cf.type||cf.type.toLowerCase()=="text"))){sel={start:cf.selectionStart,end:cf.selectionEnd,node:cf,pRange:true};return {isCollapsed:(sel.end<=sel.start),mark:sel};}}bm={isCollapsed:true};if(sel.rangeCount){bm.mark=sel.getRangeAt(0).cloneRange();}}else{rg=sel.getRangeAt(0);bm={isCollapsed:false,mark:rg.cloneRange()};}}}else{if(sel){tg=cf?cf.tagName:"";tg=tg.toLowerCase();if(cf&&tg&&(tg=="button"||tg=="textarea"||tg=="input")){if(sel.type&&sel.type.toLowerCase()=="none"){return {isCollapsed:true,mark:null};}else{rg=sel.createRange();return {isCollapsed:rg.text&&rg.text.length?false:true,mark:{range:rg,pRange:true}};}}bm={};try{rg=sel.createRange();bm.isCollapsed=!(sel.type=="Text"?rg.htmlText.length:rg.length);}catch(e){bm.isCollapsed=true;return bm;}if(sel.type.toUpperCase()=="CONTROL"){if(rg.length){bm.mark=[];var i=0,len=rg.length;while(i<len){bm.mark.push(rg.item(i++));}}else{bm.isCollapsed=true;bm.mark=null;}}else{bm.mark=rg.getBookmark();}}else{}}return bm;};this.moveToBookmark=function(_a65){var mark=_a65.mark;if(mark){if(doc.getSelection){var sel=win.getSelection();if(sel&&sel.removeAllRanges){if(mark.pRange){var n=mark.node;n.selectionStart=mark.start;n.selectionEnd=mark.end;}else{sel.removeAllRanges();sel.addRange(mark);}}else{}}else{if(doc.selection&&mark){var rg;if(mark.pRange){rg=mark.range;}else{if(lang.isArray(mark)){rg=doc.body.createControlRange();_a49.forEach(mark,function(n){rg.addElement(n);});}else{rg=doc.body.createTextRange();rg.moveToBookmark(mark);}}rg.select();}}}};this.isCollapsed=function(){return this.getBookmark().isCollapsed;};};var _a66=new _a4c(window);_a66.SelectionManager=_a4c;return _a66;});},"dijit/layout/BorderContainer":function(){define(["dojo/_base/array","dojo/cookie","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/on","dojo/touch","../_WidgetBase","../_Widget","../_TemplatedMixin","./LayoutContainer","./utils"],function(_a67,_a68,_a69,_a6a,_a6b,_a6c,_a6d,keys,lang,on,_a6e,_a6f,_a70,_a71,_a72,_a73){var _a74=_a69("dijit.layout._Splitter",[_a70,_a71],{live:true,templateString:"<div class=\"dijitSplitter\" data-dojo-attach-event=\"onkeydown:_onKeyDown,press:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse\" tabIndex=\"0\" role=\"separator\"><div class=\"dijitSplitterThumb\"></div></div>",constructor:function(){this._handlers=[];},postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);this._factor=/top|left/.test(this.region)?1:-1;this._cookieName=this.container.id+"_"+this.region;},buildRendering:function(){this.inherited(arguments);_a6a.add(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));if(this.container.persist){var _a75=_a68(this._cookieName);if(_a75){this.child.domNode.style[this.horizontal?"height":"width"]=_a75;}}},_computeMaxSize:function(){var dim=this.horizontal?"h":"w",_a76=_a6c.getMarginBox(this.child.domNode)[dim],_a77=_a67.filter(this.container.getChildren(),function(_a78){return _a78.region=="center";})[0];var _a79=_a6c.getContentBox(_a77.domNode)[dim]-10;return Math.min(this.child.maxSize,_a76+_a79);},_startDrag:function(e){if(!this.cover){this.cover=_a6b.place("<div class=dijitSplitterCover></div>",this.child.domNode,"after");}_a6a.add(this.cover,"dijitSplitterCoverActive");if(this.fake){_a6b.destroy(this.fake);}if(!(this._resize=this.live)){(this.fake=this.domNode.cloneNode(true)).removeAttribute("id");_a6a.add(this.domNode,"dijitSplitterShadow");_a6b.place(this.fake,this.domNode,"after");}_a6a.add(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active");if(this.fake){_a6a.remove(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");}var _a7a=this._factor,_a7b=this.horizontal,axis=_a7b?"pageY":"pageX",_a7c=e[axis],_a7d=this.domNode.style,dim=_a7b?"h":"w",_a7e=_a6d.getComputedStyle(this.child.domNode),_a7f=_a6c.getMarginBox(this.child.domNode,_a7e)[dim],max=this._computeMaxSize(),min=Math.max(this.child.minSize,_a6c.getPadBorderExtents(this.child.domNode,_a7e)[dim]+10),_a80=this.region,_a81=_a80=="top"||_a80=="bottom"?"top":"left",_a82=parseInt(_a7d[_a81],10),_a83=this._resize,_a84=lang.hitch(this.container,"_layoutChildren",this.child.id),de=this.ownerDocument;this._handlers=this._handlers.concat([on(de,_a6e.move,this._drag=function(e,_a85){var _a86=e[axis]-_a7c,_a87=_a7a*_a86+_a7f,_a88=Math.max(Math.min(_a87,max),min);if(_a83||_a85){_a84(_a88);}_a7d[_a81]=_a86+_a82+_a7a*(_a88-_a87)+"px";}),on(de,"dragstart",function(e){e.stopPropagation();e.preventDefault();}),on(this.ownerDocumentBody,"selectstart",function(e){e.stopPropagation();e.preventDefault();}),on(de,_a6e.release,lang.hitch(this,"_stopDrag"))]);e.stopPropagation();e.preventDefault();},_onMouse:function(e){var o=(e.type=="mouseover"||e.type=="mouseenter");_a6a.toggle(this.domNode,"dijitSplitterHover",o);_a6a.toggle(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",o);},_stopDrag:function(e){try{if(this.cover){_a6a.remove(this.cover,"dijitSplitterCoverActive");}if(this.fake){_a6b.destroy(this.fake);}_a6a.remove(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active dijitSplitterShadow");this._drag(e);this._drag(e,true);}finally{this._cleanupHandlers();delete this._drag;}if(this.container.persist){_a68(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365});}},_cleanupHandlers:function(){var h;while(h=this._handlers.pop()){h.remove();}},_onKeyDown:function(e){this._resize=true;var _a89=this.horizontal;var tick=1;switch(e.keyCode){case _a89?keys.UP_ARROW:keys.LEFT_ARROW:tick*=-1;case _a89?keys.DOWN_ARROW:keys.RIGHT_ARROW:break;default:return;}var _a8a=_a6c.getMarginSize(this.child.domNode)[_a89?"h":"w"]+this._factor*tick;this.container._layoutChildren(this.child.id,Math.max(Math.min(_a8a,this._computeMaxSize()),this.child.minSize));e.stopPropagation();e.preventDefault();},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;delete this.cover;delete this.fake;this.inherited(arguments);}});var _a8b=_a69("dijit.layout._Gutter",[_a70,_a71],{templateString:"<div class=\"dijitGutter\" role=\"presentation\"></div>",postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);},buildRendering:function(){this.inherited(arguments);_a6a.add(this.domNode,"dijitGutter"+(this.horizontal?"H":"V"));}});var _a8c=_a69("dijit.layout.BorderContainer",_a72,{gutters:true,liveSplitters:true,persist:false,baseClass:"dijitBorderContainer",_splitterClass:_a74,postMixInProperties:function(){if(!this.gutters){this.baseClass+="NoGutter";}this.inherited(arguments);},_setupChild:function(_a8d){this.inherited(arguments);var _a8e=_a8d.region,ltr=_a8d.isLeftToRight();if(_a8e=="leading"){_a8e=ltr?"left":"right";}if(_a8e=="trailing"){_a8e=ltr?"right":"left";}if(_a8e){if(_a8e!="center"&&(_a8d.splitter||this.gutters)&&!_a8d._splitterWidget){var _a8f=_a8d.splitter?this._splitterClass:_a8b;if(lang.isString(_a8f)){_a8f=lang.getObject(_a8f);}var _a90=new _a8f({id:_a8d.id+"_splitter",container:this,child:_a8d,region:_a8e,live:this.liveSplitters});_a90.isSplitter=true;_a8d._splitterWidget=_a90;var _a91=_a8e=="bottom"||_a8e==(this.isLeftToRight()?"right":"left");_a6b.place(_a90.domNode,_a8d.domNode,_a91?"before":"after");_a90.startup();}}},layout:function(){this._layoutChildren();},removeChild:function(_a92){var _a93=_a92._splitterWidget;if(_a93){_a93.destroy();delete _a92._splitterWidget;}this.inherited(arguments);},getChildren:function(){return _a67.filter(this.inherited(arguments),function(_a94){return !_a94.isSplitter;});},getSplitter:function(_a95){return _a67.filter(this.getChildren(),function(_a96){return _a96.region==_a95;})[0]._splitterWidget;},resize:function(_a97,_a98){if(!this.cs||!this.pe){var node=this.domNode;this.cs=_a6d.getComputedStyle(node);this.pe=_a6c.getPadExtents(node,this.cs);this.pe.r=_a6d.toPixelValue(node,this.cs.paddingRight);this.pe.b=_a6d.toPixelValue(node,this.cs.paddingBottom);_a6d.set(node,"padding","0px");}this.inherited(arguments);},_layoutChildren:function(_a99,_a9a){if(!this._borderBox||!this._borderBox.h){return;}var _a9b=[];_a67.forEach(this._getOrderedChildren(),function(pane){_a9b.push(pane);if(pane._splitterWidget){_a9b.push(pane._splitterWidget);}});var dim={l:this.pe.l,t:this.pe.t,w:this._borderBox.w-this.pe.w,h:this._borderBox.h-this.pe.h};_a73.layoutChildren(this.domNode,dim,_a9b,_a99,_a9a);},destroyRecursive:function(){_a67.forEach(this.getChildren(),function(_a9c){var _a9d=_a9c._splitterWidget;if(_a9d){_a9d.destroy();}delete _a9c._splitterWidget;});this.inherited(arguments);}});_a8c.ChildWidgetProperties={splitter:false,minSize:0,maxSize:Infinity};lang.mixin(_a8c.ChildWidgetProperties,_a72.ChildWidgetProperties);lang.extend(_a6f,_a8c.ChildWidgetProperties);_a8c._Splitter=_a74;_a8c._Gutter=_a8b;return _a8c;});},"dijit/_base":function(){define(["./main","./a11y","./WidgetSet","./_base/focus","./_base/manager","./_base/place","./_base/popup","./_base/scroll","./_base/sniff","./_base/typematic","./_base/wai","./_base/window"],function(_a9e){return _a9e._base;});},"dgrid/OnDemandGrid":function(){define(["dojo/_base/declare","./Grid","./OnDemandList"],function(_a9f,Grid,_aa0){return _a9f([Grid,_aa0],{});});},"dijit/_base/typematic":function(){define(["../typematic"],function(){});},"dojo/number":function(){define(["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(lang,i18n,_aa1,_aa2,_aa3){var _aa4={};lang.setObject("dojo.number",_aa4);_aa4.format=function(_aa5,_aa6){_aa6=lang.mixin({},_aa6||{});var _aa7=i18n.normalizeLocale(_aa6.locale),_aa8=i18n.getLocalization("dojo.cldr","number",_aa7);_aa6.customs=_aa8;var _aa9=_aa6.pattern||_aa8[(_aa6.type||"decimal")+"Format"];if(isNaN(_aa5)||Math.abs(_aa5)==Infinity){return null;}return _aa4._applyPattern(_aa5,_aa9,_aa6);};_aa4._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;_aa4._applyPattern=function(_aaa,_aab,_aac){_aac=_aac||{};var _aad=_aac.customs.group,_aae=_aac.customs.decimal,_aaf=_aab.split(";"),_ab0=_aaf[0];_aab=_aaf[(_aaa<0)?1:0]||("-"+_ab0);if(_aab.indexOf("%")!=-1){_aaa*=100;}else{if(_aab.indexOf("")!=-1){_aaa*=1000;}else{if(_aab.indexOf("")!=-1){_aad=_aac.customs.currencyGroup||_aad;_aae=_aac.customs.currencyDecimal||_aae;_aab=_aab.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/,function(_ab1,_ab2,_ab3,_ab4){var prop=["symbol","currency","displayName"][_ab3.length-1],_ab5=_aac[prop]||_aac.currency||"";if(!_ab5){return "";}return _ab2+_ab5+_ab4;});}else{if(_aab.indexOf("E")!=-1){throw new Error("exponential notation not supported");}}}}var _ab6=_aa4._numberPatternRE;var _ab7=_ab0.match(_ab6);if(!_ab7){throw new Error("unable to find a number expression in pattern: "+_aab);}if(_aac.fractional===false){_aac.places=0;}return _aab.replace(_ab6,_aa4._formatAbsolute(_aaa,_ab7[0],{decimal:_aae,group:_aad,places:_aac.places,round:_aac.round}));};_aa4.round=function(_ab8,_ab9,_aba){var _abb=10/(_aba||10);return (_abb*+_ab8).toFixed(_ab9)/_abb;};if((0.9).toFixed()==0){var _abc=_aa4.round;_aa4.round=function(v,p,m){var d=Math.pow(10,-p||0),a=Math.abs(v);if(!v||a>=d){d=0;}else{a/=d;if(a<0.5||a>=0.95){d=0;}}return _abc(v,p,m)+(v>0?d:-d);};}_aa4._formatAbsolute=function(_abd,_abe,_abf){_abf=_abf||{};if(_abf.places===true){_abf.places=0;}if(_abf.places===Infinity){_abf.places=6;}var _ac0=_abe.split("."),_ac1=typeof _abf.places=="string"&&_abf.places.indexOf(","),_ac2=_abf.places;if(_ac1){_ac2=_abf.places.substring(_ac1+1);}else{if(!(_ac2>=0)){_ac2=(_ac0[1]||[]).length;}}if(!(_abf.round<0)){_abd=_aa4.round(_abd,_ac2,_abf.round);}var _ac3=String(Math.abs(_abd)).split("."),_ac4=_ac3[1]||"";if(_ac0[1]||_abf.places){if(_ac1){_abf.places=_abf.places.substring(0,_ac1);}var pad=_abf.places!==undefined?_abf.places:(_ac0[1]&&_ac0[1].lastIndexOf("0")+1);if(pad>_ac4.length){_ac3[1]=_aa2.pad(_ac4,pad,"0",true);}if(_ac2<_ac4.length){_ac3[1]=_ac4.substr(0,_ac2);}}else{if(_ac3[1]){_ac3.pop();}}var _ac5=_ac0[0].replace(",","");pad=_ac5.indexOf("0");if(pad!=-1){pad=_ac5.length-pad;if(pad>_ac3[0].length){_ac3[0]=_aa2.pad(_ac3[0],pad);}if(_ac5.indexOf("#")==-1){_ac3[0]=_ac3[0].substr(_ac3[0].length-pad);}}var _ac6=_ac0[0].lastIndexOf(","),_ac7,_ac8;if(_ac6!=-1){_ac7=_ac0[0].length-_ac6-1;var _ac9=_ac0[0].substr(0,_ac6);_ac6=_ac9.lastIndexOf(",");if(_ac6!=-1){_ac8=_ac9.length-_ac6-1;}}var _aca=[];for(var _acb=_ac3[0];_acb;){var off=_acb.length-_ac7;_aca.push((off>0)?_acb.substr(off):_acb);_acb=(off>0)?_acb.slice(0,off):"";if(_ac8){_ac7=_ac8;delete _ac8;}}_ac3[0]=_aca.reverse().join(_abf.group||",");return _ac3.join(_abf.decimal||".");};_aa4.regexp=function(_acc){return _aa4._parseInfo(_acc).regexp;};_aa4._parseInfo=function(_acd){_acd=_acd||{};var _ace=i18n.normalizeLocale(_acd.locale),_acf=i18n.getLocalization("dojo.cldr","number",_ace),_ad0=_acd.pattern||_acf[(_acd.type||"decimal")+"Format"],_ad1=_acf.group,_ad2=_acf.decimal,_ad3=1;if(_ad0.indexOf("%")!=-1){_ad3/=100;}else{if(_ad0.indexOf("")!=-1){_ad3/=1000;}else{var _ad4=_ad0.indexOf("")!=-1;if(_ad4){_ad1=_acf.currencyGroup||_ad1;_ad2=_acf.currencyDecimal||_ad2;}}}var _ad5=_ad0.split(";");if(_ad5.length==1){_ad5.push("-"+_ad5[0]);}var re=_aa3.buildGroupRE(_ad5,function(_ad6){_ad6="(?:"+_aa3.escapeString(_ad6,".")+")";return _ad6.replace(_aa4._numberPatternRE,function(_ad7){var _ad8={signed:false,separator:_acd.strict?_ad1:[_ad1,""],fractional:_acd.fractional,decimal:_ad2,exponent:false},_ad9=_ad7.split("."),_ada=_acd.places;if(_ad9.length==1&&_ad3!=1){_ad9[1]="###";}if(_ad9.length==1||_ada===0){_ad8.fractional=false;}else{if(_ada===undefined){_ada=_acd.pattern?_ad9[1].lastIndexOf("0")+1:Infinity;}if(_ada&&_acd.fractional==undefined){_ad8.fractional=true;}if(!_acd.places&&(_ada<_ad9[1].length)){_ada+=","+_ad9[1].length;}_ad8.places=_ada;}var _adb=_ad9[0].split(",");if(_adb.length>1){_ad8.groupSize=_adb.pop().length;if(_adb.length>1){_ad8.groupSize2=_adb.pop().length;}}return "("+_aa4._realNumberRegexp(_ad8)+")";});},true);if(_ad4){re=re.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(_adc,_add,_ade,_adf){var prop=["symbol","currency","displayName"][_ade.length-1],_ae0=_aa3.escapeString(_acd[prop]||_acd.currency||"");if(!_ae0){return "";}_add=_add?"[\\s\\xa0]":"";_adf=_adf?"[\\s\\xa0]":"";if(!_acd.strict){if(_add){_add+="*";}if(_adf){_adf+="*";}return "(?:"+_add+_ae0+_adf+")?";}return _add+_ae0+_adf;});}return {regexp:re.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:_ad1,decimal:_ad2,factor:_ad3};};_aa4.parse=function(_ae1,_ae2){var info=_aa4._parseInfo(_ae2),_ae3=(new RegExp("^"+info.regexp+"$")).exec(_ae1);if(!_ae3){return NaN;}var _ae4=_ae3[1];if(!_ae3[1]){if(!_ae3[2]){return NaN;}_ae4=_ae3[2];info.factor*=-1;}_ae4=_ae4.replace(new RegExp("["+info.group+"\\s\\xa0"+"]","g"),"").replace(info.decimal,".");return _ae4*info.factor;};_aa4._realNumberRegexp=function(_ae5){_ae5=_ae5||{};if(!("places" in _ae5)){_ae5.places=Infinity;}if(typeof _ae5.decimal!="string"){_ae5.decimal=".";}if(!("fractional" in _ae5)||/^0/.test(_ae5.places)){_ae5.fractional=[true,false];}if(!("exponent" in _ae5)){_ae5.exponent=[true,false];}if(!("eSigned" in _ae5)){_ae5.eSigned=[true,false];}var _ae6=_aa4._integerRegexp(_ae5),_ae7=_aa3.buildGroupRE(_ae5.fractional,function(q){var re="";if(q&&(_ae5.places!==0)){re="\\"+_ae5.decimal;if(_ae5.places==Infinity){re="(?:"+re+"\\d+)?";}else{re+="\\d{"+_ae5.places+"}";}}return re;},true);var _ae8=_aa3.buildGroupRE(_ae5.exponent,function(q){if(q){return "([eE]"+_aa4._integerRegexp({signed:_ae5.eSigned})+")";}return "";});var _ae9=_ae6+_ae7;if(_ae7){_ae9="(?:(?:"+_ae9+")|(?:"+_ae7+"))";}return _ae9+_ae8;};_aa4._integerRegexp=function(_aea){_aea=_aea||{};if(!("signed" in _aea)){_aea.signed=[true,false];}if(!("separator" in _aea)){_aea.separator="";}else{if(!("groupSize" in _aea)){_aea.groupSize=3;}}var _aeb=_aa3.buildGroupRE(_aea.signed,function(q){return q?"[-+]":"";},true);var _aec=_aa3.buildGroupRE(_aea.separator,function(sep){if(!sep){return "(?:\\d+)";}sep=_aa3.escapeString(sep);if(sep==" "){sep="\\s";}else{if(sep==""){sep="\\s\\xa0";}}var grp=_aea.groupSize,grp2=_aea.groupSize2;if(grp2){var _aed="(?:0|[1-9]\\d{0,"+(grp2-1)+"}(?:["+sep+"]\\d{"+grp2+"})*["+sep+"]\\d{"+grp+"})";return ((grp-grp2)>0)?"(?:"+_aed+"|(?:0|[1-9]\\d{0,"+(grp-1)+"}))":_aed;}return "(?:0|[1-9]\\d{0,"+(grp-1)+"}(?:["+sep+"]\\d{"+grp+"})*)";},true);return _aeb+_aec;};return _aa4;});},"dojo/data/util/filter":function(){define(["../../_base/lang"],function(lang){var _aee={};lang.setObject("dojo.data.util.filter",_aee);_aee.patternToRegExp=function(_aef,_af0){var rxp="^";var c=null;for(var i=0;i<_aef.length;i++){c=_aef.charAt(i);switch(c){case "\\":rxp+=c;i++;rxp+=_aef.charAt(i);break;case "*":rxp+=".*";break;case "?":rxp+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":rxp+="\\";default:rxp+=c;}}rxp+="$";if(_af0){return new RegExp(rxp,"mi");}else{return new RegExp(rxp,"m");}};return _aee;});},"prcommon2/search/SearchCount":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../search/templates/SearchCount.html"],function(_af1,_af2,_af3){return _af1("prcommon2.search.SearchCount",[_af2],{templateString:_af3,clear:function(){this.innerNode.innerHTML="&nbsp;";},_getValueAttr:function(){return this.innerNode.innerHTML;},_setValueAttr:function(_af4){this.innerNode.innerHTML=_af4;}});});},"dgrid/Selection":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/Deferred","dojo/on","dojo/has","dojo/aspect","./List","dojo/has!touch?./util/touch","put-selector/put","dojo/query","dojo/_base/sniff"],function(_af5,_af6,_af7,on,has,_af8,List,_af9,put){has.add("dom-comparedocumentposition",function(_afa,doc,_afb){return !!_afb.compareDocumentPosition;});has.add("pointer",function(_afc){return "PointerEvent" in _afc?"pointer":"MSPointerEvent" in _afc?"MSPointer":false;});has.add("css-user-select",function(_afd,doc,_afe){var _aff=_afe.style,_b00=["Khtml","O","ms","Moz","Webkit"],i=_b00.length,name="userSelect";do{if(typeof _aff[name]!=="undefined"){return name;}}while(i--&&(name=_b00[i]+"UserSelect"));return false;});has.add("dom-selectstart",typeof document.onselectstart!=="undefined");var _b01=has("mac")?"metaKey":"ctrlKey",_b02=has("css-user-select"),_b03=has("pointer"),_b04=_b03&&_b03.slice(0,2)==="MS",_b05=_b03?_b03+(_b04?"Down":"down"):"mousedown",_b06=_b03?_b03+(_b04?"Up":"up"):"mouseup";function _b07(node,_b08){var _b09=node.unselectable=_b08?"on":"",_b0a=node.getElementsByTagName("*"),i=_b0a.length;while(--i){if(_b0a[i].tagName==="INPUT"||_b0a[i].tagName==="TEXTAREA"){continue;}_b0a[i].unselectable=_b09;}};function _b0b(grid,_b0c){var node=grid.bodyNode,_b0d=_b0c?"text":has("ff")<21?"-moz-none":"none";if(_b02&&_b02!=="msUserSelect"){node.style[_b02]=_b0d;}else{if(has("dom-selectstart")){if(!_b0c&&!grid._selectstartHandle){grid._selectstartHandle=on(node,"selectstart",function(evt){var tag=evt.target&&evt.target.tagName;if(tag!=="INPUT"&&tag!=="TEXTAREA"){evt.preventDefault();}});}else{if(_b0c&&grid._selectstartHandle){grid._selectstartHandle.remove();delete grid._selectstartHandle;}}}else{_b07(node,!_b0c);if(!_b0c&&!grid._unselectableHandle){grid._unselectableHandle=_af8.after(grid,"renderRow",function(row){_b07(row,true);return row;});}else{if(_b0c&&grid._unselectableHandle){grid._unselectableHandle.remove();delete grid._unselectableHandle;}}}}};return _af6(null,{selectionDelegate:".dgrid-row",selectionEvents:_b05+","+_b06+",dgrid-cellfocusin",selectionTouchEvents:has("touch")?_af9.tap:null,deselectOnRefresh:true,allowSelectAll:false,selection:{},selectionMode:"extended",allowTextSelection:undefined,_selectionTargetType:"rows",create:function(){this.selection={};return this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this._initSelectionEvents();var _b0e=this.selectionMode;this.selectionMode="";this._setSelectionMode(_b0e);},destroy:function(){this.inherited(arguments);if(this._selectstartHandle){this._selectstartHandle.remove();}if(this._unselectableHandle){this._unselectableHandle.remove();}if(this._removeDeselectSignals){this._removeDeselectSignals();}},_setSelectionMode:function(mode){if(mode==this.selectionMode){return;}this.clearSelection();this.selectionMode=mode;this._selectionHandlerName="_"+mode+"SelectionHandler";this._setAllowTextSelection(this.allowTextSelection);},setSelectionMode:function(mode){_af5.deprecated("setSelectionMode(...)","use set(\"selectionMode\", ...) instead","dgrid 0.4");this.set("selectionMode",mode);},_setAllowTextSelection:function(_b0f){if(typeof _b0f!=="undefined"){_b0b(this,_b0f);}else{_b0b(this,this.selectionMode==="none");}this.allowTextSelection=_b0f;},_handleSelect:function(_b10,_b11){if(!this[this._selectionHandlerName]||!this.allowSelect(this.row(_b11))||(_b10.type==="dgrid-cellfocusin"&&_b10.parentType==="mousedown")||(_b10.type===_b06&&_b11!=this._waitForMouseUp)){return;}this._waitForMouseUp=null;this._selectionTriggerEvent=_b10;if(!_b10.keyCode||!_b10.ctrlKey||_b10.keyCode==32){if(!_b10.shiftKey&&_b10.type===_b05&&this.isSelected(_b11)){this._waitForMouseUp=_b11;}else{this[this._selectionHandlerName](_b10,_b11);}}this._selectionTriggerEvent=null;},_singleSelectionHandler:function(_b12,_b13){var _b14=_b12.keyCode?_b12.ctrlKey:_b12[_b01];if(this._lastSelected===_b13){this.select(_b13,null,!_b14||!this.isSelected(_b13));}else{this.clearSelection();this.select(_b13);this._lastSelected=_b13;}},_multipleSelectionHandler:function(_b15,_b16){var _b17=this._lastSelected,_b18=_b15.keyCode?_b15.ctrlKey:_b15[_b01],_b19;if(!_b15.shiftKey){_b19=_b18?null:true;_b17=null;}this.select(_b16,_b17,_b19);if(!_b17){this._lastSelected=_b16;}},_extendedSelectionHandler:function(_b1a,_b1b){if(_b1a.button===2?!this.isSelected(_b1b):!(_b1a.keyCode?_b1a.ctrlKey:_b1a[_b01])){this.clearSelection(null,true);}this._multipleSelectionHandler(_b1a,_b1b);},_toggleSelectionHandler:function(_b1c,_b1d){this.select(_b1d,null,null);},_initSelectionEvents:function(){var grid=this,_b1e=this.contentNode,_b1f=this.selectionDelegate;this._selectionEventQueues={deselect:[],select:[]};if(has("touch")&&!has("pointer")&&this.selectionTouchEvents){on(_b1e,_af9.selector(_b1f,this.selectionTouchEvents),function(evt){grid._handleSelect(evt,this);grid._ignoreMouseSelect=this;});on(_b1e,on.selector(_b1f,this.selectionEvents),function(_b20){if(grid._ignoreMouseSelect!==this){grid._handleSelect(_b20,this);}else{if(_b20.type===_b06){grid._ignoreMouseSelect=null;}}});}else{on(_b1e,on.selector(_b1f,this.selectionEvents),function(_b21){grid._handleSelect(_b21,this);});}if(this.addKeyHandler){this.addKeyHandler(32,function(_b22){grid._handleSelect(_b22,_b22.target);});}if(this.allowSelectAll){this.on("keydown",function(_b23){if(_b23[_b01]&&_b23.keyCode==65&&!/\bdgrid-input\b/.test(_b23.target.className)){_b23.preventDefault();grid[grid.allSelected?"clearSelection":"selectAll"]();}});}if(this._setStore){_af8.after(this,"_setStore",function(){grid._updateDeselectionAspect();});}this._updateDeselectionAspect();},_updateDeselectionAspect:function(){var self=this,_b24=this.store,_b25,_b26;function _b27(_b28,_b29,_b2a){var id=_b29||(_b28&&_b28[self.idProperty||"id"]);if(id!=null){var row=self.row(id),_b2b=row&&self.selection[row.id];if(_b2b){self[_b2a](row,null,_b2b);}}};if(this._removeDeselectSignals){this._removeDeselectSignals();}if(_b24&&_b24.notify){_b25=_af8.before(_b24,"notify",function(_b2c,_b2d){if(!_b2c){_b27(_b2c,_b2d,"deselect");}});_b26=_af8.after(_b24,"notify",function(_b2e,_b2f){_b27(_b2e,_b2f,"select");},true);this._removeDeselectSignals=function(){_b25.remove();_b26.remove();};}else{_b25=_af8.before(this,"removeRow",function(_b30,_b31){var row;if(!_b31){row=this.row(_b30);if(row&&(row.id in this.selection)){this.deselect(row);}}});this._removeDeselectSignals=function(){_b25.remove();};}},allowSelect:function(row){return true;},_fireSelectionEvent:function(type){var _b32=this._selectionEventQueues[type],_b33=this._selectionTriggerEvent,_b34;_b34={bubbles:true,grid:this};if(_b33){_b34.parentType=_b33.type;}_b34[this._selectionTargetType]=_b32;on.emit(this.contentNode,"dgrid-"+type,_b34);this._selectionEventQueues[type]=[];},_fireSelectionEvents:function(){var _b35=this._selectionEventQueues,type;for(type in _b35){if(_b35[type].length){this._fireSelectionEvent(type);}}},_select:function(row,_b36,_b37){var _b38,_b39,_b3a,_b3b,_b3c;if(typeof _b37==="undefined"){_b37=true;}if(!row.element){row=this.row(row);}if(_b37===false||this.allowSelect(row)){_b38=this.selection;_b39=!!_b38[row.id];if(_b37===null){_b37=!_b39;}_b3a=row.element;if(!_b37&&!this.allSelected){delete this.selection[row.id];}else{_b38[row.id]=_b37;}if(_b3a){if(_b37){put(_b3a,".dgrid-selected"+(this.addUiClasses?".ui-state-active":""));}else{put(_b3a,"!dgrid-selected!ui-state-active");}}if(_b37!==_b39&&_b3a){this._selectionEventQueues[(_b37?"":"de")+"select"].push(row);}if(_b36){if(!_b36.element){_b36=this.row(_b36);}if(!_b36){this._lastSelected=_b3a;return;}_b3b=_b36.element;if(_b3b){_b3c=this._determineSelectionDirection(_b3a,_b3b);if(!_b3c){_b3b=document.getElementById(_b3b.id);_b3c=this._determineSelectionDirection(_b3a,_b3b);}while(row.element!=_b3b&&(row=this[_b3c](row))){this._select(row,null,_b37);}}}}},_determineSelectionDirection:has("dom-comparedocumentposition")?function(from,to){var _b3d=to.compareDocumentPosition(from);if(_b3d&1){return false;}return _b3d===2?"down":"up";}:function(from,to){if(to.sourceIndex<1){return false;}return to.sourceIndex>from.sourceIndex?"down":"up";},select:function(row,_b3e,_b3f){this._select(row,_b3e,_b3f);this._fireSelectionEvents();},deselect:function(row,_b40){this.select(row,_b40,false);},clearSelection:function(_b41,_b42){this.allSelected=false;for(var id in this.selection){if(_b41!==id){this._select(id,null,false);}}if(!_b42){this._lastSelected=null;}this._fireSelectionEvents();},selectAll:function(){this.allSelected=true;this.selection={};for(var i in this._rowIdToObject){var row=this.row(this._rowIdToObject[i]);this._select(row.id,null,true);}this._fireSelectionEvents();},isSelected:function(_b43){if(typeof _b43==="undefined"||_b43===null){return false;}if(!_b43.element){_b43=this.row(_b43);}return (_b43.id in this.selection)?!!this.selection[_b43.id]:this.allSelected&&(!_b43.data||this.allowSelect(_b43));},refresh:function(){if(this.deselectOnRefresh){this.clearSelection();}this._lastSelected=null;return this.inherited(arguments);},renderArray:function(){var grid=this,rows=this.inherited(arguments);_af7.when(rows,function(rows){var _b44=grid.selection,i,row,_b45;for(i=0;i<rows.length;i++){row=grid.row(rows[i]);_b45=row.id in _b44?_b44[row.id]:grid.allSelected;if(_b45){grid._select(row,null,_b45);}}grid._fireSelectionEvents();});return rows;}});});},"dgrid/_StoreMixin":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred","dojo/on","dojo/aspect","put-selector/put"],function(_b46,_b47,lang,_b48,_b49,_b4a,put){function noop(_b4b){return _b4b;};function _b4c(err){if(typeof err!=="object"){err=new Error(err);}else{if(err.dojoType==="cancel"){return;}}err.grid=this;if(_b49.emit(this.domNode,"dgrid-error",{grid:this,error:err,cancelable:true,bubbles:true})){}};return _b47(null,{store:null,query:null,queryOptions:null,getBeforePut:true,noDataMessage:"",loadingMessage:"",constructor:function(){this.query={};this.queryOptions={};this.dirty={};this._updating={};this._columnsWithSet={};_b4a.before(this,"configStructure",lang.hitch(this,function(){this._columnsWithSet={};}));},postCreate:function(){this.inherited(arguments);if(this.store){this._updateNotifyHandle(this.store);}},destroy:function(){this.inherited(arguments);if(this._notifyHandle){this._notifyHandle.remove();}},_configColumn:function(_b4d){if(_b4d.set){this._columnsWithSet[_b4d.field]=_b4d;}this.inherited(arguments);},_updateNotifyHandle:function(_b4e){if(this._notifyHandle){this._notifyHandle.remove();delete this._notifyHandle;}if(_b4e&&typeof _b4e.notify==="function"){this._notifyHandle=_b4a.after(_b4e,"notify",lang.hitch(this,"_onNotify"),true);var sort=this.get("sort");if(!sort||!sort.length){}}},_setStore:function(_b4f,_b50,_b51){this._updateNotifyHandle(_b4f);this.store=_b4f;this.dirty={};this.set("query",_b50,_b51);},_setQuery:function(_b52,_b53){var sort=_b53&&_b53.sort;this.query=_b52!==undefined?_b52:this.query;this.queryOptions=_b53||this.queryOptions;sort?this.set("sort",sort):this.refresh();},setStore:function(_b54,_b55,_b56){_b46.deprecated("setStore(...)","use set(\"store\", ...) instead","dgrid 0.4");this.set("store",_b54,_b55,_b56);},setQuery:function(_b57,_b58){_b46.deprecated("setQuery(...)","use set(\"query\", ...) instead","dgrid 0.4");this.set("query",_b57,_b58);},_getQueryOptions:function(){var _b59=lang.delegate(this.queryOptions,{});if(typeof (this._sort)==="function"||this._sort.length){_b59.sort=this._sort;}return _b59;},_getQuery:function(){var q=this.query;return typeof q=="object"&&q!=null?lang.delegate(q,{}):q;},_setSort:function(_b5a,_b5b){if(this.store){this._lastCollection=null;}this.inherited(arguments);},_onNotify:function(_b5c,_b5d){this.inherited(arguments);if(_b5c&&this._numObservers<1){this.refresh({keepScrollPosition:true});}},refresh:function(){var _b5e=this.inherited(arguments);if(!this.store){this.noDataNode=put(this.contentNode,"div.dgrid-no-data");this.noDataNode.innerHTML=this.noDataMessage;}return _b5e;},renderArray:function(){var self=this;var rows=this.inherited(arguments);if(!this.store){_b48.when(rows,function(_b5f){if(_b5f.length&&self.noDataNode){put(self.noDataNode,"!");}});}return rows;},insertRow:function(_b60,_b61,_b62,i,_b63){var _b64=this.store,_b65=this.dirty,id=_b64&&_b64.getIdentity(_b60),_b66;if(id in _b65&&!(id in this._updating)){_b66=_b65[id];}if(_b66){_b60=lang.delegate(_b60,_b66);}return this.inherited(arguments);},updateDirty:function(id,_b67,_b68){var _b69=this.dirty,_b6a=_b69[id];if(!_b6a){_b6a=_b69[id]={};}_b6a[_b67]=_b68;},setDirty:function(id,_b6b,_b6c){_b46.deprecated("setDirty(...)","use updateDirty() instead","dgrid 0.4");this.updateDirty(id,_b6b,_b6c);},save:function(){var self=this,_b6d=this.store,_b6e=this.dirty,dfd=new _b48(),_b6f=dfd.promise,_b70=function(id){var data;return (self.getBeforePut||!(data=self.row(id).data))?function(){return _b6d.get(id);}:function(){return data;};};function _b71(id,_b72){return function(_b73){var _b74=self._columnsWithSet,_b75=self._updating,key,data;if(typeof _b73.set==="function"){_b73.set(_b72);}else{for(key in _b72){_b73[key]=_b72[key];}}for(key in _b74){data=_b74[key].set(_b73);if(data!==undefined){_b73[key]=data;}}_b75[id]=true;return _b48.when(_b6d.put(_b73),function(){delete _b6e[id];delete _b75[id];});};};for(var id in _b6e){var put=_b71(id,_b6e[id]);_b6f=_b6f.then(_b70(id)).then(put);}dfd.resolve();return _b6f;},revert:function(){this.dirty={};this.refresh();},_trackError:function(func){var _b76;if(typeof func=="string"){func=lang.hitch(this,func);}try{_b76=func();}catch(err){_b4c.call(this,err);}return _b48.when(_b76,noop,lang.hitch(this,_b4c));},newRow:function(){var row=this.inherited(arguments);if(this.noDataNode){put(this.noDataNode,"!");delete this.noDataNode;}return row;},removeRow:function(_b77,_b78){var row={element:_b77};if(!_b78&&this.noDataMessage&&(this.up(row).element===_b77)&&(this.down(row).element===_b77)){this.noDataNode=put(this.contentNode,"div.dgrid-no-data");this.noDataNode.innerHTML=this.noDataMessage;}return this.inherited(arguments);}});});},"dojox/json/ref":function(){define(["dojo/_base/array","dojo/_base/json","dojo/_base/kernel","dojo/_base/lang","dojo/date/stamp","dojox"],function(_b79,_b7a,dojo,lang,_b7b,_b7c){lang.getObject("json",true,_b7c);return _b7c.json.ref={resolveJson:function(root,args){args=args||{};var _b7d=args.idAttribute||"id";var _b7e=this.refAttribute;var _b7f=args.idAsRef;var _b80=args.idPrefix||"";var _b81=args.assignAbsoluteIds;var _b82=args.index||{};var _b83=args.timeStamps;var ref,_b84=[];var _b85=/^(.*\/)?(\w+:\/\/)|[^\/\.]+\/\.\.\/|^.*\/(\/)/;var _b86=this._addProp;var F=function(){};function walk(it,stop,_b87,_b88,_b89,_b8a,_b8b){var i,_b8c,val,id=_b7d in it?it[_b7d]:_b87;if(_b7d in it||((id!==undefined)&&_b88)){id=(_b80+id).replace(_b85,"$2$3");}var _b8d=_b8a||it;if(id!==undefined){if(_b81){it.__id=id;}if(args.schemas&&(!(it instanceof Array))&&(val=id.match(/^(.+\/)[^\.\[]*$/))){_b89=args.schemas[val[1]];}if(_b82[id]&&((it instanceof Array)==(_b82[id] instanceof Array))){_b8d=_b82[id];delete _b8d.$ref;delete _b8d._loadObject;_b8c=true;}else{var _b8e=_b89&&_b89.prototype;if(_b8e){F.prototype=_b8e;_b8d=new F();}}_b82[id]=_b8d;if(_b83){_b83[id]=args.time;}}while(_b89){var _b8f=_b89.properties;if(_b8f){for(i in it){var _b90=_b8f[i];if(_b90&&_b90.format=="date-time"&&typeof it[i]=="string"){it[i]=_b7b.fromISOString(it[i]);}}}_b89=_b89["extends"];}var _b91=it.length;for(i in it){if(i==_b91){break;}if(it.hasOwnProperty(i)){val=it[i];if((typeof val=="object")&&val&&!(val instanceof Date)&&i!="__parent"){ref=val[_b7e]||(_b7f&&val[_b7d]);if(it!=_b84&&(!ref||!val.__parent)){val.__parent=_b8b?_b8b:_b8d;}if(ref){delete it[i];var path=ref.toString().replace(/(#)([^\.\[])/,"$1.$2").match(/(^([^\[]*\/)?[^#\.\[]*)#?([\.\[].*)?/);if(_b82[(_b80+ref).replace(_b85,"$2$3")]){ref=_b82[(_b80+ref).replace(_b85,"$2$3")];}else{if((ref=(path[1]=="$"||path[1]=="this"||path[1]==="")?root:_b82[(_b80+path[1]).replace(_b85,"$2$3")])){if(path[3]){path[3].replace(/(\[([^\]]+)\])|(\.?([^\.\[]+))/g,function(t,a,b,c,d){ref=ref&&ref[b?b.replace(/[\"\'\\]/,""):d];});}}}if(ref){val=ref;}else{if(!stop){var _b92;if(!_b92){_b84.push(_b8d);}_b92=true;val=walk(val,false,val[_b7e],true,_b90);val._loadObject=args.loader;}}}else{if(!stop){val=walk(val,_b84==it,id===undefined?undefined:_b86(id,i),false,_b90,_b8d!=it&&typeof _b8d[i]=="object"&&_b8d[i],it);}}}it[i]=val;if(_b8d!=it&&!_b8d.__isDirty){var old=_b8d[i];_b8d[i]=val;if(_b8c&&val!==old&&!_b8d._loadObject&&!(i.charAt(0)=="_"&&i.charAt(1)=="_")&&i!="$ref"&&!(val instanceof Date&&old instanceof Date&&val.getTime()==old.getTime())&&!(typeof val=="function"&&typeof old=="function"&&val.toString()==old.toString())&&_b82.onUpdate){_b82.onUpdate(_b8d,i,old,val);}}}}if(_b8c&&(_b7d in it||_b8d instanceof Array)){for(i in _b8d){if(!_b8d.__isDirty&&_b8d.hasOwnProperty(i)&&!it.hasOwnProperty(i)&&!(i.charAt(0)=="_"&&i.charAt(1)=="_")&&!(_b8d instanceof Array&&isNaN(i))){if(_b82.onUpdate&&i!="_loadObject"&&i!="_idAttr"){_b82.onUpdate(_b8d,i,_b8d[i],undefined);}delete _b8d[i];while(_b8d instanceof Array&&_b8d.length&&_b8d[_b8d.length-1]===undefined){_b8d.length--;}}}}else{if(_b82.onLoad){_b82.onLoad(_b8d);}}return _b8d;};if(root&&typeof root=="object"){root=walk(root,false,args.defaultId,true);walk(_b84,false);}return root;},fromJson:function(str,args){function ref(_b93){var _b94={};_b94[this.refAttribute]=_b93;return _b94;};var root;try{root=eval("("+str+")");}catch(e){throw new SyntaxError("Invalid JSON string: "+e.message+" parsing: "+str);}if(root){return this.resolveJson(root,args);}return root;},toJson:function(it,_b95,_b96,_b97,_b98){var _b99=this._useRefs;var _b9a=this._addProp;var _b9b=this.refAttribute;_b96=_b96||"";var _b9c={};var _b9d={};var _b9e=_b98?true:false;var _b9f=1;function _ba0(){var str=(_b9f++).toString();if(_b9d.hasOwnProperty(str)){return _ba0();}return str;};function _ba1(it,path,_ba2){if(typeof it=="object"&&it){var _ba3;if(it instanceof Date){return "\""+_b7b.toISOString(it,{zulu:true})+"\"";}var id=it.__id;if(id){if(path!="#"&&((_b99&&!id.match(/#/))||_b9c[id])){var ref=id;if(id.charAt(0)!="#"){if(it.__clientId==id){ref="cid:"+id;}else{if(id.substring(0,_b96.length)==_b96){ref=id.substring(_b96.length);}else{ref=id;}}}var _ba4={};_ba4[_b9b]=ref;return _b7a.toJson(_ba4,_b95);}path=id;}else{if(_b9e){if(!(it instanceof Array)){path=_ba0();it.__id=path;_b9d[path]=it;}}else{it.__id=path;_b9d[path]=it;}}_b9c[path]=it;_ba2=_ba2||"";var _ba5=_b95?_ba2+_b7a.toJsonIndentStr:"";var _ba6=_b95?"\n":"";var sep=_b95?" ":"";if(it instanceof Array){var res=_b79.map(it,function(obj,i){var val=_ba1(obj,_b9e?undefined:_b9a(path,i),_ba5);if(typeof val!="string"){val="undefined";}return _ba6+_ba5+val;});return "["+res.join(","+sep)+_ba6+_ba2+"]";}var _ba7=[];if(_b9e&&(typeof it[_b98]==="undefined")){_ba7.push(_ba6+_ba5+_b7a._escapeString(_b98)+":"+sep+_b7a.toJson(it.__id));}for(var i in it){if(it.hasOwnProperty(i)){var _ba8;if(typeof i=="number"){_ba8="\""+i+"\"";}else{if(typeof i=="string"&&(i.charAt(0)!="_"||i.charAt(1)!="_")){_ba8=_b7a._escapeString(i);}else{continue;}}var val=_ba1(it[i],_b9e?undefined:_b9a(path,i),_ba5);if(typeof val!="string"){continue;}_ba7.push(_ba6+_ba5+_ba8+":"+sep+val);}}return "{"+_ba7.join(","+sep)+_ba6+_ba2+"}";}else{if(typeof it=="function"&&_b7c.json.ref.serializeFunctions){return it.toString();}}return _b7a.toJson(it);};var json=_ba1(it,_b9e?undefined:"#","");if(!_b97){for(var i in _b9d){delete _b9d[i].__id;}}return json;},_addProp:function(id,prop){return id+(id.match(/#/)?id.length==1?"":".":"#")+prop;},refAttribute:"$ref",_useRefs:false,serializeFunctions:false};});},"dijit/form/FilteringSelect":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/when","./MappedTextBox","./ComboBoxMixin"],function(_ba9,lang,when,_baa,_bab){return _ba9("dijit.form.FilteringSelect",[_baa,_bab],{required:true,_lastDisplayedValue:"",_isValidSubset:function(){return this._opened;},isValid:function(){return !!this.item||(!this.required&&this.get("displayedValue")=="");},_refreshState:function(){if(!this.searchTimer){this.inherited(arguments);}},_callbackSetLabel:function(_bac,_bad,_bae,_baf){if((_bad&&_bad[this.searchAttr]!==this._lastQuery)||(!_bad&&_bac.length&&this.store.getIdentity(_bac[0])!=this._lastQuery)){return;}if(!_bac.length){this.set("value","",_baf||(_baf===undefined&&!this.focused),this.textbox.value,null);}else{this.set("item",_bac[0],_baf);}},_openResultList:function(_bb0,_bb1,_bb2){if(_bb1[this.searchAttr]!==this._lastQuery){return;}this.inherited(arguments);if(this.item===undefined){this.validate(true);}},_getValueAttr:function(){return this.valueNode.value;},_getValueField:function(){return "value";},_setValueAttr:function(_bb3,_bb4,_bb5,item){if(!this._onChangeActive){_bb4=null;}if(item===undefined){if(_bb3===null||_bb3===""){_bb3="";if(!lang.isString(_bb5)){this._setDisplayedValueAttr(_bb5||"",_bb4);return;}}var self=this;this._lastQuery=_bb3;when(this.store.get(_bb3),function(item){self._callbackSetLabel(item?[item]:[],undefined,undefined,_bb4);});}else{this.valueNode.value=_bb3;this.inherited(arguments,[_bb3,_bb4,_bb5,item]);}},_setItemAttr:function(item,_bb6,_bb7){this.inherited(arguments);this._lastDisplayedValue=this.textbox.value;},_getDisplayQueryString:function(text){return text.replace(/([\\\*\?])/g,"\\$1");},_setDisplayedValueAttr:function(_bb8,_bb9){if(_bb8==null){_bb8="";}if(!this._created){if(!("displayedValue" in this.params)){return;}_bb9=false;}if(this.store){this.closeDropDown();var _bba=lang.clone(this.query);var qs=this._getDisplayQueryString(_bb8),q;if(this.store._oldAPI){q=qs;}else{q=this._patternToRegExp(qs);q.toString=function(){return qs;};}this._lastQuery=_bba[this.searchAttr]=q;this.textbox.value=_bb8;this._lastDisplayedValue=_bb8;this._set("displayedValue",_bb8);var _bbb=this;var _bbc={queryOptions:{ignoreCase:this.ignoreCase,deep:true}};lang.mixin(_bbc,this.fetchProperties);this._fetchHandle=this.store.query(_bba,_bbc);when(this._fetchHandle,function(_bbd){_bbb._fetchHandle=null;_bbb._callbackSetLabel(_bbd||[],_bba,_bbc,_bb9);},function(err){_bbb._fetchHandle=null;if(!_bbb._cancelingQuery){}});}},undo:function(){this.set("displayedValue",this._lastDisplayedValue);}});});},"dojo/data/util/sorter":function(){define(["../../_base/lang"],function(lang){var _bbe={};lang.setObject("dojo.data.util.sorter",_bbe);_bbe.basicComparator=function(a,b){var r=-1;if(a===null){a=undefined;}if(b===null){b=undefined;}if(a==b){r=0;}else{if(a>b||a==null){r=1;}}return r;};_bbe.createSortFunction=function(_bbf,_bc0){var _bc1=[];function _bc2(attr,dir,comp,s){return function(_bc3,_bc4){var a=s.getValue(_bc3,attr);var b=s.getValue(_bc4,attr);return dir*comp(a,b);};};var _bc5;var map=_bc0.comparatorMap;var bc=_bbe.basicComparator;for(var i=0;i<_bbf.length;i++){_bc5=_bbf[i];var attr=_bc5.attribute;if(attr){var dir=(_bc5.descending)?-1:1;var comp=bc;if(map){if(typeof attr!=="string"&&("toString" in attr)){attr=attr.toString();}comp=map[attr]||bc;}_bc1.push(_bc2(attr,dir,comp,_bc0));}}return function(rowA,rowB){var i=0;while(i<_bc1.length){var ret=_bc1[i++](rowA,rowB);if(ret!==0){return ret;}}return 0;};};return _bbe;});},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/has","../registry"],function(_bc6,dom,has,_bc7){var _bc8=_bc6("dijit.form._ButtonMixin"+(has("dojo-bidi")?"_NoBidi":""),null,{label:"",type:"button",__onClick:function(e){e.stopPropagation();e.preventDefault();if(!this.disabled){this.valueNode.click(e);}return false;},_onClick:function(e){if(this.disabled){e.stopPropagation();e.preventDefault();return false;}if(this.onClick(e)===false){e.preventDefault();}var _bc9=e.defaultPrevented;if(!_bc9&&this.type=="submit"&&!(this.valueNode||this.focusNode).form){for(var node=this.domNode;node.parentNode;node=node.parentNode){var _bca=_bc7.byNode(node);if(_bca&&typeof _bca._onSubmit=="function"){_bca._onSubmit(e);e.preventDefault();_bc9=true;break;}}}return !_bc9;},postCreate:function(){this.inherited(arguments);dom.setSelectable(this.focusNode,false);},onClick:function(){return true;},_setLabelAttr:function(_bcb){this._set("label",_bcb);var _bcc=this.containerNode||this.focusNode;_bcc.innerHTML=_bcb;this.onLabelSet();},onLabelSet:function(){}});if(has("dojo-bidi")){_bc8=_bc6("dijit.form._ButtonMixin",_bc8,{onLabelSet:function(){this.inherited(arguments);var _bcd=this.containerNode||this.focusNode;this.applyTextDir(_bcd);}});}return _bc8;});},"prcommon2/geographical/Geographical":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../geographical/templates/Geographical.html","prcommon2/search/std_search","dojo/request","ttl/utilities2","dojo/json","dojo/data/ItemFileReadStore","dojo/_base/lang","dojo/topic","dojo/dom-attr","prcommon2/search/SearchCount","dijit/form/TextBox","dijit/form/RadioButton","dijit/form/Button","dijit/Dialog","prcommon2/geographical/GeographicalTree"],function(_bce,_bcf,_bd0,_bd1,_bd2,_bd3,json,_bd4,lang,_bd5,_bd6){return _bce("prcommon2.geographical.Geographical",[_bcf,_bd1],{templateString:_bd0,name:"",value:"",displaytitle:"Coverage",title:"",search:"",size:"7",selectonly:false,startopen:false,cascade:true,open:false,constructor:function(){this.disabled=false;this._load_selection_call=lang.hitch(this,this._load_selection);this._transactionid=null;this.selectTimer=null;},postCreate:function(){dojo.connect(this.geographical_list_select.domNode,"onkeyup",lang.hitch(this,this._geographical_select_func));dojo.connect(this.geographical_list,"onchange",lang.hitch(this,this.geographical_update_selection));dojo.connect(this.geographical_list,"ondblclick",lang.hitch(this,this.geographical_select_dbl));dojo.connect(this.geographical_select,"ondblclick",lang.hitch(this,this.geographical_select_delete_dbl));_bd6.set(this.filter_radio_restriction_label,"for",this.filter_radio_restriction.id);_bd6.set(this.filter_radio_town_label,"for",this.filter_radio_town.id);_bd6.set(this.filter_radio_county_label,"for",this.filter_radio_county.id);_bd6.set(this.filter_radio_region_label,"for",this.filter_radio_region.id);_bd6.set(this.filter_radio_nation_label,"for",this.filter_radio_nation.id);if(this.selectonly){this.countnode.domNode.style.display="None";}if(this.startopen){dojo.style(this.togglectrl,"display","none");dojo.style(this.selectarea,"display","block");}_bd5.subscribe(PRCOMMON.Events.Geographical_Selected,lang.hitch(this,this._geographical_selection_event));this.geog_tree.set("dialog",this.geog_tree_dlg);this.inherited(arguments);},_geographical_selection_event:function(e){var _bd7=true;for(var c1=0;c1<this.geographical_select.options.length;c1++){if(this.geographical_select.options[c1].value==e.geographicalarea){_bd7=false;break;}}if(_bd7){this.geographical_select.options[this.geographical_select.options.length]=new Option(e.geographicalname,e.geographicalid);this._get_selector(this._getValueAttr());}},clear:function(){this._clear_selection_box();this._clear_selected_box();this.geographical_list_select.set("value","");this.filter_radio_restriction.set("checked",true);this._get_selector(this._getValueAttr());this._selection_options();this.inherited(arguments);},clear_selection:function(){this._clear_selection_box();this.geographical_list_select.set("value","");this._get_selector(this._getValueAttr());this._selection_options();},_send_request:function(data){this._transactionid=PRCOMMON.utils.uuid.createUUID();_bd2.post("/geographical/listbytype",_bd3.make_params({data:{word:data,filter:this._get_filter(),geographicaltypeid:this.geographicaltypeid,transactionid:this._transactionid}})).then(this._load_selection_call);},_geographical_select_func:function(){var data=this.geographical_list_select.get("value");if(data.length>0){if(this.selecttimer){clearTimeout(this.selecttimer);this.selecttimer=null;}this.selecttimer=setTimeout(lang.hitch(this,this._send_request,data),this.searchtime);}else{this.selectTimer=null;this._clear_selection_box();this._selection_options();}},_load_selection:function(_bd8){if(this._transactionid==_bd8.transactionid){this._clear_selection_box();for(var i=0;i<_bd8.data.length;++i){var _bd9=_bd8.data[i];this.geographical_list.options[this.geographical_list.options.length]=new Option(_bd9[0],_bd9[1]);}this._selection_options();}},_clear_selection_box:function(){this.geographical_list.options.length=0;},_get_selector:function(_bda,_bdb){if(this.keytypeid!=""){this.inherited(arguments);}},_clear_selected_box:function(){this.geographical_select.length=0;},geographical_update_selection:function(){this._selection_options();},geographical_select_dbl:function(){this.geographical_select_single();this._selection_options();},geographical_select_all:function(){for(var c=0;c<this.geographical_list.options.length;c++){var _bdc=this.geographical_list.options[c];var _bdd=true;for(var c1=0;c1<this.geographical_select.options.length;c1++){if(this.geographical_select.options[c1].value==_bdc.value){_bdd=false;break;}}if(_bdd){this.geographical_select.options[this.geographical_select.options.length]=new Option(_bdc.text,_bdc.value);this._get_selector(this._getValueAttr());}}this.geographical_list.options.length=0;this.geographicalUpdateSelection();},geographical_select_single:function(){for(var c=0;c<this.geographical_list.options.length;c++){var _bde=this.geographical_list.options[c];if(_bde.selected){_bde.selected=false;var _bdf=true;for(var c1=0;c1<this.geographical_select.options.length;c1++){if(this.geographical_select.options[c1].value==_bde.value){_bdf=false;break;}}if(_bdf){this.geographical_select.options[this.geographical_select.options.length]=new Option(_bde.text,_bde.value);this._get_selector(this._getValueAttr());}}}},geographical_remove_all:function(){this.geographical_select.options.length=0;this.geographical_update_selection();this._get_selector(this._getValueAttr());},geographical_select_delete_dbl:function(_be0){if(_be0!=null&&_be0.originalTarget!=null&&_be0.originalTarget.index!=null){this.geographical_select.options[_be0.originalTarget.index]=null;this.geographical_update_selection();this._get_selector(this._getValueAttr());}else{this.geographical_remove_single();}},geographical_remove_single:function(){for(var c=0;c<this.geographical_select.options.length;c++){if(this.geographical_select.options[c].selected){this.geographical_select.options[c]=null;}}this.geographical_update_selection();this._get_selector(this._getValueAttr());},add_select:function(data){this.geographical_select.options[this.geographical_select.options.length]=new Option(data.geographicalname,data.geographicalid);},_setValueAttr:function(obj){var data=obj.data;var open=false;if(data==null||data==undefined){data=obj;}this.clear();for(var key in data){var _be1=data[key];this.geographical_select.options[this.geographical_select.options.length]=new Option(_be1.geographicalname,_be1.geographicalid);open=true;}if(open){this.make_open();}this._extended=false;this._get_selector(this._getValueAttr());},_getValueAttr:function(){var data=Array();for(var c=0;c<this.geographical_select.options.length;c++){if(this._extended){data[c]={geographicalid:parseInt(this.geographical_select.options[c].value),geographicalname:this.geographical_select.options[c].text};}else{data[c]=parseInt(this.geographical_select.options[c].value);}}var obj={data:data,cascade:"C"};if(this._extended){return obj;}else{var data=data.length>0?dojo.toJson(obj):"";this.value=data;return data;}},_getCountAttr:function(){return this.geographical_select.options.length;},changeFilter:function(){this._geographical_select_func();},_selection_options:function(){this.button_all.set("disabled",this.geographical_list.length?false:true);this.button_single.set("disabled",this.geographical_list.selectedIndex!=-1?false:true);this.button_del_all.set("disabled",this.geographical_select.length?false:true);this.button_del_single.set("disabled",this.geographical_select.selectedIndex!=-1?false:true);},_setDisabledAttr:function(_be2){this.disabled=_be2;},_getDisabledAttr:function(){return this.disabled;},_focus:function(){this.geographical_list_select.focus();},_OnFocus:function(){this.open=true;this._toggle_cascade();},_get_filter:function(){if(this.filter_radio_restriction.get("checked")){return this.filter_radio_restriction.get("value");}else{if(this.filter_radio_town.get("checked")){return this.filter_radio_town.get("value");}else{if(this.filter_radio_county.get("checked")){return this.filter_radio_county.get("value");}else{if(this.filter_radio_region.get("checked")){return this.filter_radio_region.get("value");}else{if(this.filter_radio_nation.get("checked")){return this.filter_radio_nation.get("value");}}}}}return -1;},_show_all:function(){var data=this.geographical_list_select.get("value");if(data.length!=0){this._geographical_select_func();}},_show_no_filter:function(){var data=this.geographical_list_select.get("value");if(data.length!=0){this._geographical_select_func();}else{this._clear_selection_box();this._selection_options();}},_toggle:function(){if(this.selectonly==false){this.inherited(arguments);}},_tree_view:function(){this.geog_tree_dlg.show();}});});},"dijit/tree/_dndContainer":function(){define(["dojo/aspect","dojo/_base/declare","dojo/dom-class","dojo/_base/lang","dojo/on","dojo/touch"],function(_be3,_be4,_be5,lang,on,_be6){return _be4("dijit.tree._dndContainer",null,{constructor:function(tree,_be7){this.tree=tree;this.node=tree.domNode;lang.mixin(this,_be7);this.containerState="";_be5.add(this.node,"dojoDndContainer");this.events=[on(this.node,_be6.enter,lang.hitch(this,"onOverEvent")),on(this.node,_be6.leave,lang.hitch(this,"onOutEvent")),_be3.after(this.tree,"_onNodeMouseEnter",lang.hitch(this,"onMouseOver"),true),_be3.after(this.tree,"_onNodeMouseLeave",lang.hitch(this,"onMouseOut"),true),on(this.node,"dragstart, selectstart",function(evt){evt.preventDefault();})];},destroy:function(){var h;while(h=this.events.pop()){h.remove();}this.node=this.parent=null;},onMouseOver:function(_be8){this.current=_be8;},onMouseOut:function(){this.current=null;},_changeState:function(type,_be9){var _bea="dojoDnd"+type;var _beb=type.toLowerCase()+"State";_be5.replace(this.node,_bea+_be9,_bea+this[_beb]);this[_beb]=_be9;},_addItemClass:function(node,type){_be5.add(node,"dojoDndItem"+type);},_removeItemClass:function(node,type){_be5.remove(node,"dojoDndItem"+type);},onOverEvent:function(){this._changeState("Container","Over");},onOutEvent:function(){this._changeState("Container","");}});});},"dijit/_base/wai":function(){define(["dojo/dom-attr","dojo/_base/lang","../main","../hccss"],function(_bec,lang,_bed){var _bee={hasWaiRole:function(elem,role){var _bef=this.getWaiRole(elem);return role?(_bef.indexOf(role)>-1):(_bef.length>0);},getWaiRole:function(elem){return lang.trim((_bec.get(elem,"role")||"").replace("wairole:",""));},setWaiRole:function(elem,role){_bec.set(elem,"role",role);},removeWaiRole:function(elem,role){var _bf0=_bec.get(elem,"role");if(!_bf0){return;}if(role){var t=lang.trim((" "+_bf0+" ").replace(" "+role+" "," "));_bec.set(elem,"role",t);}else{elem.removeAttribute("role");}},hasWaiState:function(elem,_bf1){return elem.hasAttribute?elem.hasAttribute("aria-"+_bf1):!!elem.getAttribute("aria-"+_bf1);},getWaiState:function(elem,_bf2){return elem.getAttribute("aria-"+_bf2)||"";},setWaiState:function(elem,_bf3,_bf4){elem.setAttribute("aria-"+_bf3,_bf4);},removeWaiState:function(elem,_bf5){elem.removeAttribute("aria-"+_bf5);}};lang.mixin(_bed,_bee);return _bed;});},"prmaxquestionnaires/pages/MainDetails":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../pages/templates/MainDetails.html","dijit/layout/BorderContainer","dojo/topic","dojo/_base/lang","ttl/utilities2","dojo/request","dojo/dom-attr","dijit/layout/ContentPane","dijit/form/Form","dijit/form/ValidationTextBox","dijit/form/FilteringSelect","dijit/form/Button","dojox/form/BusyButton","dojox/validate"],function(_bf6,_bf7,_bf8,_bf9,_bfa,lang,_bfb,_bfc,_bfd){return _bf6("prmaxquestionnaires.pages.MainDetails",[_bf7,_bf9],{templateString:_bf8,gutters:false,constructor:function(){this._updated_call_back=lang.hitch(this,this._updated_call);this._error_handler_call_back=lang.hitch(this,this._error_handler);this._page_ctrl=null;this._page_error=null;},postCreate:function(){this.countryid.set("store",PRCOMMON.utils.stores.Countries());this.load(PRMAX.questionnaire);if(PRMAX.questionnaire.outlet.outlet.countryid==119){_bfd.set(this.support_email_address,"href","mailto:researchgroup@prmax.co.uk");_bfd.set(this.support_email_address,"innerHTML","researchgroup@prmax.co.uk");}this.inherited(arguments);},_updated_call:function(_bfe){if(_bfe.success=="OK"){if(this._page_ctrl){this._page_ctrl();}else{alert("Updated");}if(PRMAX.questionnaire.outlet.outlet.outletname!=this.outletname.get("value")){_bfa.publish("/q/oname",this.outletname.get("value"));}}else{alert("Failed to updated");if(this._page_error){this._page_error();}}},load:function(_bff){with(_bff){this.outletname.set("value",outlet.outlet.outletname);this.countryid.set("value",outlet.outlet.countryid);this.address1.set("value",outlet.address.address1);this.address2.set("value",outlet.address.address2);this.townname.set("value",outlet.address.townname);this.county.set("value",outlet.address.county);this.postcode.set("value",outlet.address.postcode);this.www.set("value",outlet.outlet.www);this.email.set("value",outlet.communications.email);this.tel.set("value",outlet.communications.tel);this.fax.set("value",outlet.communications.fax);this.linkedin.set("value",outlet.communications.linkedin);this.twitter.set("value",outlet.communications.twitter);this.facebook.set("value",outlet.communications.facebook);this.instagram.set("value",outlet.communications.instagram);if(outlet.outletprofile.profile){this.subtitle.set("value",outlet.outletprofile.profile.subtitle);this.incorporating.set("value",outlet.outletprofile.profile.incorporating);this.officialjournalof.set("value",outlet.outletprofile.profile.officialjournalof);}else{this.subtitle.set("value","");this.incorporating.set("value","");this.officialjournalof.set("value","");}}this.questionnaireid.set("value",_bff.questionnaireid);},_update:function(){if(_bfb.form_validator(this.form)==false){alert("Not all required field filled in");if(this._page_error){this._page_error();}throw "n";}_bfc.post("/questionnaire/update_main",_bfb.make_params({data:this.form.get("value")})).then(this._updated_call_back,this._error_handler_call_back);},_error_handler:function(_c00,_c01){_bfb.xhr_post_error(_c00,_c01);if(this._page_error){this._page_error();}},save_move:function(_c02,_c03){this._page_ctrl=_c02;this._page_error=_c03;this._update();}});});},"prcommon2/outlet/OutletSelectSimple":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../outlet/templates/OutletSelectSimple.html","dojo/json","dojo/request","ttl/utilities2","ttl/store/JsonRest","dojo/store/Observable","dojo/_base/lang","dojo/topic","ttl/grid/Grid","dojo/dom-attr","dojo/dom-class","dijit/form/TextBox","dijit/form/Button","dijit/Dialog","dijit/layout/BorderContainer","dijit/layout/ContentPane"],function(_c04,_c05,_c06,json,_c07,_c08,_c09,_c0a,lang,_c0b,Grid,_c0c,_c0d){return _c04("prcommon2.outlet.OutletSelectSimple",[_c05],{templateString:_c06,name:"",value:"",searchtypeid:6,constructor:function(){this._outletid=null;this.model=new _c0a(new _c09({target:"/search/list_outlet_rest",idProperty:"outletid"}));},postCreate:function(){this.searchgrid=new Grid({columns:[{label:"Name",className:"standard",field:"outletname"}],selectionMode:"single",store:this.model,query:{}});this.select_search_view.set("content",this.searchgrid);this.searchgrid.on("dgrid-select",dojo.hitch(this,this._on_cell_call));this.inherited(arguments);},_setValueAttr:function(_c0e){this._outletid=_c0e;this._set_view();},_setDisplayvalueAttr:function(_c0f){_c0c.set(this.display,"innerHTML",_c0f);},_getValueAttr:function(){return this._outletid;},_clear:function(){this.clear();},_set_view:function(){if(this._outletid==null){_c0d.add(this.clearbtn.domNode,"prmaxhidden");}else{_c0d.remove(this.clearbtn.domNode,"prmaxhidden");}},_select:function(){this.select_dlg.startup();this.select_dlg.show();},clear:function(){this._outletid=null;_c0c.set(this.display,"innerHTML","");this.outletname.set("value","");this._search();this._set_view();},_close:function(){this.select_dlg.hide();},_search:function(){this.searchgrid.set("query",{extended_search:1,outletname:this.outletname.get("value")});},_clear_search:function(){this.searchgrid.set("value","");},_on_cell_call:function(e){this._outletid=e.rows[0].data.outletid;_c0c.set(this.display,"innerHTML",e.rows[0].data.outletname);this.select_dlg.hide();this._set_view();}});});},"prcommon2/outlet/SelectMultipleOutlets":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../outlet/templates/SelectMultipleOutlets.html","dojo/_base/lang","dojo/dom-attr","dojo/dom-class","dojo/dom-style","dojo/request","ttl/utilities2","prcommon2/outlet/OutletSelectPanel"],function(_c10,_c11,_c12,lang,_c13,_c14,_c15,_c16,_c17){return _c10("prcommon2.outlet.SelectMultipleOutlets",[_c11],{templateString:_c12,name:"",value:"",size:"7",startopen:false,searchmode:false,widgetsInTemplate:true,selectonly:true,constructor:function(){this.disabled=false;this._load_selection_call=lang.hitch(this,this._load_selection);this.selectTimer=null;},postCreate:function(){this.inherited(arguments);this.select_ctrl.set("dialog",this.select_dlg);this.select_ctrl.set("callback",lang.hitch(this,this._add_single));},clear:function(){this._clear_selected_box();this._selection_options();this.inherited(arguments);},_send_request:function(data){_c16.post("/lanquages/listuserselection",_c17.make_params({data:{word:data}})).then(this._load_selection_call);},_clear_selected_box:function(){this.outlet_select.length=0;},outlets_update_selection:function(){this._selection_options();},outlets_remove_all:function(){this.outlet_select.options.length=0;this.outlet_update_selection();},outlets_remove_single:function(){for(var c=0;c<this.outlet_select.options.length;c++){if(this.outlet_select.options[c].selected){this.outlet_select.options[c]=null;}}this.outlets_update_selection();},_add_single:function(data){var add=true;for(var c=0;c<this.outlet_select.options.length;c++){if(this.outlet_select.options[c].value==data.outletid){add=false;}}if(add){this.add_select(data);}this._selection_options();},add_select:function(data){this.outlet_select.options[this.outlet_select.options.length]=new Option(data.outletname,data.outletid);},_setValueAttr:function(_c18){this.clear();if(_c18){var data=_c18.data;var open=false;if(data==null||data==undefined){data=_c18;}for(var key in data){var _c19=data[key];this.outlet_select.options[this.outlet_select.options.length]=new Option(_c19.outletname,_c19.outletid);}}},_getValueAttr:function(){var data=Array();for(var c=0;c<this.outlet_select.options.length;c++){if(this._extended){data[c]={outletid:parseInt(this.outlet_select.options[c].value),outletame:this.outlet_select.options[c].text};}else{data[c]=parseInt(this.outlet_select.options[c].value);}}var obj={data:data};if(this._extended){return obj;}else{var data=data.length>0?dojo.toJson(obj):"";this.value=data;return data;}},_getCountAttr:function(){return this.outlet_select.options.length;},_setExtendedAttr:function(_c1a){this._extended=_c1a;},_selection_options:function(){this.button_del_all.set("disabled",this.outlet_select.length?false:true);this.button_del_single.set("disabled",this.outlet_select.selectedIndex!=-1?false:true);},_setDisabledAttr:function(_c1b){this.disabled=_c1b;},_getDisabledAttr:function(){return this.disabled;},_select_outlet:function(){this.select_dlg.show();}});});},"prmaxquestionnaires/main/deskframe":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/topic","dojo/text!../main/templates/deskframe.html","dijit/layout/BorderContainer","dojo/_base/lang","dojo/dom-class","dojo/dom-attr","dojox/collections/Dictionary","dijit/layout/ContentPane","dijit/layout/StackContainer","prmaxquestionnaires/main/deskbanner","prmaxquestionnaires/pages/DeskDetails"],function(_c1c,_c1d,_c1e,_c1f,_c20,lang,_c21,_c22,_c23){return _c1c("prmaxquestionnaires.main.deskframe",[_c1d,_c20],{questionnaireid:-1,gutters:true,templateString:_c1f,constructor:function(){_c1e.subscribe("/show_page",lang.hitch(this,this._show_page_call));this._current_page="title";this._pages_control=new _c23();this._save_sequence=null;this.reset_controls_back=lang.hitch(this,this.reset_controls);},postCreate:function(){this._pages_control.add("title",{next:"journalists",prev:null,save:true,ctrl:this.maindetails,saves:new Array()});this._pages_control.add("journalists",{next:"related_outlets",prev:"title",save:true,ctrl:this.journalists,saves:new Array()});this._pages_control.add("related_outlets",{next:null,prev:"journalists",save:true,ctrl:this.related_outlets,saves:new Array()});var page=this._pages_control.item("title");page.saves.push(this._pages_control.item("related_outlets"));page=this._pages_control.item("related_outlets");page.saves.push(this._pages_control.item("title"));page=this._pages_control.item("journalists");page.saves.push(this._pages_control.item("title"));page.saves.push(this._pages_control.item("related_outlets"));if(PRMAX.questionnaire.outlet.outlet.countryid==119){_c22.set(this.support_email_address,"href","mailto:researchgroup@prmax.co.uk");_c22.set(this.support_email_address,"innerHTML","researchgroup@prmax.co.uk");}this.inherited(arguments);},_show_page_call:function(_c24){switch(_c24){case "title":this.zone_cont.selectChild(this.maindetails);this._current_page="title";break;case "journalists":this.zone_cont.selectChild(this.journalists);this._current_page="journalists";break;case "related_outlets":this.zone_cont.selectChild(this.related_outlets);this._current_page="related_outlets";break;}this._enable_controls();_c1e.publish("/shop_page_tab",_c24);},_update_next:function(){var _c25=this._pages_control.item(this._current_page);if(_c25.save!=null){_c25.ctrl.save_move(lang.hitch(this,this.move_page_next,_c25),this.reset_controls_back);}else{this._show_page_call(_c25.next);throw "N";}},move_page_next:function(_c26){this._show_page_call(_c26.next);},move_page_prev:function(_c27){this._show_page_call(_c27.prev);},_update_prev:function(){var _c28=this._pages_control.item(this._current_page);if(_c28.save!=null){_c28.ctrl.save_move(lang.hitch(this,this.move_page_prev,_c28),this.reset_controls_back);}else{this._show_page_call(_c28.prev);throw "N";}},_save_completed:function(){var _c29=this._save_sequence.pop();if(_c29){_c29.ctrl.save_move(lang.hitch(this,this._save_completed,_c29),this.reset_controls_back);}else{this.savebtn.cancel();alert("Saved");}},_update_save:function(){var _c2a=this._pages_control.item(this._current_page);if(_c2a.save!=null){this._save_sequence=new Array();for(var key in _c2a.saves){this._save_sequence.push(_c2a.saves[key]);}_c2a.ctrl.save_move(lang.hitch(this,this._save_completed,_c2a),this.reset_controls_back);}},_enable_controls:function(){var _c2b=this._pages_control.item(this._current_page);if(_c2b.next==null){_c21.add(this.nextbtn.domNode,"prmaxhidden");}else{_c21.remove(this.nextbtn.domNode,"prmaxhidden");}if(_c2b.prev==null){_c21.add(this.prevbtn.domNode,"prmaxhidden");}else{_c21.remove(this.prevbtn.domNode,"prmaxhidden");}if(_c2b.save==null){_c21.add(this.savebtn.domNode,"prmaxhidden");}else{_c21.remove(this.savebtn.domNode,"prmaxhidden");}this.reset_controls();},reset_controls:function(){this.nextbtn.cancel();this.prevbtn.cancel();this.savebtn.cancel();}});});},"dijit/_KeyNavMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/on","dijit/registry","dijit/_FocusMixin"],function(_c2c,_c2d,_c2e,keys,lang,on,_c2f,_c30){return _c2d("dijit._KeyNavMixin",_c30,{tabIndex:"0",childSelector:null,postCreate:function(){this.inherited(arguments);_c2e.set(this.domNode,"tabIndex",this.tabIndex);if(!this._keyNavCodes){var _c31=this._keyNavCodes={};_c31[keys.HOME]=lang.hitch(this,"focusFirstChild");_c31[keys.END]=lang.hitch(this,"focusLastChild");_c31[this.isLeftToRight()?keys.LEFT_ARROW:keys.RIGHT_ARROW]=lang.hitch(this,"_onLeftArrow");_c31[this.isLeftToRight()?keys.RIGHT_ARROW:keys.LEFT_ARROW]=lang.hitch(this,"_onRightArrow");_c31[keys.UP_ARROW]=lang.hitch(this,"_onUpArrow");_c31[keys.DOWN_ARROW]=lang.hitch(this,"_onDownArrow");}var self=this,_c32=typeof this.childSelector=="string"?this.childSelector:lang.hitch(this,"childSelector");this.own(on(this.domNode,"keypress",lang.hitch(this,"_onContainerKeypress")),on(this.domNode,"keydown",lang.hitch(this,"_onContainerKeydown")),on(this.domNode,"focus",lang.hitch(this,"_onContainerFocus")),on(this.containerNode,on.selector(_c32,"focusin"),function(evt){self._onChildFocus(_c2f.getEnclosingWidget(this),evt);}));},_onLeftArrow:function(){},_onRightArrow:function(){},_onUpArrow:function(){},_onDownArrow:function(){},focus:function(){this.focusFirstChild();},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1);},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1);},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild());},focusLastChild:function(){this.focusChild(this._getLastFocusableChild());},focusChild:function(_c33,last){if(!_c33){return;}if(this.focusedChild&&_c33!==this.focusedChild){this._onChildBlur(this.focusedChild);}_c33.set("tabIndex",this.tabIndex);_c33.focus(last?"end":"start");},_onContainerFocus:function(evt){if(evt.target!==this.domNode||this.focusedChild){return;}this.focus();},_onFocus:function(){_c2e.set(this.domNode,"tabIndex","-1");this.inherited(arguments);},_onBlur:function(evt){_c2e.set(this.domNode,"tabIndex",this.tabIndex);if(this.focusedChild){this.focusedChild.set("tabIndex","-1");this.lastFocusedChild=this.focusedChild;this._set("focusedChild",null);}this.inherited(arguments);},_onChildFocus:function(_c34){if(_c34&&_c34!=this.focusedChild){if(this.focusedChild&&!this.focusedChild._destroyed){this.focusedChild.set("tabIndex","-1");}_c34.set("tabIndex",this.tabIndex);this.lastFocused=_c34;this._set("focusedChild",_c34);}},_searchString:"",multiCharSearchDuration:1000,onKeyboardSearch:function(item,evt,_c35,_c36){if(item){this.focusChild(item);}},_keyboardSearchCompare:function(item,_c37){var _c38=item.domNode,text=item.label||(_c38.focusNode?_c38.focusNode.label:"")||_c38.innerText||_c38.textContent||"",_c39=text.replace(/^\s+/,"").substr(0,_c37.length).toLowerCase();return (!!_c37.length&&_c39==_c37)?-1:0;},_onContainerKeydown:function(evt){var func=this._keyNavCodes[evt.keyCode];if(func){func(evt,this.focusedChild);evt.stopPropagation();evt.preventDefault();this._searchString="";}else{if(evt.keyCode==keys.SPACE&&this._searchTimer&&!(evt.ctrlKey||evt.altKey||evt.metaKey)){evt.stopImmediatePropagation();evt.preventDefault();this._keyboardSearch(evt," ");}}},_onContainerKeypress:function(evt){if(evt.charCode<=keys.SPACE||evt.ctrlKey||evt.altKey||evt.metaKey){return;}evt.preventDefault();evt.stopPropagation();this._keyboardSearch(evt,String.fromCharCode(evt.charCode).toLowerCase());},_keyboardSearch:function(evt,_c3a){var _c3b=null,_c3c,_c3d=0,_c3e=lang.hitch(this,function(){if(this._searchTimer){this._searchTimer.remove();}this._searchString+=_c3a;var _c3f=/^(.)\1*$/.test(this._searchString);var _c40=_c3f?1:this._searchString.length;_c3c=this._searchString.substr(0,_c40);this._searchTimer=this.defer(function(){this._searchTimer=null;this._searchString="";},this.multiCharSearchDuration);var _c41=this.focusedChild||null;if(_c40==1||!_c41){_c41=this._getNextFocusableChild(_c41,1);if(!_c41){return;}}var stop=_c41;do{var rc=this._keyboardSearchCompare(_c41,_c3c);if(!!rc&&_c3d++==0){_c3b=_c41;}if(rc==-1){_c3d=-1;break;}_c41=this._getNextFocusableChild(_c41,1);}while(_c41&&_c41!=stop);});_c3e();this.onKeyboardSearch(_c3b,evt,_c3c,_c3d);},_onChildBlur:function(){},_getNextFocusableChild:function(_c42,dir){var _c43=_c42;do{if(!_c42){_c42=this[dir>0?"_getFirst":"_getLast"]();if(!_c42){break;}}else{_c42=this._getNext(_c42,dir);}if(_c42!=null&&_c42!=_c43&&_c42.isFocusable()){return _c42;}}while(_c42!=_c43);return null;},_getFirst:function(){return null;},_getLast:function(){return null;},_getNext:function(_c44,dir){if(_c44){_c44=_c44.domNode;while(_c44){_c44=_c44[dir<0?"previousSibling":"nextSibling"];if(_c44&&"getAttribute" in _c44){var w=_c2f.byNode(_c44);if(w){return w;}}}}return null;}});});},"dojo/store/util/QueryResults":function(){define(["../../_base/array","../../_base/lang","../../when"],function(_c45,lang,when){var _c46=function(_c47){if(!_c47){return _c47;}var _c48=!!_c47.then;if(_c48){_c47=lang.delegate(_c47);}function _c49(_c4a){_c47[_c4a]=function(){var args=arguments;var _c4b=when(_c47,function(_c4c){Array.prototype.unshift.call(args,_c4c);return _c46(_c45[_c4a].apply(_c45,args));});if(_c4a!=="forEach"||_c48){return _c4b;}};};_c49("forEach");_c49("filter");_c49("map");if(_c47.total==null){_c47.total=when(_c47,function(_c4d){return _c4d.length;});}return _c47;};lang.setObject("dojo.store.util.QueryResults",_c46);return _c46;});},"dijit/form/_ListBase":function(){define(["dojo/_base/declare","dojo/on","dojo/window"],function(_c4e,on,_c4f){return _c4e("dijit.form._ListBase",null,{selected:null,_listConnect:function(_c50,_c51){var self=this;return self.own(on(self.containerNode,on.selector(function(_c52,_c53,_c54){return _c52.parentNode==_c54;},_c50),function(evt){self[_c51](evt,this);}));},selectFirstNode:function(){var _c55=this.containerNode.firstChild;while(_c55&&_c55.style.display=="none"){_c55=_c55.nextSibling;}this._setSelectedAttr(_c55,true);},selectLastNode:function(){var last=this.containerNode.lastChild;while(last&&last.style.display=="none"){last=last.previousSibling;}this._setSelectedAttr(last,true);},selectNextNode:function(){var _c56=this.selected;if(!_c56){this.selectFirstNode();}else{var next=_c56.nextSibling;while(next&&next.style.display=="none"){next=next.nextSibling;}if(!next){this.selectFirstNode();}else{this._setSelectedAttr(next,true);}}},selectPreviousNode:function(){var _c57=this.selected;if(!_c57){this.selectLastNode();}else{var prev=_c57.previousSibling;while(prev&&prev.style.display=="none"){prev=prev.previousSibling;}if(!prev){this.selectLastNode();}else{this._setSelectedAttr(prev,true);}}},_setSelectedAttr:function(node,_c58){if(this.selected!=node){var _c59=this.selected;if(_c59){this.onDeselect(_c59);}if(node){if(_c58){_c4f.scrollIntoView(node);}this.onSelect(node);}this._set("selected",node);}else{if(node){this.onSelect(node);}}}});});},"dijit/form/_FormWidget":function(){define(["dojo/_base/declare","dojo/sniff","dojo/_base/kernel","dojo/ready","../_Widget","../_CssStateMixin","../_TemplatedMixin","./_FormWidgetMixin"],function(_c5a,has,_c5b,_c5c,_c5d,_c5e,_c5f,_c60){if(has("dijit-legacy-requires")){_c5c(0,function(){var _c61=["dijit/form/_FormValueWidget"];require(_c61);});}return _c5a("dijit.form._FormWidget",[_c5d,_c5f,_c5e,_c60],{setDisabled:function(_c62){_c5b.deprecated("setDisabled("+_c62+") is deprecated. Use set('disabled',"+_c62+") instead.","","2.0");this.set("disabled",_c62);},setValue:function(_c63){_c5b.deprecated("dijit.form._FormWidget:setValue("+_c63+") is deprecated.  Use set('value',"+_c63+") instead.","","2.0");this.set("value",_c63);},getValue:function(){_c5b.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},postMixInProperties:function(){this.nameAttrSetting=(this.name&&!has("msapp"))?("name=\""+this.name.replace(/"/g,"&quot;")+"\""):"";this.inherited(arguments);}});});},"dijit/Viewport":function(){define(["dojo/Evented","dojo/on","dojo/domReady","dojo/sniff","dojo/window"],function(_c64,on,_c65,has,_c66){var _c67=new _c64();var _c68;_c65(function(){var _c69=_c66.getBox();_c67._rlh=on(window,"resize",function(){var _c6a=_c66.getBox();if(_c69.h==_c6a.h&&_c69.w==_c6a.w){return;}_c69=_c6a;_c67.emit("resize");});if(has("ie")==8){var _c6b=screen.deviceXDPI;setInterval(function(){if(screen.deviceXDPI!=_c6b){_c6b=screen.deviceXDPI;_c67.emit("resize");}},500);}if(has("ios")){on(document,"focusin",function(evt){_c68=evt.target;});on(document,"focusout",function(evt){_c68=null;});}});_c67.getEffectiveBox=function(doc){var box=_c66.getBox(doc);var tag=_c68&&_c68.tagName&&_c68.tagName.toLowerCase();if(has("ios")&&_c68&&!_c68.readOnly&&(tag=="textarea"||(tag=="input"&&/^(color|email|number|password|search|tel|text|url)$/.test(_c68.type)))){box.h*=(orientation==0||orientation==180?0.66:0.4);var rect=_c68.getBoundingClientRect();box.h=Math.max(box.h,rect.top+rect.height);}return box;};return _c67;});},"dijit/_base/place":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/window","../place","../main"],function(_c6c,lang,_c6d,_c6e,_c6f){var _c70={};_c70.getViewport=function(){return _c6d.getBox();};_c70.placeOnScreen=_c6e.at;_c70.placeOnScreenAroundElement=function(node,_c71,_c72,_c73){var _c74;if(lang.isArray(_c72)){_c74=_c72;}else{_c74=[];for(var key in _c72){_c74.push({aroundCorner:key,corner:_c72[key]});}}return _c6e.around(node,_c71,_c74,true,_c73);};_c70.placeOnScreenAroundNode=_c70.placeOnScreenAroundElement;_c70.placeOnScreenAroundRectangle=_c70.placeOnScreenAroundElement;_c70.getPopupAroundAlignment=function(_c75,_c76){var _c77={};_c6c.forEach(_c75,function(pos){var ltr=_c76;switch(pos){case "after":_c77[_c76?"BR":"BL"]=_c76?"BL":"BR";break;case "before":_c77[_c76?"BL":"BR"]=_c76?"BR":"BL";break;case "below-alt":ltr=!ltr;case "below":_c77[ltr?"BL":"BR"]=ltr?"TL":"TR";_c77[ltr?"BR":"BL"]=ltr?"TR":"TL";break;case "above-alt":ltr=!ltr;case "above":default:_c77[ltr?"TL":"TR"]=ltr?"BL":"BR";_c77[ltr?"TR":"TL"]=ltr?"BR":"BL";break;}});return _c77;};lang.mixin(_c6f,_c70);return _c6f;});},"prmaxquestionnaires/main/banner":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../main/templates/banner.html","dojo/topic","dijit/layout/ContentPane","dojo/dom-class","dojo/dom-attr","dojo/_base/lang"],function(_c78,_c79,_c7a,_c7b,_c7c,_c7d,_c7e,lang){return _c78("prmaxquestionnaires.main.banner",[_c79,_c7c],{templateString:_c7a,mode:"normal",questionnaireid:-1,constructor:function(){_c7b.subscribe("/q/oname",lang.hitch(this,this._outlet_name_event));},postCreate:function(){this.inherited(arguments);_c7e.set(this.title_text,"innerHTML",PRMAX.questionnaire.outlet.outlet.outletname);_c7e.set(this.deadline_text,"innerHTML",PRMAX.questionnaire.expire_date);_c7b.subscribe("/shop_page_tab",lang.hitch(this,this._move_tab_event));},_show_title:function(){this._show_page_call("title");_c7b.publish("/show_page","title");},_show_profile:function(){this._show_page_call("profile");_c7b.publish("/show_page","profile");},_show_journalists:function(){this._show_page_call("journalists");_c7b.publish("/show_page","journalists");},_show_related_outlets:function(){this._show_page_call("related_outlets");_c7b.publish("/show_page","related_outlets");},_show_geographical_coverage:function(){this._show_page_call("geographical_coverage");_c7b.publish("/show_page","geographical_coverage");},_move_tab_event:function(_c7f){this._show_page_call(_c7f);},_show_page_call:function(_c80){switch(_c80){case "title":_c7d.remove(this.profile_view,"selected");_c7d.remove(this.journalists_view,"selected");_c7d.remove(this.related_outlets_view,"selected");_c7d.remove(this.geographical_coverage_view,"selected");_c7d.add(this.title_view,"selected");break;case "profile":_c7d.remove(this.title_view,"selected");_c7d.remove(this.journalists_view,"selected");_c7d.remove(this.related_outlets_view,"selected");_c7d.remove(this.geographical_coverage_view,"selected");_c7d.add(this.profile_view,"selected");break;case "journalists":_c7d.remove(this.title_view,"selected");_c7d.remove(this.profile_view,"selected");_c7d.remove(this.related_outlets_view,"selected");_c7d.remove(this.geographical_coverage_view,"selected");_c7d.add(this.journalists_view,"selected");break;case "related_outlets":_c7d.remove(this.title_view,"selected");_c7d.remove(this.journalists_view,"selected");_c7d.remove(this.profile_view,"selected");_c7d.remove(this.geographical_coverage_view,"selected");_c7d.add(this.related_outlets_view,"selected");break;case "geographical_coverage":_c7d.remove(this.title_view,"selected");_c7d.remove(this.journalists_view,"selected");_c7d.remove(this.profile_view,"selected");_c7d.remove(this.related_outlets_view,"selected");_c7d.add(this.geographical_coverage_view,"selected");break;}},_outlet_name_event:function(_c81){_c7e.set(this.title_text,"innerHTML",_c81);}});});},"dgrid/extensions/DijitRegistry":function(){define(["dojo/_base/declare","dojo/dom-geometry","dijit/registry"],function(_c82,_c83,_c84){return _c82(null,{minSize:0,maxSize:Infinity,layoutPriority:0,showTitle:true,buildRendering:function(){_c84.add(this);this.inherited(arguments);this.domNode.setAttribute("widgetId",this.id);},startup:function(){if(this._started){return;}this.inherited(arguments);var _c85=_c84.getEnclosingWidget(this.domNode.parentNode);if(_c85&&_c85.isLayoutContainer){this._resizeHandle.remove();}},destroyRecursive:function(){this.destroy();},destroy:function(){this.inherited(arguments);_c84.remove(this.id);},getChildren:function(){return [];},isLeftToRight:function(){return !this.isRTL;},resize:function(_c86){if(_c86){_c83.setMarginBox(this.domNode,_c86);}this.inherited(arguments);},_set:function(prop,_c87){this[prop]=_c87;},watch:function(){},getParent:function(){return _c84.getEnclosingWidget(this.domNode.parentNode);}});});},"dijit/form/_ComboBoxMenu":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/dom-style","dojo/keys","../_WidgetBase","../_TemplatedMixin","./_ComboBoxMenuMixin","./_ListMouseMixin"],function(_c88,_c89,_c8a,keys,_c8b,_c8c,_c8d,_c8e){return _c88("dijit.form._ComboBoxMenu",[_c8b,_c8c,_c8e,_c8d],{templateString:"<div class='dijitReset dijitMenu' data-dojo-attach-point='containerNode' style='overflow: auto; overflow-x: hidden;' role='listbox'>"+"<div class='dijitMenuItem dijitMenuPreviousButton' data-dojo-attach-point='previousButton' role='option'></div>"+"<div class='dijitMenuItem dijitMenuNextButton' data-dojo-attach-point='nextButton' role='option'></div>"+"</div>",baseClass:"dijitComboBoxMenu",postCreate:function(){this.inherited(arguments);if(!this.isLeftToRight()){_c89.add(this.previousButton,"dijitMenuItemRtl");_c89.add(this.nextButton,"dijitMenuItemRtl");}this.containerNode.setAttribute("role","listbox");},_createMenuItem:function(){var item=this.ownerDocument.createElement("div");item.className="dijitReset dijitMenuItem"+(this.isLeftToRight()?"":" dijitMenuItemRtl");item.setAttribute("role","option");return item;},onHover:function(node){_c89.add(node,"dijitMenuItemHover");},onUnhover:function(node){_c89.remove(node,"dijitMenuItemHover");},onSelect:function(node){_c89.add(node,"dijitMenuItemSelected");},onDeselect:function(node){_c89.remove(node,"dijitMenuItemSelected");},_page:function(up){var _c8f=0;var _c90=this.domNode.scrollTop;var _c91=_c8a.get(this.domNode,"height");if(!this.getHighlightedOption()){this.selectNextNode();}while(_c8f<_c91){var _c92=this.getHighlightedOption();if(up){if(!_c92.previousSibling||_c92.previousSibling.style.display=="none"){break;}this.selectPreviousNode();}else{if(!_c92.nextSibling||_c92.nextSibling.style.display=="none"){break;}this.selectNextNode();}var _c93=this.domNode.scrollTop;_c8f+=(_c93-_c90)*(up?-1:1);_c90=_c93;}},handleKey:function(evt){switch(evt.keyCode){case keys.DOWN_ARROW:this.selectNextNode();return false;case keys.PAGE_DOWN:this._page(false);return false;case keys.UP_ARROW:this.selectPreviousNode();return false;case keys.PAGE_UP:this._page(true);return false;default:return true;}}});});},"ttl/store/JsonRest":function(){define(["dojo/_base/xhr","dojo/json","dojo/_base/declare","dojo/store/util/QueryResults","dojo/request","ttl/store/TtlQueryResults"],function(xhr,JSON,_c94,_c95,_c96,_c97){return _c94("ttl.store.JsonRest",null,{constructor:function(_c98){_c94.safeMixin(this,_c98);},target:"",idProperty:"id",get:function(id,_c99){},accepts:"application/javascript, application/json",getIdentity:function(_c9a){return _c9a[this.idProperty];},put:function(_c9b,_c9c){return _c9b;},add:function(_c9d,_c9e){_c9e=_c9e||{};_c9e.overwrite=false;return this.put(_c9d,_c9e);},remove:function(id){},query:function(_c9f,_ca0){if(_c9f["data_mode"]==="EMPTYGRID"){return _c95("");}else{var _ca1={};_ca0=_ca0||{};if(_ca0.start>=0||_ca0.count>=0){_ca1.Range="items="+(_ca0.start||"0")+"-"+(("count" in _ca0&&_ca0.count!=Infinity)?(_ca0.count+(_ca0.start||0)-1):"");}if(_c9f&&typeof _c9f=="object"){_c9f=xhr.objectToQuery(_c9f);if(this.target.indexOf("?")!=-1){_c9f="&"+_c9f;}else{_c9f=_c9f?"?"+_c9f:"";}}if(_ca0&&_ca0.sort){var _ca2=this.sortParam;_c9f+=(_c9f?"&":"?")+(_ca2?_ca2+"=":"sort=");for(var i=0;i<_ca0.sort.length;i++){var sort=_ca0.sort[i];_c9f+=(i>0?",":"")+(sort.descending?"-":"+")+encodeURIComponent(sort.attribute);}}var _ca3=xhr("GET",{url:this.target+(_c9f||""),handleAs:"json",headers:_ca1,preventCache:true,timeout:100000});_ca3.total=_ca3.then(function(){var _ca4=_ca3.ioArgs.xhr.getResponseHeader("Content-Range");return _ca4&&(_ca4=_ca4.match(/\/(.*)/))&&+_ca4[1];});return _c95(_ca3);}}});});},"xstyle/css":function(){define(["require"],function(_ca5){"use strict";function _ca6(tag,id,_ca7){var _ca8=document.documentElement;var _ca9=_ca8.insertBefore(document.createElement(tag),_ca8.firstChild);_ca9.id=id;var _caa=(_ca9.currentStyle||getComputedStyle(_ca9,null)||{})[_ca7];_ca8.removeChild(_ca9);return _caa;};return {load:function(_cab,_cac,_cad,_cae){var url=_cac.toUrl(_cab);var _caf;if(url.match(/!$/)){_caf={wait:false};url=url.slice(0,-1);}var _cb0=_cac.cache&&_cac.cache["url:"+url];if(_cb0!=null){if(_cb0.xCss){var _cb1=_cb0.parser;var xCss=_cb0.xCss;_cb0=_cb0.cssText;}if(typeof _cb0=="string"){_ca5(["./core/load-css"],function(load){_cb2(load.insertCss(_cb0));});}else{_cb2();}if(xCss){}return;}function _cb2(_cb3){var _cb4=_ca6("x-parse",null,"content");var _cb5=_cb3&&(_cb3.sheet||_cb3.styleSheet);if(_cb4&&_cb4!="none"&&_cb4!="normal"){_cac([eval(_cb4)],function(_cb6){if(_cb3){_cb6.process(_cb3,_cad);}else{_cb6.processAll();_cad(_cb5);}});}else{_cad(_cb5);}};var _cb7=_ca6("div",_cab.replace(/\//g,"-").replace(/\..*/,"")+"-loaded","display");if(_cb7=="none"){return _cb2();}_ca5(["./core/load-css"],function(load){load(url,_cb2,_caf);});}};});},"dijit/Dialog":function(){define(["require","dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/Deferred","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/fx","dojo/i18n","dojo/keys","dojo/_base/lang","dojo/on","dojo/ready","dojo/sniff","dojo/window","dojo/dnd/Moveable","dojo/dnd/TimedMoveable","./focus","./_base/manager","./_Widget","./_TemplatedMixin","./_CssStateMixin","./form/_FormMixin","./_DialogMixin","./DialogUnderlay","./layout/ContentPane","./layout/utils","dojo/text!./templates/Dialog.html","./a11yclick","dojo/i18n!./nls/common"],function(_cb8,_cb9,_cba,_cbb,_cbc,dom,_cbd,_cbe,_cbf,fx,i18n,keys,lang,on,_cc0,has,_cc1,_cc2,_cc3,_cc4,_cc5,_cc6,_cc7,_cc8,_cc9,_cca,_ccb,_ccc,_ccd,_cce){var _ccf=new _cbc();_ccf.resolve(true);function nop(){};var _cd0=_cbb("dijit._DialogBase"+(has("dojo-bidi")?"_NoBidi":""),[_cc7,_cc9,_cca,_cc8],{templateString:_cce,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:{node:"titleNode",type:"innerHTML"},open:false,duration:_cc5.defaultDuration,refocus:true,autofocus:true,_firstFocusItem:null,_lastFocusItem:null,draggable:true,_setDraggableAttr:function(val){this._set("draggable",val);},maxRatio:0.9,closable:true,_setClosableAttr:function(val){this.closeButtonNode.style.display=val?"":"none";this._set("closable",val);},postMixInProperties:function(){var _cd1=i18n.getLocalization("dijit","common");lang.mixin(this,_cd1);this.inherited(arguments);},postCreate:function(){_cbf.set(this.domNode,{display:"none",position:"absolute"});this.ownerDocumentBody.appendChild(this.domNode);this.inherited(arguments);_cba.after(this,"onExecute",lang.hitch(this,"hide"),true);_cba.after(this,"onCancel",lang.hitch(this,"hide"),true);this._modalconnects=[];},onLoad:function(){this.resize();this._position();if(this.autofocus&&_cd2.isTop(this)){this._getFocusItems();_cc4.focus(this._firstFocusItem);}this.inherited(arguments);},focus:function(){this._getFocusItems();_cc4.focus(this._firstFocusItem);},_endDrag:function(){var _cd3=_cbe.position(this.domNode),_cd4=_cc1.getBox(this.ownerDocument);_cd3.y=Math.min(Math.max(_cd3.y,0),(_cd4.h-_cd3.h));_cd3.x=Math.min(Math.max(_cd3.x,0),(_cd4.w-_cd3.w));this._relativePosition=_cd3;this._position();},_setup:function(){var node=this.domNode;if(this.titleBar&&this.draggable){this._moveable=new ((has("ie")==6)?_cc3:_cc2)(node,{handle:this.titleBar});_cba.after(this._moveable,"onMoveStop",lang.hitch(this,"_endDrag"),true);}else{_cbd.add(node,"dijitDialogFixed");}this.underlayAttrs={dialogId:this.id,"class":_cb9.map(this["class"].split(/\s/),function(s){return s+"_underlay";}).join(" "),_onKeyDown:lang.hitch(this,"_onKey"),ownerDocument:this.ownerDocument};},_size:function(){this.resize();},_position:function(){if(!_cbd.contains(this.ownerDocumentBody,"dojoMove")){var node=this.domNode,_cd5=_cc1.getBox(this.ownerDocument),p=this._relativePosition,bb=_cbe.position(node),l=Math.floor(_cd5.l+(p?Math.min(p.x,_cd5.w-bb.w):(_cd5.w-bb.w)/2)),t=Math.floor(_cd5.t+(p?Math.min(p.y,_cd5.h-bb.h):(_cd5.h-bb.h)/2));_cbf.set(node,{left:l+"px",top:t+"px"});}},_onKey:function(evt){if(evt.keyCode==keys.TAB){this._getFocusItems();var node=evt.target;if(this._firstFocusItem==this._lastFocusItem){evt.stopPropagation();evt.preventDefault();}else{if(node==this._firstFocusItem&&evt.shiftKey){_cc4.focus(this._lastFocusItem);evt.stopPropagation();evt.preventDefault();}else{if(node==this._lastFocusItem&&!evt.shiftKey){_cc4.focus(this._firstFocusItem);evt.stopPropagation();evt.preventDefault();}}}}else{if(this.closable&&evt.keyCode==keys.ESCAPE){this.onCancel();evt.stopPropagation();evt.preventDefault();}}},show:function(){if(this.open){return _ccf.promise;}if(!this._started){this.startup();}if(!this._alreadyInitialized){this._setup();this._alreadyInitialized=true;}if(this._fadeOutDeferred){this._fadeOutDeferred.cancel();_cd2.hide(this);}var win=_cc1.get(this.ownerDocument);this._modalconnects.push(on(win,"scroll",lang.hitch(this,"resize",null)));this._modalconnects.push(on(this.domNode,"keydown",lang.hitch(this,"_onKey")));_cbf.set(this.domNode,{opacity:0,display:""});this._set("open",true);this._onShow();this.resize();this._position();var _cd6;this._fadeInDeferred=new _cbc(lang.hitch(this,function(){_cd6.stop();delete this._fadeInDeferred;}));this._fadeInDeferred.then(undefined,nop);var _cd7=this._fadeInDeferred.promise;_cd6=fx.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:lang.hitch(this,function(){_cd2.show(this,this.underlayAttrs);}),onEnd:lang.hitch(this,function(){if(this.autofocus&&_cd2.isTop(this)){this._getFocusItems();_cc4.focus(this._firstFocusItem);}this._fadeInDeferred.resolve(true);delete this._fadeInDeferred;})}).play();return _cd7;},hide:function(){if(!this._alreadyInitialized||!this.open){return _ccf.promise;}if(this._fadeInDeferred){this._fadeInDeferred.cancel();}var _cd8;this._fadeOutDeferred=new _cbc(lang.hitch(this,function(){_cd8.stop();delete this._fadeOutDeferred;}));this._fadeOutDeferred.then(undefined,nop);this._fadeOutDeferred.then(lang.hitch(this,"onHide"));var _cd9=this._fadeOutDeferred.promise;_cd8=fx.fadeOut({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,function(){this.domNode.style.display="none";_cd2.hide(this);this._fadeOutDeferred.resolve(true);delete this._fadeOutDeferred;})}).play();if(this._scrollConnected){this._scrollConnected=false;}var h;while(h=this._modalconnects.pop()){h.remove();}if(this._relativePosition){delete this._relativePosition;}this._set("open",false);return _cd9;},resize:function(dim){if(this.domNode.style.display!="none"){this._checkIfSingleChild();if(!dim){if(this._shrunk){if(this._singleChild){if(typeof this._singleChildOriginalStyle!="undefined"){this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle;delete this._singleChildOriginalStyle;}}_cb9.forEach([this.domNode,this.containerNode,this.titleBar,this.actionBarNode],function(node){if(node){_cbf.set(node,{position:"static",width:"auto",height:"auto"});}});this.domNode.style.position="absolute";}var _cda=_cc1.getBox(this.ownerDocument);_cda.w*=this.maxRatio;_cda.h*=this.maxRatio;var bb=_cbe.position(this.domNode);if(bb.w>=_cda.w||bb.h>=_cda.h){dim={w:Math.min(bb.w,_cda.w),h:Math.min(bb.h,_cda.h)};this._shrunk=true;}else{this._shrunk=false;}}if(dim){_cbe.setMarginBox(this.domNode,dim);var _cdb=[];if(this.titleBar){_cdb.push({domNode:this.titleBar,region:"top"});}if(this.actionBarNode){_cdb.push({domNode:this.actionBarNode,region:"bottom"});}var _cdc={domNode:this.containerNode,region:"center"};_cdb.push(_cdc);var _cdd=_ccd.marginBox2contentBox(this.domNode,dim);_ccd.layoutChildren(this.domNode,_cdd,_cdb);if(this._singleChild){var cb=_ccd.marginBox2contentBox(this.containerNode,_cdc);this._singleChild.resize({w:cb.w,h:cb.h});}else{this.containerNode.style.overflow="auto";this._layoutChildren();}}else{this._layoutChildren();}if(!has("touch")&&!dim){this._position();}}},_layoutChildren:function(){_cb9.forEach(this.getChildren(),function(_cde){if(_cde.resize){_cde.resize();}});},destroy:function(){if(this._fadeInDeferred){this._fadeInDeferred.cancel();}if(this._fadeOutDeferred){this._fadeOutDeferred.cancel();}if(this._moveable){this._moveable.destroy();}var h;while(h=this._modalconnects.pop()){h.remove();}_cd2.hide(this);this.inherited(arguments);}});if(has("dojo-bidi")){_cd0=_cbb("dijit._DialogBase",_cd0,{_setTitleAttr:function(_cdf){this._set("title",_cdf);this.titleNode.innerHTML=_cdf;this.applyTextDir(this.titleNode);},_setTextDirAttr:function(_ce0){if(this._created&&this.textDir!=_ce0){this._set("textDir",_ce0);this.set("title",this.title);}}});}var _ce1=_cbb("dijit.Dialog",[_ccc,_cd0],{});_ce1._DialogBase=_cd0;var _cd2=_ce1._DialogLevelManager={_beginZIndex:950,show:function(_ce2,_ce3){ds[ds.length-1].focus=_cc4.curNode;var _ce4=ds[ds.length-1].dialog?ds[ds.length-1].zIndex+2:_ce1._DialogLevelManager._beginZIndex;_cbf.set(_ce2.domNode,"zIndex",_ce4);_ccb.show(_ce3,_ce4-1);ds.push({dialog:_ce2,underlayAttrs:_ce3,zIndex:_ce4});},hide:function(_ce5){if(ds[ds.length-1].dialog==_ce5){ds.pop();var pd=ds[ds.length-1];if(ds.length==1){_ccb.hide();}else{_ccb.show(pd.underlayAttrs,pd.zIndex-1);}if(_ce5.refocus){var _ce6=pd.focus;if(pd.dialog&&(!_ce6||!dom.isDescendant(_ce6,pd.dialog.domNode))){pd.dialog._getFocusItems();_ce6=pd.dialog._firstFocusItem;}if(_ce6){try{_ce6.focus();}catch(e){}}}}else{var idx=_cb9.indexOf(_cb9.map(ds,function(elem){return elem.dialog;}),_ce5);if(idx!=-1){ds.splice(idx,1);}}},isTop:function(_ce7){return ds[ds.length-1].dialog==_ce7;}};var ds=_ce1._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];_cc4.watch("curNode",function(attr,_ce8,node){var _ce9=ds[ds.length-1].dialog;if(node&&_ce9&&!_ce9._fadeOutDeferred&&node.ownerDocument==_ce9.ownerDocument){do{if(node==_ce9.domNode||_cbd.contains(node,"dijitPopup")){return;}}while(node=node.parentNode);_ce9.focus();}});if(has("dijit-legacy-requires")){_cc0(0,function(){var _cea=["dijit/TooltipDialog"];_cb8(_cea);});}return _ce1;});},"dijit/_base/focus":function(){define(["dojo/_base/array","dojo/dom","dojo/_base/lang","dojo/topic","dojo/_base/window","../focus","../selection","../main"],function(_ceb,dom,lang,_cec,win,_ced,_cee,_cef){var _cf0={_curFocus:null,_prevFocus:null,isCollapsed:function(){return _cef.getBookmark().isCollapsed;},getBookmark:function(){var sel=win.global==window?_cee:new _cee.SelectionManager(win.global);return sel.getBookmark();},moveToBookmark:function(_cf1){var sel=win.global==window?_cee:new _cee.SelectionManager(win.global);return sel.moveToBookmark(_cf1);},getFocus:function(menu,_cf2){var node=!_ced.curNode||(menu&&dom.isDescendant(_ced.curNode,menu.domNode))?_cef._prevFocus:_ced.curNode;return {node:node,bookmark:node&&(node==_ced.curNode)&&win.withGlobal(_cf2||win.global,_cef.getBookmark),openedForWindow:_cf2};},_activeStack:[],registerIframe:function(_cf3){return _ced.registerIframe(_cf3);},unregisterIframe:function(_cf4){_cf4&&_cf4.remove();},registerWin:function(_cf5,_cf6){return _ced.registerWin(_cf5,_cf6);},unregisterWin:function(_cf7){_cf7&&_cf7.remove();}};_ced.focus=function(_cf8){if(!_cf8){return;}var node="node" in _cf8?_cf8.node:_cf8,_cf9=_cf8.bookmark,_cfa=_cf8.openedForWindow,_cfb=_cf9?_cf9.isCollapsed:false;if(node){var _cfc=(node.tagName.toLowerCase()=="iframe")?node.contentWindow:node;if(_cfc&&_cfc.focus){try{_cfc.focus();}catch(e){}}_ced._onFocusNode(node);}if(_cf9&&win.withGlobal(_cfa||win.global,_cef.isCollapsed)&&!_cfb){if(_cfa){_cfa.focus();}try{win.withGlobal(_cfa||win.global,_cef.moveToBookmark,null,[_cf9]);}catch(e2){}}};_ced.watch("curNode",function(name,_cfd,_cfe){_cef._curFocus=_cfe;_cef._prevFocus=_cfd;if(_cfe){_cec.publish("focusNode",_cfe);}});_ced.watch("activeStack",function(name,_cff,_d00){_cef._activeStack=_d00;});_ced.on("widget-blur",function(_d01,by){_cec.publish("widgetBlur",_d01,by);});_ced.on("widget-focus",function(_d02,by){_cec.publish("widgetFocus",_d02,by);});lang.mixin(_cef,_cf0);return _cef;});},"dgrid/OnDemandList":function(){define(["./List","./_StoreMixin","dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred","dojo/dom","dojo/on","./util/misc","put-selector/put"],function(List,_d03,_d04,lang,_d05,dom,_d06,_d07,put){return _d04([List,_d03],{minRowsPerPage:25,maxRowsPerPage:250,maxEmptySpace:Infinity,bufferRows:10,farOffRemoval:2000,queryRowsOverlap:0,pagingMethod:"debounce",pagingDelay:_d07.defaultDelay,keepScrollPosition:false,rowHeight:22,postCreate:function(){this.inherited(arguments);var self=this;_d06(this.bodyNode,"scroll",_d07[this.pagingMethod](function(_d08){self._processScroll(_d08);},null,this.pagingDelay));},renderQuery:function(_d09,_d0a){var self=this,_d0b=(_d0a&&_d0a.container)||this.contentNode,_d0c={query:_d09,count:0,options:_d0a},_d0d,_d0e=this.preload,_d0f;var _d10={node:put(_d0b,"div.dgrid-preload",{rowIndex:0}),count:0,query:_d09,next:_d0c,options:_d0a};_d10.node.style.height="0";_d0c.node=_d0d=put(_d0b,"div.dgrid-preload");_d0c.previous=_d10;_d0d.rowIndex=this.minRowsPerPage;if(_d0e){if((_d0c.next=_d0e.next)&&_d0d.offsetTop>=_d0e.node.offsetTop){_d0c.previous=_d0e;}else{_d0c.next=_d0e;_d0c.previous=_d0e.previous;}_d0c.previous.next=_d0c;_d0c.next.previous=_d0c;}else{this.preload=_d0c;}var _d11=put(_d0d,"-div.dgrid-loading"),_d12=put(_d11,"div.dgrid-below");_d12.innerHTML=this.loadingMessage;function _d13(err){put(_d11,"!");if(err){if(self._refreshDeferred){self._refreshDeferred.reject(err);delete self._refreshDeferred;}throw err;}};_d0a=lang.mixin(this.get("queryOptions"),_d0a,{start:0,count:this.minRowsPerPage},"level" in _d09?{queryLevel:_d09.level}:null);this._trackError(function(){return _d0f=_d09(_d0a);});if(typeof _d0f==="undefined"){_d13();return;}_d05.when(self.renderArray(_d0f,_d0d,_d0a),function(trs){var _d14=typeof _d0f.total==="undefined"?_d0f.length:_d0f.total;return _d05.when(_d14,function(_d15){var _d16=trs.length,_d17=_d0d.parentNode,_d18=self.noDataNode;put(_d11,"!");if(!("queryLevel" in _d0a)){self._total=_d15;}if(_d15===0){if(_d18){put(_d18,"!");delete self.noDataNode;}self.noDataNode=_d18=put("div.dgrid-no-data");_d17.insertBefore(_d18,self._getFirstRowSibling(_d17));_d18.innerHTML=self.noDataMessage;}var _d19=0;for(var i=0;i<_d16;i++){_d19+=self._calcRowHeight(trs[i]);}if(_d16&&_d19){self.rowHeight=_d19/_d16;}_d15-=_d16;_d0c.count=_d15;_d0d.rowIndex=_d16;if(_d15){_d0d.style.height=Math.min(_d15*self.rowHeight,self.maxEmptySpace)+"px";}else{_d0d.style.display="none";_d0a.count++;}if(self._previousScrollPosition){self.scrollTo(self._previousScrollPosition);delete self._previousScrollPosition;}self._processScroll();if(self._refreshDeferred){self._refreshDeferred.resolve(_d0f);delete self._refreshDeferred;}return trs;},_d13);},_d13);return _d0f;},refresh:function(_d1a){var self=this,keep=(_d1a&&_d1a.keepScrollPosition),dfd,_d1b;if(typeof keep==="undefined"){keep=this.keepScrollPosition;}if(keep){this._previousScrollPosition=this.getScrollPosition();}this.inherited(arguments);if(this.store){dfd=this._refreshDeferred=new _d05();_d1b=self.renderQuery(function(_d1c){return self.store.query(self.query,_d1c);});if(typeof _d1b==="undefined"){dfd.reject();}return dfd.then(function(_d1d){setTimeout(function(){_d06.emit(self.domNode,"dgrid-refresh-complete",{bubbles:true,cancelable:false,grid:self,results:_d1d});},0);delete self._refreshDeferred;return _d1d;},function(err){delete self._refreshDeferred;throw err;});}},resize:function(){this.inherited(arguments);this._processScroll();},_getFirstRowSibling:function(_d1e){return _d1e.lastChild;},_calcRowHeight:function(_d1f){var _d20=_d1f.nextSibling;if(_d20&&!/\bdgrid-preload\b/.test(_d20.className)){return _d20.offsetTop-_d1f.offsetTop;}return _d1f.offsetHeight;},lastScrollTop:0,_processScroll:function(evt){var grid=this,_d21=grid.bodyNode,_d22=(evt&&evt.scrollTop)||this.getScrollPosition().y,_d23=_d21.offsetHeight+_d22,_d24,_d25,_d26=grid.preload,_d27=grid.lastScrollTop,_d28=grid.bufferRows*grid.rowHeight,_d29=_d28-grid.rowHeight,_d2a,_d2b,_d2c,_d2d=true;var _d2e=1;grid.lastScrollTop=_d22;function _d2f(_d30,_d31,_d32,_d33){var _d34=grid.farOffRemoval,_d25=_d30.node;if(_d31>2*_d34){var row,_d35=_d25[_d32];var _d36=0;var _d37=0;var _d38=[];while((row=_d35)){var _d39=grid._calcRowHeight(row);if(_d36+_d39+_d34>_d31||(_d35.className.indexOf("dgrid-row")<0&&_d35.className.indexOf("dgrid-loading")<0)){break;}var _d35=row[_d32];_d36+=_d39;_d37+=row.count||1;grid.removeRow(row,true);_d38.push(row);}_d30.count+=_d37;if(_d33){_d25.rowIndex-=_d37;_d3a(_d30);}else{_d25.style.height=(_d25.offsetHeight+_d36)+"px";}var _d3b=put("div",_d38);setTimeout(function(){put(_d3b,"!");},1);}};function _d3a(_d3c,_d3d){_d3c.node.style.height=Math.min(_d3c.count*grid.rowHeight,_d3d?Infinity:grid.maxEmptySpace)+"px";};function _d3e(_d3f,_d40){do{_d3f=_d40?_d3f.next:_d3f.previous;}while(_d3f&&!_d3f.node.offsetWidth);return _d3f;};while(_d26&&!_d26.node.offsetWidth){_d26=_d26.previous;}while(_d26&&_d26!=_d24){_d24=grid.preload;grid.preload=_d26;_d25=_d26.node;var _d41=_d25.offsetTop;var _d42;if(_d23+_d2e+_d29<_d41){_d26=_d3e(_d26,(_d2d=false));}else{if(_d22-_d2e-_d29>(_d41+(_d42=_d25.offsetHeight))){_d26=_d3e(_d26,(_d2d=true));}else{var _d43=((_d25.rowIndex?_d22-_d28:_d23)-_d41)/grid.rowHeight;var _d44=(_d23-_d22+2*_d28)/grid.rowHeight;var _d45=Math.max(Math.min((_d22-_d27)*grid.rowHeight,grid.maxRowsPerPage/2),grid.maxRowsPerPage/-2);_d44+=Math.min(Math.abs(_d45),10);if(_d25.rowIndex==0){_d43-=_d44;}_d43=Math.max(_d43,0);if(_d43<10&&_d43>0&&_d44+_d43<grid.maxRowsPerPage){_d44+=Math.max(0,_d43);_d43=0;}_d44=Math.min(Math.max(_d44,grid.minRowsPerPage),grid.maxRowsPerPage,_d26.count);if(_d44==0){_d26=_d3e(_d26,_d2d);continue;}_d44=Math.ceil(_d44);_d43=Math.min(Math.floor(_d43),_d26.count-_d44);var _d46=lang.mixin(grid.get("queryOptions"),_d26.options);_d26.count-=_d44;var _d47=_d25,_d48,_d49=grid.queryRowsOverlap,_d4a=(_d25.rowIndex>0||_d25.offsetTop>_d22)&&_d26;if(_d4a){var _d4b=_d26.previous;if(_d4b){_d2f(_d4b,_d22-(_d4b.node.offsetTop+_d4b.node.offsetHeight),"nextSibling");if(_d43>0&&_d4b.node==_d25.previousSibling){_d43=Math.min(_d26.count,_d43);_d26.previous.count+=_d43;_d3a(_d26.previous,true);_d25.rowIndex+=_d43;_d49=0;}else{_d44+=_d43;}_d26.count-=_d43;}_d46.start=_d25.rowIndex-_d49;_d46.count=Math.min(_d44+_d49,grid.maxRowsPerPage);_d25.rowIndex=_d46.start+_d46.count;}else{if(_d26.next){_d2f(_d26.next,_d26.next.node.offsetTop-_d23,"previousSibling",true);var _d47=_d25.nextSibling;if(_d47==_d26.next.node){_d26.next.count+=_d26.count-_d43;_d26.next.node.rowIndex=_d43+_d44;_d3a(_d26.next);_d26.count=_d43;_d49=0;}else{_d48=true;}}_d46.start=_d26.count;_d46.count=Math.min(_d44+_d49,grid.maxRowsPerPage);}if(_d48&&_d47&&_d47.offsetWidth){_d48=_d47.offsetTop;}_d3a(_d26);if("level" in _d26.query){_d46.queryLevel=_d26.query.level;}if(!("queryLevel" in _d46)&&(_d46.start>grid._total||_d46.count<0)){continue;}var _d4c=put(_d47,"-div.dgrid-loading[style=height:"+_d44*grid.rowHeight+"px]"),_d4d=put(_d4c,"div.dgrid-"+(_d4a?"below":"above"));_d4d.innerHTML=grid.loadingMessage;_d4c.count=_d44;var _d4e=_d26.query(_d46),_d4f=grid._trackError(function(){return _d4e;});if(_d4f===undefined){put(_d4c,"!");return;}(function(_d50,_d51,_d52,_d53){_d2c=_d05.when(grid.renderArray(_d53,_d50,_d46),function(rows){_d2b=_d53;_d47=_d50.nextSibling;put(_d50,"!");if(_d52&&_d47&&_d47.offsetWidth){var pos=grid.getScrollPosition();grid.scrollTo({x:pos.x,y:pos.y+_d47.offsetTop-_d52,preserveMomentum:true});}_d05.when(_d53.total||_d53.length,function(_d54){if(!("queryLevel" in _d46)){grid._total=_d54;}if(_d51){_d51.count=_d54-_d51.node.rowIndex;if(_d51.count===0){_d46.count++;}_d3a(_d51);}});grid._processScroll();return rows;},function(e){put(_d50,"!");throw e;});}).call(this,_d4c,_d4a,_d48,_d4e);_d26=_d26.previous;}}}if(_d2c&&(_d2a=this._refreshDeferred)){delete this._refreshDeferred;_d05.when(_d2c,function(){_d2a.resolve(_d2b);});}},removeRow:function(_d55,_d56){function _d57(_d58,_d59){return _d58!=null?_d58:_d59;};if(_d55){var _d5a=_d55.previousSibling,_d5b=_d55.nextSibling,_d5c=_d5a&&_d57(_d5a.observerIndex,_d5a.previousObserverIndex),_d5d=_d5b&&_d57(_d5b.observerIndex,_d5b.nextObserverIndex),_d5e=_d55.observerIndex;_d55.observerIndex=undefined;if(_d56){_d55.nextObserverIndex=_d5d;_d55.previousObserverIndex=_d5c;}if(this.cleanEmptyObservers&&_d5e>-1&&_d5e!==_d5c&&_d5e!==_d5d){var _d5f=this.observers;var _d60=_d5f[_d5e];if(_d60){if(!_d56){var rows=_d60.rows;for(var i=0;i<rows.length;i++){if(rows[i]!=_d55&&dom.isDescendant(rows[i],this.domNode)){return this.inherited(arguments);}}}_d60.cancel();this._numObservers--;_d5f[_d5e]=0;}}}this.inherited(arguments);}});});},"prcommon2/search/std_search":function(){define(["dojo/_base/declare","dojo/request","ttl/utilities2","dojo/topic","dijit/registry","dojo/_base/lang","dojo/dom-style"],function(_d61,_d62,_d63,_d64,_d65,lang,_d66){return _d61("prcommon2.search.std_search",null,{commoncontrols:"search",dojoAttachEvent:"",dojoAttachPoint:"",waiRole:"",waiState:"",name:"",value:"",keytypeid:"",displayname:"",testmode:false,usepartial:false,search:"",min:0,searchTime:400,dointeractive:true,constructor:function(){this._load_call_back=lang.hitch(this,this._load_call);this._value="";this._extended=false;this.open=false;this.searchTimer=null;_d64.subscribe(PRCOMMON.Events.Search_PartialMatch,lang.hitch(this,this._partial_event));},_partial_event:function(_d67){if(this.usepartial&&_d67.search==this.search&&this._value.length>0){this._get_selector(this._value,true);}},_setdisplay:function(_d68){if(_d68.length==0){this.countnode.clear();}else{this.countnode.set("value",_d68);}},_load_call:function(_d69,_d6a){if(_d69.success=="OK"){if(this._transactionid==_d69.transactionid){this._setdisplay(_d69.count.toString());}}},_send_request_count:function(_d6b){if(this.dointeractive){var _d6c=this._capture_extended_content({keytypeid:this.keytypeid,fieldname:this.name,value:this._value});this._transactionid=PRCOMMON.utils.uuid.createUUID();_d6c["transactionid"]=this._transactionid;_d62.post("/search/displaycount",_d63.make_params_ignore({data:_d6c})).then(this._load_call_back);}this.searchTimer=null;},_get_selector:function(_d6d,_d6e){if(this._value==_d6d&&_d6e!=true){return;}this._value=_d6d;if(this._value.length>this.min){if(this.searchTimer){clearTimeout(this.searchTimer);this.searchTimer=null;}this.searchTimer=setTimeout(lang.hitch(this,this._send_request_count,_d6d),this.searchTime);}else{this._setdisplay("");}_d64.publish(PRCOMMON.Events.Search_Total,{search:this.search});},_capture_extended_content:function(_d6f){var _d70=_d65.byId("search_partial");var _d71=_d65.byId(this.commoncontrols+"private");try{return dojo.mixin(_d6f,{partial:_d70?_d70.checked?2:0:2,private_only:_d71?_d71.attr("value"):0});}catch(e){alert(e);}},_setExtendedAttr:function(_d72){this._extended=_d72;},_getExtendedAttr:function(){return this._extended;},_toggle:function(){this.open=!this.open;this._toggle_cascade();},_toggle_cascade:function(){_d66.set(this.selectarea,"display",this.open?"block":"none");this.togglectrl.src=this.open?"/prmax_common_s/images/toclosed.gif":"/prmax_common_s/images/toopen.gif";if(this.open){this._focus();}},clear:function(){this._make_closed();if(this.searchTimer){clearTimeout(this.searchTimer);this.searchTimer=null;}},_make_closed:function(){if(this.open==true){this._toggle();}},make_open:function(){this.open=false;this._toggle();}});});},"dijit/form/_ToggleButtonMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(_d73,_d74){return _d73("dijit.form._ToggleButtonMixin",null,{checked:false,_aria_attr:"aria-pressed",_onClick:function(evt){var _d75=this.checked;this._set("checked",!_d75);var ret=this.inherited(arguments);this.set("checked",ret?this.checked:_d75);return ret;},_setCheckedAttr:function(_d76,_d77){this._set("checked",_d76);var node=this.focusNode||this.domNode;if(this._created){if(_d74.get(node,"checked")!=!!_d76){_d74.set(node,"checked",!!_d76);}}node.setAttribute(this._aria_attr,String(_d76));this._handleOnChange(_d76,_d77);},postCreate:function(){this.inherited(arguments);var node=this.focusNode||this.domNode;if(this.checked){node.setAttribute("checked","checked");}if(this._resetValue===undefined){this._lastValueReported=this._resetValue=this.checked;}},reset:function(){this._hasBeenBlurred=false;this.set("checked",this.params.checked||false);}});});},"prcommon2/search/OutletSearch":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../search/templates/OutletSearch.html","dijit/layout/ContentPane","prcommon2/search/std_search","prcommon2/search/SearchCount","ttl/Form2","dijit/form/TextBox","prcommon2/search/standard","prcommon2/search/PrmaxOutletTypes","prcommon2/interests/Interests","prcommon2/search/SearchRoles","prcommon2/geographical/Geographical","prcommon2/search/Circulation","prcommon2/search/Frequency","prcommon2/search/Publisher","prcommon2/search/Countries"],function(_d78,_d79,_d7a,_d7b){return _d78("prcommon2.search.OutletSearch",[_d79,_d7b],{templateString:_d7a,constructor:function(){},postCreate:function(){this.inherited(arguments);},_getFormAttr:function(){return this.form_name;},clear:function(){dojo.every(this.form_name.getChildren(),function(_d7c){if(_d7c.clear!=null){_d7c.clear();}return true;});}});});},"prmaxquestionnaires/store/DataStores":function(){define(["dojo/_base/declare","dojo/data/ItemFileReadStore"],function(_d7d,_d7e){return _d7d("prmaxquestionnaires.store.DataStores",null,{constructor:function(){this._countries=new _d7e({url:"/common/lookups?searchtype=countries"});this._interest_sections=new _d7e({url:"/common/lookups?searchtype=interestgroups&sections=1"});this._frequencies=new _d7e({url:"/common/lookups?searchtype=frequencies"});this._prmaxoutlettypes=new _d7e({url:"/common/lookups?searchtype=prmaxoutlettypes"});},fetch:function(){this._countries.fetch();this._interest_sections.fetch();this._frequencies.fetch();},Countries:function(){return this._countries;},interest_sections:function(){return this._interest_sections;},Frequency:function(){return this._frequencies;},OutletTypes:function(){return this._prmaxoutlettypes;}});});},"dijit/_DialogMixin":function(){define(["dojo/_base/declare","./a11y"],function(_d7f,a11y){return _d7f("dijit._DialogMixin",null,{actionBarTemplate:"",execute:function(){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.get("value"));},_getFocusItems:function(){var _d80=a11y._getTabNavigable(this.domNode);this._firstFocusItem=_d80.lowest||_d80.first||this.closeButtonNode||this.domNode;this._lastFocusItem=_d80.last||_d80.highest||this._firstFocusItem;}});});},"dijit/Tree":function(){define(["dojo/_base/array","dojo/aspect","dojo/cookie","dojo/_base/declare","dojo/Deferred","dojo/promise/all","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/errors/create","dojo/fx","dojo/has","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/on","dojo/topic","dojo/touch","dojo/when","./a11yclick","./focus","./registry","./_base/manager","./_Widget","./_TemplatedMixin","./_Container","./_Contained","./_CssStateMixin","./_KeyNavMixin","dojo/text!./templates/TreeNode.html","dojo/text!./templates/Tree.html","./tree/TreeStoreModel","./tree/ForestStoreModel","./tree/_dndSelector","dojo/query!css2"],function(_d81,_d82,_d83,_d84,_d85,all,dom,_d86,_d87,_d88,_d89,_d8a,has,_d8b,keys,lang,on,_d8c,_d8d,when,_d8e,_d8f,_d90,_d91,_d92,_d93,_d94,_d95,_d96,_d97,_d98,_d99,_d9a,_d9b,_d9c){function _d9d(d){return lang.delegate(d.promise||d,{addCallback:function(_d9e){this.then(_d9e);},addErrback:function(_d9f){this.otherwise(_d9f);}});};var _da0=_d84("dijit._TreeNode",[_d92,_d93,_d94,_d95,_d96],{item:null,isTreeNode:true,label:"",_setLabelAttr:function(val){this.labelNode[this.labelType=="html"?"innerHTML":"innerText" in this.labelNode?"innerText":"textContent"]=val;this._set("label",val);if(has("dojo-bidi")){this.applyTextDir(this.labelNode);}},labelType:"text",isExpandable:null,isExpanded:false,state:"NotLoaded",templateString:_d98,baseClass:"dijitTreeNode",cssStateNodes:{rowNode:"dijitTreeRow"},_setTooltipAttr:{node:"rowNode",type:"attribute",attribute:"title"},buildRendering:function(){this.inherited(arguments);this._setExpando();this._updateItemClasses(this.item);if(this.isExpandable){this.labelNode.setAttribute("aria-expanded",this.isExpanded);}this.setSelected(false);},_setIndentAttr:function(_da1){var _da2=(Math.max(_da1,0)*this.tree._nodePixelIndent)+"px";_d88.set(this.domNode,"backgroundPosition",_da2+" 0px");_d88.set(this.rowNode,this.isLeftToRight()?"paddingLeft":"paddingRight",_da2);_d81.forEach(this.getChildren(),function(_da3){_da3.set("indent",_da1+1);});this._set("indent",_da1);},markProcessing:function(){this.state="Loading";this._setExpando(true);},unmarkProcessing:function(){this._setExpando(false);},_updateItemClasses:function(item){var tree=this.tree,_da4=tree.model;if(tree._v10Compat&&item===_da4.root){item=null;}this._applyClassAndStyle(item,"icon","Icon");this._applyClassAndStyle(item,"label","Label");this._applyClassAndStyle(item,"row","Row");this.tree._startPaint(true);},_applyClassAndStyle:function(item,_da5,_da6){var _da7="_"+_da5+"Class";var _da8=_da5+"Node";var _da9=this[_da7];this[_da7]=this.tree["get"+_da6+"Class"](item,this.isExpanded);_d86.replace(this[_da8],this[_da7]||"",_da9||"");_d88.set(this[_da8],this.tree["get"+_da6+"Style"](item,this.isExpanded)||{});},_updateLayout:function(){var _daa=this.getParent(),_dab=!_daa||!_daa.rowNode||_daa.rowNode.style.display=="none";_d86.toggle(this.domNode,"dijitTreeIsRoot",_dab);_d86.toggle(this.domNode,"dijitTreeIsLast",!_dab&&!this.getNextSibling());},_setExpando:function(_dac){var _dad=["dijitTreeExpandoLoading","dijitTreeExpandoOpened","dijitTreeExpandoClosed","dijitTreeExpandoLeaf"],_dae=["*","-","+","*"],idx=_dac?0:(this.isExpandable?(this.isExpanded?1:2):3);_d86.replace(this.expandoNode,_dad[idx],_dad);this.expandoNodeText.innerHTML=_dae[idx];},expand:function(){if(this._expandDeferred){return _d9d(this._expandDeferred);}if(this._collapseDeferred){this._collapseDeferred.cancel();delete this._collapseDeferred;}this.isExpanded=true;this.labelNode.setAttribute("aria-expanded","true");if(this.tree.showRoot||this!==this.tree.rootNode){this.containerNode.setAttribute("role","group");}_d86.add(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);if(this==this.tree.rootNode&&this.tree.showRoot){this.tree.domNode.setAttribute("aria-expanded","true");}var _daf=_d8a.wipeIn({node:this.containerNode,duration:_d91.defaultDuration});var def=(this._expandDeferred=new _d85(function(){_daf.stop();}));_d82.after(_daf,"onEnd",function(){def.resolve(true);},true);_daf.play();return _d9d(def);},collapse:function(){if(this._collapseDeferred){return _d9d(this._collapseDeferred);}if(this._expandDeferred){this._expandDeferred.cancel();delete this._expandDeferred;}this.isExpanded=false;this.labelNode.setAttribute("aria-expanded","false");if(this==this.tree.rootNode&&this.tree.showRoot){this.tree.domNode.setAttribute("aria-expanded","false");}_d86.remove(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);var _db0=_d8a.wipeOut({node:this.containerNode,duration:_d91.defaultDuration});var def=(this._collapseDeferred=new _d85(function(){_db0.stop();}));_d82.after(_db0,"onEnd",function(){def.resolve(true);},true);_db0.play();return _d9d(def);},indent:0,setChildItems:function(_db1){var tree=this.tree,_db2=tree.model,defs=[];var _db3=tree.focusedChild;var _db4=this.getChildren();_d81.forEach(_db4,function(_db5){_d94.prototype.removeChild.call(this,_db5);},this);this.defer(function(){_d81.forEach(_db4,function(node){if(!node._destroyed&&!node.getParent()){tree.dndController.removeTreeNode(node);function _db6(node){var id=_db2.getIdentity(node.item),ary=tree._itemNodesMap[id];if(ary.length==1){delete tree._itemNodesMap[id];}else{var _db7=_d81.indexOf(ary,node);if(_db7!=-1){ary.splice(_db7,1);}}_d81.forEach(node.getChildren(),_db6);};_db6(node);if(tree.persist){var _db8=_d81.map(node.getTreePath(),function(item){return tree.model.getIdentity(item);}).join("/");for(var path in tree._openedNodes){if(path.substr(0,_db8.length)==_db8){delete tree._openedNodes[path];}}tree._saveExpandedNodes();}if(tree.lastFocusedChild&&!dom.isDescendant(tree.lastFocusedChild,tree.domNode)){delete tree.lastFocusedChild;}if(_db3&&!dom.isDescendant(_db3,tree.domNode)){tree.focus();}node.destroyRecursive();}});});this.state="Loaded";if(_db1&&_db1.length>0){this.isExpandable=true;_d81.forEach(_db1,function(item){var id=_db2.getIdentity(item),_db9=tree._itemNodesMap[id],node;if(_db9){for(var i=0;i<_db9.length;i++){if(_db9[i]&&!_db9[i].getParent()){node=_db9[i];node.set("indent",this.indent+1);break;}}}if(!node){node=this.tree._createTreeNode({item:item,tree:tree,isExpandable:_db2.mayHaveChildren(item),label:tree.getLabel(item),labelType:(tree.model&&tree.model.labelType)||"text",tooltip:tree.getTooltip(item),ownerDocument:tree.ownerDocument,dir:tree.dir,lang:tree.lang,textDir:tree.textDir,indent:this.indent+1});if(_db9){_db9.push(node);}else{tree._itemNodesMap[id]=[node];}}this.addChild(node);if(this.tree.autoExpand||this.tree._state(node)){defs.push(tree._expandNode(node));}},this);_d81.forEach(this.getChildren(),function(_dba){_dba._updateLayout();});}else{this.isExpandable=false;}if(this._setExpando){this._setExpando(false);}this._updateItemClasses(this.item);var def=all(defs);this.tree._startPaint(def);return _d9d(def);},getTreePath:function(){var node=this;var path=[];while(node&&node!==this.tree.rootNode){path.unshift(node.item);node=node.getParent();}path.unshift(this.tree.rootNode.item);return path;},getIdentity:function(){return this.tree.model.getIdentity(this.item);},removeChild:function(node){this.inherited(arguments);var _dbb=this.getChildren();if(_dbb.length==0){this.isExpandable=false;this.collapse();}_d81.forEach(_dbb,function(_dbc){_dbc._updateLayout();});},makeExpandable:function(){this.isExpandable=true;this._setExpando(false);},setSelected:function(_dbd){this.labelNode.setAttribute("aria-selected",_dbd?"true":"false");_d86.toggle(this.rowNode,"dijitTreeRowSelected",_dbd);},focus:function(){_d8f.focus(this.focusNode);}});if(has("dojo-bidi")){_da0.extend({_setTextDirAttr:function(_dbe){if(_dbe&&((this.textDir!=_dbe)||!this._created)){this._set("textDir",_dbe);this.applyTextDir(this.labelNode);_d81.forEach(this.getChildren(),function(_dbf){_dbf.set("textDir",_dbe);},this);}}});}var Tree=_d84("dijit.Tree",[_d92,_d97,_d93,_d96],{baseClass:"dijitTree",store:null,model:null,query:null,label:"",showRoot:true,childrenAttr:["children"],paths:[],path:[],selectedItems:null,selectedItem:null,openOnClick:false,openOnDblClick:false,templateString:_d99,persist:false,autoExpand:false,dndController:_d9c,dndParams:["onDndDrop","itemCreator","onDndCancel","checkAcceptance","checkItemAcceptance","dragThreshold","betweenThreshold"],onDndDrop:null,itemCreator:null,onDndCancel:null,checkAcceptance:null,checkItemAcceptance:null,dragThreshold:5,betweenThreshold:0,_nodePixelIndent:19,_publish:function(_dc0,_dc1){_d8c.publish(this.id,lang.mixin({tree:this,event:_dc0},_dc1||{}));},postMixInProperties:function(){this.tree=this;if(this.autoExpand){this.persist=false;}this._itemNodesMap={};if(!this.cookieName&&this.id){this.cookieName=this.id+"SaveStateCookie";}this.expandChildrenDeferred=new _d85();this.pendingCommandsPromise=this.expandChildrenDeferred.promise;this.inherited(arguments);},postCreate:function(){this._initState();var self=this;this.own(on(this.containerNode,on.selector(".dijitTreeNode",_d8d.enter),function(evt){self._onNodeMouseEnter(_d90.byNode(this),evt);}),on(this.containerNode,on.selector(".dijitTreeNode",_d8d.leave),function(evt){self._onNodeMouseLeave(_d90.byNode(this),evt);}),on(this.containerNode,on.selector(".dijitTreeRow",_d8e.press),function(evt){self._onNodePress(_d90.getEnclosingWidget(this),evt);}),on(this.containerNode,on.selector(".dijitTreeRow",_d8e),function(evt){self._onClick(_d90.getEnclosingWidget(this),evt);}),on(this.containerNode,on.selector(".dijitTreeRow","dblclick"),function(evt){self._onDblClick(_d90.getEnclosingWidget(this),evt);}));if(!this.model){this._store2model();}this.own(_d82.after(this.model,"onChange",lang.hitch(this,"_onItemChange"),true),_d82.after(this.model,"onChildrenChange",lang.hitch(this,"_onItemChildrenChange"),true),_d82.after(this.model,"onDelete",lang.hitch(this,"_onItemDelete"),true));this.inherited(arguments);if(this.dndController){if(lang.isString(this.dndController)){this.dndController=lang.getObject(this.dndController);}var _dc2={};for(var i=0;i<this.dndParams.length;i++){if(this[this.dndParams[i]]){_dc2[this.dndParams[i]]=this[this.dndParams[i]];}}this.dndController=new this.dndController(this,_dc2);}this._load();this.onLoadDeferred=_d9d(this.pendingCommandsPromise);this.onLoadDeferred.then(lang.hitch(this,"onLoad"));},_store2model:function(){this._v10Compat=true;_d8b.deprecated("Tree: from version 2.0, should specify a model object rather than a store/query");var _dc3={id:this.id+"_ForestStoreModel",store:this.store,query:this.query,childrenAttrs:this.childrenAttr};if(this.params.mayHaveChildren){_dc3.mayHaveChildren=lang.hitch(this,"mayHaveChildren");}if(this.params.getItemChildren){_dc3.getChildren=lang.hitch(this,function(item,_dc4,_dc5){this.getItemChildren((this._v10Compat&&item===this.model.root)?null:item,_dc4,_dc5);});}this.model=new _d9b(_dc3);this.showRoot=Boolean(this.label);},onLoad:function(){},_load:function(){this.model.getRoot(lang.hitch(this,function(item){var rn=(this.rootNode=this.tree._createTreeNode({item:item,tree:this,isExpandable:true,label:this.label||this.getLabel(item),labelType:this.model.labelType||"text",textDir:this.textDir,indent:this.showRoot?0:-1}));if(!this.showRoot){rn.rowNode.style.display="none";this.domNode.setAttribute("role","presentation");this.domNode.removeAttribute("aria-expanded");this.domNode.removeAttribute("aria-multiselectable");if(this["aria-label"]){rn.containerNode.setAttribute("aria-label",this["aria-label"]);this.domNode.removeAttribute("aria-label");}else{if(this["aria-labelledby"]){rn.containerNode.setAttribute("aria-labelledby",this["aria-labelledby"]);this.domNode.removeAttribute("aria-labelledby");}}rn.labelNode.setAttribute("role","presentation");rn.labelNode.removeAttribute("aria-selected");rn.containerNode.setAttribute("role","tree");rn.containerNode.setAttribute("aria-expanded","true");rn.containerNode.setAttribute("aria-multiselectable",!this.dndController.singular);}else{this.domNode.setAttribute("aria-multiselectable",!this.dndController.singular);this.rootLoadingIndicator.style.display="none";}this.containerNode.appendChild(rn.domNode);var _dc6=this.model.getIdentity(item);if(this._itemNodesMap[_dc6]){this._itemNodesMap[_dc6].push(rn);}else{this._itemNodesMap[_dc6]=[rn];}rn._updateLayout();this._expandNode(rn).then(lang.hitch(this,function(){if(!this._destroyed){this.rootLoadingIndicator.style.display="none";this.expandChildrenDeferred.resolve(true);}}));}),lang.hitch(this,function(err){}));},getNodesByItem:function(item){if(!item){return [];}var _dc7=lang.isString(item)?item:this.model.getIdentity(item);return [].concat(this._itemNodesMap[_dc7]);},_setSelectedItemAttr:function(item){this.set("selectedItems",[item]);},_setSelectedItemsAttr:function(_dc8){var tree=this;return this.pendingCommandsPromise=this.pendingCommandsPromise.always(lang.hitch(this,function(){var _dc9=_d81.map(_dc8,function(item){return (!item||lang.isString(item))?item:tree.model.getIdentity(item);});var _dca=[];_d81.forEach(_dc9,function(id){_dca=_dca.concat(tree._itemNodesMap[id]||[]);});this.set("selectedNodes",_dca);}));},_setPathAttr:function(path){if(path.length){return _d9d(this.set("paths",[path]).then(function(_dcb){return _dcb[0];}));}else{return _d9d(this.set("paths",[]).then(function(_dcc){return _dcc[0];}));}},_setPathsAttr:function(_dcd){var tree=this;function _dce(path,_dcf){var _dd0=path.shift();var _dd1=_d81.filter(_dcf,function(node){return node.getIdentity()==_dd0;})[0];if(!!_dd1){if(path.length){return tree._expandNode(_dd1).then(function(){return _dce(path,_dd1.getChildren());});}else{return _dd1;}}else{throw new Tree.PathError("Could not expand path at "+_dd0);}};return _d9d(this.pendingCommandsPromise=this.pendingCommandsPromise.always(function(){return all(_d81.map(_dcd,function(path){path=_d81.map(path,function(item){return item&&lang.isObject(item)?tree.model.getIdentity(item):item;});if(path.length){return _dce(path,[tree.rootNode]);}else{throw new Tree.PathError("Empty path");}}));}).then(function setNodes(_dd2){tree.set("selectedNodes",_dd2);return tree.paths;}));},_setSelectedNodeAttr:function(node){this.set("selectedNodes",[node]);},_setSelectedNodesAttr:function(_dd3){this.dndController.setSelection(_dd3);},expandAll:function(){var _dd4=this;function _dd5(node){return _dd4._expandNode(node).then(function(){var _dd6=_d81.filter(node.getChildren()||[],function(node){return node.isExpandable;});return all(_d81.map(_dd6,_dd5));});};return _d9d(_dd5(this.rootNode));},collapseAll:function(){var _dd7=this;function _dd8(node){var _dd9=_d81.filter(node.getChildren()||[],function(node){return node.isExpandable;}),defs=all(_d81.map(_dd9,_dd8));if(!node.isExpanded||(node==_dd7.rootNode&&!_dd7.showRoot)){return defs;}else{return defs.then(function(){return _dd7._collapseNode(node);});}};return _d9d(_dd8(this.rootNode));},mayHaveChildren:function(){},getItemChildren:function(){},getLabel:function(item){return this.model.getLabel(item);},getIconClass:function(item,_dda){return (!item||this.model.mayHaveChildren(item))?(_dda?"dijitFolderOpened":"dijitFolderClosed"):"dijitLeaf";},getLabelClass:function(){},getRowClass:function(){},getIconStyle:function(){},getLabelStyle:function(){},getRowStyle:function(){},getTooltip:function(){return "";},_onDownArrow:function(evt,node){var _ddb=this._getNext(node);if(_ddb&&_ddb.isTreeNode){this.focusNode(_ddb);}},_onUpArrow:function(evt,node){var _ddc=node.getPreviousSibling();if(_ddc){node=_ddc;while(node.isExpandable&&node.isExpanded&&node.hasChildren()){var _ddd=node.getChildren();node=_ddd[_ddd.length-1];}}else{var _dde=node.getParent();if(!(!this.showRoot&&_dde===this.rootNode)){node=_dde;}}if(node&&node.isTreeNode){this.focusNode(node);}},_onRightArrow:function(evt,node){if(node.isExpandable&&!node.isExpanded){this._expandNode(node);}else{if(node.hasChildren()){node=node.getChildren()[0];if(node&&node.isTreeNode){this.focusNode(node);}}}},_onLeftArrow:function(evt,node){if(node.isExpandable&&node.isExpanded){this._collapseNode(node);}else{var _ddf=node.getParent();if(_ddf&&_ddf.isTreeNode&&!(!this.showRoot&&_ddf===this.rootNode)){this.focusNode(_ddf);}}},focusLastChild:function(){var node=this._getLast();if(node&&node.isTreeNode){this.focusNode(node);}},_getFirst:function(){return this.showRoot?this.rootNode:this.rootNode.getChildren()[0];},_getLast:function(){var node=this.rootNode;while(node.isExpanded){var c=node.getChildren();if(!c.length){break;}node=c[c.length-1];}return node;},_getNext:function(node){if(node.isExpandable&&node.isExpanded&&node.hasChildren()){return node.getChildren()[0];}else{while(node&&node.isTreeNode){var _de0=node.getNextSibling();if(_de0){return _de0;}node=node.getParent();}return null;}},childSelector:".dijitTreeRow",isExpandoNode:function(node,_de1){return dom.isDescendant(node,_de1.expandoNode)||dom.isDescendant(node,_de1.expandoNodeText);},_onNodePress:function(_de2,e){this.focusNode(_de2);},__click:function(_de3,e,_de4,func){var _de5=e.target,_de6=this.isExpandoNode(_de5,_de3);if(_de3.isExpandable&&(_de4||_de6)){this._onExpandoClick({node:_de3});}else{this._publish("execute",{item:_de3.item,node:_de3,evt:e});this[func](_de3.item,_de3,e);this.focusNode(_de3);}e.stopPropagation();e.preventDefault();},_onClick:function(_de7,e){this.__click(_de7,e,this.openOnClick,"onClick");},_onDblClick:function(_de8,e){this.__click(_de8,e,this.openOnDblClick,"onDblClick");},_onExpandoClick:function(_de9){var node=_de9.node;this.focusNode(node);if(node.isExpanded){this._collapseNode(node);}else{this._expandNode(node);}},onClick:function(){},onDblClick:function(){},onOpen:function(){},onClose:function(){},_getNextNode:function(node){_d8b.deprecated(this.declaredClass+"::_getNextNode(node) is deprecated. Use _getNext(node) instead.","","2.0");return this._getNext(node);},_getRootOrFirstNode:function(){_d8b.deprecated(this.declaredClass+"::_getRootOrFirstNode() is deprecated. Use _getFirst() instead.","","2.0");return this._getFirst();},_collapseNode:function(node){if(node._expandNodeDeferred){delete node._expandNodeDeferred;}if(node.state=="Loading"){return;}if(node.isExpanded){var ret=node.collapse();this.onClose(node.item,node);this._state(node,false);this._startPaint(ret);return ret;}},_expandNode:function(node){if(node._expandNodeDeferred){return node._expandNodeDeferred;}var _dea=this.model,item=node.item,_deb=this;if(!node._loadDeferred){node.markProcessing();node._loadDeferred=new _d85();_dea.getChildren(item,function(_dec){node.unmarkProcessing();node.setChildItems(_dec).then(function(){node._loadDeferred.resolve(_dec);});},function(err){node._loadDeferred.reject(err);});}var def=node._loadDeferred.then(lang.hitch(this,function(){var def2=node.expand();this.onOpen(node.item,node);this._state(node,true);return def2;}));this._startPaint(def);return def;},focusNode:function(node){var _ded=this.domNode.scrollLeft;this.focusChild(node);this.domNode.scrollLeft=_ded;},_onNodeMouseEnter:function(){},_onNodeMouseLeave:function(){},_onItemChange:function(item){var _dee=this.model,_def=_dee.getIdentity(item),_df0=this._itemNodesMap[_def];if(_df0){var _df1=this.getLabel(item),_df2=this.getTooltip(item);_d81.forEach(_df0,function(node){node.set({item:item,label:_df1,tooltip:_df2});node._updateItemClasses(item);});}},_onItemChildrenChange:function(_df3,_df4){var _df5=this.model,_df6=_df5.getIdentity(_df3),_df7=this._itemNodesMap[_df6];if(_df7){_d81.forEach(_df7,function(_df8){_df8.setChildItems(_df4);});}},_onItemDelete:function(item){var _df9=this.model,_dfa=_df9.getIdentity(item),_dfb=this._itemNodesMap[_dfa];if(_dfb){_d81.forEach(_dfb,function(node){this.dndController.removeTreeNode(node);var _dfc=node.getParent();if(_dfc){_dfc.removeChild(node);}if(this.lastFocusedChild&&!dom.isDescendant(this.lastFocusedChild,this.domNode)){delete this.lastFocusedChild;}if(this.focusedChild&&!dom.isDescendant(this.focusedChild,this.domNode)){this.focus();}node.destroyRecursive();},this);delete this._itemNodesMap[_dfa];}},_initState:function(){this._openedNodes={};if(this.persist&&this.cookieName){var oreo=_d83(this.cookieName);if(oreo){_d81.forEach(oreo.split(","),function(item){this._openedNodes[item]=true;},this);}}},_state:function(node,_dfd){if(!this.persist){return false;}var path=_d81.map(node.getTreePath(),function(item){return this.model.getIdentity(item);},this).join("/");if(arguments.length===1){return this._openedNodes[path];}else{if(_dfd){this._openedNodes[path]=true;}else{delete this._openedNodes[path];}this._saveExpandedNodes();}},_saveExpandedNodes:function(){if(this.persist&&this.cookieName){var ary=[];for(var id in this._openedNodes){ary.push(id);}_d83(this.cookieName,ary.join(","),{expires:365});}},destroy:function(){if(this._curSearch){this._curSearch.timer.remove();delete this._curSearch;}if(this.rootNode){this.rootNode.destroyRecursive();}if(this.dndController&&!lang.isString(this.dndController)){this.dndController.destroy();}this.rootNode=null;this.inherited(arguments);},destroyRecursive:function(){this.destroy();},resize:function(_dfe){if(_dfe){_d87.setMarginBox(this.domNode,_dfe);}this._nodePixelIndent=_d87.position(this.tree.indentDetector).w||this._nodePixelIndent;this.expandChildrenDeferred.then(lang.hitch(this,function(){this.rootNode.set("indent",this.showRoot?0:-1);this._adjustWidths();}));},_outstandingPaintOperations:0,_startPaint:function(p){this._outstandingPaintOperations++;if(this._adjustWidthsTimer){this._adjustWidthsTimer.remove();delete this._adjustWidthsTimer;}var oc=lang.hitch(this,function(){this._outstandingPaintOperations--;if(this._outstandingPaintOperations<=0&&!this._adjustWidthsTimer&&this._started){this._adjustWidthsTimer=this.defer("_adjustWidths");}});when(p,oc,oc);},_adjustWidths:function(){if(this._adjustWidthsTimer){this._adjustWidthsTimer.remove();delete this._adjustWidthsTimer;}this.containerNode.style.width="auto";this.containerNode.style.width=this.domNode.scrollWidth>this.domNode.offsetWidth?"auto":"100%";},_createTreeNode:function(args){return new _da0(args);},focus:function(){if(this.lastFocusedChild){this.focusNode(this.lastFocusedChild);}else{this.focusFirstChild();}}});if(has("dojo-bidi")){Tree.extend({_setTextDirAttr:function(_dff){if(_dff&&this.textDir!=_dff){this._set("textDir",_dff);this.rootNode.set("textDir",_dff);}}});}Tree.PathError=_d89("TreePathError");Tree._TreeNode=_da0;return Tree;});},"dijit/form/_FormValueWidget":function(){define(["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(_e00,has,_e01,_e02){return _e00("dijit.form._FormValueWidget",[_e01,_e02],{_layoutHackIE7:function(){if(has("ie")==7){var _e03=this.domNode;var _e04=_e03.parentNode;var _e05=_e03.firstChild||_e03;var _e06=_e05.style.filter;var _e07=this;while(_e04&&_e04.clientHeight==0){(function ping(){var _e08=_e07.connect(_e04,"onscroll",function(){_e07.disconnect(_e08);_e05.style.filter=(new Date()).getMilliseconds();_e07.defer(function(){_e05.style.filter=_e06;});});})();_e04=_e04.parentNode;}}}});});},"dgrid/Keyboard":function(){define(["dojo/_base/declare","dojo/aspect","dojo/on","dojo/_base/lang","dojo/has","put-selector/put","./util/misc","dojo/_base/Deferred","dojo/_base/sniff"],function(_e09,_e0a,on,lang,has,put,_e0b,_e0c){var _e0d={checkbox:1,radio:1,button:1},_e0e=/\bdgrid-cell\b/,_e0f=/\bdgrid-row\b/;var _e10=_e09(null,{pageSkip:10,tabIndex:0,keyMap:null,headerKeyMap:null,postMixInProperties:function(){this.inherited(arguments);if(!this.keyMap){this.keyMap=lang.mixin({},_e10.defaultKeyMap);}if(!this.headerKeyMap){this.headerKeyMap=lang.mixin({},_e10.defaultHeaderKeyMap);}},postCreate:function(){this.inherited(arguments);var grid=this;function _e11(_e12){var _e13=_e12.target;return _e13.type&&(!_e0d[_e13.type]||_e12.keyCode==32);};function _e14(_e15){var _e16=grid.cellNavigation,_e17=_e16?_e0e:_e0f,_e18=_e15===grid.headerNode,_e19=_e15;function _e1a(){if(grid._focusedHeaderNode){grid._focusedHeaderNode.tabIndex=-1;}if(grid.showHeader){if(_e16){for(var i=0,_e1b,_e1c=grid.headerNode.getElementsByTagName("th");(_e1b=_e1c[i]);++i){if(_e17.test(_e1b.className)){grid._focusedHeaderNode=_e19=_e1b;break;}}}else{grid._focusedHeaderNode=_e19=grid.headerNode;}if(_e19){_e19.tabIndex=grid.tabIndex;}}};if(_e18){_e1a();_e0a.after(grid,"renderHeader",_e1a,true);}else{_e0a.after(grid,"renderArray",function(ret){return _e0c.when(ret,function(ret){var _e1d=grid._focusedNode||_e19;if(_e17.test(_e1d.className)&&_e0b.contains(_e15,_e1d)){return ret;}for(var i=0,_e1e=_e15.getElementsByTagName("*"),_e1f;(_e1f=_e1e[i]);++i){if(_e17.test(_e1f.className)){_e1d=grid._focusedNode=_e1f;break;}}_e1d.tabIndex=grid.tabIndex;return ret;});});}grid._listeners.push(on(_e15,"mousedown",function(_e20){if(!_e11(_e20)){grid._focusOnNode(_e20.target,_e18,_e20);}}));grid._listeners.push(on(_e15,"keydown",function(_e21){if(_e21.metaKey||_e21.altKey){return;}var _e22=grid[_e18?"headerKeyMap":"keyMap"][_e21.keyCode];if(_e22&&!_e11(_e21)){_e22.call(grid,_e21);}}));};if(this.tabableHeader){_e14(this.headerNode);on(this.headerNode,"dgrid-cellfocusin",function(){grid.scrollTo({x:this.scrollLeft});});}_e14(this.contentNode);},removeRow:function(_e23){if(!this._focusedNode){return this.inherited(arguments);}var self=this,_e24=document.activeElement===this._focusedNode,_e25=this[this.cellNavigation?"cell":"row"](this._focusedNode),_e26=_e25.row||_e25,_e27;_e23=_e23.element||_e23;if(_e23===_e26.element){_e27=this.down(_e26,true);if(!_e27||_e27.element===_e23){_e27=this.up(_e26,true);}this._removedFocus={active:_e24,rowId:_e26.id,columnId:_e25.column&&_e25.column.id,siblingId:!_e27||_e27.element===_e23?undefined:_e27.id};setTimeout(function(){if(self._removedFocus){self._restoreFocus(_e26.id);}},0);this._focusedNode=null;}this.inherited(arguments);},insertRow:function(_e28){var _e29=this.inherited(arguments);if(this._removedFocus&&!this._removedFocus.wait){this._restoreFocus(_e29);}return _e29;},_restoreFocus:function(row){var _e2a=this._removedFocus,_e2b,cell;row=row&&this.row(row);_e2b=row&&row.element&&row.id===_e2a.rowId?row:typeof _e2a.siblingId!=="undefined"&&this.row(_e2a.siblingId);if(_e2b&&_e2b.element){if(!_e2b.element.parentNode.parentNode){_e2a.wait=true;return;}if(typeof _e2a.columnId!=="undefined"){cell=this.cell(_e2b,_e2a.columnId);if(cell&&cell.element){_e2b=cell;}}if(_e2a.active&&_e2b.element.offsetHeight!==0){this._focusOnNode(_e2b,false,null);}else{put(_e2b.element,".dgrid-focus");_e2b.element.tabIndex=this.tabIndex;this._focusedNode=_e2b.element;}}delete this._removedFocus;},addKeyHandler:function(key,_e2c,_e2d){return _e0a.after(this[_e2d?"headerKeyMap":"keyMap"],key,_e2c,true);},_focusOnNode:function(_e2e,_e2f,_e30){var _e31="_focused"+(_e2f?"Header":"")+"Node",_e32=this[_e31],_e33=this.cellNavigation?"cell":"row",cell=this[_e33](_e2e),_e34,_e35,_e36,_e37,i;_e2e=cell&&cell.element;if(!_e2e){return;}if(this.cellNavigation){_e34=_e2e.getElementsByTagName("input");for(i=0,_e36=_e34.length;i<_e36;i++){_e35=_e34[i];if((_e35.tabIndex!=-1||"_dgridLastValue" in _e35)&&!_e35.disabled){if(has("ie")<8){_e35.style.position="relative";}_e35.focus();if(has("ie")<8){_e35.style.position="";}_e37=true;break;}}}if(_e30!==null){_e30=lang.mixin({grid:this},_e30);if(_e30.type){_e30.parentType=_e30.type;}if(!_e30.bubbles){_e30.bubbles=true;}}if(_e32){put(_e32,"!dgrid-focus[!tabIndex]");if(has("ie")<8){_e32.style.position="";}if(_e30){_e30[_e33]=this[_e33](_e32);on.emit(_e32,"dgrid-cellfocusout",_e30);}}_e32=this[_e31]=_e2e;if(_e30){_e30[_e33]=cell;}var _e38=this.cellNavigation?_e0e:_e0f;if(!_e37&&_e38.test(_e2e.className)){if(has("ie")<8){_e2e.style.position="relative";}_e2e.tabIndex=this.tabIndex;_e2e.focus();}put(_e2e,".dgrid-focus");if(_e30){on.emit(_e32,"dgrid-cellfocusin",_e30);}},focusHeader:function(_e39){this._focusOnNode(_e39||this._focusedHeaderNode,true);},focus:function(_e3a){var node=_e3a||this._focusedNode;if(node){this._focusOnNode(node,false);}else{this.contentNode.focus();}}});var _e3b=_e10.moveFocusVertical=function(_e3c,_e3d){var _e3e=this.cellNavigation,_e3f=this[_e3e?"cell":"row"](_e3c),_e40=_e3e&&_e3f.column.id,next=this.down(this._focusedNode,_e3d,true);if(_e3e){next=this.cell(next,_e40);}this._focusOnNode(next,false,_e3c);_e3c.preventDefault();};var _e41=_e10.moveFocusUp=function(_e42){_e3b.call(this,_e42,-1);};var _e43=_e10.moveFocusDown=function(_e44){_e3b.call(this,_e44,1);};var _e45=_e10.moveFocusPageUp=function(_e46){_e3b.call(this,_e46,-this.pageSkip);};var _e47=_e10.moveFocusPageDown=function(_e48){_e3b.call(this,_e48,this.pageSkip);};var _e49=_e10.moveFocusHorizontal=function(_e4a,_e4b){if(!this.cellNavigation){return;}var _e4c=!this.row(_e4a),_e4d=this["_focused"+(_e4c?"Header":"")+"Node"];this._focusOnNode(this.right(_e4d,_e4b),_e4c,_e4a);_e4a.preventDefault();};var _e4e=_e10.moveFocusLeft=function(_e4f){_e49.call(this,_e4f,-1);};var _e50=_e10.moveFocusRight=function(_e51){_e49.call(this,_e51,1);};var _e52=_e10.moveHeaderFocusEnd=function(_e53,_e54){var _e55;if(this.cellNavigation){_e55=this.headerNode.getElementsByTagName("th");this._focusOnNode(_e55[_e54?0:_e55.length-1],true,_e53);}_e53.preventDefault();};var _e56=_e10.moveHeaderFocusHome=function(_e57){_e52.call(this,_e57,true);};var _e58=_e10.moveFocusEnd=function(_e59,_e5a){var self=this,_e5b=this.cellNavigation,_e5c=this.contentNode,_e5d=_e5a?0:_e5c.scrollHeight,_e5e=_e5c.scrollTop+_e5d,_e5f=_e5c[_e5a?"firstChild":"lastChild"],_e60=_e5f.className.indexOf("dgrid-preload")>-1,_e61=_e60?_e5f[(_e5a?"next":"previous")+"Sibling"]:_e5f,_e62=_e61.offsetTop+(_e5a?0:_e61.offsetHeight),_e63;if(_e60){while(_e61&&_e61.className.indexOf("dgrid-row")<0){_e61=_e61[(_e5a?"next":"previous")+"Sibling"];}if(!_e61){return;}}if(!_e60||_e5f.offsetHeight<1){if(_e5b){_e61=this.cell(_e61,this.cell(_e59).column.id);}this._focusOnNode(_e61,false,_e59);}else{if(!has("dom-addeventlistener")){_e59=lang.mixin({},_e59);}_e63=_e0a.after(this,"renderArray",function(rows){_e63.remove();return _e0c.when(rows,function(rows){var _e64=rows[_e5a?0:rows.length-1];if(_e5b){_e64=self.cell(_e64,self.cell(_e59).column.id);}self._focusOnNode(_e64,false,_e59);});});}if(_e5e===_e62){_e59.preventDefault();}};var _e65=_e10.moveFocusHome=function(_e66){_e58.call(this,_e66,true);};function _e67(_e68){_e68.preventDefault();};_e10.defaultKeyMap={32:_e67,33:_e45,34:_e47,35:_e58,36:_e65,37:_e4e,38:_e41,39:_e50,40:_e43};_e10.defaultHeaderKeyMap={32:_e67,35:_e52,36:_e56,37:_e4e,39:_e50};return _e10;});},"url:prcommon2/outlet/templates/SelectMultipleOutlets.html":"<div >\r\n\t<div class=\"dojolanguagesPane\" >\r\n\t\t<div data-dojo-attach-point=\"selectarea\" class=\"prmaxselectmultiple\" >\r\n\t\t\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\r\n\t\t\t\t  <tr><td width=\"60%\"></td><td width=\"5%\"></td></tr>\r\n\t\t\t\t  <tr>\r\n\t\t\t\t\t<td><select style=\"width:100%\" data-dojo-attach-point=\"outlet_select\" size=\"${size}\" class=\"lists\"  data-dojo-attach-event=\"onchange:outlets_update_selection\"></select></td>\r\n\t\t\t\t  <td valign=\"top\">\r\n\t\t\t\t\t<button style=\"padding:0px;margin:0px\" data-dojo-props='type:\"button\",label:\"Select\"' data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:_select_outlet\"></button>\r\n\t\t\t\t\t<button class=\"button_del_all\" style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"button_del_all\" data-dojo-props='disabled:true,type:\"button\"' data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:outlets_remove_all\"><div class=\"std_movement_button\">&lt;&lt;</div></button><br/>\r\n\t\t\t\t\t<button class=\"button_del_single\" style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"button_del_single\" data-dojo-props='disabled:true,type:\"button\"' data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:outlets_remove_single\"><div class=\"std_movement_button\">&lt;&nbsp;</div></button></td>\r\n\t\t\t\t  <td ></td>\r\n\t\t\t\t  </tr>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t</div>\r\n\t\t<div data-dojo-attach-point=\"select_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Select Publication\"'>\r\n\t\t\t<div data-dojo-attach-point=\"select_ctrl\" data-dojo-type=\"prcommon2/outlet/OutletSelectPanel\" data-dojo-props='style:\"width:500px;height:600px\"'></div>\r\n\t</div>\r\n</div>\r\n","url:prcommon2/search/templates/PrmaxOutletTypes.html":"<div class=\"prmaxoutlettype\">\r\n\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\" >\r\n\t\t<tr><td width=\"20%\"   class=\"prmaxrowtag\">Media Channels</td>\r\n\t\t\t\t<td width=\"5%\" ><img height=\"16px\" width=\"16px\" data-dojo-attach-point=\"togglectrl\" data-dojo-attach-event=\"onclick:_toggle\" src=\"/prmax_common_s/images/toopen.gif\" class=\"toggleselect\"></img>\r\n\t\t\t\t<td align=\"right\" valign=\"top\" ><div data-dojo-attach-point=\"countnode\" data-dojo-type=\"prcommon2/search/SearchCount\"></div></td>\r\n\t\t</tr>\r\n\t</table>\r\n\t<div style=\"border 2px solid black\">\r\n\t\t<div data-dojo-attach-point=\"selectarea\" style=\"display:none\" >\r\n\t\t\t<table width=\"100%\" class=\"prmaxtable\" >\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t <td width=\"33%\">\r\n\t\t\t\t\t <div class=\"box1\">\r\n\t\t\t\t\t <input  data-dojo-attach-point=\"node1\" data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='style:\"float:left\",\"class\":\"check_input prmaxdefault\",type:\"checkbox\",value:\"1\"' />\r\n\t\t\t\t\t <label data-dojo-attach-point=\"node1label\" class=\"labeltag\" >National Newspapers</label><div class=\"imagebox\" style=\"display:inline\">&nbsp;<img src=\"/prmax_common_s/images/outlet_fill.gif\" data-dojo-attach-point=\"node1button\" ></img></a></div>\r\n\t\t\t\t\t </div>\r\n\t\t\t\t\t </td>\r\n\t\t\t\t\t<td width=\"33%\">\r\n\t\t\t\t\t <div class=\"box1\">\r\n\t\t\t\t\t<input data-dojo-props='style:\"float:left\",\"class\":\"check_input prmaxdefault\",type:\"checkbox\",value:\"2\"' data-dojo-attach-point=\"node2\" data-dojo-type=\"dijit/form/CheckBox\"/>\r\n\t\t\t\t\t<label  data-dojo-attach-point=\"node2label\" class=\"labeltag\" >Regional Newspapers</label>\r\n\t\t\t\t\t<div class=\"imagebox\" style=\"display:inline\">&nbsp;<img src=\"/prmax_common_s/images/outlet_fill.gif\" data-dojo-attach-point=\"node2button\"></div>\r\n\t\t\t\t\t</div></td>\r\n\t\t\t\t\t<td width=\"33%\">\r\n\t\t\t\t\t <div class=\"box1\">\r\n\t\t\t\t\t<input data-dojo-attach-point=\"node3\" data-dojo-type=\"dijit/form/CheckBox\" data--dojo-props='style:\"float:left\",\"class\":\"check_input prmaxdefault\",type:\"checkbox\",value:\"3\"' />\r\n\t\t\t\t\t<label data-dojo-attach-point=\"node3label\" class=\"labeltag\" >B2B Magazines</label>\r\n\t\t\t\t\t<div class=\"imagebox\" style=\"display:inline\">&nbsp;<img src=\"/prmax_common_s/images/outlet_fill.gif\" data-dojo-attach-point=\"node3button\"></div>\r\n\t\t\t\t\t</div></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t <td width=\"33%\">\r\n\t\t\t\t\t <div class=\"box1\">\r\n\t\t\t\t\t<input data-dojo-props='style:\"float:left\",\"class\":\"check_input prmaxdefault\",type:\"checkbox\",value:\"4\"' data-dojo-attach-point=\"node4\" data-dojo-type=\"dijit/form/CheckBox\" />\r\n\t\t\t\t\t<label data-dojo-attach-point=\"node4label\" class=\"labeltag\" >Consumer Magazines</label>\r\n\t\t\t\t\t<div class=\"imagebox\" style=\"display:inline\">&nbsp;<img src=\"/prmax_common_s/images/outlet_fill.gif\" data-dojo-attach-point=\"node4button\"></div>\r\n\t\t\t\t\t</div></td>\r\n\t\t\t\t\t <td width=\"33%\">\r\n\t\t\t\t\t <div class=\"box1\">\r\n\t\t\t\t\t<input data-dojo-props='style:\"float:left\",\"class\":\"prmaxdefault\",type:\"checkbox\",value:\"5\"' data-dojo-attach-point=\"node5\" data-dojo-type=\"dijit/form/CheckBox\" />\r\n\t\t\t\t\t<label class=\"labeltag\" data-dojo-attach-point=\"node5label\" >Radio</label>\r\n\t\t\t\t\t<div class=\"imagebox\" style=\"display:inline\">&nbsp;<img src=\"/prmax_common_s/images/outlet_fill.gif\" data-dojo-attach-point=\"node5button\"></div>\r\n\t\t\t\t\t</div></td>\r\n\t\t\t\t\t <td width=\"33%\">\r\n\t\t\t\t\t <div class=\"box1\">\r\n\t\t\t\t\t<input data-dojo-props='style:\"float:left\",\"class\":\"prmaxdefault\",type:\"checkbox\",value:\"6\"' data-dojo-attach-point=\"node6\" data-dojo-type=\"dijit/form/CheckBox\" />\r\n\t\t\t\t\t<label class=\"labeltag\" data-dojo-attach-point=\"node6label\" >TV</label>\r\n\t\t\t\t\t<div class=\"imagebox\" style=\"display:inline\">&nbsp;<img src=\"/prmax_common_s/images/outlet_fill.gif\" data-dojo-attach-point=\"node6button\"></div>\r\n\t\t\t\t\t</div></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t <td width=\"33%\">\r\n\t\t\t\t\t <div class=\"box1\">\r\n\t\t\t\t\t<input  data-dojo-attach-point=\"node7\" data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='style:\"float:left\",\"class\":\"prmaxdefault\",type:\"checkbox\",value:\"7\"' /><label class=\"labeltag\" data-dojo-attach-point=\"node7label\" >Influencers</label>\r\n\t\t\t\t\t<div class=\"imagebox\" style=\"display:inline\">&nbsp;<img src=\"/prmax_common_s/images/outlet_fill.gif\" data-dojo-attach-point=\"node7button\"></div>\r\n\t\t\t\t\t</div></td>\r\n\t\t\t\t\t <td width=\"33%\">\r\n\t\t\t\t\t <div class=\"box1\">\r\n\t\t\t\t\t<input  data-dojo-attach-point=\"node8\" data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='style:\"float:left\",\"class\":\"prmaxdefault\",type:\"checkbox\",value:\"8\"' /><label class=\"labeltag\" data-dojo-attach-point=\"node8label\" >News Services</label>\r\n\t\t\t\t\t<div class=\"imagebox\" style=\"display:inline\">&nbsp;<img src=\"/prmax_common_s/images/outlet_fill.gif\" data-dojo-attach-point=\"node8button\"></div>\r\n\t\t\t\t\t</div></td>\r\n\t\t\t\t\t <td width=\"33%\">\r\n\t\t\t\t\t <div class=\"box1\">\r\n\t\t\t\t\t<input  data-dojo-attach-point=\"node9\"  data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='style:\"float:left\",\"class\":\"prmaxdefault\",type:\"checkbox\",value:\"9\"' /><label class=\"labeltag\" data-dojo-attach-point=\"node9label\" >Parliamentary</label>\r\n\t\t\t\t\t<div class=\"imagebox\" style=\"display:inline\">&nbsp;<img src=\"/prmax_common_s/images/outlet_fill.gif\" data-dojo-attach-point=\"node9button\"></div>\r\n\t\t\t\t\t</div></td>\r\n\t\t\t\t</tr>\r\n\t\t\t</table>\r\n\t\t\t<br/>\r\n\t\t\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\" >\r\n\t\t\t\t  <tr><td width=\"48%\"><select style=\"width:100%\" data-dojo-attach-point=\"outlet_type_list\" size=\"${size}\" class=\"lists\" multiple=\"multiple\" ></select></td>\r\n\t\t\t\t  <td >\r\n\t\t\t\t  <button data-dojo-attach-point=\"button_all\" data-dojo-props='\"class\":\"button_add_add\",style:\"padding:0px;margin:0px\",disabled:true,type:\"button\"' data-dojo-attach-event=\"onClick:_outlet_type_select_all\" data-dojo-type=\"dijit/form/Button\"><div class=\"std_movement_button\">&gt;&gt;</div></button><br/>\r\n\t\t\t\t  <button data-dojo-attach-point=\"button_single\" data-dojo-props='\"class\":\"button_add_single\",style:\"padding:0px;margin:0px\",disabled:true,type:\"button\"' data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:_outlet_type_select_single\"><div class=\"std_movement_button\">&gt;&nbsp;</div></button><br/>\r\n\t\t\t\t  <button data-dojo-attach-point=\"button_del_all\" data-dojo-props='\"class\":\"button_del_all\",style:\"padding:0px;margin:0px\",disabled:true,type:\"button\"'  data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:_outlet_type_remove_all\"><div class=\"std_movement_button\">&lt;&lt;</div></button><br/>\r\n\t\t\t\t  <button data-dojo-attach-point=\"button_del_single\" data-dojo-props='\"class\":\"button_del_single\",style:\"padding:0px;margin:0px\",disabled:true,type:\"button\"'  data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:_outlet_type_remove_single\"><div class=\"std_movement_button\">&lt;&nbsp;</div></button></td>\r\n\t\t\t\t  <td width=\"48%\"><select style=\"width:100%\" data-dojo-attach-point=\"outlet_type_select\" size=\"${size}\" class=\"lists\" multiple=\"multiple\" ></select></td></tr>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n","url:prcommon2/outlet/templates/OutletSelectPanel.html":"<div>\r\n\t\t<div data-dojo-props='region:\"top\",style:\"width:100%;height:50px;padding-top:10px\"'  data-dojo-type=\"dijit/layout/ContentPane\">\r\n\t\t\t<label class=\"prmaxrowtag\" >Outlet Name</label><input data-dojo-props='style:\"width:300px\",name:\"outletname\",type:\"text\",trim:true' data-dojo-attach-point=\"outletname\" data-dojo-type=\"dijit/form/TextBox\" ></input></br>\r\n\t\t</div>\r\n\t<div data-dojo-props='region:\"center\",splitter:true' data-dojo-attach-point=\"select_search_view\" data-dojo-type=\"dijit/layout/ContentPane\"></div>\r\n\t<div data-dojo-props='region:\"bottom\",style:\"width:100%\",height:\"2em\"'  data-dojo-type=\"dijit/layout/ContentPane\">\r\n\t\t<button data-dojo-attach-event=\"onClick:_close\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Close\"'></button>\r\n\t\t<button data-dojo-attach-point=\"searchbutton\" data-dojo-attach-event=\"onClick:_search\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='style:\"float:right\",\"class\":\"prmaxbutton\",label:\"Search\"' ></button>\r\n\t</div>\r\n</div>\r\n","url:prmaxquestionnaires/pages/templates/Freelance.html":"<div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"left\",style:\"width:50%;height:100%\"' class=\"scrollpanel\">\r\n\t\t<form  data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\" data-dojo-props='onsubmit:\"return false;\"'>\r\n\t\t\t<input data-dojo-props='type:\"hidden\",name:\"questionnaireid\",value:\"-1\"' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"questionnaireid\">\r\n\t\t\t<table width=\"100%\" cellspacing=\"1\" cellpadding=\"1\">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" class=\"prmaxrowtag\" width=\"120px\">Name</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<table style=\"width:99%;border-collapse:collapse;\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\">\r\n\t\t\t\t\t\t\t<tr><td class=\"prmaxrowtag\" width=\"50px\">Prefix</td><td class=\"prmaxrowtag\" width=\"120px\">First</td>\r\n\t\t\t\t\t\t\t\t\t\t<td class=\"prmaxrowtag\">Surname</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td><input data-dojo-props='type:\"text\",trim:true,style:\"width: 2em\",\"class\":\"prmaxinput\",name:\"prefix\"' data-dojo-attach-point=\"prefix\" data-dojo-type=\"dijit/form/TextBox\"></input></td>\r\n\t\t\t\t\t\t\t\t<td><input data-dojo-props= '\"class\":\"prmaxinput\",name:\"firstname\",style:\"width: 5em;\",type:\"text\",trim:true' data-dojo-attach-point=\"firstname\" data-dojo-type=\"dijit/form/TextBox\"></input></td>\r\n\t\t\t\t\t\t\t\t<td><input data-dojo-attach-point=\"familyname\" data-dojo-props='name:\"familyname\", type:\"text\", trim:true, required:\"true\",style:\"width: 18em\"' data-dojo-type=\"dijit/form/ValidationTextBox\"></input></td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Www</td><td><input data-dojo-attach-point=\"www\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"www\",type:\"text\",maxlength:\"120\",style:\"width:90%\",trim:true' /></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Blog</td><td><input data-dojo-attach-point=\"blog\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"blog\",type:\"text\",maxlength:\"120\",style:\"width:90%\",trim:true' /></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Address</td><td><input data-dojo-attach-point=\"address1\" data-dojo-props='name:\"address1\",type:\"text\",trim:true,invalidMessage:\"Please enter address\",style:\"width:70%\"' data-dojo-type=\"dijit/form/ValidationTextBox\"></input></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Street/District</td><td><input data-dojo-attach-point=\"address2\"data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"address2\",type:\"text\",trim:true,style:\"width:70%\"'></input></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Town/City</td><td><input data-dojo-attach-point=\"townname\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"townname\",type:\"text\",trim:true,style:\"width:70%\"'></input></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">County</td><td><input data-dojo-attach-point=\"county\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"county\",type:\"text\",trim:true,style:\"width:70%\"'></input></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Post code</td><td><input data-dojo-attach-point=\"postcode\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"postcode\",type:\"text\",trim:true,style:\"width:10em\"'></input></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Country</td><td><select data-dojo-props='style:\"width:90%\",name:\"countryid\",autoComplete:true,searchAttr:\"name\",required:true,invalidMessage:\"Please select Country Name\",labelType:\"html\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"countryid\"></select></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Tel</td><td><input data-dojo-attach-point=\"tel\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"tel\",type:\"text\",maxlength:40,trim:true,style:\"width:60%\"' /></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Mobile</td><td><input data-dojo-attach-point=\"mobile\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"mobile\",type:\"text\",maxlength:40,trim:true,style:\"width:60%\"' /></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Fax</td><td><input data-dojo-attach-point=\"fax\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"fax\",type:\"text\",maxlength:40, trim:true,style:\"width:60%\"'/></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Email</td><td><input data-dojo-attach-point=\"email\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"email\",type:\"text\",pattern:dojox.validate.regexp.emailAddress, trim:true,invalidMessage:\"invalid email address\",size:20,maxlength:70,style:\"width:90%\"'></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Twitter</td><td><input data-dojo-attach-point=\"twitter\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='name:\"twitter\",type:\"text\",maxlength:80,trim:true,style:\"width:90%\"'/>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Facebook</td><td><input data-dojo-attach-point=\"facebook\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"facebook\",type:\"text\",maxlength:80,trim:true,style:\"width:90%\"'/></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Linkedin</td><td><input data-dojo-attach-point=\"linkedin\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"linkedin\",type:\"text\",maxlength:80,trim:true,style:\"width:90%\"' /></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Instagram</td><td><input data-dojo-attach-point=\"instagram\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"instagram\",type:\"text\",maxlength:80,trim:true,style:\"width:90%\"' /></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Writes about&nbsp;</td><td data-dojo-attach-point=\"interests_org\"></td></tr>\r\n\t\t\t\t<tr><td class=\"prmaxrowtag\" colspan=\"2\" valign=\"top\">Update Writes about - In the box below please add, amend or request deletion of the areas of interest.</td></tr>\r\n\t\t\t\t<tr><td></td><td><div class=\"fixedsmalltextframe\"><textarea data-dojo-attach-point=\"interests\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"interests\",style:\"width:99%;height:99%\",placeHolder:\"add, amend or request deletion of the areas of interest\"'></textarea></div></td></tr>\r\n\t\t</table>\r\n\t\t</form>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"right\",style:\"width:50%;height:100%\"' class=\"scrollpanel\">\r\n\t\t<div style=\"border:1px solid black;text-align: center;vertical-align: middle; margin: auto;margin: 5%;font-size:1.1em;padding:4px\">\r\n\t\t\t<p style=\"text-align:center\"><b>Welcome to the PRmax freelancer update</b></p>\r\n\t\t\t<p style=\"text-align:center\">Please check the information in the fields and amend as necessary.</p>\r\n\t\t\t<p style=\"text-align:center\">You can save any amendments made at anytime by selecting the \"Save\" button in the bottom right hand corner of the screen.</p>\r\n\t\t\t<p style=\"text-align:center\">The end date for this round of updates is given in the top right hand corner of the screen. In total you will receive two reminders to update your listing before this round of updates ends.</p>\r\n\t\t\t<p style=\"text-align:center\">When your update is complete press the Save button and close the browser tab or page.</p>\r\n\t\t\t<p style=\"text-align:center\">If you have any questions please email the Research team at <a data-dojo-attach-point=\"support_email_address\" target=\"_blank\" href=\"mailto:updatesh@prmax.co.uk\">updates@prmax.co.uk</a></p>\r\n\t\t</div>\r\n\t\t<br/>\r\n\t\t<p style=\"text-align:center\" class=\"prmaxrowtag\">Profile</p>\r\n\t\t<div class=\"stdtextframe2\"><textarea data-dojo-attach-point=\"editorialprofile\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"editorialprofile\",style:\"width:99%;height:99%;font-family:sans-serif;font-size:10pt\"' ></textarea></div>\r\n\t</div>\r\n</div>\r\n","url:prcommon2/outlet/templates/OutletSelectDetails.html":"<div>\r\n\t<div data-dojo-type=\"dijit/layout/TabContainer\" data-dojo-props='region:\"center\"'>\r\n\t\t<div data-dojo-attach-point=\"details\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='style:\"width:100%;height:100%\",title:\"Outlet Details\",\"class\":\"scrollpanel\"'>\r\n\t\t\t<table cellspacing=\"0\" cellpadding=\"1\" width=\"99%\" style=\"margin-top:5px\">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Outlet Name</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"outletname\",type:\"text\", disabled:true, style:\"width:400px;\"' data-dojo-attach-point=\"outletname\" data-dojo-type=\"dijit/form/TextBox\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Web</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<span><input data-dojo-props='name:\"www\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"www\" data-dojo-type=\"dijit/form/TextBox\"/></span>\r\n\t\t\t\t\t\t<span><div data-dojo-attach-point=\"www_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Address</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"address\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"address\" data-dojo-type=\"dijit/form/TextBox\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Country</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"country\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"country\" data-dojo-type=\"dijit/form/FilteringSelect\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Tel</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"tel\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"tel\" data-dojo-type=\"dijit/form/TextBox\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Email</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"email\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"email\" data-dojo-type=\"dijit/form/TextBox\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Twitter</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<span><input data-dojo-props='name:\"twitter\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"twitter\" data-dojo-type=\"dijit/form/TextBox\"/></span>\r\n\t\t\t\t\t\t<span><div data-dojo-attach-point=\"twitter_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Facebook</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<span><input data-dojo-props='name:\"facebook\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"facebook\" data-dojo-type=\"dijit/form/TextBox\"/></span>\r\n\t\t\t\t\t\t<span><div data-dojo-attach-point=\"facebook_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Instagram</td>\r\n\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<span><input data-dojo-props='name:\"instagram\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"instagram\" data-dojo-type=\"dijit/form/TextBox\"/></span>\r\n\t\t\t\t\t\t<span><div data-dojo-attach-point=\"instagram_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Circulation</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"circulation\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"circulation\" data-dojo-type=\"dijit/form/TextBox\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Frequency</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"frequency\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"frequency\" data-dojo-type=\"dijit/form/FilteringSelect\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Cost</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"cost\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"cost\" data-dojo-type=\"dijit/form/FilteringSelect\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Sqcm</td>\r\n\t\t\t\t\t<td><input data-dojo-props='sqcm:\"type\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"sqcm\" data-dojo-type=\"dijit/form/TextBox\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Type</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"prmax_outlettypeid\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"prmax_outlettypeid\" data-dojo-type=\"dijit/form/FilteringSelect\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" valign=\"top\" class=\"prmaxrowtag\" width=\"20%\">Keywords</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"keywords\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"keywords\" data-dojo-type=\"dijit/form/Textarea\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t\t<div data-dojo-attach-point=\"profile\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='style:\"width:100%;height:100%\",title:\"Outlet Profile\",\"class\":\"scrollpanel\"'>\r\n\t\t\t<table cellspacing=\"0\" cellpadding=\"1\" width=\"99%\" style=\"margin-top:5px\">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" valign=\"top\" class=\"prmaxrowtag\" width=\"20%\">Profile</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"profile\",type:\"text\", disabled:true, style:\"width:400px;\"' data-dojo-attach-point=\"profile\" data-dojo-type=\"dijit/form/Textarea\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" valign=\"top\" class=\"prmaxrowtag\" width=\"20%\">Publisher</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"publisherid\", type:\"text\", disabled:true, style:\"width:400px;\"' data-dojo-attach-point=\"publisherid\" data-dojo-type=\"dijit/form/FilteringSelect\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" valign=\"top\" class=\"prmaxrowtag\" width=\"20%\">Editorial Profile</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"editorialprofile\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"editorialprofile\" data-dojo-type=\"dijit/form/Textarea\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" valign=\"top\" class=\"prmaxrowtag\" width=\"20%\">Language</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"language\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"language\" data-dojo-type=\"dijit/form/FilteringSelect\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" valign=\"top\" class=\"prmaxrowtag\" width=\"20%\">Readership/Audience</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"readership\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"readership\" data-dojo-type=\"dijit/form/Textarea\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" valign=\"top\" class=\"prmaxrowtag\" width=\"20%\">PAMco</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"nrsreadership\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"nrsreadership\" data-dojo-type=\"dijit/form/Textarea\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" valign=\"top\" class=\"prmaxrowtag\" width=\"20%\">JICREG Readership</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"jicregreadership\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"jicregreadership\" data-dojo-type=\"dijit/form/Textarea\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" valign=\"top\" class=\"prmaxrowtag\" width=\"20%\">Coverage</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"coverage\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"coverage\" data-dojo-type=\"dijit/form/Textarea\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" valign=\"top\" class=\"prmaxrowtag\" width=\"20%\">Broadcast Times</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"broadcasttimes\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"broadcasttimes\" data-dojo-type=\"dijit/form/Textarea\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" valign=\"top\" class=\"prmaxrowtag\" width=\"20%\">Series Members</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"serieschildren\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"serieschildren\" data-dojo-type=\"dijit/form/Textarea\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='style:\"width:100%;height:40px\",region:\"bottom\"'>\r\n\t\t<table cellspacing=\"0\" cellpadding=\"1\" width=\"99%\">\r\n\t\t\t<tr>\r\n\t\t\t\t<td width=\"33%\" align=\"left\" data-dojo-attach-point=\"close_button\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Close\"' data-dojo-attach-event=\"onClick:_close\"></button></td>\r\n\t\t\t</tr>\r\n\t\t</table>\r\n\t</div>\r\n</div>\r\n","url:prmaxquestionnaires/main/templates/banner.html":"<div class=\"banner_body\">\r\n<div style=\"float:left;width:100%\">\r\n\t<p style=\"float:left\" class=\"mb_details_large\">Your update for&nbsp;<span data-dojo-attach-point=\"title_text\"></span></p>\r\n\t<p style=\"float:right\" class=\"mb_details_large\">The deadline for this update is: <span data-dojo-attach-point=\"deadline_text\"></span></p>\r\n</div>\r\n\t<ul class=\"main-menu\" style=\"float:right;text-align:right\">\r\n\t\t<li data-dojo-attach-event=\"onclick:_show_title\" data-dojo-attach-point=\"title_view\" class=\"first selected\"><a title=\"1. Name &amp; Address\" >1.Name &amp; Address</a></li>\r\n\t\t<li data-dojo-attach-event=\"onclick:_show_journalists\" data-dojo-attach-point=\"journalists_view\" class=\"std\"><a title=\"2. Journalists\">2. Journalists</a></li>\r\n\t\t<li data-dojo-attach-event=\"onclick:_show_profile\" data-dojo-attach-point=\"profile_view\" class=\"std\"><a title=\"3. Profile\">3. Profile</a></li>\r\n\t\t<li data-dojo-attach-event=\"onclick:_show_geographical_coverage\" data-dojo-attach-point=\"geographical_coverage_view\" class=\"std\"><a title=\"4. Geographical Coverage\">4. Coverage</a></li>\r\n\t\t<li data-dojo-attach-event=\"onclick:_show_related_outlets\" data-dojo-attach-point=\"related_outlets_view\" class=\"last\"><a title=\"5. Your Details\">5. Your Details</a></li>\r\n\t</ul>\r\n</div>\r\n","url:dijit/form/templates/TextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\" id=\"widget_${id}\" role=\"presentation\"\r\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\r\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\r\n\t\t\t${!nameAttrSetting} type='${type}'\r\n\t/></div\r\n></div>\r\n","url:prcommon2/web/templates/WebButton.html":"<span>\r\n\t<button data-dojo-attach-point=\"webbutton\" data-dojo-attach-event=\"onClick:_open_url_new_tab\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",source:\"\"'><i class=\"fa fa-eye\" aria-hidden=\"true\"></i></button>\r\n<span>\r\n","url:prmaxquestionnaires/pages/templates/MainDetails.html":"<div >\r\n\t\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"left\",style:\"width:50%;height:100%\"' class=\"scrollpanel\" >\r\n\t\t\t<form  data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\" data-dojo-props='onsubmit:\"return false;\"'>\r\n\t\t\t\t<input data-dojo-props='type:\"hidden\",name:\"questionnaireid\",value:\"-1\"' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"questionnaireid\">\r\n\t\t\t\t<table width=\"100%\" cellspacing=\"1\" cellpadding=\"1\">\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" width=\"100px\">Outlet Name</td><td><input data-dojo-props='style:\"width:90%\",name:\"outletname\",type:\"text\",trim:true,required:true,invalidMessage:\"Please enter outletname\"' data-dojo-attach-point=\"outletname\" data-dojo-type=\"dijit/form/ValidationTextBox\" ></input></td></tr>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Sub-title</td><td><input data-dojo-props='style:\"width:90%\",name:\"subtitle\",type:\"text\",trim:true' data-dojo-attach-point=\"subtitle\" data-dojo-type=\"dijit/form/ValidationTextBox\" ></input></td></tr>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Incorporating</td><td><input data-dojo-props='style:\"width:90%\",name:\"incorporating\",type:\"text\",trim:true' data-dojo-attach-point=\"incorporating\" data-dojo-type=\"dijit/form/ValidationTextBox\" ></input></td></tr>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Official Journal of</td><td><input data-dojo-props='style:\"width:90%\",name:\"officialjournalof\",type:\"text\",trim:true' data-dojo-attach-point=\"officialjournalof\" data-dojo-type=\"dijit/form/ValidationTextBox\" ></input></td></tr>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Www</td><td><input data-dojo-attach-point=\"www\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"www\",type:\"text\",maxlength:\"120\",style:\"width:90%\"' /></td></tr>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Address</td><td><input data-dojo-attach-point=\"address1\" data-dojo-props='name:\"address1\",type:\"text\",trim:true,invalidMessage:\"Please enter address\",style:\"width:70%\",required:false' data-dojo-type=\"dijit/form/ValidationTextBox\"></input></td></tr>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Street/District</td><td><input data-dojo-attach-point=\"address2\"data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"address2\",type:\"text\",trim:true,style:\"width:70%\"'></input></td></tr>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Town/City</td><td><input data-dojo-attach-point=\"townname\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"townname\",type:\"text\",trim:true,style:\"width:70%\"' ></input></td></tr>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">County</td><td><input data-dojo-attach-point=\"county\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"county\",type:\"text\",trim:true,style:\"width:70%\"' ></input></td></tr>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Post code</td><td><input data-dojo-attach-point=\"postcode\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"postcode\",type:\"text\",trim:true,style:\"width:10em\"' ></input></td></tr>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Country</td><td><select data-dojo-props='style:\"width:90%\",name:\"countryid\",autoComplete:true,searchAttr:\"name\",required:true,invalidMessage:\"Please select Country Name\",labelType:\"html\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"countryid\"></select></td></tr>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Tel</td><td><input data-dojo-attach-point=\"tel\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"tel\",type:\"text\",maxlength:40,trim:true,style:\"width:60%\"' /></td></tr>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Fax</td><td><input data-dojo-attach-point=\"fax\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"fax\",type:\"text\",maxlength:40, trim:true,style:\"width:60%\"'/></td></tr>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">General Email</td><td><input data-dojo-attach-point=\"email\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"email\",type:\"text\",pattern:dojox.validate.regexp.emailAddress, trim:true,invalidMessage:\"invalid email address\",size:20,maxlength:70,style:\"width:90%\"'></td></tr>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Twitter</td><td><input data-dojo-attach-point=\"twitter\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='name:\"twitter\",type:\"text\",maxlength:80,trim:true,style:\"width:90%\"'/>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Facebook</td><td><input data-dojo-attach-point=\"facebook\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"facebook\",type:\"text\",maxlength:80,trim:true,style:\"width:90%\"'/></td></tr>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Linkedin</td><td><input data-dojo-attach-point=\"linkedin\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"linkedin\",type:\"text\",maxlength:80,trim:true,style:\"width:90%\"' /></td></tr>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Instagram</td><td><input data-dojo-attach-point=\"instagram\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"instagram\",type:\"text\",maxlength:80,trim:true,style:\"width:90%\"' /></td></tr>\r\n\t\t\t\t</table>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"right\",style:\"width:50%;height:100%\"' class=\"scrollpanel\" >\r\n\t\t\t<div style=\"border:1px solid black;text-align: center;vertical-align: middle; margin: auto;margin: 5%;font-size:1.1em;padding:4px\">\r\n\t\t\t\t<p><b>Welcome to the PRmax media outlet update wizard</b></p>\r\n\t\t\t\t<p>Working through the wizard will mean the details we hold about your outlet and its journalists will be accurate and up-to-date.</p>\r\n\t\t\t\t<p>Please check the information in the fields to the left and amend as necessary. Then select the \"Next\" button in the bottom right hand corner of the screen to move to the next step in the wizard.</p>\r\n\t\t\t\t<p>There are five steps in total as indicated by the progress tabs that run along the top of the screen. You can move forward and back through the wizard at anytime.</p>\r\n\t\t\t\t<p>You can save any amendments made at anytime by selecting the \"Save\" button in the bottom right hand corner of each tab.</p>\r\n\t\t\t\t<p>The end date for this round of updates is given in the top right hand corner of the screen. In total you will receive two reminders to update your outlet before this round of updates ends.</p>\r\n\t\t\t\t<p>If the details are correct or when you have completed your update press the Save button and close the browser tab or page.</p>\r\n\t\t\t\t<p>If you have any questions please email the Research team at <a data-dojo-attach-point=\"support_email_address\" target=\"_blank\" href=\"mailto:updates@prmax.co.uk\">updates@prmax.co.uk</a></p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n</div>\r\n","url:prmaxquestionnaires/pages/templates/DeskDetails.html":"<div >\r\n\t\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"left\",style:\"width:50%;height:100%\"' class=\"scrollpanel\" >\r\n\t\t\t<form  data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\" data-dojo-props='onsubmit:\"return false;\"'>\r\n\t\t\t\t<input data-dojo-props='type:\"hidden\",name:\"questionnaireid\",value:\"-1\"' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"questionnaireid\">\r\n\t\t\t\t<table width=\"100%\" cellspacing=\"1\" cellpadding=\"1\">\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" width=\"100px\">Desk Name</td><td><input data-dojo-props='style:\"width:90%\",name:\"deskname\",type:\"text\",trim:true,required:true,invalidMessage:\"Please enter deskname\"' data-dojo-attach-point=\"deskname\" data-dojo-type=\"dijit/form/ValidationTextBox\" ></input></td></tr>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Address</td><td><input data-dojo-attach-point=\"address1\" data-dojo-props='name:\"address1\",type:\"text\",trim:true,invalidMessage:\"Please enter address\",style:\"width:70%\",required:false' data-dojo-type=\"dijit/form/ValidationTextBox\"></input></td></tr>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Street/District</td><td><input data-dojo-attach-point=\"address2\"data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"address2\",type:\"text\",trim:true,style:\"width:70%\"'></input></td></tr>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Town/City</td><td><input data-dojo-attach-point=\"townname\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"townname\",type:\"text\",trim:true,style:\"width:70%\"' ></input></td></tr>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">County</td><td><input data-dojo-attach-point=\"county\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"county\",type:\"text\",trim:true,style:\"width:70%\"' ></input></td></tr>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Post code</td><td><input data-dojo-attach-point=\"postcode\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"postcode\",type:\"text\",trim:true,style:\"width:10em\"' ></input></td></tr>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Country</td><td><select data-dojo-props='style:\"width:90%\",name:\"countryid\",autoComplete:true,searchAttr:\"name\",required:true,invalidMessage:\"Please select Country Name\",labelType:\"html\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"countryid\"></select></td></tr>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Tel</td><td><input data-dojo-attach-point=\"tel\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"tel\",type:\"text\",maxlength:40,trim:true,style:\"width:60%\"' /></td></tr>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Fax</td><td><input data-dojo-attach-point=\"fax\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"fax\",type:\"text\",maxlength:40, trim:true,style:\"width:60%\"'/></td></tr>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Email</td><td><input data-dojo-attach-point=\"email\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"email\",type:\"text\",pattern:dojox.validate.regexp.emailAddress, trim:true,invalidMessage:\"invalid email address\",size:20,maxlength:70,style:\"width:90%\"'></td></tr>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Twitter</td><td><input data-dojo-attach-point=\"twitter\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='name:\"twitter\",type:\"text\",maxlength:80,trim:true,style:\"width:90%\"'/>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Facebook</td><td><input data-dojo-attach-point=\"facebook\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"facebook\",type:\"text\",maxlength:80,trim:true,style:\"width:90%\"'/></td></tr>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Linkedin</td><td><input data-dojo-attach-point=\"linkedin\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"linkedin\",type:\"text\",maxlength:80,trim:true,style:\"width:90%\"' /></td></tr>\r\n\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Instagram</td><td><input data-dojo-attach-point=\"instagram\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"instagram\",type:\"text\",maxlength:80,trim:true,style:\"width:90%\"' /></td></tr>\r\n\t\t\t\t</table>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"right\",style:\"width:50%;height:100%\"' class=\"scrollpanel\" >\r\n\t\t\t<div style=\"border:1px solid black;text-align: center;vertical-align: middle; margin: auto;margin: 5%;font-size:1.1em;padding:4px\">\r\n\t\t\t\t<p><b>Welcome to the PRmax editorial desk update wizard</b></p>\r\n\t\t\t\t<p>Working through the wizard will mean the details we hold about your editorial desk and its journalists will be accurate and up-to-date.</p>\r\n\t\t\t\t<p>Please check the information in the fields to the left and amend as necessary. Then select the \"Next\" button in the bottom right hand corner of the screen to move to the next step in the wizard.</p>\r\n\t\t\t\t<p>There are three steps in total as indicated by the progress tabs that run along the top of the screen. You can move forward and back through the wizard at anytime.</p>\r\n\t\t\t\t<p>You can save any amendments made at anytime by selecting the \"Save\" button in the bottom right hand corner of each tab.</p>\r\n\t\t\t\t<p>The end date for this round of updates is given in the top right hand corner of the screen. In total you will receive two reminders to update your desk before this round of updates ends.</p>\r\n\t\t\t\t<p>If the details are correct or when you have completed your update press the Save button and close the browser tab or page.</p>\r\n\t\t\t\t<p>If you have any questions please email the Research team at <a data-dojo-attach-point=\"support_email_address\" target=\"_blank\" href=\"mailto:updates@prmax.co.uk\">updates@prmax.co.uk</a></p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n</div>\r\n","url:prcommon2/search/templates/standard.html":"<table width=\"99%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\r\n<tr><td width=\"20%\" ><span class=\"prmaxrowtag\">${displayname}</span></td>\r\n<td width=\"60%\" ><input data-dojo-type=\"dijit/form/TextBox\" data-dojo-props='style:\"width:100%\",\"class\":\"prmaxinput\",type:\"text\",trim:true,maxlength:255' data-dojo-attach-point=\"datanode\" data-dojo-attach-event=\"onBlur:_on_change\"  /></td>\r\n<td align=\"right\"><div data-dojo-attach-point=\"countnode\" data-dojo-type=\"prcommon2/search/SearchCount\"></div></td></tr></table >\r\n","url:dijit/templates/Tooltip.html":"<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\" data-dojo-attach-event=\"mouseenter:onMouseEnter,mouseleave:onMouseLeave\"\r\n\t><div class=\"dijitTooltipConnector\" data-dojo-attach-point=\"connectorNode\"></div\r\n\t><div class=\"dijitTooltipContainer dijitTooltipContents\" data-dojo-attach-point=\"containerNode\" role='alert'></div\r\n></div>\r\n","url:dijit/form/templates/ComboButton.html":"<table class=\"dijit dijitReset dijitInline dijitLeft\"\r\n\tcellspacing='0' cellpadding='0' role=\"presentation\"\r\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\r\n\t\t><td class=\"dijitReset dijitStretch dijitButtonNode\" data-dojo-attach-point=\"buttonNode\" data-dojo-attach-event=\"ondijitclick:__onClick,onkeydown:_onButtonKeyDown\"\r\n\t\t><div id=\"${id}_button\" class=\"dijitReset dijitButtonContents\"\r\n\t\t\tdata-dojo-attach-point=\"titleNode\"\r\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\r\n\t\t\t><div class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\" role=\"presentation\"></div\r\n\t\t\t><div class=\"dijitReset dijitInline dijitButtonText\" id=\"${id}_label\" data-dojo-attach-point=\"containerNode\" role=\"presentation\"></div\r\n\t\t></div\r\n\t\t></td\r\n\t\t><td id=\"${id}_arrow\" class='dijitReset dijitRight dijitButtonNode dijitArrowButton'\r\n\t\t\tdata-dojo-attach-point=\"_popupStateNode,focusNode,_buttonNode\"\r\n\t\t\tdata-dojo-attach-event=\"onkeydown:_onArrowKeyDown\"\r\n\t\t\ttitle=\"${optionsTitle}\"\r\n\t\t\trole=\"button\" aria-haspopup=\"true\"\r\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" role=\"presentation\"></div\r\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" role=\"presentation\">&#9660;</div\r\n\t\t></td\r\n\t\t><td style=\"display:none !important;\"\r\n\t\t\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" data-dojo-attach-point=\"valueNode\"\r\n\t\t\t\tclass=\"dijitOffScreen\" aria-hidden=\"true\" data-dojo-attach-event=\"onclick:_onClick\"\r\n\t\t/></td></tr></tbody\r\n></table>\r\n","url:prcommon2/geographical/templates/Geographical.html":"<div class=\"dojogeographicalPane\" data-dojo-attach-point=\"containerNode\" >\r\n\t<div>\r\n\t\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\" >\r\n\t\t\t<tr><td width=\"20%\"   class=\"prmaxrowtag\">${displaytitle}</td>\r\n\t\t\t\t\t<td width=\"5%\" ><img height=\"16px\" width=\"16px\" data-dojo-attach-point=\"togglectrl\" data-dojo-attach-event=\"onclick:_toggle\" src=\"/prmax_common_s/images/toopen.gif\" class=\"toggleselect\"></img></td>\r\n\t\t\t\t\t<td align=\"right\" valign=\"top\" ><div data-dojo-attach-point=\"countnode\" data-dojo-type=\"prcommon2/search/SearchCount\"></div></td>\r\n\t\t\t</tr></table>\r\n\t\t<div style=\"border 2px solid black\">\r\n\t\t\t<div data-dojo-attach-point=\"selectarea\" class=\"prmaxselectmultiple\" style=\"display:none\" >\r\n\t\t\t\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\" >\r\n\t\t\t\t\t  <tr><td width=\"47%\"></td><td width=\"5%\"></td><td width=\"47%\"></td></tr>\r\n\t\t\t\t\t  <tr><td colspan=\"3\">\r\n\t\t\t\t\t\t  <table style=\"width:100%\" class=\"prmaxtable\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" >\r\n\t\t\t\t\t\t\t  <tr>\r\n\t\t\t\t\t\t\t\t  <td data-dojo-attach-point=\"master_type_text\"><span class=\"prmaxrowtag\">Select</span><input data-dojo-props='\"class\":\"prmaxfocus prmaxinput\",type:\"text\",style:\"width:100px\"' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"geographical_list_select\" data-dojo-attach-event=\"onkeyup:_geographical_select_func\" /></td>\r\n\t\t\t\t\t\t<td style=\"padding-left:10px\"> <span class=\"prmaxrowtag\" >Filter By</span>\r\n\t\t\t\t\t\t\t\t<input data-dojo-attach-event=\"onClick:_show_no_filter\" data-dojo-attach-point=\"filter_radio_restriction\" data-dojo-type=\"dijit/form/RadioButton\" data-dojo-props='name:\"geog_selection\",\"class\":\"prmaxdefault\",checked:\"checked\",type:\"radio\",value:\"-1\"'/><label data-dojo-attach-point=\"filter_radio_restriction_label\" class=\"prmaxlabeltag\" >All</label>\r\n\t\t\t\t\t\t\t\t<input data-dojo-attach-event=\"onClick:_show_all\" data-dojo-attach-point=\"filter_radio_town\" data-dojo-type=\"dijit/form/RadioButton\" data-dojo-props='name:\"geog_selection\",\"class\":\"prmaxdefault\",type:\"radio\",value:\"1\"'/><label data-dojo-attach-point=\"filter_radio_town_label\" class=\"prmaxlabeltag\" >Towns</label>\r\n\t\t\t\t\t\t\t\t<input data-dojo-attach-event=\"onClick:_show_all\" data-dojo-attach-point=\"filter_radio_county\" data-dojo-type=\"dijit/form/RadioButton\" data-dojo-props='name:\"geog_selection\",\"class\":\"prmaxdefault\",type:\"radio\",value:\"2\"'/><label data-dojo-attach-point=\"filter_radio_county_label\" class=\"prmaxlabeltag\" >Counties</label>\r\n\t\t\t\t\t\t\t\t<input data-dojo-attach-event=\"onClick:_show_all\" data-dojo-attach-point=\"filter_radio_region\" data-dojo-type=\"dijit/form/RadioButton\" data-dojo-props='name:\"geog_selection\",\"class\":\"prmaxdefault\",type:\"radio\",value:\"3\"'/><label data-dojo-attach-point=\"filter_radio_region_label\" class=\"prmaxlabeltag\" >Regions</label>\r\n\t\t\t\t\t\t\t\t<input data-dojo-attach-event=\"onClick:_show_all\" data-dojo-attach-point=\"filter_radio_nation\" data-dojo-type=\"dijit/form/RadioButton\" data-dojo-props='name:\"geog_selection\",\"class\":\"prmaxdefault\",type:\"radio\",value:\"6\"'/><label data-dojo-attach-point=\"filter_radio_nation_label\" class=\"prmaxlabeltag\" >Nation</label>\r\n\t\t\t\t\t\t</td><td width=\"5%\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\"' data-dojo-attach-event=\"onClick:_tree_view\">Tree</button></td>\r\n\t\t\t\t\t\t</tr></table>\r\n\t\t\t\t\t</td></tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td><select style=\"width:100%\" data-dojo-attach-point=\"geographical_list\" size=\"${size}\" class=\"lists\" multiple=\"multiple\" ></select></td>\r\n\t\t\t\t\t\t  <td>\r\n\t\t\t\t\t\t\t<button data-dojo-attach-point=\"button_all\" data-dojo-props='\"class\":\"button_add_all\",style:\"padding:0px;margin:0px\",disabled:true,type:\"button\"' data-dojo-attach-event=\"onClick:geographical_select_all\" data-dojo-type=\"dijit/form/Button\"><div class=\"std_movement_button\">&gt;&gt;</div></button><br/>\r\n\t\t\t\t\t\t\t<button data-dojo-attach-point=\"button_single\" data-dojo-props='\"class\":\"button_add_single\",style:\"padding:0px;margin:0px\",disabled:true,type:\"button\"' data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:geographical_select_single\"><div class=\"std_movement_button\">&gt;&nbsp;</div></button><br/>\r\n\t\t\t\t\t\t\t<button data-dojo-attach-point=\"button_del_all\" data-dojo-props='\"class\":\"button_del_all\",style:\"padding:0px;margin:0px\",disabled:true,type:\"button\"' data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:geographical_remove_all\"><div class=\"std_movement_button\">&lt;&lt;</div></button><br/>\r\n\t\t\t\t\t\t\t<button data-dojo-attach-point=\"button_del_single\" data-dojo-props='\"class\":\"button_del_single\",style:\"padding:0px;margin:0px\",disabled:true,type:\"button\"' data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:geographical_remove_single\"><div class=\"std_movement_button\">&lt;&nbsp;</div></button>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td ><select data-dojo-attach-point=\"geographical_select\" style=\"width:100%\" size=\"${size}\" class=lists\",multiple=\"multiple\" data-dojo-attach-event=\"onchange:geographical_update_selection\"></select></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t </div>\r\n\t<div data-dojo-attach-point=\"geog_tree_dlg\" data-dojo-type=\"dijit/Dialog\" title =\"Geographical Tree View\">\r\n\t\t<div data-dojo-attach-point=\"geog_tree\" data-dojo-type=\"prcommon2/geographical/GeographicalTree\" style=\"width:400px;height:500px\"></div>\r\n\t</div>\r\n\r\n </div>\r\n","url:prcommon2/roles/templates/Roles.html":"<div >\r\n\t<div class=\"dojoInterestPane\" >\r\n\t\t<div data-dojo-attach-point=\"selectarea\" style=\"display:none\" >\r\n\t\t\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\r\n\t\t\t\t  <tr><td width=\"47%\"></td><td width=\"5%\"></td><td width=\"48%\" ></td></tr>\r\n\t\t\t\t  <tr><td colspan=\"3\">\r\n\t\t\t\t  <table style=\"width:100%\" class=\"prmaxtable\" >\r\n\t\t\t\t\t  <tr>\r\n\t\t\t\t\t  <td width=\"70%\" data-dojo-attach-point=\"master_type_text\"><span class=\"prmaxrowtag\">Select </span><input class=\"prmaxfocus prmaxinput\" type=\"text\" data-dojo-type=\"dijit/form/TextBox\" data-dojo-props='style:\"width:150px\"' data-dojo-attach-point=\"interest_list_select\" data-dojo-attach-event=\"onkeyup:interest_select_event\" /></td>\r\n\t\t\t\t\t<td><div data-dojo-attach-point=\"show_search_integration\" class=\"prmaxhidden\"><label data-dojo-attach-point=\"search_only_label\">Default to Primary</label><input data-dojo-attach-point=\"search_only\"  data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='\"class\":\"prmaxdefault\",type:\"checkbox\",value:\"1\"' /></div></td></tr>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t  </td></tr>\r\n\t\t\t\t  <tr><td ><select style=\"width:100%\" name=\"roles\" data-dojo-attach-point=\"interest_list\" size=\"${size}\" class=\"lists\" multiple=\"multiple\" ></select></td>\r\n\t\t\t\t  <td >\r\n\t\t\t\t\t<button class=\"button_add_all\" style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"button_all\" data-dojo-props='disabled:true,type:\"button\"' data-dojo-attach-event=\"onClick:interest_select_all\" data-dojo-type=\"dijit/form/Button\"><div class=\"std_movement_button\">&gt;&gt;</div></button><br/>\r\n\t\t\t\t\t<button class=\"button_add_single\" style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"button_single\" data-dojo-props='disabled:true,type:\"button\"' data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:interest_select_single\"><div class=\"std_movement_button\">&gt;&nbsp;</div></button><br/>\r\n\t\t\t\t\t<button class=\"button_del_all\" style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"button_del_all\" data-dojo-props='disabled:true,type:\"button\"' data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:interest_remove_all\"><div class=\"std_movement_button\">&lt;&lt;</div></button><br/>\r\n\t\t\t\t\t<button class=\"button_del_single\" style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"button_del_single\" data-dojo-props='disabled:true,type:\"button\"' data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:interest_remove_single\"><div class=\"std_movement_button\">&lt;&nbsp;</div></button></td>\r\n\t\t\t\t  <td ><select style=\"width:100%\" data-dojo-attach-point=\"interest_select\" size=\"${size}\" class=\"lists\"  data-dojo-attach-event=\"onchange:interest_update_selection\"></select></td>\r\n\t\t\t\t  <td>\r\n\t\t\t\t\t<button  style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"up\" data-dojo-props='disabled:true,type:\"button\"' data-dojo-attach-event=\"onClick:_up_button\" data-dojo-type=\"dijit/form/Button\"><div style=\"width:2em\">Up</div></button><br/>\r\n\t\t\t\t\t<button style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"down\" data-dojo-props='disabled:true,type:\"button\"' data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:_down_button\"><div style=\"width:2em\">Down</div></button><br/>\r\n\t\t\t\t  </td></tr>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","url:prcommon2/search/templates/Frequency.html":"<div class=\"frequencies\">\r\n\t<table width=\"99%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\" >\r\n\t\t<tr><td width=\"20%\"   class=\"prmaxrowtag\">Frequency</td>\r\n\t\t\t\t<td width=\"75%\" ><select data-dojo-attach-point=\"select\" data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-props='searchAttr:\"name\",labelType:\"html\"' data-dojo-attach-event=\"onChange:_changed\" ></td>\r\n\t\t\t\t<td width=\"5%\"align=\"right\" valign=\"top\" ><div data-dojo-attach-point=\"countnode\" data-dojo-type=\"prcommon2/search/SearchCount\"></div></td>\r\n\t\t</tr>\r\n\t</table>\r\n</div>\r\n\r\n","url:prcommon2/search/templates/Publisher.html":"<div>\r\n\t<table width=\"99%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\" >\r\n\t\t<tr><td width=\"20%\" class=\"prmaxrowtag\">Publisher</td>\r\n\t\t\t\t<td width=\"75%\" ><select data-dojo-attach-point=\"select\" data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-props='pageSize:20,name:\"publisherid\",autoComplete:true,searchAttr:\"publishername\",required:false,labelType:\"html\",placeholder:\"All\",value:-1' data-dojo-attach-event=\"onChange:_changed\" ></td>\r\n\t\t\t\t<td width=\"5%\"align=\"right\" valign=\"top\" ><div data-dojo-attach-point=\"countnode\" data-dojo-type=\"prcommon2/search/SearchCount\"></div></td>\r\n\t\t</tr>\r\n\t</table>\r\n</div>\r\n","url:prmaxquestionnaires/pages/templates/GeographicalCoverage.html":"<div>\r\n\t<div data-dojo-attach-point=\"outlet_coverage_grid_view\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='splitter:false,region:\"left\",style:\"width:50%;height:100%\"'></div>\r\n\t<div data-dojo-type=\"dijit/layout/BorderContainer\" data-dojo-props='splitter:false,region:\"center\"'>\r\n\t\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='splitter:false,region:\"top\",style:\"width:100%;height:30%;border:1px solid black;text-align: center;vertical-align: middle; margin: auto;font-size:1.1em;padding:4px\"'>\r\n\t\t\t<p><b>Geographic coverage</b></p>\r\n\t\t\t<p>If your outlet targets a particular area of the <span data-dojo-attach-point=\"country_name\">United Kingdom</span> it is displayed in the left hand pane of the screen.</p>\r\n\t\t\t<p>If you would like to amend the information then please comment in the box below and we will amend accordingly.</p>\r\n\t\t</div>\r\n\t\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='splitter:false,region:\"center\"'>\r\n\t\t\t<form  data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\" data-dojo-props='onsubmit:\"return false;\"'>\r\n\t\t\t\t<input data-dojo-props='type:\"hidden\",name:\"questionnaireid\",value:\"-1\"' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"questionnaireid\">\r\n\t\t\t\t<div class=\"stdtextframe\" ><textarea data-dojo-attach-point=\"geognotes\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"geognotes\",style:\"width:99%;height:99%\"'  ></textarea></div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","url:prmaxquestionnaires/pages/templates/Journalists.html":"<div >\r\n\t<div data-dojo-type=\"dijit/layout/BorderContainer\" data-dojo-props='style:\"width:50%;height:100%\",splitter:true,region:\"left\",gutters:true'>\r\n\t\t<div data-dojo-attach-point=\"outlet_contact_grid_view\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='splitter:false,region:\"center\"'></div>\r\n\t\t<div data-dojo-props='region:\"bottom\",style:\"width:100%;height:44px\"' data-dojo-type=\"dijit/layout/ContentPane\" >\r\n\t\t\t\t<table style=\"width:100%;border-collapse:collapse;\" border=\"0\">\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td align=\"left\"><button data-dojo-attach-event=\"onClick:_show_add\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Add Journalist\"'></button></td>\r\n\t\t\t\t\t\t<td><p>Click on a name to edit the details of the journalist</p></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t</div>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/StackContainer\" data-dojo-attach-point=\"contact_edit_container\" data-dojo-props='region:\"center\",splitter:true' >\r\n\t\t<div data-dojo-props='title:\"blank_cont_view\"' data-dojo-attach-point=\"blank_cont_view\" data-dojo-type=\"dijit/layout/ContentPane\" ></div>\r\n\t\t<div data-dojo-props='title:\"contact_edit\"' data-dojo-attach-point=\"contact_edit_view\" data-dojo-type=\"dijit/layout/BorderContainer\">\r\n\t\t\t<div data-dojo-props='title:\"contact_edit\",\"class\":\"scrollpanel\",region:\"center\"' data-dojo-attach-point=\"contact_edit\" data-dojo-type=\"dijit/layout/ContentPane\">\r\n\t\t\t\t<form  data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\" data-dojo-props='onsubmit:\"return false;\"'>\r\n\t\t\t\t\t<input data-dojo-props='type:\"hidden\",name:\"objectid\",value:\"-1\"' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"objectid\">\r\n\t\t\t\t\t<input data-dojo-props='type:\"hidden\",name:\"questionnaireid\",value:\"-1\"' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"questionnaireid\">\r\n\t\t\t\t\t<input data-dojo-props='type:\"hidden\",name:\"typeid\",value:\"E\"' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"typeid\">\r\n\t\t\t\t\t<p class=\"prmaxrowdisplaylarge\" style=\"text-align:center\" data-dojo-attach-point=\"contact_mode\"></p>\r\n\t\t\t\t\t<table style=\"width:100%;border-collapse:collapse;\" cellspacing=\"1\" cellpadding=\"1\" border=\"0\">\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td align=\"right\" class=\"prmaxrowtag\" width=\"120px\">Contact</td>\r\n\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t<table style=\"width:99%;border-collapse:collapse;\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\">\r\n\t\t\t\t\t\t\t\t\t<tr><td class=\"prmaxrowtag\" width=\"50px\" >Prefix</td><td class=\"prmaxrowtag\" width=\"120px\" >First</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"prmaxrowtag\">Surname</td>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<td><input data-dojo-props='type:\"text\",trim:true,style:\"width: 2em\",\"class\":\"prmaxinput\",name:\"prefix\"' data-dojo-attach-point=\"prefix\" data-dojo-type=\"dijit/form/TextBox\" ></input></td>\r\n\t\t\t\t\t\t\t\t\t\t<td><input data-dojo-props= '\"class\":\"prmaxinput\",name:\"firstname\",style:\"width: 5em;\",type:\"text\",trim:true' data-dojo-attach-point=\"firstname\" data-dojo-type=\"dijit/form/TextBox\" ></input></td>\r\n\t\t\t\t\t\t\t\t\t\t<td><input data-dojo-attach-point=\"familyname\" data-dojo-props='name:\"familyname\", type:\"text\", trim:true, required:\"true\",style:\"width: 18em\"' data-dojo-type=\"dijit/form/ValidationTextBox\" ></input></td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Job Title</td><td><input data-dojo-attach-point=\"job_title\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='name:\"job_title\",type:\"text\",maxlength:80,trim:true,required:true,style:\"width:90%\"'/></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Direct Tel</td><td><input data-dojo-attach-point=\"tel\" data-dojo-props='\"class\":\"prmaxinput\",name:\"tel\",type:\"text\",size:25,maxlength:40' data-dojo-type=\"dijit/form/TextBox\"/></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Fax</td><td><input data-dojo-attach-point=\"fax\" data-dojo-type=\"dijit/form/TextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"fax\",type:\"text\",size:25,maxlength:40' /></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Mobile</td><td><input data-dojo-props='\"class\":\"prmaxinput\",name:\"mobile\",type:\"text\",size:25,maxlength:40' data-dojo-attach-point=\"mobile\" data-dojo-type=\"dijit/form/TextBox\"/></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Email</td><td ><input data-dojo-attach-point=\"email\"  data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"email\",type:\"text\",pattern:dojox.validate.regexp.emailAddress,trim:true,invalidMessage:\"invalid email address\",style:\"width:90%\",maxlength:70'></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Twitter</td><td><input data-dojo-attach-point=\"twitter\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='name:\"twitter\",type:\"text\",maxlength:80,trim:true,style:\"width:70%\"'/></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Facebook</td><td><input data-dojo-attach-point=\"facebook\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"facebook\",type:\"text\",maxlength:80,trim:true,style:\"width:90%\"'/></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Linkedin</td><td><input data-dojo-attach-point=\"linkedin\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"linkedin\",type:\"text\",maxlength:80,trim:true,style:\"width:90%\"' /></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Instagram</td><td><input data-dojo-attach-point=\"instagram\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"instagram\",type:\"text\",maxlength:80,trim:true,style:\"width:90%\"' /></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Different Address</td><td><input data-dojo-props='name:\"alt_address\",type:\"checkbox\"' data-dojo-attach-point=\"no_address\"  data-dojo-type=\"dijit/form/CheckBox\" data-dojo-attach-event=\"onClick:_address_show\" /><p style=\"display:inline;padding:0px;margin:0px\">&nbsp;(If a journalist has a different address to the outlet tick the box)</p></td></tr>\r\n\t\t\t\t\t\t<tr data-dojo-attach-point=\"addr1\" class=\"prmaxhidden\" ><td align=\"right\" class=\"prmaxrowtag\">Address1</td><td><input data-dojo-attach-point=\"address1\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='style:\"margin-left:10px\",\"class\":\"prmaxinput\",name:\"address1\",type:\"text\",trim:true,invalidMessage:\"Please enter address\",style:\"width:90%\"'></input></td></tr>\r\n\t\t\t\t\t\t<tr data-dojo-attach-point=\"addr2\" class=\"prmaxhidden\" ><td align=\"right\" class=\"prmaxrowtag\">Address2</td><td><input data-dojo-attach-point=\"address2\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='style:\"margin-left:10px\",\"class\":\"prmaxinput\",name:\"address2\",type:\"text\",trim:true,style:\"width:90%\"'></input></td></tr>\r\n\t\t\t\t\t\t<tr data-dojo-attach-point=\"addr3\" class=\"prmaxhidden\" ><td align=\"right\" class=\"prmaxrowtag\">Town</td><td><input data-dojo-attach-point=\"townname\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"townname\",type:\"text\",trim:true,style:\"width:90%\"' ></input></td></tr>\r\n\t\t\t\t\t\t<tr data-dojo-attach-point=\"addr4\" class=\"prmaxhidden\" ><td align=\"right\" class=\"prmaxrowtag\">County</td><td><input data-dojo-attach-point=\"county\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"county\",type:\"text\",trim:true,style:\"width:90%\"' ></input></td></tr>\r\n\t\t\t\t\t\t<tr data-dojo-attach-point=\"addr5\" class=\"prmaxhidden\" ><td align=\"right\" class=\"prmaxrowtag\">Post Code</td><td><input data-dojo-attach-point=\"postcode\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"postcode\",type:\"text\",trim:true,style:\"width:10em\"' ></input></td></tr>\r\n\t\t\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\" >Writes about&nbsp;</td><td data-dojo-attach-point=\"interests_org\"></td></tr>\r\n\t\t\t\t\t\t<tr><td class=\"prmaxrowtag\" colspan=\"2\" valign=\"top\" >Update Writes about - In the box below please add, amend or request deletion of the areas of interest.</td></tr>\r\n\t\t\t\t\t\t<tr><td></td><td><div class=\"fixedsmalltextframe\" ><textarea data-dojo-attach-point=\"interests\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"interests\",style:\"width:99%;height:99%\",placeHolder:\"add, amend or request deletion of the areas of interest\"'  ></textarea></div></td></tr>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t\t<div data-dojo-props='region:\"bottom\",style:\"width:100%;height:50px\"' data-dojo-type=\"dijit/layout/ContentPane\">\r\n\t\t\t\t<table style=\"width:100%;border-collapse:collapse;\" border=\"0\">\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td align=\"left\"><button data-dojo-attach-point=\"removebtn\" data-dojo-attach-event=\"onClick:_remove_contact\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='type:\"button\",busyLabel:\"Please Wait Removing Journalist...\",label:\"Remove Journalist\"'></button></td>\r\n\t\t\t\t\t\t<td align=\"right\"><button data-dojo-attach-point=\"updatebtn\" data-dojo-attach-event=\"onClick:_save_contact\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='type:\"button\",busyLabel:\"Please Wait Saving ...\",label:\"Save Journalist\"'></button></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","url:prcommon2/search/templates/Countries.html":"<div data-dojo-attach-point=\"containerNode\" >\r\n\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\" >\r\n\t\t<tr><td width=\"20%\" class=\"prmaxrowtag\">${displaytitle}</td>\r\n\t\t\t\t<td width=\"5%\" ><img height=\"16px\" width=\"16px\" data-dojo-attach-point=\"togglectrl\" data-dojo-attach-event=\"onclick:_toggle\" src=\"/prmax_common_s/images/toopen.gif\" class=\"toggleselect\"></img></td>\r\n\t\t\t\t<td align=\"right\" valign=\"top\" ><div data-dojo-attach-point=\"countnode\" data-dojo-type=\"prcommon2/search/SearchCount\"></div></td>\r\n\t\t</tr>\r\n\t</table>\r\n\t<div class=\"dojoInterestPane\" >\r\n\t\t<div data-dojo-attach-point=\"selectarea\" style=\"display:none\" >\r\n\t\t\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\" >\r\n\t\t\t\t  <tr><td width=\"47%\"></td><td width=\"5%\"></td><td width=\"48%\" ></td></tr>\r\n\t\t\t\t  <tr><td colspan=\"3\">\r\n\t\t\t\t\t  <table style=\"width:100%\" class=\"prmaxtable\" >\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td width=\"40%\" data-dojo-attach-point=\"master_type_text\"><span class=\"prmaxrowtag\">Select</span><input data-dojo-type=\"dijit/form/TextBox\" data-dojo-props='\"class\":\"prmaxfocus prmaxinput\",type:\"text\",style:\"width:60%\"' data-dojo-attach-point=\"interest_list_select\" data-dojo-attach-event=\"onkeyup:interest_select_event\" /></td>\r\n\t\t\t\t\t\t\t<td width=\"3%\" align=\"right\"><input data-dojo-props='\"class\":\"prmaxdefault\",checked:\"checked\",type:\"checkbox\",value:\"2\"' data-dojo-attach-point=\"andor\" data-dojo-type=\"dijit/form/CheckBox\" data-dojo-attach-event=\"onClick:and_or\"/></td>\r\n\t\t\t\t\t\t\t<td width=\"15%\"><label data-dojo-attach-point=\"andorlabel\" class=\"prmaxlabeltag\" >All</label></td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t  </td></tr>\r\n\t\t\t\t\t  <tr><td ><select style=\"width:100%\" data-dojo-attach-point=\"interest_list\" size=\"${size}\" class=\"lists\" multiple=\"multiple\" ></select></td>\r\n\t\t\t\t  <td>\r\n\t\t\t\t  <button data-dojo-props='style:\"padding:0px;margin:0px\",disabled:\"true\",type:\"button\",\"class\":\"button_add_all\"' data-dojo-attach-point=\"button_all\" data-dojo-attach-event=\"onClick:interest_select_all\" data-dojo-type=\"dijit/form/Button\"><div class=\"std_movement_button\">&gt;&gt;</div></button><br/>\r\n\t\t\t\t  <button data-dojo-props='style:\"padding:0px;margin:0px\",disabled:\"true\",type:\"button\",\"class\":\"button_add_single\"' data-dojo-attach-point=\"button_single\" data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:interest_select_single\"><div class=\"std_movement_button\">&gt;&nbsp;</div></button><br/>\r\n\t\t\t\t  <button data-dojo-props='style:\"padding:0px;margin:0px\",disabled:\"true\",type:\"button\",\"class\":\"button_del_all\"' data-dojo-attach-point=\"button_del_all\" data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:interest_remove_all\"><div class=\"std_movement_button\">&lt;&lt;</div></button><br/>\r\n\t\t\t\t  <button data-dojo-props='style:\"padding:0px;margin:0px\",disabled:\"true\",type:\"button\",\"class\":\"button_del_single\"' data-dojo-attach-point=\"button_del_single\" data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:interest_remove_single\"><div class=\"std_movement_button\">&lt;&nbsp;</div></button></td>\r\n\t\t\t\t  <td ><select style=\"width:100%\" size=\"${size}\" class=\"lists\" multiple=\"multiple\" data-dojo-attach-point=\"interest_select\" data-dojo-attach-event=\"onchange:interest_update_selection\"></select></td>\r\n\t\t\t</tr>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t</div>\r\n</div>","url:dijit/templates/Menu.html":"<table class=\"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable\" role=\"menu\" tabIndex=\"${tabIndex}\"\r\n\t   cellspacing=\"0\">\r\n\t<tbody class=\"dijitReset\" data-dojo-attach-point=\"containerNode\"></tbody>\r\n</table>\r\n","url:dijit/form/templates/CheckBox.html":"<div class=\"dijit dijitReset dijitInline\" role=\"presentation\"\r\n\t><input\r\n\t \t${!nameAttrSetting} type=\"${type}\" role=\"${type}\" aria-checked=\"false\" ${checkedAttrSetting}\r\n\t\tclass=\"dijitReset dijitCheckBoxInput\"\r\n\t\tdata-dojo-attach-point=\"focusNode\"\r\n\t \tdata-dojo-attach-event=\"ondijitclick:_onClick\"\r\n/></div>\r\n","url:prcommon2/search/templates/SearchCount.html":"<div data-dojo-attach-point=\"innerNode\" class=\"prmaxsearchcount\">&nbsp;</div>","url:prcommon2/outlet/templates/OutletSelect.html":"<div class=\"dijit dijitReset dijitInline dijitLeft dijitTextBox dijitValidationContainer dijitInputField dijitTextBox\">\r\n\t<p style=\"float:left;position:relative;top:3px;white-space: nowrap;overflow:hidden;width:60%\" class=\"PlaceHolder dijitReset\" data-dojo-attach-point=\"display\"></p>\r\n\t<button data-dojo-attach-event=\"onClick:_select\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Select an outlet\",style:\"float:right;padding:0px;margin:0px\",iconClass:\"fa fa-search\",showLabel: false',\"class\",\"dijitReset\"></button>\r\n\t<button data-dojo-attach-point=\"clearbtn\" data-dojo-attach-event=\"onClick:_clear\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='style:\"float:right;padding:0px;margin:0px\",type:\"button\",label:\"Clear current selection\",\"class\":\"prmaxhidden dijitReset\",iconClass:\"fa fa-eraser\",showLabel: false'></button>\r\n\t<button data-dojo-attach-point=\"parentbtn\" data-dojo-attach-event=\"onClick:_load_parent_outlet\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='style:\"float:right;padding:0px;margin:0px\",type:\"button\",label:\"Load Parent Outlet\",\"class\":\"prmaxhidden dijitReset\",iconClass:\"fa fa-level-up fa-fw\",showLabel: false'></button>\r\n\t<div data-dojo-attach-point=\"select_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Select Publication\",style:\"height:590px;width:650px;overflow:hidden\"'>\r\n\t\t<div data-dojo-props='style:\"width:100%;height:250px\"' data-dojo-type=\"dijit/layout/ContentPane\">\r\n\t\t\t<div data-dojo-props='style:\"width:100%:height:250px\",\"class\":\"scrollpanel\",searchtypeid:6' data-dojo-attach-point=\"search_form_pane\" data-dojo-type=\"prcommon2/search/OutletSearch\"></div>\r\n\t\t</div>\r\n\t\t<div data-dojo-props='style:\"width:100%;height:250px;overflow:hidden\"' data-dojo-attach-point=\"select_search_view\" data-dojo-type=\"dijit/layout/ContentPane\"></div>\r\n\t\t<div data-dojo-props='style:\"width:100%;height:50px;overflow:hidden\"'  data-dojo-type=\"dijit/layout/ContentPane\">\r\n\t\t\t<button data-dojo-attach-event=\"onClick:_close\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Close\"'></button>\r\n\t\t\t<button data-dojo-attach-point=\"searchbutton\" data-dojo-attach-event=\"onClick:_search\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='style:\"float:right;padding-right:20px\",\"class\":\"prmaxbutton\",busyLabel:\"Searching...\",label:\"Search\"' ></button>\r\n\t\t</div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"selectdetails_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Publication Details\",style:\"width:600px;height:520px\"'>\r\n\t\t<div data-dojo-attach-point=\"selectdetails_ctrl\" data-dojo-type=\"prcommon2/outlet/OutletSelectDetails\" data-dojo-props='style:\"width:590px;height:490px\"'></div>\r\n\t</div>\r\n\r\n</div>\r\n\r\n\r\n\r\n","url:prmaxquestionnaires/main/templates/freelanceframe.html":"<div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"top\",style:\"width:100%;height:37px\",title:\"Banner\",\"class\":\"banner_body\"'>\r\n\t\t<div style=\"float:left;width:100%\">\r\n\t\t\t<p style=\"float:left\" class=\"mb_details_large\">Your update for &nbsp;<span data-dojo-attach-point=\"title_text\"></span></p>\r\n\t\t\t<p style=\"float:right\" class=\"mb_details_large\">The deadline for this update is: <span data-dojo-attach-point=\"deadline_text\"></span></p>\r\n\t\t</div>\r\n\t</div>\r\n\t<div data-dojo-type=\"prmaxquestionnaires/pages/Freelance\" data-dojo-attach-point=\"maindetails\" data-dojo-props='region:\"center\"'></div>\r\n\t<div  data-dojo-props='region:\"bottom\",style:\"height:55px;width:100%;overflow:hidden\"' data-dojo-attach-point=\"bottom_panel\" data-dojo-type=\"dijit/layout/ContentPane\">\r\n\t\t<table style=\"width:100%;border-collapse:collapse;\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\">\r\n\t\t\t<tr>\r\n\t\t\t\t<td><p class=\"footer_text\">Contact PRmax. Email <a data-dojo-attach-point=\"support_email_address\" href=\"mailto:updates@prmax.co.uk\" target=\"_blank\">updates@prmax.co.uk</a></p></td>\r\n\t\t\t\t<td><p class=\"footer_text\"><a href=\"http://app.prmax.co.uk/static2/html/prmax-data-use-policy.html\" target=\"_blank\">Data Protection statement</a></p></td>\r\n\t\t\t\t<td><p class=\"footer_text\"><a href=\"http://app.prmax.co.uk/static2/html/prmax-copyright-statement.html\" target=\"_blank\">Copyright statement</a></p></td>\r\n\t\t\t\t<td align=\"right\">\r\n\t\t\t\t\t<button data-dojo-attach-event=\"onClick:_update_save\" data-dojo-attach-point=\"savebtn\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='float:\"right\",type:\"button\",busyLabel:\"Please Wait\",label:\"Save\"'></button>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t</table>\r\n\t</div>\r\n</div>\r\n","url:dijit/form/templates/DropDownBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\r\n\tid=\"widget_${id}\"\r\n\trole=\"combobox\"\r\n\taria-haspopup=\"true\"\r\n\tdata-dojo-attach-point=\"_popupStateNode\"\r\n\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer'\r\n\t\tdata-dojo-attach-point=\"_buttonNode\" role=\"presentation\"\r\n\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"button presentation\" aria-hidden=\"true\"\r\n\t\t\t${_buttonInputDisabled}\r\n\t/></div\r\n\t><div class='dijitReset dijitValidationContainer'\r\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\r\n\t/></div\r\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\r\n\t\t><input class='dijitReset dijitInputInner' ${!nameAttrSetting} type=\"${type}\" autocomplete=\"off\"\r\n\t\t\tdata-dojo-attach-point=\"textbox,focusNode\" role=\"textbox\"\r\n\t/></div\r\n></div>\r\n","url:dijit/form/templates/ValidationTextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\r\n\tid=\"widget_${id}\" role=\"presentation\"\r\n\t><div class='dijitReset dijitValidationContainer'\r\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\r\n\t/></div\r\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\r\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\r\n\t\t\t${!nameAttrSetting} type='${type}'\r\n\t/></div\r\n></div>\r\n","url:dijit/templates/TreeNode.html":"<div class=\"dijitTreeNode\" role=\"presentation\"\r\n\t><div data-dojo-attach-point=\"rowNode\" class=\"dijitTreeRow\" role=\"presentation\"\r\n\t\t><span data-dojo-attach-point=\"expandoNode\" class=\"dijitInline dijitTreeExpando\" role=\"presentation\"></span\r\n\t\t><span data-dojo-attach-point=\"expandoNodeText\" class=\"dijitExpandoText\" role=\"presentation\"></span\r\n\t\t><span data-dojo-attach-point=\"contentNode\"\r\n\t\t\tclass=\"dijitTreeContent\" role=\"presentation\">\r\n\t\t\t<span role=\"presentation\" class=\"dijitInline dijitIcon dijitTreeIcon\" data-dojo-attach-point=\"iconNode\"></span\r\n\t\t\t><span data-dojo-attach-point=\"labelNode,focusNode\" class=\"dijitTreeLabel\" role=\"treeitem\"\r\n\t\t\t\t   tabindex=\"-1\" aria-selected=\"false\" id=\"${id}_label\"></span>\r\n\t\t</span\r\n\t></div>\r\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitTreeNodeContainer\" role=\"presentation\"\r\n\t\t style=\"display: none;\" aria-labelledby=\"${id}_label\"></div>\r\n</div>\r\n","url:prmaxquestionnaires/main/templates/frame.html":"<div>\r\n\t<div data-dojo-type=\"prmaxquestionnaires/main/banner\" data-dojo-props='region:\"top\",style:\"width:100%;height:62px\",title:\"Banner\"'></div>\r\n\t<div data-dojo-type=\"dijit/layout/StackContainer\" data-dojo-attach-point=\"zone_cont\" data-dojo-props='region:\"center\",doLayout:true'>\r\n\t\t<div  data-dojo-props='style:\"width:100%;height:100%\",title:\"maindetails\"' data-dojo-attach-point=\"maindetails\" data-dojo-type=\"prmaxquestionnaires/pages/MainDetails\" ></div>\r\n\t\t<div  data-dojo-props='style:\"width:100%;height:100%\",title:\"journalists\"' data-dojo-attach-point=\"journalists\" data-dojo-type=\"prmaxquestionnaires/pages/Journalists\" ></div>\r\n\t\t<div  data-dojo-props='style:\"width:100%;height:100%\",title:\"profile\",\"class\":\"scrollpanel\"' data-dojo-attach-point=\"profile\" data-dojo-type=\"prmaxquestionnaires/pages/Profile\" ></div>\r\n\t\t<div  data-dojo-props='style:\"width:100%;height:100%\",title:\"Related Outlets\"' data-dojo-attach-point=\"related_outlets\" data-dojo-type=\"prmaxquestionnaires/pages/RelatedOutlets\" ></div>\r\n\t\t<div  data-dojo-props='style:\"width:100%;height:100%\",title:\"Geographical Coverage\"' data-dojo-attach-point=\"geographical_coverage\" data-dojo-type=\"prmaxquestionnaires/pages/GeographicalCoverage\" ></div>\r\n\t\t<div  data-dojo-props='title:\"blank\"' data-dojo-attach-point=\"blank\" data-dojo-type=\"dijit/layout/ContentPane\"></div>\r\n\t</div>\r\n\t<div  data-dojo-props='region:\"bottom\",style:\"height:55px;width:100%;overflow:hidden\"' data-dojo-attach-point=\"bottom_panel\" data-dojo-type=\"dijit/layout/ContentPane\">\r\n\t\t<table style=\"width:100%;border-collapse:collapse;\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\">\r\n\t\t\t<tr>\r\n\t\t\t\t<td><img src=\"/prmax_common_s/images/prmax_logo.png\" height=\"51px\" width=\"118px\"></td>\r\n\t\t\t\t<td><p class=\"footer_text\">Contact PRmax. Email <a data-dojo-attach-point=\"support_email_address\" href=\"mailto:updates@prmax.co.uk\" target=\"_blank\">updates@prmax.co.uk</a></p></td>\r\n\t\t\t\t<td><p class=\"footer_text\"><a href=\"http://app.prmax.co.uk/static2/html/prmax-data-use-policy.html\" target=\"_blank\">Data Protection statement</a></p></td>\r\n\t\t\t\t<td><p class=\"footer_text\"><a href=\"http://app.prmax.co.uk/static2/html/prmax-copyright-statement.html\" target=\"_blank\">Copyright statement</a></p></td>\r\n\t\t\t\t<td align=\"right\">\r\n\t\t\t\t\t<button data-dojo-attach-event=\"onClick:_update_save\" data-dojo-attach-point=\"savebtn\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='float:\"right\",type:\"button\",busyLabel:\"Please Wait\",label:\"Save\"'></button>\r\n\t\t\t\t\t<button data-dojo-attach-event=\"onClick:_update_prev\" data-dojo-attach-point=\"prevbtn\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='\"class\":\"prmaxhidden\",float:\"right\",type:\"button\",busyLabel:\"Please Wait\",label:\"Prev\"'></button>\r\n\t\t\t\t\t<button data-dojo-attach-event=\"onClick:_update_next\" data-dojo-attach-point=\"nextbtn\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='float:\"right\",type:\"button\",busyLabel:\"Please Wait\",label:\"Next\"'></button>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t</table>\r\n\t</div>\r\n</div>\r\n","url:dijit/layout/templates/_TabButton.html":"<div role=\"presentation\" data-dojo-attach-point=\"titleNode,innerDiv,tabContent\" class=\"dijitTabInner dijitTabContent\">\r\n\t<span role=\"presentation\" class=\"dijitInline dijitIcon dijitTabButtonIcon\" data-dojo-attach-point=\"iconNode\"></span>\r\n\t<span data-dojo-attach-point='containerNode,focusNode' class='tabLabel'></span>\r\n\t<span class=\"dijitInline dijitTabCloseButton dijitTabCloseIcon\" data-dojo-attach-point='closeNode'\r\n\t\t  role=\"presentation\">\r\n\t\t<span data-dojo-attach-point='closeText' class='dijitTabCloseText'>[x]</span\r\n\t\t\t\t></span>\r\n</div>\r\n","url:prcommon2/search/templates/SearchRoles.html":"<div class=\"searchroles\">\r\n\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\" >\r\n\t\t<tr>\r\n\t\t\t<td width=\"20%\"   class=\"prmaxrowtag\">Job Roles</td>\r\n\t\t\t<td width=\"5%\" ><i data-dojo-attach-point=\"togglectrl\" data-dojo-attach-event=\"onclick:_toggle\" class=\"fa fa-plus-circle\" style=\"color:#7F7F7F\"></i></td>\r\n\t\t\t<td align=\"right\" valign=\"top\" ><div data-dojo-attach-point=\"countnode\" data-dojo-type=\"prcommon2/search/SearchCount\"></div></td>\r\n\t\t</tr>\r\n\t</table>\r\n\t<div data-dojo-attach-point=\"selectarea\" class=\"prmaxselectmultiple\" style=\"display:none\">\r\n\t\t<div  data-dojo-attach-point=\"roles_search\"  data-dojo-type=\"prcommon2/roles/Roles\" data-dojo-props='startopen:true, size:6, searchmode:true, selectonly:false,orderbtns:false' ></div>\r\n\t</div>\r\n</div>","url:prmaxquestionnaires/pages/templates/Profile.html":"<div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"left\",style:\"width:50%;height:100%\"' class=\"scrollpanel\" >\r\n\t\t<form  data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\" data-dojo-props='onsubmit:\"return false;\"'>\r\n\t\t\t<input data-dojo-props='type:\"hidden\",name:\"questionnaireid\",value:\"-1\"' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"questionnaireid\">\r\n\t\t\t<table width=\"100%\" cellspacing=\"0\" cellpadding=\"0\">\r\n\t\t\t\t<tr data-dojo-attach-point=\"publisher_std_view\"><td align=\"right\" class=\"prmaxrowtag\" width=\"120px\">Publisher</td><td><select data-dojo-props='style:\"width:25em\",name:\"publisherid\",autoComplete:true,searchAttr:\"publishername\",required:false,placeHolder:\"No Selection\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"publisherid\"></select></td><tr>\r\n\t\t\t\t<tr data-dojo-attach-point=\"publisher_text_view\"><td align=\"right\" class=\"prmaxrowtag\" width=\"120px\">Add New Publisher</td><td><input data-dojo-attach-point=\"publishername\" data-dojo-props='name:\"publishername\",type:\"text\",trim:true,style:\"width:70%\",required:false' data-dojo-type=\"dijit/form/ValidationTextBox\"></input></td><tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Primary Language</td><td><select data-dojo-props='style:\"width:15em\",name:\"language1id\",autoComplete:true,searchAttr:\"name\",required:false,placeHolder:\"No Selection\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"language1id\"></select></td><tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Other Language</td><td><select data-dojo-props='style:\"width:15em\",name:\"language2id\",autoComplete:true,searchAttr:\"name\",required:false,placeHolder:\"No Selection\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"language2id\"></select></td><tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Editorial Profile</td><td ><div class=\"fixedtextframe\" ><textarea data-dojo-attach-point=\"editorialprofile\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"editorialprofile\",style:\"width:99%;height:99%\"'  ></textarea></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Readership/Audience</td><td ><div class=\"fixedtextframe\" ><textarea data-dojo-attach-point=\"readership\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"readership\",style:\"width:99%;height:99%\"'  ></textarea></div></td></tr>\r\n\t\t\t\t<tr data-dojo-attach-point=\"productioncompany_view\"><td align=\"right\" class=\"prmaxrowtag\">Production Company</td><td><select data-dojo-props='style:\"width:15em\",name:\"productioncompanyid\",autoComplete:true,searchAttr:\"productioncompanydescription\",required:false,placeHolder:\"No Selection\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"productioncompanyid\"></select></td><tr>\r\n\t\t\t\t<tr data-dojo-attach-point=\"broadcasttimes_view\"><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Broadcast Times</td><td ><div class=\"fixedsmalltextframe\" ><textarea data-dojo-attach-point=\"broadcasttimes\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"broadcasttimes\",style:\"width:99%;height:99%\"'  ></textarea></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Circulation</td><td><input data-dojo-attach-point=\"circulation\" data-dojo-type=\"dijit/form/NumberTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"circulation\",type:\"text\",value:0,constraints:{min:0,max:99999999}, trim:true'/></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Circulation Source</td><td><select data-dojo-props='style:\"width:15em\",name:\"circulationsourceid\",autoComplete:true,searchAttr:\"circulationsourcedescription\",required:false,placeHolder:\"No Selection\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"circulationsourceid\"></select></td><tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Circulation Date</td><td><select data-dojo-props='style:\"width:15em\",name:\"circulationauditdateid\",autoComplete:true,searchAttr:\"circulationauditdatedescription\",required:false,placeHolder:\"No Selection\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"circulationauditdateid\"></select></td><tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Frequency</td><td>\t<select data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-props='name:\"frequencyid\",autoComplete:true,searchAttr:\"name\",required:true,invalidMessage:\"Please select frequency\",labelType:\"html\"' data-dojo-attach-point=\"frequency\"></select></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Frequency Notes</td><td ><div class=\"fixedsmalltextframe\" ><textarea data-dojo-attach-point=\"frequencynotes\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"frequencynotes\",style:\"width:99%;height:99%\"'  ></textarea></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Cost</td><td><select data-dojo-props='style:\"width:10em\",name:\"outletpriceid\",autoComplete:true,searchAttr:\"name\",required:false,placeHolder:\"\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"outletpriceid\"></select></td><tr>\r\n\t\t\t</table>\r\n\t\t</form>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"right\",style:\"width:50%;height:100%\"' class=\"scrollpanel\" >\r\n\t\t<table width=\"100%\" cellspacing=\"2\" cellpadding=\"2\">\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\"width=\"120px\">Related Outlets</td><td data-dojo-attach-point=\"relatedoutlets_view\"></td><tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Changes</td><td ><div class=\"fixedtextframe\" ><textarea data-dojo-attach-point=\"relatedoutlets\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='style:\"width:99%;height:99%\"'></textarea></div></td></tr>\r\n\t\t</table>\r\n\t</div>\r\n</div>\r\n","url:dijit/form/templates/Button.html":"<span class=\"dijit dijitReset dijitInline\" role=\"presentation\"\r\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\r\n\t\tdata-dojo-attach-event=\"ondijitclick:__onClick\" role=\"presentation\"\r\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\r\n\t\t\tdata-dojo-attach-point=\"titleNode,focusNode\"\r\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\r\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\"></span\r\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\r\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\r\n\t\t\t\tid=\"${id}_label\"\r\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\r\n\t\t\t></span\r\n\t\t></span\r\n\t></span\r\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\r\n\t\tdata-dojo-attach-event=\"onclick:_onClick\"\r\n\t\ttabIndex=\"-1\" aria-hidden=\"true\" data-dojo-attach-point=\"valueNode\"\r\n/></span>\r\n","url:prcommon2/geographical/templates/GeographicalTree.html":"<div>\r\n\t<div data-dojo-attach-point=\"tree\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"center\"' ></div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"bottom\",style:\"width:100%;height:2em\"'>\r\n\t\t<button data-dojo-props='type:\"button\",style:\"float:right;padding-right:10px\"' data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:_close\">Close</button>\r\n\t</div>\r\n</div>\r\n","url:prmaxquestionnaires/pages/templates/RelatedOutlets.html":"<div >\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"left\",style:\"width:50%;height:100%\"' class=\"scrollpanel\" >\r\n\t\t<form  data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\" data-dojo-props='onsubmit:\"return false;\"'>\r\n\t\t\t<input data-dojo-props='type:\"hidden\",name:\"questionnaireid\",value:\"-1\"' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"questionnaireid\">\r\n\t\t\t</br/>\r\n\t\t\t<table width=\"100%\" cellspacing=\"1\" cellpadding=\"0\">\r\n\t\t\t\t<tr><td></td>\r\n\t\t\t\t\t<td class=\"prmaxrowtag\" width=\"50px\" >Prefix</td><td class=\"prmaxrowtag\" width=\"120px\" >First</td><td class=\"prmaxrowtag\" width=\"120px\" >Surname</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" width=\"110px\">Name</td>\r\n\t\t\t\t\t<td><input data-dojo-attach-point=\"prefix\" data-dojo-type=\"dijit/form/TextBox\" data-dojo-props='name:\"research_prefix\",type:\"text\",style:\"width:3em\"'></td>\r\n\t\t\t\t\t<td><input data-dojo-attach-point=\"firstname\" data-dojo-type=\"dijit/form/TextBox\" data-dojo-props='name:\"research_firstname\",type:\"text\",style:\"width:8em\"'></input></td>\r\n\t\t\t\t\t<td><input data-dojo-attach-point=\"surname\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='name:\"research_surname\",type:\"text\",trim:true,invalidMessage:\"Please enter conatct surname\",style:\"width:12em\"'></input></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Job Title</td><td colspan=\"3\" ><input data-dojo-attach-point=\"job_title\" data-dojo-type=\"dijit/form/TextBox\" data-dojo-props='name:\"research_job_title\",type:\"text\",style:\"width:70%\"'></input></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Email</td><td colspan=\"3\" ><input data-dojo-attach-point=\"email\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='name:\"research_email\",type:\"text\",pattern:dojox.validate.regexp.emailAddress,trim:true,invalidMessage:\"invalid email address\",size:20,maxlength:70,style:\"width:90%\"'></td></tr>\r\n<!--\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Tel</td><td colspan=\"3\" ><input data-dojo-attach-point=\"tel\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='name:\"research_tel\",type:\"text\",maxlength:40,trim:true,style:\"width:30%\"' /></td></tr>\r\n-->\t\t\t\r\n\t\t\t</table>\r\n\t\t</form>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"center\"' class=\"scrollpanel\" >\r\n\t\t<div style=\"border:1px solid black;text-align: center;vertical-align: middle; margin: auto;margin: 5%;font-size:1.1em;padding:4px\">\r\n\t\t\t<p><b>PRmax contact</b></p>\r\n\t\t\t<p>Are you the right person to contact to update our information?</p>\r\n\t\t\t<p>If not, please update the fields to the left with the correct details.</p>\r\n\t\t\t<p>Thank you for your help.</p><br/>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n","url:dijit/templates/Tree.html":"<div role=\"tree\">\r\n\t<div class=\"dijitInline dijitTreeIndent\" style=\"position: absolute; top: -9999px\" data-dojo-attach-point=\"indentDetector\"></div>\r\n\t<div class=\"dijitTreeExpando dijitTreeExpandoLoading\" data-dojo-attach-point=\"rootLoadingIndicator\"></div>\r\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitTreeContainer\" role=\"presentation\">\r\n\t</div>\r\n</div>\r\n","url:dijit/layout/templates/ScrollingTabController.html":"<div class=\"dijitTabListContainer-${tabPosition}\" style=\"visibility:hidden\">\r\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerMenuButton\"\r\n\t\t class=\"tabStripButton-${tabPosition}\"\r\n\t\t id=\"${id}_menuBtn\"\r\n\t\t data-dojo-props=\"containerId: '${containerId}', iconClass: 'dijitTabStripMenuIcon',\r\n\t\t\t\t\tdropDownPosition: ['below-alt', 'above-alt']\"\r\n\t\t data-dojo-attach-point=\"_menuBtn\" showLabel=\"false\" title=\"\">&#9660;</div>\r\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\r\n\t\t class=\"tabStripButton-${tabPosition}\"\r\n\t\t id=\"${id}_leftBtn\"\r\n\t\t data-dojo-props=\"iconClass:'dijitTabStripSlideLeftIcon', showLabel:false, title:''\"\r\n\t\t data-dojo-attach-point=\"_leftBtn\" data-dojo-attach-event=\"onClick: doSlideLeft\">&#9664;</div>\r\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\r\n\t\t class=\"tabStripButton-${tabPosition}\"\r\n\t\t id=\"${id}_rightBtn\"\r\n\t\t data-dojo-props=\"iconClass:'dijitTabStripSlideRightIcon', showLabel:false, title:''\"\r\n\t\t data-dojo-attach-point=\"_rightBtn\" data-dojo-attach-event=\"onClick: doSlideRight\">&#9654;</div>\r\n\t<div class='dijitTabListWrapper' data-dojo-attach-point='tablistWrapper'>\r\n\t\t<div role='tablist' data-dojo-attach-event='onkeydown:onkeydown'\r\n\t\t\t data-dojo-attach-point='containerNode' class='nowrapTabStrip'></div>\r\n\t</div>\r\n</div>","url:prcommon2/search/templates/Circulation.html":"<div class=\"circulation\">\r\n\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\" >\r\n\t\t<tr><td width=\"20%\"   class=\"prmaxrowtag\">Circulation</td>\r\n\t\t\t\t<td width=\"5%\" ><img height=\"16px\" width=\"16px\" data-dojo-attach-point=\"togglectrl\" data-dojo-attach-event=\"onclick:_toggle\" src=\"/prmax_common_s/images/toopen.gif\" class=\"toggleselect\"></img>\r\n\t\t\t\t<td align=\"right\" valign=\"top\" ><div data-dojo-attach-point=\"countnode\" data-dojo-type=\"prcommon2/search/SearchCount\"></div></td>\r\n\t\t</tr>\r\n\t</table>\r\n\t<div style=\"border 2px solid black\">\r\n\t\t<div data-dojo-attach-point=\"selectarea\" style=\"display:none\" >\r\n\t\t\t<table width=\"100%\" class=\"prmaxtable\">\r\n\t\t\t  <tr>\r\n\t\t\t  <td width=\"8%\"><input data-dojo-attach-point=\"node_1\"  data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='\"class\":\"prmaxdefault\",type:\"checkbox\",value:\"1\"' data-dojo-attach-event=\"onClick:check_count\"/></td><td width=\"23%\"><label data-dojo-attach-point=\"node_1_label\" class=\"labeltag\">1-500</label></td>\r\n\t\t\t  <td width=\"8%\"><input data-dojo-attach-point=\"node_2\" data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='\"class\":\"prmaxdefault\",type:\"checkbox\",value:\"2\"' data-dojo-attach-event=\"onClick:check_count\"/></td><td width=\"26%\"><label data-dojo-attach-point=\"node_2_label\" class=\"labeltag\">501-2500</label></td>\r\n\t\t\t  <td width=\"8%\"><input data-dojo-attach-point=\"node_3\" data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='\"class\":\"prmaxdefault\",type:\"checkbox\",value:\"3\"' data-dojo-attach-event=\"onClick:check_count\"/></td><td width=\"21%\"><label data-dojo-attach-point=\"node_3_label\" class=\"labeltag\">2501-10k</label></td>\r\n\t\t\t  </tr>\r\n\t\t\t  <tr>\r\n\t\t\t  <td width=\"8%\"><input data-dojo-attach-point=\"node_4\" data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='\"class\":\"prmaxdefault\",type:\"checkbox\",value:\"4\"' data-dojo-attach-event=\"onClick:check_count\"/></td><td width=\"23%\"><label data-dojo-attach-point=\"node_4_label\" class=\"labeltag\">10001-50k</label></td>\r\n\t\t\t  <td width=\"8%\"><input data-dojo-attach-point=\"node_5\" data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='\"class\":\"prmaxdefault\",type:\"checkbox\",value:\"5\"' data-dojo-attach-event=\"onClick:check_count\"/></td><td width=\"26%\"><label data-dojo-attach-point=\"node_5_label\" class=\"labeltag\">50001-100k</label></td>\r\n\t\t\t  <td width=\"8%\"><input data-dojo-attach-point=\"node_6\" data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='\"class\":\"prmaxdefault\",type:\"checkbox\",value:\"6\"' data-dojo-attach-event=\"onClick:check_count\"/></td><td width=\"21%\"><label data-dojo-attach-point=\"node_6_label\" class=\"labeltag\">100001+</label></td>\r\n\t\t\t</tr>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n","url:dijit/templates/Dialog.html":"<div class=\"dijitDialog\" role=\"dialog\" aria-labelledby=\"${id}_title\">\r\n\t<div data-dojo-attach-point=\"titleBar\" class=\"dijitDialogTitleBar\">\r\n\t\t<span data-dojo-attach-point=\"titleNode\" class=\"dijitDialogTitle\" id=\"${id}_title\"\r\n\t\t\t\trole=\"heading\" level=\"1\"></span>\r\n\t\t<span data-dojo-attach-point=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" data-dojo-attach-event=\"ondijitclick: onCancel\" title=\"${buttonCancel}\" role=\"button\" tabindex=\"-1\">\r\n\t\t\t<span data-dojo-attach-point=\"closeText\" class=\"closeText\" title=\"${buttonCancel}\">x</span>\r\n\t\t</span>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitDialogPaneContent\"></div>\r\n\t${!actionBarTemplate}\r\n</div>\r\n\r\n","url:prmaxquestionnaires/main/templates/deskbanner.html":"<div class=\"banner_body\">\r\n<div style=\"float:left;width:100%\">\r\n\t<p style=\"float:left\" class=\"mb_details_large\">Your update for&nbsp;<span data-dojo-attach-point=\"title_text\"></span></p>\r\n\t<p style=\"float:right\" class=\"mb_details_large\">The deadline for this update is: <span data-dojo-attach-point=\"deadline_text\"></span></p>\r\n</div>\r\n\t<ul class=\"main-menu\" style=\"float:right;text-align:right\">\r\n\t\t<li data-dojo-attach-event=\"onclick:_show_title\" data-dojo-attach-point=\"title_view\" class=\"first selected\"><a title=\"1. Name &amp; Address\" >1.Name &amp; Address</a></li>\r\n\t\t<li data-dojo-attach-event=\"onclick:_show_journalists\" data-dojo-attach-point=\"journalists_view\" class=\"std\"><a title=\"2. Journalists\">2. Journalists</a></li>\r\n\t\t<li data-dojo-attach-event=\"onclick:_show_related_outlets\" data-dojo-attach-point=\"related_outlets_view\" class=\"last\"><a title=\"3. Your Details\">3. Your Details</a></li>\r\n\t</ul>\r\n</div>\r\n","url:dijit/templates/MenuItem.html":"<tr class=\"dijitReset\" data-dojo-attach-point=\"focusNode\" role=\"menuitem\" tabIndex=\"-1\">\r\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\r\n\t\t<span role=\"presentation\" class=\"dijitInline dijitIcon dijitMenuItemIcon\" data-dojo-attach-point=\"iconNode\"></span>\r\n\t</td>\r\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode,textDirNode\"\r\n\t\trole=\"presentation\"></td>\r\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\r\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">\r\n\t\t<span data-dojo-attach-point=\"arrowWrapper\" style=\"visibility: hidden\">\r\n\t\t\t<span class=\"dijitInline dijitIcon dijitMenuExpand\"></span>\r\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\r\n\t\t</span>\r\n\t</td>\r\n</tr>\r\n","url:prcommon2/interests/templates/Interests.html":"<div data-dojo-attach-point=\"containerNode\" >\r\n\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\">\r\n\t\t<tr><td width=\"20%\"   class=\"prmaxrowtag\">${displaytitle}</td>\r\n\t\t\t\t<td width=\"5%\" ><img height=\"16px\" width=\"16px\" data-dojo-attach-point=\"togglectrl\" data-dojo-attach-event=\"onclick:_toggle\" src=\"/prmax_common_s/images/toopen.gif\" class=\"toggleselect\"></img></td>\r\n\t\t\t\t<td align=\"right\" valign=\"top\" ><div data-dojo-attach-point=\"countnode\" data-dojo-type=\"prcommon2/search/SearchCount\"></div></td>\r\n\t\t</tr>\r\n\t</table>\r\n\t<div class=\"dojoInterestPane\" >\r\n\t\t<div data-dojo-attach-point=\"selectarea\" class=\"prmaxselectmultiple\" style=\"display:none\" >\r\n\t\t\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\" >\r\n\t\t\t\t  <tr><td width=\"47%\"></td><td width=\"5%\"></td><td width=\"48%\" ></td></tr>\r\n\t\t\t\t  <tr><td colspan=\"3\">\r\n\t\t\t\t  <table style=\"width:100%\" class=\"prmaxtable\" >\r\n\t\t\t\t  <tr>\r\n\t\t\t\t\t\t<td width=\"40%\" data-dojo-attach-point=\"master_type_text\"><span class=\"prmaxrowtag\">Select</span><input class=\"prmaxfocus prmaxinput\" type=\"text\" data-dojo-type=\"dijit/form/TextBox\" style=\"width:60%\" data-dojo-attach-point=\"interest_list_select\" data-dojo-attach-event=\"onkeyup:interest_select\" /></td>\r\n\t\t\t\t\t\t<td width=\"40%\"><select data-dojo-props='style:\"width:100%\",autoComplete:true,searchAttr:\"name\",labelType:\"html\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"master_type\"data-dojo-attach-event=\"onChange:change_filter\"></td>\r\n\t\t\t\t\t\t<td width=\"3%\" align=\"right\"><input class=\"prmaxdefault\" data-dojo-attach-point=\"andor\"  data-dojo-type=\"dijit/form/CheckBox\" checked type=\"checkbox\" value=\"2\" data-dojo-attach-event=\"onClick:and_or\"/></td>\r\n\t\t\t\t\t\t<td width=\"15%\"><label data-dojo-attach-point=\"andorlabel\" class=\"prmaxlabeltag\" >All</label></td>\r\n\t\t\t\t\t\t<td width=\"3%\" align=\"right\" data-dojo-attach-point=\"show_help_btn\" class=\"prmaxhidden\"><div data-dojo-attach-event=\"onClick:_show_help\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='iconClass:\"PRMaxSmallCommonIcon PRMaxSmallHelpIcon\",style:\"padding:0px;margin:0px\"'></div></td>\r\n\t\t\t\t  </tr></table>\r\n\t\t\t\t  </td></tr>\r\n\t\t\t\t  <tr><td ><select style=\"width:100%\" data-dojo-attach-point=\"interest_list\" size=\"${size}\" class=\"lists\" multiple=\"multiple\" ></select></td>\r\n\t\t\t\t  <td >\r\n\t\t\t\t  <button class=\"button_add_all\"  style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"button_all\" disabled=\"true\" type=\"button\" data-dojo-attach-event=\"onClick:interest_select_all\" data-dojo-type=\"dijit/form/Button\"><div class=\"std_movement_button\">&gt;&gt;</div></button><br data-dojo-attach-point=\"button_all_line\" />\r\n\t\t\t\t  <button class=\"button_add_single\" style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"button_single\" disabled=\"true\" type=\"button\" data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:interest_select_single\"><div class=\"std_movement_button\">&gt;&nbsp;</div></button><br/>\r\n\t\t\t\t  <button class=\"button_del_all\" style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"button_del_all\" disabled=\"true\" type=\"button\" data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:interest_remove_all\"><div class=\"std_movement_button\">&lt;&lt;</div></button><br data-dojo-attach-point=\"button_del_all_line\" />\r\n\t\t\t\t  <button class=\"button_del_single\" style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"button_del_single\" disabled=\"true\" type=\"button\" data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:interest_remove_single\"><div class=\"std_movement_button\">&lt;&nbsp;</div></button></td>\r\n\t\t\t\t  <td ><select style=\"width:100%\" data-dojo-attach-point=\"interest_select\" size=\"${size}\" class=\"lists\" multiple=\"multiple\" data-dojo-attach-event=\"onchange:interest_update_selection\"></select></td></tr>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/Tooltip\" data-dojo-attach-point=\"andor_tip\" data-dojo-props='showDelay:800'>\r\n\t\t<div class=\"tooltipframe\" ><b>All Search Options</b><br/>If this option is selected then the resulting search will be all the unique items in all the interests <br/>added together, if it's not checked then the result is only those items that have entries in all the interests<br/></div>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/Dialog\" data-dojo-attach-point=\"show_help_dialog\" data-dojo-props='title:\"Editing Keywords\",style:\"width:400px\"'>\r\n\t\t<div class=\"tooltipframe\" >\r\n\t\t\t<p>To add an interest search using the Select box. Once you have found the interest you want click on it and select the right pointing arrow head button</p>\r\n\t\t\t<p>To delete click on the interest in the right hand pane and then select the left pointing arrow head button</p>\r\n\t\t\t<div data-dojo-attach-event=\"onClick:_hide_help\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='label:\"Close\",style:\"float:right\"'></div></td>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","url:prcommon2/outlet/templates/OutletSelectSimple.html":"<div>\r\n<p style=\"float:left;padding-right:10px;padding-top:5px\" class=\"prmaxdefault\" data-dojo-attach-point=\"display\"></p>\r\n<button data-dojo-attach-event=\"onClick:_select\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Select\",style:\"float:left\",\"class\":\"prmaxdefault\"'></button>\r\n<button data-dojo-attach-point=\"clearbtn\" data-dojo-attach-event=\"onClick:_clear\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Clear\",style:\"float:left\",\"class\":\"prmaxhidden prmaxdefault\"'></button>\r\n\t<div data-dojo-attach-point=\"select_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Select Publication\"'>\r\n\t\t<div data-dojo-attach-point=\"frame\" data-dojo-type=\"dijit/layout/BorderContainer\" data-dojo-props='style:\"height:500px;width:500px\"'>\r\n\t\t\t<div data-dojo-props='region:\"top\",style:\"width:100%;height:50px;padding-top:10px\"'  data-dojo-type=\"dijit/layout/ContentPane\">\r\n\t\t\t\t<label class=\"prmaxrowtag\" >Outlet Name</label><input data-dojo-props='style:\"width:300px\",name:\"outletname\",type:\"text\",trim:true' data-dojo-attach-point=\"outletname\" data-dojo-type=\"dijit/form/TextBox\" ></input></br>\r\n\t\t\t</div>\r\n\t\t\t<div data-dojo-props='region:\"center\"' data-dojo-attach-point=\"select_search_view\" data-dojo-type=\"dijit/layout/ContentPane\"></div>\r\n\t\t\t<div data-dojo-props='region:\"bottom\",style:\"width:100%\",height:\"2em\"'  data-dojo-type=\"dijit/layout/ContentPane\">\r\n\t\t\t\t<button data-dojo-attach-event=\"onClick:_close\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Close\"'></button>\r\n\t\t\t\t<button data-dojo-attach-point=\"searchbutton\" data-dojo-attach-event=\"onClick:_search\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='style:\"float:right\",\"class\":\"prmaxbutton\",label:\"Search\"'></button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","url:prcommon2/search/templates/OutletSearch.html":"<div class=\"searchform\">\r\n\t<div class=\"paddingcell\" >\r\n\t\t<form data-dojo-props='onsubmit:\"return false\",\"class\":\"prmaxtable\",name:\"std_search_outlet\",formid:\"std_search_outlet_form\"' data-dojo-attach-point=\"form_name\" data-dojo-type=\"ttl/Form2\" >\r\n\t\t<input data-dojo-props='type:\"hidden\",value:\"outlet\",name:\"search_type\"' data-dojo-type=\"dijit/form/TextBox\" />\r\n\t\t<br/>\r\n\t\t<div  data-dojo-props='usepartial:true,displayname:\"Outlet Name\",keytypeid:1,name:\"outlet_searchname\",value:\"\"' data-dojo-attach-point=\"std_search_outlet_outlet_name\" data-dojo-type=\"prcommon2/search/standard\"></div>\r\n\t\t<hr/>\r\n\t\t<div data-dojo-props='style:\"width:99%\",keytypeid:23,name:\"outlet_outlettypes\"' data-dojo-type=\"prcommon2/search/PrmaxOutletTypes\"></div>\r\n\t\t<hr/>\r\n\t\t<div data-dojo-props='style:\"width:99%\",keytypeid:6,size:8,name:\"outlet_interests\"' data-dojo-type=\"prcommon2/interests/Interests\"></div>\r\n\t\t<hr/>\r\n\t\t<div  data-dojo-type=\"prcommon2/search/SearchRoles\" data-dojo-props='keytypeid:119,name:\"outlet_roles\",style:\"width:99%\",showdefaultoption:false' data-dojo-attach-point=\"search_outlet_roles\" ></div>\r\n\t\t<hr/>\r\n\t\t<div data-dojo-props='style:\"width:99%\",keytypeid:50,name:\"outlet_coverage\"' data-dojo-attach-point=\"outlet_coverage\" data-dojo-type=\"prcommon2/geographical/Geographical\" ></div>\r\n\t\t<hr/>\r\n\t\t<div data-dojo-props='style:\"width:99%\",displayname:\"Circulation\",keytypeid:4,name:\"outlet_circulation\"' data-dojo-type=\"prcommon2/search/Circulation\"></div>\r\n\t\t<hr/>\r\n\t\t<div data-dojo-props='displayname:\"Profile\",keytypeid:102,name:\"outlet_profile\",value:\"\"' data-dojo-type=\"prcommon2/search/standard\"></div>\r\n\t\t<hr/>\r\n\t\t<div data-dojo-props='displayname:\"Frequency\",keytypeid:3,name:\"outlet_frequency\"' data-dojo-type=\"prcommon2/search/Frequency\"></div>\r\n\t\t<hr/>\r\n\t\t<div data-dojo-props='displayname:\"Publisher\",keytypeid:137,name:\"outlet_publisher\"' data-dojo-type=\"prcommon2/search/Publisher\"></div>\r\n\t\t<hr/>\r\n\t\t<div data-dojo-props='usepartial:true,displayname:\"Feature\",keytypeid:128,name:\"outlet_advance_feature\",value:\"\"' data-dojo-type=\"prcommon2/search/standard\"></div>\r\n\t\t<hr/>\r\n\t\t<div data-dojo-props='style:\"width:99%\",keytypeid:24,name:\"outlet_countryid\"' data-dojo-type=\"prcommon2/search/Countries\"></div>\r\n\t\t<input data-dojo-props='type:\"hidden\",name:\"searchtypeid\",value:1' data-dojo-attach-point=\"searchtypeid\" data-dojo-type=\"dijit/form/TextBox\"/>\r\n\t\t<input type=\"submit\" style=\"display:none\"/>\r\n\t\t</form>\r\n\t</div>\r\n</div>","url:dijit/layout/templates/_ScrollingTabControllerButton.html":"<div data-dojo-attach-event=\"ondijitclick:_onClick\" class=\"dijitTabInnerDiv dijitTabContent dijitButtonContents\"  data-dojo-attach-point=\"focusNode\" role=\"button\">\r\n\t<span role=\"presentation\" class=\"dijitInline dijitTabStripIcon\" data-dojo-attach-point=\"iconNode\"></span>\r\n\t<span data-dojo-attach-point=\"containerNode,titleNode\" class=\"dijitButtonText\"></span>\r\n</div>","url:dijit/layout/templates/TabContainer.html":"<div class=\"dijitTabContainer\">\r\n\t<div class=\"dijitTabListWrapper\" data-dojo-attach-point=\"tablistNode\"></div>\r\n\t<div data-dojo-attach-point=\"tablistSpacer\" class=\"dijitTabSpacer ${baseClass}-spacer\"></div>\r\n\t<div class=\"dijitTabPaneWrapper ${baseClass}-container\" data-dojo-attach-point=\"containerNode\"></div>\r\n</div>\r\n","url:prmaxquestionnaires/main/templates/deskframe.html":"<div>\r\n\t<div data-dojo-type=\"prmaxquestionnaires/main/deskbanner\" data-dojo-props='region:\"top\",style:\"width:100%;height:62px\",title:\"Banner\"'></div>\r\n\t<div data-dojo-type=\"dijit/layout/StackContainer\" data-dojo-attach-point=\"zone_cont\" data-dojo-props='region:\"center\",doLayout:true'>\r\n\t\t<div  data-dojo-props='style:\"width:100%;height:100%\",title:\"maindetails\"' data-dojo-attach-point=\"maindetails\" data-dojo-type=\"prmaxquestionnaires/pages/DeskDetails\" ></div>\r\n\t\t<div  data-dojo-props='style:\"width:100%;height:100%\",title:\"journalists\"' data-dojo-attach-point=\"journalists\" data-dojo-type=\"prmaxquestionnaires/pages/Journalists\" ></div>\r\n\t\t<div  data-dojo-props='style:\"width:100%;height:100%\",title:\"Related Outlets\"' data-dojo-attach-point=\"related_outlets\" data-dojo-type=\"prmaxquestionnaires/pages/RelatedOutlets\" ></div>\r\n\t</div>\r\n\t<div  data-dojo-props='region:\"bottom\",style:\"height:55px;width:100%;overflow:hidden\"' data-dojo-attach-point=\"bottom_panel\" data-dojo-type=\"dijit/layout/ContentPane\">\r\n\t\t<table style=\"width:100%;border-collapse:collapse;\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\">\r\n\t\t\t<tr>\r\n\t\t\t\t<td><img src=\"/prmax_common_s/images/prmax_logo.png\" height=\"51px\" width=\"118px\"></td>\r\n\t\t\t\t<td><p class=\"footer_text\">Contact PRmax. Email <a data-dojo-attach-point=\"support_email_address\" href=\"mailto:updates@prmax.co.uk\" target=\"_blank\">updates@prmax.co.uk</a></p></td>\r\n\t\t\t\t<td><p class=\"footer_text\"><a href=\"http://app.prmax.co.uk/static2/html/prmax-data-use-policy.html\" target=\"_blank\">Data Protection statement</a></p></td>\r\n\t\t\t\t<td><p class=\"footer_text\"><a href=\"http://app.prmax.co.uk/static2/html/prmax-copyright-statement.html\" target=\"_blank\">Copyright statement</a></p></td>\r\n\t\t\t\t<td align=\"right\">\r\n\t\t\t\t\t<button data-dojo-attach-event=\"onClick:_update_save\" data-dojo-attach-point=\"savebtn\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='float:\"right\",type:\"button\",busyLabel:\"Please Wait\",label:\"Save\"'></button>\r\n\t\t\t\t\t<button data-dojo-attach-event=\"onClick:_update_prev\" data-dojo-attach-point=\"prevbtn\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='\"class\":\"prmaxhidden\",float:\"right\",type:\"button\",busyLabel:\"Please Wait\",label:\"Prev\"'></button>\r\n\t\t\t\t\t<button data-dojo-attach-event=\"onClick:_update_next\" data-dojo-attach-point=\"nextbtn\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='float:\"right\",type:\"button\",busyLabel:\"Please Wait\",label:\"Next\"'></button>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t</table>\r\n\t</div>\r\n</div>\r\n","url:dijit/form/templates/DropDownButton.html":"<span class=\"dijit dijitReset dijitInline\"\r\n\t><span class='dijitReset dijitInline dijitButtonNode'\r\n\t\tdata-dojo-attach-event=\"ondijitclick:__onClick\" data-dojo-attach-point=\"_buttonNode\"\r\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\r\n\t\t\tdata-dojo-attach-point=\"focusNode,titleNode,_arrowWrapperNode,_popupStateNode\"\r\n\t\t\trole=\"button\" aria-haspopup=\"true\" aria-labelledby=\"${id}_label\"\r\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\"\r\n\t\t\t\tdata-dojo-attach-point=\"iconNode\"\r\n\t\t\t></span\r\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\r\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\r\n\t\t\t\tid=\"${id}_label\"\r\n\t\t\t></span\r\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\"></span\r\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\r\n\t\t></span\r\n\t></span\r\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\r\n\t\tdata-dojo-attach-event=\"onclick:_onClick\" data-dojo-attach-point=\"valueNode\" aria-hidden=\"true\"\r\n/></span>\r\n","*now":function(r){r(["dojo/i18n!*preload*dojo/nls/prmaxquestionnaires*[\"ar\",\"ca\",\"cs\",\"da\",\"de\",\"el\",\"en-gb\",\"en-us\",\"es-es\",\"fi-fi\",\"fr-fr\",\"he-il\",\"hu\",\"it-it\",\"ja-jp\",\"ko-kr\",\"nl-nl\",\"nb\",\"pl\",\"pt-br\",\"pt-pt\",\"ru\",\"sk\",\"sl\",\"sv\",\"th\",\"tr\",\"zh-tw\",\"zh-cn\",\"ROOT\"]"]);}}});define("dojo/prmaxquestionnaires",[],1);