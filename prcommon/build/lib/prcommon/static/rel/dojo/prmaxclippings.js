/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

//>>built
require({cache:{"dojox/charting/action2d/Magnify":function(){define(["dojo/_base/connect","dojo/_base/declare","./PlotAction","dojox/gfx/matrix","dojox/gfx/fx","dojo/fx","dojo/fx/easing"],function(_1,_2,_3,m,gf,df,_4){var _5=2;return _2("dojox.charting.action2d.Magnify",_3,{defaultParams:{duration:400,easing:_4.backOut,scale:_5},optionalParams:{},constructor:function(_6,_7,_8){this.scale=_8&&typeof _8.scale=="number"?_8.scale:_5;this.connect();},process:function(o){if(!o.shape||!(o.type in this.overOutEvents)||!("cx" in o)||!("cy" in o)){return;}if(o.element=="spider_plot"||o.element=="spider_poly"){return;}var _9=o.run.name,_a=o.index,_b=[],_c,_d,_e;if(_9 in this.anim){_c=this.anim[_9][_a];}else{this.anim[_9]={};}if(_c){_c.action.stop(true);}else{this.anim[_9][_a]=_c={};}if(o.type=="onmouseover"){_d=m.identity;_e=this.scale;}else{_d=m.scaleAt(this.scale,o.cx,o.cy);_e=1/this.scale;}var _f={shape:o.shape,duration:this.duration,easing:this.easing,transform:[{name:"scaleAt",start:[1,o.cx,o.cy],end:[_e,o.cx,o.cy]},_d]};if(o.shape){_b.push(gf.animateTransform(_f));}if(o.outline){_f.shape=o.outline;_b.push(gf.animateTransform(_f));}if(o.shadow){_f.shape=o.shadow;_b.push(gf.animateTransform(_f));}if(!_b.length){delete this.anim[_9][_a];return;}_c.action=df.combine(_b);if(o.type=="onmouseout"){_1.connect(_c.action,"onEnd",this,function(){if(this.anim[_9]){delete this.anim[_9][_a];}});}_c.action.play();}});});},"prcommon2/clippings/edit":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../clippings/templates/edit.html","ttl/utilities2","dojo/topic","dojo/request","dojox/data/JsonRestStore","dojo/_base/lang","dojo/dom-attr","dojo/dom-class","dojo/data/ItemFileReadStore","dijit/form/FilteringSelect","dojox/form/BusyButton","dijit/form/TextBox","dijit/form/Form","dijit/form/RadioButton","prcommon2/outlet/OutletSelect"],function(_10,_11,_12,_13,_14,_15,_16,_17,_18,_19,_1a){return _10("prcommon2.clippings.edit",[_11],{templateString:_12,constructor:function(){this._clients=new _16({target:"/clients/rest_combo",idAttribute:"id"});this._issues=new _16({target:"/crm/issues/issues_list_rest",idAttribute:"id"});this._liststore=new _16({target:"/emails/templates_list_rest",idAttribute:"id"});this._statement=new _16({target:"/statement/statement_combo_rest",idAttribute:"id"});this._clippingtones=new _1a({url:"/common/lookups?searchtype=clippingtones"});this._update_call_back=_17.hitch(this,this._update_call);this._delete_call_back=_17.hitch(this,this._delete_call);this._change_client_enabled=true;},postCreate:function(){this.inherited(arguments);this.clientid.set("store",this._clients);this.issueid.set("store",this._issues);this.clippingstoneid.set("store",this._clippingtones);this.emailtemplateid.set("store",this._liststore);this.emailtemplateid.set("query",{restrict:"sent",include_no_select:1});this.statementid.set("store",this._statement);this.statementid.set("query",{include_no_select:1});if(PRMAX.utils.settings.crm==true){_19.remove(this.statement_1,"prmaxhidden");_19.remove(this.statementid.domNode,"prmaxhidden");}_18.set(this.issue_label_1,"innerHTML",PRMAX.utils.settings.issue_description);_18.set(this.client_label_1,"innerHTML",PRMAX.utils.settings.client_name);},clear:function(){this.clippingid.set("value",-1);this.clientid.set("value","-1");this.issueid.set("value","-1");this.emailtemplateid.set("value","-1");this.statementid.set("value","-1");this.savebtn.cancel();},_save:function(){if(_13.form_validator(this.formnode)==false){alert("Please Enter Details");this.savebtn.cancel();return false;}this.savebtn.makeBusy();_15.post("/clippings/update_clipping",_13.make_params({data:this.formnode.get("value")})).then(this._update_call_back);},_update_call:function(_1b){if(_1b.success=="OK"){_14.publish("/clipping/update",_1b.data);}else{alert("Problem");}this.savebtn.cancel();},load:function(_1c){this.savebtn.cancel();this.deletebtn.cancel();this.clippingid.set("value",_1c.clippingid);this._change_client_enabled=false;this.clientid.set("value",_1c.clientid);this.issueid.set("value",_1c.issueid);this._change_client_enabled=true;this.clippingstoneid.set("value",_1c.clippingstoneid);this.outletid.set("value",_1c.outletid);this.outletid.set("Displayvalue",_1c.outletname);this.emailtemplateid.set("value",_1c.emailtemplateid);this.statementid.set("value",_1c.statementid);},_delete:function(){if(confirm("Delete Clipping")){this.deletebtn.makeBusy();_15.post("/clippings/delete_clipping",_13.make_params({data:{clippingid:this.clippingid.get("value")}})).then(this._delete_call_back);}else{this.deletebtn.cancel();}},_delete_call:function(_1d){if(_1d.success=="OK"){_14.publish("/clipping/deleted",_1d.data);}else{alert("Problem");}this.deletebtn.cancel();},_client_change:function(){var _1e=this.clientid.get("value");if(_1e==undefined){_1e=-1;}this.issueid.set("query",{clientid:_1e});if(this._change_client_enabled==true){this.issueid.set("value",null);}this._change_client_enabled=true;}});});},"dojo/currency":function(){define(["./_base/array","./_base/lang","./number","./i18n","./i18n!./cldr/nls/currency","./cldr/monetary"],function(_1f,_20,_21,_22,_23,_24){var _25={};_20.setObject("dojo.currency",_25);_25._mixInDefaults=function(_26){_26=_26||{};_26.type="currency";var _27=_22.getLocalization("dojo.cldr","currency",_26.locale)||{};var iso=_26.currency;var _28=_24.getData(iso);_1f.forEach(["displayName","symbol","group","decimal"],function(_29){_28[_29]=_27[iso+"_"+_29];});_28.fractional=[true,false];return _20.mixin(_28,_26);};_25.format=function(_2a,_2b){return _21.format(_2a,_25._mixInDefaults(_2b));};_25.regexp=function(_2c){return _21.regexp(_25._mixInDefaults(_2c));};_25.parse=function(_2d,_2e){return _21.parse(_2d,_25._mixInDefaults(_2e));};return _25;});},"prcommon2/search/Publisher":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../search/templates/Publisher.html","prcommon2/search/std_search","dojo/_base/lang","dojo/dom-attr","dojo/dom-class","dojo/dom-style","dojo/json","dojo/data/ItemFileReadStore","dojox/data/JsonRestStore","prcommon2/search/std_search","dijit/form/FilteringSelect","prcommon2/search/SearchCount"],function(_2f,_30,_31,_32,_33,_34,_35,_36,_37,_38,_39){return _2f("prcommon2.search.Publisher",[_30,_32],{templateString:_31,constructor:function(){this.store=new _39({target:"/research/admin/publisher/search_list",mode:"search",labelAttribute:"publishername",idProperty:"publisherid"});},postCreate:function(){this.select.set("store",this.store);this.select.set("value",-1);},_changed:function(){this._get_selector(this._get_data());},clear:function(){this.select.set("value",-1);this._get_selector("All");this.inherited(arguments);},_setValueAttr:function(_3a){var _3b=false;this.clear();this._get_selector(this._getValueAttr());},_getValueAttr:function(){return this._get_data();},_get_data:function(){if(this.select.get("value")==""){this.select.set("value",-1);}var _3c=parseInt(this.select.get("value"));if(this._extended){return {data:_3c};}else{this.value=(_3c!=null&&_3c!=-1)?_37.stringify(_3c):"";return this.value;}},_focus:function(){this.select.focus();},_capture_extended_content:function(_3d){var tmp=this.inherited(arguments);tmp.partial=0;return tmp;}});});},"dojox/lang/functional/scan":function(){define(["dojo/_base/kernel","dojo/_base/lang","./lambda"],function(_3e,_3f,df){var _40={};_3f.mixin(df,{scanl:function(a,f,z,o){if(typeof a=="string"){a=a.split("");}o=o||_3e.global;f=df.lambda(f);var t,n,i;if(_3f.isArray(a)){t=new Array((n=a.length)+1);t[0]=z;for(i=0;i<n;z=f.call(o,z,a[i],i,a),t[++i]=z){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){t=[z];for(i=0;a.hasNext();t.push(z=f.call(o,z,a.next(),i++,a))){}}else{t=[z];for(i in a){if(!(i in _40)){t.push(z=f.call(o,z,a[i],i,a));}}}}return t;},scanl1:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||_3e.global;f=df.lambda(f);var t,n,z,_41=true;if(_3f.isArray(a)){t=new Array(n=a.length);t[0]=z=a[0];for(var i=1;i<n;t[i]=z=f.call(o,z,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){if(a.hasNext()){t=[z=a.next()];for(i=1;a.hasNext();t.push(z=f.call(o,z,a.next(),i++,a))){}}}else{for(i in a){if(!(i in _40)){if(_41){t=[z=a[i]];_41=false;}else{t.push(z=f.call(o,z,a[i],i,a));}}}}}return t;},scanr:function(a,f,z,o){if(typeof a=="string"){a=a.split("");}o=o||_3e.global;f=df.lambda(f);var n=a.length,t=new Array(n+1),i=n;t[n]=z;for(;i>0;--i,z=f.call(o,z,a[i],i,a),t[i]=z){}return t;},scanr1:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||_3e.global;f=df.lambda(f);var n=a.length,t=new Array(n),z=a[n-1],i=n-1;t[i]=z;for(;i>0;--i,z=f.call(o,z,a[i],i,a),t[i]=z){}return t;}});});},"dijit/selection":function(){define(["dojo/_base/array","dojo/dom","dojo/_base/lang","dojo/sniff","dojo/_base/window","dijit/focus"],function(_42,dom,_43,has,_44,_45){var _46=function(win){var doc=win.document;this.getType=function(){if(doc.getSelection){var _47="text";var _48;try{_48=win.getSelection();}catch(e){}if(_48&&_48.rangeCount==1){var _49=_48.getRangeAt(0);if((_49.startContainer==_49.endContainer)&&((_49.endOffset-_49.startOffset)==1)&&(_49.startContainer.nodeType!=3)){_47="control";}}return _47;}else{return doc.selection.type.toLowerCase();}};this.getSelectedText=function(){if(doc.getSelection){var _4a=win.getSelection();return _4a?_4a.toString():"";}else{if(this.getType()=="control"){return null;}return doc.selection.createRange().text;}};this.getSelectedHtml=function(){if(doc.getSelection){var _4b=win.getSelection();if(_4b&&_4b.rangeCount){var i;var _4c="";for(i=0;i<_4b.rangeCount;i++){var _4d=_4b.getRangeAt(i).cloneContents();var div=doc.createElement("div");div.appendChild(_4d);_4c+=div.innerHTML;}return _4c;}return null;}else{if(this.getType()=="control"){return null;}return doc.selection.createRange().htmlText;}};this.getSelectedElement=function(){if(this.getType()=="control"){if(doc.getSelection){var _4e=win.getSelection();return _4e.anchorNode.childNodes[_4e.anchorOffset];}else{var _4f=doc.selection.createRange();if(_4f&&_4f.item){return doc.selection.createRange().item(0);}}}return null;};this.getParentElement=function(){if(this.getType()=="control"){var p=this.getSelectedElement();if(p){return p.parentNode;}}else{if(doc.getSelection){var _50=doc.getSelection();if(_50){var _51=_50.anchorNode;while(_51&&(_51.nodeType!=1)){_51=_51.parentNode;}return _51;}}else{var r=doc.selection.createRange();r.collapse(true);return r.parentElement();}}return null;};this.hasAncestorElement=function(_52){return this.getAncestorElement.apply(this,arguments)!=null;};this.getAncestorElement=function(_53){var _54=this.getSelectedElement()||this.getParentElement();return this.getParentOfType(_54,arguments);};this.isTag=function(_55,_56){if(_55&&_55.tagName){var _57=_55.tagName.toLowerCase();for(var i=0;i<_56.length;i++){var _58=String(_56[i]).toLowerCase();if(_57==_58){return _58;}}}return "";};this.getParentOfType=function(_59,_5a){while(_59){if(this.isTag(_59,_5a).length){return _59;}_59=_59.parentNode;}return null;};this.collapse=function(_5b){if(doc.getSelection){var _5c=win.getSelection();if(_5c.removeAllRanges){if(_5b){_5c.collapseToStart();}else{_5c.collapseToEnd();}}else{_5c.collapse(_5b);}}else{var _5d=doc.selection.createRange();_5d.collapse(_5b);_5d.select();}};this.remove=function(){var sel=doc.selection;if(doc.getSelection){sel=win.getSelection();sel.deleteFromDocument();return sel;}else{if(sel.type.toLowerCase()!="none"){sel.clear();}return sel;}};this.selectElementChildren=function(_5e,_5f){var _60;_5e=dom.byId(_5e);if(doc.getSelection){var _61=win.getSelection();if(has("opera")){if(_61.rangeCount){_60=_61.getRangeAt(0);}else{_60=doc.createRange();}_60.setStart(_5e,0);_60.setEnd(_5e,(_5e.nodeType==3)?_5e.length:_5e.childNodes.length);_61.addRange(_60);}else{_61.selectAllChildren(_5e);}}else{_60=_5e.ownerDocument.body.createTextRange();_60.moveToElementText(_5e);if(!_5f){try{_60.select();}catch(e){}}}};this.selectElement=function(_62,_63){var _64;_62=dom.byId(_62);if(doc.getSelection){var _65=doc.getSelection();_64=doc.createRange();if(_65.removeAllRanges){if(has("opera")){if(_65.getRangeAt(0)){_64=_65.getRangeAt(0);}}_64.selectNode(_62);_65.removeAllRanges();_65.addRange(_64);}}else{try{var tg=_62.tagName?_62.tagName.toLowerCase():"";if(tg==="img"||tg==="table"){_64=_44.body(doc).createControlRange();}else{_64=_44.body(doc).createRange();}_64.addElement(_62);if(!_63){_64.select();}}catch(e){this.selectElementChildren(_62,_63);}}};this.inSelection=function(_66){if(_66){var _67;var _68;if(doc.getSelection){var sel=win.getSelection();if(sel&&sel.rangeCount>0){_68=sel.getRangeAt(0);}if(_68&&_68.compareBoundaryPoints&&doc.createRange){try{_67=doc.createRange();_67.setStart(_66,0);if(_68.compareBoundaryPoints(_68.START_TO_END,_67)===1){return true;}}catch(e){}}}else{_68=doc.selection.createRange();try{_67=_66.ownerDocument.body.createTextRange();_67.moveToElementText(_66);}catch(e2){}if(_68&&_67){if(_68.compareEndPoints("EndToStart",_67)===1){return true;}}}}return false;};this.getBookmark=function(){var bm,rg,tg,sel=doc.selection,cf=_45.curNode;if(doc.getSelection){sel=win.getSelection();if(sel){if(sel.isCollapsed){tg=cf?cf.tagName:"";if(tg){tg=tg.toLowerCase();if(tg=="textarea"||(tg=="input"&&(!cf.type||cf.type.toLowerCase()=="text"))){sel={start:cf.selectionStart,end:cf.selectionEnd,node:cf,pRange:true};return {isCollapsed:(sel.end<=sel.start),mark:sel};}}bm={isCollapsed:true};if(sel.rangeCount){bm.mark=sel.getRangeAt(0).cloneRange();}}else{rg=sel.getRangeAt(0);bm={isCollapsed:false,mark:rg.cloneRange()};}}}else{if(sel){tg=cf?cf.tagName:"";tg=tg.toLowerCase();if(cf&&tg&&(tg=="button"||tg=="textarea"||tg=="input")){if(sel.type&&sel.type.toLowerCase()=="none"){return {isCollapsed:true,mark:null};}else{rg=sel.createRange();return {isCollapsed:rg.text&&rg.text.length?false:true,mark:{range:rg,pRange:true}};}}bm={};try{rg=sel.createRange();bm.isCollapsed=!(sel.type=="Text"?rg.htmlText.length:rg.length);}catch(e){bm.isCollapsed=true;return bm;}if(sel.type.toUpperCase()=="CONTROL"){if(rg.length){bm.mark=[];var i=0,len=rg.length;while(i<len){bm.mark.push(rg.item(i++));}}else{bm.isCollapsed=true;bm.mark=null;}}else{bm.mark=rg.getBookmark();}}else{}}return bm;};this.moveToBookmark=function(_69){var _6a=_69.mark;if(_6a){if(doc.getSelection){var sel=win.getSelection();if(sel&&sel.removeAllRanges){if(_6a.pRange){var n=_6a.node;n.selectionStart=_6a.start;n.selectionEnd=_6a.end;}else{sel.removeAllRanges();sel.addRange(_6a);}}else{}}else{if(doc.selection&&_6a){var rg;if(_6a.pRange){rg=_6a.range;}else{if(_43.isArray(_6a)){rg=doc.body.createControlRange();_42.forEach(_6a,function(n){rg.addElement(n);});}else{rg=doc.body.createTextRange();rg.moveToBookmark(_6a);}}rg.select();}}}};this.isCollapsed=function(){return this.getBookmark().isCollapsed;};};var _6b=new _46(window);_6b.SelectionManager=_46;return _6b;});},"prcommon2/clippings/charts/piechart":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../charts/templates/piechart.html","dijit/layout/BorderContainer","dojox/charting/Chart","dojox/charting/themes/Claro","dojox/charting/themes/Tom","dojox/charting/themes/PrimaryColors","dojox/charting/plot2d/Pie","dojo/store/Observable","dojo/store/Memory","dojox/charting/action2d/Tooltip","dojox/charting/action2d/MoveSlice","dojox/charting/action2d/Magnify","dojox/charting/plot2d/Markers","dojox/charting/widget/SelectableLegend","dojox/charting/axis2d/Default","dojo/request","ttl/utilities2","dojo/_base/lang","dojo/topic","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dijit/Dialog","prcommon2/clippings/filter","prcommon2/reports/ReportBuilder","prcommon2/clippings/charts/preferences",],function(_6c,_6d,_6e,_6f,_70,_71,Tom,_72,Pie,_73,_74,_75,_76,_77,_78,_79,_7a,_7b,_7c,_7d,_7e,_7f,_80,_81,_82){return _6c("prcommon2.clippings.charts.piechart",[_6d,_6f],{templateString:_6e,gutters:false,back_colour:"black",fore_color:"lightblue",constructor:function(){this._pieChart=null;this._show_call_back=_7d.hitch(this,this._show_call);this._error_call_back=_7d.hitch(this,this._error_call);this._chart_event_call_back=_7d.hitch(this,this._chart_event_call);},startup:function(){this.inherited(arguments);this.render_chart();},postCreate:function(){this.inherited(arguments);this.filter_view.set("Updateevent",_7d.hitch(this,this.refesh_view));},_create_pie:function(_83){this._pieChart=new _70(this.chart_node,{title:_83.charttitle,titlePos:"top",titleGap:25,titleFont:"normal normal normal 20pt Arial",titleFontColor:"black"});this._pieChart.setTheme(_72);this._pieChart.addPlot("default",{type:Pie,radius:145,fontColor:"black",labelOffset:0,labelStyle:"columns",htmlLabels:true,font:"normal normal normal 12pt Arial",startAngle:-10});this._pieChart.connectToPlot("default",this._chart_event_call_back);this._pieChart.addAxis("x");this._pieChart.addAxis("y",{min:0,vertical:true,fixLower:"major",fixUpper:"major"});this._pieChart.addSeries(_83.charttitle,_83.data.pie);var _84=new _75(this._pieChart,"default");var _85=new _76(this._pieChart,"default");var _86=new _77(this._pieChart,"default",{scale:1.2});this._pieChart.render();this._leg=new _79({chart:this._pieChart,horizontal:false},this.legend_node);},refesh_view:function(){this.render_chart();this._leg.destroy();delete this._leg;this._pieChart.destroy();delete this._pieChart;this.legend_node=_81.place("<div data-dojo-attach-point=\"legend_node\" style=\"height:400px\"></div>",this.legend_node_outer,"first");},_refesh_chart:function(_87){this._create_pie(_87);},render_chart:function(){var _88={charttype:"pie"};_7d.mixin(_88,_7d.mixin(this.filter_view.get("filter")));_7b.post("/clippings/charting/get_chart_data",_7c.make_params({data:_88})).then(this._show_call_back,this._error_call_back);},_show_call:function(_89){if(_89.success=="OK"){if(this._pieChart==null){this._create_pie(_89.data);}else{this._refesh_chart(_89.data);}}this.filter_view.update_complete();},_chart_event_call:function(evt){if(evt.type=="onclick"){var _8a=this.filter_view._get_filters(false,true);_8a.clippingstypedescription=evt.run.data[evt.index].label;_8a.clippingstypeid=evt.run.data[evt.index].clippingstypeid;_7e.publish("/clipping/refresh_details",_8a);_7e.publish("/clipping/change_view","clippings_view");}},_preferences:function(){var _8b=this.filter_view._get_filters(false,true);var _8c={};_8c["reportoutputtypeid"]=0;_8c["reporttemplateid"]=25;_8c["drange"]=_8b.drange;_8c["tones"]=_8b.tones;_8c["clientid"]=_8b.clientid;_8c["issueid"]=_8b.issueid;var _8d=[];for(var i=0;i<=this._leg._cbs.length-1;i++){if(this._leg._cbs[i].checked){_8d.push(this._leg.legends[i].innerText);}}this.preferences_ctrl._load(this.preferences_dlg,_8c,_8d);this.preferences_dlg.show();},});});},"prcommon2/clippings/output_std":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../clippings/templates/output_std.html","dijit/layout/ContentPane","dijit/layout/BorderContainer","ttl/utilities2","dojo/topic","dojo/request","dojox/data/JsonRestStore","ttl/store/JsonRest","dojo/store/Observable","dojo/_base/lang","dojo/dom-attr","dojo/data/ItemFileReadStore","dojo/dom-class","dojo/dom-construct","dijit/form/ValidationTextBox","dijit/form/DateTextBox","dijit/form/NumberTextBox","dijit/form/CurrencyTextBox","dijit/form/Textarea","dijit/form/Select","dojox/validate/regexp","prcommon2/outlet/OutletSelect","prcommon2/date/daterange","dijit/form/ComboBox","prcommon2/reports/ReportBuilder"],function(_8e,_8f,_90,_91,_92,_93,_94,_95,_96,_97,_98,_99,_9a,_9b,_9c,_9d){return _8e("prcommon2.clippings.output_std",[_8f],{templateString:_90,constructor:function(){this._dialog=null;this._complete_call_back=dojo.hitch(this,this._complete_call);this._clients=new _96({target:"/clients/rest_combo",idAttribute:"id"});this._issues=new _96({target:"/crm/issues/issues_list_rest",idAttribute:"id"});this._customerid=null;},postCreate:function(){this.clientid.set("store",this._clients);this.issueid.set("store",this._issues);_9a.set(this.issue_label,"innerHTML",PRMAX.utils.settings.issue_description);_9a.set(this.client_label,"innerHTML",PRMAX.utils.settings.client_name);this.inherited(arguments);},load:function(_9e,_9f){this._dialog=_9e;this._customerid=_9f;},_do_report:function(){var _a0={};_a0["data"]={};if(this.pdf.checked){_a0["reportoutputtypeid"]=0;}else{if(this.excel.checked){_a0["reportoutputtypeid"]=this.excel.get("value");}else{if(this.csv.checked){_a0["reportoutputtypeid"]=this.csv.get("value");}}}_a0["reporttitle"]=this.reporttitle.get("value");if(this.source_selected.checked){_a0["source"]="selected";}else{_a0["source"]="criteria";_a0["drange"]=this.drange.get("value");_a0["clientid"]=this.clientid.get("value");_a0["issueid"]=this.issueid.get("value");}_a0["reporttemplateid"]=35;_a0["customerid"]=this._customerid;this.report_dlg.show();this.report_node.SetCompleted(this._complete_call_back);this.report_node.start(_a0);},clear:function(){this.clientid.set("value",null);this.issueid.set("value",null);this.drange.clear();this.report_node.hide();_9c.remove(this.report_node.domNode,"prmaxhidden");},_close:function(){if(this._dialog){this._dialog.hide();this.clear();}},_complete_call:function(){this.report_dlg.hide();this._close();},_change_source:function(){if(this.source_selected.checked){_9c.add(this.client_label,"prmaxhidden");_9c.add(this.clientid.domNode,"prmaxhidden");_9c.add(this.issue_label,"prmaxhidden");_9c.add(this.issueid.domNode,"prmaxhidden");_9c.add(this.drange_label,"prmaxhidden");_9c.add(this.drange.domNode,"prmaxhidden");}else{_9c.remove(this.client_label,"prmaxhidden");_9c.remove(this.clientid.domNode,"prmaxhidden");_9c.remove(this.issue_label,"prmaxhidden");_9c.remove(this.issueid.domNode,"prmaxhidden");_9c.remove(this.drange_label,"prmaxhidden");_9c.remove(this.drange.domNode,"prmaxhidden");}},_change_format:function(){if(this.pdf.checked||this.excel.checked){_9c.remove(this.reporttitle_label,"prmaxhidden");_9c.remove(this.reporttitle.domNode,"prmaxhidden");}else{_9c.add(this.reporttitle_label,"prmaxhidden");_9c.add(this.reporttitle.domNode,"prmaxhidden");}}});});},"prcommon2/clippings/emails":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../clippings/templates/emails.html","ttl/utilities2","dojo/topic","dojo/request","dojo/_base/lang","dojo/dom-style","dojo/dom-attr","dojo/dom-class","dojo/data/ItemFileReadStore","dojo/data/ItemFileWriteStore","ttl/store/JsonRest","dojo/store/Observable","dojo/store/Memory","prcommon2/clippings/add_server","prcommon2/clippings/add_header","prcommon2/clippings/add_footer","prcommon2/clippings/add_layout"],function(_a1,_a2,_a3,_a4,_a5,_a6,_a7,_a8,_a9,_aa,_ab,_ac,_ad,_ae,_af){return _a1("prcommon2.clippings.emails",[_a2],{templateString:_a3,constructor:function(){this._send_call_back=_a7.hitch(this,this._send_call);this._customerid=PRMAX.utils.settings.cid;this._customeremailserver=new _ac({url:"/common/lookups?searchtype=customeremailserver"});this._emailheader=new _ac({url:"/common/lookups?searchtype=emailheader"});this._emailfooter=new _ac({url:"/common/lookups?searchtype=emailfooter"});this._emaillayout=new _ac({url:"/common/lookups?searchtype=emaillayout"});_a5.subscribe("customeremailserver/add",_a7.hitch(this,this._add_customeremailserver_event));_a5.subscribe("/emailheader/add",_a7.hitch(this,this._add_emailheader_event));_a5.subscribe("/emailfooter/add",_a7.hitch(this,this._add_emailfooter_event));_a5.subscribe("/emaillayout/add",_a7.hitch(this,this._add_emaillayout_event));this.userid=PRMAX.utils.settings.uid;},postCreate:function(){this.inherited(arguments);this.customeremailserverid.set("store",this._customeremailserver);this.emailheaderid.set("store",this._emailheader);this.emailfooterid.set("store",this._emailfooter);this.emaillayoutid.set("store",this._emaillayout);},load:function(_b0){this._dialog=_b0;},_send:function(){if(_a4.form_validator(this.form)==false){alert("Please Enter Details");this.sendbtn.cancel();return false;}var _b1=this.form.get("value");_b1["userid"]=this.userid;this.sendbtn.makeBusy();_a6.post("/clippings/emailsender/send_clippings_email",_a4.make_params({data:_b1})).then(this._send_call_back);},_send_call:function(_b2){if(_b2.success=="OK"){alert("Clippings report has been sent");this._dialog.hide();}else{alert("Problem sending clippings report");}this.sendbtn.cancel();},_add_server:function(){this.add_server_dialog.show();this.add_server_ctrl.load(this.add_server_dialog,this._customerid);},_add_customeremailserver_event:function(_b3){var _b4={};_b4.id=_b3[0].customeremailserverid;_b4.name=_b3[0].fromemailaddress;this._customeremailserver.newItem(_b4);this.customeremailserverid.set("value",_b4.id);},_add_header:function(){this.add_header_dialog.show();this.add_header_ctrl.load(this.add_header_dialog,this._customerid);},_add_emailheader_event:function(_b5){var _b6={};_b6.id=_b5[0].emailheaderid;_b6.name=_b5[0].emailheaderdescription;this._emailheader.newItem(_b6);this.emailheaderid.set("value",_b6.id);},_add_footer:function(){this.add_footer_dialog.show();this.add_footer_ctrl.load(this.add_footer_dialog,this._customerid);},_add_emailfooter_event:function(_b7){var _b8={};_b8.id=_b7[0].emailfooterid;_b8.name=_b7[0].emailfooterdescription;this._emailfooter.newItem(_b8);this.emailfooterid.set("value",_b8.id);},});});},"dijit/Viewport":function(){define(["dojo/Evented","dojo/on","dojo/domReady","dojo/sniff","dojo/window"],function(_b9,on,_ba,has,_bb){var _bc=new _b9();var _bd;_ba(function(){var _be=_bb.getBox();_bc._rlh=on(window,"resize",function(){var _bf=_bb.getBox();if(_be.h==_bf.h&&_be.w==_bf.w){return;}_be=_bf;_bc.emit("resize");});if(has("ie")==8){var _c0=screen.deviceXDPI;setInterval(function(){if(screen.deviceXDPI!=_c0){_c0=screen.deviceXDPI;_bc.emit("resize");}},500);}if(has("ios")){on(document,"focusin",function(evt){_bd=evt.target;});on(document,"focusout",function(evt){_bd=null;});}});_bc.getEffectiveBox=function(doc){var box=_bb.getBox(doc);var tag=_bd&&_bd.tagName&&_bd.tagName.toLowerCase();if(has("ios")&&_bd&&!_bd.readOnly&&(tag=="textarea"||(tag=="input"&&/^(color|email|number|password|search|tel|text|url)$/.test(_bd.type)))){box.h*=(orientation==0||orientation==180?0.66:0.4);var _c1=_bd.getBoundingClientRect();box.h=Math.max(box.h,_c1.top+_c1.height);}return box;};return _bc;});},"dijit/Dialog":function(){define(["require","dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/Deferred","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/fx","dojo/i18n","dojo/keys","dojo/_base/lang","dojo/on","dojo/ready","dojo/sniff","dojo/window","dojo/dnd/Moveable","dojo/dnd/TimedMoveable","./focus","./_base/manager","./_Widget","./_TemplatedMixin","./_CssStateMixin","./form/_FormMixin","./_DialogMixin","./DialogUnderlay","./layout/ContentPane","./layout/utils","dojo/text!./templates/Dialog.html","./a11yclick","dojo/i18n!./nls/common"],function(_c2,_c3,_c4,_c5,_c6,dom,_c7,_c8,_c9,fx,_ca,_cb,_cc,on,_cd,has,_ce,_cf,_d0,_d1,_d2,_d3,_d4,_d5,_d6,_d7,_d8,_d9,_da,_db){var _dc=new _c6();_dc.resolve(true);function nop(){};var _dd=_c5("dijit._DialogBase"+(has("dojo-bidi")?"_NoBidi":""),[_d4,_d6,_d7,_d5],{templateString:_db,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:{node:"titleNode",type:"innerHTML"},open:false,duration:_d2.defaultDuration,refocus:true,autofocus:true,_firstFocusItem:null,_lastFocusItem:null,draggable:true,_setDraggableAttr:function(val){this._set("draggable",val);},maxRatio:0.9,closable:true,_setClosableAttr:function(val){this.closeButtonNode.style.display=val?"":"none";this._set("closable",val);},postMixInProperties:function(){var _de=_ca.getLocalization("dijit","common");_cc.mixin(this,_de);this.inherited(arguments);},postCreate:function(){_c9.set(this.domNode,{display:"none",position:"absolute"});this.ownerDocumentBody.appendChild(this.domNode);this.inherited(arguments);_c4.after(this,"onExecute",_cc.hitch(this,"hide"),true);_c4.after(this,"onCancel",_cc.hitch(this,"hide"),true);this._modalconnects=[];},onLoad:function(){this.resize();this._position();if(this.autofocus&&_df.isTop(this)){this._getFocusItems();_d1.focus(this._firstFocusItem);}this.inherited(arguments);},focus:function(){this._getFocusItems();_d1.focus(this._firstFocusItem);},_endDrag:function(){var _e0=_c8.position(this.domNode),_e1=_ce.getBox(this.ownerDocument);_e0.y=Math.min(Math.max(_e0.y,0),(_e1.h-_e0.h));_e0.x=Math.min(Math.max(_e0.x,0),(_e1.w-_e0.w));this._relativePosition=_e0;this._position();},_setup:function(){var _e2=this.domNode;if(this.titleBar&&this.draggable){this._moveable=new ((has("ie")==6)?_d0:_cf)(_e2,{handle:this.titleBar});_c4.after(this._moveable,"onMoveStop",_cc.hitch(this,"_endDrag"),true);}else{_c7.add(_e2,"dijitDialogFixed");}this.underlayAttrs={dialogId:this.id,"class":_c3.map(this["class"].split(/\s/),function(s){return s+"_underlay";}).join(" "),_onKeyDown:_cc.hitch(this,"_onKey"),ownerDocument:this.ownerDocument};},_size:function(){this.resize();},_position:function(){if(!_c7.contains(this.ownerDocumentBody,"dojoMove")){var _e3=this.domNode,_e4=_ce.getBox(this.ownerDocument),p=this._relativePosition,bb=_c8.position(_e3),l=Math.floor(_e4.l+(p?Math.min(p.x,_e4.w-bb.w):(_e4.w-bb.w)/2)),t=Math.floor(_e4.t+(p?Math.min(p.y,_e4.h-bb.h):(_e4.h-bb.h)/2));_c9.set(_e3,{left:l+"px",top:t+"px"});}},_onKey:function(evt){if(evt.keyCode==_cb.TAB){this._getFocusItems();var _e5=evt.target;if(this._firstFocusItem==this._lastFocusItem){evt.stopPropagation();evt.preventDefault();}else{if(_e5==this._firstFocusItem&&evt.shiftKey){_d1.focus(this._lastFocusItem);evt.stopPropagation();evt.preventDefault();}else{if(_e5==this._lastFocusItem&&!evt.shiftKey){_d1.focus(this._firstFocusItem);evt.stopPropagation();evt.preventDefault();}}}}else{if(this.closable&&evt.keyCode==_cb.ESCAPE){this.onCancel();evt.stopPropagation();evt.preventDefault();}}},show:function(){if(this.open){return _dc.promise;}if(!this._started){this.startup();}if(!this._alreadyInitialized){this._setup();this._alreadyInitialized=true;}if(this._fadeOutDeferred){this._fadeOutDeferred.cancel();_df.hide(this);}var win=_ce.get(this.ownerDocument);this._modalconnects.push(on(win,"scroll",_cc.hitch(this,"resize",null)));this._modalconnects.push(on(this.domNode,"keydown",_cc.hitch(this,"_onKey")));_c9.set(this.domNode,{opacity:0,display:""});this._set("open",true);this._onShow();this.resize();this._position();var _e6;this._fadeInDeferred=new _c6(_cc.hitch(this,function(){_e6.stop();delete this._fadeInDeferred;}));this._fadeInDeferred.then(undefined,nop);var _e7=this._fadeInDeferred.promise;_e6=fx.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:_cc.hitch(this,function(){_df.show(this,this.underlayAttrs);}),onEnd:_cc.hitch(this,function(){if(this.autofocus&&_df.isTop(this)){this._getFocusItems();_d1.focus(this._firstFocusItem);}this._fadeInDeferred.resolve(true);delete this._fadeInDeferred;})}).play();return _e7;},hide:function(){if(!this._alreadyInitialized||!this.open){return _dc.promise;}if(this._fadeInDeferred){this._fadeInDeferred.cancel();}var _e8;this._fadeOutDeferred=new _c6(_cc.hitch(this,function(){_e8.stop();delete this._fadeOutDeferred;}));this._fadeOutDeferred.then(undefined,nop);this._fadeOutDeferred.then(_cc.hitch(this,"onHide"));var _e9=this._fadeOutDeferred.promise;_e8=fx.fadeOut({node:this.domNode,duration:this.duration,onEnd:_cc.hitch(this,function(){this.domNode.style.display="none";_df.hide(this);this._fadeOutDeferred.resolve(true);delete this._fadeOutDeferred;})}).play();if(this._scrollConnected){this._scrollConnected=false;}var h;while(h=this._modalconnects.pop()){h.remove();}if(this._relativePosition){delete this._relativePosition;}this._set("open",false);return _e9;},resize:function(dim){if(this.domNode.style.display!="none"){this._checkIfSingleChild();if(!dim){if(this._shrunk){if(this._singleChild){if(typeof this._singleChildOriginalStyle!="undefined"){this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle;delete this._singleChildOriginalStyle;}}_c3.forEach([this.domNode,this.containerNode,this.titleBar,this.actionBarNode],function(_ea){if(_ea){_c9.set(_ea,{position:"static",width:"auto",height:"auto"});}});this.domNode.style.position="absolute";}var _eb=_ce.getBox(this.ownerDocument);_eb.w*=this.maxRatio;_eb.h*=this.maxRatio;var bb=_c8.position(this.domNode);if(bb.w>=_eb.w||bb.h>=_eb.h){dim={w:Math.min(bb.w,_eb.w),h:Math.min(bb.h,_eb.h)};this._shrunk=true;}else{this._shrunk=false;}}if(dim){_c8.setMarginBox(this.domNode,dim);var _ec=[];if(this.titleBar){_ec.push({domNode:this.titleBar,region:"top"});}if(this.actionBarNode){_ec.push({domNode:this.actionBarNode,region:"bottom"});}var _ed={domNode:this.containerNode,region:"center"};_ec.push(_ed);var _ee=_da.marginBox2contentBox(this.domNode,dim);_da.layoutChildren(this.domNode,_ee,_ec);if(this._singleChild){var cb=_da.marginBox2contentBox(this.containerNode,_ed);this._singleChild.resize({w:cb.w,h:cb.h});}else{this.containerNode.style.overflow="auto";this._layoutChildren();}}else{this._layoutChildren();}if(!has("touch")&&!dim){this._position();}}},_layoutChildren:function(){_c3.forEach(this.getChildren(),function(_ef){if(_ef.resize){_ef.resize();}});},destroy:function(){if(this._fadeInDeferred){this._fadeInDeferred.cancel();}if(this._fadeOutDeferred){this._fadeOutDeferred.cancel();}if(this._moveable){this._moveable.destroy();}var h;while(h=this._modalconnects.pop()){h.remove();}_df.hide(this);this.inherited(arguments);}});if(has("dojo-bidi")){_dd=_c5("dijit._DialogBase",_dd,{_setTitleAttr:function(_f0){this._set("title",_f0);this.titleNode.innerHTML=_f0;this.applyTextDir(this.titleNode);},_setTextDirAttr:function(_f1){if(this._created&&this.textDir!=_f1){this._set("textDir",_f1);this.set("title",this.title);}}});}var _f2=_c5("dijit.Dialog",[_d9,_dd],{});_f2._DialogBase=_dd;var _df=_f2._DialogLevelManager={_beginZIndex:950,show:function(_f3,_f4){ds[ds.length-1].focus=_d1.curNode;var _f5=ds[ds.length-1].dialog?ds[ds.length-1].zIndex+2:_f2._DialogLevelManager._beginZIndex;_c9.set(_f3.domNode,"zIndex",_f5);_d8.show(_f4,_f5-1);ds.push({dialog:_f3,underlayAttrs:_f4,zIndex:_f5});},hide:function(_f6){if(ds[ds.length-1].dialog==_f6){ds.pop();var pd=ds[ds.length-1];if(ds.length==1){_d8.hide();}else{_d8.show(pd.underlayAttrs,pd.zIndex-1);}if(_f6.refocus){var _f7=pd.focus;if(pd.dialog&&(!_f7||!dom.isDescendant(_f7,pd.dialog.domNode))){pd.dialog._getFocusItems();_f7=pd.dialog._firstFocusItem;}if(_f7){try{_f7.focus();}catch(e){}}}}else{var idx=_c3.indexOf(_c3.map(ds,function(_f8){return _f8.dialog;}),_f6);if(idx!=-1){ds.splice(idx,1);}}},isTop:function(_f9){return ds[ds.length-1].dialog==_f9;}};var ds=_f2._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];_d1.watch("curNode",function(_fa,_fb,_fc){var _fd=ds[ds.length-1].dialog;if(_fc&&_fd&&!_fd._fadeOutDeferred&&_fc.ownerDocument==_fd.ownerDocument){do{if(_fc==_fd.domNode||_c7.contains(_fc,"dijitPopup")){return;}}while(_fc=_fc.parentNode);_fd.focus();}});if(has("dijit-legacy-requires")){_cd(0,function(){var _fe=["dijit/TooltipDialog"];_c2(_fe);});}return _f2;});},"dojox/charting/plot2d/Default":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/_base/array","dojo/has","./CartesianBase","./_PlotEvents","./common","dojox/lang/functional","dojox/lang/functional/reversed","dojox/lang/utils","dojox/gfx/fx"],function(_ff,_100,arr,has,_101,_102,dc,df,dfr,du,fx){var _103=dfr.lambda("item.purgeGroup()");var _104=1200;return _100("dojox.charting.plot2d.Default",[_101,_102],{defaultParams:{lines:true,areas:false,markers:false,tension:"",animate:false,enableCache:false,interpolate:false},optionalParams:{stroke:{},outline:{},shadow:{},fill:{},filter:{},styleFunc:null,font:"",fontColor:"",marker:"",markerStroke:{},markerOutline:{},markerShadow:{},markerFill:{},markerFont:"",markerFontColor:"",zeroLine:0},constructor:function(_105,_106){this.opt=_ff.clone(_ff.mixin(this.opt,this.defaultParams));du.updateWithObject(this.opt,_106);du.updateWithPattern(this.opt,_106,this.optionalParams);this.animate=this.opt.animate;},createPath:function(run,_107,_108){var path;if(this.opt.enableCache&&run._pathFreePool.length>0){path=run._pathFreePool.pop();path.setShape(_108);_107.add(path);}else{path=_107.createPath(_108);}if(this.opt.enableCache){run._pathUsePool.push(path);}return path;},buildSegments:function(i,_109){var run=this.series[i],min=_109?Math.max(0,Math.floor(this._hScaler.bounds.from-1)):0,max=_109?Math.min(run.data.length,Math.ceil(this._hScaler.bounds.to)):run.data.length,rseg=null,_10a=[];for(var j=min;j<max;j++){if(!this.isNullValue(run.data[j])){if(!rseg){rseg=[];_10a.push({index:j,rseg:rseg});}rseg.push((_109&&run.data[j].hasOwnProperty("y"))?run.data[j].y:run.data[j]);}else{if(!this.opt.interpolate||_109){rseg=null;}}}return _10a;},render:function(dim,_10b){if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_10b);}this.resetEvents();this.dirty=this.isDirty();var s;if(this.dirty){arr.forEach(this.series,_103);this._eventSeries={};this.cleanGroup();this.getGroup().setTransform(null);s=this.getGroup();df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_10c,_10d,_10e=this.events();for(var i=0;i<this.series.length;i++){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();if(this.opt.enableCache){run._pathFreePool=(run._pathFreePool?run._pathFreePool:[]).concat(run._pathUsePool?run._pathUsePool:[]);run._pathUsePool=[];}if(!run.data.length){run.dirty=false;t.skip();continue;}var _10f=t.next(this.opt.areas?"area":"line",[this.opt,run],true),_110,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_111=this._eventSeries[run.name]=new Array(run.data.length);s=run.group;if(run.hidden){if(this.opt.lines){run.dyn.stroke=_10f.series.stroke;}if(run.markers||(run.markers===undefined&&this.opt.markers)){run.dyn.markerFill=_10f.marker.fill;run.dyn.markerStroke=_10f.marker.stroke;run.dyn.marker=_10f.symbol;}if(this.opt.areas){run.dyn.fill=_10f.series.fill;}continue;}var _112=arr.some(run.data,function(item){return typeof item=="number"||(item&&!item.hasOwnProperty("x"));});var _113=this.buildSegments(i,_112);for(var seg=0;seg<_113.length;seg++){var _114=_113[seg];if(_112){_110=arr.map(_114.rseg,function(v,i){return {x:ht(i+_114.index+1)+_10b.l,y:dim.height-_10b.b-vt(v),data:v};},this);}else{_110=arr.map(_114.rseg,function(v){return {x:ht(v.x)+_10b.l,y:dim.height-_10b.b-vt(v.y),data:v};},this);}if(_112&&this.opt.interpolate){while(seg<_113.length){seg++;_114=_113[seg];if(_114){_110=_110.concat(arr.map(_114.rseg,function(v,i){return {x:ht(i+_114.index+1)+_10b.l,y:dim.height-_10b.b-vt(v),data:v};},this));}}}var _115=this.opt.tension?dc.curve(_110,this.opt.tension):"";if(this.opt.areas&&_110.length>1){var fill=this._plotFill(_10f.series.fill,dim,_10b),_116=_ff.clone(_110),_117=dim.height-_10b.b;if(!isNaN(this.opt.zeroLine)){_117=Math.max(_10b.t,Math.min(dim.height-_10b.b-vt(this.opt.zeroLine),_117));}if(this.opt.tension){var _118="L"+_116[_116.length-1].x+","+_117+" L"+_116[0].x+","+_117+" L"+_116[0].x+","+_116[0].y;run.dyn.fill=s.createPath(_115+" "+_118).setFill(fill).getFill();}else{_116.push({x:_110[_110.length-1].x,y:_117});_116.push({x:_110[0].x,y:_117});_116.push(_110[0]);run.dyn.fill=s.createPolyline(_116).setFill(fill).getFill();}}if(this.opt.lines||this.opt.markers){_10c=_10f.series.stroke;if(_10f.series.outline){_10d=run.dyn.outline=dc.makeStroke(_10f.series.outline);_10d.width=2*_10d.width+(_10c&&_10c.width||0);}}if(this.opt.markers){run.dyn.marker=_10f.symbol;}var _119=null,_11a=null,_11b=null;if(_10c&&_10f.series.shadow&&_110.length>1){var _11c=_10f.series.shadow,_11d=arr.map(_110,function(c){return {x:c.x+_11c.dx,y:c.y+_11c.dy};});if(this.opt.lines){if(this.opt.tension){run.dyn.shadow=s.createPath(dc.curve(_11d,this.opt.tension)).setStroke(_11c).getStroke();}else{run.dyn.shadow=s.createPolyline(_11d).setStroke(_11c).getStroke();}}if(this.opt.markers&&_10f.marker.shadow){_11c=_10f.marker.shadow;_11b=arr.map(_11d,function(c){return this.createPath(run,s,"M"+c.x+" "+c.y+" "+_10f.symbol).setStroke(_11c).setFill(_11c.color);},this);}}if(this.opt.lines&&_110.length>1){var _11e;if(_10d){if(this.opt.tension){run.dyn.outline=s.createPath(_115).setStroke(_10d).getStroke();}else{run.dyn.outline=s.createPolyline(_110).setStroke(_10d).getStroke();}}if(this.opt.tension){run.dyn.stroke=(_11e=s.createPath(_115)).setStroke(_10c).getStroke();}else{run.dyn.stroke=(_11e=s.createPolyline(_110)).setStroke(_10c).getStroke();}if(_11e.setFilter&&_10f.series.filter){_11e.setFilter(_10f.series.filter);}}var _11f=null;if(this.opt.markers){var _120=_10f;_119=new Array(_110.length);_11a=new Array(_110.length);_10d=null;if(_120.marker.outline){_10d=dc.makeStroke(_120.marker.outline);_10d.width=2*_10d.width+(_120.marker.stroke?_120.marker.stroke.width:0);}arr.forEach(_110,function(c,i){if(this.opt.styleFunc||typeof c.data!="number"){var _121=typeof c.data!="number"?[c.data]:[];if(this.opt.styleFunc){_121.push(this.opt.styleFunc(c.data));}_120=t.addMixin(_10f,"marker",_121,true);}else{_120=t.post(_10f,"marker");}var path="M"+c.x+" "+c.y+" "+_120.symbol;if(_10d){_11a[i]=this.createPath(run,s,path).setStroke(_10d);}_119[i]=this.createPath(run,s,path).setStroke(_120.marker.stroke).setFill(_120.marker.fill);},this);run.dyn.markerFill=_120.marker.fill;run.dyn.markerStroke=_120.marker.stroke;if(!_11f&&this.opt.labels){_11f=_119[0].getBoundingBox();}if(_10e){arr.forEach(_119,function(s,i){var o={element:"marker",index:i+_114.index,run:run,shape:s,outline:_11a[i]||null,shadow:_11b&&_11b[i]||null,cx:_110[i].x,cy:_110[i].y};if(_112){o.x=i+_114.index+1;o.y=run.data[i+_114.index];}else{o.x=_114.rseg[i].x;o.y=run.data[i+_114.index].y;}this._connectEvents(o);_111[i+_114.index]=o;},this);}else{delete this._eventSeries[run.name];}}if(this.opt.labels){var _122=_11f?_11f.width:2;var _123=_11f?_11f.height:2;arr.forEach(_110,function(c,i){if(this.opt.styleFunc||typeof c.data!="number"){var _124=typeof c.data!="number"?[c.data]:[];if(this.opt.styleFunc){_124.push(this.opt.styleFunc(c.data));}_120=t.addMixin(_10f,"marker",_124,true);}else{_120=t.post(_10f,"marker");}this.createLabel(s,_114.rseg[i],{x:c.x-_122/2,y:c.y-_123/2,width:_122,height:_123},_120);},this);}}run.dirty=false;}if(has("dojo-bidi")){this._checkOrientation(this.group,dim,_10b);}if(this.animate){var _125=this.getGroup();fx.animateTransform(_ff.delegate({shape:_125,duration:_104,transform:[{name:"translate",start:[0,dim.height-_10b.b],end:[0,0]},{name:"scale",start:[1,0],end:[1,1]},{name:"original"}]},this.animate)).play();}this.dirty=false;return this;}});});},"prcommon2/search/SearchRoles":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../search/templates/SearchRoles.html","prcommon2/search/std_search","dojo/_base/lang","dojo/dom-attr","dojo/dom-class","dojo/dom-style","prcommon2/roles/Roles","prcommon2/search/SearchCount"],function(_126,_127,_128,_129,lang,_12a,_12b,_12c){return _126("prcommon2.search.SearchRoles",[_127,_129],{templateString:_128,name:"",value:"",showdefaultoption:true,constructor:function(){this.disabled=false;this._extended=false;this._load_selection_call=lang.hitch(this,this._load_selection);},postCreate:function(){this.roles_search.set("keytypeid",this.keytypeid);this.roles_search.countnode=this.countnode;if(this.showdefaultoption==true){_12b.remove(this.roles_search.show_search_integration,"prmaxhidden");}else{_12c.set(this.selectarea,"display","none");}this.inherited(arguments);},clear:function(){this.roles_search.clear();this.inherited(arguments);},_setValueAttr:function(_12d){this.roles_search.set("value",_12d);if(this.roles_search.get("count")>0){this.make_open();}},_getValueAttr:function(){return this.roles_search.get("value");},_getIsDefaultAttr:function(){return this.roles_search.search_only.get("checked");},_setExtendedAttr:function(_12e){this._extended=_12e;this.roles_search.set("extended",_12e);},_capture_extended_content:function(data){return data;},_setDisabledAttr:function(_12f){this.disabled=_12f;},_getDisabledAttr:function(){return this.disabled;},_focus:function(){this.roles_search.master_type_text.focus();}});});},"dijit/form/RadioButton":function(){define(["dojo/_base/declare","./CheckBox","./_RadioButtonMixin"],function(_130,_131,_132){return _130("dijit.form.RadioButton",[_131,_132],{baseClass:"dijitRadio"});});},"dijit/MenuSeparator":function(){define(["dojo/_base/declare","dojo/dom","./_WidgetBase","./_TemplatedMixin","./_Contained","dojo/text!./templates/MenuSeparator.html"],function(_133,dom,_134,_135,_136,_137){return _133("dijit.MenuSeparator",[_134,_135,_136],{templateString:_137,buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.domNode,false);},isFocusable:function(){return false;}});});},"dijit/form/ToggleButton":function(){define(["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(_138,_139,_13a,_13b){return _138("dijit.form.ToggleButton",[_13a,_13b],{baseClass:"dijitToggleButton",setChecked:function(_13c){_139.deprecated("setChecked("+_13c+") is deprecated. Use set('checked',"+_13c+") instead.","","2.0");this.set("checked",_13c);}});});},"dojox/lang/functional":function(){define(["./functional/lambda","./functional/array","./functional/object"],function(df){return df;});},"dgrid/_StoreMixin":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred","dojo/on","dojo/aspect","put-selector/put"],function(_13d,_13e,lang,_13f,_140,_141,put){function noop(_142){return _142;};function _143(err){if(typeof err!=="object"){err=new Error(err);}else{if(err.dojoType==="cancel"){return;}}err.grid=this;if(_140.emit(this.domNode,"dgrid-error",{grid:this,error:err,cancelable:true,bubbles:true})){}};return _13e(null,{store:null,query:null,queryOptions:null,getBeforePut:true,noDataMessage:"",loadingMessage:"",constructor:function(){this.query={};this.queryOptions={};this.dirty={};this._updating={};this._columnsWithSet={};_141.before(this,"configStructure",lang.hitch(this,function(){this._columnsWithSet={};}));},postCreate:function(){this.inherited(arguments);if(this.store){this._updateNotifyHandle(this.store);}},destroy:function(){this.inherited(arguments);if(this._notifyHandle){this._notifyHandle.remove();}},_configColumn:function(_144){if(_144.set){this._columnsWithSet[_144.field]=_144;}this.inherited(arguments);},_updateNotifyHandle:function(_145){if(this._notifyHandle){this._notifyHandle.remove();delete this._notifyHandle;}if(_145&&typeof _145.notify==="function"){this._notifyHandle=_141.after(_145,"notify",lang.hitch(this,"_onNotify"),true);var sort=this.get("sort");if(!sort||!sort.length){}}},_setStore:function(_146,_147,_148){this._updateNotifyHandle(_146);this.store=_146;this.dirty={};this.set("query",_147,_148);},_setQuery:function(_149,_14a){var sort=_14a&&_14a.sort;this.query=_149!==undefined?_149:this.query;this.queryOptions=_14a||this.queryOptions;sort?this.set("sort",sort):this.refresh();},setStore:function(_14b,_14c,_14d){_13d.deprecated("setStore(...)","use set(\"store\", ...) instead","dgrid 0.4");this.set("store",_14b,_14c,_14d);},setQuery:function(_14e,_14f){_13d.deprecated("setQuery(...)","use set(\"query\", ...) instead","dgrid 0.4");this.set("query",_14e,_14f);},_getQueryOptions:function(){var _150=lang.delegate(this.queryOptions,{});if(typeof (this._sort)==="function"||this._sort.length){_150.sort=this._sort;}return _150;},_getQuery:function(){var q=this.query;return typeof q=="object"&&q!=null?lang.delegate(q,{}):q;},_setSort:function(_151,_152){if(this.store){this._lastCollection=null;}this.inherited(arguments);},_onNotify:function(_153,_154){this.inherited(arguments);if(_153&&this._numObservers<1){this.refresh({keepScrollPosition:true});}},refresh:function(){var _155=this.inherited(arguments);if(!this.store){this.noDataNode=put(this.contentNode,"div.dgrid-no-data");this.noDataNode.innerHTML=this.noDataMessage;}return _155;},renderArray:function(){var self=this;var rows=this.inherited(arguments);if(!this.store){_13f.when(rows,function(_156){if(_156.length&&self.noDataNode){put(self.noDataNode,"!");}});}return rows;},insertRow:function(_157,_158,_159,i,_15a){var _15b=this.store,_15c=this.dirty,id=_15b&&_15b.getIdentity(_157),_15d;if(id in _15c&&!(id in this._updating)){_15d=_15c[id];}if(_15d){_157=lang.delegate(_157,_15d);}return this.inherited(arguments);},updateDirty:function(id,_15e,_15f){var _160=this.dirty,_161=_160[id];if(!_161){_161=_160[id]={};}_161[_15e]=_15f;},setDirty:function(id,_162,_163){_13d.deprecated("setDirty(...)","use updateDirty() instead","dgrid 0.4");this.updateDirty(id,_162,_163);},save:function(){var self=this,_164=this.store,_165=this.dirty,dfd=new _13f(),_166=dfd.promise,_167=function(id){var data;return (self.getBeforePut||!(data=self.row(id).data))?function(){return _164.get(id);}:function(){return data;};};function _168(id,_169){return function(_16a){var _16b=self._columnsWithSet,_16c=self._updating,key,data;if(typeof _16a.set==="function"){_16a.set(_169);}else{for(key in _169){_16a[key]=_169[key];}}for(key in _16b){data=_16b[key].set(_16a);if(data!==undefined){_16a[key]=data;}}_16c[id]=true;return _13f.when(_164.put(_16a),function(){delete _165[id];delete _16c[id];});};};for(var id in _165){var put=_168(id,_165[id]);_166=_166.then(_167(id)).then(put);}dfd.resolve();return _166;},revert:function(){this.dirty={};this.refresh();},_trackError:function(func){var _16d;if(typeof func=="string"){func=lang.hitch(this,func);}try{_16d=func();}catch(err){_143.call(this,err);}return _13f.when(_16d,noop,lang.hitch(this,_143));},newRow:function(){var row=this.inherited(arguments);if(this.noDataNode){put(this.noDataNode,"!");delete this.noDataNode;}return row;},removeRow:function(_16e,_16f){var row={element:_16e};if(!_16f&&this.noDataMessage&&(this.up(row).element===_16e)&&(this.down(row).element===_16e)){this.noDataNode=put(this.contentNode,"div.dgrid-no-data");this.noDataNode.innerHTML=this.noDataMessage;}return this.inherited(arguments);}});});},"dijit/_DialogMixin":function(){define(["dojo/_base/declare","./a11y"],function(_170,a11y){return _170("dijit._DialogMixin",null,{actionBarTemplate:"",execute:function(){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.get("value"));},_getFocusItems:function(){var _171=a11y._getTabNavigable(this.domNode);this._firstFocusItem=_171.lowest||_171.first||this.closeButtonNode||this.domNode;this._lastFocusItem=_171.last||_171.highest||this._firstFocusItem;}});});},"dojox/json/schema":function(){define(["dojo/_base/kernel","dojox","dojo/_base/array"],function(dojo,_172){dojo.getObject("json.schema",true,_172);_172.json.schema.validate=function(_173,_174){return this._validate(_173,_174,false);};_172.json.schema.checkPropertyChange=function(_175,_176,_177){return this._validate(_175,_176,_177||"property");};_172.json.schema.mustBeValid=function(_178){if(!_178.valid){throw new TypeError(dojo.map(_178.errors,function(_179){return "for property "+_179.property+": "+_179.message;}).join(", "));}};_172.json.schema._validate=function(_17a,_17b,_17c){var _17d=[];function _17e(_17f,_180,path,i){var l;path+=path?typeof i=="number"?"["+i+"]":typeof i=="undefined"?"":"."+i:i;function _181(_182){_17d.push({property:path,message:_182});};if((typeof _180!="object"||_180 instanceof Array)&&(path||typeof _180!="function")){if(typeof _180=="function"){if(!(Object(_17f) instanceof _180)){_181("is not an instance of the class/constructor "+_180.name);}}else{if(_180){_181("Invalid schema/property definition "+_180);}}return null;}if(_17c&&_180.readonly){_181("is a readonly field, it can not be changed");}if(_180["extends"]){_17e(_17f,_180["extends"],path,i);}function _183(type,_184){if(type){if(typeof type=="string"&&type!="any"&&(type=="null"?_184!==null:typeof _184!=type)&&!(_184 instanceof Array&&type=="array")&&!(type=="integer"&&_184%1===0)){return [{property:path,message:(typeof _184)+" value found, but a "+type+" is required"}];}if(type instanceof Array){var _185=[];for(var j=0;j<type.length;j++){if(!(_185=_183(type[j],_184)).length){break;}}if(_185.length){return _185;}}else{if(typeof type=="object"){var _186=_17d;_17d=[];_17e(_184,type,path);var _187=_17d;_17d=_186;return _187;}}}return [];};if(_17f===undefined){if(!_180.optional){_181("is missing and it is not optional");}}else{_17d=_17d.concat(_183(_180.type,_17f));if(_180.disallow&&!_183(_180.disallow,_17f).length){_181(" disallowed value was matched");}if(_17f!==null){if(_17f instanceof Array){if(_180.items){if(_180.items instanceof Array){for(i=0,l=_17f.length;i<l;i++){_17d.concat(_17e(_17f[i],_180.items[i],path,i));}}else{for(i=0,l=_17f.length;i<l;i++){_17d.concat(_17e(_17f[i],_180.items,path,i));}}}if(_180.minItems&&_17f.length<_180.minItems){_181("There must be a minimum of "+_180.minItems+" in the array");}if(_180.maxItems&&_17f.length>_180.maxItems){_181("There must be a maximum of "+_180.maxItems+" in the array");}}else{if(_180.properties){_17d.concat(_188(_17f,_180.properties,path,_180.additionalProperties));}}if(_180.pattern&&typeof _17f=="string"&&!_17f.match(_180.pattern)){_181("does not match the regex pattern "+_180.pattern);}if(_180.maxLength&&typeof _17f=="string"&&_17f.length>_180.maxLength){_181("may only be "+_180.maxLength+" characters long");}if(_180.minLength&&typeof _17f=="string"&&_17f.length<_180.minLength){_181("must be at least "+_180.minLength+" characters long");}if(typeof _180.minimum!==undefined&&typeof _17f==typeof _180.minimum&&_180.minimum>_17f){_181("must have a minimum value of "+_180.minimum);}if(typeof _180.maximum!==undefined&&typeof _17f==typeof _180.maximum&&_180.maximum<_17f){_181("must have a maximum value of "+_180.maximum);}if(_180["enum"]){var _189=_180["enum"];l=_189.length;var _18a;for(var j=0;j<l;j++){if(_189[j]===_17f){_18a=1;break;}}if(!_18a){_181("does not have a value in the enumeration "+_189.join(", "));}}if(typeof _180.maxDecimal=="number"&&(_17f.toString().match(new RegExp("\\.[0-9]{"+(_180.maxDecimal+1)+",}")))){_181("may only have "+_180.maxDecimal+" digits of decimal places");}}}return null;};function _188(_18b,_18c,path,_18d){if(typeof _18c=="object"){if(typeof _18b!="object"||_18b instanceof Array){_17d.push({property:path,message:"an object is required"});}for(var i in _18c){if(_18c.hasOwnProperty(i)&&!(i.charAt(0)=="_"&&i.charAt(1)=="_")){var _18e=_18b[i];var _18f=_18c[i];_17e(_18e,_18f,path,i);}}}for(i in _18b){if(_18b.hasOwnProperty(i)&&!(i.charAt(0)=="_"&&i.charAt(1)=="_")&&_18c&&!_18c[i]&&_18d===false){_17d.push({property:path,message:(typeof _18e)+"The property "+i+" is not defined in the schema and the schema does not allow additional properties"});}var _190=_18c&&_18c[i]&&_18c[i].requires;if(_190&&!(_190 in _18b)){_17d.push({property:path,message:"the presence of the property "+i+" requires that "+_190+" also be present"});}_18e=_18b[i];if(_18c&&typeof _18c=="object"&&!(i in _18c)){_17e(_18e,_18d,path,i);}if(!_17c&&_18e&&_18e.$schema){_17d=_17d.concat(_17e(_18e,_18e.$schema,path,i));}}return _17d;};if(_17b){_17e(_17a,_17b,"",_17c||"");}if(!_17c&&_17a&&_17a.$schema){_17e(_17a,_17a.$schema,"","");}return {valid:!_17d.length,errors:_17d};};return _172.json.schema;});},"dijit/form/_SearchMixin":function(){define(["dojo/_base/declare","dojo/keys","dojo/_base/lang","dojo/query","dojo/string","dojo/when","../registry"],function(_191,keys,lang,_192,_193,when,_194){return _191("dijit.form._SearchMixin",null,{pageSize:Infinity,store:null,fetchProperties:{},query:{},list:"",_setListAttr:function(list){this._set("list",list);},searchDelay:200,searchAttr:"name",queryExpr:"${0}*",ignoreCase:true,_patternToRegExp:function(_195){return new RegExp("^"+_195.replace(/(\\.)|(\*)|(\?)|\W/g,function(str,_196,star,_197){return star?".*":_197?".":_196?_196:"\\"+str;})+"$",this.ignoreCase?"mi":"m");},_abortQuery:function(){if(this.searchTimer){this.searchTimer=this.searchTimer.remove();}if(this._queryDeferHandle){this._queryDeferHandle=this._queryDeferHandle.remove();}if(this._fetchHandle){if(this._fetchHandle.abort){this._cancelingQuery=true;this._fetchHandle.abort();this._cancelingQuery=false;}if(this._fetchHandle.cancel){this._cancelingQuery=true;this._fetchHandle.cancel();this._cancelingQuery=false;}this._fetchHandle=null;}},_processInput:function(evt){if(this.disabled||this.readOnly){return;}var key=evt.charOrCode;var _198=false;this._prev_key_backspace=false;switch(key){case keys.DELETE:case keys.BACKSPACE:this._prev_key_backspace=true;this._maskValidSubsetError=true;_198=true;break;default:_198=typeof key=="string"||key==229;}if(_198){if(!this.store){this.onSearch();}else{this.searchTimer=this.defer("_startSearchFromInput",1);}}},onSearch:function(){},_startSearchFromInput:function(){this._startSearch(this.focusNode.value);},_startSearch:function(text){this._abortQuery();var _199=this,_192=lang.clone(this.query),_19a={start:0,count:this.pageSize,queryOptions:{ignoreCase:this.ignoreCase,deep:true}},qs=_193.substitute(this.queryExpr,[text.replace(/([\\\*\?])/g,"\\$1")]),q,_19b=function(){var _19c=_199._fetchHandle=_199.store.query(_192,_19a);if(_199.disabled||_199.readOnly||(q!==_199._lastQuery)){return;}when(_19c,function(res){_199._fetchHandle=null;if(!_199.disabled&&!_199.readOnly&&(q===_199._lastQuery)){when(_19c.total,function(_19d){res.total=_19d;var _19e=_199.pageSize;if(isNaN(_19e)||_19e>res.total){_19e=res.total;}res.nextPage=function(_19f){_19a.direction=_19f=_19f!==false;_19a.count=_19e;if(_19f){_19a.start+=res.length;if(_19a.start>=res.total){_19a.count=0;}}else{_19a.start-=_19e;if(_19a.start<0){_19a.count=Math.max(_19e+_19a.start,0);_19a.start=0;}}if(_19a.count<=0){res.length=0;_199.onSearch(res,_192,_19a);}else{_19b();}};_199.onSearch(res,_192,_19a);});}},function(err){_199._fetchHandle=null;if(!_199._cancelingQuery){}});};lang.mixin(_19a,this.fetchProperties);if(this.store._oldAPI){q=qs;}else{q=this._patternToRegExp(qs);q.toString=function(){return qs;};}this._lastQuery=_192[this.searchAttr]=q;this._queryDeferHandle=this.defer(_19b,this.searchDelay);},constructor:function(){this.query={};this.fetchProperties={};},postMixInProperties:function(){if(!this.store){var list=this.list;if(list){this.store=_194.byId(list);}}this.inherited(arguments);}});});},"dgrid/Keyboard":function(){define(["dojo/_base/declare","dojo/aspect","dojo/on","dojo/_base/lang","dojo/has","put-selector/put","./util/misc","dojo/_base/Deferred","dojo/_base/sniff"],function(_1a0,_1a1,on,lang,has,put,_1a2,_1a3){var _1a4={checkbox:1,radio:1,button:1},_1a5=/\bdgrid-cell\b/,_1a6=/\bdgrid-row\b/;var _1a7=_1a0(null,{pageSkip:10,tabIndex:0,keyMap:null,headerKeyMap:null,postMixInProperties:function(){this.inherited(arguments);if(!this.keyMap){this.keyMap=lang.mixin({},_1a7.defaultKeyMap);}if(!this.headerKeyMap){this.headerKeyMap=lang.mixin({},_1a7.defaultHeaderKeyMap);}},postCreate:function(){this.inherited(arguments);var grid=this;function _1a8(_1a9){var _1aa=_1a9.target;return _1aa.type&&(!_1a4[_1aa.type]||_1a9.keyCode==32);};function _1ab(_1ac){var _1ad=grid.cellNavigation,_1ae=_1ad?_1a5:_1a6,_1af=_1ac===grid.headerNode,_1b0=_1ac;function _1b1(){if(grid._focusedHeaderNode){grid._focusedHeaderNode.tabIndex=-1;}if(grid.showHeader){if(_1ad){for(var i=0,_1b2,_1b3=grid.headerNode.getElementsByTagName("th");(_1b2=_1b3[i]);++i){if(_1ae.test(_1b2.className)){grid._focusedHeaderNode=_1b0=_1b2;break;}}}else{grid._focusedHeaderNode=_1b0=grid.headerNode;}if(_1b0){_1b0.tabIndex=grid.tabIndex;}}};if(_1af){_1b1();_1a1.after(grid,"renderHeader",_1b1,true);}else{_1a1.after(grid,"renderArray",function(ret){return _1a3.when(ret,function(ret){var _1b4=grid._focusedNode||_1b0;if(_1ae.test(_1b4.className)&&_1a2.contains(_1ac,_1b4)){return ret;}for(var i=0,_1b5=_1ac.getElementsByTagName("*"),_1b6;(_1b6=_1b5[i]);++i){if(_1ae.test(_1b6.className)){_1b4=grid._focusedNode=_1b6;break;}}_1b4.tabIndex=grid.tabIndex;return ret;});});}grid._listeners.push(on(_1ac,"mousedown",function(_1b7){if(!_1a8(_1b7)){grid._focusOnNode(_1b7.target,_1af,_1b7);}}));grid._listeners.push(on(_1ac,"keydown",function(_1b8){if(_1b8.metaKey||_1b8.altKey){return;}var _1b9=grid[_1af?"headerKeyMap":"keyMap"][_1b8.keyCode];if(_1b9&&!_1a8(_1b8)){_1b9.call(grid,_1b8);}}));};if(this.tabableHeader){_1ab(this.headerNode);on(this.headerNode,"dgrid-cellfocusin",function(){grid.scrollTo({x:this.scrollLeft});});}_1ab(this.contentNode);},removeRow:function(_1ba){if(!this._focusedNode){return this.inherited(arguments);}var self=this,_1bb=document.activeElement===this._focusedNode,_1bc=this[this.cellNavigation?"cell":"row"](this._focusedNode),_1bd=_1bc.row||_1bc,_1be;_1ba=_1ba.element||_1ba;if(_1ba===_1bd.element){_1be=this.down(_1bd,true);if(!_1be||_1be.element===_1ba){_1be=this.up(_1bd,true);}this._removedFocus={active:_1bb,rowId:_1bd.id,columnId:_1bc.column&&_1bc.column.id,siblingId:!_1be||_1be.element===_1ba?undefined:_1be.id};setTimeout(function(){if(self._removedFocus){self._restoreFocus(_1bd.id);}},0);this._focusedNode=null;}this.inherited(arguments);},insertRow:function(_1bf){var _1c0=this.inherited(arguments);if(this._removedFocus&&!this._removedFocus.wait){this._restoreFocus(_1c0);}return _1c0;},_restoreFocus:function(row){var _1c1=this._removedFocus,_1c2,cell;row=row&&this.row(row);_1c2=row&&row.element&&row.id===_1c1.rowId?row:typeof _1c1.siblingId!=="undefined"&&this.row(_1c1.siblingId);if(_1c2&&_1c2.element){if(!_1c2.element.parentNode.parentNode){_1c1.wait=true;return;}if(typeof _1c1.columnId!=="undefined"){cell=this.cell(_1c2,_1c1.columnId);if(cell&&cell.element){_1c2=cell;}}if(_1c1.active&&_1c2.element.offsetHeight!==0){this._focusOnNode(_1c2,false,null);}else{put(_1c2.element,".dgrid-focus");_1c2.element.tabIndex=this.tabIndex;this._focusedNode=_1c2.element;}}delete this._removedFocus;},addKeyHandler:function(key,_1c3,_1c4){return _1a1.after(this[_1c4?"headerKeyMap":"keyMap"],key,_1c3,true);},_focusOnNode:function(_1c5,_1c6,_1c7){var _1c8="_focused"+(_1c6?"Header":"")+"Node",_1c9=this[_1c8],_1ca=this.cellNavigation?"cell":"row",cell=this[_1ca](_1c5),_1cb,_1cc,_1cd,_1ce,i;_1c5=cell&&cell.element;if(!_1c5){return;}if(this.cellNavigation){_1cb=_1c5.getElementsByTagName("input");for(i=0,_1cd=_1cb.length;i<_1cd;i++){_1cc=_1cb[i];if((_1cc.tabIndex!=-1||"_dgridLastValue" in _1cc)&&!_1cc.disabled){if(has("ie")<8){_1cc.style.position="relative";}_1cc.focus();if(has("ie")<8){_1cc.style.position="";}_1ce=true;break;}}}if(_1c7!==null){_1c7=lang.mixin({grid:this},_1c7);if(_1c7.type){_1c7.parentType=_1c7.type;}if(!_1c7.bubbles){_1c7.bubbles=true;}}if(_1c9){put(_1c9,"!dgrid-focus[!tabIndex]");if(has("ie")<8){_1c9.style.position="";}if(_1c7){_1c7[_1ca]=this[_1ca](_1c9);on.emit(_1c9,"dgrid-cellfocusout",_1c7);}}_1c9=this[_1c8]=_1c5;if(_1c7){_1c7[_1ca]=cell;}var _1cf=this.cellNavigation?_1a5:_1a6;if(!_1ce&&_1cf.test(_1c5.className)){if(has("ie")<8){_1c5.style.position="relative";}_1c5.tabIndex=this.tabIndex;_1c5.focus();}put(_1c5,".dgrid-focus");if(_1c7){on.emit(_1c9,"dgrid-cellfocusin",_1c7);}},focusHeader:function(_1d0){this._focusOnNode(_1d0||this._focusedHeaderNode,true);},focus:function(_1d1){var node=_1d1||this._focusedNode;if(node){this._focusOnNode(node,false);}else{this.contentNode.focus();}}});var _1d2=_1a7.moveFocusVertical=function(_1d3,_1d4){var _1d5=this.cellNavigation,_1d6=this[_1d5?"cell":"row"](_1d3),_1d7=_1d5&&_1d6.column.id,next=this.down(this._focusedNode,_1d4,true);if(_1d5){next=this.cell(next,_1d7);}this._focusOnNode(next,false,_1d3);_1d3.preventDefault();};var _1d8=_1a7.moveFocusUp=function(_1d9){_1d2.call(this,_1d9,-1);};var _1da=_1a7.moveFocusDown=function(_1db){_1d2.call(this,_1db,1);};var _1dc=_1a7.moveFocusPageUp=function(_1dd){_1d2.call(this,_1dd,-this.pageSkip);};var _1de=_1a7.moveFocusPageDown=function(_1df){_1d2.call(this,_1df,this.pageSkip);};var _1e0=_1a7.moveFocusHorizontal=function(_1e1,_1e2){if(!this.cellNavigation){return;}var _1e3=!this.row(_1e1),_1e4=this["_focused"+(_1e3?"Header":"")+"Node"];this._focusOnNode(this.right(_1e4,_1e2),_1e3,_1e1);_1e1.preventDefault();};var _1e5=_1a7.moveFocusLeft=function(_1e6){_1e0.call(this,_1e6,-1);};var _1e7=_1a7.moveFocusRight=function(_1e8){_1e0.call(this,_1e8,1);};var _1e9=_1a7.moveHeaderFocusEnd=function(_1ea,_1eb){var _1ec;if(this.cellNavigation){_1ec=this.headerNode.getElementsByTagName("th");this._focusOnNode(_1ec[_1eb?0:_1ec.length-1],true,_1ea);}_1ea.preventDefault();};var _1ed=_1a7.moveHeaderFocusHome=function(_1ee){_1e9.call(this,_1ee,true);};var _1ef=_1a7.moveFocusEnd=function(_1f0,_1f1){var self=this,_1f2=this.cellNavigation,_1f3=this.contentNode,_1f4=_1f1?0:_1f3.scrollHeight,_1f5=_1f3.scrollTop+_1f4,_1f6=_1f3[_1f1?"firstChild":"lastChild"],_1f7=_1f6.className.indexOf("dgrid-preload")>-1,_1f8=_1f7?_1f6[(_1f1?"next":"previous")+"Sibling"]:_1f6,_1f9=_1f8.offsetTop+(_1f1?0:_1f8.offsetHeight),_1fa;if(_1f7){while(_1f8&&_1f8.className.indexOf("dgrid-row")<0){_1f8=_1f8[(_1f1?"next":"previous")+"Sibling"];}if(!_1f8){return;}}if(!_1f7||_1f6.offsetHeight<1){if(_1f2){_1f8=this.cell(_1f8,this.cell(_1f0).column.id);}this._focusOnNode(_1f8,false,_1f0);}else{if(!has("dom-addeventlistener")){_1f0=lang.mixin({},_1f0);}_1fa=_1a1.after(this,"renderArray",function(rows){_1fa.remove();return _1a3.when(rows,function(rows){var _1fb=rows[_1f1?0:rows.length-1];if(_1f2){_1fb=self.cell(_1fb,self.cell(_1f0).column.id);}self._focusOnNode(_1fb,false,_1f0);});});}if(_1f5===_1f9){_1f0.preventDefault();}};var _1fc=_1a7.moveFocusHome=function(_1fd){_1ef.call(this,_1fd,true);};function _1fe(_1ff){_1ff.preventDefault();};_1a7.defaultKeyMap={32:_1fe,33:_1dc,34:_1de,35:_1ef,36:_1fc,37:_1e5,38:_1d8,39:_1e7,40:_1da};_1a7.defaultHeaderKeyMap={32:_1fe,35:_1e9,36:_1ed,37:_1e5,39:_1e7};return _1a7;});},"prcommon2/clippings/dashboard":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../clippings/templates/dashboard.html","dijit/layout/ContentPane","dijit/layout/BorderContainer","dojox/charting/Chart","dojox/charting/themes/Claro","dojox/charting/themes/Tom","dojox/charting/themes/PrimaryColors","dojox/charting/plot2d/Pie","dojox/charting/plot2d/Lines","dojox/charting/plot2d/Bars","dojox/charting/plot2d/Columns","dojox/charting/plot2d/StackedColumns","dojox/charting/action2d/Tooltip","dojox/charting/action2d/Highlight","dojox/charting/action2d/MoveSlice","dojox/charting/action2d/Magnify","dojox/charting/plot2d/Markers","dojox/charting/widget/SelectableLegend","dojox/charting/axis2d/Default","ttl/utilities2","dojo/topic","dojo/request","dojox/data/JsonRestStore","ttl/store/JsonRest","dojo/store/Observable","dojo/_base/lang","dojo/dom-attr","dojo/data/ItemFileReadStore","dojo/dom-class","dojo/dom-construct","dijit/form/ValidationTextBox","dijit/form/DateTextBox","dijit/form/NumberTextBox","dijit/form/CurrencyTextBox","dijit/form/Textarea","dijit/form/Select","dojox/validate/regexp","prcommon2/outlet/OutletSelect","prcommon2/date/daterange","dijit/form/ComboBox","prcommon2/reports/ReportBuilder","prcommon2/clippings/windowsettings","prcommon2/clippings/output"],function(_200,_201,_202,_203,_204,_205,_206,Tom,_207,Pie,_208,Bars,_209,_20a,_20b,_20c,_20d,_20e,_20f,_210,_211,_212,_213,_214,_215,_216,_217,lang,_218,_219,_21a,_21b){return _200("prcommon2.clippings.dashboard",[_201,_204],{templateString:_202,mode:"add",gutters:false,constructor:function(){this._load_call_back=lang.hitch(this,this._load_call);this._updatesettings_call_back=lang.hitch(this,this._updatesettings_call);this._complete_call_back=lang.hitch(this,this._complete_call);_213.subscribe("/dashboardsettings/update",lang.hitch(this,this._update_dashboard_event));this._windowid=null;this._customerid=PRMAX.utils.settings.cid;this._data=null;},postCreate:function(){this.inherited(arguments);},load:function(_21c){_214.post("/clippings/charting/get_dashboard_chart_data",_212.make_params({data:{customerid:this._customerid}})).then(this._load_call_back);},_load_call:function(_21d){if(_21d.success=="OK"){this._data=_21d.data.reduce(function(_21e,_21f){_21e[_21f.windowid]=_21f;return _21e;},{});for(var i=1;i<=6;i++){if(this._data[i]){if(this._is_not_empty_object(this._data[i])){var _220="chart_node_loading_no_data"+i;_21a.add(this[_220],"prmaxhidden");var _221="chart_node_loading_data"+i;_21a.remove(this[_221],"prmaxhidden");if(this._is_not_empty_object(this._data[i].data)){var _222="reportbtn"+i;_21a.remove(this[_222].domNode,"prmaxhidden");}else{var _222="reportbtn"+i;_21a.add(this[_222].domNode,"prmaxhidden");}}else{var _222="reportbtn"+i;_21a.add(this[_222].domNode,"prmaxhidden");}this.show_charts(this._data[i]);}else{var _220="chart_node_loading_no_data"+i;_21a.add(this[_220],"prmaxhidden");var _221="chart_node_loading_data"+i;_21a.remove(this[_221],"prmaxhidden");}}}else{alert("Problem loading chart data");}},_is_not_empty_object:function(obj){for(var key in obj){if(obj.hasOwnProperty(key)){return true;}}return false;},show_charts:function(data){if(data.chartviewid==1){this._create_pie(data.data.pie,data.windowid,data.title);}else{if(data.chartviewid==2){this._create_lines(data,data.windowid);}else{if(data.chartviewid==3){this._create_columns(data,data.windowid);}}}},_update_dashboard_event:function(data){var _223="chart_node_loading_data"+data[0].windowid;_21a.add(this[_223],"prmaxhidden");var _224="chart_node_loading_no_data"+data[0].windowid;_21a.remove(this[_224],"prmaxhidden");var _225=data[0];_225["customerid"]=PRMAX.utils.settings.cid;_214.post("/clippings/charting/get_window_chart_data",_212.make_params({data:_225})).then(this._updatesettings_call_back);},_updatesettings_call:function(_226){if(_226.success=="OK"){if(_226.data){var win=_226.data.windowid;if(this._is_not_empty_object(_226.data)){var _227="chart_node_loading_no_data"+win;_21a.add(this[_227],"prmaxhidden");var _228="chart_node_loading_data"+win;_21a.remove(this[_228],"prmaxhidden");if(this._is_not_empty_object(_226.data.data)){var _229="reportbtn"+win;_21a.remove(this[_229].domNode,"prmaxhidden");}else{var _229="reportbtn"+win;_21a.add(this[_229].domNode,"prmaxhidden");}}else{var _229="reportbtn"+win;_21a.add(this[_229].domNode,"prmaxhidden");}this._data[win].chartviewid=_226.data.chartviewid;this._data[win].by_client=_226.data.by_client;this._data[win].by_issue=_226.data.by_issue;this._data[win].clientid=_226.data.clientid;this._data[win].dashboardsettingsmodeid=_226.data.dashboardsettingsmodeid;this._data[win].dashboardsettingsstandardid=_226.data.dashboardsettingsstandardid;this._data[win].dashboardsettingsstandardsearchbyid=_226.data.dashboardsettingsstandardsearchbyid;this._data[win].data=_226.data.data;this._data[win].daterangeid=_226.data.daterangeid;this._data[win].dates=_226.data.dates;this._data[win].groupbyid=_226.data.groupbyid;this._data[win].maxvalue=_226.data.maxvalue;this._data[win].questionid=_226.data.questionid;this._data[win].questiontypeid=_226.data.questiontypeid;this._data[win].title=_226.data.title;}this.show_charts(_226.data);}},_create_pie:function(data,_22a,_22b){var _22c=this["_pieChart_"+_22a];var _22d=this["chart_node_"+_22a];if(_22d&&_22d!=null){_21b.empty(_22d);}_22c=new _205(_22d,{title:_22b,titlePos:"top",titleGap:0,titleFont:"normal normal normal 12pt Arial",titleFontColor:"black"});_22c.setTheme(_207);_22c.addPlot("default",{type:Pie,radius:80,fontColor:"black",labelOffset:0,labelStyle:"columns",htmlLabels:true,font:"normal normal normal 9pt Arial",startAngle:-10});_22c.addAxis("x");_22c.addAxis("y",{min:0,vertical:true,fixLower:"major",fixUpper:"major"});if(data){_22c.addSeries(_22b,data);}var _22e=new _20b(_22c,"default");var _22f=new _20d(_22c,"default");var _230=new _20e(_22c,"default",{scale:1.2});_22c.render();var a=this["window"+_22a];},_create_lines:function(data,_231){var _232=this["_linesChart_"+_231];var _233=this["chart_node_"+_231];if(_233&&_233!=null){_21b.empty(_233);}_232=new _205(_233,{title:data.title,titlePos:"top",titleGap:0,titleFont:"normal normal normal 12pt Arial",titleFontColor:"black"});_232.setTheme(_207);_232.addPlot("default",{type:_208,markers:true});var _234=[];if(data.dates){for(var i=0;i<data.dates.length;i++){_234.push({text:data.dates[i].label,value:data.dates[i].value});}}_232.addAxis("x",{labels:_234,rotation:-90,minorTick:{stroke:"black",length:2,width:1},majorTick:{color:"red",length:4,width:1},labelSizeChange:true});var max=data.maxvalue+1;_232.addAxis("y",{min:0,max:max,vertical:true,fixLower:"major",fixUpper:"major",natural:true,rotation:max.toString().length>=4?-70:-30,minorTick:{stroke:"black",length:2,width:1},majorTick:{color:"red",length:4,width:1}});if(data.data){for(var key in data.data){_232.addSeries(key,data.data[key],{stroke:{width:1}});}}var _235=new _20b(_232,"default");var _236=new _20d(_232,"default");var _237=new _20e(_232,"default",{scale:4});_232.render();},_create_columns:function(data,_238,_239){var _23a=this["_columnsChart_"+_238];var _23b=this["chart_node_"+_238];if(_23b&&_23b!=null){_21b.empty(_23b);}_23a=new _205(_23b,{title:data.title,titlePos:"top",titleGap:25,titleFont:"normal normal normal 12pt Arial",titleFontColor:"black"});_23a.setTheme(_207);_23a.addPlot("default",{type:_20a});var _23c=[];if(data.dates){for(var i=0;i<data.dates.length;i++){_23c.push({text:data.dates[i].label,value:data.dates[i].value});}}_23a.addAxis("x",{labels:_23c,rotation:-90,minorTick:{stroke:"black",length:2,width:1},majorTick:{color:"red",length:4,width:1},labelSizeChange:true});var max=data.maxvalue+1;_23a.addAxis("y",{leftBottom:true,min:0,max:max,vertical:true,fixLower:"major",fixUpper:"major",rotation:max.toString().length>=4?-70:-30,minorTick:{stroke:"black",length:2,width:1},majorTick:{color:"red",length:4,width:1}});if(data.data){for(var key in data.data){_23a.addSeries(key,data.data[key]);}}var _23d=new _20b(_23a,"default");var _23e=new _20c(_23a,"default");_23a.render();},_rep1:function(){this._windowid=1;this._report();},_rep2:function(){this._windowid=2;this._report();},_rep3:function(){this._windowid=3;this._report();},_rep4:function(){this._windowid=4;this._report();},_rep5:function(){this._windowid=5;this._report();},_rep6:function(){this._windowid=6;this._report();},_report:function(){this.output_ctrl.load(this.output_dlg,this._windowid,this._customerid,this._data[this._windowid]);this.output_dlg.show();},_complete_call:function(){this.report_dlg.hide();},_set1:function(){this._windowid=1;this._settings();},_set2:function(){this._windowid=2;this._settings();},_set3:function(){this._windowid=3;this._settings();},_set4:function(){this._windowid=4;this._settings();},_set5:function(){this._windowid=5;this._settings();},_set6:function(){this._windowid=6;this._settings();},_settings:function(){this.settings_ctrl.load(this.settings_dlg,this._windowid,this._customerid);this.settings_dlg.show();},});});},"dijit/form/SimpleTextarea":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/sniff","./TextBox"],function(_23f,_240,has,_241){return _23f("dijit.form.SimpleTextarea",_241,{baseClass:"dijitTextBox dijitTextArea",rows:"3",cols:"20",templateString:"<textarea ${!nameAttrSetting} data-dojo-attach-point='focusNode,containerNode,textbox' autocomplete='off'></textarea>",postMixInProperties:function(){if(!this.value&&this.srcNodeRef){this.value=this.srcNodeRef.value;}this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);if(has("ie")&&this.cols){_240.add(this.textbox,"dijitTextAreaCols");}},filter:function(_242){if(_242){_242=_242.replace(/\r/g,"");}return this.inherited(arguments);},_onInput:function(e){if(this.maxLength){var _243=parseInt(this.maxLength);var _244=this.textbox.value.replace(/\r/g,"");var _245=_244.length-_243;if(_245>0){var _246=this.textbox;if(_246.selectionStart){var pos=_246.selectionStart;var cr=0;if(has("opera")){cr=(this.textbox.value.substring(0,pos).match(/\r/g)||[]).length;}this.textbox.value=_244.substring(0,pos-_245-cr)+_244.substring(pos-cr);_246.setSelectionRange(pos-_245,pos-_245);}else{if(this.ownerDocument.selection){_246.focus();var _247=this.ownerDocument.selection.createRange();_247.moveStart("character",-_245);_247.text="";_247.select();}}}}this.inherited(arguments);}});});},"prcommon2/clippings/output":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../clippings/templates/output.html","dijit/layout/ContentPane","dijit/layout/BorderContainer","ttl/utilities2","dojo/topic","dojo/request","dojox/data/JsonRestStore","ttl/store/JsonRest","dojo/store/Observable","dojo/_base/lang","dojo/dom-attr","dojo/data/ItemFileReadStore","dojo/dom-class","dojo/dom-construct","dijit/form/ValidationTextBox","dijit/form/DateTextBox","dijit/form/NumberTextBox","dijit/form/CurrencyTextBox","dijit/form/Textarea","dijit/form/Select","dojox/validate/regexp","prcommon2/outlet/OutletSelect","prcommon2/date/daterange","dijit/form/ComboBox","prcommon2/reports/ReportBuilder"],function(_248,_249,_24a,_24b,_24c,_24d,_24e,_24f,_250,_251,_252,lang,_253,_254,_255,_256){return _248("prcommon2.clippings.output",[_249],{templateString:_24a,constructor:function(){this._dialog=null;this._complete_call_back=dojo.hitch(this,this._complete_call);this._windowid=null;this._customerid=null;this._window_data=null;},postCreate:function(){this.inherited(arguments);},load:function(_257,_258,_259,data){this._dialog=_257;this._windowid=_258;this._customerid=_259;this._window_data=data;},_do_report:function(){var _25a={};_25a["data"]={};if(this.pdf.checked){_25a["reportoutputtypeid"]=0;}else{if(this.excel.checked){_25a["reportoutputtypeid"]=this.excel.get("value");}}_25a["reporttemplateid"]=34;_25a["windowid"]=this._windowid;_25a["customerid"]=this._customerid;_25a["dashboardsettingsmodeid"]=this._window_data.dashboardsettingsmodeid;_25a["dashboardsettingsstandardid"]=this._window_data.dashboardsettingsstandardid;_25a["dashboardsettingsstandardsearchbyid"]=this._window_data.dashboardsettingsstandardsearchbyid;_25a["questionid"]=this._window_data.questionid;_25a["questiontypeid"]=this._window_data.questiontypeid;_25a["daterangeid"]=this._window_data.daterangeid;_25a["chartviewid"]=this._window_data.chartviewid;_25a["by_client"]=this._window_data.by_client;_25a["by_issue"]=this._window_data.by_issue;_25a["groupbyid"]=this._window_data.groupbyid;_25a["clientid"]=this._window_data.clientid;_25a["issueid"]=this._window_data.issueid;_25a["data"]=JSON.stringify(this._window_data);this.report_dlg.show();this.report_node.SetCompleted(this._complete_call_back);this.report_node.start(_25a);},clear:function(){this.report_node.hide();dojo.removeClass(this.report_node.domNode,"prmaxhidden");},_close:function(){if(this._dialog){this.report_node.Stop();this._dialog.hide();this.clear();}},_complete_call:function(){this.report_dlg.hide();this._close();},});});},"dojox/charting/action2d/Base":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/Evented"],function(lang,_25b,_25c){return _25b("dojox.charting.action2d.Base",_25c,{constructor:function(_25d,plot){this.chart=_25d;this.plot=plot?(lang.isString(plot)?this.chart.getPlot(plot):plot):this.chart.getPlot("default");},connect:function(){},disconnect:function(){},destroy:function(){this.disconnect();}});});},"xstyle/has-class":function(){define(["dojo/has"],function(has){var _25e={};return function(){var test,args=arguments;for(var i=0;i<args.length;i++){var test=args[i];if(!_25e[test]){_25e[test]=true;var _25f=test.match(/^(no-)?(.+?)((-[\d\.]+)(-[\d\.]+)?)?$/),_260=has(_25f[2]),_261=-_25f[4];if((_261>0?_261<=_260&&(-_25f[5]||_261)>=_260:!!_260)==!_25f[1]){document.documentElement.className+=" has-"+test;}}}};});},"dgrid/tree":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/Deferred","dojo/query","dojo/on","dojo/aspect","./util/has-css3","./Grid","dojo/has!touch?./util/touch","put-selector/put"],function(_262,_263,_264,_265,on,_266,has,Grid,_267,put){function _268(_269,_26a,_26b,_26c){var dir=this.grid.isRTL?"right":"left",cls=".dgrid-expando-icon",node;if(_26a){cls+=".ui-icon.ui-icon-triangle-1-"+(_26b?"se":"e");}node=put("div"+cls+"[style=margin-"+dir+": "+(_269*(this.indentWidth||9))+"px; float: "+dir+"]");node.innerHTML="&nbsp;";return node;};function _26d(_26e){var _26f=this,_270=this.style.height;if(_270){this.style.display=_270=="0px"?"none":"block";}if(_26e){put(this,".dgrid-tree-resetting");setTimeout(function(){put(_26f,"!dgrid-tree-resetting");});}this.style.height="";};function tree(_271){var _272=_271.renderCell||Grid.defaultRenderCell;var _273,_274;if(!_271){_271={};}_271.shouldExpand=_271.shouldExpand||function(row,_275,_276){return _276;};_266.after(_271,"init",function(){var grid=_271.grid,_277=".dgrid-content .dgrid-column-"+_271.id,_278=[];grid.cleanEmptyObservers=false;if(!grid.store){throw new Error("dgrid tree column plugin requires a store to operate.");}if(!_271.renderExpando){_271.renderExpando=_268;}_278.push(grid.on(_271.expandOn||".dgrid-expando-icon:click,"+_277+":dblclick,"+_277+":keydown",function(_279){var row=grid.row(_279);if((!grid.store.mayHaveChildren||grid.store.mayHaveChildren(row.data))&&(_279.type!="keydown"||_279.keyCode==32)&&!(_279.type=="dblclick"&&_274&&_274.count>1&&row.id==_274.id&&_279.target.className.indexOf("dgrid-expando-icon")>-1)){grid.expand(row);}if(_279.target.className.indexOf("dgrid-expando-icon")>-1){if(_274&&_274.id==grid.row(_279).id){_274.count++;}else{_274={id:grid.row(_279).id,count:1};}}}));if(has("touch")){_278.push(grid.on(_267.selector(_277,_267.dbltap),function(){grid.expand(this);}));}if(!grid._expanded){grid._expanded={};}_278.push(_266.after(grid,"insertRow",function(_27a){var row=this.row(_27a),_27b=_271.shouldExpand(row,_273,this._expanded[row.id]);if(_27b){this.expand(_27a,true,true);}return _27a;}));_278.push(_266.before(grid,"removeRow",function(_27c,_27d){var _27e=_27c.connected;if(_27e){_265(">.dgrid-row",_27e).forEach(function(_27f){grid.removeRow(_27f,true);});if(!_27d){put(_27e,"!");}}}));if(_271.collapseOnRefresh){_278.push(_266.after(grid,"cleanup",function(){this._expanded={};}));}grid._calcRowHeight=function(_280){var _281=_280.connected;return _280.offsetHeight+(_281?_281.offsetHeight:0);};grid.expand=function(_282,_283,_284){var row=_282.element?_282:grid.row(_282),_285=has("transitionend"),dfd=new _264(),_286=dfd.promise;dfd.resolve();_282=row.element;_282=_282.className.indexOf("dgrid-expando-icon")>-1?_282:_265(".dgrid-expando-icon",_282)[0];_284=_284||_271.enableTransitions===false;if(_282&&_282.mayHaveChildren&&(_284||_283!==!!this._expanded[row.id])){var _287=_283===undefined?!this._expanded[row.id]:_283;put(_282,".ui-icon-triangle-1-"+(_287?"se":"e")+"!ui-icon-triangle-1-"+(_287?"e":"se"));var _288=row.element,_289=_288.connected,_28a,_28b,_28c={originalQuery:this.query};if(!_289){_289=_28c.container=_288.connected=put(_288,"+div.dgrid-tree-container");var _28d=function(_28e){return grid.store.getChildren(row.data,_28e);};if(_271.allowDuplicates){_28c.parentId=row.id;}if("level" in _282){_28d.level=_282.level;}_286=_286.then(function(){if(grid.renderQuery){return grid.renderQuery(_28d,_28c);}var _28f=put(_289,"div");var rows=grid.renderArray(_28d(_28c),_28f,"level" in _28d?{queryLevel:_28d.level}:{});_264.when(rows,function(){put(_28f,"!");});return rows;});if(_285){on(_289,_285,_26d);}else{_26d.call(_289);}}_289.hidden=!_287;_28a=_289.style;if(!_285||_284){_28a.display=_287?"block":"none";_28a.height="";}else{if(_287){_28a.display="block";_28b=_289.scrollHeight;_28a.height="0px";}else{put(_289,".dgrid-tree-resetting");_28a.height=_289.scrollHeight+"px";}setTimeout(function(){put(_289,"!dgrid-tree-resetting");_28a.height=_287?(_28b?_28b+"px":"auto"):"0px";});}if(_287){this._expanded[row.id]=true;}else{delete this._expanded[row.id];}}return _286;};_266.after(_271,"destroy",function(){_263.forEach(_278,function(l){l.remove();});delete grid.expand;delete grid._calcRowHeight;});});_271.renderCell=function(_290,_291,td,_292){var grid=_271.grid,_293=Number(_292&&_292.queryLevel)+1,_294=!grid.store.mayHaveChildren||grid.store.mayHaveChildren(_290),_295=_292.parentId,_296,node;_293=_273=isNaN(_293)?0:_293;_296=_271.renderExpando(_293,_294,grid._expanded[(_295?_295+"-":"")+grid.store.getIdentity(_290)],_290);_296.level=_293;_296.mayHaveChildren=_294;node=_272.call(_271,_290,_291,td,_292);if(node&&node.nodeType){put(td,_296);put(td,node);}else{td.insertBefore(_296,td.firstChild);}};return _271;};tree.defaultRenderExpando=_268;return tree;});},"dojo/data/util/filter":function(){define(["../../_base/lang"],function(lang){var _297={};lang.setObject("dojo.data.util.filter",_297);_297.patternToRegExp=function(_298,_299){var rxp="^";var c=null;for(var i=0;i<_298.length;i++){c=_298.charAt(i);switch(c){case "\\":rxp+=c;i++;rxp+=_298.charAt(i);break;case "*":rxp+=".*";break;case "?":rxp+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":rxp+="\\";default:rxp+=c;}}rxp+="$";if(_299){return new RegExp(rxp,"mi");}else{return new RegExp(rxp,"m");}};return _297;});},"prcommon2/search/PrmaxOutletTypes":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../search/templates/PrmaxOutletTypes.html","prcommon2/search/std_search","dojo/data/ItemFileReadStore","dojox/collections/Dictionary","dojo/json","dijit/form/CheckBox","dijit/form/Button"],function(_29a,_29b,_29c,_29d,_29e,_29f,json){return _29a("prcommon2.search.PrmaxOutletTypes",[_29b,_29d],{templateString:_29c,name:"",value:"",title:"",search:"",size:"7",testmode:false,constructor:function(){this._fieldList=[1,2,3,4,5,6,7,8,9];this._values="";this.items=new _29e({url:"/common/lookups?searchtype=prmaxoutlettypes"});this.items.fetch();this._clear_selection_list_call=dojo.hitch(this,this._clear_selection_list);this._load_selection_call=dojo.hitch(this,this._load_selection);this._control_buttons_call=dojo.hitch(this,this._control_buttons);this._selected=new _29f();this._group_types=new _29f();this._group_types.add(1,"national");this._group_types.add(2,"regional");this._group_types.add(3,"business");this._group_types.add(4,"consumer");this._group_types.add(5,"radio");this._group_types.add(6,"television");this._group_types.add(7,"internet");this._group_types.add(8,"news");this._group_types.add(9,"parliamentary");this._primary=new _29f();this._primary.add(1,1);this._primary.add(2,6);this._primary.add(3,13);this._primary.add(4,15);this._primary.add(5,24);this._primary.add(6,27);this._primary.add(7,null);this._primary.add(8,43);this._primary.add(9,null);},postCreate:function(){for(var key in this._fieldList){var _2a0=this._fieldList[key];dojo.attr(this["node"+_2a0+"label"],"for",this["node"+_2a0].id);dojo.connect(this["node"+_2a0],"onClick",dojo.hitch(this,this._select_primary,_2a0));dojo.connect(this["node"+_2a0+"button"],"onclick",dojo.hitch(this,this._select_list,_2a0));}dojo.connect(this.outlet_type_list,"onchange",this._control_buttons_call);dojo.connect(this.outlet_type_select,"onchange",this._control_buttons_call);dojo.connect(this.outlet_type_list,"ondblclick",dojo.hitch(this,this._outlet_select_dbl));},_control_buttons:function(){this.button_all.set("disabled",this.outlet_type_list.length?false:true);this.button_single.set("disabled",this.outlet_type_list.selectedIndex!=-1?false:true);this.button_del_all.set("disabled",this.outlet_type_select.length?false:true);this.button_del_single.set("disabled",this.outlet_type_select.selectedIndex!=-1?false:true);},clear:function(){this._selected.clear();this.outlet_type_list.options.length=0;this.outlet_type_select.options.length=0;this._get_selector(this._get_data());for(var key in this._fieldList){this["node"+this._fieldList[key]].set("checked",false);}this.inherited(arguments);},_setValueAttr:function(_2a1){var open=false;this.clear();for(var key in _2a1.data){open=true;}this._get_selector(this._get_data());if(open){this.MakeOpen();}},_getValueAttr:function(){return this._get_data();},_clear_selection_list:function(size,_2a2){this.outlet_type_list.options.length=0;},_load_selection:function(_2a3,_2a4){for(i=0;i<_2a3.length;i++){var item=_2a3[i];this.outlet_type_list.options[this.outlet_type_list.options.length]=new Option(item.name,item.id);}},_select_list:function(_2a5){this.items.fetch({query:{grouptypeid:this._group_types.item(_2a5)},onBegin:this._clear_selection_list_call,onComplete:this._load_selection_call});},_select_primary:function(_2a6){if(this["node"+_2a6].get("checked")){this.items.fetch({query:{grouptypeid:this._group_types.item(_2a6)},onBegin:this._clear_selection_list_call,onComplete:this._load_selection_call});var pid=this._primary.item(_2a6);if(pid!=null&&this._selected.containsKey(pid)==false){var v=this.items._getItemByIdentity(pid);this._select_item(pid,v.name);this._control_buttons();this._get_selector(this._getValueAttr());}}else{this.outlet_type_list.options.length=0;var pid=this._primary.item(_2a6);if(this._selected.containsKey(pid)){this._selected.remove(pid);for(var c=0;c<this.outlet_type_select.options.length;c++){var _2a7=this.outlet_type_select.options[c];if(parseInt(_2a7.value)==pid){this.outlet_type_select.options[c]=null;this._control_buttons();this._get_selector(this._getValueAttr());break;}}}}},_select_item:function(id,name){if(this._selected.containsKey(id)==false){this.outlet_type_select.options[this.outlet_type_select.options.length]=new Option(name,id);this._selected.add(id,name);}},_get_data:function(){var data=this._selected.getKeyList();var obj={data:data,logic:2};if(this._extended){return obj;}else{var data=this._selected.count>0?json.stringify(obj):"";this.value=data;return data;}},_focus:function(){this.node1.focus();},_outlet_type_select_all:function(){var _2a8=false;for(var c=0;c<this.outlet_type_list.options.length;c++){var _2a9=this.outlet_type_list.options[c];var _2aa=parseInt(_2a9.value);if(this._selected.containsKey(_2aa)==false){this.outlet_type_select.options[this.outlet_type_select.options.length]=new Option(_2a9.text,_2a9.value);this._selected.add(_2aa,_2a9.text);}}this.outlet_type_list.options.length=0;this._get_selector(this._getValueAttr());this._control_buttons();},_outlet_type_select_single:function(){var _2ab=false;for(var c=0;c<this.outlet_type_list.options.length;c++){var _2ac=this.outlet_type_list.options[c];if(_2ac.selected){var _2ad=parseInt(_2ac.value);if(this._selected.containsKey(_2ad)==false){this.outlet_type_select.options[this.outlet_type_select.options.length]=new Option(_2ac.text,_2ac.value);this._selected.add(_2ad,_2ac.text);this.outlet_type_list.options[c]=null;--c;_2ab=true;}}}if(_2ab){this._get_selector(this._getValueAttr());}this._control_buttons();},_outlet_type_remove_all:function(){for(var c=0;c<this.outlet_type_select.options.length;c++){var _2ae=this.outlet_type_select.options[c];var _2af=parseInt(_2ae.value);this._selected.remove(_2af);this.outlet_type_list.options[this.outlet_type_list.options.length]=new Option(_2ae.text,_2ae.value);}this.outlet_type_select.options.length=0;this._get_selector(this._getValueAttr());this._control_buttons();},_outlet_type_remove_single:function(){var _2b0=false;for(var c=0;c<this.outlet_type_select.options.length;c++){var _2b1=this.outlet_type_select.options[c];if(_2b1.selected){var _2b2=parseInt(_2b1.value);this._selected.remove(_2b2);_2b0=true;this.outlet_type_list.options[this.outlet_type_list.options.length]=new Option(_2b1.text,_2b1.value);this.outlet_type_select.options[c]=null;--c;}}if(_2b0){this._get_selector(this._getValueAttr());this._control_buttons();}},_outlet_select_dbl:function(){this._outlet_type_select_single();},_capture_extended_content:function(data){return data;},_setValueAttr:function(_2b3){this.clear();var data=_2b3.data;var open=false;if(data==null||data==undefined){data=_2b3;}for(var key in data){var pid=data[key];var v=this.items._getItemByIdentity(pid);this._select_item(pid,v.name);open=true;}this._control_buttons();this._get_selector(this._getValueAttr());if(open){this.make_open();}}});});},"dijit/tree/ForestStoreModel":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","./TreeStoreModel"],function(_2b4,_2b5,_2b6,lang,_2b7){return _2b5("dijit.tree.ForestStoreModel",_2b7,{rootId:"$root$",rootLabel:"ROOT",query:null,constructor:function(_2b8){this.root={store:this,root:true,id:_2b8.rootId,label:_2b8.rootLabel,children:_2b8.rootChildren};},mayHaveChildren:function(item){return item===this.root||this.inherited(arguments);},getChildren:function(_2b9,_2ba,_2bb){if(_2b9===this.root){if(this.root.children){_2ba(this.root.children);}else{this.store.fetch({query:this.query,onComplete:lang.hitch(this,function(_2bc){this.root.children=_2bc;_2ba(_2bc);}),onError:_2bb});}}else{this.inherited(arguments);}},isItem:function(_2bd){return (_2bd===this.root)?true:this.inherited(arguments);},fetchItemByIdentity:function(_2be){if(_2be.identity==this.root.id){var _2bf=_2be.scope||_2b6.global;if(_2be.onItem){_2be.onItem.call(_2bf,this.root);}}else{this.inherited(arguments);}},getIdentity:function(item){return (item===this.root)?this.root.id:this.inherited(arguments);},getLabel:function(item){return (item===this.root)?this.root.label:this.inherited(arguments);},newItem:function(args,_2c0,_2c1){if(_2c0===this.root){this.onNewRootItem(args);return this.store.newItem(args);}else{return this.inherited(arguments);}},onNewRootItem:function(){},pasteItem:function(_2c2,_2c3,_2c4,_2c5,_2c6){if(_2c3===this.root){if(!_2c5){this.onLeaveRoot(_2c2);}}this.inherited(arguments,[_2c2,_2c3===this.root?null:_2c3,_2c4===this.root?null:_2c4,_2c5,_2c6]);if(_2c4===this.root){this.onAddToRoot(_2c2);}},onAddToRoot:function(item){},onLeaveRoot:function(item){},_requeryTop:function(){var _2c7=this.root.children||[];this.store.fetch({query:this.query,onComplete:lang.hitch(this,function(_2c8){this.root.children=_2c8;if(_2c7.length!=_2c8.length||_2b4.some(_2c7,function(item,idx){return _2c8[idx]!=item;})){this.onChildrenChange(this.root,_2c8);}})});},onNewItem:function(item,_2c9){this._requeryTop();this.inherited(arguments);},onDeleteItem:function(item){if(_2b4.indexOf(this.root.children,item)!=-1){this._requeryTop();}this.inherited(arguments);},onSetItem:function(item,_2ca,_2cb,_2cc){this._requeryTop();this.inherited(arguments);}});});},"dojox/form/BusyButton":function(){define(["./_BusyButtonMixin","dijit/form/Button","dojo/_base/declare"],function(_2cd,_2ce,_2cf){var _2d0=_2cf("dojox.form.BusyButton",[_2ce,_2cd],{});return _2d0;});},"dgrid/editor":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","dojo/_base/Deferred","dojo/on","dojo/aspect","dojo/has","dojo/query","dojo/when","./Grid","put-selector/put","dojo/_base/sniff"],function(_2d1,lang,_2d2,_2d3,on,_2d4,has,_2d5,when,Grid,put){function _2d6(_2d7,_2d8){_2d7.value=_2d8;if(_2d7.type=="radio"||_2d7.type=="checkbox"){_2d7.checked=_2d7.defaultChecked=!!_2d8;}};function _2d9(_2da,_2db){if(typeof _2db=="number"){_2da=isNaN(_2da)?_2da:parseFloat(_2da);}else{if(typeof _2db=="boolean"){_2da=_2da=="true"?true:_2da=="false"?false:_2da;}else{if(_2db instanceof Date){var _2dc=new Date(_2da);_2da=isNaN(_2dc.getTime())?_2da:_2dc;}}}return _2da;};function _2dd(_2de,cmp){if(typeof cmp.get=="function"){return _2d9(cmp.get("value"));}else{return _2d9(cmp[cmp.type=="checkbox"||cmp.type=="radio"?"checked":"value"]);}};function _2df(grid,cell,_2e0,_2e1,_2e2){var _2e3,row,_2e4,_2e5;if((_2e0&&_2e0.valueOf())!=(_2e1&&_2e1.valueOf())){_2e3=cell.element;row=cell.row;_2e4=cell.column;if(_2e4.field&&row){_2e5={grid:grid,cell:cell,rowId:row.id,oldValue:_2e0,value:_2e1,bubbles:true,cancelable:true};if(_2e2&&_2e2.type){_2e5.parentType=_2e2.type;}if(on.emit(_2e3,"dgrid-datachange",_2e5)){if(grid.updateDirty){grid.updateDirty(row.id,_2e4.field,_2e1);_2e4.autoSave&&setTimeout(function(){grid._trackError("save");},0);}else{row.data[_2e4.field]=_2e1;}}else{var cmp;if((cmp=_2e3.widget)){cmp._dgridIgnoreChange=true;cmp.set("value",_2e0);setTimeout(function(){cmp._dgridIgnoreChange=false;},0);}else{if((cmp=_2e3.input)){_2d6(cmp,_2e0);}}return _2e0;}}}return _2e1;};function _2e6(grid,cmp,_2e7){var cell=grid.cell(cmp.domNode||cmp),_2e8=cell.column,_2e9,id,_2ea,_2eb=grid._activeCell;if(!cmp.isValid||cmp.isValid()){_2e9=_2df(grid,cell,_2eb?grid._activeValue:cmp._dgridLastValue,_2dd(_2e8,cmp),_2e7);if(_2eb){grid._activeValue=_2e9;}else{cmp._dgridLastValue=_2e9;}if(cmp.type==="radio"&&cmp.name&&!_2e8.editOn&&_2e8.field){_2ea=grid.row(cmp);_2d5("input[type=radio][name="+cmp.name+"]",grid.contentNode).forEach(function(_2ec){var row=grid.row(_2ec);if(_2ec!==cmp&&_2ec._dgridLastValue){_2ec._dgridLastValue=false;if(grid.updateDirty){grid.updateDirty(row.id,_2e8.field,false);}else{row.data[_2e8.field]=false;}}});for(id in grid.dirty){if(_2ea.id!==id&&grid.dirty[id][_2e8.field]){grid.updateDirty(id,_2e8.field,false);}}}}};function _2ed(_2ee){var _2ef=_2ee.editor,_2f0=_2ee.editOn,grid=_2ee.grid,_2f1=typeof _2ef!="string",args,cmp,node,_2f2,_2f3;args=_2ee.editorArgs||{};if(typeof args=="function"){args=args.call(grid,_2ee);}if(_2f1){cmp=new _2ef(args);node=cmp.focusNode||cmp.domNode;node.className+=" dgrid-input";cmp.connect(cmp,_2f0?"onBlur":"onChange",function(){if(!cmp._dgridIgnoreChange){_2e6(grid,this,{type:"widget"});}});}else{_2f3=function(evt){var _2f4=evt.target;if("_dgridLastValue" in _2f4&&_2f4.className.indexOf("dgrid-input")>-1){_2e6(grid,_2f4,evt);}};if(!_2ee.grid._hasInputListener){grid._hasInputListener=true;grid.on("change",function(evt){_2f3(evt);});}_2f2=_2ef=="textarea"?"textarea":"input[type="+_2ef+"]";cmp=node=put(_2f2+".dgrid-input",lang.mixin({name:_2ee.field,tabIndex:isNaN(_2ee.tabIndex)?-1:_2ee.tabIndex},args));if(has("ie")<9||(has("ie")&&has("quirks"))){if(_2ef=="radio"||_2ef=="checkbox"){on(cmp,"click",function(evt){_2f3(evt);});}else{on(cmp,"change",function(evt){_2f3(evt);});}}}return cmp;};function _2f5(_2f6,_2f7){var cmp=_2ed(_2f6),grid=_2f6.grid,_2f8=cmp.domNode,node=cmp.domNode||cmp,_2f9=cmp.focusNode||node,_2fa=_2f8?function(){cmp.set("value",cmp._dgridLastValue);}:function(){_2d6(cmp,cmp._dgridLastValue);_2e6(_2f6.grid,cmp);},_2fb;function blur(){var _2fc=grid._activeCell;_2f9.blur();if(typeof grid.focus==="function"){setTimeout(function(){grid.focus(_2fc);},_2f8&&has("ie")<9?15:0);}};function _2fd(){var _2fe=node.parentNode,i=_2fe.children.length-1,_2ff={alreadyHooked:true},cell=grid.cell(node);on.emit(cell.element,"dgrid-editor-hide",{grid:grid,cell:cell,column:_2f6,editor:cmp,bubbles:true,cancelable:false});_2f6._editorBlurHandle.pause();_2fe.removeChild(node);if(cell.row){put(cell.element,"!dgrid-cell-editing");while(i--){put(_2fe.firstChild,"!");}Grid.appendIfNode(_2fe,_2f6.renderCell(_2f6.grid.row(_2fe).data,grid._activeValue,_2fe,grid._activeOptions?lang.delegate(_2ff,grid._activeOptions):_2ff));}grid._focusedEditorCell=grid._activeCell=grid._activeValue=grid._activeOptions=null;};function _300(evt){var key=evt.keyCode||evt.which;if(key==27){_2fa();grid._activeValue=cmp._dgridLastValue;blur();}else{if(key==13&&_2f6.dismissOnEnter!==false){blur();}}};_2fb=on(_2f9,"keydown",_300);(_2f6._editorBlurHandle=on.pausable(cmp,"blur",_2fd)).pause();return cmp;};function _301(cmp,_302,_303,_304){var _305=cmp.domNode;if(!_305){_2d6(cmp,_304);}_303.innerHTML="";put(_303,".dgrid-cell-editing");put(_303,cmp.domNode||cmp);if(_305&&!_302.editOn){_302.grid._editorsPendingStartup.push([cmp,_302,_303,_304]);}else{_306(cmp,_302,_303,_304);}};function _306(cmp,_307,_308,_309){var grid=_307.grid;if(cmp.domNode){if(!cmp._started){cmp.startup();}cmp._dgridIgnoreChange=true;cmp.set("value",_309);setTimeout(function(){cmp._dgridIgnoreChange=false;},0);}cmp._dgridLastValue=_309;if(grid._activeCell){grid._activeValue=_309;on.emit(_308,"dgrid-editor-show",{grid:grid,cell:grid.cell(_308),column:_307,editor:cmp,bubbles:true,cancelable:false});}};function _30a(grid){var args=grid._editorsPendingStartup;for(var i=args.length;i--;){_306.apply(null,args[i]);}grid._editorsPendingStartup=[];};function edit(cell){var row,_30b,_30c,_30d,_30e,_30f,cmp,dfd,node,self=this;function show(dfd){_30b.grid._activeCell=_30c;_301(_30b.editorInstance,_30b,_30c,_30f);_30b._editTimer=setTimeout(function(){if(cmp.focus){cmp.focus();}if(_30b._editorBlurHandle){_30b._editorBlurHandle.resume();}_30b._editTimer=null;dfd.resolve(cmp);},0);};if(!cell.column){cell=this.cell(cell);}if(!cell||!cell.element){return null;}_30b=cell.column;_30e=_30b.field;_30c=cell.element.contents||cell.element;if((cmp=_30b.editorInstance)){if(_30b.grid._activeCell!=_30c){row=cell.row;_30d=this.dirty&&this.dirty[row.id];_30f=(_30d&&_30e in _30d)?_30d[_30e]:_30b.get?_30b.get(row.data):row.data[_30e];if(!_30b.canEdit||_30b.canEdit(cell.row.data,_30f)){dfd=new _2d3();node=cmp.domNode||cmp;if(node.offsetWidth){node.blur();setTimeout(function(){show(dfd);},0);}else{show(dfd);}return dfd.promise;}}}else{if(_30b.editor){cmp=_30c.widget||_30c.input;if(cmp){dfd=new _2d3();if(cmp.focus){cmp.focus();}dfd.resolve(cmp);return dfd.promise;}}}return null;};return function(_310,_311,_312){var _313=_310.renderCell||Grid.defaultRenderCell,_314=[],_315;function _316(_317){var grid=_317.grid,_318,_319;if(!grid.edit){grid.edit=edit;grid._editorsPendingStartup=[];_314.push(on(grid.domNode,".dgrid-input:focusin",function(){grid._focusedEditorCell=grid.cell(this);}));_318=grid._editorFocusoutHandle=on.pausable(grid.domNode,".dgrid-input:focusout",function(){grid._focusedEditorCell=null;});_314.push(_318);_314.push(_2d4.before(grid,"removeRow",function(row){var _31a=grid._focusedEditorCell;row=grid.row(row);if(_31a&&_31a.row.id===row.id){_319=_31a;_318.pause();setTimeout(function(){_318.resume();_319=null;},0);}}));_314.push(_2d4.after(grid,"insertRow",function(_31b){var row=grid.row(_31b);if(_319&&_319.row.id===row.id){grid.edit(grid.cell(row,_319.column.id));}return _31b;}));_314.push(_2d4.after(grid,"renderArray",function(rows){when(rows,function(_31c){if(_31c.length){_30a(grid);}else{grid._editorsPendingStartup=[];}});return rows;}));_314.push(_2d4.after(grid,"_onNotification",function(){_30a(grid);}));}};if(!_310){_310={};}_310.editor=_311=_311||_310.editor||"text";_310.editOn=_312=_312||_310.editOn;_315=typeof _311!="string";if(_310.widgetArgs){_2d1.deprecated("column.widgetArgs","use column.editorArgs instead","dgrid 0.4");_310.editorArgs=_310.widgetArgs;}_2d4.after(_310,"init",_312?function(){_316(_310);_310.editorInstance=_2f5(_310,_313);}:function(){var grid=_310.grid;_316(_310);if(_315){_314.push(_2d4.before(grid,"removeRow",function(_31d){var _31e=grid.cell(_31d,_310.id).element,_31f=_31e&&(_31e.contents||_31e).widget;if(_31f){grid._editorFocusoutHandle.pause();_31f.destroyRecursive();}}));}});_2d4.after(_310,"destroy",function(){_2d2.forEach(_314,function(l){l.remove();});if(_310._editorBlurHandle){_310._editorBlurHandle.remove();}if(_310._editTimer){clearTimeout(_310._editTimer);}if(_312&&_315){_310.editorInstance.destroyRecursive();}_310.grid.edit=null;_310.grid._editorsPendingStartup=null;});_310.renderCell=_312?function(_320,_321,cell,_322){var grid=_310.grid;if(!_322||!_322.alreadyHooked){on(cell.tagName=="TD"?cell:cell.parentNode,_312,function(){grid._activeOptions=_322;grid.edit(this);});}return _313.call(_310,_320,_321,cell,_322);}:function(_323,_324,cell,_325){if(!_310.canEdit||_310.canEdit(_323,_324)){var cmp=_2ed(_310);_301(cmp,_310,cell,_324);cell[_315?"widget":"input"]=cmp;}else{return _313.call(_310,_323,_324,cell,_325);}};return _310;};});},"prcommon2/clippings/analysis/edit":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../analysis/templates/edit.html","dijit/layout/BorderContainer","ttl/utilities2","dojo/topic","dojo/request","dojo/_base/lang","dojo/string"],function(_326,_327,_328,_329,_32a,_32b,_32c,lang,_32d){return _326("prcommon2.clippings.analysis.edit",[_327,_329],{templateString:_328,constructor:function(){this._save_call_back=lang.hitch(this,this._save_call);_32b.subscribe("/clipping/update",lang.hitch(this,this._update_clipping_event));this._ignore=false;},clear:function(){this.display_zone.set("content","");this.analysis_view_ctrl.selectChild(this.display_zone);},load:function(_32e){this.clear();this._clippingid=_32e;this.display_zone.set("href",_32d.substitute("/clippings/analyse/analysis_clip_view_amd?clippingid=${clippingid}&${cache}",{clippingid:_32e,cache:_32a.get_prevent_cache_param()}));},_update_clipping_event:function(_32f){if(this._ignore==false){this.load(_32f.clippingid);}},_save:function(){var _330=dijit.byId("form_clip_"+this._clippingid);if(_32a.form_validator(_330)==false){alert("Invalid Value");return;}_32c.post("/clippings/analyse/update",_32a.make_params({data:_330.get("value")})).then(this._save_call_back);},_save_call:function(_331){if(_331.success=="OK"){this._ignore=true;_32b.publish("/clipping/update",_331.data);this._ignore=false;alert("Updated");}else{alert("Problem");}},resize:function(){this.borderControl.resize(arguments[0]);},_update:function(){}});});},"dijit/Menu":function(){define(["require","dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","dojo/_base/window","dojo/window","./popup","./DropDownMenu","dojo/ready"],function(_332,_333,_334,dom,_335,_336,_337,keys,lang,on,has,win,_338,pm,_339,_33a){if(has("dijit-legacy-requires")){_33a(0,function(){var _33b=["dijit/MenuItem","dijit/PopupMenuItem","dijit/CheckedMenuItem","dijit/MenuSeparator"];_332(_33b);});}return _334("dijit.Menu",_339,{constructor:function(){this._bindings=[];},targetNodeIds:[],selector:"",contextMenuForWindow:false,leftClickToOpen:false,refocus:true,postCreate:function(){if(this.contextMenuForWindow){this.bindDomNode(this.ownerDocumentBody);}else{_333.forEach(this.targetNodeIds,this.bindDomNode,this);}this.inherited(arguments);},_iframeContentWindow:function(_33c){return _338.get(this._iframeContentDocument(_33c))||this._iframeContentDocument(_33c)["__parent__"]||(_33c.name&&document.frames[_33c.name])||null;},_iframeContentDocument:function(_33d){return _33d.contentDocument||(_33d.contentWindow&&_33d.contentWindow.document)||(_33d.name&&document.frames[_33d.name]&&document.frames[_33d.name].document)||null;},bindDomNode:function(node){node=dom.byId(node,this.ownerDocument);var cn;if(node.tagName.toLowerCase()=="iframe"){var _33e=node,_33f=this._iframeContentWindow(_33e);cn=win.body(_33f.document);}else{cn=(node==win.body(this.ownerDocument)?this.ownerDocument.documentElement:node);}var _340={node:node,iframe:_33e};_335.set(node,"_dijitMenu"+this.id,this._bindings.push(_340));var _341=lang.hitch(this,function(cn){var _342=this.selector,_343=_342?function(_344){return on.selector(_342,_344);}:function(_345){return _345;},self=this;return [on(cn,_343(this.leftClickToOpen?"click":"contextmenu"),function(evt){evt.stopPropagation();evt.preventDefault();if((new Date()).getTime()<self._lastKeyDown+500){return;}self._scheduleOpen(this,_33e,{x:evt.pageX,y:evt.pageY},evt.target);}),on(cn,_343("keydown"),function(evt){if(evt.keyCode==93||(evt.shiftKey&&evt.keyCode==keys.F10)||(self.leftClickToOpen&&evt.keyCode==keys.SPACE)){evt.stopPropagation();evt.preventDefault();self._scheduleOpen(this,_33e,null,evt.target);self._lastKeyDown=(new Date()).getTime();}})];});_340.connects=cn?_341(cn):[];if(_33e){_340.onloadHandler=lang.hitch(this,function(){var _346=this._iframeContentWindow(_33e),cn=win.body(_346.document);_340.connects=_341(cn);});if(_33e.addEventListener){_33e.addEventListener("load",_340.onloadHandler,false);}else{_33e.attachEvent("onload",_340.onloadHandler);}}},unBindDomNode:function(_347){var node;try{node=dom.byId(_347,this.ownerDocument);}catch(e){return;}var _348="_dijitMenu"+this.id;if(node&&_335.has(node,_348)){var bid=_335.get(node,_348)-1,b=this._bindings[bid],h;while((h=b.connects.pop())){h.remove();}var _349=b.iframe;if(_349){if(_349.removeEventListener){_349.removeEventListener("load",b.onloadHandler,false);}else{_349.detachEvent("onload",b.onloadHandler);}}_335.remove(node,_348);delete this._bindings[bid];}},_scheduleOpen:function(_34a,_34b,_34c,_34d){if(!this._openTimer){this._openTimer=this.defer(function(){delete this._openTimer;this._openMyself({target:_34d,delegatedTarget:_34a,iframe:_34b,coords:_34c});},1);}},_openMyself:function(args){var _34e=args.target,_34f=args.iframe,_350=args.coords,_351=!_350;this.currentTarget=args.delegatedTarget;if(_350){if(_34f){var ifc=_336.position(_34f,true),_352=this._iframeContentWindow(_34f),_353=_336.docScroll(_352.document);var cs=_337.getComputedStyle(_34f),tp=_337.toPixelValue,left=(has("ie")&&has("quirks")?0:tp(_34f,cs.paddingLeft))+(has("ie")&&has("quirks")?tp(_34f,cs.borderLeftWidth):0),top=(has("ie")&&has("quirks")?0:tp(_34f,cs.paddingTop))+(has("ie")&&has("quirks")?tp(_34f,cs.borderTopWidth):0);_350.x+=ifc.x+left-_353.x;_350.y+=ifc.y+top-_353.y;}}else{_350=_336.position(_34e,true);_350.x+=10;_350.y+=10;}var self=this;var _354=this._focusManager.get("prevNode");var _355=this._focusManager.get("curNode");var _356=!_355||(dom.isDescendant(_355,this.domNode))?_354:_355;function _357(){if(self.refocus&&_356){_356.focus();}pm.close(self);};pm.open({popup:this,x:_350.x,y:_350.y,onExecute:_357,onCancel:_357,orient:this.isLeftToRight()?"L":"R"});this.focus();if(!_351){this.defer(function(){this._cleanUp(true);});}this._onBlur=function(){this.inherited("_onBlur",arguments);pm.close(this);};},destroy:function(){_333.forEach(this._bindings,function(b){if(b){this.unBindDomNode(b.node);}},this);this.inherited(arguments);}});});},"dijit/_base/window":function(){define(["dojo/window","../main"],function(_358,_359){_359.getDocumentWindow=function(doc){return _358.get(doc);};});},"dojo/store/Observable":function(){define(["../_base/kernel","../_base/lang","../when","../_base/array"],function(_35a,lang,when,_35b){var _35c=function(_35d){var _35e,_35f=[],_360=0;_35d=lang.delegate(_35d);_35d.notify=function(_361,_362){_360++;var _363=_35f.slice();for(var i=0,l=_363.length;i<l;i++){_363[i](_361,_362);}};var _364=_35d.query;_35d.query=function(_365,_366){_366=_366||{};var _367=_364.apply(this,arguments);if(_367&&_367.forEach){var _368=lang.mixin({},_366);delete _368.start;delete _368.count;var _369=_35d.queryEngine&&_35d.queryEngine(_365,_368);var _36a=_360;var _36b=[],_36c;_367.observe=function(_36d,_36e){if(_36b.push(_36d)==1){_35f.push(_36c=function(_36f,_370){when(_367,function(_371){var _372=_371.length!=_366.count;var i,l,_36d;if(++_36a!=_360){throw new Error("Query is out of date, you must observe() the query prior to any data modifications");}var _373,_374=-1,_375=-1;if(_370!==_35e){var _376=[].concat(_371);if(_369&&!_36f){_376=_369(_371);}for(i=0,l=_371.length;i<l;i++){var _377=_371[i];if(_35d.getIdentity(_377)==_370){if(_376.indexOf(_377)<0){continue;}_373=_377;_374=i;if(_369||!_36f){_371.splice(i,1);}break;}}}if(_369){if(_36f&&(_369.matches?_369.matches(_36f):_369([_36f]).length)){var _378=_374>-1?_374:_371.length;_371.splice(_378,0,_36f);_375=_35b.indexOf(_369(_371),_36f);_371.splice(_378,1);if((_366.start&&_375==0)||(!_372&&_375==_371.length)){_375=-1;}else{_371.splice(_375,0,_36f);}}}else{if(_36f){if(_370!==_35e){_375=_374;}else{if(!_366.start){_375=_35d.defaultIndex||0;_371.splice(_375,0,_36f);}}}}if((_374>-1||_375>-1)&&(_36e||!_369||(_374!=_375))){var _379=_36b.slice();for(i=0;_36d=_379[i];i++){_36d(_36f||_373,_374,_375);}}});});}var _37a={};_37a.remove=_37a.cancel=function(){var _37b=_35b.indexOf(_36b,_36d);if(_37b>-1){_36b.splice(_37b,1);if(!_36b.length){_35f.splice(_35b.indexOf(_35f,_36c),1);}}};return _37a;};}return _367;};var _37c;function _37d(_37e,_37f){var _380=_35d[_37e];if(_380){_35d[_37e]=function(_381){var _382;if(_37e==="put"){_382=_35d.getIdentity(_381);}if(_37c){return _380.apply(this,arguments);}_37c=true;try{var _383=_380.apply(this,arguments);when(_383,function(_384){_37f((typeof _384=="object"&&_384)||_381,_382);});return _383;}finally{_37c=false;}};}};_37d("put",function(_385,_386){_35d.notify(_385,_386);});_37d("add",function(_387){_35d.notify(_387);});_37d("remove",function(id){_35d.notify(undefined,id);});return _35d;};lang.setObject("dojo.store.Observable",_35c);return _35c;});},"dijit/form/MappedTextBox":function(){define(["dojo/_base/declare","dojo/sniff","dojo/dom-construct","./ValidationTextBox"],function(_388,has,_389,_38a){return _388("dijit.form.MappedTextBox",_38a,{postMixInProperties:function(){this.inherited(arguments);this.nameAttrSetting="";},_setNameAttr:"valueNode",serialize:function(val){return val.toString?val.toString():"";},toString:function(){var val=this.filter(this.get("value"));return val!=null?(typeof val=="string"?val:this.serialize(val,this.constraints)):"";},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);this.valueNode=_389.place("<input type='hidden'"+((this.name&&!has("msapp"))?" name=\""+this.name.replace(/"/g,"&quot;")+"\"":"")+"/>",this.textbox,"after");},reset:function(){this.valueNode.value="";this.inherited(arguments);}});});},"dojox/gfx/renderer":function(){define(["./_base","dojo/_base/lang","dojo/_base/sniff","dojo/_base/window","dojo/_base/config"],function(g,lang,has,win,_38b){var _38c=null;has.add("vml",function(_38d,_38e,_38f){_38f.innerHTML="<v:shape adj=\"1\"/>";var _390=("adj" in _38f.firstChild);_38f.innerHTML="";return _390;});return {load:function(id,_391,load){if(_38c&&id!="force"){load(_38c);return;}var _392=_38b.forceGfxRenderer,_393=!_392&&(lang.isString(_38b.gfxRenderer)?_38b.gfxRenderer:"svg,vml,canvas,silverlight").split(","),_394,_395;while(!_392&&_393.length){switch(_393.shift()){case "svg":if("SVGAngle" in win.global){_392="svg";}break;case "vml":if(has("vml")){_392="vml";}break;case "silverlight":try{if(has("ie")){_394=new ActiveXObject("AgControl.AgControl");if(_394&&_394.IsVersionSupported("1.0")){_395=true;}}else{if(navigator.plugins["Silverlight Plug-In"]){_395=true;}}}catch(e){_395=false;}finally{_394=null;}if(_395){_392="silverlight";}break;case "canvas":if(win.global.CanvasRenderingContext2D){_392="canvas";}break;}}if(_392==="canvas"&&_38b.canvasEvents!==false){_392="canvasWithEvents";}if(_38b.isDebug){}function _396(){_391(["dojox/gfx/"+_392],function(_397){g.renderer=_392;_38c=_397;load(_397);});};if(_392=="svg"&&typeof window.svgweb!="undefined"){window.svgweb.addOnLoad(_396);}else{_396();}}};});},"prcommon2/clippings/detailedviewer":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../clippings/templates/detailedviewer.html","dijit/layout/BorderContainer","dojo/dom-geometry","dojo/_base/lang","ttl/store/JsonRest","dojo/store/Observable","ttl/grid/Grid","ttl/utilities2","dojo/topic","dojo/request","dojo/_base/lang","dojo/dom-attr","dijit/Menu","dijit/MenuItem","dojo/dom-construct","dojox/data/JsonRestStore","dijit/layout/StackContainer","dijit/layout/ContentPane","dijit/layout/TabContainer","dijit/Toolbar","dijit/form/Button","prcommon2/clippings/edit","prcommon2/clippings/analysis/edit","dijit/form/ValidationTextBox","dijit/form/DateTextBox","dijit/form/NumberTextBox","dijit/form/CurrencyTextBox","dijit/form/Textarea","dijit/form/RadioButton"],function(_398,_399,_39a,_39b,_39c,lang,_39d,_39e,Grid,_39f,_3a0,_3a1,lang,_3a2,Menu,_3a3,_3a4){return _398("prcommon2.clippings.detailedviewer",[_399,_39b],{templateString:_39a,basic_details_page:"/clippings/display_page?clippingid=${clippingid}",gutters:false,constructor:function(){this._clippings=new _39e(new _39d({target:"/clippings/list_clippings",idProperty:"clippingid"}));this._load_call_back=lang.hitch(this,this._load_call,"view");this._load2_call_back=lang.hitch(this,this._load_call,"edit");this._delete_call_back=lang.hitch(this,this._delete_call);this._selection_call_back=lang.hitch(this,this._selection_call);this._clear_selection_call_back=lang.hitch(this,this._clear_selection_call);this._std_menu=null;this._loaded=false;this.selected_clippings=[];this.userid=PRMAX.utils.settings.uid;_3a0.subscribe("/clipping/update",lang.hitch(this,this._update_event));_3a0.subscribe("/clipping/private_add",lang.hitch(this,this._private_add_event));_3a0.subscribe("/clipping/refresh_details",lang.hitch(this,this._section_view_event));_3a0.subscribe("/clipping/deleted",lang.hitch(this,this._clipping_delete_event));},postCreate:function(){this.inherited(arguments);var _3a5=[{label:" ",className:"grid-field-image-view",field:"selected",formatter:_39f.check_cell},{label:" ",sortable:false,className:"grid-field-image-view",field:"menu",formatter:_39f.format_row_icon,renderHeaderCell:function(node){node.title="Menu Options";return _3a4.create("div",{style:{height:"100%",width:"100%"},innerHTML:"<i class=\" fa fa-bars aria-hidden=\"true\"></i>"});}},{label:"T",className:"grid-field-image-view",field:"icon_name",formatter:_39f.fonticon2},{label:"Date",className:"dgrid-column-status-small",field:"clip_source_date_display"},{label:"Title",className:"dgrid-column-title",field:"clip_title"},{label:"Outlet",className:"dgrid-column-companyname",field:"outletname"},{label:"Tone",className:"dgrid-column-status-small",field:"clippingstonedescription"},{label:"Client",className:"dgrid-column-status",field:"clientname"},{label:"Issue",className:"dgrid-column-status",field:"issuename"}];this.clippings_grid=new Grid({columns:_3a5,selectionMode:"single",store:this._clippings,sort:[{attribute:"clip_source_date_display",descending:true}],query:{default_time_frame:1},minRowsPerPage:100,loadingMessage:"<i class='fa fa-spinner fa-spin fa-3x fa-fw'></i><p>Loading Data</p>",noDataMessage:"<span class='fa-stack fa-lg'><i class='fa fa-ban fa-3x fa-stack-2x text-danger'></i></span><p>No Results</p>"});this.clippings_grid_view.set("content",this.clippings_grid);this.clippings_grid.on(".dgrid-cell:click",lang.hitch(this,this._on_row_click));this.clippings_grid.on("dgrid-refresh-complete",lang.hitch(this,this._first_clipping_call));this.filter_view.set("Updateevent",lang.hitch(this,this._refresh_details_event));this.inherited(arguments);},_first_clipping_call:function(_3a6){if(this._loaded==true){return;}if(_3a6.results.results&&_3a6.results.results[0].length>0){var row=this.clippings_grid.row(_3a6.results.results[0][0]);this.clippings_grid.select(row);this._load_clipping(_3a6.results.results[0][0]);this._row=row;}this._loaded=true;},_load_clipping:function(data){_3a1.post("/clippings/get_for_edit",_39f.make_params({data:{clippingid:data.clippingid}})).then(this._load_call_back);},_selection_call:function(_3a7){if(_3a7.success=="OK"){this._clippings.put(this._row);if(this._row.selected==true){this.selected_clippings.push(this._row);}else{var _3a8=this.selected_clippings.indexOf(this._row);if(_3a8>-1){this.selected_clippings.splice(_3a8,1);}}}else{alert("Problem");}},_on_row_click:function(evt){var cell=this.clippings_grid.cell(evt);if(cell==null||cell.row==null){return;}this._row=cell.row.data;if(cell.column.field=="selected"){var _3a9=!this._row.selected;this._row.selected=!this._row.selected;var _3aa=PRMAX.utils.settings.uid;_3a1.post("/clippings/user_select",_39f.make_params({data:{clippingid:this._row.clippingid,userid:_3aa,selected:_3a9}})).then(this._selection_call_back);}else{if(cell.column.field=="menu"){if(this._std_menu===null){this._std_menu=new Menu();this._std_menu.addChild(new _3a3({label:"&nbsp;Delete",iconClass:"fa fa-trash fa-2x fa-fw",onClick:lang.hitch(this,this._delete_clipping)}));this._std_menu.addChild(new _3a3({label:"&nbsp;Edit",iconClass:"fa fa-pencil-square-o fa-2x fa-fw",onClick:lang.hitch(this,this._edit_clipping,"edit")}));this._std_menu.addChild(new _3a3({label:"&nbsp;View",iconClass:"fa fa-eye fa-2x fa-fw",onClick:lang.hitch(this,this._edit_clipping,"view")}));this._std_menu.addChild(new _3a3({label:"&nbsp;New",iconClass:"fa fa-plus fa-2x fa-fw",onClick:lang.hitch(this,this._new_clipping,"view")}));this._std_menu.startup();}if(this._std_menu!=null){this._std_menu._openMyself(evt);}}else{this._edit_clipping("view");}}},_new_clipping:function(){_3a0.publish("/clipping/change_view","newclipping");},_edit_clipping:function(mode){response=mode=="view"?this._load_call_back:this._load2_call_back;_3a1.post("/clippings/get_for_edit",_39f.make_params({data:{clippingid:this._row.clippingid}})).then(response);},_delete_clipping:function(){if(confirm("Delete Clipping")){_3a1.post("/clippings/delete_clipping",_39f.make_params({data:{clippingid:this._row.clippingid}})).then(this._delete_call_back);}},_delete_call:function(_3ab){if(_3ab.success=="OK"){_3a0.publish("/clipping/deleted",_3ab.data);}else{alert("Problem");}},_load_call:function(mode,_3ac){this._show_clipping(_3ac.data,mode);this._clippingid=_3ac.data.clippingid;},_load_add_call:function(_3ad){this._show_clipping(_3ad.data,"analysis");},_show_clipping:function(_3ae,_3af){this._set_options(_3ae);this.clipping_analysis_view.load(_3ae.clippingid);this.clipping_view.set("href",dojo.string.substitute(this.basic_details_page,{clippingid:_3ae.clippingid}));if(_3ae.clippingsourceid==2){this.clipping_edit_private_view.load(_3ae);}else{this.clipping_edit_view.load(_3ae);}this.clippings_view_ctrl.selectChild(this.clippings_view);switch(_3af){case "analysis":this.clippings_view.selectChild(this.clipping_analysis_view);break;case "edit":if(_3ae.clippingsourceid==2){this.clippings_view.selectChild(this.clipping_edit_private_view);}else{this.clippings_view.selectChild(this.clipping_edit_view);}break;default:this.clippings_view.selectChild(this.clipping_view);}},_set_options:function(_3b0){if(_3b0.clippingsourceid==2){this.clipping_edit_view.controlButton.domNode.style.display="none";this.clipping_edit_private_view.controlButton.domNode.style.display="";}else{this.clipping_edit_view.controlButton.domNode.style.display="";this.clipping_edit_private_view.controlButton.domNode.style.display="none";}},_update_event:function(_3b1){if(this._row){this._clippings.put(_3b1);this.clipping_analysis_view.load(_3b1.clippingid);this.clipping_view.set("href",dojo.string.substitute(this.basic_details_page,{clippingid:_3b1.clippingid}));}},_private_add_event:function(_3b2){this._clippings.add(_3b2);},refesh_view:function(){this._loaded=false;this.clippings_grid.set("query",this.filter_view.get("filterlimited"));this.clippings_view_ctrl.selectChild(this.blank_view);},_refresh_details_event:function(_3b3){this.filter_par=this.filter_view.get("filterlimited");this.extra_filter_par=_3b3;this._loaded=false;_3a1.post("/clippings/clear_user_selection",_39f.make_params({data:{userid:this.userid}})).then(this._clear_selection_call_back);},_clear_selection_call:function(_3b4){if(_3b4.success=="OK"){this.clippings_grid.set("query",lang.mixin(this.filter_par,this.extra_filter_par));this.clippings_view_ctrl.selectChild(this.blank_view);}else{alert("Problem");}},_section_view_event:function(_3b5){this.filter_view.set("newsettings",_3b5);this._loaded=false;this.clippings_grid.set("query",this.filter_view.get("filterlimited"));this.clippings_view_ctrl.selectChild(this.blank_view);},_clipping_delete_event:function(_3b6){this._clippings.remove(_3b6);this.clippings_view_ctrl.selectChild(this.blank_view);}});});},"dojo/dnd/Moveable":function(){define(["../_base/array","../_base/declare","../_base/lang","../dom","../dom-class","../Evented","../on","../topic","../touch","./common","./Mover","../_base/window"],function(_3b7,_3b8,lang,dom,_3b9,_3ba,on,_3bb,_3bc,dnd,_3bd,win){var _3be=_3b8("dojo.dnd.Moveable",[_3ba],{handle:"",delay:0,skip:false,constructor:function(node,_3bf){this.node=dom.byId(node);if(!_3bf){_3bf={};}this.handle=_3bf.handle?dom.byId(_3bf.handle):null;if(!this.handle){this.handle=this.node;}this.delay=_3bf.delay>0?_3bf.delay:0;this.skip=_3bf.skip;this.mover=_3bf.mover?_3bf.mover:_3bd;this.events=[on(this.handle,_3bc.press,lang.hitch(this,"onMouseDown")),on(this.handle,"dragstart",lang.hitch(this,"onSelectStart")),on(this.handle,"selectstart",lang.hitch(this,"onSelectStart"))];},markupFactory:function(_3c0,node,Ctor){return new Ctor(node,_3c0);},destroy:function(){_3b7.forEach(this.events,function(_3c1){_3c1.remove();});this.events=this.node=this.handle=null;},onMouseDown:function(e){if(this.skip&&dnd.isFormElement(e)){return;}if(this.delay){this.events.push(on(this.handle,_3bc.move,lang.hitch(this,"onMouseMove")),on(this.handle.ownerDocument,_3bc.release,lang.hitch(this,"onMouseUp")));this._lastX=e.pageX;this._lastY=e.pageY;}else{this.onDragDetected(e);}e.stopPropagation();e.preventDefault();},onMouseMove:function(e){if(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay){this.onMouseUp(e);this.onDragDetected(e);}e.stopPropagation();e.preventDefault();},onMouseUp:function(e){for(var i=0;i<2;++i){this.events.pop().remove();}e.stopPropagation();e.preventDefault();},onSelectStart:function(e){if(!this.skip||!dnd.isFormElement(e)){e.stopPropagation();e.preventDefault();}},onDragDetected:function(e){new this.mover(this.node,e,this);},onMoveStart:function(_3c2){_3bb.publish("/dnd/move/start",_3c2);_3b9.add(win.body(),"dojoMove");_3b9.add(this.node,"dojoMoveItem");},onMoveStop:function(_3c3){_3bb.publish("/dnd/move/stop",_3c3);_3b9.remove(win.body(),"dojoMove");_3b9.remove(this.node,"dojoMoveItem");},onFirstMove:function(){},onMove:function(_3c4,_3c5){this.onMoving(_3c4,_3c5);var s=_3c4.node.style;s.left=_3c5.l+"px";s.top=_3c5.t+"px";this.onMoved(_3c4,_3c5);},onMoving:function(){},onMoved:function(){}});return _3be;});},"dojo/store/util/QueryResults":function(){define(["../../_base/array","../../_base/lang","../../when"],function(_3c6,lang,when){var _3c7=function(_3c8){if(!_3c8){return _3c8;}var _3c9=!!_3c8.then;if(_3c9){_3c8=lang.delegate(_3c8);}function _3ca(_3cb){_3c8[_3cb]=function(){var args=arguments;var _3cc=when(_3c8,function(_3cd){Array.prototype.unshift.call(args,_3cd);return _3c7(_3c6[_3cb].apply(_3c6,args));});if(_3cb!=="forEach"||_3c9){return _3cc;}};};_3ca("forEach");_3ca("filter");_3ca("map");if(_3c8.total==null){_3c8.total=when(_3c8,function(_3ce){return _3ce.length;});}return _3c8;};lang.setObject("dojo.store.util.QueryResults",_3c7);return _3c7;});},"dijit/form/CheckBox":function(){define(["require","dojo/_base/declare","dojo/dom-attr","dojo/has","dojo/query","dojo/ready","./ToggleButton","./_CheckBoxMixin","dojo/text!./templates/CheckBox.html","dojo/NodeList-dom","../a11yclick"],function(_3cf,_3d0,_3d1,has,_3d2,_3d3,_3d4,_3d5,_3d6){if(has("dijit-legacy-requires")){_3d3(0,function(){var _3d7=["dijit/form/RadioButton"];_3cf(_3d7);});}return _3d0("dijit.form.CheckBox",[_3d4,_3d5],{templateString:_3d6,baseClass:"dijitCheckBox",_setValueAttr:function(_3d8,_3d9){if(typeof _3d8=="string"){this.inherited(arguments);_3d8=true;}if(this._created){this.set("checked",_3d8,_3d9);}},_getValueAttr:function(){return this.checked&&this._get("value");},_setIconClassAttr:null,_setNameAttr:"focusNode",postMixInProperties:function(){this.inherited(arguments);this.checkedAttrSetting="";},_fillContent:function(){},_onFocus:function(){if(this.id){_3d2("label[for='"+this.id+"']").addClass("dijitFocusedLabel");}this.inherited(arguments);},_onBlur:function(){if(this.id){_3d2("label[for='"+this.id+"']").removeClass("dijitFocusedLabel");}this.inherited(arguments);}});});},"dojox/gfx/shape":function(){define(["./_base","dojo/_base/lang","dojo/_base/declare","dojo/_base/kernel","dojo/_base/sniff","dojo/on","dojo/_base/array","dojo/dom-construct","dojo/_base/Color","./matrix"],function(g,lang,_3da,_3db,has,on,arr,_3dc,_3dd,_3de){var _3df=g.shape={};_3df.Shape=_3da("dojox.gfx.shape.Shape",null,{constructor:function(){this.rawNode=null;this.shape=null;this.matrix=null;this.fillStyle=null;this.strokeStyle=null;this.bbox=null;this.parent=null;this.parentMatrix=null;if(has("gfxRegistry")){var uid=_3df.register(this);this.getUID=function(){return uid;};}},destroy:function(){if(has("gfxRegistry")){_3df.dispose(this);}if(this.rawNode&&"__gfxObject__" in this.rawNode){this.rawNode.__gfxObject__=null;}this.rawNode=null;},getNode:function(){return this.rawNode;},getShape:function(){return this.shape;},getTransform:function(){return this.matrix;},getFill:function(){return this.fillStyle;},getStroke:function(){return this.strokeStyle;},getParent:function(){return this.parent;},getBoundingBox:function(){return this.bbox;},getTransformedBoundingBox:function(){var b=this.getBoundingBox();if(!b){return null;}var m=this._getRealMatrix(),gm=_3de;return [gm.multiplyPoint(m,b.x,b.y),gm.multiplyPoint(m,b.x+b.width,b.y),gm.multiplyPoint(m,b.x+b.width,b.y+b.height),gm.multiplyPoint(m,b.x,b.y+b.height)];},getEventSource:function(){return this.rawNode;},setClip:function(clip){this.clip=clip;},getClip:function(){return this.clip;},setShape:function(_3e0){this.shape=g.makeParameters(this.shape,_3e0);this.bbox=null;return this;},setFill:function(fill){if(!fill){this.fillStyle=null;return this;}var f=null;if(typeof (fill)=="object"&&"type" in fill){switch(fill.type){case "linear":f=g.makeParameters(g.defaultLinearGradient,fill);break;case "radial":f=g.makeParameters(g.defaultRadialGradient,fill);break;case "pattern":f=g.makeParameters(g.defaultPattern,fill);break;}}else{f=g.normalizeColor(fill);}this.fillStyle=f;return this;},setStroke:function(_3e1){if(!_3e1){this.strokeStyle=null;return this;}if(typeof _3e1=="string"||lang.isArray(_3e1)||_3e1 instanceof _3dd){_3e1={color:_3e1};}var s=this.strokeStyle=g.makeParameters(g.defaultStroke,_3e1);s.color=g.normalizeColor(s.color);return this;},setTransform:function(_3e2){this.matrix=_3de.clone(_3e2?_3de.normalize(_3e2):_3de.identity);return this._applyTransform();},_applyTransform:function(){return this;},moveToFront:function(){var p=this.getParent();if(p){p._moveChildToFront(this);this._moveToFront();}return this;},moveToBack:function(){var p=this.getParent();if(p){p._moveChildToBack(this);this._moveToBack();}return this;},_moveToFront:function(){},_moveToBack:function(){},applyRightTransform:function(_3e3){return _3e3?this.setTransform([this.matrix,_3e3]):this;},applyLeftTransform:function(_3e4){return _3e4?this.setTransform([_3e4,this.matrix]):this;},applyTransform:function(_3e5){return _3e5?this.setTransform([this.matrix,_3e5]):this;},removeShape:function(_3e6){if(this.parent){this.parent.remove(this,_3e6);}return this;},_setParent:function(_3e7,_3e8){this.parent=_3e7;return this._updateParentMatrix(_3e8);},_updateParentMatrix:function(_3e9){this.parentMatrix=_3e9?_3de.clone(_3e9):null;return this._applyTransform();},_getRealMatrix:function(){var m=this.matrix;var p=this.parent;while(p){if(p.matrix){m=_3de.multiply(p.matrix,m);}p=p.parent;}return m;}});_3df._eventsProcessing={on:function(type,_3ea){return on(this.getEventSource(),type,_3df.fixCallback(this,g.fixTarget,_3ea));},connect:function(name,_3eb,_3ec){if(name.substring(0,2)=="on"){name=name.substring(2);}return this.on(name,_3ec?lang.hitch(_3eb,_3ec):_3eb);},disconnect:function(_3ed){return _3ed.remove();}};_3df.fixCallback=function(_3ee,_3ef,_3f0,_3f1){if(!_3f1){_3f1=_3f0;_3f0=null;}if(lang.isString(_3f1)){_3f0=_3f0||_3db.global;if(!_3f0[_3f1]){throw (["dojox.gfx.shape.fixCallback: scope[\"",_3f1,"\"] is null (scope=\"",_3f0,"\")"].join(""));}return function(e){return _3ef(e,_3ee)?_3f0[_3f1].apply(_3f0,arguments||[]):undefined;};}return !_3f0?function(e){return _3ef(e,_3ee)?_3f1.apply(_3f0,arguments):undefined;}:function(e){return _3ef(e,_3ee)?_3f1.apply(_3f0,arguments||[]):undefined;};};lang.extend(_3df.Shape,_3df._eventsProcessing);_3df.Container={_init:function(){this.children=[];this._batch=0;},openBatch:function(){return this;},closeBatch:function(){return this;},add:function(_3f2){var _3f3=_3f2.getParent();if(_3f3){_3f3.remove(_3f2,true);}this.children.push(_3f2);return _3f2._setParent(this,this._getRealMatrix());},remove:function(_3f4,_3f5){for(var i=0;i<this.children.length;++i){if(this.children[i]==_3f4){if(_3f5){}else{_3f4.parent=null;_3f4.parentMatrix=null;}this.children.splice(i,1);break;}}return this;},clear:function(_3f6){var _3f7;for(var i=0;i<this.children.length;++i){_3f7=this.children[i];_3f7.parent=null;_3f7.parentMatrix=null;if(_3f6){_3f7.destroy();}}this.children=[];return this;},getBoundingBox:function(){if(this.children){var _3f8=null;arr.forEach(this.children,function(_3f9){var bb=_3f9.getBoundingBox();if(bb){var ct=_3f9.getTransform();if(ct){bb=_3de.multiplyRectangle(ct,bb);}if(_3f8){_3f8.x=Math.min(_3f8.x,bb.x);_3f8.y=Math.min(_3f8.y,bb.y);_3f8.endX=Math.max(_3f8.endX,bb.x+bb.width);_3f8.endY=Math.max(_3f8.endY,bb.y+bb.height);}else{_3f8={x:bb.x,y:bb.y,endX:bb.x+bb.width,endY:bb.y+bb.height};}}});if(_3f8){_3f8.width=_3f8.endX-_3f8.x;_3f8.height=_3f8.endY-_3f8.y;}return _3f8;}return null;},_moveChildToFront:function(_3fa){for(var i=0;i<this.children.length;++i){if(this.children[i]==_3fa){this.children.splice(i,1);this.children.push(_3fa);break;}}return this;},_moveChildToBack:function(_3fb){for(var i=0;i<this.children.length;++i){if(this.children[i]==_3fb){this.children.splice(i,1);this.children.unshift(_3fb);break;}}return this;}};_3df.Surface=_3da("dojox.gfx.shape.Surface",null,{constructor:function(){this.rawNode=null;this._parent=null;this._nodes=[];this._events=[];},destroy:function(){arr.forEach(this._nodes,_3dc.destroy);this._nodes=[];arr.forEach(this._events,function(h){if(h){h.remove();}});this._events=[];this.rawNode=null;if(has("ie")){while(this._parent.lastChild){_3dc.destroy(this._parent.lastChild);}}else{this._parent.innerHTML="";}this._parent=null;},getEventSource:function(){return this.rawNode;},_getRealMatrix:function(){return null;},isLoaded:true,onLoad:function(_3fc){},whenLoaded:function(_3fd,_3fe){var f=lang.hitch(_3fd,_3fe);if(this.isLoaded){f(this);}else{on.once(this,"load",function(_3ff){f(_3ff);});}}});lang.extend(_3df.Surface,_3df._eventsProcessing);_3df.Rect=_3da("dojox.gfx.shape.Rect",_3df.Shape,{constructor:function(_400){this.shape=g.getDefault("Rect");this.rawNode=_400;},getBoundingBox:function(){return this.shape;}});_3df.Ellipse=_3da("dojox.gfx.shape.Ellipse",_3df.Shape,{constructor:function(_401){this.shape=g.getDefault("Ellipse");this.rawNode=_401;},getBoundingBox:function(){if(!this.bbox){var _402=this.shape;this.bbox={x:_402.cx-_402.rx,y:_402.cy-_402.ry,width:2*_402.rx,height:2*_402.ry};}return this.bbox;}});_3df.Circle=_3da("dojox.gfx.shape.Circle",_3df.Shape,{constructor:function(_403){this.shape=g.getDefault("Circle");this.rawNode=_403;},getBoundingBox:function(){if(!this.bbox){var _404=this.shape;this.bbox={x:_404.cx-_404.r,y:_404.cy-_404.r,width:2*_404.r,height:2*_404.r};}return this.bbox;}});_3df.Line=_3da("dojox.gfx.shape.Line",_3df.Shape,{constructor:function(_405){this.shape=g.getDefault("Line");this.rawNode=_405;},getBoundingBox:function(){if(!this.bbox){var _406=this.shape;this.bbox={x:Math.min(_406.x1,_406.x2),y:Math.min(_406.y1,_406.y2),width:Math.abs(_406.x2-_406.x1),height:Math.abs(_406.y2-_406.y1)};}return this.bbox;}});_3df.Polyline=_3da("dojox.gfx.shape.Polyline",_3df.Shape,{constructor:function(_407){this.shape=g.getDefault("Polyline");this.rawNode=_407;},setShape:function(_408,_409){if(_408&&_408 instanceof Array){this.inherited(arguments,[{points:_408}]);if(_409&&this.shape.points.length){this.shape.points.push(this.shape.points[0]);}}else{this.inherited(arguments,[_408]);}return this;},_normalizePoints:function(){var p=this.shape.points,l=p&&p.length;if(l&&typeof p[0]=="number"){var _40a=[];for(var i=0;i<l;i+=2){_40a.push({x:p[i],y:p[i+1]});}this.shape.points=_40a;}},getBoundingBox:function(){if(!this.bbox&&this.shape.points.length){var p=this.shape.points;var l=p.length;var t=p[0];var bbox={l:t.x,t:t.y,r:t.x,b:t.y};for(var i=1;i<l;++i){t=p[i];if(bbox.l>t.x){bbox.l=t.x;}if(bbox.r<t.x){bbox.r=t.x;}if(bbox.t>t.y){bbox.t=t.y;}if(bbox.b<t.y){bbox.b=t.y;}}this.bbox={x:bbox.l,y:bbox.t,width:bbox.r-bbox.l,height:bbox.b-bbox.t};}return this.bbox;}});_3df.Image=_3da("dojox.gfx.shape.Image",_3df.Shape,{constructor:function(_40b){this.shape=g.getDefault("Image");this.rawNode=_40b;},getBoundingBox:function(){return this.shape;},setStroke:function(){return this;},setFill:function(){return this;}});_3df.Text=_3da(_3df.Shape,{constructor:function(_40c){this.fontStyle=null;this.shape=g.getDefault("Text");this.rawNode=_40c;},getFont:function(){return this.fontStyle;},setFont:function(_40d){this.fontStyle=typeof _40d=="string"?g.splitFontString(_40d):g.makeParameters(g.defaultFont,_40d);this._setFont();return this;},getBoundingBox:function(){var bbox=null,s=this.getShape();if(s.text){bbox=g._base._computeTextBoundingBox(this);}return bbox;}});_3df.Creator={createShape:function(_40e){switch(_40e.type){case g.defaultPath.type:return this.createPath(_40e);case g.defaultRect.type:return this.createRect(_40e);case g.defaultCircle.type:return this.createCircle(_40e);case g.defaultEllipse.type:return this.createEllipse(_40e);case g.defaultLine.type:return this.createLine(_40e);case g.defaultPolyline.type:return this.createPolyline(_40e);case g.defaultImage.type:return this.createImage(_40e);case g.defaultText.type:return this.createText(_40e);case g.defaultTextPath.type:return this.createTextPath(_40e);}return null;},createGroup:function(){return this.createObject(g.Group);},createRect:function(rect){return this.createObject(g.Rect,rect);},createEllipse:function(_40f){return this.createObject(g.Ellipse,_40f);},createCircle:function(_410){return this.createObject(g.Circle,_410);},createLine:function(line){return this.createObject(g.Line,line);},createPolyline:function(_411){return this.createObject(g.Polyline,_411);},createImage:function(_412){return this.createObject(g.Image,_412);},createText:function(text){return this.createObject(g.Text,text);},createPath:function(path){return this.createObject(g.Path,path);},createTextPath:function(text){return this.createObject(g.TextPath,{}).setText(text);},createObject:function(_413,_414){return null;}};return _3df;});},"dijit/form/Textarea":function(){define(["dojo/_base/declare","dojo/dom-style","./_ExpandingTextAreaMixin","./SimpleTextarea"],function(_415,_416,_417,_418){return _415("dijit.form.Textarea",[_418,_417],{baseClass:"dijitTextBox dijitTextArea dijitExpandingTextArea",cols:"",buildRendering:function(){this.inherited(arguments);_416.set(this.textbox,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"});}});});},"dijit/form/DropDownButton":function(){define(["dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/query","../registry","../popup","./Button","../_Container","../_HasDropDown","dojo/text!./templates/DropDownButton.html","../a11yclick"],function(_419,_41a,lang,_41b,_41c,_41d,_41e,_41f,_420,_421){return _419("dijit.form.DropDownButton",[_41e,_41f,_420],{baseClass:"dijitDropDownButton",templateString:_421,_fillContent:function(){var _422=this.srcNodeRef;var dest=this.containerNode;if(_422&&dest){while(_422.hasChildNodes()){var _423=_422.firstChild;if(_423.hasAttribute&&(_423.hasAttribute("data-dojo-type")||_423.hasAttribute("dojoType")||_423.hasAttribute("data-"+_41a._scopeName+"-type")||_423.hasAttribute(_41a._scopeName+"Type"))){this.dropDownContainer=this.ownerDocument.createElement("div");this.dropDownContainer.appendChild(_423);}else{dest.appendChild(_423);}}}},startup:function(){if(this._started){return;}if(!this.dropDown&&this.dropDownContainer){this.dropDown=_41c.byNode(this.dropDownContainer.firstChild);delete this.dropDownContainer;}if(this.dropDown){_41d.hide(this.dropDown);}this.inherited(arguments);},isLoaded:function(){var _424=this.dropDown;return (!!_424&&(!_424.href||_424.isLoaded));},loadDropDown:function(_425){var _426=this.dropDown;var _427=_426.on("load",lang.hitch(this,function(){_427.remove();_425();}));_426.refresh();},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown;}});});},"dijit/_base/scroll":function(){define(["dojo/window","../main"],function(_428,_429){_429.scrollIntoView=function(node,pos){_428.scrollIntoView(node,pos);};});},"dojox/charting/action2d/Highlight":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/_base/Color","dojo/_base/connect","dojox/color/_base","./PlotAction","dojo/fx/easing","dojox/gfx/fx"],function(lang,_42a,_42b,hub,c,_42c,dfe,dgf){var _42d=100,_42e=75,_42f=50,cc=function(_430){return function(){return _430;};},hl=function(_431){var a=new c.Color(_431),x=a.toHsl();if(x.s==0){x.l=x.l<50?100:0;}else{x.s=_42d;if(x.l<_42f){x.l=_42e;}else{if(x.l>_42e){x.l=_42f;}else{x.l=x.l-_42f>_42e-x.l?_42f:_42e;}}}var _432=c.fromHsl(x);_432.a=a.a;return _432;},_433=function(_434){var r=hl(_434);r.a=0.7;return r;};return _42a("dojox.charting.action2d.Highlight",_42c,{defaultParams:{duration:400,easing:dfe.backOut},optionalParams:{highlight:"red"},constructor:function(_435,plot,_436){var a=_436&&_436.highlight;this.colorFunc=a?(lang.isFunction(a)?a:cc(a)):hl;this.connect();},process:function(o){if(!o.shape||!(o.type in this.overOutEvents)){return;}if(o.element=="spider_circle"||o.element=="spider_plot"){return;}else{if(o.element=="spider_poly"&&this.colorFunc==hl){this.colorFunc=_433;}}var _437=o.run.name,_438=o.index,anim;if(_437 in this.anim){anim=this.anim[_437][_438];}else{this.anim[_437]={};}if(anim){anim.action.stop(true);}else{var _439=o.shape.getFill();if(!_439||!(_439 instanceof _42b)){return;}this.anim[_437][_438]=anim={start:_439,end:this.colorFunc(_439)};}var _43a=anim.start,end=anim.end;if(o.type=="onmouseout"){var t=_43a;_43a=end;end=t;}anim.action=dgf.animateFill({shape:o.shape,duration:this.duration,easing:this.easing,color:{start:_43a,end:end}});if(o.type=="onmouseout"){hub.connect(anim.action,"onEnd",this,function(){if(this.anim[_437]){delete this.anim[_437][_438];}});}anim.action.play();}});});},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(_43b,_43c){return _43b("dijit._Contained",null,{_getSibling:function(_43d){var p=this.getParent();return (p&&p._getSiblingOfChild&&p._getSiblingOfChild(this,_43d=="previous"?-1:1))||null;},getPreviousSibling:function(){return this._getSibling("previous");},getNextSibling:function(){return this._getSibling("next");},getIndexInParent:function(){var p=this.getParent();if(!p||!p.getIndexOfChild){return -1;}return p.getIndexOfChild(this);}});});},"dojox/charting/scaler/common":function(){define(["dojo/_base/lang"],function(lang){var eq=function(a,b){return Math.abs(a-b)<=0.000001*(Math.abs(a)+Math.abs(b));};var _43e=lang.getObject("dojox.charting.scaler.common",true);var _43f={};return lang.mixin(_43e,{doIfLoaded:function(_440,_441,_442){if(_43f[_440]===undefined){try{_43f[_440]=require(_440);}catch(e){_43f[_440]=null;}}if(_43f[_440]){return _441(_43f[_440]);}else{return _442();}},getNumericLabel:function(_443,_444,_445){var def="";_43e.doIfLoaded("dojo/number",function(_446){def=(_445.fixed?_446.format(_443,{places:_444<0?-_444:0}):_446.format(_443))||"";},function(){def=_445.fixed?_443.toFixed(_444<0?-_444:0):_443.toString();});if(_445.labelFunc){var r=_445.labelFunc(def,_443,_444);if(r){return r;}}if(_445.labels){var l=_445.labels,lo=0,hi=l.length;while(lo<hi){var mid=Math.floor((lo+hi)/2),val=l[mid].value;if(val<_443){lo=mid+1;}else{hi=mid;}}if(lo<l.length&&eq(l[lo].value,_443)){return l[lo].text;}--lo;if(lo>=0&&lo<l.length&&eq(l[lo].value,_443)){return l[lo].text;}lo+=2;if(lo<l.length&&eq(l[lo].value,_443)){return l[lo].text;}}return def;}});});},"dojox/charting/axis2d/Base":function(){define(["dojo/_base/declare","../Element"],function(_447,_448){return _447("dojox.charting.axis2d.Base",_448,{constructor:function(_449,_44a){this.vertical=_44a&&_44a.vertical;this.opt={};this.opt.min=_44a&&_44a.min;this.opt.max=_44a&&_44a.max;},clear:function(){return this;},initialized:function(){return false;},calculate:function(min,max,span){return this;},getScaler:function(){return null;},getTicks:function(){return null;},getOffsets:function(){return {l:0,r:0,t:0,b:0};},render:function(dim,_44b){this.dirty=false;return this;},isNullValue:function(_44c){return false;},naturalBaseline:0});});},"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(_44d,_44e,_44f,_450){return _44e("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},addChild:function(_451,_452){var _453=this.containerNode;if(_452>0){_453=_453.firstChild;while(_452>0){if(_453.nodeType==1){_452--;}_453=_453.nextSibling;}if(_453){_452="before";}else{_453=this.containerNode;_452="last";}}_44f.place(_451.domNode,_453,_452);if(this._started&&!_451._started){_451.startup();}},removeChild:function(_454){if(typeof _454=="number"){_454=this.getChildren()[_454];}if(_454){var node=_454.domNode;if(node&&node.parentNode){node.parentNode.removeChild(node);}}},hasChildren:function(){return this.getChildren().length>0;},_getSiblingOfChild:function(_455,dir){var _456=this.getChildren(),idx=_44d.indexOf(_456,_455);return _456[idx+dir];},getIndexOfChild:function(_457){return _44d.indexOf(this.getChildren(),_457);}});});},"dijit/layout/BorderContainer":function(){define(["dojo/_base/array","dojo/cookie","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/on","dojo/touch","../_WidgetBase","../_Widget","../_TemplatedMixin","./LayoutContainer","./utils"],function(_458,_459,_45a,_45b,_45c,_45d,_45e,keys,lang,on,_45f,_460,_461,_462,_463,_464){var _465=_45a("dijit.layout._Splitter",[_461,_462],{live:true,templateString:"<div class=\"dijitSplitter\" data-dojo-attach-event=\"onkeydown:_onKeyDown,press:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse\" tabIndex=\"0\" role=\"separator\"><div class=\"dijitSplitterThumb\"></div></div>",constructor:function(){this._handlers=[];},postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);this._factor=/top|left/.test(this.region)?1:-1;this._cookieName=this.container.id+"_"+this.region;},buildRendering:function(){this.inherited(arguments);_45b.add(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));if(this.container.persist){var _466=_459(this._cookieName);if(_466){this.child.domNode.style[this.horizontal?"height":"width"]=_466;}}},_computeMaxSize:function(){var dim=this.horizontal?"h":"w",_467=_45d.getMarginBox(this.child.domNode)[dim],_468=_458.filter(this.container.getChildren(),function(_469){return _469.region=="center";})[0];var _46a=_45d.getContentBox(_468.domNode)[dim]-10;return Math.min(this.child.maxSize,_467+_46a);},_startDrag:function(e){if(!this.cover){this.cover=_45c.place("<div class=dijitSplitterCover></div>",this.child.domNode,"after");}_45b.add(this.cover,"dijitSplitterCoverActive");if(this.fake){_45c.destroy(this.fake);}if(!(this._resize=this.live)){(this.fake=this.domNode.cloneNode(true)).removeAttribute("id");_45b.add(this.domNode,"dijitSplitterShadow");_45c.place(this.fake,this.domNode,"after");}_45b.add(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active");if(this.fake){_45b.remove(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");}var _46b=this._factor,_46c=this.horizontal,axis=_46c?"pageY":"pageX",_46d=e[axis],_46e=this.domNode.style,dim=_46c?"h":"w",_46f=_45e.getComputedStyle(this.child.domNode),_470=_45d.getMarginBox(this.child.domNode,_46f)[dim],max=this._computeMaxSize(),min=Math.max(this.child.minSize,_45d.getPadBorderExtents(this.child.domNode,_46f)[dim]+10),_471=this.region,_472=_471=="top"||_471=="bottom"?"top":"left",_473=parseInt(_46e[_472],10),_474=this._resize,_475=lang.hitch(this.container,"_layoutChildren",this.child.id),de=this.ownerDocument;this._handlers=this._handlers.concat([on(de,_45f.move,this._drag=function(e,_476){var _477=e[axis]-_46d,_478=_46b*_477+_470,_479=Math.max(Math.min(_478,max),min);if(_474||_476){_475(_479);}_46e[_472]=_477+_473+_46b*(_479-_478)+"px";}),on(de,"dragstart",function(e){e.stopPropagation();e.preventDefault();}),on(this.ownerDocumentBody,"selectstart",function(e){e.stopPropagation();e.preventDefault();}),on(de,_45f.release,lang.hitch(this,"_stopDrag"))]);e.stopPropagation();e.preventDefault();},_onMouse:function(e){var o=(e.type=="mouseover"||e.type=="mouseenter");_45b.toggle(this.domNode,"dijitSplitterHover",o);_45b.toggle(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",o);},_stopDrag:function(e){try{if(this.cover){_45b.remove(this.cover,"dijitSplitterCoverActive");}if(this.fake){_45c.destroy(this.fake);}_45b.remove(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active dijitSplitterShadow");this._drag(e);this._drag(e,true);}finally{this._cleanupHandlers();delete this._drag;}if(this.container.persist){_459(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365});}},_cleanupHandlers:function(){var h;while(h=this._handlers.pop()){h.remove();}},_onKeyDown:function(e){this._resize=true;var _47a=this.horizontal;var tick=1;switch(e.keyCode){case _47a?keys.UP_ARROW:keys.LEFT_ARROW:tick*=-1;case _47a?keys.DOWN_ARROW:keys.RIGHT_ARROW:break;default:return;}var _47b=_45d.getMarginSize(this.child.domNode)[_47a?"h":"w"]+this._factor*tick;this.container._layoutChildren(this.child.id,Math.max(Math.min(_47b,this._computeMaxSize()),this.child.minSize));e.stopPropagation();e.preventDefault();},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;delete this.cover;delete this.fake;this.inherited(arguments);}});var _47c=_45a("dijit.layout._Gutter",[_461,_462],{templateString:"<div class=\"dijitGutter\" role=\"presentation\"></div>",postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);},buildRendering:function(){this.inherited(arguments);_45b.add(this.domNode,"dijitGutter"+(this.horizontal?"H":"V"));}});var _47d=_45a("dijit.layout.BorderContainer",_463,{gutters:true,liveSplitters:true,persist:false,baseClass:"dijitBorderContainer",_splitterClass:_465,postMixInProperties:function(){if(!this.gutters){this.baseClass+="NoGutter";}this.inherited(arguments);},_setupChild:function(_47e){this.inherited(arguments);var _47f=_47e.region,ltr=_47e.isLeftToRight();if(_47f=="leading"){_47f=ltr?"left":"right";}if(_47f=="trailing"){_47f=ltr?"right":"left";}if(_47f){if(_47f!="center"&&(_47e.splitter||this.gutters)&&!_47e._splitterWidget){var _480=_47e.splitter?this._splitterClass:_47c;if(lang.isString(_480)){_480=lang.getObject(_480);}var _481=new _480({id:_47e.id+"_splitter",container:this,child:_47e,region:_47f,live:this.liveSplitters});_481.isSplitter=true;_47e._splitterWidget=_481;var _482=_47f=="bottom"||_47f==(this.isLeftToRight()?"right":"left");_45c.place(_481.domNode,_47e.domNode,_482?"before":"after");_481.startup();}}},layout:function(){this._layoutChildren();},removeChild:function(_483){var _484=_483._splitterWidget;if(_484){_484.destroy();delete _483._splitterWidget;}this.inherited(arguments);},getChildren:function(){return _458.filter(this.inherited(arguments),function(_485){return !_485.isSplitter;});},getSplitter:function(_486){return _458.filter(this.getChildren(),function(_487){return _487.region==_486;})[0]._splitterWidget;},resize:function(_488,_489){if(!this.cs||!this.pe){var node=this.domNode;this.cs=_45e.getComputedStyle(node);this.pe=_45d.getPadExtents(node,this.cs);this.pe.r=_45e.toPixelValue(node,this.cs.paddingRight);this.pe.b=_45e.toPixelValue(node,this.cs.paddingBottom);_45e.set(node,"padding","0px");}this.inherited(arguments);},_layoutChildren:function(_48a,_48b){if(!this._borderBox||!this._borderBox.h){return;}var _48c=[];_458.forEach(this._getOrderedChildren(),function(pane){_48c.push(pane);if(pane._splitterWidget){_48c.push(pane._splitterWidget);}});var dim={l:this.pe.l,t:this.pe.t,w:this._borderBox.w-this.pe.w,h:this._borderBox.h-this.pe.h};_464.layoutChildren(this.domNode,dim,_48c,_48a,_48b);},destroyRecursive:function(){_458.forEach(this.getChildren(),function(_48d){var _48e=_48d._splitterWidget;if(_48e){_48e.destroy();}delete _48d._splitterWidget;});this.inherited(arguments);}});_47d.ChildWidgetProperties={splitter:false,minSize:0,maxSize:Infinity};lang.mixin(_47d.ChildWidgetProperties,_463.ChildWidgetProperties);lang.extend(_460,_47d.ChildWidgetProperties);_47d._Splitter=_465;_47d._Gutter=_47c;return _47d;});},"prcommon2/interests/Interests":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../interests/templates/Interests.html","prcommon2/search/std_search","dojo/json","dojo/request","ttl/utilities2","dijit/popup","dojo/dom-class","dojo/dom-style","dojo/_base/lang","dojo/dom-attr","dojo/on","prcommon2/search/SearchCount","dijit/form/TextBox","dijit/form/FilteringSelect","dijit/form/CheckBox","dijit/form/Button","dijit/Tooltip","dijit/Dialog"],function(_48f,_490,_491,_492,json,_493,_494,_495,_496,_497,lang,_498,on){return _48f("prcommon2.interests.Interests",[_490,_492],{templateString:_491,name:"",value:"",displaytitle:"Keywords",search:"",size:"7",testmode:false,selectonly:false,startopen:false,interesttypeid:1,nofilter:false,restrict:1,compact:false,showhelp:false,constructor:function(){this.disabled=false;this._extended=false;this._load_selection_call=lang.hitch(this,this._load_selection);this.interest_timer=null;},statup2:function(){this.master_type.set("value",-1);this.inherited(arguments);},postCreate:function(){this.master_type.set("store",PRCOMMON.utils.stores.interest_sections());this.master_type.set("value",-1);on(this.interest_list_select.domNode,"keyup",lang.hitch(this,this._interest_select));on(this.interest_list,"change",lang.hitch(this,this.interest_update_selection));on(this.interest_list,"dblclick",lang.hitch(this,this.interest_select_dbl));_498.set(this.andorlabel,"for",this.andor.id);if(this.selectonly==true){_497.set(this.andor.domNode,"display","None");_497.set(this.countnode.domNode,"display","None");_497.set(this.andorlabel,"display","None");}else{this.andor_tip.set("connectId",this.andor.id);}if(this.nofilter){_497.set(this.master_type.domNode,"display","none");}if(this.startopen==true){_497.set(this.togglectrl,"display","none");_497.set(this.selectarea,"display","block");}if(this.showhelp==true){_496.remove(this.show_help_btn,"prmaxhidden");}if(this.compact==true){_496.add(this.button_all.domNode,"prmaxhidden");_496.add(this.button_del_all.domNode,"prmaxhidden");_496.add(this.button_all_line,"prmaxhidden");_496.add(this.button_del_all_line,"prmaxhidden");}this.inherited(arguments);},clear:function(){this._clear_selection_box();this._clear_selected_box();this.master_type.set("value",-1);this.interest_list_select.set("value","");this._get_selector(this._getValueAttr());this._selection_options();if(this.selectonly==false){this.inherited(arguments);}},clear_selection:function(){this._clear_selection_box();this.interest_list_select.set("value","");this._get_selector(this._getValueAttr());},_send_request:function(data,_499){this._transactionid=PRCOMMON.utils.uuid.createUUID();_493.post("/interests/listuserselection",_494.make_params({data:{word:data,filter:_499,logic:this.andor.get("value"),interesttypeid:this.interesttypeid,keytypeid:this.keytypeid,restrict:this.restrict,transactionid:this._transactionid}})).then(this._load_selection_call);},_interest_select:function(p1,_49a){var data=this.interest_list_select.get("value");var _49b=this.master_type.get("value");if(_49a!=null){data=_49a;}if(_49b=="-1"&&data=="*"){data="";}if(data.length>0){if(this.interest_timer){clearTimeout(this.interest_timer);this.interest_timer=null;}this.interest_timer=setTimeout(lang.hitch(this,this._send_request,data,_49b),this.searchTime);}else{this.interest_timer=null;this._clear_selection_box();this._selection_options();}},_load_selection:function(_49c){if(this._transactionid==_49c.transactionid){this._clear_selection_box();for(var i=0;i<_49c.data.length;++i){var _49d=_49c.data[i];this.interest_list.options[this.interest_list.options.length]=new Option(_49d[0],_49d[1]);}this._selection_options();}},_clear_selection_box:function(){this.interest_list.options.length=0;},_clear_selected_box:function(){this.interest_select.length=0;},and_or:function(){this._get_selector(this._getValueAttr(),true);},interest_update_selection:function(){this._selection_options();},interest_select_dbl:function(){this.interest_select_single();this._selection_options();},interest_select_all:function(){for(var c=0;c<this.interest_list.options.length;c++){var _49e=this.interest_list.options[c];var _49f=true;for(var c1=0;c1<this.interest_select.options.length;c1++){if(this.interest_select.options[c1].value==_49e.value){_49f=false;break;}}if(_49f){this.interest_select.options[this.interest_select.options.length]=new Option(_49e.text,_49e.value);}}this._get_selector(this._getValueAttr());this.interest_list.options.length=0;this.interest_update_selection();},interest_select_single:function(){for(var c=0;c<this.interest_list.options.length;c++){var _4a0=this.interest_list.options[c];if(_4a0.selected){_4a0.selected=false;var _4a1=true;for(var c1=0;c1<this.interest_select.options.length;c1++){if(this.interest_select.options[c1].value==_4a0.value){_4a1=false;break;}}if(_4a1){this.interest_select.options[this.interest_select.options.length]=new Option(_4a0.text,_4a0.value);this._get_selector(this._getValueAttr());}}}},interest_remove_all:function(){this.interest_select.options.length=0;this.interest_update_selection();this._get_selector(this._getValueAttr());},interest_remove_single:function(){for(var c=0;c<this.interest_select.options.length;c++){if(this.interest_select.options[c].selected){this.interest_select.options[c]=null;}}this.interest_update_selection();this._get_selector(this._getValueAttr());},add_select:function(data){this.interest_select.options[this.interest_select.options.length]=new Option(data.interestname,data.interestid);},_setValueAttr:function(_4a2){this.clear();if(_4a2!=null){var data=_4a2.data;var open=false;if(data==null||data==undefined){data=_4a2;}for(var key in data){var _4a3=data[key];this.interest_select.options[this.interest_select.options.length]=new Option(_4a3.interestname,_4a3.interestid);open=true;}if(open){this.make_open();}this._get_selector(this._getValueAttr());}},_getValueAttr:function(){var data=Array();for(var c=0;c<this.interest_select.options.length;c++){if(this._extended){data[c]={interestid:parseInt(this.interest_select.options[c].value),interestname:this.interest_select.options[c].text};}else{data[c]=parseInt(this.interest_select.options[c].value);}}var obj={data:data,logic:this.andor.get("value")};if(this._extended){return obj;}else{var data=data.length>0?json.stringify(obj):"";this.value=data;return data;}},_getCountAttr:function(){return this.interest_select.options.length;},_setExtendedAttr:function(_4a4){this._extended=_4a4;},change_filter:function(){this._interest_select(null,"*");},_selection_options:function(){this.button_all.set("disabled",this.interest_list.length?false:true);this.button_single.set("disabled",this.interest_list.selectedIndex!=-1?false:true);this.button_del_all.set("disabled",this.interest_select.length?false:true);this.button_del_single.set("disabled",this.interest_select.selectedIndex!=-1?false:true);},_capture_extended_content:function(data){var _4a5=this.andor.get("value");return lang.mixin(data,{logic:_4a5});},_setDisabledAttr:function(_4a6){this.disabled=_4a6;},_getDisabledAttr:function(){return this.disabled;},_get_selector:function(){if(this.selectonly==false){this.inherited(arguments);}},_focus:function(){this.interest_list_select.focus();},_toggle:function(){if(this.open==false&&(this.master_type.get("value")==null||this.master_type.get("value").length==0)){this.master_type.set("value",-1);}this.inherited(arguments);},_show_help:function(){this.show_help_dialog.show();},_hide_help:function(){this.show_help_dialog.hide();}});});},"dojox/charting/Series":function(){define(["dojo/_base/lang","dojo/_base/declare","./Element"],function(lang,_4a7,_4a8){return _4a7("dojox.charting.Series",_4a8,{constructor:function(_4a9,data,_4aa){lang.mixin(this,_4aa);if(typeof this.plot!="string"){this.plot="default";}this.update(data);},clear:function(){this.dyn={};},update:function(data){if(lang.isArray(data)){this.data=data;}else{this.source=data;this.data=this.source.data;if(this.source.setSeriesObject){this.source.setSeriesObject(this);}}this.dirty=true;this.clear();}});});},"dojox/lang/functional/lambda":function(){define(["../..","dojo/_base/lang","dojo/_base/array"],function(_4ab,lang,arr){var df=lang.getObject("lang.functional",true,_4ab);var _4ac={};var _4ad="ab".split(/a*/).length>1?String.prototype.split:function(sep){var r=this.split.call(this,sep),m=sep.exec(this);if(m&&m.index==0){r.unshift("");}return r;};var _4ae=function(s){var args=[],_4af=_4ad.call(s,/\s*->\s*/m);if(_4af.length>1){while(_4af.length){s=_4af.pop();args=_4af.pop().split(/\s*,\s*|\s+/m);if(_4af.length){_4af.push("(function("+args.join(", ")+"){ return ("+s+"); })");}}}else{if(s.match(/\b_\b/)){args=["_"];}else{var l=s.match(/^\s*(?:[+*\/%&|\^\.=<>]|!=)/m),r=s.match(/[+\-*\/%&|\^\.=<>!]\s*$/m);if(l||r){if(l){args.push("$1");s="$1"+s;}if(r){args.push("$2");s=s+"$2";}}else{var vars=s.replace(/(?:\b[A-Z]|\.[a-zA-Z_$])[a-zA-Z_$\d]*|[a-zA-Z_$][a-zA-Z_$\d]*:|this|true|false|null|undefined|typeof|instanceof|in|delete|new|void|arguments|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|escape|eval|isFinite|isNaN|parseFloat|parseInt|unescape|dojo|dijit|dojox|window|document|'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"/g,"").match(/([a-z_$][a-z_$\d]*)/gi)||[],t={};arr.forEach(vars,function(v){if(!t.hasOwnProperty(v)){args.push(v);t[v]=1;}});}}}return {args:args,body:s};};var _4b0=function(a){return a.length?function(){var i=a.length-1,x=df.lambda(a[i]).apply(this,arguments);for(--i;i>=0;--i){x=df.lambda(a[i]).call(this,x);}return x;}:function(x){return x;};};lang.mixin(df,{rawLambda:function(s){return _4ae(s);},buildLambda:function(s){var l=_4ae(s);return "function("+l.args.join(",")+"){return ("+l.body+");}";},lambda:function(s){if(typeof s=="function"){return s;}if(s instanceof Array){return _4b0(s);}if(_4ac.hasOwnProperty(s)){return _4ac[s];}var l=_4ae(s);return _4ac[s]=new Function(l.args,"return ("+l.body+");");},clearLambdaCache:function(){_4ac={};}});return df;});},"dijit/_base/wai":function(){define(["dojo/dom-attr","dojo/_base/lang","../main","../hccss"],function(_4b1,lang,_4b2){var _4b3={hasWaiRole:function(elem,role){var _4b4=this.getWaiRole(elem);return role?(_4b4.indexOf(role)>-1):(_4b4.length>0);},getWaiRole:function(elem){return lang.trim((_4b1.get(elem,"role")||"").replace("wairole:",""));},setWaiRole:function(elem,role){_4b1.set(elem,"role",role);},removeWaiRole:function(elem,role){var _4b5=_4b1.get(elem,"role");if(!_4b5){return;}if(role){var t=lang.trim((" "+_4b5+" ").replace(" "+role+" "," "));_4b1.set(elem,"role",t);}else{elem.removeAttribute("role");}},hasWaiState:function(elem,_4b6){return elem.hasAttribute?elem.hasAttribute("aria-"+_4b6):!!elem.getAttribute("aria-"+_4b6);},getWaiState:function(elem,_4b7){return elem.getAttribute("aria-"+_4b7)||"";},setWaiState:function(elem,_4b8,_4b9){elem.setAttribute("aria-"+_4b8,_4b9);},removeWaiState:function(elem,_4ba){elem.removeAttribute("aria-"+_4ba);}};lang.mixin(_4b2,_4b3);return _4b2;});},"dojo/dnd/Mover":function(){define(["../_base/array","../_base/declare","../_base/lang","../sniff","../_base/window","../dom","../dom-geometry","../dom-style","../Evented","../on","../touch","./common","./autoscroll"],function(_4bb,_4bc,lang,has,win,dom,_4bd,_4be,_4bf,on,_4c0,dnd,_4c1){return _4bc("dojo.dnd.Mover",[_4bf],{constructor:function(node,e,host){this.node=dom.byId(node);this.marginBox={l:e.pageX,t:e.pageY};this.mouseButton=e.button;var h=(this.host=host),d=node.ownerDocument;function _4c2(e){e.preventDefault();e.stopPropagation();};this.events=[on(d,_4c0.move,lang.hitch(this,"onFirstMove")),on(d,_4c0.move,lang.hitch(this,"onMouseMove")),on(d,_4c0.release,lang.hitch(this,"onMouseUp")),on(d,"dragstart",_4c2),on(d.body,"selectstart",_4c2)];_4c1.autoScrollStart(d);if(h&&h.onMoveStart){h.onMoveStart(this);}},onMouseMove:function(e){_4c1.autoScroll(e);var m=this.marginBox;this.host.onMove(this,{l:m.l+e.pageX,t:m.t+e.pageY},e);e.preventDefault();e.stopPropagation();},onMouseUp:function(e){if(has("webkit")&&has("mac")&&this.mouseButton==2?e.button==0:this.mouseButton==e.button){this.destroy();}e.preventDefault();e.stopPropagation();},onFirstMove:function(e){var s=this.node.style,l,t,h=this.host;switch(s.position){case "relative":case "absolute":l=Math.round(parseFloat(s.left))||0;t=Math.round(parseFloat(s.top))||0;break;default:s.position="absolute";var m=_4bd.getMarginBox(this.node);var b=win.doc.body;var bs=_4be.getComputedStyle(b);var bm=_4bd.getMarginBox(b,bs);var bc=_4bd.getContentBox(b,bs);l=m.l-(bc.l-bm.l);t=m.t-(bc.t-bm.t);break;}this.marginBox.l=l-this.marginBox.l;this.marginBox.t=t-this.marginBox.t;if(h&&h.onFirstMove){h.onFirstMove(this,e);}this.events.shift().remove();},destroy:function(){_4bb.forEach(this.events,function(_4c3){_4c3.remove();});var h=this.host;if(h&&h.onMoveStop){h.onMoveStop(this);}this.events=this.node=this.host=null;}});});},"prcommon2/clippings/add_header":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../clippings/templates/add_header.html","ttl/utilities2","dojo/topic","dojo/request","dojo/_base/lang","dojo/dom-style","dojo/dom-attr","dojo/dom-class","dojo/data/ItemFileReadStore","dojox/form/PasswordValidator","dijit/form/SimpleTextarea"],function(_4c4,_4c5,_4c6,_4c7,_4c8,_4c9,lang,_4ca,_4cb,_4cc,_4cd){return _4c4("prcommon2.clippings.add_header",[_4c5],{templateString:_4c6,constructor:function(){this._save_call_back=dojo.hitch(this,this._save_call);this._emailheader=new _4cd({url:"/common/lookups?searchtype=emailheader"});this._customerid=PRMAX.utils.settings.cid;},postCreate:function(){this.inherited(arguments);this.emailheaderid.set("store",this._emailheader);},load:function(_4ce,_4cf){this._dialog=_4ce;this.icustomerid.set("value",_4cf);},_save:function(){if(_4c7.form_validator(this.form)==false){alert("Please Enter Details");this.savebtn.cancel();return false;}var data=this.form.get("value");data["customerid"]=this._customerid;_4c9.post("/emailheader/save",_4c7.make_params({data:data})).then(this._save_call_back);},_save_call:function(_4d0){if(_4d0.success=="OK"){alert("Email Header Added");this.savebtn.cancel();this._dialog.hide();_4c8.publish("/emailheader/add",[_4d0.data]);}else{alert("Problem Adding Email Header");}this.savebtn.cancel();},});});},"dojox/charting/Element":function(){define(["dojo/_base/array","dojo/dom-construct","dojo/_base/declare","dojox/gfx","dojox/gfx/shape"],function(arr,_4d1,_4d2,gfx,_4d3){return _4d2("dojox.charting.Element",null,{chart:null,group:null,htmlElements:null,dirty:true,renderingOptions:null,constructor:function(_4d4,_4d5){this.chart=_4d4;this.group=null;this.htmlElements=[];this.dirty=true;this.trailingSymbol="...";this._events=[];if(_4d5&&_4d5.renderingOptions){this.renderingOptions=_4d5.renderingOptions;}},purgeGroup:function(){this.destroyHtmlElements();if(this.group){this.getGroup().removeShape();var _4d6=this.getGroup().children;if(_4d3.dispose){for(var i=0;i<_4d6.length;++i){_4d3.dispose(_4d6[i],true);}}if(this.getGroup().rawNode){_4d1.empty(this.getGroup().rawNode);}this.getGroup().clear();if(_4d3.dispose){_4d3.dispose(this.getGroup(),true);}if(this.getGroup()!=this.group){if(this.group.rawNode){_4d1.empty(this.group.rawNode);}this.group.clear();if(_4d3.dispose){_4d3.dispose(this.group,true);}}this.group=null;}this.dirty=true;if(this._events.length){arr.forEach(this._events,function(item){item.shape.disconnect(item.handle);});this._events=[];}return this;},cleanGroup:function(_4d7){this.destroyHtmlElements();if(!_4d7){_4d7=this.chart.surface;}if(this.group){var _4d8;var _4d9=this.getGroup().children;if(_4d3.dispose){for(var i=0;i<_4d9.length;++i){_4d3.dispose(_4d9[i],true);}}if(this.getGroup().rawNode){_4d8=this.getGroup().bgNode;_4d1.empty(this.getGroup().rawNode);}this.getGroup().clear();if(_4d8){this.getGroup().rawNode.appendChild(_4d8);}}else{this.group=_4d7.createGroup();if(this.renderingOptions&&this.group.rawNode&&this.group.rawNode.namespaceURI=="http://www.w3.org/2000/svg"){for(var key in this.renderingOptions){this.group.rawNode.setAttribute(key,this.renderingOptions[key]);}}}this.dirty=true;return this;},getGroup:function(){return this.group;},destroyHtmlElements:function(){if(this.htmlElements.length){arr.forEach(this.htmlElements,_4d1.destroy);this.htmlElements=[];}},destroy:function(){this.purgeGroup();},overrideShape:function(_4da,_4db){},getTextWidth:function(s,font){return gfx._base._getTextBox(s,{font:font}).w||0;},getTextWithLimitLength:function(s,font,_4dc,_4dd){if(!s||s.length<=0){return {text:"",truncated:_4dd||false};}if(!_4dc||_4dc<=0){return {text:s,truncated:_4dd||false};}var _4de=2,_4df=0.618,_4e0=s.substring(0,1)+this.trailingSymbol,_4e1=this.getTextWidth(_4e0,font);if(_4dc<=_4e1){return {text:_4e0,truncated:true};}var _4e2=this.getTextWidth(s,font);if(_4e2<=_4dc){return {text:s,truncated:_4dd||false};}else{var _4e3=0,end=s.length;while(_4e3<end){if(end-_4e3<=_4de){while(this.getTextWidth(s.substring(0,_4e3)+this.trailingSymbol,font)>_4dc){_4e3-=1;}return {text:(s.substring(0,_4e3)+this.trailingSymbol),truncated:true};}var _4e4=_4e3+Math.round((end-_4e3)*_4df),_4e5=this.getTextWidth(s.substring(0,_4e4),font);if(_4e5<_4dc){_4e3=_4e4;end=end;}else{_4e3=_4e3;end=_4e4;}}}},getTextWithLimitCharCount:function(s,font,_4e6,_4e7){if(!s||s.length<=0){return {text:"",truncated:_4e7||false};}if(!_4e6||_4e6<=0||s.length<=_4e6){return {text:s,truncated:_4e7||false};}return {text:s.substring(0,_4e6)+this.trailingSymbol,truncated:true};},_plotFill:function(fill,dim,_4e8){if(!fill||!fill.type||!fill.space){return fill;}var _4e9=fill.space,span;switch(fill.type){case "linear":if(_4e9==="plot"||_4e9==="shapeX"||_4e9==="shapeY"){fill=gfx.makeParameters(gfx.defaultLinearGradient,fill);fill.space=_4e9;if(_4e9==="plot"||_4e9==="shapeX"){span=dim.height-_4e8.t-_4e8.b;fill.y1=_4e8.t+span*fill.y1/100;fill.y2=_4e8.t+span*fill.y2/100;}if(_4e9==="plot"||_4e9==="shapeY"){span=dim.width-_4e8.l-_4e8.r;fill.x1=_4e8.l+span*fill.x1/100;fill.x2=_4e8.l+span*fill.x2/100;}}break;case "radial":if(_4e9==="plot"){fill=gfx.makeParameters(gfx.defaultRadialGradient,fill);fill.space=_4e9;var _4ea=dim.width-_4e8.l-_4e8.r,_4eb=dim.height-_4e8.t-_4e8.b;fill.cx=_4e8.l+_4ea*fill.cx/100;fill.cy=_4e8.t+_4eb*fill.cy/100;fill.r=fill.r*Math.sqrt(_4ea*_4ea+_4eb*_4eb)/200;}break;case "pattern":if(_4e9==="plot"||_4e9==="shapeX"||_4e9==="shapeY"){fill=gfx.makeParameters(gfx.defaultPattern,fill);fill.space=_4e9;if(_4e9==="plot"||_4e9==="shapeX"){span=dim.height-_4e8.t-_4e8.b;fill.y=_4e8.t+span*fill.y/100;fill.height=span*fill.height/100;}if(_4e9==="plot"||_4e9==="shapeY"){span=dim.width-_4e8.l-_4e8.r;fill.x=_4e8.l+span*fill.x/100;fill.width=span*fill.width/100;}}break;}return fill;},_shapeFill:function(fill,bbox){if(!fill||!fill.space){return fill;}var _4ec=fill.space,span;switch(fill.type){case "linear":if(_4ec==="shape"||_4ec==="shapeX"||_4ec==="shapeY"){fill=gfx.makeParameters(gfx.defaultLinearGradient,fill);fill.space=_4ec;if(_4ec==="shape"||_4ec==="shapeX"){span=bbox.width;fill.x1=bbox.x+span*fill.x1/100;fill.x2=bbox.x+span*fill.x2/100;}if(_4ec==="shape"||_4ec==="shapeY"){span=bbox.height;fill.y1=bbox.y+span*fill.y1/100;fill.y2=bbox.y+span*fill.y2/100;}}break;case "radial":if(_4ec==="shape"){fill=gfx.makeParameters(gfx.defaultRadialGradient,fill);fill.space=_4ec;fill.cx=bbox.x+bbox.width/2;fill.cy=bbox.y+bbox.height/2;fill.r=fill.r*bbox.width/200;}break;case "pattern":if(_4ec==="shape"||_4ec==="shapeX"||_4ec==="shapeY"){fill=gfx.makeParameters(gfx.defaultPattern,fill);fill.space=_4ec;if(_4ec==="shape"||_4ec==="shapeX"){span=bbox.width;fill.x=bbox.x+span*fill.x/100;fill.width=span*fill.width/100;}if(_4ec==="shape"||_4ec==="shapeY"){span=bbox.height;fill.y=bbox.y+span*fill.y/100;fill.height=span*fill.height/100;}}break;}return fill;},_pseudoRadialFill:function(fill,_4ed,_4ee,_4ef,end){if(!fill||fill.type!=="radial"||fill.space!=="shape"){return fill;}var _4f0=fill.space;fill=gfx.makeParameters(gfx.defaultRadialGradient,fill);fill.space=_4f0;if(arguments.length<4){fill.cx=_4ed.x;fill.cy=_4ed.y;fill.r=fill.r*_4ee/100;return fill;}var _4f1=arguments.length<5?_4ef:(end+_4ef)/2;return {type:"linear",x1:_4ed.x,y1:_4ed.y,x2:_4ed.x+fill.r*_4ee*Math.cos(_4f1)/100,y2:_4ed.y+fill.r*_4ee*Math.sin(_4f1)/100,colors:fill.colors};}});});},"dijit/form/ComboBoxMixin":function(){define(["dojo/_base/declare","dojo/Deferred","dojo/_base/kernel","dojo/_base/lang","dojo/store/util/QueryResults","./_AutoCompleterMixin","./_ComboBoxMenu","../_HasDropDown","dojo/text!./templates/DropDownBox.html"],function(_4f2,_4f3,_4f4,lang,_4f5,_4f6,_4f7,_4f8,_4f9){return _4f2("dijit.form.ComboBoxMixin",[_4f8,_4f6],{dropDownClass:_4f7,hasDownArrow:true,templateString:_4f9,baseClass:"dijitTextBox dijitComboBox",cssStateNodes:{"_buttonNode":"dijitDownArrowButton"},_setHasDownArrowAttr:function(val){this._set("hasDownArrow",val);this._buttonNode.style.display=val?"":"none";},_showResultList:function(){this.displayMessage("");this.inherited(arguments);},_setStoreAttr:function(_4fa){if(!_4fa.get){lang.mixin(_4fa,{_oldAPI:true,get:function(id){var _4fb=new _4f3();this.fetchItemByIdentity({identity:id,onItem:function(_4fc){_4fb.resolve(_4fc);},onError:function(_4fd){_4fb.reject(_4fd);}});return _4fb.promise;},query:function(_4fe,_4ff){var _500=new _4f3(function(){_501.abort&&_501.abort();});_500.total=new _4f3();var _501=this.fetch(lang.mixin({query:_4fe,onBegin:function(_502){_500.total.resolve(_502);},onComplete:function(_503){_500.resolve(_503);},onError:function(_504){_500.reject(_504);}},_4ff));return _4f5(_500);}});}this._set("store",_4fa);},postMixInProperties:function(){var _505=this.params.store||this.store;if(_505){this._setStoreAttr(_505);}this.inherited(arguments);if(!this.params.store&&this.store&&!this.store._oldAPI){var _506=this.declaredClass;lang.mixin(this.store,{getValue:function(item,attr){_4f4.deprecated(_506+".store.getValue(item, attr) is deprecated for builtin store.  Use item.attr directly","","2.0");return item[attr];},getLabel:function(item){_4f4.deprecated(_506+".store.getLabel(item) is deprecated for builtin store.  Use item.label directly","","2.0");return item.name;},fetch:function(args){_4f4.deprecated(_506+".store.fetch() is deprecated for builtin store.","Use store.query()","2.0");var shim=["dojo/data/ObjectStore"];require(shim,lang.hitch(this,function(_507){new _507({objectStore:this}).fetch(args);}));}});}},buildRendering:function(){this.inherited(arguments);this.focusNode.setAttribute("aria-autocomplete",this.autoComplete?"both":"list");}});});},"dijit/form/Select":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/i18n","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","./_FormSelectWidget","../_HasDropDown","../DropDownMenu","../MenuItem","../MenuSeparator","../Tooltip","../_KeyNavMixin","../registry","dojo/text!./templates/Select.html","dojo/i18n!./nls/validate"],function(_508,_509,_50a,_50b,_50c,i18n,keys,lang,on,has,_50d,_50e,_50f,_510,_511,_512,_513,_514,_515){var _516=_509("dijit.form._SelectMenu",_50f,{autoFocus:true,buildRendering:function(){this.inherited(arguments);this.domNode.setAttribute("role","listbox");},postCreate:function(){this.inherited(arguments);this.own(on(this.domNode,"selectstart",function(evt){evt.preventDefault();evt.stopPropagation();}));},focus:function(){var _517=false,val=this.parentWidget.value;if(lang.isArray(val)){val=val[val.length-1];}if(val){_508.forEach(this.parentWidget._getChildren(),function(_518){if(_518.option&&(val===_518.option.value)){_517=true;this.focusChild(_518,false);}},this);}if(!_517){this.inherited(arguments);}}});var _519=_509("dijit.form.Select"+(has("dojo-bidi")?"_NoBidi":""),[_50d,_50e,_513],{baseClass:"dijitSelect dijitValidationTextBox",templateString:_515,_buttonInputDisabled:has("ie")?"disabled":"",required:false,state:"",message:"",tooltipPosition:[],emptyLabel:"&#160;",_isLoaded:false,_childrenLoaded:false,labelType:"html",_fillContent:function(){this.inherited(arguments);if(this.options.length&&!this.value&&this.srcNodeRef){var si=this.srcNodeRef.selectedIndex||0;this._set("value",this.options[si>=0?si:0].value);}this.dropDown=new _516({id:this.id+"_menu",parentWidget:this});_50b.add(this.dropDown.domNode,this.baseClass.replace(/\s+|$/g,"Menu "));},_getMenuItemForOption:function(_51a){if(!_51a.value&&!_51a.label){return new _511({ownerDocument:this.ownerDocument});}else{var _51b=lang.hitch(this,"_setValueAttr",_51a);var item=new _510({option:_51a,label:(this.labelType==="text"?(_51a.label||"").toString().replace(/&/g,"&amp;").replace(/</g,"&lt;"):_51a.label)||this.emptyLabel,onClick:_51b,ownerDocument:this.ownerDocument,dir:this.dir,textDir:this.textDir,disabled:_51a.disabled||false});item.focusNode.setAttribute("role","option");return item;}},_addOptionItem:function(_51c){if(this.dropDown){this.dropDown.addChild(this._getMenuItemForOption(_51c));}},_getChildren:function(){if(!this.dropDown){return [];}return this.dropDown.getChildren();},focus:function(){if(!this.disabled&&this.focusNode.focus){try{this.focusNode.focus();}catch(e){}}},focusChild:function(_51d){if(_51d){this.set("value",_51d.option);}},_getFirst:function(){var _51e=this._getChildren();return _51e.length?_51e[0]:null;},_getLast:function(){var _51f=this._getChildren();return _51f.length?_51f[_51f.length-1]:null;},childSelector:function(node){var node=_514.byNode(node);return node&&node.getParent()==this.dropDown;},onKeyboardSearch:function(item,evt,_520,_521){if(item){this.focusChild(item);}},_loadChildren:function(_522){if(_522===true){if(this.dropDown){delete this.dropDown.focusedChild;this.focusedChild=null;}if(this.options.length){this.inherited(arguments);}else{_508.forEach(this._getChildren(),function(_523){_523.destroyRecursive();});var item=new _510({ownerDocument:this.ownerDocument,label:this.emptyLabel});this.dropDown.addChild(item);}}else{this._updateSelection();}this._isLoaded=false;this._childrenLoaded=true;if(!this._loadingStore){this._setValueAttr(this.value,false);}},_refreshState:function(){if(this._started){this.validate(this.focused);}},startup:function(){this.inherited(arguments);this._refreshState();},_setValueAttr:function(_524){this.inherited(arguments);_50a.set(this.valueNode,"value",this.get("value"));this._refreshState();},_setNameAttr:"valueNode",_setDisabledAttr:function(_525){this.inherited(arguments);this._refreshState();},_setRequiredAttr:function(_526){this._set("required",_526);this.focusNode.setAttribute("aria-required",_526);this._refreshState();},_setOptionsAttr:function(_527){this._isLoaded=false;this._set("options",_527);},_setDisplay:function(_528){var lbl=(this.labelType==="text"?(_528||"").replace(/&/g,"&amp;").replace(/</g,"&lt;"):_528)||this.emptyLabel;this.containerNode.innerHTML="<span role=\"option\" aria-selected=\"true\" class=\"dijitReset dijitInline "+this.baseClass.replace(/\s+|$/g,"Label ")+"\">"+lbl+"</span>";},validate:function(_529){var _52a=this.disabled||this.isValid(_529);this._set("state",_52a?"":(this._hasBeenBlurred?"Error":"Incomplete"));this.focusNode.setAttribute("aria-invalid",_52a?"false":"true");var _52b=_52a?"":this._missingMsg;if(_52b&&this.focused&&this._hasBeenBlurred){_512.show(_52b,this.domNode,this.tooltipPosition,!this.isLeftToRight());}else{_512.hide(this.domNode);}this._set("message",_52b);return _52a;},isValid:function(){return (!this.required||this.value===0||!(/^\s*$/.test(this.value||"")));},reset:function(){this.inherited(arguments);_512.hide(this.domNode);this._refreshState();},postMixInProperties:function(){this.inherited(arguments);this._missingMsg=i18n.getLocalization("dijit.form","validate",this.lang).missingMessage;},postCreate:function(){this.inherited(arguments);this.own(on(this.domNode,"selectstart",function(evt){evt.preventDefault();evt.stopPropagation();}));this.domNode.setAttribute("aria-expanded","false");var _52c=this._keyNavCodes;delete _52c[keys.LEFT_ARROW];delete _52c[keys.RIGHT_ARROW];},_setStyleAttr:function(_52d){this.inherited(arguments);_50b.toggle(this.domNode,this.baseClass.replace(/\s+|$/g,"FixedWidth "),!!this.domNode.style.width);},isLoaded:function(){return this._isLoaded;},loadDropDown:function(_52e){this._loadChildren(true);this._isLoaded=true;_52e();},destroy:function(_52f){if(this.dropDown&&!this.dropDown._destroyed){this.dropDown.destroyRecursive(_52f);delete this.dropDown;}_512.hide(this.domNode);this.inherited(arguments);},_onFocus:function(){this.validate(true);},_onBlur:function(){_512.hide(this.domNode);this.inherited(arguments);this.validate(false);}});if(has("dojo-bidi")){_519=_509("dijit.form.Select",_519,{_setDisplay:function(_530){this.inherited(arguments);this.applyTextDir(this.containerNode);}});}_519._Menu=_516;function _531(_532){return function(evt){if(!this._isLoaded){this.loadDropDown(lang.hitch(this,_532,evt));}else{this.inherited(_532,arguments);}};};_519.prototype._onContainerKeydown=_531("_onContainerKeydown");_519.prototype._onContainerKeypress=_531("_onContainerKeypress");return _519;});},"dijit/Calendar":function(){define(["dojo/_base/array","dojo/date","dojo/date/locale","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","./CalendarLite","./_Widget","./_CssStateMixin","./_TemplatedMixin","./form/DropDownButton"],function(_533,date,_534,_535,_536,_537,_538,_539,keys,lang,on,has,_53a,_53b,_53c,_53d,_53e){var _53f=_535("dijit.Calendar",[_53a,_53b,_53c],{baseClass:"dijitCalendar",cssStateNodes:{"decrementMonth":"dijitCalendarArrow","incrementMonth":"dijitCalendarArrow","previousYearLabelNode":"dijitCalendarPreviousYear","nextYearLabelNode":"dijitCalendarNextYear"},setValue:function(_540){_539.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",_540);},_createMonthWidget:function(){return new _53f._MonthDropDownButton({id:this.id+"_mddb",tabIndex:-1,onMonthSelect:lang.hitch(this,"_onMonthSelect"),lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode);},postCreate:function(){this.inherited(arguments);this.own(on(this.domNode,"keydown",lang.hitch(this,"_onKeyDown")),on(this.dateRowsNode,"mouseover",lang.hitch(this,"_onDayMouseOver")),on(this.dateRowsNode,"mouseout",lang.hitch(this,"_onDayMouseOut")),on(this.dateRowsNode,"mousedown",lang.hitch(this,"_onDayMouseDown")),on(this.dateRowsNode,"mouseup",lang.hitch(this,"_onDayMouseUp")));},_onMonthSelect:function(_541){var date=new this.dateClassObj(this.currentFocus);date.setDate(1);date.setMonth(_541);var _542=this.dateModule.getDaysInMonth(date);var _543=this.currentFocus.getDate();date.setDate(Math.min(_543,_542));this._setCurrentFocusAttr(date);},_onDayMouseOver:function(evt){var node=_537.contains(evt.target,"dijitCalendarDateLabel")?evt.target.parentNode:evt.target;if(node&&((node.dijitDateValue&&!_537.contains(node,"dijitCalendarDisabledDate"))||node==this.previousYearLabelNode||node==this.nextYearLabelNode)){_537.add(node,"dijitCalendarHoveredDate");this._currentNode=node;}},_onDayMouseOut:function(evt){if(!this._currentNode){return;}if(evt.relatedTarget&&evt.relatedTarget.parentNode==this._currentNode){return;}var cls="dijitCalendarHoveredDate";if(_537.contains(this._currentNode,"dijitCalendarActiveDate")){cls+=" dijitCalendarActiveDate";}_537.remove(this._currentNode,cls);this._currentNode=null;},_onDayMouseDown:function(evt){var node=evt.target.parentNode;if(node&&node.dijitDateValue&&!_537.contains(node,"dijitCalendarDisabledDate")){_537.add(node,"dijitCalendarActiveDate");this._currentNode=node;}},_onDayMouseUp:function(evt){var node=evt.target.parentNode;if(node&&node.dijitDateValue){_537.remove(node,"dijitCalendarActiveDate");}},handleKey:function(evt){var _544=-1,_545,_546=this.currentFocus;switch(evt.keyCode){case keys.RIGHT_ARROW:_544=1;case keys.LEFT_ARROW:_545="day";if(!this.isLeftToRight()){_544*=-1;}break;case keys.DOWN_ARROW:_544=1;case keys.UP_ARROW:_545="week";break;case keys.PAGE_DOWN:_544=1;case keys.PAGE_UP:_545=evt.ctrlKey||evt.altKey?"year":"month";break;case keys.END:_546=this.dateModule.add(_546,"month",1);_545="day";case keys.HOME:_546=new this.dateClassObj(_546);_546.setDate(1);break;default:return true;}if(_545){_546=this.dateModule.add(_546,_545,_544);}this._setCurrentFocusAttr(_546);return false;},_onKeyDown:function(evt){if(!this.handleKey(evt)){evt.stopPropagation();evt.preventDefault();}},onValueSelected:function(){},onChange:function(_547){this.onValueSelected(_547);},getClassForDate:function(){}});_53f._MonthDropDownButton=_535("dijit.Calendar._MonthDropDownButton",_53e,{onMonthSelect:function(){},postCreate:function(){this.inherited(arguments);this.dropDown=new _53f._MonthDropDown({id:this.id+"_mdd",onChange:this.onMonthSelect});},_setMonthAttr:function(_548){var _549=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,_548);this.dropDown.set("months",_549);this.containerNode.innerHTML=(has("ie")==6?"":"<div class='dijitSpacer'>"+this.dropDown.domNode.innerHTML+"</div>")+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+_549[_548.getMonth()]+"</div>";}});_53f._MonthDropDown=_535("dijit.Calendar._MonthDropDown",[_53b,_53d,_53c],{months:[],baseClass:"dijitCalendarMonthMenu dijitMenu",templateString:"<div data-dojo-attach-event='ondijitclick:_onClick'></div>",_setMonthsAttr:function(_54a){this.domNode.innerHTML="";_533.forEach(_54a,function(_54b,idx){var div=_538.create("div",{className:"dijitCalendarMonthLabel",month:idx,innerHTML:_54b},this.domNode);div._cssState="dijitCalendarMonthLabel";},this);},_onClick:function(evt){this.onChange(_536.get(evt.target,"month"));},onChange:function(){}});return _53f;});},"dojox/validate/regexp":function(){define(["dojo/_base/lang","dojo/regexp","dojox/main"],function(lang,_54c,_54d){var _54e=lang.getObject("validate.regexp",true,_54d);_54e=_54d.validate.regexp={ipAddress:function(_54f){_54f=(typeof _54f=="object")?_54f:{};if(typeof _54f.allowDottedDecimal!="boolean"){_54f.allowDottedDecimal=true;}if(typeof _54f.allowDottedHex!="boolean"){_54f.allowDottedHex=true;}if(typeof _54f.allowDottedOctal!="boolean"){_54f.allowDottedOctal=true;}if(typeof _54f.allowDecimal!="boolean"){_54f.allowDecimal=true;}if(typeof _54f.allowHex!="boolean"){_54f.allowHex=true;}if(typeof _54f.allowIPv6!="boolean"){_54f.allowIPv6=true;}if(typeof _54f.allowHybrid!="boolean"){_54f.allowHybrid=true;}var _550="((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";var _551="(0[xX]0*[\\da-fA-F]?[\\da-fA-F]\\.){3}0[xX]0*[\\da-fA-F]?[\\da-fA-F]";var _552="(0+[0-3][0-7][0-7]\\.){3}0+[0-3][0-7][0-7]";var _553="(0|[1-9]\\d{0,8}|[1-3]\\d{9}|4[01]\\d{8}|42[0-8]\\d{7}|429[0-3]\\d{6}|"+"4294[0-8]\\d{5}|42949[0-5]\\d{4}|429496[0-6]\\d{3}|4294967[01]\\d{2}|42949672[0-8]\\d|429496729[0-5])";var _554="0[xX]0*[\\da-fA-F]{1,8}";var _555="([\\da-fA-F]{1,4}\\:){7}[\\da-fA-F]{1,4}";var _556="([\\da-fA-F]{1,4}\\:){6}"+"((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";var a=[];if(_54f.allowDottedDecimal){a.push(_550);}if(_54f.allowDottedHex){a.push(_551);}if(_54f.allowDottedOctal){a.push(_552);}if(_54f.allowDecimal){a.push(_553);}if(_54f.allowHex){a.push(_554);}if(_54f.allowIPv6){a.push(_555);}if(_54f.allowHybrid){a.push(_556);}var _557="";if(a.length>0){_557="("+a.join("|")+")";}return _557;},host:function(_558){_558=(typeof _558=="object")?_558:{};if(typeof _558.allowIP!="boolean"){_558.allowIP=true;}if(typeof _558.allowLocal!="boolean"){_558.allowLocal=false;}if(typeof _558.allowPort!="boolean"){_558.allowPort=true;}if(typeof _558.allowNamed!="boolean"){_558.allowNamed=false;}var _559="(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)";var _55a="(?:[a-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)";var _55b=_558.allowPort?"(\\:\\d+)?":"";var _55c="((?:"+_559+"\\.)+"+_55a+"\\.?)";if(_558.allowIP){_55c+="|"+_54e.ipAddress(_558);}if(_558.allowLocal){_55c+="|localhost";}if(_558.allowNamed){_55c+="|^[^-][a-zA-Z0-9_-]*";}return "("+_55c+")"+_55b;},url:function(_55d){_55d=(typeof _55d=="object")?_55d:{};if(!("scheme" in _55d)){_55d.scheme=[true,false];}var _55e=_54c.buildGroupRE(_55d.scheme,function(q){if(q){return "(https?|ftps?)\\://";}return "";});var _55f="(/(?:[^?#\\s/]+/)*(?:[^?#\\s/]+(?:\\?[^?#\\s/]*)?(?:#[A-Za-z][\\w.:-]*)?)?)?";return _55e+_54e.host(_55d)+_55f;},emailAddress:function(_560){_560=(typeof _560=="object")?_560:{};if(typeof _560.allowCruft!="boolean"){_560.allowCruft=false;}_560.allowPort=false;var _561="([!#-'*+\\-\\/-9=?A-Z^-~]+[.])*[!#-'*+\\-\\/-9=?A-Z^-~]+";var _562=_561+"@"+_54e.host(_560);if(_560.allowCruft){_562="<?(mailto\\:)?"+_562+">?";}return _562;},emailAddressList:function(_563){_563=(typeof _563=="object")?_563:{};if(typeof _563.listSeparator!="string"){_563.listSeparator="\\s;,";}var _564=_54e.emailAddress(_563);var _565="("+_564+"\\s*["+_563.listSeparator+"]\\s*)*"+_564+"\\s*["+_563.listSeparator+"]?\\s*";return _565;},numberFormat:function(_566){_566=(typeof _566=="object")?_566:{};if(typeof _566.format=="undefined"){_566.format="###-###-####";}var _567=function(_568){return _54c.escapeString(_568,"?").replace(/\?/g,"\\d?").replace(/#/g,"\\d");};return _54c.buildGroupRE(_566.format,_567);},ca:{postalCode:function(){return "([A-Z][0-9][A-Z] [0-9][A-Z][0-9])";},province:function(){return "(AB|BC|MB|NB|NL|NS|NT|NU|ON|PE|QC|SK|YT)";}},us:{state:function(_569){_569=(typeof _569=="object")?_569:{};if(typeof _569.allowTerritories!="boolean"){_569.allowTerritories=true;}if(typeof _569.allowMilitary!="boolean"){_569.allowMilitary=true;}var _56a="AL|AK|AZ|AR|CA|CO|CT|DE|DC|FL|GA|HI|ID|IL|IN|IA|KS|KY|LA|ME|MD|MA|MI|MN|MS|MO|MT|"+"NE|NV|NH|NJ|NM|NY|NC|ND|OH|OK|OR|PA|RI|SC|SD|TN|TX|UT|VT|VA|WA|WV|WI|WY";var _56b="AS|FM|GU|MH|MP|PW|PR|VI";var _56c="AA|AE|AP";if(_569.allowTerritories){_56a+="|"+_56b;}if(_569.allowMilitary){_56a+="|"+_56c;}return "("+_56a+")";}}};return _54e;});},"dijit/_base/manager":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(_56d,_56e,lang,_56f,_570){var _571={};_56d.forEach(["byId","getUniqueId","findWidgets","_destroyAll","byNode","getEnclosingWidget"],function(name){_571[name]=_56f[name];});lang.mixin(_571,{defaultDuration:_56e["defaultDuration"]||200});lang.mixin(_570,_571);return _570;});},"dojo/data/ItemFileReadStore":function(){define(["../_base/kernel","../_base/lang","../_base/declare","../_base/array","../_base/xhr","../Evented","./util/filter","./util/simpleFetch","../date/stamp"],function(_572,lang,_573,_574,xhr,_575,_576,_577,_578){var _579=_573("dojo.data.ItemFileReadStore",[_575],{constructor:function(_57a){this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._jsonFileUrl=_57a.url;this._ccUrl=_57a.url;this.url=_57a.url;this._jsonData=_57a.data;this.data=null;this._datatypeMap=_57a.typeMap||{};if(!this._datatypeMap["Date"]){this._datatypeMap["Date"]={type:Date,deserialize:function(_57b){return _578.fromISOString(_57b);}};}this._features={"dojo.data.api.Read":true,"dojo.data.api.Identity":true};this._itemsByIdentity=null;this._storeRefPropName="_S";this._itemNumPropName="_0";this._rootItemPropName="_RI";this._reverseRefMap="_RRM";this._loadInProgress=false;this._queuedFetches=[];if(_57a.urlPreventCache!==undefined){this.urlPreventCache=_57a.urlPreventCache?true:false;}if(_57a.hierarchical!==undefined){this.hierarchical=_57a.hierarchical?true:false;}if(_57a.clearOnClose){this.clearOnClose=true;}if("failOk" in _57a){this.failOk=_57a.failOk?true:false;}},url:"",_ccUrl:"",data:null,typeMap:null,clearOnClose:false,urlPreventCache:false,failOk:false,hierarchical:true,_assertIsItem:function(item){if(!this.isItem(item)){throw new Error(this.declaredClass+": Invalid item argument.");}},_assertIsAttribute:function(_57c){if(typeof _57c!=="string"){throw new Error(this.declaredClass+": Invalid attribute argument.");}},getValue:function(item,_57d,_57e){var _57f=this.getValues(item,_57d);return (_57f.length>0)?_57f[0]:_57e;},getValues:function(item,_580){this._assertIsItem(item);this._assertIsAttribute(_580);return (item[_580]||[]).slice(0);},getAttributes:function(item){this._assertIsItem(item);var _581=[];for(var key in item){if((key!==this._storeRefPropName)&&(key!==this._itemNumPropName)&&(key!==this._rootItemPropName)&&(key!==this._reverseRefMap)){_581.push(key);}}return _581;},hasAttribute:function(item,_582){this._assertIsItem(item);this._assertIsAttribute(_582);return (_582 in item);},containsValue:function(item,_583,_584){var _585=undefined;if(typeof _584==="string"){_585=_576.patternToRegExp(_584,false);}return this._containsValue(item,_583,_584,_585);},_containsValue:function(item,_586,_587,_588){return _574.some(this.getValues(item,_586),function(_589){if(_589!==null&&!lang.isObject(_589)&&_588){if(_589.toString().match(_588)){return true;}}else{if(_587===_589){return true;}}});},isItem:function(_58a){if(_58a&&_58a[this._storeRefPropName]===this){if(this._arrayOfAllItems[_58a[this._itemNumPropName]]===_58a){return true;}}return false;},isItemLoaded:function(_58b){return this.isItem(_58b);},loadItem:function(_58c){this._assertIsItem(_58c.item);},getFeatures:function(){return this._features;},getLabel:function(item){if(this._labelAttr&&this.isItem(item)){return this.getValue(item,this._labelAttr);}return undefined;},getLabelAttributes:function(item){if(this._labelAttr){return [this._labelAttr];}return null;},filter:function(_58d,_58e,_58f){var _590=[],i,key;if(_58d.query){var _591,_592=_58d.queryOptions?_58d.queryOptions.ignoreCase:false;var _593={};for(key in _58d.query){_591=_58d.query[key];if(typeof _591==="string"){_593[key]=_576.patternToRegExp(_591,_592);}else{if(_591 instanceof RegExp){_593[key]=_591;}}}for(i=0;i<_58e.length;++i){var _594=true;var _595=_58e[i];if(_595===null){_594=false;}else{for(key in _58d.query){_591=_58d.query[key];if(!this._containsValue(_595,key,_591,_593[key])){_594=false;}}}if(_594){_590.push(_595);}}_58f(_590,_58d);}else{for(i=0;i<_58e.length;++i){var item=_58e[i];if(item!==null){_590.push(item);}}_58f(_590,_58d);}},_fetchItems:function(_596,_597,_598){var self=this;if(this._loadFinished){this.filter(_596,this._getItemsArray(_596.queryOptions),_597);}else{if(this._jsonFileUrl!==this._ccUrl){_572.deprecated(this.declaredClass+": ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_596,filter:lang.hitch(self,"filter"),findCallback:lang.hitch(self,_597)});}else{this._loadInProgress=true;var _599={url:self._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk};var _59a=xhr.get(_599);_59a.addCallback(function(data){try{self._getItemsFromLoadedData(data);self._loadFinished=true;self._loadInProgress=false;self.filter(_596,self._getItemsArray(_596.queryOptions),_597);self._handleQueuedFetches();}catch(e){self._loadFinished=true;self._loadInProgress=false;_598(e,_596);}});_59a.addErrback(function(_59b){self._loadInProgress=false;_598(_59b,_596);});var _59c=null;if(_596.abort){_59c=_596.abort;}_596.abort=function(){var df=_59a;if(df&&df.fired===-1){df.cancel();df=null;}if(_59c){_59c.call(_596);}};}}else{if(this._jsonData){try{this._loadFinished=true;this._getItemsFromLoadedData(this._jsonData);this._jsonData=null;self.filter(_596,this._getItemsArray(_596.queryOptions),_597);}catch(e){_598(e,_596);}}else{_598(new Error(this.declaredClass+": No JSON source data was provided as either URL or a nested Javascript object."),_596);}}}},_handleQueuedFetches:function(){if(this._queuedFetches.length>0){for(var i=0;i<this._queuedFetches.length;i++){var _59d=this._queuedFetches[i],_59e=_59d.args,_59f=_59d.filter,_5a0=_59d.findCallback;if(_59f){_59f(_59e,this._getItemsArray(_59e.queryOptions),_5a0);}else{this.fetchItemByIdentity(_59e);}}this._queuedFetches=[];}},_getItemsArray:function(_5a1){if(_5a1&&_5a1.deep){return this._arrayOfAllItems;}return this._arrayOfTopLevelItems;},close:function(_5a2){if(this.clearOnClose&&this._loadFinished&&!this._loadInProgress){if(((this._jsonFileUrl==""||this._jsonFileUrl==null)&&(this.url==""||this.url==null))&&this.data==null){}this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._itemsByIdentity=null;this._loadInProgress=false;this._queuedFetches=[];}},_getItemsFromLoadedData:function(_5a3){var _5a4=false,self=this;function _5a5(_5a6){return (_5a6!==null)&&(typeof _5a6==="object")&&(!lang.isArray(_5a6)||_5a4)&&(!lang.isFunction(_5a6))&&(_5a6.constructor==Object||lang.isArray(_5a6))&&(typeof _5a6._reference==="undefined")&&(typeof _5a6._type==="undefined")&&(typeof _5a6._value==="undefined")&&self.hierarchical;};function _5a7(_5a8){self._arrayOfAllItems.push(_5a8);for(var _5a9 in _5a8){var _5aa=_5a8[_5a9];if(_5aa){if(lang.isArray(_5aa)){var _5ab=_5aa;for(var k=0;k<_5ab.length;++k){var _5ac=_5ab[k];if(_5a5(_5ac)){_5a7(_5ac);}}}else{if(_5a5(_5aa)){_5a7(_5aa);}}}}};this._labelAttr=_5a3.label;var i,item;this._arrayOfAllItems=[];this._arrayOfTopLevelItems=_5a3.items;for(i=0;i<this._arrayOfTopLevelItems.length;++i){item=this._arrayOfTopLevelItems[i];if(lang.isArray(item)){_5a4=true;}_5a7(item);item[this._rootItemPropName]=true;}var _5ad={},key;for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];for(key in item){if(key!==this._rootItemPropName){var _5ae=item[key];if(_5ae!==null){if(!lang.isArray(_5ae)){item[key]=[_5ae];}}else{item[key]=[null];}}_5ad[key]=key;}}while(_5ad[this._storeRefPropName]){this._storeRefPropName+="_";}while(_5ad[this._itemNumPropName]){this._itemNumPropName+="_";}while(_5ad[this._reverseRefMap]){this._reverseRefMap+="_";}var _5af;var _5b0=_5a3.identifier;if(_5b0){this._itemsByIdentity={};this._features["dojo.data.api.Identity"]=_5b0;for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];_5af=item[_5b0];var _5b1=_5af[0];if(!Object.hasOwnProperty.call(this._itemsByIdentity,_5b1)){this._itemsByIdentity[_5b1]=item;}else{if(this._jsonFileUrl){throw new Error(this.declaredClass+":  The json data as specified by: ["+this._jsonFileUrl+"] is malformed.  Items within the list have identifier: ["+_5b0+"].  Value collided: ["+_5b1+"]");}else{if(this._jsonData){throw new Error(this.declaredClass+":  The json data provided by the creation arguments is malformed.  Items within the list have identifier: ["+_5b0+"].  Value collided: ["+_5b1+"]");}}}}}else{this._features["dojo.data.api.Identity"]=Number;}for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];item[this._storeRefPropName]=this;item[this._itemNumPropName]=i;}for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];for(key in item){_5af=item[key];for(var j=0;j<_5af.length;++j){_5ae=_5af[j];if(_5ae!==null&&typeof _5ae=="object"){if(("_type" in _5ae)&&("_value" in _5ae)){var type=_5ae._type;var _5b2=this._datatypeMap[type];if(!_5b2){throw new Error("dojo.data.ItemFileReadStore: in the typeMap constructor arg, no object class was specified for the datatype '"+type+"'");}else{if(lang.isFunction(_5b2)){_5af[j]=new _5b2(_5ae._value);}else{if(lang.isFunction(_5b2.deserialize)){_5af[j]=_5b2.deserialize(_5ae._value);}else{throw new Error("dojo.data.ItemFileReadStore: Value provided in typeMap was neither a constructor, nor a an object with a deserialize function");}}}}if(_5ae._reference){var _5b3=_5ae._reference;if(!lang.isObject(_5b3)){_5af[j]=this._getItemByIdentity(_5b3);}else{for(var k=0;k<this._arrayOfAllItems.length;++k){var _5b4=this._arrayOfAllItems[k],_5b5=true;for(var _5b6 in _5b3){if(_5b4[_5b6]!=_5b3[_5b6]){_5b5=false;}}if(_5b5){_5af[j]=_5b4;}}}if(this.referenceIntegrity){var _5b7=_5af[j];if(this.isItem(_5b7)){this._addReferenceToMap(_5b7,item,key);}}}else{if(this.isItem(_5ae)){if(this.referenceIntegrity){this._addReferenceToMap(_5ae,item,key);}}}}}}}},_addReferenceToMap:function(_5b8,_5b9,_5ba){},getIdentity:function(item){var _5bb=this._features["dojo.data.api.Identity"];if(_5bb===Number){return item[this._itemNumPropName];}else{var _5bc=item[_5bb];if(_5bc){return _5bc[0];}}return null;},fetchItemByIdentity:function(_5bd){var item,_5be;if(!this._loadFinished){var self=this;if(this._jsonFileUrl!==this._ccUrl){_572.deprecated(this.declaredClass+": ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null&&this._jsonData==null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_5bd});}else{this._loadInProgress=true;var _5bf={url:self._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk};var _5c0=xhr.get(_5bf);_5c0.addCallback(function(data){var _5c1=_5bd.scope?_5bd.scope:_572.global;try{self._getItemsFromLoadedData(data);self._loadFinished=true;self._loadInProgress=false;item=self._getItemByIdentity(_5bd.identity);if(_5bd.onItem){_5bd.onItem.call(_5c1,item);}self._handleQueuedFetches();}catch(error){self._loadInProgress=false;if(_5bd.onError){_5bd.onError.call(_5c1,error);}}});_5c0.addErrback(function(_5c2){self._loadInProgress=false;if(_5bd.onError){var _5c3=_5bd.scope?_5bd.scope:_572.global;_5bd.onError.call(_5c3,_5c2);}});}}else{if(this._jsonData){self._getItemsFromLoadedData(self._jsonData);self._jsonData=null;self._loadFinished=true;item=self._getItemByIdentity(_5bd.identity);if(_5bd.onItem){_5be=_5bd.scope?_5bd.scope:_572.global;_5bd.onItem.call(_5be,item);}}}}else{item=this._getItemByIdentity(_5bd.identity);if(_5bd.onItem){_5be=_5bd.scope?_5bd.scope:_572.global;_5bd.onItem.call(_5be,item);}}},_getItemByIdentity:function(_5c4){var item=null;if(this._itemsByIdentity){if(Object.hasOwnProperty.call(this._itemsByIdentity,_5c4)){item=this._itemsByIdentity[_5c4];}}else{if(Object.hasOwnProperty.call(this._arrayOfAllItems,_5c4)){item=this._arrayOfAllItems[_5c4];}}if(item===undefined){item=null;}return item;},getIdentityAttributes:function(item){var _5c5=this._features["dojo.data.api.Identity"];if(_5c5===Number){return null;}else{return [_5c5];}},_forceLoad:function(){var self=this;if(this._jsonFileUrl!==this._ccUrl){_572.deprecated(this.declaredClass+": ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){var _5c6={url:this._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk,sync:true};var _5c7=xhr.get(_5c6);_5c7.addCallback(function(data){try{if(self._loadInProgress!==true&&!self._loadFinished){self._getItemsFromLoadedData(data);self._loadFinished=true;}else{if(self._loadInProgress){throw new Error(this.declaredClass+":  Unable to perform a synchronous load, an async load is in progress.");}}}catch(e){throw e;}});_5c7.addErrback(function(_5c8){throw _5c8;});}else{if(this._jsonData){self._getItemsFromLoadedData(self._jsonData);self._jsonData=null;self._loadFinished=true;}}}});lang.extend(_579,_577);return _579;});},"dojox/lang/functional/array":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","./lambda"],function(_5c9,lang,arr,df){var _5ca={};lang.mixin(df,{filter:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||_5c9.global;f=df.lambda(f);var t=[],v,i,n;if(lang.isArray(a)){for(i=0,n=a.length;i<n;++i){v=a[i];if(f.call(o,v,i,a)){t.push(v);}}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(i=0;a.hasNext();){v=a.next();if(f.call(o,v,i++,a)){t.push(v);}}}else{for(i in a){if(!(i in _5ca)){v=a[i];if(f.call(o,v,i,a)){t.push(v);}}}}}return t;},forEach:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||_5c9.global;f=df.lambda(f);var i,n;if(lang.isArray(a)){for(i=0,n=a.length;i<n;f.call(o,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(i=0;a.hasNext();f.call(o,a.next(),i++,a)){}}else{for(i in a){if(!(i in _5ca)){f.call(o,a[i],i,a);}}}}return o;},map:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||_5c9.global;f=df.lambda(f);var t,n,i;if(lang.isArray(a)){t=new Array(n=a.length);for(i=0;i<n;t[i]=f.call(o,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){t=[];for(i=0;a.hasNext();t.push(f.call(o,a.next(),i++,a))){}}else{t=[];for(i in a){if(!(i in _5ca)){t.push(f.call(o,a[i],i,a));}}}}return t;},every:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||_5c9.global;f=df.lambda(f);var i,n;if(lang.isArray(a)){for(i=0,n=a.length;i<n;++i){if(!f.call(o,a[i],i,a)){return false;}}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(i=0;a.hasNext();){if(!f.call(o,a.next(),i++,a)){return false;}}}else{for(i in a){if(!(i in _5ca)){if(!f.call(o,a[i],i,a)){return false;}}}}}return true;},some:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||_5c9.global;f=df.lambda(f);var i,n;if(lang.isArray(a)){for(i=0,n=a.length;i<n;++i){if(f.call(o,a[i],i,a)){return true;}}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(i=0;a.hasNext();){if(f.call(o,a.next(),i++,a)){return true;}}}else{for(i in a){if(!(i in _5ca)){if(f.call(o,a[i],i,a)){return true;}}}}}return false;}});return df;});},"dijit/form/ComboButton":function(){define(["dojo/_base/declare","dojo/keys","../focus","./DropDownButton","dojo/text!./templates/ComboButton.html","../a11yclick"],function(_5cb,keys,_5cc,_5cd,_5ce){return _5cb("dijit.form.ComboButton",_5cd,{templateString:_5ce,_setIdAttr:"",_setTabIndexAttr:["focusNode","titleNode"],_setTitleAttr:"titleNode",optionsTitle:"",baseClass:"dijitComboButton",cssStateNodes:{"buttonNode":"dijitButtonNode","titleNode":"dijitButtonContents","_popupStateNode":"dijitDownArrowButton"},_focusedNode:null,_onButtonKeyDown:function(evt){if(evt.keyCode==keys[this.isLeftToRight()?"RIGHT_ARROW":"LEFT_ARROW"]){_5cc.focus(this._popupStateNode);evt.stopPropagation();evt.preventDefault();}},_onArrowKeyDown:function(evt){if(evt.keyCode==keys[this.isLeftToRight()?"LEFT_ARROW":"RIGHT_ARROW"]){_5cc.focus(this.titleNode);evt.stopPropagation();evt.preventDefault();}},focus:function(_5cf){if(!this.disabled){_5cc.focus(_5cf=="start"?this.titleNode:this._popupStateNode);}}});});},"dijit/WidgetSet":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","./registry"],function(_5d0,_5d1,_5d2,_5d3){var _5d4=_5d1("dijit.WidgetSet",null,{constructor:function(){this._hash={};this.length=0;},add:function(_5d5){if(this._hash[_5d5.id]){throw new Error("Tried to register widget with id=="+_5d5.id+" but that id is already registered");}this._hash[_5d5.id]=_5d5;this.length++;},remove:function(id){if(this._hash[id]){delete this._hash[id];this.length--;}},forEach:function(func,_5d6){_5d6=_5d6||_5d2.global;var i=0,id;for(id in this._hash){func.call(_5d6,this._hash[id],i++,this._hash);}return this;},filter:function(_5d7,_5d8){_5d8=_5d8||_5d2.global;var res=new _5d4(),i=0,id;for(id in this._hash){var w=this._hash[id];if(_5d7.call(_5d8,w,i++,this._hash)){res.add(w);}}return res;},byId:function(id){return this._hash[id];},byClass:function(cls){var res=new _5d4(),id,_5d9;for(id in this._hash){_5d9=this._hash[id];if(_5d9.declaredClass==cls){res.add(_5d9);}}return res;},toArray:function(){var ar=[];for(var id in this._hash){ar.push(this._hash[id]);}return ar;},map:function(func,_5da){return _5d0.map(this.toArray(),func,_5da);},every:function(func,_5db){_5db=_5db||_5d2.global;var x=0,i;for(i in this._hash){if(!func.call(_5db,this._hash[i],x++,this._hash)){return false;}}return true;},some:function(func,_5dc){_5dc=_5dc||_5d2.global;var x=0,i;for(i in this._hash){if(func.call(_5dc,this._hash[i],x++,this._hash)){return true;}}return false;}});_5d0.forEach(["forEach","filter","byClass","map","every","some"],function(func){_5d3[func]=_5d4.prototype[func];});return _5d4;});},"dijit/form/RangeBoundTextBox":function(){define(["dojo/_base/declare","dojo/i18n","./MappedTextBox","dojo/i18n!./nls/validate"],function(_5dd,i18n,_5de){var _5df=_5dd("dijit.form.RangeBoundTextBox",_5de,{rangeMessage:"",rangeCheck:function(_5e0,_5e1){return ("min" in _5e1?(this.compare(_5e0,_5e1.min)>=0):true)&&("max" in _5e1?(this.compare(_5e0,_5e1.max)<=0):true);},isInRange:function(){return this.rangeCheck(this.get("value"),this.constraints);},_isDefinitelyOutOfRange:function(){var val=this.get("value");if(val==null){return false;}var _5e2=false;if("min" in this.constraints){var min=this.constraints.min;_5e2=this.compare(val,((typeof min=="number")&&min>=0&&val!=0)?0:min)<0;}if(!_5e2&&("max" in this.constraints)){var max=this.constraints.max;_5e2=this.compare(val,((typeof max!="number")||max>0)?max:0)>0;}return _5e2;},_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange();},isValid:function(_5e3){return this.inherited(arguments)&&((this._isEmpty(this.textbox.value)&&!this.required)||this.isInRange(_5e3));},getErrorMessage:function(_5e4){var v=this.get("value");if(v!=null&&v!==""&&(typeof v!="number"||!isNaN(v))&&!this.isInRange(_5e4)){return this.rangeMessage;}return this.inherited(arguments);},postMixInProperties:function(){this.inherited(arguments);if(!this.rangeMessage){this.messages=i18n.getLocalization("dijit.form","validate",this.lang);this.rangeMessage=this.messages.rangeMessage;}}});return _5df;});},"ttl/Amduuid":function(){define(["dojo/_base/declare"],function(_5e5){return _5e5("ttl.Amduuid",null,{createUUID:function(){var dg=new Date(1582,10,15,0,0,0,0);var dc=new Date();var t=dc.getTime()-dg.getTime();var h="-";var tl=this.getIntegerBits(t,0,31);var tm=this.getIntegerBits(t,32,47);var thv=this.getIntegerBits(t,48,59)+"1";var csar=this.getIntegerBits(this.rand(4095),0,7);var csl=this.getIntegerBits(this.rand(4095),0,7);var n=this.getIntegerBits(this.rand(8191),0,7)+this.getIntegerBits(this.rand(8191),8,15)+this.getIntegerBits(this.rand(8191),0,7)+this.getIntegerBits(this.rand(8191),8,15)+this.getIntegerBits(this.rand(8191),0,15);return tl+h+tm+h+thv+h+csar+csl+h+n;},getIntegerBits:function(val,_5e6,end){var _5e7=this.returnBase(val,16);var _5e8=new Array();var _5e9="";var i=0;for(i=0;i<_5e7.length;i++){_5e8.push(_5e7.substring(i,i+1));}for(i=Math.floor(_5e6/4);i<=Math.floor(end/4);i++){if(!_5e8[i]||_5e8[i]==""){_5e9+="0";}else{_5e9+=_5e8[i];}}return _5e9;},returnBase:function(_5ea,base){return (_5ea).toString(base).toUpperCase();},rand:function(max){return Math.floor(Math.random()*(max+1));}});});},"prcommon2/clippings/optionsviewer":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../clippings/templates/optionsviewer.html","dijit/layout/ContentPane","dijit/layout/BorderContainer","dojox/charting/Chart","dojox/charting/themes/Claro","dojox/charting/themes/Tom","dojox/charting/themes/PrimaryColors","dojox/charting/plot2d/Pie","dojox/charting/plot2d/Lines","dojox/charting/action2d/Tooltip","dojox/charting/action2d/MoveSlice","dojox/charting/action2d/Magnify","dojox/charting/plot2d/Markers","dojox/charting/widget/SelectableLegend","dojox/charting/axis2d/Default","ttl/utilities2","dojo/topic","dojo/request","dojox/data/JsonRestStore","ttl/store/JsonRest","dojo/store/Observable","dojo/_base/lang","dojo/dom-attr","dojo/data/ItemFileReadStore","dojo/dom-class","dojo/dom-construct","dijit/form/ValidationTextBox","dijit/form/DateTextBox","dijit/form/NumberTextBox","dijit/form/CurrencyTextBox","dijit/form/Textarea","dijit/form/Select","dojox/validate/regexp","prcommon2/outlet/OutletSelect","prcommon2/date/daterange","dijit/form/ComboBox"],function(_5eb,_5ec,_5ed,_5ee,_5ef,_5f0,_5f1,Tom,_5f2,Pie,_5f3,_5f4,_5f5,_5f6,_5f7,_5f8,_5f9,_5fa,_5fb,_5fc,_5fd,_5fe,_5ff,lang,_600,_601,_602,_603){return _5eb("prcommon2.clippings.optionsviewer",[_5ec,_5ef],{templateString:_5ed,mode:"add",gutters:false,constructor:function(){this._run_call_back=lang.hitch(this,this._run_call);this._questions=new _5fd({target:"/clippings/analyse/list_by_source",idAttribute:"clippingsanalysistempleteid"});this._clients=new _5fd({target:"/clients/rest_combo",idAttribute:"id"});this._issues=new _5fd({target:"/crm/issues/issues_list_rest",idAttribute:"id"});this._liststore=new _5fd({target:"/emails/templates_list_rest",idAttribute:"id"});this._statement=new _5fd({target:"/statement/statement_combo_rest",idAttribute:"id"});this._change_client_enabled=true;},postCreate:function(){this.inherited(arguments);this.question.set("store",this._questions);this.clientid.set("store",this._clients);this.issueid.set("store",this._issues);_600.set(this.issue_label_1,"innerHTML",PRMAX.utils.settings.issue_description);_600.set(this.client_label_1,"innerHTML",PRMAX.utils.settings.client_name);this.emailtemplateid.set("store",this._liststore);this.emailtemplateid.set("query",{restrict:"sent",include_no_select:1});this.statementid.set("store",this._statement);this.statementid.set("query",{include_no_select:1});this.clientid.set("value",null);this.issueid.set("value",null);this.emailtemplateid.set("value",null);this.statementid.set("value",null);},_clear:function(){this.clear();},clear:function(){this._change_client_enabled=false;this.clientid.set("value",null);this.issueid.set("value",null);this._change_client_enabled=true;this.emailtemplateid.set("value",null);this.statementid.set("value",null);this.runoptionsbtn.cancel();},_client_change:function(){var _604=this.clientid.get("value");if(_604==undefined){_604=-1;}this.issueid.set("query",{clientid:_604});if(this._change_client_enabled==true){this.issueid.set("value",null);}this._change_client_enabled=true;},_run_options:function(){if(_5fa.form_validator(this.formnode)==false){alert("Please Enter Details");this.runoptionsbtn.cancel();return false;}var _605=this.formnode.get("value");_605["option"]=this.option.get("value");_605["daterange"]=this.date_search.get("value");_605["drange"]=this.date_search.get("value");_605["questionid"]=this.question.item.questionid;_605["questiontypeid"]=this.question.item.questiontypeid;this.runoptionsbtn.makeBusy();_5fc.post("/clippings/charting/get_questions_chart_data",_5fa.make_params({data:_605})).then(this._run_call_back);},_create_pie:function(data){this._pieChart=new _5f0(this.pie_chart_node,{title:this.question.item.questiontext,titlePos:"top",titleGap:25,titleFont:"normal normal normal 20pt Arial",titleFontColor:"black"});this._pieChart.setTheme(_5f2);this._pieChart.addPlot("default",{type:Pie,radius:145,fontColor:"black",labelOffset:0,labelStyle:"columns",htmlLabels:true,font:"normal normal normal 12pt Arial",startAngle:-10});this._pieChart.addAxis("x");this._pieChart.addAxis("y",{min:0,vertical:true,fixLower:"major",fixUpper:"major"});this._pieChart.addSeries(data.charttitle,data.data.pie);var _606=new _5f4(this._pieChart,"default");var _607=new _5f5(this._pieChart,"default");var _608=new _5f6(this._pieChart,"default",{scale:1.2});this._pieChart.render();},_create_lines:function(data){this._linesChart=new _5f0(this.lines_chart_node,{title:this.question.item.questiontext,titlePos:"top",titleGap:25,titleFont:"normal normal normal 20pt Arial",titleFontColor:"black"});this._linesChart.setTheme(_5f2);this._linesChart.addPlot("default",{type:_5f3,markers:true});var _609=[];for(var i=0;i<data.dates.length;i++){_609.push({text:data.dates[i].label,value:data.dates[i].value});}this._linesChart.addAxis("x",{labels:_609,rotation:-90,minorTick:{stroke:"black",length:5,width:3},majorTick:{color:"red",length:10,width:3},labelSizeChange:true});var max=data.maxvalue+1;this._linesChart.addAxis("y",{min:0,max:max,vertical:true,fixLower:"major",fixUpper:"major",minorTick:{stroke:"black",length:5,width:3},majorTick:{color:"red",length:10,width:3}});for(var key in data.data){this._linesChart.addSeries(key,data.data[key],{stroke:{width:1}});}var _60a=new _5f4(this._linesChart,"default");var _60b=new _5f5(this._linesChart,"default");var _60c=new _5f6(this._linesChart,"default",{scale:4});this._linesChart.render();this._leg=new _5f8({chart:this._linesChart,horizontal:false},this.legend_node);},_run_call:function(_60d){if(_60d.success=="OK"){if(this.option.get("value")==0){this.chart_view_ctrl.selectChild(this.pie_chart_viewer);if(this._pieChart!=null){this._pieChart.destroy();delete this._pieChart;}this._create_pie(_60d.data.pie);}else{if(this.option.get("value")==1){this.chart_view_ctrl.selectChild(this.lines_chart_viewer);if(this._linesChart&&this._linesChart!=null){this._leg.destroy();delete this._leg;this._linesChart.destroy();delete this._linesChart;}if(this._leg){}else{this.legend_node=_603.place("<div data-dojo-attach-point=\"legend_node\" style=\"height:400px\"></div>",this.legend_node_outer,"first");}this._create_lines(_60d.data.lines);}}}else{alert("Problem");}this.runoptionsbtn.cancel();},});});},"dojox/gfx/gradutils":function(){define(["./_base","dojo/_base/lang","./matrix","dojo/_base/Color"],function(g,lang,m,_60e){var _60f=g.gradutils={};function _610(o,c){if(o<=0){return c[0].color;}var len=c.length;if(o>=1){return c[len-1].color;}for(var i=0;i<len;++i){var stop=c[i];if(stop.offset>=o){if(i){var prev=c[i-1];return _60e.blendColors(new _60e(prev.color),new _60e(stop.color),(o-prev.offset)/(stop.offset-prev.offset));}return stop.color;}}return c[len-1].color;};_60f.getColor=function(fill,pt){var o;if(fill){switch(fill.type){case "linear":var _611=Math.atan2(fill.y2-fill.y1,fill.x2-fill.x1),_612=m.rotate(-_611),_613=m.project(fill.x2-fill.x1,fill.y2-fill.y1),p=m.multiplyPoint(_613,pt),pf1=m.multiplyPoint(_613,fill.x1,fill.y1),pf2=m.multiplyPoint(_613,fill.x2,fill.y2),_614=m.multiplyPoint(_612,pf2.x-pf1.x,pf2.y-pf1.y).x;o=m.multiplyPoint(_612,p.x-pf1.x,p.y-pf1.y).x/_614;break;case "radial":var dx=pt.x-fill.cx,dy=pt.y-fill.cy;o=Math.sqrt(dx*dx+dy*dy)/fill.r;break;}return _610(o,fill.colors);}return new _60e(fill||[0,0,0,0]);};_60f.reverse=function(fill){if(fill){switch(fill.type){case "linear":case "radial":fill=lang.delegate(fill);if(fill.colors){var c=fill.colors,l=c.length,i=0,stop,n=fill.colors=new Array(c.length);for(;i<l;++i){stop=c[i];n[i]={offset:1-stop.offset,color:stop.color};}n.sort(function(a,b){return a.offset-b.offset;});}break;}}return fill;};return _60f;});},"dojox/charting/themes/common":function(){define(["dojo/_base/lang"],function(lang){return lang.getObject("dojox.charting.themes",true);});},"dijit/DialogUnderlay":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/aspect","dojo/dom-attr","dojo/dom-style","dojo/on","dojo/window","./_Widget","./_TemplatedMixin","./BackgroundIframe","./Viewport","./main"],function(_615,lang,_616,_617,_618,on,_619,_61a,_61b,_61c,_61d,_61e){var _61f=_615("dijit.DialogUnderlay",[_61a,_61b],{templateString:"<div class='dijitDialogUnderlayWrapper'><div class='dijitDialogUnderlay' tabIndex='-1' data-dojo-attach-point='node'></div></div>",dialogId:"","class":"",_modalConnects:[],_setDialogIdAttr:function(id){_617.set(this.node,"id",id+"_underlay");this._set("dialogId",id);},_setClassAttr:function(_620){this.node.className="dijitDialogUnderlay "+_620;this._set("class",_620);},postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.own(on(this.domNode,"keydown",lang.hitch(this,"_onKeyDown")));this.inherited(arguments);},layout:function(){var is=this.node.style,os=this.domNode.style;os.display="none";var _621=_619.getBox(this.ownerDocument);os.top=_621.t+"px";os.left=_621.l+"px";is.width=_621.w+"px";is.height=_621.h+"px";os.display="block";},show:function(){this.domNode.style.display="block";this.open=true;this.layout();this.bgIframe=new _61c(this.domNode);var win=_619.get(this.ownerDocument);this._modalConnects=[_61d.on("resize",lang.hitch(this,"layout")),on(win,"scroll",lang.hitch(this,"layout"))];},hide:function(){this.bgIframe.destroy();delete this.bgIframe;this.domNode.style.display="none";while(this._modalConnects.length){(this._modalConnects.pop()).remove();}this.open=false;},destroy:function(){while(this._modalConnects.length){(this._modalConnects.pop()).remove();}this.inherited(arguments);},_onKeyDown:function(){}});_61f.show=function(_622,_623){var _624=_61f._singleton;if(!_624||_624._destroyed){_624=_61e._underlay=_61f._singleton=new _61f(_622);}else{if(_622){_624.set(_622);}}_618.set(_624.domNode,"zIndex",_623);if(!_624.open){_624.show();}};_61f.hide=function(){var _625=_61f._singleton;if(_625&&!_625._destroyed){_625.hide();}};return _61f;});},"dijit/form/_ToggleButtonMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(_626,_627){return _626("dijit.form._ToggleButtonMixin",null,{checked:false,_aria_attr:"aria-pressed",_onClick:function(evt){var _628=this.checked;this._set("checked",!_628);var ret=this.inherited(arguments);this.set("checked",ret?this.checked:_628);return ret;},_setCheckedAttr:function(_629,_62a){this._set("checked",_629);var node=this.focusNode||this.domNode;if(this._created){if(_627.get(node,"checked")!=!!_629){_627.set(node,"checked",!!_629);}}node.setAttribute(this._aria_attr,String(_629));this._handleOnChange(_629,_62a);},postCreate:function(){this.inherited(arguments);var node=this.focusNode||this.domNode;if(this.checked){node.setAttribute("checked","checked");}if(this._resetValue===undefined){this._lastValueReported=this._resetValue=this.checked;}},reset:function(){this._hasBeenBlurred=false;this.set("checked",this.params.checked||false);}});});},"xstyle/css":function(){define(["require"],function(_62b){"use strict";function _62c(tag,id,_62d){var _62e=document.documentElement;var _62f=_62e.insertBefore(document.createElement(tag),_62e.firstChild);_62f.id=id;var _630=(_62f.currentStyle||getComputedStyle(_62f,null)||{})[_62d];_62e.removeChild(_62f);return _630;};return {load:function(_631,_632,_633,_634){var url=_632.toUrl(_631);var _635;if(url.match(/!$/)){_635={wait:false};url=url.slice(0,-1);}var _636=_632.cache&&_632.cache["url:"+url];if(_636!=null){if(_636.xCss){var _637=_636.parser;var xCss=_636.xCss;_636=_636.cssText;}if(typeof _636=="string"){_62b(["./core/load-css"],function(load){_638(load.insertCss(_636));});}else{_638();}if(xCss){}return;}function _638(_639){var _63a=_62c("x-parse",null,"content");var _63b=_639&&(_639.sheet||_639.styleSheet);if(_63a&&_63a!="none"&&_63a!="normal"){_632([eval(_63a)],function(_63c){if(_639){_63c.process(_639,_633);}else{_63c.processAll();_633(_63b);}});}else{_633(_63b);}};var _63d=_62c("div",_631.replace(/\//g,"-").replace(/\..*/,"")+"-loaded","display");if(_63d=="none"){return _638();}_62b(["./core/load-css"],function(load){load(url,_638,_635);});}};});},"dojo/store/util/SimpleQueryEngine":function(){define(["../../_base/array"],function(_63e){return function(_63f,_640){switch(typeof _63f){default:throw new Error("Can not query with a "+typeof _63f);case "object":case "undefined":var _641=_63f;_63f=function(_642){for(var key in _641){var _643=_641[key];if(_643&&_643.test){if(!_643.test(_642[key],_642)){return false;}}else{if(_643!=_642[key]){return false;}}}return true;};break;case "string":if(!this[_63f]){throw new Error("No filter function "+_63f+" was found in store");}_63f=this[_63f];case "function":}function _644(_645){var _646=_63e.filter(_645,_63f);var _647=_640&&_640.sort;if(_647){_646.sort(typeof _647=="function"?_647:function(a,b){for(var sort,i=0;sort=_647[i];i++){var _648=a[sort.attribute];var _649=b[sort.attribute];_648=_648!=null?_648.valueOf():_648;_649=_649!=null?_649.valueOf():_649;if(_648!=_649){return !!sort.descending==(_648==null||_648>_649)?-1:1;}}return 0;});}if(_640&&(_640.start||_640.count)){var _64a=_646.length;_646=_646.slice(_640.start||0,(_640.start||0)+(_640.count||Infinity));_646.total=_64a;}return _646;};_644.matches=_63f;return _644;};});},"dojox/json/ref":function(){define(["dojo/_base/array","dojo/_base/json","dojo/_base/kernel","dojo/_base/lang","dojo/date/stamp","dojox"],function(_64b,_64c,dojo,lang,_64d,_64e){lang.getObject("json",true,_64e);return _64e.json.ref={resolveJson:function(root,args){args=args||{};var _64f=args.idAttribute||"id";var _650=this.refAttribute;var _651=args.idAsRef;var _652=args.idPrefix||"";var _653=args.assignAbsoluteIds;var _654=args.index||{};var _655=args.timeStamps;var ref,_656=[];var _657=/^(.*\/)?(\w+:\/\/)|[^\/\.]+\/\.\.\/|^.*\/(\/)/;var _658=this._addProp;var F=function(){};function walk(it,stop,_659,_65a,_65b,_65c,_65d){var i,_65e,val,id=_64f in it?it[_64f]:_659;if(_64f in it||((id!==undefined)&&_65a)){id=(_652+id).replace(_657,"$2$3");}var _65f=_65c||it;if(id!==undefined){if(_653){it.__id=id;}if(args.schemas&&(!(it instanceof Array))&&(val=id.match(/^(.+\/)[^\.\[]*$/))){_65b=args.schemas[val[1]];}if(_654[id]&&((it instanceof Array)==(_654[id] instanceof Array))){_65f=_654[id];delete _65f.$ref;delete _65f._loadObject;_65e=true;}else{var _660=_65b&&_65b.prototype;if(_660){F.prototype=_660;_65f=new F();}}_654[id]=_65f;if(_655){_655[id]=args.time;}}while(_65b){var _661=_65b.properties;if(_661){for(i in it){var _662=_661[i];if(_662&&_662.format=="date-time"&&typeof it[i]=="string"){it[i]=_64d.fromISOString(it[i]);}}}_65b=_65b["extends"];}var _663=it.length;for(i in it){if(i==_663){break;}if(it.hasOwnProperty(i)){val=it[i];if((typeof val=="object")&&val&&!(val instanceof Date)&&i!="__parent"){ref=val[_650]||(_651&&val[_64f]);if(it!=_656&&(!ref||!val.__parent)){val.__parent=_65d?_65d:_65f;}if(ref){delete it[i];var path=ref.toString().replace(/(#)([^\.\[])/,"$1.$2").match(/(^([^\[]*\/)?[^#\.\[]*)#?([\.\[].*)?/);if(_654[(_652+ref).replace(_657,"$2$3")]){ref=_654[(_652+ref).replace(_657,"$2$3")];}else{if((ref=(path[1]=="$"||path[1]=="this"||path[1]==="")?root:_654[(_652+path[1]).replace(_657,"$2$3")])){if(path[3]){path[3].replace(/(\[([^\]]+)\])|(\.?([^\.\[]+))/g,function(t,a,b,c,d){ref=ref&&ref[b?b.replace(/[\"\'\\]/,""):d];});}}}if(ref){val=ref;}else{if(!stop){var _664;if(!_664){_656.push(_65f);}_664=true;val=walk(val,false,val[_650],true,_662);val._loadObject=args.loader;}}}else{if(!stop){val=walk(val,_656==it,id===undefined?undefined:_658(id,i),false,_662,_65f!=it&&typeof _65f[i]=="object"&&_65f[i],it);}}}it[i]=val;if(_65f!=it&&!_65f.__isDirty){var old=_65f[i];_65f[i]=val;if(_65e&&val!==old&&!_65f._loadObject&&!(i.charAt(0)=="_"&&i.charAt(1)=="_")&&i!="$ref"&&!(val instanceof Date&&old instanceof Date&&val.getTime()==old.getTime())&&!(typeof val=="function"&&typeof old=="function"&&val.toString()==old.toString())&&_654.onUpdate){_654.onUpdate(_65f,i,old,val);}}}}if(_65e&&(_64f in it||_65f instanceof Array)){for(i in _65f){if(!_65f.__isDirty&&_65f.hasOwnProperty(i)&&!it.hasOwnProperty(i)&&!(i.charAt(0)=="_"&&i.charAt(1)=="_")&&!(_65f instanceof Array&&isNaN(i))){if(_654.onUpdate&&i!="_loadObject"&&i!="_idAttr"){_654.onUpdate(_65f,i,_65f[i],undefined);}delete _65f[i];while(_65f instanceof Array&&_65f.length&&_65f[_65f.length-1]===undefined){_65f.length--;}}}}else{if(_654.onLoad){_654.onLoad(_65f);}}return _65f;};if(root&&typeof root=="object"){root=walk(root,false,args.defaultId,true);walk(_656,false);}return root;},fromJson:function(str,args){function ref(_665){var _666={};_666[this.refAttribute]=_665;return _666;};var root;try{root=eval("("+str+")");}catch(e){throw new SyntaxError("Invalid JSON string: "+e.message+" parsing: "+str);}if(root){return this.resolveJson(root,args);}return root;},toJson:function(it,_667,_668,_669,_66a){var _66b=this._useRefs;var _66c=this._addProp;var _66d=this.refAttribute;_668=_668||"";var _66e={};var _66f={};var _670=_66a?true:false;var _671=1;function _672(){var str=(_671++).toString();if(_66f.hasOwnProperty(str)){return _672();}return str;};function _673(it,path,_674){if(typeof it=="object"&&it){var _675;if(it instanceof Date){return "\""+_64d.toISOString(it,{zulu:true})+"\"";}var id=it.__id;if(id){if(path!="#"&&((_66b&&!id.match(/#/))||_66e[id])){var ref=id;if(id.charAt(0)!="#"){if(it.__clientId==id){ref="cid:"+id;}else{if(id.substring(0,_668.length)==_668){ref=id.substring(_668.length);}else{ref=id;}}}var _676={};_676[_66d]=ref;return _64c.toJson(_676,_667);}path=id;}else{if(_670){if(!(it instanceof Array)){path=_672();it.__id=path;_66f[path]=it;}}else{it.__id=path;_66f[path]=it;}}_66e[path]=it;_674=_674||"";var _677=_667?_674+_64c.toJsonIndentStr:"";var _678=_667?"\n":"";var sep=_667?" ":"";if(it instanceof Array){var res=_64b.map(it,function(obj,i){var val=_673(obj,_670?undefined:_66c(path,i),_677);if(typeof val!="string"){val="undefined";}return _678+_677+val;});return "["+res.join(","+sep)+_678+_674+"]";}var _679=[];if(_670&&(typeof it[_66a]==="undefined")){_679.push(_678+_677+_64c._escapeString(_66a)+":"+sep+_64c.toJson(it.__id));}for(var i in it){if(it.hasOwnProperty(i)){var _67a;if(typeof i=="number"){_67a="\""+i+"\"";}else{if(typeof i=="string"&&(i.charAt(0)!="_"||i.charAt(1)!="_")){_67a=_64c._escapeString(i);}else{continue;}}var val=_673(it[i],_670?undefined:_66c(path,i),_677);if(typeof val!="string"){continue;}_679.push(_678+_677+_67a+":"+sep+val);}}return "{"+_679.join(","+sep)+_678+_674+"}";}else{if(typeof it=="function"&&_64e.json.ref.serializeFunctions){return it.toString();}}return _64c.toJson(it);};var json=_673(it,_670?undefined:"#","");if(!_669){for(var i in _66f){delete _66f[i].__id;}}return json;},_addProp:function(id,prop){return id+(id.match(/#/)?id.length==1?"":".":"#")+prop;},refAttribute:"$ref",_useRefs:false,serializeFunctions:false};});},"dojox/form/_BusyButtonMixin":function(){define(["dojo/_base/lang","dojo/dom-attr","dojo/dom-class","dijit/form/Button","dijit/form/DropDownButton","dijit/form/ComboButton","dojo/i18n","dojo/i18n!dijit/nls/loading","dojo/_base/declare"],function(lang,_67b,_67c,_67d,_67e,_67f,i18n,_680,_681){return _681("dojox.form._BusyButtonMixin",null,{isBusy:false,isCancelled:false,busyLabel:"",timeout:null,useIcon:true,postMixInProperties:function(){this.inherited(arguments);if(!this.busyLabel){this.busyLabel=i18n.getLocalization("dijit","loading",this.lang).loadingState;}},postCreate:function(){this.inherited(arguments);this._label=this.containerNode.innerHTML;this._initTimeout=this.timeout;if(this.isBusy){this.makeBusy();}},makeBusy:function(){this.isBusy=true;this.isCancelled=false;if(this._disableHandle){this._disableHandle.remove();}this._disableHandle=this.defer(function(){this.set("disabled",true);});this.setLabel(this.busyLabel,this.timeout);},cancel:function(){this.isCancelled=true;if(this._disableHandle){this._disableHandle.remove();}this.set("disabled",false);this.isBusy=false;this.setLabel(this._label);if(this._timeout){clearTimeout(this._timeout);}this.timeout=this._initTimeout;},resetTimeout:function(_682){if(this._timeout){clearTimeout(this._timeout);}if(_682){this._timeout=setTimeout(lang.hitch(this,function(){this.cancel();}),_682);}else{if(_682==undefined||_682===0){this.cancel();}}},setLabel:function(_683,_684){this.label=_683;while(this.containerNode.firstChild){this.containerNode.removeChild(this.containerNode.firstChild);}this.containerNode.appendChild(document.createTextNode(this.label));if(this.showLabel==false&&!_67b.get(this.domNode,"title")){this.titleNode.title=lang.trim(this.containerNode.innerText||this.containerNode.textContent||"");}if(_684){this.resetTimeout(_684);}else{this.timeout=null;}if(this.useIcon&&this.isBusy){var node=new Image();node.src=this._blankGif;_67b.set(node,"id",this.id+"_icon");_67c.add(node,"dojoxBusyButtonIcon");this.containerNode.appendChild(node);}},_onClick:function(e){if(!this.isBusy){this.inherited(arguments);if(!this.isCancelled){this.makeBusy();}}}});});},"dojox/charting/scaler/linear":function(){define(["dojo/_base/lang","./common"],function(lang,_685){var _686=lang.getObject("dojox.charting.scaler.linear",true);var _687=3,_688=_685.getNumericLabel;function _689(val,text){val=val.toLowerCase();for(var i=text.length-1;i>=0;--i){if(val===text[i]){return true;}}return false;};var _68a=function(min,max,_68b,_68c,_68d,_68e,span){_68b=lang.delegate(_68b);if(!_68c){if(_68b.fixUpper=="major"){_68b.fixUpper="minor";}if(_68b.fixLower=="major"){_68b.fixLower="minor";}}if(!_68d){if(_68b.fixUpper=="minor"){_68b.fixUpper="micro";}if(_68b.fixLower=="minor"){_68b.fixLower="micro";}}if(!_68e){if(_68b.fixUpper=="micro"){_68b.fixUpper="none";}if(_68b.fixLower=="micro"){_68b.fixLower="none";}}var _68f=_689(_68b.fixLower,["major"])?Math.floor(_68b.min/_68c)*_68c:_689(_68b.fixLower,["minor"])?Math.floor(_68b.min/_68d)*_68d:_689(_68b.fixLower,["micro"])?Math.floor(_68b.min/_68e)*_68e:_68b.min,_690=_689(_68b.fixUpper,["major"])?Math.ceil(_68b.max/_68c)*_68c:_689(_68b.fixUpper,["minor"])?Math.ceil(_68b.max/_68d)*_68d:_689(_68b.fixUpper,["micro"])?Math.ceil(_68b.max/_68e)*_68e:_68b.max;if(_68b.useMin){min=_68f;}if(_68b.useMax){max=_690;}var _691=(!_68c||_68b.useMin&&_689(_68b.fixLower,["major"]))?min:Math.ceil(min/_68c)*_68c,_692=(!_68d||_68b.useMin&&_689(_68b.fixLower,["major","minor"]))?min:Math.ceil(min/_68d)*_68d,_693=(!_68e||_68b.useMin&&_689(_68b.fixLower,["major","minor","micro"]))?min:Math.ceil(min/_68e)*_68e,_694=!_68c?0:(_68b.useMax&&_689(_68b.fixUpper,["major"])?Math.round((max-_691)/_68c):Math.floor((max-_691)/_68c))+1,_695=!_68d?0:(_68b.useMax&&_689(_68b.fixUpper,["major","minor"])?Math.round((max-_692)/_68d):Math.floor((max-_692)/_68d))+1,_696=!_68e?0:(_68b.useMax&&_689(_68b.fixUpper,["major","minor","micro"])?Math.round((max-_693)/_68e):Math.floor((max-_693)/_68e))+1,_697=_68d?Math.round(_68c/_68d):0,_698=_68e?Math.round(_68d/_68e):0,_699=_68c?Math.floor(Math.log(_68c)/Math.LN10):0,_69a=_68d?Math.floor(Math.log(_68d)/Math.LN10):0,_69b=span/(max-min);if(!isFinite(_69b)){_69b=1;}return {bounds:{lower:_68f,upper:_690,from:min,to:max,scale:_69b,span:span},major:{tick:_68c,start:_691,count:_694,prec:_699},minor:{tick:_68d,start:_692,count:_695,prec:_69a},micro:{tick:_68e,start:_693,count:_696,prec:0},minorPerMajor:_697,microPerMinor:_698,scaler:_686};};return lang.mixin(_686,{buildScaler:function(min,max,span,_69c,_69d,_69e){var h={fixUpper:"none",fixLower:"none",natural:false};if(_69c){if("fixUpper" in _69c){h.fixUpper=String(_69c.fixUpper);}if("fixLower" in _69c){h.fixLower=String(_69c.fixLower);}if("natural" in _69c){h.natural=Boolean(_69c.natural);}}_69e=!_69e||_69e<_687?_687:_69e;if("min" in _69c){min=_69c.min;}if("max" in _69c){max=_69c.max;}if(_69c.includeZero){if(min>0){min=0;}if(max<0){max=0;}}h.min=min;h.useMin=true;h.max=max;h.useMax=true;if("from" in _69c){min=_69c.from;h.useMin=false;}if("to" in _69c){max=_69c.to;h.useMax=false;}if(max<=min){return _68a(min,max,h,0,0,0,span);}if(!_69d){_69d=max-min;}var mag=Math.floor(Math.log(_69d)/Math.LN10),_69f=_69c&&("majorTickStep" in _69c)?_69c.majorTickStep:Math.pow(10,mag),_6a0=0,_6a1=0,_6a2;if(_69c&&("minorTickStep" in _69c)){_6a0=_69c.minorTickStep;}else{do{_6a0=_69f/10;if(!h.natural||_6a0>0.9){_6a2=_68a(min,max,h,_69f,_6a0,0,span);if(_6a2.bounds.scale*_6a2.minor.tick>_69e){break;}}_6a0=_69f/5;if(!h.natural||_6a0>0.9){_6a2=_68a(min,max,h,_69f,_6a0,0,span);if(_6a2.bounds.scale*_6a2.minor.tick>_69e){break;}}_6a0=_69f/2;if(!h.natural||_6a0>0.9){_6a2=_68a(min,max,h,_69f,_6a0,0,span);if(_6a2.bounds.scale*_6a2.minor.tick>_69e){break;}}return _68a(min,max,h,_69f,0,0,span);}while(false);}if(_69c&&("microTickStep" in _69c)){_6a1=_69c.microTickStep;_6a2=_68a(min,max,h,_69f,_6a0,_6a1,span);}else{do{_6a1=_6a0/10;if(!h.natural||_6a1>0.9){_6a2=_68a(min,max,h,_69f,_6a0,_6a1,span);if(_6a2.bounds.scale*_6a2.micro.tick>_687){break;}}_6a1=_6a0/5;if(!h.natural||_6a1>0.9){_6a2=_68a(min,max,h,_69f,_6a0,_6a1,span);if(_6a2.bounds.scale*_6a2.micro.tick>_687){break;}}_6a1=_6a0/2;if(!h.natural||_6a1>0.9){_6a2=_68a(min,max,h,_69f,_6a0,_6a1,span);if(_6a2.bounds.scale*_6a2.micro.tick>_687){break;}}_6a1=0;}while(false);}return _6a1?_6a2:_68a(min,max,h,_69f,_6a0,0,span);},buildTicks:function(_6a3,_6a4){var step,next,tick,_6a5=_6a3.major.start,_6a6=_6a3.minor.start,_6a7=_6a3.micro.start;if(_6a4.microTicks&&_6a3.micro.tick){step=_6a3.micro.tick,next=_6a7;}else{if(_6a4.minorTicks&&_6a3.minor.tick){step=_6a3.minor.tick,next=_6a6;}else{if(_6a3.major.tick){step=_6a3.major.tick,next=_6a5;}else{return null;}}}var _6a8=1/_6a3.bounds.scale;if(_6a3.bounds.to<=_6a3.bounds.from||isNaN(_6a8)||!isFinite(_6a8)||step<=0||isNaN(step)||!isFinite(step)){return null;}var _6a9=[],_6aa=[],_6ab=[];while(next<=_6a3.bounds.to+_6a8){if(Math.abs(_6a5-next)<step/2){tick={value:_6a5};if(_6a4.majorLabels){tick.label=_688(_6a5,_6a3.major.prec,_6a4);}_6a9.push(tick);_6a5+=_6a3.major.tick;_6a6+=_6a3.minor.tick;_6a7+=_6a3.micro.tick;}else{if(Math.abs(_6a6-next)<step/2){if(_6a4.minorTicks){tick={value:_6a6};if(_6a4.minorLabels&&(_6a3.minMinorStep<=_6a3.minor.tick*_6a3.bounds.scale)){tick.label=_688(_6a6,_6a3.minor.prec,_6a4);}_6aa.push(tick);}_6a6+=_6a3.minor.tick;_6a7+=_6a3.micro.tick;}else{if(_6a4.microTicks){_6ab.push({value:_6a7});}_6a7+=_6a3.micro.tick;}}next+=step;}return {major:_6a9,minor:_6aa,micro:_6ab};},getTransformerFromModel:function(_6ac){var _6ad=_6ac.bounds.from,_6ae=_6ac.bounds.scale;return function(x){return (x-_6ad)*_6ae;};},getTransformerFromPlot:function(_6af){var _6b0=_6af.bounds.from,_6b1=_6af.bounds.scale;return function(x){return x/_6b1+_6b0;};}});});},"dijit/_KeyNavMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/on","dijit/registry","dijit/_FocusMixin"],function(_6b2,_6b3,_6b4,keys,lang,on,_6b5,_6b6){return _6b3("dijit._KeyNavMixin",_6b6,{tabIndex:"0",childSelector:null,postCreate:function(){this.inherited(arguments);_6b4.set(this.domNode,"tabIndex",this.tabIndex);if(!this._keyNavCodes){var _6b7=this._keyNavCodes={};_6b7[keys.HOME]=lang.hitch(this,"focusFirstChild");_6b7[keys.END]=lang.hitch(this,"focusLastChild");_6b7[this.isLeftToRight()?keys.LEFT_ARROW:keys.RIGHT_ARROW]=lang.hitch(this,"_onLeftArrow");_6b7[this.isLeftToRight()?keys.RIGHT_ARROW:keys.LEFT_ARROW]=lang.hitch(this,"_onRightArrow");_6b7[keys.UP_ARROW]=lang.hitch(this,"_onUpArrow");_6b7[keys.DOWN_ARROW]=lang.hitch(this,"_onDownArrow");}var self=this,_6b8=typeof this.childSelector=="string"?this.childSelector:lang.hitch(this,"childSelector");this.own(on(this.domNode,"keypress",lang.hitch(this,"_onContainerKeypress")),on(this.domNode,"keydown",lang.hitch(this,"_onContainerKeydown")),on(this.domNode,"focus",lang.hitch(this,"_onContainerFocus")),on(this.containerNode,on.selector(_6b8,"focusin"),function(evt){self._onChildFocus(_6b5.getEnclosingWidget(this),evt);}));},_onLeftArrow:function(){},_onRightArrow:function(){},_onUpArrow:function(){},_onDownArrow:function(){},focus:function(){this.focusFirstChild();},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1);},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1);},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild());},focusLastChild:function(){this.focusChild(this._getLastFocusableChild());},focusChild:function(_6b9,last){if(!_6b9){return;}if(this.focusedChild&&_6b9!==this.focusedChild){this._onChildBlur(this.focusedChild);}_6b9.set("tabIndex",this.tabIndex);_6b9.focus(last?"end":"start");},_onContainerFocus:function(evt){if(evt.target!==this.domNode||this.focusedChild){return;}this.focus();},_onFocus:function(){_6b4.set(this.domNode,"tabIndex","-1");this.inherited(arguments);},_onBlur:function(evt){_6b4.set(this.domNode,"tabIndex",this.tabIndex);if(this.focusedChild){this.focusedChild.set("tabIndex","-1");this.lastFocusedChild=this.focusedChild;this._set("focusedChild",null);}this.inherited(arguments);},_onChildFocus:function(_6ba){if(_6ba&&_6ba!=this.focusedChild){if(this.focusedChild&&!this.focusedChild._destroyed){this.focusedChild.set("tabIndex","-1");}_6ba.set("tabIndex",this.tabIndex);this.lastFocused=_6ba;this._set("focusedChild",_6ba);}},_searchString:"",multiCharSearchDuration:1000,onKeyboardSearch:function(item,evt,_6bb,_6bc){if(item){this.focusChild(item);}},_keyboardSearchCompare:function(item,_6bd){var _6be=item.domNode,text=item.label||(_6be.focusNode?_6be.focusNode.label:"")||_6be.innerText||_6be.textContent||"",_6bf=text.replace(/^\s+/,"").substr(0,_6bd.length).toLowerCase();return (!!_6bd.length&&_6bf==_6bd)?-1:0;},_onContainerKeydown:function(evt){var func=this._keyNavCodes[evt.keyCode];if(func){func(evt,this.focusedChild);evt.stopPropagation();evt.preventDefault();this._searchString="";}else{if(evt.keyCode==keys.SPACE&&this._searchTimer&&!(evt.ctrlKey||evt.altKey||evt.metaKey)){evt.stopImmediatePropagation();evt.preventDefault();this._keyboardSearch(evt," ");}}},_onContainerKeypress:function(evt){if(evt.charCode<=keys.SPACE||evt.ctrlKey||evt.altKey||evt.metaKey){return;}evt.preventDefault();evt.stopPropagation();this._keyboardSearch(evt,String.fromCharCode(evt.charCode).toLowerCase());},_keyboardSearch:function(evt,_6c0){var _6c1=null,_6c2,_6c3=0,_6c4=lang.hitch(this,function(){if(this._searchTimer){this._searchTimer.remove();}this._searchString+=_6c0;var _6c5=/^(.)\1*$/.test(this._searchString);var _6c6=_6c5?1:this._searchString.length;_6c2=this._searchString.substr(0,_6c6);this._searchTimer=this.defer(function(){this._searchTimer=null;this._searchString="";},this.multiCharSearchDuration);var _6c7=this.focusedChild||null;if(_6c6==1||!_6c7){_6c7=this._getNextFocusableChild(_6c7,1);if(!_6c7){return;}}var stop=_6c7;do{var rc=this._keyboardSearchCompare(_6c7,_6c2);if(!!rc&&_6c3++==0){_6c1=_6c7;}if(rc==-1){_6c3=-1;break;}_6c7=this._getNextFocusableChild(_6c7,1);}while(_6c7&&_6c7!=stop);});_6c4();this.onKeyboardSearch(_6c1,evt,_6c2,_6c3);},_onChildBlur:function(){},_getNextFocusableChild:function(_6c8,dir){var _6c9=_6c8;do{if(!_6c8){_6c8=this[dir>0?"_getFirst":"_getLast"]();if(!_6c8){break;}}else{_6c8=this._getNext(_6c8,dir);}if(_6c8!=null&&_6c8!=_6c9&&_6c8.isFocusable()){return _6c8;}}while(_6c8!=_6c9);return null;},_getFirst:function(){return null;},_getLast:function(){return null;},_getNext:function(_6ca,dir){if(_6ca){_6ca=_6ca.domNode;while(_6ca){_6ca=_6ca[dir<0?"previousSibling":"nextSibling"];if(_6ca&&"getAttribute" in _6ca){var w=_6b5.byNode(_6ca);if(w){return w;}}}}return null;}});});},"dijit/form/_TextBoxMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/sniff","dojo/keys","dojo/_base/lang","dojo/on","../main"],function(_6cb,_6cc,dom,has,keys,lang,on,_6cd){var _6ce=_6cc("dijit.form._TextBoxMixin"+(has("dojo-bidi")?"_NoBidi":""),null,{trim:false,uppercase:false,lowercase:false,propercase:false,maxLength:"",selectOnClick:false,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints);},_setValueAttr:function(_6cf,_6d0,_6d1){var _6d2;if(_6cf!==undefined){_6d2=this.filter(_6cf);if(typeof _6d1!="string"){if(_6d2!==null&&((typeof _6d2!="number")||!isNaN(_6d2))){_6d1=this.filter(this.format(_6d2,this.constraints));}else{_6d1="";}if(this.compare(_6d2,this.filter(this.parse(_6d1,this.constraints)))!=0){_6d1=null;}}}if(_6d1!=null&&((typeof _6d1)!="number"||!isNaN(_6d1))&&this.textbox.value!=_6d1){this.textbox.value=_6d1;this._set("displayedValue",this.get("displayedValue"));}this.inherited(arguments,[_6d2,_6d0]);},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value);},_setDisplayedValueAttr:function(_6d3){if(_6d3==null){_6d3="";}else{if(typeof _6d3!="string"){_6d3=String(_6d3);}}this.textbox.value=_6d3;this._setValueAttr(this.get("value"),undefined);this._set("displayedValue",this.get("displayedValue"));},format:function(_6d4){return _6d4==null?"":(_6d4.toString?_6d4.toString():_6d4);},parse:function(_6d5){return _6d5;},_refreshState:function(){},onInput:function(){},_onInput:function(evt){this._lastInputEventValue=this.textbox.value;this._processInput(this._lastInputProducingEvent||evt);delete this._lastInputProducingEvent;if(this.intermediateChanges){this._handleOnChange(this.get("value"),false);}},_processInput:function(){this._refreshState();this._set("displayedValue",this.get("displayedValue"));},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);function _6d6(e){var _6d7;if(e.type=="keydown"&&e.keyCode!=229){_6d7=e.keyCode;switch(_6d7){case keys.SHIFT:case keys.ALT:case keys.CTRL:case keys.META:case keys.CAPS_LOCK:case keys.NUM_LOCK:case keys.SCROLL_LOCK:return;}if(!e.ctrlKey&&!e.metaKey&&!e.altKey){switch(_6d7){case keys.NUMPAD_0:case keys.NUMPAD_1:case keys.NUMPAD_2:case keys.NUMPAD_3:case keys.NUMPAD_4:case keys.NUMPAD_5:case keys.NUMPAD_6:case keys.NUMPAD_7:case keys.NUMPAD_8:case keys.NUMPAD_9:case keys.NUMPAD_MULTIPLY:case keys.NUMPAD_PLUS:case keys.NUMPAD_ENTER:case keys.NUMPAD_MINUS:case keys.NUMPAD_PERIOD:case keys.NUMPAD_DIVIDE:return;}if((_6d7>=65&&_6d7<=90)||(_6d7>=48&&_6d7<=57)||_6d7==keys.SPACE){return;}var _6d8=false;for(var i in keys){if(keys[i]===e.keyCode){_6d8=true;break;}}if(!_6d8){return;}}}_6d7=e.charCode>=32?String.fromCharCode(e.charCode):e.charCode;if(!_6d7){_6d7=(e.keyCode>=65&&e.keyCode<=90)||(e.keyCode>=48&&e.keyCode<=57)||e.keyCode==keys.SPACE?String.fromCharCode(e.keyCode):e.keyCode;}if(!_6d7){_6d7=229;}if(e.type=="keypress"){if(typeof _6d7!="string"){return;}if((_6d7>="a"&&_6d7<="z")||(_6d7>="A"&&_6d7<="Z")||(_6d7>="0"&&_6d7<="9")||(_6d7===" ")){if(e.ctrlKey||e.metaKey||e.altKey){return;}}}var faux={faux:true},attr;for(attr in e){if(!/^(layer[XY]|returnValue|keyLocation)$/.test(attr)){var v=e[attr];if(typeof v!="function"&&typeof v!="undefined"){faux[attr]=v;}}}lang.mixin(faux,{charOrCode:_6d7,_wasConsumed:false,preventDefault:function(){faux._wasConsumed=true;e.preventDefault();},stopPropagation:function(){e.stopPropagation();}});this._lastInputProducingEvent=faux;if(this.onInput(faux)===false){faux.preventDefault();faux.stopPropagation();}if(faux._wasConsumed){return;}if(has("ie")<=9){switch(e.keyCode){case keys.TAB:case keys.ESCAPE:case keys.DOWN_ARROW:case keys.UP_ARROW:case keys.LEFT_ARROW:case keys.RIGHT_ARROW:break;default:if(e.keyCode==keys.ENTER&&this.textbox.tagName.toLowerCase()!="textarea"){break;}this.defer(function(){if(this.textbox.value!==this._lastInputEventValue){on.emit(this.textbox,"input",{bubbles:true});}});}}};this.own(on(this.textbox,"keydown, keypress, paste, cut, compositionend",lang.hitch(this,_6d6)),on(this.textbox,"input",lang.hitch(this,"_onInput")),on(this.domNode,"keypress",function(e){e.stopPropagation();}));},_blankValue:"",filter:function(val){if(val===null){return this._blankValue;}if(typeof val!="string"){return val;}if(this.trim){val=lang.trim(val);}if(this.uppercase){val=val.toUpperCase();}if(this.lowercase){val=val.toLowerCase();}if(this.propercase){val=val.replace(/[^\s]+/g,function(word){return word.substring(0,1).toUpperCase()+word.substring(1);});}return val;},_setBlurValue:function(){this._setValueAttr(this.get("value"),true);},_onBlur:function(e){if(this.disabled){return;}this._setBlurValue();this.inherited(arguments);},_isTextSelected:function(){return this.textbox.selectionStart!=this.textbox.selectionEnd;},_onFocus:function(by){if(this.disabled||this.readOnly){return;}if(this.selectOnClick&&by=="mouse"){this._selectOnClickHandle=on.once(this.domNode,"mouseup, touchend",lang.hitch(this,function(evt){if(!this._isTextSelected()){_6ce.selectInputText(this.textbox);}}));this.own(this._selectOnClickHandle);this.defer(function(){if(this._selectOnClickHandle){this._selectOnClickHandle.remove();this._selectOnClickHandle=null;}},500);}this.inherited(arguments);this._refreshState();},reset:function(){this.textbox.value="";this.inherited(arguments);}});if(has("dojo-bidi")){_6ce=_6cc("dijit.form._TextBoxMixin",_6ce,{_setValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.focusNode);},_setDisplayedValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.focusNode);},_onInput:function(){this.applyTextDir(this.focusNode);this.inherited(arguments);}});}_6ce._setSelectionRange=_6cd._setSelectionRange=function(_6d9,_6da,stop){if(_6d9.setSelectionRange){_6d9.setSelectionRange(_6da,stop);}};_6ce.selectInputText=_6cd.selectInputText=function(_6db,_6dc,stop){_6db=dom.byId(_6db);if(isNaN(_6dc)){_6dc=0;}if(isNaN(stop)){stop=_6db.value?_6db.value.length:0;}try{_6db.focus();_6ce._setSelectionRange(_6db,_6dc,stop);}catch(e){}};return _6ce;});},"prcommon2/clippings/add_server":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../clippings/templates/add_server.html","ttl/utilities2","dojo/topic","dojo/request","dojo/_base/lang","dojo/dom-style","dojo/dom-attr","dojo/dom-class","dojo/data/ItemFileReadStore","dijit/layout/ContentPane","dojox/form/PasswordValidator"],function(_6dd,_6de,_6df,_6e0,_6e1,_6e2,lang,_6e3,_6e4,_6e5,_6e6,_6e7){return _6dd("prcommon2.clippings.add_server",[_6de,_6e7],{templateString:_6df,constructor:function(){this._save_call_back=dojo.hitch(this,this._save_call);this._send_test_call_back=dojo.hitch(this,this._send_test_call);this._servertypes=new _6e6({url:"/common/lookups?searchtype=servertypes"});this._customerid=PRMAX.utils.settings.cid;},postCreate:function(){this.inherited(arguments);this.servertypeid.set("store",this._servertypes);},load:function(_6e8,_6e9){this._dialog=_6e8;this.customerid.set("value",_6e9);},_save:function(){if(_6e0.form_validator(this.form)==false){alert("Please Enter Details");this.savebtn.cancel();return false;}var data=this.form.get("value");_6e2.post("/customeremailserver/add",_6e0.make_params({data:data})).then(this._save_call_back);},_save_call:function(_6ea){if(_6ea.success=="OK"){alert("Email Server Added");this.savebtn.cancel();this._dialog.hide();_6e1.publish("customeremailserver/add",[_6ea.data]);}else{alert("Problem Adding Email Server");}this.savebtn.cancel();},_send_test:function(){if(_6e0.form_validator(this.form)==false){alert("Please Enter Details");this.sendtestbtn.cancel();return false;}var data={};data["customerid"]=this._customerid;data["fromemailaddress"]=this.fromemailaddress.get("value");data["host"]=this.servertypeid.get("value");data["username"]=this.username.get("value");data["password"]=this.password.get("value");data["hostname"]=this.host.get("value");_6e2.post("/emails/email_test_server",_6e0.make_params({data:data})).then(this._send_test_call_back);},_send_test_call:function(_6eb){if(_6eb.success=="OK"){alert("Test email has been sent");this.sendtestbtn.cancel();}else{alert("Problem Sending Test Email");}this.sendtestbtn.cancel();},_server_type:function(){this._change_view();},_change_view:function(){var sid=parseInt(this.servertypeid.get("value"));if(sid==6){_6e5.remove(this.url_view,"prmaxhidden");this.host.set("required",true);}else{_6e5.add(this.url_view,"prmaxhidden");this.host.set("required",false);}}});});},"dojox/form/PasswordValidator":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/dom-attr","dojo/i18n","dojo/query","dojo/keys","dijit/form/_FormValueWidget","dijit/form/ValidationTextBox","dojo/text!./resources/PasswordValidator.html","dojo/i18n!./nls/PasswordValidator","dojo/_base/declare"],function(_6ec,lang,_6ed,i18n,_6ee,keys,_6ef,_6f0,_6f1,_6f2,_6f3){var _6f4=_6f3("dojox.form._ChildTextBox",_6f0,{containerWidget:null,type:"password",reset:function(){_6f0.prototype._setValueAttr.call(this,"",true);this._hasBeenBlurred=false;},postCreate:function(){this.inherited(arguments);if(!this.name){_6ed.remove(this.focusNode,"name");}this.connect(this.focusNode,"onkeypress","_onChildKeyPress");},_onChildKeyPress:function(e){if(e&&e.keyCode==keys.ENTER){this._setBlurValue();}}});var _6f5=_6f3("dojox.form._OldPWBox",_6f4,{_isPWValid:false,_setValueAttr:function(_6f6,_6f7){if(_6f6===""){_6f6=_6f5.superclass.attr.call(this,"value");}if(_6f7!==null){this._isPWValid=this.containerWidget.pwCheck(_6f6);}this.inherited(arguments);this.containerWidget._childValueAttr(this.containerWidget._inputWidgets[1].get("value"));},isValid:function(_6f8){return this.inherited("isValid",arguments)&&this._isPWValid;},_update:function(e){if(this._hasBeenBlurred){this.validate(true);}this._onMouse(e);},_getValueAttr:function(){if(this.containerWidget._started&&this.containerWidget.isValid()){return this.inherited(arguments);}return "";},_setBlurValue:function(){var _6f9=_6f0.prototype._getValueAttr.call(this);this._setValueAttr(_6f9,(this.isValid?this.isValid():true));}});var _6fa=_6f3("dojox.form._NewPWBox",_6f4,{required:true,onChange:function(){this.containerWidget._inputWidgets[2].validate(false);this.inherited(arguments);}});var _6fb=_6f3("dojox.form._VerifyPWBox",_6f4,{isValid:function(_6fc){return this.inherited("isValid",arguments)&&(this.get("value")==this.containerWidget._inputWidgets[1].get("value"));}});return _6f3("dojox.form.PasswordValidator",_6ef,{required:true,_inputWidgets:null,oldName:"",templateString:_6f1,_hasBeenBlurred:false,isValid:function(_6fd){return _6ec.every(this._inputWidgets,function(i){if(i&&i._setStateClass){i._setStateClass();}return (!i||i.isValid());});},validate:function(_6fe){return _6ec.every(_6ec.map(this._inputWidgets,function(i){if(i&&i.validate){i._hasBeenBlurred=(i._hasBeenBlurred||this._hasBeenBlurred);return i.validate();}return true;},this),function(item){return item;});},reset:function(){this._hasBeenBlurred=false;_6ec.forEach(this._inputWidgets,function(i){if(i&&i.reset){i.reset();}},this);},_createSubWidgets:function(){var _6ff=this._inputWidgets,msg=i18n.getLocalization("dojox.form","PasswordValidator",this.lang);_6ec.forEach(_6ff,function(i,idx){if(i){var p={containerWidget:this},c;if(idx===0){p.name=this.oldName;p.invalidMessage=msg.badPasswordMessage;c=_6f5;}else{if(idx===1){p.required=this.required;c=_6fa;}else{if(idx===2){p.invalidMessage=msg.nomatchMessage;c=_6fb;}}}_6ff[idx]=new c(p,i);}},this);},pwCheck:function(_700){return false;},postCreate:function(){this.inherited(arguments);var _701=this._inputWidgets=[];_6ec.forEach(["old","new","verify"],function(i){_701.push(_6ee("input[pwType="+i+"]",this.containerNode)[0]);},this);if(!_701[1]||!_701[2]){throw new Error("Need at least pwType=\"new\" and pwType=\"verify\"");}if(this.oldName&&!_701[0]){throw new Error("Need to specify pwType=\"old\" if using oldName");}this.containerNode=this.domNode;this._createSubWidgets();this.connect(this._inputWidgets[1],"_setValueAttr","_childValueAttr");this.connect(this._inputWidgets[2],"_setValueAttr","_childValueAttr");},_childValueAttr:function(v){this.set("value",this.isValid()?v:"");},_setDisabledAttr:function(_702){this.inherited(arguments);_6ec.forEach(this._inputWidgets,function(i){if(i&&i.set){i.set("disabled",_702);}});},_setRequiredAttr:function(_703){this.required=_703;_6ed.set(this.focusNode,"required",_703);this.focusNode.setAttribute("aria-required",_703);_6ec.forEach(this._inputWidgets,function(i){if(i&&i.set){i.set("required",_703);}});},_setValueAttr:function(v){this.inherited(arguments);_6ed.set(this.focusNode,"value",v);},_getValueAttr:function(){return this.value||"";},focus:function(){var f=false;_6ec.forEach(this._inputWidgets,function(i){if(i&&!i.isValid()&&!f){i.focus();f=true;}});if(!f){this._inputWidgets[1].focus();}}});});},"prcommon2/outlet/OutletSelect":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../outlet/templates/OutletSelect.html","dojo/json","dojo/request","ttl/utilities2","ttl/store/JsonRest","dojo/store/Observable","dojo/_base/lang","dojo/topic","ttl/grid/Grid","dojo/dom-attr","dojo/dom-class","dojo/_base/array","dijit/form/TextBox","dijit/form/Button","dijit/Dialog","dijit/layout/BorderContainer","prcommon2/search/OutletSearch","prcommon2/outlet/OutletSelectDetails","dijit/layout/ContentPane","dojox/form/BusyButton"],function(_704,_705,_706,json,_707,_708,_709,_70a,lang,_70b,Grid,_70c,_70d,_70e){return _704("prcommon2.outlet.OutletSelect",[_705],{templateString:_706,name:"",value:"",mode:"outlet",searchtypeid:6,placeHolder:"Select Outlet",source_url:"/search/list_rest",constructor:function(){this._outletid=null;this._circulation=0;this._load_call_back=lang.hitch(this,this._load_call);this.show_parentbtn=false;},postCreate:function(){var _70f=[{label:" ",className:"grid-field-image-view",field:"prmax_outletgroupid",formatter:_708.outlet_type},{label:"Name",className:"standard",field:"outletname"},{label:"Contact",className:"standard",field:"contactname"},{label:"Source",className:"dgrid-column-status-small",field:"sourcename"},{label:"Id",className:"dgrid-column-accountnbr",field:"outletid"},{label:" ",name:"edit",className:"dgrid-column-type-boolean",field:"outletid",formatter:_708.format_row_ctrl},];this.model=new _70a(new _709({target:this.source_url,idProperty:"sessionsearchid"}));this.searchgrid=new Grid({columns:_70f,selectionMode:"single",store:this.model,sort:[{attribute:"outletname",descending:false}],query:_708.EMPTYGRID});this.select_search_view.set("content",this.searchgrid);this.searchgrid.on(".dgrid-cell:click",lang.hitch(this,this._on_cell_call));_70d.add(this.clearbtn.domNode,"prmaxhidden");_70d.add(this.parentbtn.domNode,"prmaxhidden");_70c.set(this.display,"innerHTML",this.placeHolder);this.inherited(arguments);this.selectdetails_ctrl.set("dialog",lang.hitch(this,this._show_details_function));},_show_details_function:function(_710){if(_710=="show"){this.selectdetails_dlg.show();}else{this.selectdetails_dlg.hide();}},_load_call:function(_711){if(_711.outlet){outletid=_711.outlet.outlet.outletid;sourcetypeid=_711.outlet.outlet.sourcetypeid;prmax_grouptypeid="";if(_711.outlet.outlet.outlettypeid==19){prmax_grouptypeid="freelance";}_70b.publish("LoadParentOutlet",outletid,prmax_grouptypeid,sourcetypeid);}this.refresh();this.searchbutton.cancel();},_setValueAttr:function(_712){this._outletid=_712;this._set_view();},_setDisplayvalueAttr:function(_713){if(_713==""||_713==null){_70c.set(this.display,"innerHTML",this.placeHolder);_70d.add(this.display,"PlaceHolder");}else{_70c.set(this.display,"innerHTML",_713);_70d.remove(this.display,"PlaceHolder");_70b.publish("/outlet/circulation",[this._circulation]);}},_setParentbtnvalueAttr:function(_714){if(_714){this.show_parentbtn=_714;}},_getValueAttr:function(){return this._outletid;},_clear:function(){this.clear();},_load_parent_outlet:function(){_707.post("/research/admin/outlets/research_outlet_edit_get",_708.make_params({data:{outletid:this._outletid}})).then(this._load_call_back);},_set_view:function(){if(this._outletid==null){_70d.add(this.clearbtn.domNode,"prmaxhidden");_70d.add(this.parentbtn.domNode,"prmaxhidden");_70d.add(this.display,"PlaceHolder");}else{_70d.remove(this.clearbtn.domNode,"prmaxhidden");_70d.remove(this.display,"PlaceHolder");if(this.show_parentbtn){_70d.remove(this.parentbtn.domNode,"prmaxhidden");}}},_select:function(){this.select_dlg.show();},clear:function(){this._outletid=null;_70c.set(this.display,"innerHTML",this.placeHolder);this._set_view();},_close:function(){this.select_dlg.hide();},_get_form:function(){var form=null;_70e.every(this.search_form_pane.getChildren(),function(_715){if(_715.formid!=null){form=_715;}});return form;},_search:function(){var form=this._get_form();form.setExtendedMode(false);var _716=form.get("value");_716["mode"]=1;_716["search_partial"]=2;_716["searchtypeid"]=this.searchtypeid;this.searchbutton.makeBusy();_707.post("/search/dosearch",_708.make_params({data:_716})).then(this._load_call_back);},refresh:function(){this.searchgrid.set("query",{searchtypeid:this.searchtypeid});},_clear_search:function(){var form=this._get_form();_70e.every(form.getDescendants(),function(_717){if(_717.Clear!=null){_717.Clear();}return true;});this.searchbutton.cancel();},_clear_search_results:function(){_707.post("/search/sessionclear",_708.make_params({data:{searchtypeid:this.searchtypeid}})).then(this._clear_all_call_back);},_search_update_event:function(data){this.refresh(data);},_on_cell_call:function(e){var cell=this.searchgrid.cell(e);if(cell.row==null||cell.row==undefined){return;}this._row=cell.row.data;this._outletid=this._row.outletid;this._circulation=this._row.circulation;if(cell.column.id==5){this.selectdetails_dlg.startup();this.selectdetails_dlg.show();this.selectdetails_ctrl.load(this._outletid,this.mode);}else{_70c.set(this.display,"innerHTML",this._row.outletname);this.select_dlg.hide();this._set_view();_70b.publish("/outlet/circulation",[this._circulation]);}},});});},"dgrid/Selection":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/Deferred","dojo/on","dojo/has","dojo/aspect","./List","dojo/has!touch?./util/touch","put-selector/put","dojo/query","dojo/_base/sniff"],function(_718,_719,_71a,on,has,_71b,List,_71c,put){has.add("dom-comparedocumentposition",function(_71d,doc,_71e){return !!_71e.compareDocumentPosition;});has.add("pointer",function(_71f){return "PointerEvent" in _71f?"pointer":"MSPointerEvent" in _71f?"MSPointer":false;});has.add("css-user-select",function(_720,doc,_721){var _722=_721.style,_723=["Khtml","O","ms","Moz","Webkit"],i=_723.length,name="userSelect";do{if(typeof _722[name]!=="undefined"){return name;}}while(i--&&(name=_723[i]+"UserSelect"));return false;});has.add("dom-selectstart",typeof document.onselectstart!=="undefined");var _724=has("mac")?"metaKey":"ctrlKey",_725=has("css-user-select"),_726=has("pointer"),_727=_726&&_726.slice(0,2)==="MS",_728=_726?_726+(_727?"Down":"down"):"mousedown",_729=_726?_726+(_727?"Up":"up"):"mouseup";function _72a(node,_72b){var _72c=node.unselectable=_72b?"on":"",_72d=node.getElementsByTagName("*"),i=_72d.length;while(--i){if(_72d[i].tagName==="INPUT"||_72d[i].tagName==="TEXTAREA"){continue;}_72d[i].unselectable=_72c;}};function _72e(grid,_72f){var node=grid.bodyNode,_730=_72f?"text":has("ff")<21?"-moz-none":"none";if(_725&&_725!=="msUserSelect"){node.style[_725]=_730;}else{if(has("dom-selectstart")){if(!_72f&&!grid._selectstartHandle){grid._selectstartHandle=on(node,"selectstart",function(evt){var tag=evt.target&&evt.target.tagName;if(tag!=="INPUT"&&tag!=="TEXTAREA"){evt.preventDefault();}});}else{if(_72f&&grid._selectstartHandle){grid._selectstartHandle.remove();delete grid._selectstartHandle;}}}else{_72a(node,!_72f);if(!_72f&&!grid._unselectableHandle){grid._unselectableHandle=_71b.after(grid,"renderRow",function(row){_72a(row,true);return row;});}else{if(_72f&&grid._unselectableHandle){grid._unselectableHandle.remove();delete grid._unselectableHandle;}}}}};return _719(null,{selectionDelegate:".dgrid-row",selectionEvents:_728+","+_729+",dgrid-cellfocusin",selectionTouchEvents:has("touch")?_71c.tap:null,deselectOnRefresh:true,allowSelectAll:false,selection:{},selectionMode:"extended",allowTextSelection:undefined,_selectionTargetType:"rows",create:function(){this.selection={};return this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this._initSelectionEvents();var _731=this.selectionMode;this.selectionMode="";this._setSelectionMode(_731);},destroy:function(){this.inherited(arguments);if(this._selectstartHandle){this._selectstartHandle.remove();}if(this._unselectableHandle){this._unselectableHandle.remove();}if(this._removeDeselectSignals){this._removeDeselectSignals();}},_setSelectionMode:function(mode){if(mode==this.selectionMode){return;}this.clearSelection();this.selectionMode=mode;this._selectionHandlerName="_"+mode+"SelectionHandler";this._setAllowTextSelection(this.allowTextSelection);},setSelectionMode:function(mode){_718.deprecated("setSelectionMode(...)","use set(\"selectionMode\", ...) instead","dgrid 0.4");this.set("selectionMode",mode);},_setAllowTextSelection:function(_732){if(typeof _732!=="undefined"){_72e(this,_732);}else{_72e(this,this.selectionMode==="none");}this.allowTextSelection=_732;},_handleSelect:function(_733,_734){if(!this[this._selectionHandlerName]||!this.allowSelect(this.row(_734))||(_733.type==="dgrid-cellfocusin"&&_733.parentType==="mousedown")||(_733.type===_729&&_734!=this._waitForMouseUp)){return;}this._waitForMouseUp=null;this._selectionTriggerEvent=_733;if(!_733.keyCode||!_733.ctrlKey||_733.keyCode==32){if(!_733.shiftKey&&_733.type===_728&&this.isSelected(_734)){this._waitForMouseUp=_734;}else{this[this._selectionHandlerName](_733,_734);}}this._selectionTriggerEvent=null;},_singleSelectionHandler:function(_735,_736){var _737=_735.keyCode?_735.ctrlKey:_735[_724];if(this._lastSelected===_736){this.select(_736,null,!_737||!this.isSelected(_736));}else{this.clearSelection();this.select(_736);this._lastSelected=_736;}},_multipleSelectionHandler:function(_738,_739){var _73a=this._lastSelected,_73b=_738.keyCode?_738.ctrlKey:_738[_724],_73c;if(!_738.shiftKey){_73c=_73b?null:true;_73a=null;}this.select(_739,_73a,_73c);if(!_73a){this._lastSelected=_739;}},_extendedSelectionHandler:function(_73d,_73e){if(_73d.button===2?!this.isSelected(_73e):!(_73d.keyCode?_73d.ctrlKey:_73d[_724])){this.clearSelection(null,true);}this._multipleSelectionHandler(_73d,_73e);},_toggleSelectionHandler:function(_73f,_740){this.select(_740,null,null);},_initSelectionEvents:function(){var grid=this,_741=this.contentNode,_742=this.selectionDelegate;this._selectionEventQueues={deselect:[],select:[]};if(has("touch")&&!has("pointer")&&this.selectionTouchEvents){on(_741,_71c.selector(_742,this.selectionTouchEvents),function(evt){grid._handleSelect(evt,this);grid._ignoreMouseSelect=this;});on(_741,on.selector(_742,this.selectionEvents),function(_743){if(grid._ignoreMouseSelect!==this){grid._handleSelect(_743,this);}else{if(_743.type===_729){grid._ignoreMouseSelect=null;}}});}else{on(_741,on.selector(_742,this.selectionEvents),function(_744){grid._handleSelect(_744,this);});}if(this.addKeyHandler){this.addKeyHandler(32,function(_745){grid._handleSelect(_745,_745.target);});}if(this.allowSelectAll){this.on("keydown",function(_746){if(_746[_724]&&_746.keyCode==65&&!/\bdgrid-input\b/.test(_746.target.className)){_746.preventDefault();grid[grid.allSelected?"clearSelection":"selectAll"]();}});}if(this._setStore){_71b.after(this,"_setStore",function(){grid._updateDeselectionAspect();});}this._updateDeselectionAspect();},_updateDeselectionAspect:function(){var self=this,_747=this.store,_748,_749;function _74a(_74b,_74c,_74d){var id=_74c||(_74b&&_74b[self.idProperty||"id"]);if(id!=null){var row=self.row(id),_74e=row&&self.selection[row.id];if(_74e){self[_74d](row,null,_74e);}}};if(this._removeDeselectSignals){this._removeDeselectSignals();}if(_747&&_747.notify){_748=_71b.before(_747,"notify",function(_74f,_750){if(!_74f){_74a(_74f,_750,"deselect");}});_749=_71b.after(_747,"notify",function(_751,_752){_74a(_751,_752,"select");},true);this._removeDeselectSignals=function(){_748.remove();_749.remove();};}else{_748=_71b.before(this,"removeRow",function(_753,_754){var row;if(!_754){row=this.row(_753);if(row&&(row.id in this.selection)){this.deselect(row);}}});this._removeDeselectSignals=function(){_748.remove();};}},allowSelect:function(row){return true;},_fireSelectionEvent:function(type){var _755=this._selectionEventQueues[type],_756=this._selectionTriggerEvent,_757;_757={bubbles:true,grid:this};if(_756){_757.parentType=_756.type;}_757[this._selectionTargetType]=_755;on.emit(this.contentNode,"dgrid-"+type,_757);this._selectionEventQueues[type]=[];},_fireSelectionEvents:function(){var _758=this._selectionEventQueues,type;for(type in _758){if(_758[type].length){this._fireSelectionEvent(type);}}},_select:function(row,_759,_75a){var _75b,_75c,_75d,_75e,_75f;if(typeof _75a==="undefined"){_75a=true;}if(!row.element){row=this.row(row);}if(_75a===false||this.allowSelect(row)){_75b=this.selection;_75c=!!_75b[row.id];if(_75a===null){_75a=!_75c;}_75d=row.element;if(!_75a&&!this.allSelected){delete this.selection[row.id];}else{_75b[row.id]=_75a;}if(_75d){if(_75a){put(_75d,".dgrid-selected"+(this.addUiClasses?".ui-state-active":""));}else{put(_75d,"!dgrid-selected!ui-state-active");}}if(_75a!==_75c&&_75d){this._selectionEventQueues[(_75a?"":"de")+"select"].push(row);}if(_759){if(!_759.element){_759=this.row(_759);}if(!_759){this._lastSelected=_75d;return;}_75e=_759.element;if(_75e){_75f=this._determineSelectionDirection(_75d,_75e);if(!_75f){_75e=document.getElementById(_75e.id);_75f=this._determineSelectionDirection(_75d,_75e);}while(row.element!=_75e&&(row=this[_75f](row))){this._select(row,null,_75a);}}}}},_determineSelectionDirection:has("dom-comparedocumentposition")?function(from,to){var _760=to.compareDocumentPosition(from);if(_760&1){return false;}return _760===2?"down":"up";}:function(from,to){if(to.sourceIndex<1){return false;}return to.sourceIndex>from.sourceIndex?"down":"up";},select:function(row,_761,_762){this._select(row,_761,_762);this._fireSelectionEvents();},deselect:function(row,_763){this.select(row,_763,false);},clearSelection:function(_764,_765){this.allSelected=false;for(var id in this.selection){if(_764!==id){this._select(id,null,false);}}if(!_765){this._lastSelected=null;}this._fireSelectionEvents();},selectAll:function(){this.allSelected=true;this.selection={};for(var i in this._rowIdToObject){var row=this.row(this._rowIdToObject[i]);this._select(row.id,null,true);}this._fireSelectionEvents();},isSelected:function(_766){if(typeof _766==="undefined"||_766===null){return false;}if(!_766.element){_766=this.row(_766);}return (_766.id in this.selection)?!!this.selection[_766.id]:this.allSelected&&(!_766.data||this.allowSelect(_766));},refresh:function(){if(this.deselectOnRefresh){this.clearSelection();}this._lastSelected=null;return this.inherited(arguments);},renderArray:function(){var grid=this,rows=this.inherited(arguments);_71a.when(rows,function(rows){var _767=grid.selection,i,row,_768;for(i=0;i<rows.length;i++){row=grid.row(rows[i]);_768=row.id in _767?_767[row.id]:grid.allSelected;if(_768){grid._select(row,null,_768);}}grid._fireSelectionEvents();});return rows;}});});},"dijit/form/TextBox":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-style","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/sniff","./_FormValueWidget","./_TextBoxMixin","dojo/text!./templates/TextBox.html","../main"],function(_769,_76a,_76b,_76c,lang,on,has,_76d,_76e,_76f,_770){var _771=_769("dijit.form.TextBox"+(has("dojo-bidi")?"_NoBidi":""),[_76d,_76e],{templateString:_76f,_singleNodeTemplate:"<input class=\"dijit dijitReset dijitLeft dijitInputField\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" type=\"${type}\" ${!nameAttrSetting} />",_buttonInputDisabled:has("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){var type=this.type.toLowerCase();if(this.templateString&&this.templateString.toLowerCase()=="input"||((type=="hidden"||type=="file")&&this.templateString==this.constructor.prototype.templateString)){this.templateString=this._singleNodeTemplate;}this.inherited(arguments);},postCreate:function(){this.inherited(arguments);if(has("ie")<9){this.defer(function(){try{var s=_76b.getComputedStyle(this.domNode);if(s){var ff=s.fontFamily;if(ff){var _772=this.domNode.getElementsByTagName("INPUT");if(_772){for(var i=0;i<_772.length;i++){_772[i].style.fontFamily=ff;}}}}}catch(e){}});}},_setPlaceHolderAttr:function(v){this._set("placeHolder",v);if(!this._phspan){this._attachPoints.push("_phspan");this._phspan=_76a.create("span",{className:"dijitPlaceHolder dijitInputField"},this.textbox,"after");this.own(on(this._phspan,"mousedown",function(evt){evt.preventDefault();}),on(this._phspan,"touchend, pointerup, MSPointerUp",lang.hitch(this,function(){this.focus();})));}this._phspan.innerHTML="";this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(v));this._updatePlaceHolder();},_onInput:function(evt){this.inherited(arguments);this._updatePlaceHolder();},_updatePlaceHolder:function(){if(this._phspan){this._phspan.style.display=(this.placeHolder&&!this.textbox.value)?"":"none";}},_setValueAttr:function(_773,_774,_775){this.inherited(arguments);this._updatePlaceHolder();},getDisplayedValue:function(){_76c.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.","","2.0");return this.get("displayedValue");},setDisplayedValue:function(_776){_76c.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",_776);},_onBlur:function(e){if(this.disabled){return;}this.inherited(arguments);this._updatePlaceHolder();if(has("mozilla")){if(this.selectOnClick){this.textbox.selectionStart=this.textbox.selectionEnd=undefined;}}},_onFocus:function(by){if(this.disabled||this.readOnly){return;}this.inherited(arguments);this._updatePlaceHolder();}});if(has("ie")<9){_771.prototype._isTextSelected=function(){var _777=this.ownerDocument.selection.createRange();var _778=_777.parentElement();return _778==this.textbox&&_777.text.length>0;};_770._setSelectionRange=_76e._setSelectionRange=function(_779,_77a,stop){if(_779.createTextRange){var r=_779.createTextRange();r.collapse(true);r.moveStart("character",-99999);r.moveStart("character",_77a);r.moveEnd("character",stop-_77a);r.select();}};}if(has("dojo-bidi")){_771=_769("dijit.form.TextBox",_771,{_setPlaceHolderAttr:function(v){this.inherited(arguments);this.applyTextDir(this._phspan);}});}return _771;});},"dijit/form/_DateTimeTextBox":function(){define(["dojo/date","dojo/date/locale","dojo/date/stamp","dojo/_base/declare","dojo/_base/lang","./RangeBoundTextBox","../_HasDropDown","dojo/text!./templates/DropDownBox.html"],function(date,_77b,_77c,_77d,lang,_77e,_77f,_780){new Date("X");var _781=_77d("dijit.form._DateTimeTextBox",[_77e,_77f],{templateString:_780,hasDownArrow:true,cssStateNodes:{"_buttonNode":"dijitDownArrowButton"},_unboundedConstraints:{},pattern:_77b.regexp,datePackage:"",postMixInProperties:function(){this.inherited(arguments);this._set("type","text");},compare:function(val1,val2){var _782=this._isInvalidDate(val1);var _783=this._isInvalidDate(val2);if(_782||_783){return (_782&&_783)?0:(!_782?1:-1);}var _784=this.format(val1,this._unboundedConstraints),_785=this.format(val2,this._unboundedConstraints),_786=this.parse(_784,this._unboundedConstraints),_787=this.parse(_785,this._unboundedConstraints);return _784==_785?0:date.compare(_786,_787,this._selector);},autoWidth:true,format:function(_788,_789){if(!_788){return "";}return this.dateLocaleModule.format(_788,_789);},"parse":function(_78a,_78b){return this.dateLocaleModule.parse(_78a,_78b)||(this._isEmpty(_78a)?null:undefined);},serialize:function(val,_78c){if(val.toGregorian){val=val.toGregorian();}return _77c.toISOString(val,_78c);},dropDownDefaultValue:new Date(),value:new Date(""),_blankValue:null,popupClass:"",_selector:"",constructor:function(_78d){_78d=_78d||{};this.dateModule=_78d.datePackage?lang.getObject(_78d.datePackage,false):date;this.dateClassObj=this.dateModule.Date||Date;if(!(this.dateClassObj instanceof Date)){this.value=new this.dateClassObj(this.value);}this.dateLocaleModule=_78d.datePackage?lang.getObject(_78d.datePackage+".locale",false):_77b;this._set("pattern",this.dateLocaleModule.regexp);this._invalidDate=this.constructor.prototype.value.toString();},buildRendering:function(){this.inherited(arguments);if(!this.hasDownArrow){this._buttonNode.style.display="none";}if(!this.hasDownArrow){this._buttonNode=this.domNode;this.baseClass+=" dijitComboBoxOpenOnClick";}},_setConstraintsAttr:function(_78e){_78e.selector=this._selector;_78e.fullYear=true;var _78f=_77c.fromISOString;if(typeof _78e.min=="string"){_78e.min=_78f(_78e.min);if(!(this.dateClassObj instanceof Date)){_78e.min=new this.dateClassObj(_78e.min);}}if(typeof _78e.max=="string"){_78e.max=_78f(_78e.max);if(!(this.dateClassObj instanceof Date)){_78e.max=new this.dateClassObj(_78e.max);}}this.inherited(arguments);this._unboundedConstraints=lang.mixin({},this.constraints,{min:null,max:null});},_isInvalidDate:function(_790){return !_790||isNaN(_790)||typeof _790!="object"||_790.toString()==this._invalidDate;},_setValueAttr:function(_791,_792,_793){if(_791!==undefined){if(typeof _791=="string"){_791=_77c.fromISOString(_791);}if(this._isInvalidDate(_791)){_791=null;}if(_791 instanceof Date&&!(this.dateClassObj instanceof Date)){_791=new this.dateClassObj(_791);}}this.inherited(arguments,[_791,_792,_793]);if(this.value instanceof Date){this.filterString="";}if(_792!==false&&this.dropDown){this.dropDown.set("value",_791,false);}},_set:function(attr,_794){if(attr=="value"){if(_794 instanceof Date&&!(this.dateClassObj instanceof Date)){_794=new this.dateClassObj(_794);}var _795=this._get("value");if(_795 instanceof this.dateClassObj&&this.compare(_794,_795)==0){return;}}this.inherited(arguments);},_setDropDownDefaultValueAttr:function(val){if(this._isInvalidDate(val)){val=new this.dateClassObj();}this._set("dropDownDefaultValue",val);},openDropDown:function(_796){if(this.dropDown){this.dropDown.destroy();}var _797=lang.isString(this.popupClass)?lang.getObject(this.popupClass,false):this.popupClass,_798=this,_799=this.get("value");this.dropDown=new _797({onChange:function(_79a){_798.set("value",_79a,true);},id:this.id+"_popup",dir:_798.dir,lang:_798.lang,value:_799,textDir:_798.textDir,currentFocus:!this._isInvalidDate(_799)?_799:this.dropDownDefaultValue,constraints:_798.constraints,filterString:_798.filterString,datePackage:_798.datePackage,isDisabledDate:function(date){return !_798.rangeCheck(date,_798.constraints);}});this.inherited(arguments);},_getDisplayedValueAttr:function(){return this.textbox.value;},_setDisplayedValueAttr:function(_79b,_79c){this._setValueAttr(this.parse(_79b,this.constraints),_79c,_79b);}});return _781;});},"prcommon2/clippings/dashboardsettings":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../clippings/templates/dashboardsettings.html","dijit/layout/ContentPane","dijit/layout/BorderContainer","ttl/utilities2","dojo/topic","dojo/request","dojox/data/JsonRestStore","ttl/store/JsonRest","dojo/store/Observable","dojo/_base/lang","dojo/dom-attr","dojo/data/ItemFileReadStore","dojo/data/ItemFileWriteStore","dojo/dom-class","dojo/dom-construct","dijit/form/ValidationTextBox","dijit/form/DateTextBox","dijit/form/NumberTextBox","dijit/form/CurrencyTextBox","dijit/form/Textarea","dijit/form/Select","dojox/validate/regexp","prcommon2/outlet/OutletSelect","prcommon2/date/daterange","dijit/form/ComboBox"],function(_79d,_79e,_79f,_7a0,_7a1,_7a2,_7a3,_7a4,_7a5,_7a6,_7a7,lang,_7a8,_7a9,_7aa,_7ab,_7ac){return _79d("prcommon2.clippings.dashboardsettings",[_79e,_7a1],{templateString:_79f,mode:"add",gutters:false,constructor:function(){this._updatesettings_call_back=lang.hitch(this,this._updatesettings_call);this._load_call_back=lang.hitch(this,this._load_call);this._questions=new _7a5({target:"/clippings/analyse/get_global_list",idAttribute:"id"});this._clients=new _7a5({target:"/clients/rest_combo",idAttribute:"id"});this._issues=new _7a5({target:"/crm/issues/issues_list_rest",idAttribute:"id"});this._chartview=new _7a9({url:"/common/lookups?searchtype=chartview"});this._dateranges=new _7a9({url:"/common/lookups?searchtype=dateranges"});this._groupby=new _7aa({url:"/common/lookups?searchtype=groupby",clearOnClose:true,urlPreventCache:true,nocallback:true});this._dashboardsettingsmode=new _7a9({url:"/common/lookups?searchtype=dashboardsettingsmode"});this._dashboardsettingsstandard=new _7a9({url:"/common/lookups?searchtype=dashboardsettingsstandard"});this._dashboardsettingsstandardsearchby=new _7aa({url:"/common/lookups?searchtype=dashboardsettingsstandardsearchby",clearOnClose:true,urlPreventCache:true,nocallback:true});this._change_client_enabled=true;this._windowid=null;this._customerid=PRMAX.utils.settings.cid;},postCreate:function(){this.chartviewid.set("store",this._chartview);this.daterangeid.set("store",this._dateranges);this.groupbyid.set("store",this._groupby);this.dashboardsettingsmodeid.set("store",this._dashboardsettingsmode);this.dashboardsettingsstandardid.set("store",this._dashboardsettingsstandard);this.dashboardsettingsstandardsearchbyid.set("store",this._dashboardsettingsstandardsearchby);this.questionid.set("store",this._questions);this.clientid.set("store",this._clients);this.issueid.set("store",this._issues);_7a8.set(this.issue_label_1,"innerHTML",PRMAX.utils.settings.issue_description);_7a8.set(this.client_label_1,"innerHTML",PRMAX.utils.settings.client_name);this.chartviewid.set("value",1);this.daterangeid.set("value",1);this.groupbyid.set("value",1);this.dashboardsettingsmodeid.set("value",1);this.dashboardsettingsstandardid.set("value",1);this.dashboardsettingsstandardsearchbyid.set("value",1);this.clientid.set("value",null);this.issueid.set("value",null);this.inherited(arguments);},load:function(_7ad,_7ae){this._customerid=_7ad;this._windowid=_7ae;if(this._dashboardsettingsstandardsearchby._itemsByIdentity[3]&&this._dashboardsettingsstandardsearchby._itemsByIdentity[3]!=undefined){this._dashboardsettingsstandardsearchby.deleteItem(this._dashboardsettingsstandardsearchby._itemsByIdentity[3]);}if(_7ae==1){_7a8.set(this.winbtn1,"label","Selected");_7a8.set(this.winbtn2,"label","Window 2");_7a8.set(this.winbtn3,"label","Window 3");_7a8.set(this.winbtn4,"label","Window 4");_7a8.set(this.winbtn5,"label","Window 5");_7a8.set(this.winbtn6,"label","Window 6");}if(_7ae==2){_7a8.set(this.winbtn2,"label","Selected");}if(_7ae==3){_7a8.set(this.winbtn3,"label","Selected");}if(_7ae==4){_7a8.set(this.winbtn4,"label","Selected");}if(_7ae==5){_7a8.set(this.winbtn5,"label","Selected");}if(_7ae==6){_7a8.set(this.winbtn6,"label","Selected");}_7a4.post("/clippings/dashboardsettings/get_for_edit",_7a2.make_params({data:{customerid:this._customerid,windowid:this._windowid}})).then(this._load_call_back);},_load_call:function(_7af){if(_7af.success=="OK"){this._windowid=_7af.data.windowid;this.dashboardsettingsmodeid.set("value",_7af.data.dashboardsettingsmodeid);if(_7af.data.dashboardsettingsmodeid==1){_7ab.add(this.questionlabel,"prmaxhidden");_7ab.add(this.questionid.domNode,"prmaxhidden");_7ab.remove(this.dashboardsettingsstandardlabel,"prmaxhidden");_7ab.remove(this.dashboardsettingsstandardid.domNode,"prmaxhidden");_7ab.remove(this.dashboardsettingsstandardsearchbylabel,"prmaxhidden");_7ab.remove(this.dashboardsettingsstandardsearchbyid.domNode,"prmaxhidden");}else{if(_7af.data.dashboardsettingsmodeid==2){_7ab.add(this.dashboardsettingsstandardlabel,"prmaxhidden");_7ab.add(this.dashboardsettingsstandardid.domNode,"prmaxhidden");_7ab.add(this.dashboardsettingsstandardsearchbylabel,"prmaxhidden");_7ab.add(this.dashboardsettingsstandardsearchbyid.domNode,"prmaxhidden");_7ab.remove(this.questionlabel,"prmaxhidden");_7ab.remove(this.questionid.domNode,"prmaxhidden");}}this.dashboardsettingsstandardid.set("value",_7af.data.dashboardsettingsstandardid);this.dashboardsettingsstandardsearchbyid.set("value",_7af.data.dashboardsettingsstandardsearchbyid);this.questionid.set("value",_7af.data.questionid);this._change_client_enabled=false;this.by_client.set("value",_7af.data.by_client);if(_7af.data.by_client==true){_7ab.remove(this.client_label_1,"prmaxhidden");_7ab.remove(this.clientid.domNode,"prmaxhidden");}else{_7ab.add(this.client_label_1,"prmaxhidden");_7ab.add(this.clientid.domNode,"prmaxhidden");}this.clientid.set("value",_7af.data.clientid);this.by_issue.set("value",_7af.data.by_issue);if(_7af.data.by_issue==true){_7ab.remove(this.issue_label_1,"prmaxhidden");_7ab.remove(this.issueid.domNode,"prmaxhidden");}else{_7ab.add(this.issue_label_1,"prmaxhidden");_7ab.add(this.issueid.domNode,"prmaxhidden");}this.issueid.set("value",_7af.data.issueid);this.chartviewid.set("value",_7af.data.chartviewid);this.daterangeid.set("value",_7af.data.daterangeid);this.groupbyid.set("value",_7af.data.groupbyid);if(_7af.data.chartviewid==1){_7ab.add(this.groupby_label,"prmaxhidden");_7ab.add(this.groupbyid.domNode,"prmaxhidden");}else{_7ab.remove(this.groupby_label,"prmaxhidden");_7ab.remove(this.groupbyid.domNode,"prmaxhidden");this._change_daterange();}}else{alert("Problem");}},_clear:function(){this.clear();},clear:function(){this.dashboardsettingsmodeid.set("value",1);this.dashboardsettingsstandardid.set("value",null);this.dashboardsettingsstandardsearchbyid.set("value",null);this.questionid.set("value",null);this.chartviewid.set("value",1);this.daterangeid.set("value",1);this.groupbyid.set("value",1);_7ab.add(this.groupby_label,"prmaxhidden");_7ab.add(this.groupbyid.domNode,"prmaxhidden");this.by_client.set("checked",false);this.by_issue.set("checked",false);_7ab.add(this.client_label_1,"prmaxhidden");_7ab.add(this.clientid.domNode,"prmaxhidden");_7ab.add(this.issue_label_1,"prmaxhidden");_7ab.add(this.issueid.domNode,"prmaxhidden");this._change_client_enabled=false;this.clientid.set("value",null);this.issueid.set("value",null);this._change_client_enabled=true;this.savesettingsbtn.cancel();},_client_change:function(){var _7b0=this.clientid.get("value");if(_7b0==undefined){_7b0=-1;}this.issueid.set("query",{clientid:_7b0});if(this._change_client_enabled==true){this.issueid.set("value",null);}this._change_client_enabled=true;},_save_settings:function(){if(_7a2.form_validator(this.formnode)==false){alert("Please Enter Details");this.savesettingsbtn.cancel();return false;}var _7b1=this.formnode.get("value");_7b1["windowid"]=this._windowid;_7b1["dashboardsettingsstandardid"]=null;_7b1["dashboardsettingsstandardsearchbyid"]=null;_7b1["questionid"]=null;_7b1["clientid"]=null;_7b1["issueid"]=null;_7b1["by_client"]=false;_7b1["by_issue"]=false;_7b1["customerid"]=this._customerid;_7b1["dashboardsettingsmodeid"]=this.dashboardsettingsmodeid.get("value");if(this.dashboardsettingsmodeid==1){if(this.dashboardsettingsstandardid.get("value")==""){this.dashboardsettingsstandardid.set("value")=1;}if(this.dashboardsettingsstandardsearchbyid.get("value")==""){this.dashboardsettingsstandardsearchbyid.set("value")=1;}_7b1["dashboardsettingsstandardid"]=this.dashboardsettingsstandardid.get("value");_7b1["dashboardsettingsstandardsearchbyid"]=this.dashboardsettingsstandardsearchbyid.get("value");if(this.by_client.checked&&(this.clientid.get("value")==-1||this.clientid.get("value")==null||this.clientid.get("value")=="")){alert("Please Select a Client");this.savesettingsbtn.cancel();return false;}if(this.by_issue.checked&&(this.issueid.get("value")==-1||this.issueid.get("value")==null||this.issueid.get("value")=="")){alert("Please Select an Issue");this.savesettingsbtn.cancel();return false;}}else{if(this.dashboardsettingsmodeid==2){_7b1["questionid"]=this.questionid.get("value");_7b1["questiontypeid"]=this.questionid.item.typeid;}}if(this.by_client.checked){_7b1["by_client"]=true;_7b1["clientid"]=this.clientid.get("value");}if(this.by_issue.checked){_7b1["by_issue"]=true;_7b1["issueid"]=this.issueid.get("value");}_7b1["chartviewid"]=this.chartviewid.get("value");_7b1["daterangeid"]=this.daterangeid.get("value");_7b1["groupbyid"]=this.groupbyid.get("value");this.savesettingsbtn.makeBusy();_7a4.post("/clippings/dashboardsettings/dashboardsettings_update",_7a2.make_params({data:_7b1})).then(this._updatesettings_call_back);},_updatesettings_call:function(_7b2){if(_7b2.success=="OK"){alert("Settings saved");this.savesettingsbtn.cancel();}else{alert("Problem saving settings");}},_win1:function(){this._windowid=1;this.load(this._customerid,this._windowid);_7a8.set(this.winbtn1,"label","Selected");_7a8.set(this.winbtn2,"label","Window 2");_7a8.set(this.winbtn3,"label","Window 3");_7a8.set(this.winbtn4,"label","Window 4");_7a8.set(this.winbtn5,"label","Window 5");_7a8.set(this.winbtn6,"label","Window 6");},_win2:function(){this._windowid=2;this.load(this._customerid,this._windowid);_7a8.set(this.winbtn2,"label","Selected");_7a8.set(this.winbtn1,"label","Window 1");_7a8.set(this.winbtn3,"label","Window 3");_7a8.set(this.winbtn4,"label","Window 4");_7a8.set(this.winbtn5,"label","Window 5");_7a8.set(this.winbtn6,"label","Window 6");},_win3:function(){this._windowid=3;this.load(this._customerid,this._windowid);_7a8.set(this.winbtn3,"label","Selected");_7a8.set(this.winbtn2,"label","Window 2");_7a8.set(this.winbtn1,"label","Window 1");_7a8.set(this.winbtn4,"label","Window 4");_7a8.set(this.winbtn5,"label","Window 5");_7a8.set(this.winbtn6,"label","Window 6");},_win4:function(){this._windowid=4;this.load(this._customerid,this._windowid);_7a8.set(this.winbtn4,"label","Selected");_7a8.set(this.winbtn2,"label","Window 2");_7a8.set(this.winbtn3,"label","Window 3");_7a8.set(this.winbtn1,"label","Window 1");_7a8.set(this.winbtn5,"label","Window 5");_7a8.set(this.winbtn6,"label","Window 6");},_win5:function(){this._windowid=5;this.load(this._customerid,this._windowid);_7a8.set(this.winbtn5,"label","Selected");_7a8.set(this.winbtn2,"label","Window 2");_7a8.set(this.winbtn3,"label","Window 3");_7a8.set(this.winbtn4,"label","Window 4");_7a8.set(this.winbtn1,"label","Window 1");_7a8.set(this.winbtn6,"label","Window 6");},_win6:function(){this._windowid=6;this.load(this._customerid,this._windowid);_7a8.set(this.winbtn6,"label","Selected");_7a8.set(this.winbtn2,"label","Window 2");_7a8.set(this.winbtn3,"label","Window 3");_7a8.set(this.winbtn4,"label","Window 4");_7a8.set(this.winbtn5,"label","Window 5");_7a8.set(this.winbtn1,"label","Window 1");},_change_mode:function(){if(this.dashboardsettingsmodeid.get("value")==1){_7ab.remove(this.dashboardsettingsstandardlabel,"prmaxhidden");_7ab.remove(this.dashboardsettingsstandardid.domNode,"prmaxhidden");_7ab.remove(this.dashboardsettingsstandardsearchbylabel,"prmaxhidden");_7ab.remove(this.dashboardsettingsstandardsearchbyid.domNode,"prmaxhidden");_7ab.add(this.questionlabel,"prmaxhidden");_7ab.add(this.questionid.domNode,"prmaxhidden");}else{_7ab.add(this.dashboardsettingsstandardlabel,"prmaxhidden");_7ab.add(this.dashboardsettingsstandardid.domNode,"prmaxhidden");_7ab.add(this.dashboardsettingsstandardsearchbylabel,"prmaxhidden");_7ab.add(this.dashboardsettingsstandardsearchbyid.domNode,"prmaxhidden");_7ab.remove(this.questionlabel,"prmaxhidden");_7ab.remove(this.questionid.domNode,"prmaxhidden");}},_by_client:function(){if(this.by_client.checked){_7ab.remove(this.client_label_1,"prmaxhidden");_7ab.remove(this.clientid.domNode,"prmaxhidden");}else{_7ab.add(this.client_label_1,"prmaxhidden");_7ab.add(this.clientid.domNode,"prmaxhidden");}},_by_issue:function(){if(this.by_issue.checked){_7ab.remove(this.issue_label_1,"prmaxhidden");_7ab.remove(this.issueid.domNode,"prmaxhidden");}else{_7ab.add(this.issue_label_1,"prmaxhidden");_7ab.add(this.issueid.domNode,"prmaxhidden");}},_chartview_change:function(){if(this.chartviewid.get("value")==1){_7ab.add(this.groupby_label,"prmaxhidden");_7ab.add(this.groupbyid.domNode,"prmaxhidden");}else{_7ab.remove(this.groupby_label,"prmaxhidden");_7ab.remove(this.groupbyid.domNode,"prmaxhidden");}},_change_daterange:function(){if(this.daterangeid.get("value")>=6){if(this._groupby._itemsByIdentity[1]&&this._groupby._itemsByIdentity[1]!=undefined){this._groupby.deleteItem(this._groupby._itemsByIdentity[1]);}this._groupby.save();if(this.groupbyid.get("value")==1){this.groupbyid.set("value",2);}}else{if(this.daterangeid.get("value")<6){this._groupby.close();this.groupbyid.set("query",{});}}}});});},"dijit/layout/StackContainer":function(){define(["dojo/_base/array","dojo/cookie","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/has","dojo/_base/lang","dojo/on","dojo/ready","dojo/topic","dojo/when","../registry","../_WidgetBase","./_LayoutWidget"],function(_7b3,_7b4,_7b5,_7b6,_7b7,has,lang,on,_7b8,_7b9,when,_7ba,_7bb,_7bc){if(has("dijit-legacy-requires")){_7b8(0,function(){var _7bd=["dijit/layout/StackController"];require(_7bd);});}var _7be=_7b5("dijit.layout.StackContainer",_7bc,{doLayout:true,persist:false,baseClass:"dijitStackContainer",buildRendering:function(){this.inherited(arguments);_7b6.add(this.domNode,"dijitLayoutContainer");},postCreate:function(){this.inherited(arguments);this.own(on(this.domNode,"keydown",lang.hitch(this,"_onKeyDown")));},startup:function(){if(this._started){return;}var _7bf=this.getChildren();_7b3.forEach(_7bf,this._setupChild,this);if(this.persist){this.selectedChildWidget=_7ba.byId(_7b4(this.id+"_selectedChild"));}else{_7b3.some(_7bf,function(_7c0){if(_7c0.selected){this.selectedChildWidget=_7c0;}return _7c0.selected;},this);}var _7c1=this.selectedChildWidget;if(!_7c1&&_7bf[0]){_7c1=this.selectedChildWidget=_7bf[0];_7c1.selected=true;}_7b9.publish(this.id+"-startup",{children:_7bf,selected:_7c1,textDir:this.textDir});this.inherited(arguments);},resize:function(){if(!this._hasBeenShown){this._hasBeenShown=true;var _7c2=this.selectedChildWidget;if(_7c2){this._showChild(_7c2);}}this.inherited(arguments);},_setupChild:function(_7c3){var _7c4=_7c3.domNode,_7c5=_7b7.place("<div role='tabpanel' class='"+this.baseClass+"ChildWrapper dijitHidden'>",_7c3.domNode,"replace"),_7c6=_7c3["aria-label"]||_7c3.title||_7c3.label;if(_7c6){_7c5.setAttribute("aria-label",_7c6);}_7b7.place(_7c4,_7c5);_7c3._wrapper=_7c5;this.inherited(arguments);if(_7c4.style.display=="none"){_7c4.style.display="block";}_7c3.domNode.removeAttribute("title");},addChild:function(_7c7,_7c8){this.inherited(arguments);if(this._started){_7b9.publish(this.id+"-addChild",_7c7,_7c8);this.layout();if(!this.selectedChildWidget){this.selectChild(_7c7);}}},removeChild:function(page){var idx=_7b3.indexOf(this.getChildren(),page);this.inherited(arguments);_7b7.destroy(page._wrapper);delete page._wrapper;if(this._started){_7b9.publish(this.id+"-removeChild",page);}if(this._descendantsBeingDestroyed){return;}if(this.selectedChildWidget===page){this.selectedChildWidget=undefined;if(this._started){var _7c9=this.getChildren();if(_7c9.length){this.selectChild(_7c9[Math.max(idx-1,0)]);}}}if(this._started){this.layout();}},selectChild:function(page,_7ca){var d;page=_7ba.byId(page);if(this.selectedChildWidget!=page){d=this._transition(page,this.selectedChildWidget,_7ca);this._set("selectedChildWidget",page);_7b9.publish(this.id+"-selectChild",page,this._focused);if(this.persist){_7b4(this.id+"_selectedChild",this.selectedChildWidget.id);}}return when(d||true);},_transition:function(_7cb,_7cc){if(_7cc){this._hideChild(_7cc);}var d=this._showChild(_7cb);if(_7cb.resize){if(this.doLayout){_7cb.resize(this._containerContentBox||this._contentBox);}else{_7cb.resize();}}return d;},_adjacent:function(_7cd){var _7ce=this.getChildren();var _7cf=_7b3.indexOf(_7ce,this.selectedChildWidget);_7cf+=_7cd?1:_7ce.length-1;return _7ce[_7cf%_7ce.length];},forward:function(){return this.selectChild(this._adjacent(true),true);},back:function(){return this.selectChild(this._adjacent(false),true);},_onKeyDown:function(e){_7b9.publish(this.id+"-containerKeyDown",{e:e,page:this});},layout:function(){var _7d0=this.selectedChildWidget;if(_7d0&&_7d0.resize){if(this.doLayout){_7d0.resize(this._containerContentBox||this._contentBox);}else{_7d0.resize();}}},_showChild:function(page){var _7d1=this.getChildren();page.isFirstChild=(page==_7d1[0]);page.isLastChild=(page==_7d1[_7d1.length-1]);page._set("selected",true);if(page._wrapper){_7b6.replace(page._wrapper,"dijitVisible","dijitHidden");}return (page._onShow&&page._onShow())||true;},_hideChild:function(page){page._set("selected",false);if(page._wrapper){_7b6.replace(page._wrapper,"dijitHidden","dijitVisible");}page.onHide&&page.onHide();},closeChild:function(page){var _7d2=!page.onClose||page.onClose(this,page);if(_7d2){this.removeChild(page);page.destroyRecursive();}},destroyDescendants:function(_7d3){this._descendantsBeingDestroyed=true;this.selectedChildWidget=undefined;_7b3.forEach(this.getChildren(),function(_7d4){if(!_7d3){this.removeChild(_7d4);}_7d4.destroyRecursive(_7d3);},this);this._descendantsBeingDestroyed=false;}});_7be.ChildWidgetProperties={selected:false,disabled:false,closable:false,iconClass:"dijitNoIcon",showTitle:true};lang.extend(_7bb,_7be.ChildWidgetProperties);return _7be;});},"dijit/form/_RadioButtonMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/_base/lang","dojo/query!css2","../registry"],function(_7d5,_7d6,_7d7,lang,_7d8,_7d9){return _7d6("dijit.form._RadioButtonMixin",null,{type:"radio",_getRelatedWidgets:function(){var ary=[];_7d8("input[type=radio]",this.focusNode.form||this.ownerDocument).forEach(lang.hitch(this,function(_7da){if(_7da.name==this.name&&_7da.form==this.focusNode.form){var _7db=_7d9.getEnclosingWidget(_7da);if(_7db){ary.push(_7db);}}}));return ary;},_setCheckedAttr:function(_7dc){this.inherited(arguments);if(!this._created){return;}if(_7dc){_7d5.forEach(this._getRelatedWidgets(),lang.hitch(this,function(_7dd){if(_7dd!=this&&_7dd.checked){_7dd.set("checked",false);}}));}},_getSubmitValue:function(_7de){return _7de==null?"on":_7de;},_onClick:function(e){if(this.checked||this.disabled){e.stopPropagation();e.preventDefault();return false;}if(this.readOnly){e.stopPropagation();e.preventDefault();_7d5.forEach(this._getRelatedWidgets(),lang.hitch(this,function(_7df){_7d7.set(this.focusNode||this.domNode,"checked",_7df.checked);}));return false;}var _7e0=false;var _7e1;_7d5.some(this._getRelatedWidgets(),function(_7e2){if(_7e2.checked){_7e1=_7e2;return true;}return false;});this.checked=true;_7e1&&(_7e1.checked=false);if(this.onClick(e)===false||e.defaultPrevented){_7e0=true;}this.checked=false;_7e1&&(_7e1.checked=true);if(_7e0){e.preventDefault();}else{this.set("checked",true);}return !_7e0;}});});},"dojox/charting/widget/SelectableLegend":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/query","dojo/_base/connect","dojo/_base/Color","./Legend","dijit/form/CheckBox","../action2d/Highlight","dojox/lang/functional","dojox/gfx/fx","dojo/keys","dojo/dom-construct","dojo/dom-prop","dijit/registry"],function(_7e3,_7e4,_7e5,hub,_7e6,_7e7,_7e8,_7e9,df,fx,keys,dom,_7ea,_7eb){var _7ec=_7e4(null,{constructor:function(_7ed){this.legend=_7ed;this.index=0;this.horizontalLength=this._getHrizontalLength();_7e3.forEach(_7ed.legends,function(item,i){if(i>0){_7e5("input",item).attr("tabindex",-1);}});this.firstLabel=_7e5("input",_7ed.legends[0])[0];hub.connect(this.firstLabel,"focus",this,function(){this.legend.active=true;});hub.connect(this.legend.domNode,"keydown",this,"_onKeyEvent");},_getHrizontalLength:function(){var _7ee=this.legend.horizontal;if(typeof _7ee=="number"){return Math.min(_7ee,this.legend.legends.length);}else{if(!_7ee){return 1;}else{return this.legend.legends.length;}}},_onKeyEvent:function(e){if(!this.legend.active){return;}if(e.keyCode==keys.TAB){this.legend.active=false;return;}var max=this.legend.legends.length;switch(e.keyCode){case keys.LEFT_ARROW:this.index--;if(this.index<0){this.index+=max;}break;case keys.RIGHT_ARROW:this.index++;if(this.index>=max){this.index-=max;}break;case keys.UP_ARROW:if(this.index-this.horizontalLength>=0){this.index-=this.horizontalLength;}break;case keys.DOWN_ARROW:if(this.index+this.horizontalLength<max){this.index+=this.horizontalLength;}break;default:return;}this._moveToFocus();Event.stop(e);},_moveToFocus:function(){_7e5("input",this.legend.legends[this.index])[0].focus();}});var _7ef=_7e4(_7e9,{connect:function(){}});var _7f0=_7e4("dojox.charting.widget.SelectableLegend",_7e7,{outline:false,transitionFill:null,transitionStroke:null,autoScale:false,postCreate:function(){this.legends=[];this.legendAnim={};this._cbs=[];this.inherited(arguments);},refresh:function(){this.legends=[];this._clearLabels();this.inherited(arguments);this._applyEvents();new _7ec(this);},_clearLabels:function(){var cbs=this._cbs;while(cbs.length){cbs.pop().destroyRecursive();}},_addLabel:function(dyn,_7f1){this.inherited(arguments);var _7f2=_7e5("td",this.legendBody);var _7f3=_7f2[_7f2.length-1];this.legends.push(_7f3);var _7f4=new _7e8({checked:true});this._cbs.push(_7f4);dom.place(_7f4.domNode,_7f3,"first");var _7f5=_7e5("label",_7f3)[0];_7ea.set(_7f5,"for",_7f4.id);},_applyEvents:function(){if(this.chart.dirty){return;}_7e3.forEach(this.legends,function(_7f6,i){var _7f7,_7f8,_7f9;if(this._isPie()){_7f7=this.chart.stack[0];_7f8=_7f7.name;_7f9=this.chart.series[0].name;}else{_7f7=this.chart.series[i];_7f8=_7f7.plot;_7f9=_7f7.name;}var _7fa=_7eb.byNode(_7e5(".dijitCheckBox",_7f6)[0]);_7fa.set("checked",!this._isHidden(_7f8,i));hub.connect(_7fa,"onClick",this,function(e){this.toogle(_7f8,i,!_7fa.get("checked"));e.stopPropagation();});var _7fb=_7e5(".dojoxLegendIcon",_7f6)[0],_7fc=this._getFilledShape(this._surfaces[i].children);_7e3.forEach(["onmouseenter","onmouseleave"],function(_7fd){hub.connect(_7fb,_7fd,this,function(e){this._highlight(e,_7fc,i,!_7fa.get("checked"),_7f9,_7f8);});},this);},this);},_isHidden:function(_7fe,_7ff){if(this._isPie()){return _7e3.indexOf(this.chart.getPlot(_7fe).runFilter,_7ff)!=-1;}else{return this.chart.series[_7ff].hidden;}},toogle:function(_800,_801,hide){var plot=this.chart.getPlot(_800);if(this._isPie()){if(_7e3.indexOf(plot.runFilter,_801)!=-1){if(!hide){plot.runFilter=_7e3.filter(plot.runFilter,function(item){return item!=_801;});}}else{if(hide){plot.runFilter.push(_801);}}}else{this.chart.series[_801].hidden=hide;}this.autoScale?this.chart.dirty=true:plot.dirty=true;this.chart.render();},_highlight:function(e,_802,_803,_804,_805,_806){if(!_804){var anim=this._getAnim(_806),_807=this._isPie(),type=_808(e.type);var _809={shape:_802,index:_807?"legend"+_803:"legend",run:{name:_805},type:type};anim.process(_809);_7e3.forEach(this._getShapes(_803,_806),function(_80a,i){var o={shape:_80a,index:_807?_803:i,run:{name:_805},type:type};anim.duration=100;anim.process(o);});}},_getShapes:function(i,_80b){var _80c=[];if(this._isPie()){var _80d=0;_7e3.forEach(this.chart.getPlot(_80b).runFilter,function(item){if(i>item){_80d++;}});_80c.push(this.chart.stack[0].group.children[i-_80d]);}else{if(this._isCandleStick(_80b)){_7e3.forEach(this.chart.series[i].group.children,function(_80e){_7e3.forEach(_80e.children,function(_80f){_7e3.forEach(_80f.children,function(_810){if(_810.shape.type!="line"){_80c.push(_810);}});});});}else{_80c=this.chart.series[i].group.children;}}return _80c;},_getAnim:function(_811){if(!this.legendAnim[_811]){this.legendAnim[_811]=new _7ef(this.chart,_811);}return this.legendAnim[_811];},_getTransitionFill:function(_812){if(this.chart.stack[this.chart.plots[_812]].declaredClass.indexOf("dojox.charting.plot2d.Stacked")!=-1){return this.chart.theme.plotarea.fill;}return null;},_getFilledShape:function(_813){var i=0;while(_813[i]){if(_813[i].getFill()){return _813[i];}i++;}return null;},_isPie:function(){return this.chart.stack[0].declaredClass=="dojox.charting.plot2d.Pie";},_isCandleStick:function(_814){return this.chart.stack[this.chart.plots[_814]].declaredClass=="dojox.charting.plot2d.Candlesticks";},destroy:function(){this._clearLabels();this.inherited(arguments);}});function _808(type){if(type=="mouseenter"){return "onmouseover";}if(type=="mouseleave"){return "onmouseout";}return "on"+type;};return _7f0;});},"dgrid/extensions/DijitRegistry":function(){define(["dojo/_base/declare","dojo/dom-geometry","dijit/registry"],function(_815,_816,_817){return _815(null,{minSize:0,maxSize:Infinity,layoutPriority:0,showTitle:true,buildRendering:function(){_817.add(this);this.inherited(arguments);this.domNode.setAttribute("widgetId",this.id);},startup:function(){if(this._started){return;}this.inherited(arguments);var _818=_817.getEnclosingWidget(this.domNode.parentNode);if(_818&&_818.isLayoutContainer){this._resizeHandle.remove();}},destroyRecursive:function(){this.destroy();},destroy:function(){this.inherited(arguments);_817.remove(this.id);},getChildren:function(){return [];},isLeftToRight:function(){return !this.isRTL;},resize:function(_819){if(_819){_816.setMarginBox(this.domNode,_819);}this.inherited(arguments);},_set:function(prop,_81a){this[prop]=_81a;},watch:function(){},getParent:function(){return _817.getEnclosingWidget(this.domNode.parentNode);}});});},"dijit/form/Form":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/_base/kernel","dojo/sniff","../_Widget","../_TemplatedMixin","./_FormMixin","../layout/_ContentPaneResizeMixin"],function(_81b,_81c,_81d,has,_81e,_81f,_820,_821){return _81b("dijit.form.Form",[_81e,_81f,_820,_821],{name:"",action:"",method:"",encType:"","accept-charset":"",accept:"",target:"",templateString:"<form data-dojo-attach-point='containerNode' data-dojo-attach-event='onreset:_onReset,onsubmit:_onSubmit' ${!nameAttrSetting}></form>",postMixInProperties:function(){this.nameAttrSetting=this.name?("name='"+this.name+"'"):"";this.inherited(arguments);},execute:function(){},onExecute:function(){},_setEncTypeAttr:function(_822){_81c.set(this.domNode,"encType",_822);if(has("ie")){this.domNode.encoding=_822;}this._set("encType",_822);},reset:function(e){var faux={returnValue:true,preventDefault:function(){this.returnValue=false;},stopPropagation:function(){},currentTarget:e?e.target:this.domNode,target:e?e.target:this.domNode};if(!(this.onReset(faux)===false)&&faux.returnValue){this.inherited(arguments,[]);}},onReset:function(){return true;},_onReset:function(e){this.reset(e);e.stopPropagation();e.preventDefault();return false;},_onSubmit:function(e){var fp=this.constructor.prototype;if(this.execute!=fp.execute||this.onExecute!=fp.onExecute){_81d.deprecated("dijit.form.Form:execute()/onExecute() are deprecated. Use onSubmit() instead.","","2.0");this.onExecute();this.execute(this.getValues());}if(this.onSubmit(e)===false){e.stopPropagation();e.preventDefault();}},onSubmit:function(){return this.isValid();},submit:function(){if(!(this.onSubmit()===false)){this.containerNode.submit();}}});});},"dijit/form/_FormWidgetMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","dojo/window","../a11y"],function(_823,_824,_825,_826,lang,_827,on,has,_828,a11y){return _824("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:false,intermediateChanges:false,scrollOnFocus:true,_setIdAttr:"focusNode",_setDisabledAttr:function(_829){this._set("disabled",_829);if(/^(button|input|select|textarea|optgroup|option|fieldset)$/i.test(this.focusNode.tagName)){_825.set(this.focusNode,"disabled",_829);}else{this.focusNode.setAttribute("aria-disabled",_829?"true":"false");}if(this.valueNode){_825.set(this.valueNode,"disabled",_829);}if(_829){this._set("hovering",false);this._set("active",false);var _82a="tabIndex" in this.attributeMap?this.attributeMap.tabIndex:("_setTabIndexAttr" in this)?this._setTabIndexAttr:"focusNode";_823.forEach(lang.isArray(_82a)?_82a:[_82a],function(_82b){var node=this[_82b];if(has("webkit")||a11y.hasDefaultTabStop(node)){node.setAttribute("tabIndex","-1");}else{node.removeAttribute("tabIndex");}},this);}else{if(this.tabIndex!=""){this.set("tabIndex",this.tabIndex);}}},_onFocus:function(by){if(by=="mouse"&&this.isFocusable()){var _82c=this.own(on(this.focusNode,"focus",function(){_82d.remove();_82c.remove();}))[0];var _82e=has("pointer-events")?"pointerup":has("MSPointer")?"MSPointerUp":has("touch-events")?"touchend, mouseup":"mouseup";var _82d=this.own(on(this.ownerDocumentBody,_82e,lang.hitch(this,function(evt){_82d.remove();_82c.remove();if(this.focused){if(evt.type=="touchend"){this.defer("focus");}else{this.focus();}}})))[0];}if(this.scrollOnFocus){this.defer(function(){_828.scrollIntoView(this.domNode);});}this.inherited(arguments);},isFocusable:function(){return !this.disabled&&this.focusNode&&(_826.get(this.domNode,"display")!="none");},focus:function(){if(!this.disabled&&this.focusNode.focus){try{this.focusNode.focus();}catch(e){}}},compare:function(val1,val2){if(typeof val1=="number"&&typeof val2=="number"){return (isNaN(val1)&&isNaN(val2))?0:val1-val2;}else{if(val1>val2){return 1;}else{if(val1<val2){return -1;}else{return 0;}}}},onChange:function(){},_onChangeActive:false,_handleOnChange:function(_82f,_830){if(this._lastValueReported==undefined&&(_830===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_82f;}this._pendingOnChange=this._pendingOnChange||(typeof _82f!=typeof this._lastValueReported)||(this.compare(_82f,this._lastValueReported)!=0);if((this.intermediateChanges||_830||_830===undefined)&&this._pendingOnChange){this._lastValueReported=_82f;this._pendingOnChange=false;if(this._onChangeActive){if(this._onChangeHandle){this._onChangeHandle.remove();}this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(_82f);});}}},create:function(){this.inherited(arguments);this._onChangeActive=true;},destroy:function(){if(this._onChangeHandle){this._onChangeHandle.remove();this.onChange(this._lastValueReported);}this.inherited(arguments);}});});},"dijit/_base/place":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/window","../place","../main"],function(_831,lang,_832,_833,_834){var _835={};_835.getViewport=function(){return _832.getBox();};_835.placeOnScreen=_833.at;_835.placeOnScreenAroundElement=function(node,_836,_837,_838){var _839;if(lang.isArray(_837)){_839=_837;}else{_839=[];for(var key in _837){_839.push({aroundCorner:key,corner:_837[key]});}}return _833.around(node,_836,_839,true,_838);};_835.placeOnScreenAroundNode=_835.placeOnScreenAroundElement;_835.placeOnScreenAroundRectangle=_835.placeOnScreenAroundElement;_835.getPopupAroundAlignment=function(_83a,_83b){var _83c={};_831.forEach(_83a,function(pos){var ltr=_83b;switch(pos){case "after":_83c[_83b?"BR":"BL"]=_83b?"BL":"BR";break;case "before":_83c[_83b?"BL":"BR"]=_83b?"BR":"BL";break;case "below-alt":ltr=!ltr;case "below":_83c[ltr?"BL":"BR"]=ltr?"TL":"TR";_83c[ltr?"BR":"BL"]=ltr?"TR":"TL";break;case "above-alt":ltr=!ltr;case "above":default:_83c[ltr?"TL":"TR"]=ltr?"BL":"BR";_83c[ltr?"TR":"TL"]=ltr?"BR":"BL";break;}});return _83c;};lang.mixin(_834,_835);return _834;});},"dojox/main":function(){define(["dojo/_base/kernel"],function(dojo){return dojo.dojox;});},"prcommon2/clippings/edit_private":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../clippings/templates/edit_private.html","dijit/layout/ContentPane","dijit/layout/BorderContainer","ttl/utilities2","dojo/topic","dojo/request","dojox/data/JsonRestStore","dojo/_base/lang","dojo/dom-attr","dojo/data/ItemFileReadStore","dojo/dom-class","dijit/form/ValidationTextBox","dijit/form/DateTextBox","dijit/form/NumberTextBox","dijit/form/CurrencyTextBox","dijit/form/Textarea","dijit/form/Select","dojox/validate/regexp","prcommon2/outlet/OutletSelect"],function(_83d,_83e,_83f,_840,_841,_842,_843,_844,_845,lang,_846,_847,_848){return _83d("prcommon2.clippings.edit_private",[_83e],{templateString:_83f,mode:"add",gutters:false,constructor:function(){this._clients=new _845({target:"/clients/rest_combo",idAttribute:"id"});this._issues=new _845({target:"/crm/issues/issues_list_rest",idAttribute:"id"});this._clippingtypes=new _847({url:"/common/lookups?searchtype=clippingstypes"});this._clippingtones=new _847({url:"/common/lookups?searchtype=clippingtones"});this._liststore=new _845({target:"/emails/templates_list_rest",idAttribute:"id"});this._statement=new _845({target:"/statement/statement_combo_rest",idAttribute:"id"});this._change_client_enabled=true;this._save_call_back=lang.hitch(this,this._save_call);this._load_call_back=lang.hitch(this,this._load_call);this._delete_call_back=lang.hitch(this,this._delete_call);_843.subscribe("/outlet/circulation",lang.hitch(this,this._change_outlet_event));},postCreate:function(){this.inherited(arguments);this.clientid.set("store",this._clients);this.issueid.set("store",this._issues);this.clippingstypeid.set("store",this._clippingtypes);this.clippingstoneid.set("store",this._clippingtones);_846.set(this.issue_label_1,"innerHTML",PRMAX.utils.settings.issue_description);_846.set(this.client_label_1,"innerHTML",PRMAX.utils.settings.client_name);this.emailtemplateid.set("store",this._liststore);this.emailtemplateid.set("query",{restrict:"sent",include_no_select:1});this.statementid.set("store",this._statement);this.statementid.set("query",{include_no_select:1});if(PRMAX.utils.settings.crm==true){_848.remove(this.statement_1,"prmaxhidden");_848.remove(this.statementid.domNode,"prmaxhidden");}},_clear:function(){this.clear();},clear:function(){this.clippingid.set("value",-1);this._change_client_enabled=false;this.clientid.set("value",null);this.issueid.set("value",null);this._change_client_enabled=true;this.outletid.set("value",null);this.outletid.set("displayvalue","");this.clip_source_date.set("value",new Date());this.clip_title.set("value","");this.clip_abstract.set("value","");this.clip_source_page.set("value","");this.clip_article_size.set("value",0);this.clip_words.set("value",0);this.clip_circulation.set("value",0);this.clip_circulation.set("displayedvalue",0);this.clip_readership.set("value",0);this.clip_disrate.set("value",0);this.clip_text.set("value","");this.clippingstypeid.set("value",3);this.clippingstoneid.set("value",3);this.clip_link.set("value","");this.emailtemplateid.set("value",null);this.statementid.set("value",null);_846.set(this.heading_text,"innerHTML","Add Private Clipping");_848.add(this.deletebtn.domNode,"prmaxhidden");_848.remove(this.clearbtn.domNode,"prmaxhidden");this.savebtn.cancel();this.deletebtn.cancel();},_save:function(){if(_842.form_validator(this.formnode)==false){alert("Please Enter Details");this.savebtn.cancel();return false;}var _849=this.formnode.get("value");var _84a=(this.mode=="add")?"/clippings/private_clipping_add":"/clippings/private_clipping_update";_849["clip_source_date"]=_842.to_json_date(this.clip_source_date.get("value"));this.savebtn.makeBusy();_844.post(_84a,_842.make_params({data:_849})).then(this._save_call_back);},_save_call:function(_84b){if(_84b.success=="OK"){if(this.mode=="edit"){_843.publish("/clipping/update",_84b.data);alert("Clipping Update");}else{_843.publish("/clipping/private_add",_84b.data);alert("Clipping Added");this.clear();}}else{alert("Problem");}this.savebtn.cancel();},load:function(_84c,_84d){this._dialog=_84d;_846.set(this.heading_text,"innerHTML","Update Private Clipping");_844.post("/clippings/private_clipping_get_for_edit",_842.make_params({data:{clippingid:_84c.clippingid}})).then(this._load_call_back);},_load_call:function(_84e){if(_84e.success=="OK"){with(_84e){this.clippingid.set("value",data.clippingid);this._change_client_enabled=false;this.clientid.set("value",data.clientid);this.issueid.set("value",data.issueid);this.outletid.set("value",data.outletid);this.outletid.set("displayvalue",data.outletname);this.clip_source_date.set("value",_842.from_object_date(data.clip_source_date));this.clip_title.set("value",data.clip_title);this.clip_abstract.set("value",data.clip_abstract);this.clip_source_page.set("value",data.clip_source_page);this.clip_article_size.set("value",data.clip_article_size);this.clip_words.set("value",data.clip_words);this.clip_circulation.set("value",data.clip_circulation);this.clip_readership.set("value",data.clip_readership);this.clip_disrate.set("value",data.clip_disrate);this.clip_text.set("value",data.clip_text);this.clippingstypeid.set("value",data.clippingstypeid);this.clippingstoneid.set("value",data.clippingstoneid);this.clip_link.set("value",data.clip_link);this.statementid.set("value",data.statementid);this.emailtemplateid.set("value",data.emailtemplateid);this._do_swap_view(data.clippingstypeid);_848.remove(this.deletebtn.domNode,"prmaxhidden");_848.add(this.clearbtn.domNode,"prmaxhidden");}this.savebtn.cancel();if(this._dialog){this._dialog.show();}}else{alert("Problem");}},resize:function(){var tmp=lang.clone(arguments[0]);if(tmp.w>600){tmp.w=600;}this.frame.resize(tmp);this.inherited(arguments);},_swap_view:function(){this._do_swap_view(this.clippingstypeid.get("value"));},_do_swap_view:function(_84f){switch(_84f){case "1":case 1:_848.remove(this.print_view,"prmaxhidden");break;default:_848.add(this.print_view,"prmaxhidden");break;}},_client_change:function(){var _850=this.clientid.get("value");if(_850==undefined){_850=-1;}this.issueid.set("query",{clientid:_850});if(this._change_client_enabled==true){this.issueid.set("value",null);}this._change_client_enabled=true;},_delete:function(){if(confirm("Delete Clipping")){this.deletebtn.makeBusy();_844.post("/clippings/delete_clipping",_842.make_params({data:{clippingid:this.clippingid.get("value")}})).then(this._delete_call_back);}else{this.deletebtn.cancel();}},_delete_call:function(_851){if(_851.success=="OK"){_843.publish("/clipping/deleted",_851.data);}else{alert("Problem");}this.deletebtn.cancel();},_change_outlet_event:function(data){if(this.clip_circulation.value==""||this.clip_circulation.value==0||this.clip_circulation.displayedValue==""||this.clip_circulation.displayedValue=="0"){this.clip_circulation.value=data[0];this.clip_circulation.displayedValue=data[0];_846.set(this.clip_circulation,"displayedValue",data[0]);}},});});},"dojox/charting/themes/PrimaryColors":function(){define(["../Theme","./gradientGenerator","./common"],function(_852,_853,_854){var _855=["#f00","#0f0","#00f","#ff0","#0ff","#f0f","./common"],_856={type:"linear",space:"plot",x1:0,y1:0,x2:0,y2:100};_854.PrimaryColors=new _852({seriesThemes:_853.generateMiniTheme(_855,_856,90,40,25)});return _854.PrimaryColors;});},"prcommon2/search/OutletSearch":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../search/templates/OutletSearch.html","dijit/layout/ContentPane","prcommon2/search/std_search","prcommon2/search/SearchCount","ttl/Form2","dijit/form/TextBox","prcommon2/search/standard","prcommon2/search/PrmaxOutletTypes","prcommon2/interests/Interests","prcommon2/search/SearchRoles","prcommon2/geographical/Geographical","prcommon2/search/Circulation","prcommon2/search/Frequency","prcommon2/search/Publisher","prcommon2/search/Countries"],function(_857,_858,_859,_85a){return _857("prcommon2.search.OutletSearch",[_858,_85a],{templateString:_859,constructor:function(){},postCreate:function(){this.inherited(arguments);},_getFormAttr:function(){return this.form_name;},clear:function(){dojo.every(this.form_name.getChildren(),function(_85b){if(_85b.clear!=null){_85b.clear();}return true;});}});});},"dgrid/OnDemandGrid":function(){define(["dojo/_base/declare","./Grid","./OnDemandList"],function(_85c,Grid,_85d){return _85c([Grid,_85d],{});});},"dojox/collections/Dictionary":function(){define(["dojo/_base/kernel","dojo/_base/array","./_base"],function(dojo,_85e,dxc){dxc.Dictionary=function(_85f){var _860={};this.count=0;var _861={};this.add=function(k,v){var b=(k in _860);_860[k]=new dxc.DictionaryEntry(k,v);if(!b){this.count++;}};this.clear=function(){_860={};this.count=0;};this.clone=function(){return new dxc.Dictionary(this);};this.contains=this.containsKey=function(k){if(_861[k]){return false;}return (_860[k]!=null);};this.containsValue=function(v){var e=this.getIterator();while(e.get()){if(e.element.value==v){return true;}}return false;};this.entry=function(k){return _860[k];};this.forEach=function(fn,_862){var a=[];for(var p in _860){if(!_861[p]){a.push(_860[p]);}}dojo.forEach(a,fn,_862);};this.getKeyList=function(){return (this.getIterator()).map(function(_863){return _863.key;});};this.getValueList=function(){return (this.getIterator()).map(function(_864){return _864.value;});};this.item=function(k){if(k in _860){return _860[k].valueOf();}return undefined;};this.getIterator=function(){return new dxc.DictionaryIterator(_860);};this.remove=function(k){if(k in _860&&!_861[k]){delete _860[k];this.count--;return true;}return false;};if(_85f){var e=_85f.getIterator();while(e.get()){this.add(e.element.key,e.element.value);}}};return dxc.Dictionary;});},"dijit/_base/sniff":function(){define(["dojo/uacss"],function(){});},"prcommon2/outlet/OutletSelectDetails":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../outlet/templates/OutletSelectDetails.html","dijit/layout/BorderContainer","dojo/json","dojo/request","ttl/utilities2","ttl/store/JsonRest","dojox/data/JsonRestStore","dojo/store/Observable","dojo/_base/lang","dojo/topic","ttl/grid/Grid","dojo/dom-attr","dojo/dom-class","dojo/data/ItemFileReadStore","dojo/_base/array","dijit/form/TextBox","dijit/form/Button","dijit/Dialog","prcommon2/search/OutletSearch","dijit/layout/ContentPane","dojox/form/BusyButton","prcommon2/web/WebButton","dijit/layout/TabContainer","dijit/form/Textarea"],function(_865,_866,_867,_868,json,_869,_86a,_86b,_86c,_86d,lang,_86e,Grid,_86f,_870,_871,_872){return _865("prcommon2.outlet.OutletSelectDetails",[_866,_868],{templateString:_867,constructor:function(){this._dialog=null;this._load_call_back=lang.hitch(this,this._load_call);this._costs=new _871({url:"/common/lookups?searchtype=outletprices"});this._languages=new _871({url:"/common/lookups?searchtype=languages&nofilter=1"});this._publishers=new _871({url:"/common/lookups?searchtype=publishers"});this.outletid="";},postCreate:function(){this.country.set("store",PRCOMMON.utils.stores.Countries());this.frequency.set("store",PRCOMMON.utils.stores.Frequency());this.prmax_outlettypeid.set("store",PRCOMMON.utils.stores.OutletTypes());this.cost.set("store",this._costs);this.language.set("store",this._languages);this.publisherid.set("store",this._publishers);this.www_show.set("source",this.www);this.facebook_show.set("source",this.facebook);this.twitter_show.set("source",this.twitter);this.instagram_show.set("source",this.instagram);this.inherited(arguments);},_setDialogAttr:function(_873){this._dialog=_873;},load:function(_874,mode){var url="/research/admin/outlets/research_outlet_edit_get";if(mode=="clippings"){url="/outlets/research_outlet_edit_get";}_869.post(url,_86a.make_params({data:{outletid:_874}})).then(this._load_call_back);},_load_call:function(_875){this._dialog("show");if(_875.success=="OK"){var _876="";var _877="";var _878="";var _879="";if(_875.outlet.address.address1){_876=_875.outlet.address.address1;}if(_875.outlet.address.address2){_876+=", "+_875.outlet.address.address2;}if(_875.outlet.address.townname){_876+=", "+_875.outlet.address.townname;}if(_875.outlet.address.postcode){_876+=", "+_875.outlet.address.postcode;}if(_875.outlet.interests.data.length>0){for(var i=0;i<_875.outlet.interests.data.length;i++){_877=_877+_875.outlet.interests.data[i].interestname+", ";}_877=_877.substring(0,_877.length-2);}if(_875.outlet.coverage.length>0){for(var i=0;i<_875.outlet.coverage.length;i++){_878=_878+_875.outlet.coverage[i].geographicalname+", ";}_878=_878.substring(0,_878.length-2);}if(_875.outlet.serieschildren.length>0){for(var i=0;i<_875.outlet.serieschildren.length;i++){_879=_879+_875.outlet.serieschildren[i].outletname+", ";}_879=_879.substring(0,_879.length-2);}this.outletname.set("value",_875.outlet.outlet.outletname);this.www.set("value",_875.outlet.outlet.www);this.address.set("value",_876);this.country.set("value",_875.outlet.outlet.countryid);this.tel.set("value",_875.outlet.communications.tel);this.email.set("value",_875.outlet.communications.email);this.twitter.set("value",_875.outlet.communications.twitter);this.facebook.set("value",_875.outlet.communications.facebook);this.instagram.set("value",_875.outlet.communications.instagram);this.circulation.set("value",_875.outlet.outlet.circulation);this.frequency.set("value",_875.outlet.outlet.frequencyid);this.prmax_outlettypeid.set("value",_875.outlet.outlet.prmax_outlettypeid);this.cost.set("value",_875.outlet.outlet.outletpriceid);this.sqcm.set("value",_875.outlet.outlet.mp_sqcm);this.keywords.set("value",_877);this.publisherid.set("value",_875.outlet.outlet.publisherid);this.language.set("value",_875.outlet.languages.language1id);this.profile.set("value",_875.outlet.outlet.profile);if(_875.outlet.profile.profile!=null){this.editorialprofile.set("value",_875.outlet.profile.profile.editorialprofile);this.readership.set("value",_875.outlet.profile.profile.readership);this.nrsreadership.set("value",_875.outlet.profile.profile.nrsreadership);this.jicregreadership.set("value",_875.outlet.profile.profile.jicregreadership);this.broadcasttimes.set("value",_875.outlet.profile.profile.broadcasttimes);}this.coverage.set("value",_878);this.serieschildren.set("value",_879);}},_close:function(){if(this._dialog){this._dialog("hide");}this._clear();},_clear:function(){this.outletname.set("value","");this.www.set("value","");this.address.set("value","");this.country.set("value","");this.tel.set("value","");this.email.set("value","");this.twitter.set("value","");this.facebook.set("value","");this.instagram.set("value","");this.circulation.set("value","");this.frequency.set("value","");this.prmax_outlettypeid.set("value","");this.cost.set("value","");this.sqcm.set("value","");this.keywords.set("value","");this.publisherid.set("value","");this.language.set("value","");this.profile.set("value","");this.editorialprofile.set("value","");this.readership.set("value","");this.nrsreadership.set("value","");this.jicregreadership.set("value","");this.broadcasttimes.set("value","");this.coverage.set("value","");this.serieschildren.set("value","");}});});},"dojox/gfx":function(){define(["dojo/_base/lang","./gfx/_base","./gfx/renderer!"],function(lang,_87a,_87b){_87a.switchTo(_87b);return _87a;});},"dojox/charting/Theme":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/_base/Color","./SimpleTheme","dojox/color/_base","dojox/color/Palette","dojox/gfx/gradutils"],function(lang,_87c,_87d,_87e,_87f,_880){var _881=_87c("dojox.charting.Theme",_87e,{});lang.mixin(_881,{defineColors:function(_882){_882=_882||{};var l,c=[],n=_882.num||5;if(_882.colors){l=_882.colors.length;for(var i=0;i<n;i++){c.push(_882.colors[i%l]);}return c;}if(_882.hue){var s=_882.saturation||100,st=_882.low||30,end=_882.high||90;l=(end+st)/2;return _880.generate(_87f.fromHsv(_882.hue,s,l),"monochromatic").colors;}if(_882.generator){return _87f.Palette.generate(_882.base,_882.generator).colors;}return c;},generateGradient:function(_883,_884,_885){var fill=lang.delegate(_883);fill.colors=[{offset:0,color:_884},{offset:1,color:_885}];return fill;},generateHslColor:function(_886,_887){_886=new _87d(_886);var hsl=_886.toHsl(),_888=_87f.fromHsl(hsl.h,hsl.s,_887);_888.a=_886.a;return _888;},generateHslGradient:function(_889,_88a,_88b,_88c){_889=new _87d(_889);var hsl=_889.toHsl(),_88d=_87f.fromHsl(hsl.h,hsl.s,_88b),_88e=_87f.fromHsl(hsl.h,hsl.s,_88c);_88d.a=_88e.a=_889.a;return _881.generateGradient(_88a,_88d,_88e);}});_881.defaultMarkers=_87e.defaultMarkers;_881.defaultColors=_87e.defaultColors;_881.defaultTheme=_87e.defaultTheme;return _881;});},"dgrid/Grid":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/on","dojo/has","put-selector/put","./List","./util/misc","dojo/_base/sniff"],function(_88f,_890,_891,has,put,List,_892){var _893=has("ie")<8&&!has("quirks");function _894(_895,_896){if(_896&&_896.nodeType){_895.appendChild(_896);}};function _897(str){return _892.escapeCssIdentifier(str,"-");};var Grid=_890(List,{columns:null,cellNavigation:true,tabableHeader:true,showHeader:true,column:function(_898){if(typeof _898!="object"){return this.columns[_898];}else{return this.cell(_898).column;}},listType:"grid",cell:function(_899,_89a){if(_899.column&&_899.element){return _899;}if(_899.target&&_899.target.nodeType){_899=_899.target;}var _89b;if(_899.nodeType){var _89c;do{if(this._rowIdToObject[_899.id]){break;}var _89d=_899.columnId;if(_89d){_89a=_89d;_89b=_899;break;}_899=_899.parentNode;}while(_899&&_899!=this.domNode);}if(!_89b&&typeof _89a!="undefined"){var row=this.row(_899),_89e=row&&row.element;if(_89e){var _89f=_89e.getElementsByTagName("td");for(var i=0;i<_89f.length;i++){if(_89f[i].columnId==_89a){_89b=_89f[i];break;}}}}if(_899!=null){return {row:row||this.row(_899),column:_89a&&this.column(_89a),element:_89b};}},createRowCells:function(tag,each,_8a0,_8a1){var row=put("table.dgrid-row-table[role=presentation]"),_8a2=this.cellNavigation,_8a3=(has("ie")<9||has("quirks"))?put(row,"tbody"):row,tr,si,sl,i,l,_8a4,_8a5,id,_8a6,_8a7,cell,_8a8,_8a9,_8aa;_8a0=_8a0||this.subRows;for(si=0,sl=_8a0.length;si<sl;si++){_8a4=_8a0[si];tr=put(_8a3,"tr");if(_8a4.className){put(tr,"."+_8a4.className);}for(i=0,l=_8a4.length;i<l;i++){_8a5=_8a4[i];id=_8a5.id;_8a6=_8a5.field?".field-"+_897(_8a5.field):"";_8a7=typeof _8a5.className==="function"?_8a5.className(_8a1):_8a5.className;if(_8a7){_8a6+="."+_8a7;}cell=put(tag+(".dgrid-cell.dgrid-cell-padding"+(id?".dgrid-column-"+_897(id):"")+_8a6.replace(/ +/g,"."))+"[role="+(tag==="th"?"columnheader":"gridcell")+"]");cell.columnId=id;if(_893){_8a8=put(cell,"!dgrid-cell-padding div.dgrid-cell-padding");cell.contents=_8a8;}else{_8a8=cell;}_8a9=_8a5.colSpan;if(_8a9){cell.colSpan=_8a9;}_8aa=_8a5.rowSpan;if(_8aa){cell.rowSpan=_8aa;}each(_8a8,_8a5);tr.appendChild(cell);}}return row;},left:function(cell,_8ab){if(!cell.element){cell=this.cell(cell);}return this.cell(this._move(cell,-(_8ab||1),"dgrid-cell"));},right:function(cell,_8ac){if(!cell.element){cell=this.cell(cell);}return this.cell(this._move(cell,_8ac||1,"dgrid-cell"));},renderRow:function(_8ad,_8ae){var self=this;var row=this.createRowCells("td",function(td,_8af){var data=_8ad;if(_8af.get){data=_8af.get(_8ad);}else{if("field" in _8af&&_8af.field!="_item"){data=data[_8af.field];}}if(_8af.renderCell){_894(td,_8af.renderCell(_8ad,data,td,_8ae));}else{_8b0.call(_8af,_8ad,data,td,_8ae);}},_8ae&&_8ae.subRows,_8ad);return put("div[role=row]>",row);},renderHeader:function(){var grid=this,_8b1=this.columns,_8b2=this.headerNode,i=_8b2.childNodes.length;_8b2.setAttribute("role","row");while(i--){put(_8b2.childNodes[i],"!");}var row=this.createRowCells("th",function(th,_8b3){var _8b4=_8b3.headerNode=th;if(_893){th=th.parentNode;}var _8b5=_8b3.field;if(_8b5){th.field=_8b5;}if(_8b3.renderHeaderCell){_894(_8b4,_8b3.renderHeaderCell(_8b4));}else{if("label" in _8b3||_8b3.field){_8b4.appendChild(document.createTextNode("label" in _8b3?_8b3.label:_8b3.field));}}if(_8b3.sortable!==false&&_8b5&&_8b5!="_item"){th.sortable=true;th.className+=" dgrid-sortable";}},this.subRows&&this.subRows.headerRows);this._rowIdToObject[row.id=this.id+"-header"]=this.columns;_8b2.appendChild(row);if(this._sortListener){this._sortListener.remove();}this._sortListener=_891(row,"click,keydown",function(_8b6){if(_8b6.type=="click"||_8b6.keyCode==32||(!has("opera")&&_8b6.keyCode==13)){var _8b7=_8b6.target,_8b8,sort,_8b9,_8ba;do{if(_8b7.sortable){_8b9=[{attribute:(_8b8=_8b7.field||_8b7.columnId),descending:(sort=grid._sort[0])&&sort.attribute==_8b8&&!sort.descending}];_8ba={bubbles:true,cancelable:true,grid:grid,parentType:_8b6.type,sort:_8b9};if(_891.emit(_8b6.target,"dgrid-sort",_8ba)){grid._sortNode=_8b7;grid.set("sort",_8b9);}break;}}while((_8b7=_8b7.parentNode)&&_8b7!=_8b2);}});},resize:function(){var _8bb=this.headerNode.firstChild,_8bc=this.contentNode,_8bd;this.inherited(arguments);if(!has("ie")||(has("ie")>7&&!has("quirks"))){_8bc.style.width="";if(_8bc&&_8bb){if((_8bd=_8bb.offsetWidth)!=_8bc.offsetWidth){_8bc.style.width=_8bd+"px";}}}},destroy:function(){this._destroyColumns();if(this._sortListener){this._sortListener.remove();}this.inherited(arguments);},_setSort:function(_8be,_8bf){this.inherited(arguments);this.updateSortArrow(this._sort);},_findSortArrowParent:function(_8c0){var _8c1=this.columns;for(var i in _8c1){var _8c2=_8c1[i];if(_8c2.field==_8c0){return _8c2.headerNode;}}},updateSortArrow:function(sort,_8c3){if(this._lastSortedArrow){put(this._lastSortedArrow,"<!dgrid-sort-up!dgrid-sort-down");put(this._lastSortedArrow,"!");delete this._lastSortedArrow;}if(_8c3){this._sort=sort;}if(!sort[0]){return;}var prop=sort[0].attribute,desc=sort[0].descending,_8c4=this._sortNode||this._findSortArrowParent(prop),_8c5;delete this._sortNode;if(_8c4){_8c4=_8c4.contents||_8c4;_8c5=this._lastSortedArrow=put("div.dgrid-sort-arrow.ui-icon[role=presentation]");_8c5.innerHTML="&nbsp;";_8c4.insertBefore(_8c5,_8c4.firstChild);put(_8c4,desc?".dgrid-sort-down":".dgrid-sort-up");this.resize();}},styleColumn:function(_8c6,css){return this.addCssRule("#"+_892.escapeCssIdentifier(this.domNode.id)+" .dgrid-column-"+_897(_8c6),css);},_configColumns:function(_8c7,_8c8){var _8c9=[],_8ca=_8c8 instanceof Array;function _8cb(_8cc,_8cd){if(typeof _8cc=="string"){_8c8[_8cd]=_8cc={label:_8cc};}if(!_8ca&&!_8cc.field){_8cc.field=_8cd;}_8cd=_8cc.id=_8cc.id||(isNaN(_8cd)?_8cd:(_8c7+_8cd));if(this._configColumn){this._configColumn(_8cc,_8cd,_8c8,_8c7);_8cd=_8cc.id;}if(_8ca){this.columns[_8cd]=_8cc;}_8cc.grid=this;if(typeof _8cc.init==="function"){_8cc.init();}_8c9.push(_8cc);};_892.each(_8c8,_8cb,this);return _8ca?_8c8:_8c9;},_destroyColumns:function(){var _8ce=this.subRows,_8cf=_8ce&&_8ce.length,i,j,_8d0,len;this.cleanup();for(i=0;i<_8cf;i++){for(j=0,len=_8ce[i].length;j<len;j++){_8d0=_8ce[i][j];if(typeof _8d0.destroy==="function"){_8d0.destroy();}}}},configStructure:function(){var _8d1=this.subRows,_8d2=this._columns=this.columns;this.columns=!_8d2||_8d2 instanceof Array?{}:_8d2;if(_8d1){for(var i=0;i<_8d1.length;i++){_8d1[i]=this._configColumns(i+"-",_8d1[i]);}}else{this.subRows=[this._configColumns("",_8d2)];}},_getColumns:function(){return this._columns||this.columns;},_setColumns:function(_8d3){this._destroyColumns();this.subRows=null;this.columns=_8d3;this._updateColumns();},_setSubRows:function(_8d4){this._destroyColumns();this.subRows=_8d4;this._updateColumns();},setColumns:function(_8d5){_88f.deprecated("setColumns(...)","use set(\"columns\", ...) instead","dgrid 0.4");this.set("columns",_8d5);},setSubRows:function(_8d6){_88f.deprecated("setSubRows(...)","use set(\"subRows\", ...) instead","dgrid 0.4");this.set("subRows",_8d6);},_updateColumns:function(){this.configStructure();this.renderHeader();this.refresh();this._lastCollection&&this.renderArray(this._lastCollection);if(this._started){if(this._sort&&this._sort.length){this.updateSortArrow(this._sort);}else{this.resize();}}}});function _8b0(_8d7,data,td,_8d8){if(this.formatter){var _8d9=this.formatter,_8da=this.grid.formatterScope;td.innerHTML=typeof _8d9==="string"&&_8da?_8da[_8d9](data,_8d7):this.formatter(data,_8d7);}else{if(data!=null){td.appendChild(document.createTextNode(data));}}};Grid.appendIfNode=_894;Grid.defaultRenderCell=_8b0;return Grid;});},"dojo/data/util/sorter":function(){define(["../../_base/lang"],function(lang){var _8db={};lang.setObject("dojo.data.util.sorter",_8db);_8db.basicComparator=function(a,b){var r=-1;if(a===null){a=undefined;}if(b===null){b=undefined;}if(a==b){r=0;}else{if(a>b||a==null){r=1;}}return r;};_8db.createSortFunction=function(_8dc,_8dd){var _8de=[];function _8df(attr,dir,comp,s){return function(_8e0,_8e1){var a=s.getValue(_8e0,attr);var b=s.getValue(_8e1,attr);return dir*comp(a,b);};};var _8e2;var map=_8dd.comparatorMap;var bc=_8db.basicComparator;for(var i=0;i<_8dc.length;i++){_8e2=_8dc[i];var attr=_8e2.attribute;if(attr){var dir=(_8e2.descending)?-1:1;var comp=bc;if(map){if(typeof attr!=="string"&&("toString" in attr)){attr=attr.toString();}comp=map[attr]||bc;}_8de.push(_8df(attr,dir,comp,_8dd));}}return function(rowA,rowB){var i=0;while(i<_8de.length){var ret=_8de[i++](rowA,rowB);if(ret!==0){return ret;}}return 0;};};return _8db;});},"dgrid/util/misc":function(){define(["dojo/has","put-selector/put"],function(has,put){has.add("dom-contains",function(_8e3,doc,_8e4){return !!_8e4.contains;});var _8e5=[],_8e6,_8e7,_8e8,_8e9=/([^A-Za-z0-9_\u00A0-\uFFFF-])/g;function _8ea(_8eb){var _8ec=_8e5[_8eb],i,l;if(_8ec===undefined){return;}_8e6[_8e7](_8ec);_8e5[_8eb]=undefined;for(i=_8eb+1,l=_8e5.length;i<l;i++){if(_8e5[i]>_8ec){_8e5[i]--;}}};var util={defaultDelay:15,throttle:function(cb,_8ed,_8ee){var ran=false;_8ee=_8ee||util.defaultDelay;return function(){if(ran){return;}ran=true;cb.apply(_8ed,arguments);setTimeout(function(){ran=false;},_8ee);};},throttleDelayed:function(cb,_8ef,_8f0){var ran=false;_8f0=_8f0||util.defaultDelay;return function(){if(ran){return;}ran=true;var a=arguments;setTimeout(function(){ran=false;cb.apply(_8ef,a);},_8f0);};},debounce:function(cb,_8f1,_8f2){var _8f3;_8f2=_8f2||util.defaultDelay;return function(){if(_8f3){clearTimeout(_8f3);_8f3=null;}var a=arguments;_8f3=setTimeout(function(){cb.apply(_8f1,a);},_8f2);};},each:function(_8f4,_8f5,_8f6){var i,len;if(!_8f4){return;}if(typeof _8f4.length==="number"){for(i=0,len=_8f4.length;i<len;i++){_8f5.call(_8f6,_8f4[i],i,_8f4);}}else{for(i in _8f4){_8f5.call(_8f6,_8f4[i],i,_8f4);}}},contains:function(_8f7,node){if(has("dom-contains")){return _8f7.contains(node);}else{return _8f7.compareDocumentPosition(node)&8;}},addCssRule:function(_8f8,css){if(!_8e6){_8e6=put(document.getElementsByTagName("head")[0],"style");_8e6=_8e6.sheet||_8e6.styleSheet;_8e7=_8e6.deleteRule?"deleteRule":"removeRule";_8e8=_8e6.cssRules?"cssRules":"rules";}var _8f9=_8e5.length;_8e5[_8f9]=(_8e6.cssRules||_8e6.rules).length;_8e6.addRule?_8e6.addRule(_8f8,css):_8e6.insertRule(_8f8+"{"+css+"}",_8e5[_8f9]);return {get:function(prop){return _8e6[_8e8][_8e5[_8f9]].style[prop];},set:function(prop,_8fa){if(typeof _8e5[_8f9]!=="undefined"){_8e6[_8e8][_8e5[_8f9]].style[prop]=_8fa;}},remove:function(){_8ea(_8f9);}};},escapeCssIdentifier:function(id,_8fb){return typeof id==="string"?id.replace(_8e9,_8fb||"\\$1"):id;}};return util;});},"dijit/_base/popup":function(){define(["dojo/dom-class","dojo/_base/window","../popup","../BackgroundIframe"],function(_8fc,win,_8fd){var _8fe=_8fd._createWrapper;_8fd._createWrapper=function(_8ff){if(!_8ff.declaredClass){_8ff={_popupWrapper:(_8ff.parentNode&&_8fc.contains(_8ff.parentNode,"dijitPopup"))?_8ff.parentNode:null,domNode:_8ff,destroy:function(){},ownerDocument:_8ff.ownerDocument,ownerDocumentBody:win.body(_8ff.ownerDocument)};}return _8fe.call(this,_8ff);};var _900=_8fd.open;_8fd.open=function(args){if(args.orient&&typeof args.orient!="string"&&!("length" in args.orient)){var ary=[];for(var key in args.orient){ary.push({aroundCorner:key,corner:args.orient[key]});}args.orient=ary;}return _900.call(this,args);};return _8fd;});},"dojox/charting/themes/gradientGenerator":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/Color","../Theme","dojox/color/_base","./common"],function(lang,arr,_901,_902,_903,_904){var gg=lang.getObject("gradientGenerator",true,_904);gg.generateFills=function(_905,_906,_907,_908){return arr.map(_905,function(c){return _902.generateHslGradient(c,_906,_907,_908);});};gg.updateFills=function(_909,_90a,_90b,_90c){arr.forEach(_909,function(t){if(t.fill&&!t.fill.type){t.fill=_902.generateHslGradient(t.fill,_90a,_90b,_90c);}});};gg.generateMiniTheme=function(_90d,_90e,_90f,_910,_911){return arr.map(_90d,function(c){c=new _903.Color(c);return {fill:_902.generateHslGradient(c,_90e,_90f,_910),stroke:{color:_902.generateHslColor(c,_911)}};});};gg.generateGradientByIntensity=function(_912,_913){_912=new _901(_912);return arr.map(_913,function(stop){var s=stop.i/255;return {offset:stop.o,color:new _901([_912.r*s,_912.g*s,_912.b*s,_912.a])};});};return gg;});},"prcommon2/clippings/add_footer":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../clippings/templates/add_footer.html","ttl/utilities2","dojo/topic","dojo/request","dojo/_base/lang","dojo/dom-style","dojo/dom-attr","dojo/dom-class","dojo/data/ItemFileReadStore","dojox/form/PasswordValidator","dijit/form/SimpleTextarea"],function(_914,_915,_916,_917,_918,_919,lang,_91a,_91b,_91c,_91d){return _914("prcommon2.clippings.add_footer",[_915],{templateString:_916,constructor:function(){this._save_call_back=dojo.hitch(this,this._save_call);this._emailfooter=new _91d({url:"/common/lookups?searchtype=emailfooter"});this._customerid=PRMAX.utils.settings.cid;},postCreate:function(){this.inherited(arguments);this.emailfooterid.set("store",this._emailfooter);},load:function(_91e,_91f){this._dialog=_91e;this.icustomerid.set("value",_91f);},_save:function(){if(_917.form_validator(this.form)==false){alert("Please Enter Details");this.savebtn.cancel();return false;}var data=this.form.get("value");data["customerid"]=this._customerid;_919.post("/emailfooter/save",_917.make_params({data:data})).then(this._save_call_back);},_save_call:function(_920){if(_920.success=="OK"){alert("Email Footer Added");this.savebtn.cancel();this._dialog.hide();_918.publish("/emailfooter/add",[_920.data]);}else{alert("Problem Adding Email Footer");}this.savebtn.cancel();},});});},"dojox/charting/axis2d/Default":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/sniff","dojo/_base/declare","dojo/_base/connect","dojo/dom-geometry","./Invisible","../scaler/linear","./common","dojox/gfx","dojox/lang/utils","dojox/lang/functional","dojo/has!dojo-bidi?../bidi/axis2d/Default"],function(lang,arr,has,_921,_922,_923,_924,lin,_925,g,du,df,_926){var _927=45;var _928=_921(has("dojo-bidi")?"dojox.charting.axis2d.NonBidiDefault":"dojox.charting.axis2d.Default",_924,{defaultParams:{vertical:false,fixUpper:"none",fixLower:"none",natural:false,leftBottom:true,includeZero:false,fixed:true,majorLabels:true,minorTicks:true,minorLabels:true,microTicks:false,rotation:0,htmlLabels:true,enableCache:false,dropLabels:true,labelSizeChange:false,position:"leftOrBottom"},optionalParams:{min:0,max:1,from:0,to:1,majorTickStep:4,minorTickStep:2,microTickStep:1,labels:[],labelFunc:null,maxLabelSize:0,maxLabelCharCount:0,trailingSymbol:null,stroke:{},majorTick:{},minorTick:{},microTick:{},tick:{},font:"",fontColor:"",title:"",titleGap:0,titleFont:"",titleFontColor:"",titleOrientation:""},constructor:function(_929,_92a){this.opt=lang.clone(this.defaultParams);du.updateWithObject(this.opt,_92a);du.updateWithPattern(this.opt,_92a,this.optionalParams);if(this.opt.enableCache){this._textFreePool=[];this._lineFreePool=[];this._textUsePool=[];this._lineUsePool=[];}this._invalidMaxLabelSize=true;if(!(_92a&&("position" in _92a))){this.opt.position=this.opt.leftBottom?"leftOrBottom":"rightOrTop";}this.renderingOptions={"shape-rendering":"crispEdges"};},setWindow:function(_92b,_92c){if(_92b!=this.scale){this._invalidMaxLabelSize=true;}return this.inherited(arguments);},_groupLabelWidth:function(_92d,font,_92e){if(!_92d.length){return 0;}if(_92d.length>50){_92d.length=50;}if(lang.isObject(_92d[0])){_92d=df.map(_92d,function(_92f){return _92f.text;});}if(_92e){_92d=df.map(_92d,function(_930){return lang.trim(_930).length==0?"":_930.substring(0,_92e)+this.trailingSymbol;},this);}var s=_92d.join("<br>");return g._base._getTextBox(s,{font:font}).w||0;},_getMaxLabelSize:function(min,max,span,_931,font,size){if(this._maxLabelSize==null&&arguments.length==6){var o=this.opt;this.scaler.minMinorStep=this._prevMinMinorStep=0;var ob=lang.clone(o);delete ob.to;delete ob.from;var sb=lin.buildScaler(min,max,span,ob,o.to-o.from);sb.minMinorStep=0;this._majorStart=sb.major.start;var tb=lin.buildTicks(sb,o);if(size&&tb){var _932=0,_933=0;var _934=function(tick){if(tick.label){this.push(tick.label);}};var _935=[];if(this.opt.majorLabels){arr.forEach(tb.major,_934,_935);_932=this._groupLabelWidth(_935,font,ob.maxLabelCharCount);if(ob.maxLabelSize){_932=Math.min(ob.maxLabelSize,_932);}}_935=[];if(this.opt.dropLabels&&this.opt.minorLabels){arr.forEach(tb.minor,_934,_935);_933=this._groupLabelWidth(_935,font,ob.maxLabelCharCount);if(ob.maxLabelSize){_933=Math.min(ob.maxLabelSize,_933);}}this._maxLabelSize={majLabelW:_932,minLabelW:_933,majLabelH:size,minLabelH:size};}else{this._maxLabelSize=null;}}return this._maxLabelSize;},calculate:function(min,max,span){this.inherited(arguments);this.scaler.minMinorStep=this._prevMinMinorStep;if((this._invalidMaxLabelSize||span!=this._oldSpan)&&(min!=Infinity&&max!=-Infinity)){this._invalidMaxLabelSize=false;if(this.opt.labelSizeChange){this._maxLabelSize=null;}this._oldSpan=span;var o=this.opt;var ta=this.chart.theme.axis,_936=o.rotation%360,_937=this.chart.theme.axis.tick.labelGap,font=o.font||(ta.majorTick&&ta.majorTick.font)||(ta.tick&&ta.tick.font),size=font?g.normalizedLength(g.splitFontString(font).size):0,_938=this._getMaxLabelSize(min,max,span,_936,font,size);if(typeof _937!="number"){_937=4;}if(_938&&o.dropLabels){var cosr=Math.abs(Math.cos(_936*Math.PI/180)),sinr=Math.abs(Math.sin(_936*Math.PI/180));var _939,_93a;if(_936<0){_936+=360;}switch(_936){case 0:case 180:if(this.vertical){_939=_93a=size;}else{_939=_938.majLabelW;_93a=_938.minLabelW;}break;case 90:case 270:if(this.vertical){_939=_938.majLabelW;_93a=_938.minLabelW;}else{_939=_93a=size;}break;default:_939=this.vertical?Math.min(_938.majLabelW,size/cosr):Math.min(_938.majLabelW,size/sinr);var gap1=Math.sqrt(_938.minLabelW*_938.minLabelW+size*size),gap2=this.vertical?size*cosr+_938.minLabelW*sinr:_938.minLabelW*cosr+size*sinr;_93a=Math.min(gap1,gap2);break;}this.scaler.minMinorStep=this._prevMinMinorStep=Math.max(_939,_93a)+_937;var _93b=this.scaler.minMinorStep<=this.scaler.minor.tick*this.scaler.bounds.scale;if(!_93b){this._skipInterval=Math.floor((_939+_937)/(this.scaler.major.tick*this.scaler.bounds.scale));}else{this._skipInterval=0;}}else{this._skipInterval=0;}}this.ticks=lin.buildTicks(this.scaler,this.opt);return this;},getOffsets:function(){var s=this.scaler,_93c={l:0,r:0,t:0,b:0};if(!s){return _93c;}var o=this.opt,ta=this.chart.theme.axis,_93d=this.chart.theme.axis.tick.labelGap,_93e=o.titleFont||(ta.title&&ta.title.font),_93f=(o.titleGap==0)?0:o.titleGap||(ta.title&&ta.title.gap),_940=this.chart.theme.getTick("major",o),_941=this.chart.theme.getTick("minor",o),_942=_93e?g.normalizedLength(g.splitFontString(_93e).size):0,_943=o.rotation%360,_944=o.position,_945=_944!=="rightOrTop",cosr=Math.abs(Math.cos(_943*Math.PI/180)),sinr=Math.abs(Math.sin(_943*Math.PI/180));this.trailingSymbol=(o.trailingSymbol===undefined||o.trailingSymbol===null)?this.trailingSymbol:o.trailingSymbol;if(typeof _93d!="number"){_93d=4;}if(_943<0){_943+=360;}var _946=this._getMaxLabelSize();if(_946){var side;var _947=Math.ceil(Math.max(_946.majLabelW,_946.minLabelW))+1,size=Math.ceil(Math.max(_946.majLabelH,_946.minLabelH))+1;if(this.vertical){side=_945?"l":"r";switch(_943){case 0:case 180:_93c[side]=_944==="center"?0:_947;_93c.t=_93c.b=size/2;break;case 90:case 270:_93c[side]=size;_93c.t=_93c.b=_947/2;break;default:if(_943<=_927||(180<_943&&_943<=(180+_927))){_93c[side]=size*sinr/2+_947*cosr;_93c[_945?"t":"b"]=size*cosr/2+_947*sinr;_93c[_945?"b":"t"]=size*cosr/2;}else{if(_943>(360-_927)||(180>_943&&_943>(180-_927))){_93c[side]=size*sinr/2+_947*cosr;_93c[_945?"b":"t"]=size*cosr/2+_947*sinr;_93c[_945?"t":"b"]=size*cosr/2;}else{if(_943<90||(180<_943&&_943<270)){_93c[side]=size*sinr+_947*cosr;_93c[_945?"t":"b"]=size*cosr+_947*sinr;}else{_93c[side]=size*sinr+_947*cosr;_93c[_945?"b":"t"]=size*cosr+_947*sinr;}}}break;}if(_944==="center"){_93c[side]=0;}else{_93c[side]+=_93d+Math.max(_940.length>0?_940.length:0,_941.length>0?_941.length:0)+(o.title?(_942+_93f):0);}}else{side=_945?"b":"t";switch(_943){case 0:case 180:_93c[side]=_944==="center"?0:size;_93c.l=_93c.r=_947/2;break;case 90:case 270:_93c[side]=_947;_93c.l=_93c.r=size/2;break;default:if((90-_927)<=_943&&_943<=90||(270-_927)<=_943&&_943<=270){_93c[side]=size*cosr/2+_947*sinr;_93c[_945?"r":"l"]=size*sinr/2+_947*cosr;_93c[_945?"l":"r"]=size*sinr/2;}else{if(90<=_943&&_943<=(90+_927)||270<=_943&&_943<=(270+_927)){_93c[side]=size*cosr/2+_947*sinr;_93c[_945?"l":"r"]=size*sinr/2+_947*cosr;_93c[_945?"r":"l"]=size*sinr/2;}else{if(_943<_927||(180<_943&&_943<(180+_927))){_93c[side]=size*cosr+_947*sinr;_93c[_945?"r":"l"]=size*sinr+_947*cosr;}else{_93c[side]=size*cosr+_947*sinr;_93c[_945?"l":"r"]=size*sinr+_947*cosr;}}}break;}if(_944==="center"){_93c[side]=0;}else{_93c[side]+=_93d+Math.max(_940.length>0?_940.length:0,_941.length>0?_941.length:0)+(o.title?(_942+_93f):0);}}}return _93c;},cleanGroup:function(_948){if(this.opt.enableCache&&this.group){this._lineFreePool=this._lineFreePool.concat(this._lineUsePool);this._lineUsePool=[];this._textFreePool=this._textFreePool.concat(this._textUsePool);this._textUsePool=[];}this.inherited(arguments);},createText:function(_949,_94a,x,y,_94b,_94c,font,_94d,_94e){if(!this.opt.enableCache||_949=="html"){return _925.createText[_949](this.chart,_94a,x,y,_94b,_94c,font,_94d,_94e);}var text;if(this._textFreePool.length>0){text=this._textFreePool.pop();text.setShape({x:x,y:y,text:_94c,align:_94b});_94a.add(text);}else{text=_925.createText[_949](this.chart,_94a,x,y,_94b,_94c,font,_94d);}this._textUsePool.push(text);return text;},createLine:function(_94f,_950){var line;if(this.opt.enableCache&&this._lineFreePool.length>0){line=this._lineFreePool.pop();line.setShape(_950);_94f.add(line);}else{line=_94f.createLine(_950);}if(this.opt.enableCache){this._lineUsePool.push(line);}return line;},render:function(dim,_951){var _952=this._isRtl();if(!this.dirty||!this.scaler){return this;}var o=this.opt,ta=this.chart.theme.axis,_953=o.position,_954=_953!=="rightOrTop",_955=o.rotation%360,_956,stop,_957,_958=0,_959,_95a,_95b,_95c,_95d,_95e,_95f=this.chart.theme.axis.tick.labelGap,_960=o.font||(ta.majorTick&&ta.majorTick.font)||(ta.tick&&ta.tick.font),_961=o.titleFont||(ta.title&&ta.title.font),_962=o.fontColor||(ta.majorTick&&ta.majorTick.fontColor)||(ta.tick&&ta.tick.fontColor)||"black",_963=o.titleFontColor||(ta.title&&ta.title.fontColor)||"black",_964=(o.titleGap==0)?0:o.titleGap||(ta.title&&ta.title.gap)||15,_965=o.titleOrientation||(ta.title&&ta.title.orientation)||"axis",_966=this.chart.theme.getTick("major",o),_967=this.chart.theme.getTick("minor",o),_968=this.chart.theme.getTick("micro",o),_969="stroke" in o?o.stroke:ta.stroke,size=_960?g.normalizedLength(g.splitFontString(_960).size):0,cosr=Math.abs(Math.cos(_955*Math.PI/180)),sinr=Math.abs(Math.sin(_955*Math.PI/180)),_96a=_961?g.normalizedLength(g.splitFontString(_961).size):0;if(typeof _95f!="number"){_95f=4;}if(_955<0){_955+=360;}var _96b=this._getMaxLabelSize();_96b=_96b&&_96b.majLabelW;if(this.vertical){_956={y:dim.height-_951.b};stop={y:_951.t};_957={y:(dim.height-_951.b+_951.t)/2};_959=size*sinr+(_96b||0)*cosr+_95f+Math.max(_966.length>0?_966.length:0,_967.length>0?_967.length:0)+_96a+_964;_95a={x:0,y:-1};_95d={x:0,y:0};_95b={x:1,y:0};_95c={x:_95f,y:0};switch(_955){case 0:_95e="end";_95d.y=size*0.4;break;case 90:_95e="middle";_95d.x=-size;break;case 180:_95e="start";_95d.y=-size*0.4;break;case 270:_95e="middle";break;default:if(_955<_927){_95e="end";_95d.y=size*0.4;}else{if(_955<90){_95e="end";_95d.y=size*0.4;}else{if(_955<(180-_927)){_95e="start";}else{if(_955<(180+_927)){_95e="start";_95d.y=-size*0.4;}else{if(_955<270){_95e="start";_95d.x=_954?0:size*0.4;}else{if(_955<(360-_927)){_95e="end";_95d.x=_954?0:size*0.4;}else{_95e="end";_95d.y=size*0.4;}}}}}}}if(_954){_956.x=stop.x=_953==="center"?dim.width/2:_951.l;_958=(_965&&_965=="away")?90:270;_957.x=_951.l-_959+(_958==270?_96a:0);_95b.x=-1;_95c.x=-_95c.x;}else{_956.x=stop.x=dim.width-_951.r;_958=(_965&&_965=="axis")?90:270;_957.x=dim.width-_951.r+_959-(_958==270?0:_96a);switch(_95e){case "start":_95e="end";break;case "end":_95e="start";break;case "middle":_95d.x+=size;break;}}}else{_956={x:_951.l};stop={x:dim.width-_951.r};_957={x:(dim.width-_951.r+_951.l)/2};_959=size*cosr+(_96b||0)*sinr+_95f+Math.max(_966.length>0?_966.length:0,_967.length>0?_967.length:0)+_96a+_964;_95a={x:_952?-1:1,y:0};_95d={x:0,y:0};_95b={x:0,y:1};_95c={x:0,y:_95f};switch(_955){case 0:_95e="middle";_95d.y=size;break;case 90:_95e="start";_95d.x=-size*0.4;break;case 180:_95e="middle";break;case 270:_95e="end";_95d.x=size*0.4;break;default:if(_955<(90-_927)){_95e="start";_95d.y=_954?size:0;}else{if(_955<(90+_927)){_95e="start";_95d.x=-size*0.4;}else{if(_955<180){_95e="start";_95d.y=_954?0:-size;}else{if(_955<(270-_927)){_95e="end";_95d.y=_954?0:-size;}else{if(_955<(270+_927)){_95e="end";_95d.y=_954?size*0.4:0;}else{_95e="end";_95d.y=_954?size:0;}}}}}}if(_954){_956.y=stop.y=_953==="center"?dim.height/2:dim.height-_951.b;_958=(_965&&_965=="axis")?180:0;_957.y=dim.height-_951.b+_959-(_958?_96a:0);}else{_956.y=stop.y=_951.t;_958=(_965&&_965=="away")?180:0;_957.y=_951.t-_959+(_958?0:_96a);_95b.y=-1;_95c.y=-_95c.y;switch(_95e){case "start":_95e="end";break;case "end":_95e="start";break;case "middle":_95d.y-=size;break;}}}this.cleanGroup();var s=this.group,c=this.scaler,t=this.ticks,f=lin.getTransformerFromModel(this.scaler),_96c=(!o.title||!_958)&&!_955&&this.opt.htmlLabels&&!has("ie")&&!has("opera")?"html":"gfx",dx=_95b.x*_966.length,dy=_95b.y*_966.length,skip=this._skipInterval;s.createLine({x1:_956.x,y1:_956.y,x2:stop.x,y2:stop.y}).setStroke(_969);if(o.title){var _96d=_925.createText[_96c](this.chart,s,_957.x,_957.y,"middle",o.title,_961,_963);if(_96c=="html"){this.htmlElements.push(_96d);}else{_96d.setTransform(g.matrix.rotategAt(_958,_957.x,_957.y));}}if(t==null){this.dirty=false;return this;}var rel=(t.major.length>0)?(t.major[0].value-this._majorStart)/c.major.tick:0;var _96e=this.opt.majorLabels;arr.forEach(t.major,function(tick,i){var _96f=f(tick.value),elem,x=(_952?stop.x:_956.x)+_95a.x*_96f,y=_956.y+_95a.y*_96f;i+=rel;this.createLine(s,{x1:x,y1:y,x2:x+dx,y2:y+dy}).setStroke(_966);if(tick.label&&(!skip||(i-(1+skip))%(1+skip)==0)){var _970=o.maxLabelCharCount?this.getTextWithLimitCharCount(tick.label,_960,o.maxLabelCharCount):{text:tick.label,truncated:false};_970=o.maxLabelSize?this.getTextWithLimitLength(_970.text,_960,o.maxLabelSize,_970.truncated):_970;elem=this.createText(_96c,s,x+(_966.length>0?dx:0)+_95c.x+(_955?0:_95d.x),y+(_966.length>0?dy:0)+_95c.y+(_955?0:_95d.y),_95e,_970.text,_960,_962);if(_970.truncated){this.chart.formatTruncatedLabel(elem,tick.label,_96c);}_970.truncated&&this.labelTooltip(elem,this.chart,tick.label,_970.text,_960,_96c);if(_96c=="html"){this.htmlElements.push(elem);}else{if(_955){elem.setTransform([{dx:_95d.x,dy:_95d.y},g.matrix.rotategAt(_955,x+(_966.length>0?dx:0)+_95c.x,y+(_966.length>0?dy:0)+_95c.y)]);}}}},this);dx=_95b.x*_967.length;dy=_95b.y*_967.length;_96e=this.opt.minorLabels&&c.minMinorStep<=c.minor.tick*c.bounds.scale;arr.forEach(t.minor,function(tick){var _971=f(tick.value),elem,x=(_952?stop.x:_956.x)+_95a.x*_971,y=_956.y+_95a.y*_971;this.createLine(s,{x1:x,y1:y,x2:x+dx,y2:y+dy}).setStroke(_967);if(_96e&&tick.label){var _972=o.maxLabelCharCount?this.getTextWithLimitCharCount(tick.label,_960,o.maxLabelCharCount):{text:tick.label,truncated:false};_972=o.maxLabelSize?this.getTextWithLimitLength(_972.text,_960,o.maxLabelSize,_972.truncated):_972;elem=this.createText(_96c,s,x+(_967.length>0?dx:0)+_95c.x+(_955?0:_95d.x),y+(_967.length>0?dy:0)+_95c.y+(_955?0:_95d.y),_95e,_972.text,_960,_962);if(_972.truncated){this.chart.formatTruncatedLabel(elem,tick.label,_96c);}_972.truncated&&this.labelTooltip(elem,this.chart,tick.label,_972.text,_960,_96c);if(_96c=="html"){this.htmlElements.push(elem);}else{if(_955){elem.setTransform([{dx:_95d.x,dy:_95d.y},g.matrix.rotategAt(_955,x+(_967.length>0?dx:0)+_95c.x,y+(_967.length>0?dy:0)+_95c.y)]);}}}},this);dx=_95b.x*_968.length;dy=_95b.y*_968.length;arr.forEach(t.micro,function(tick){var _973=f(tick.value),x=_956.x+_95a.x*_973,y=_956.y+_95a.y*_973;this.createLine(s,{x1:x,y1:y,x2:x+dx,y2:y+dy}).setStroke(_968);},this);this.dirty=false;return this;},labelTooltip:function(elem,_974,_975,_976,font,_977){var _978=["dijit/Tooltip"];var _979={type:"rect"},_97a=["above","below"],_97b=g._base._getTextBox(_976,{font:font}).w||0,_97c=font?g.normalizedLength(g.splitFontString(font).size):0;if(_977=="html"){lang.mixin(_979,_923.position(elem.firstChild,true));_979.width=Math.ceil(_97b);_979.height=Math.ceil(_97c);this._events.push({shape:dojo,handle:_922.connect(elem.firstChild,"onmouseover",this,function(e){require(_978,function(_97d){_97d.show(_975,_979,_97a);});})});this._events.push({shape:dojo,handle:_922.connect(elem.firstChild,"onmouseout",this,function(e){require(_978,function(_97e){_97e.hide(_979);});})});}else{var shp=elem.getShape(),lt=_974.getCoords();_979=lang.mixin(_979,{x:shp.x-_97b/2,y:shp.y});_979.x+=lt.x;_979.y+=lt.y;_979.x=Math.round(_979.x);_979.y=Math.round(_979.y);_979.width=Math.ceil(_97b);_979.height=Math.ceil(_97c);this._events.push({shape:elem,handle:elem.connect("onmouseenter",this,function(e){require(_978,function(_97f){_97f.show(_975,_979,_97a);});})});this._events.push({shape:elem,handle:elem.connect("onmouseleave",this,function(e){require(_978,function(_980){_980.hide(_979);});})});}},_isRtl:function(){return false;}});return has("dojo-bidi")?_921("dojox.charting.axis2d.Default",[_928,_926]):_928;});},"dojox/charting/Chart":function(){define(["../main","dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dojo/dom-style","dojo/dom","dojo/dom-geometry","dojo/dom-construct","dojo/_base/Color","dojo/sniff","./Element","./SimpleTheme","./Series","./axis2d/common","dojox/gfx/shape","dojox/gfx","dojo/has!dojo-bidi?./bidi/Chart","dojox/lang/functional","dojox/lang/functional/fold","dojox/lang/functional/reversed"],function(_981,lang,arr,_982,_983,dom,_984,_985,_986,has,_987,_988,_989,_98a,_98b,g,_98c,func){var dc=lang.getObject("charting",true,_981),_98d=func.lambda("item.clear()"),_98e=func.lambda("item.purgeGroup()"),_98f=func.lambda("item.destroy()"),_990=func.lambda("item.dirty = false"),_991=func.lambda("item.dirty = true"),_992=func.lambda("item.name"),_993={l:10,t:10,r:10,b:10};var _994=_982(has("dojo-bidi")?"dojox.charting.NonBidiChart":"dojox.charting.Chart",null,{constructor:function(node,_995){if(!_995){_995={};}this.margins=_995.margins||_993;this._customMargins=!!_995.margins;this.stroke=_995.stroke;this.fill=_995.fill;this.delayInMs=_995.delayInMs||200;this.title=_995.title;this.titleGap=_995.titleGap;this.titlePos=_995.titlePos;this.titleFont=_995.titleFont;this.titleFontColor=_995.titleFontColor;this.titleAlign=_995.titleAlign;this.chartTitle=null;this.htmlLabels=true;if("htmlLabels" in _995){this.htmlLabels=_995.htmlLabels;}this.theme=null;this.axes={};this.stack=[];this.plots={};this.series=[];this.runs={};this.dirty=true;this.node=dom.byId(node);var box=_984.getMarginBox(node);this.surface=g.createSurface(this.node,box.w||400,box.h||300);if(this.surface.declaredClass.indexOf("vml")==-1){this._nativeClip=true;}},destroy:function(){arr.forEach(this.series,_98f);arr.forEach(this.stack,_98f);func.forIn(this.axes,_98f);this.surface.destroy();if(this.chartTitle&&this.chartTitle.tagName){_985.destroy(this.chartTitle);}},getCoords:function(){var node=this.node;var s=_983.getComputedStyle(node),_996=_984.getMarginBox(node,s);var abs=_984.position(node,true);_996.x=abs.x;_996.y=abs.y;return _996;},setTheme:function(_997){this.theme=_997.clone();if(!this._customMargins){this.margins=this.theme.chart.margins||_993;}this.dirty=true;return this;},addAxis:function(name,_998){var axis,_999=_998&&_998.type||"Default";if(typeof _999=="string"){if(!dc.axis2d||!dc.axis2d[_999]){throw Error("Can't find axis: "+_999+" - Check "+"require() dependencies.");}axis=new dc.axis2d[_999](this,_998);}else{axis=new _999(this,_998);}axis.name=name;axis.dirty=true;if(name in this.axes){this.axes[name].destroy();}this.axes[name]=axis;this.dirty=true;return this;},getAxis:function(name){return this.axes[name];},removeAxis:function(name){if(name in this.axes){this.axes[name].destroy();delete this.axes[name];this.dirty=true;}return this;},addPlot:function(name,_99a){var plot,_99b=_99a&&_99a.type||"Default";if(typeof _99b=="string"){if(!dc.plot2d||!dc.plot2d[_99b]){throw Error("Can't find plot: "+_99b+" - didn't you forget to dojo"+".require() it?");}plot=new dc.plot2d[_99b](this,_99a);}else{plot=new _99b(this,_99a);}plot.name=name;plot.dirty=true;if(name in this.plots){this.stack[this.plots[name]].destroy();this.stack[this.plots[name]]=plot;}else{this.plots[name]=this.stack.length;this.stack.push(plot);}this.dirty=true;return this;},getPlot:function(name){return this.stack[this.plots[name]];},removePlot:function(name){if(name in this.plots){var _99c=this.plots[name];delete this.plots[name];this.stack[_99c].destroy();this.stack.splice(_99c,1);func.forIn(this.plots,function(idx,name,_99d){if(idx>_99c){_99d[name]=idx-1;}});var ns=arr.filter(this.series,function(run){return run.plot!=name;});if(ns.length<this.series.length){arr.forEach(this.series,function(run){if(run.plot==name){run.destroy();}});this.runs={};arr.forEach(ns,function(run,_99e){this.runs[run.plot]=_99e;},this);this.series=ns;}this.dirty=true;}return this;},getPlotOrder:function(){return func.map(this.stack,_992);},setPlotOrder:function(_99f){var _9a0={},_9a1=func.filter(_99f,function(name){if(!(name in this.plots)||(name in _9a0)){return false;}_9a0[name]=1;return true;},this);if(_9a1.length<this.stack.length){func.forEach(this.stack,function(plot){var name=plot.name;if(!(name in _9a0)){_9a1.push(name);}});}var _9a2=func.map(_9a1,function(name){return this.stack[this.plots[name]];},this);func.forEach(_9a2,function(plot,i){this.plots[plot.name]=i;},this);this.stack=_9a2;this.dirty=true;return this;},movePlotToFront:function(name){if(name in this.plots){var _9a3=this.plots[name];if(_9a3){var _9a4=this.getPlotOrder();_9a4.splice(_9a3,1);_9a4.unshift(name);return this.setPlotOrder(_9a4);}}return this;},movePlotToBack:function(name){if(name in this.plots){var _9a5=this.plots[name];if(_9a5<this.stack.length-1){var _9a6=this.getPlotOrder();_9a6.splice(_9a5,1);_9a6.push(name);return this.setPlotOrder(_9a6);}}return this;},addSeries:function(name,data,_9a7){var run=new _989(this,data,_9a7);run.name=name;if(name in this.runs){this.series[this.runs[name]].destroy();this.series[this.runs[name]]=run;}else{this.runs[name]=this.series.length;this.series.push(run);}this.dirty=true;if(!("ymin" in run)&&"min" in run){run.ymin=run.min;}if(!("ymax" in run)&&"max" in run){run.ymax=run.max;}return this;},getSeries:function(name){return this.series[this.runs[name]];},removeSeries:function(name){if(name in this.runs){var _9a8=this.runs[name];delete this.runs[name];this.series[_9a8].destroy();this.series.splice(_9a8,1);func.forIn(this.runs,function(idx,name,runs){if(idx>_9a8){runs[name]=idx-1;}});this.dirty=true;}return this;},updateSeries:function(name,data,_9a9){if(name in this.runs){var run=this.series[this.runs[name]];run.update(data);if(_9a9){this.dirty=true;}else{this._invalidateDependentPlots(run.plot,false);this._invalidateDependentPlots(run.plot,true);}}return this;},getSeriesOrder:function(_9aa){return func.map(func.filter(this.series,function(run){return run.plot==_9aa;}),_992);},setSeriesOrder:function(_9ab){var _9ac,_9ad={},_9ae=func.filter(_9ab,function(name){if(!(name in this.runs)||(name in _9ad)){return false;}var run=this.series[this.runs[name]];if(_9ac){if(run.plot!=_9ac){return false;}}else{_9ac=run.plot;}_9ad[name]=1;return true;},this);func.forEach(this.series,function(run){var name=run.name;if(!(name in _9ad)&&run.plot==_9ac){_9ae.push(name);}});var _9af=func.map(_9ae,function(name){return this.series[this.runs[name]];},this);this.series=_9af.concat(func.filter(this.series,function(run){return run.plot!=_9ac;}));func.forEach(this.series,function(run,i){this.runs[run.name]=i;},this);this.dirty=true;return this;},moveSeriesToFront:function(name){if(name in this.runs){var _9b0=this.runs[name],_9b1=this.getSeriesOrder(this.series[_9b0].plot);if(name!=_9b1[0]){_9b1.splice(_9b0,1);_9b1.unshift(name);return this.setSeriesOrder(_9b1);}}return this;},moveSeriesToBack:function(name){if(name in this.runs){var _9b2=this.runs[name],_9b3=this.getSeriesOrder(this.series[_9b2].plot);if(name!=_9b3[_9b3.length-1]){_9b3.splice(_9b2,1);_9b3.push(name);return this.setSeriesOrder(_9b3);}}return this;},resize:function(_9b4,_9b5){switch(arguments.length){case 1:_984.setMarginBox(this.node,_9b4);break;case 2:_984.setMarginBox(this.node,{w:_9b4,h:_9b5});break;}var box=_984.getMarginBox(this.node);var d=this.surface.getDimensions();if(d.width!=box.w||d.height!=box.h){this.surface.setDimensions(box.w,box.h);this.dirty=true;return this.render();}else{return this;}},getGeometry:function(){var ret={};func.forIn(this.axes,function(axis){if(axis.initialized()){ret[axis.name]={name:axis.name,vertical:axis.vertical,scaler:axis.scaler,ticks:axis.ticks};}});return ret;},setAxisWindow:function(name,_9b6,_9b7,zoom){var axis=this.axes[name];if(axis){axis.setWindow(_9b6,_9b7);arr.forEach(this.stack,function(plot){if(plot.hAxis==name||plot.vAxis==name){plot.zoom=zoom;}});}return this;},setWindow:function(sx,sy,dx,dy,zoom){if(!("plotArea" in this)){this.calculateGeometry();}func.forIn(this.axes,function(axis){var _9b8,_9b9,_9ba=axis.getScaler().bounds,s=_9ba.span/(_9ba.upper-_9ba.lower);if(axis.vertical){_9b8=sy;_9b9=dy/s/_9b8;}else{_9b8=sx;_9b9=dx/s/_9b8;}axis.setWindow(_9b8,_9b9);});arr.forEach(this.stack,function(plot){plot.zoom=zoom;});return this;},zoomIn:function(name,_9bb,_9bc){var axis=this.axes[name];if(axis){var _9bd,_9be,_9bf=axis.getScaler().bounds;var _9c0=Math.min(_9bb[0],_9bb[1]);var _9c1=Math.max(_9bb[0],_9bb[1]);_9c0=_9bb[0]<_9bf.lower?_9bf.lower:_9c0;_9c1=_9bb[1]>_9bf.upper?_9bf.upper:_9c1;_9bd=(_9bf.upper-_9bf.lower)/(_9c1-_9c0);_9be=_9c0-_9bf.lower;this.setAxisWindow(name,_9bd,_9be);if(_9bc){this.delayedRender();}else{this.render();}}},calculateGeometry:function(){if(this.dirty){return this.fullGeometry();}var _9c2=arr.filter(this.stack,function(plot){return plot.dirty||(plot.hAxis&&this.axes[plot.hAxis].dirty)||(plot.vAxis&&this.axes[plot.vAxis].dirty);},this);_9c3(_9c2,this.plotArea);return this;},fullGeometry:function(){this._makeDirty();arr.forEach(this.stack,_98d);if(!this.theme){this.setTheme(new _988());}arr.forEach(this.series,function(run){if(!(run.plot in this.plots)){if(!dc.plot2d||!dc.plot2d.Default){throw Error("Can't find plot: Default - didn't you forget to dojo"+".require() it?");}var plot=new dc.plot2d.Default(this,{});plot.name=run.plot;this.plots[run.plot]=this.stack.length;this.stack.push(plot);}this.stack[this.plots[run.plot]].addSeries(run);},this);arr.forEach(this.stack,function(plot){if(plot.assignAxes){plot.assignAxes(this.axes);}},this);var dim=this.dim=this.surface.getDimensions();dim.width=g.normalizedLength(dim.width);dim.height=g.normalizedLength(dim.height);func.forIn(this.axes,_98d);_9c3(this.stack,dim);var _9c4=this.offsets={l:0,r:0,t:0,b:0};var self=this;func.forIn(this.axes,function(axis){if(has("dojo-bidi")){self._resetLeftBottom(axis);}func.forIn(axis.getOffsets(),function(o,i){_9c4[i]=Math.max(o,_9c4[i]);});});if(this.title){this.titleGap=(this.titleGap==0)?0:this.titleGap||this.theme.chart.titleGap||20;this.titlePos=this.titlePos||this.theme.chart.titlePos||"top";this.titleFont=this.titleFont||this.theme.chart.titleFont;this.titleFontColor=this.titleFontColor||this.theme.chart.titleFontColor||"black";this.titleAlign=this.titleAlign||this.theme&&this.theme.chart&&this.theme.chart.titleAlign||"middle";var _9c5=g.normalizedLength(g.splitFontString(this.titleFont).size);_9c4[this.titlePos=="top"?"t":"b"]+=(_9c5+this.titleGap);}func.forIn(this.margins,function(o,i){_9c4[i]+=o;});this.plotArea={width:dim.width-_9c4.l-_9c4.r,height:dim.height-_9c4.t-_9c4.b};func.forIn(this.axes,_98d);_9c3(this.stack,this.plotArea);return this;},render:function(){if(this._delayedRenderHandle){clearTimeout(this._delayedRenderHandle);this._delayedRenderHandle=null;}if(this.theme){this.theme.clear();}if(this.dirty){return this.fullRender();}this.calculateGeometry();func.forEachRev(this.stack,function(plot){plot.render(this.dim,this.offsets);},this);func.forIn(this.axes,function(axis){axis.render(this.dim,this.offsets);},this);this._makeClean();return this;},fullRender:function(){this.fullGeometry();var _9c6=this.offsets,dim=this.dim;var w=Math.max(0,dim.width-_9c6.l-_9c6.r),h=Math.max(0,dim.height-_9c6.t-_9c6.b);arr.forEach(this.series,_98e);func.forIn(this.axes,_98e);arr.forEach(this.stack,_98e);var _9c7=this.surface.children;if(_98b.dispose){for(var i=0;i<_9c7.length;++i){_98b.dispose(_9c7[i]);}}if(this.chartTitle&&this.chartTitle.tagName){_985.destroy(this.chartTitle);}this.surface.clear();this.chartTitle=null;this._renderChartBackground(dim,_9c6);if(this._nativeClip){this._renderPlotBackground(dim,_9c6,w,h);}else{this._renderPlotBackground(dim,_9c6,w,h);}func.foldr(this.stack,function(z,plot){return plot.render(dim,_9c6),0;},0);if(!this._nativeClip){this._renderChartBackground(dim,_9c6);}if(this.title){this._renderTitle(dim,_9c6);}func.forIn(this.axes,function(axis){axis.render(dim,_9c6);});this._makeClean();return this;},_renderTitle:function(dim,_9c8){var _9c9=(g.renderer=="canvas")&&this.htmlLabels,_9ca=_9c9||!has("ie")&&!has("opera")&&this.htmlLabels?"html":"gfx",_9cb=g.normalizedLength(g.splitFontString(this.titleFont).size),tBox=g._base._getTextBox(this.title,{font:this.titleFont});var _9cc=this.titleAlign;var _9cd=has("dojo-bidi")&&this.isRightToLeft();var posX=dim.width/2;if(_9cc==="edge"){_9cc="left";if(_9cd){posX=dim.width-(_9c8.r+tBox.w);}else{posX=_9c8.l;}}else{if(_9cc!="middle"){if(_9cd){_9cc=_9cc==="left"?"right":"left";}if(_9cc==="left"){posX=this.margins.l;}else{if(_9cc==="right"){_9cc="left";posX=dim.width-(this.margins.l+tBox.w);}}}}this.chartTitle=_98a.createText[_9ca](this,this.surface,posX,this.titlePos=="top"?_9cb+this.margins.t:dim.height-this.margins.b,_9cc,this.title,this.titleFont,this.titleFontColor);},_renderChartBackground:function(dim,_9ce){var t=this.theme,rect;var fill=this.fill!==undefined?this.fill:(t.chart&&t.chart.fill);var _9cf=this.stroke!==undefined?this.stroke:(t.chart&&t.chart.stroke);if(fill=="inherit"){var node=this.node;fill=new _986(_983.get(node,"backgroundColor"));while(fill.a==0&&node!=document.documentElement){fill=new _986(_983.get(node,"backgroundColor"));node=node.parentNode;}}if(fill){if(this._nativeClip){fill=_987.prototype._shapeFill(_987.prototype._plotFill(fill,dim),{x:0,y:0,width:dim.width+1,height:dim.height+1});this.surface.createRect({width:dim.width+1,height:dim.height+1}).setFill(fill);}else{fill=_987.prototype._plotFill(fill,dim,_9ce);if(_9ce.l){rect={x:0,y:0,width:_9ce.l,height:dim.height+1};this.surface.createRect(rect).setFill(_987.prototype._shapeFill(fill,rect));}if(_9ce.r){rect={x:dim.width-_9ce.r,y:0,width:_9ce.r+1,height:dim.height+2};this.surface.createRect(rect).setFill(_987.prototype._shapeFill(fill,rect));}if(_9ce.t){rect={x:0,y:0,width:dim.width+1,height:_9ce.t};this.surface.createRect(rect).setFill(_987.prototype._shapeFill(fill,rect));}if(_9ce.b){rect={x:0,y:dim.height-_9ce.b,width:dim.width+1,height:_9ce.b+2};this.surface.createRect(rect).setFill(_987.prototype._shapeFill(fill,rect));}}}if(_9cf){this.surface.createRect({width:dim.width-1,height:dim.height-1}).setStroke(_9cf);}},_renderPlotBackground:function(dim,_9d0,w,h){var t=this.theme;var fill=t.plotarea&&t.plotarea.fill;var _9d1=t.plotarea&&t.plotarea.stroke;var rect={x:_9d0.l-1,y:_9d0.t-1,width:w+2,height:h+2};if(fill){fill=_987.prototype._shapeFill(_987.prototype._plotFill(fill,dim,_9d0),rect);this.surface.createRect(rect).setFill(fill);}if(_9d1){this.surface.createRect({x:_9d0.l,y:_9d0.t,width:w+1,height:h+1}).setStroke(_9d1);}},delayedRender:function(){if(!this._delayedRenderHandle){this._delayedRenderHandle=setTimeout(lang.hitch(this,function(){this.render();}),this.delayInMs);}return this;},connectToPlot:function(name,_9d2,_9d3){return name in this.plots?this.stack[this.plots[name]].connect(_9d2,_9d3):null;},fireEvent:function(_9d4,_9d5,_9d6){if(_9d4 in this.runs){var _9d7=this.series[this.runs[_9d4]].plot;if(_9d7 in this.plots){var plot=this.stack[this.plots[_9d7]];if(plot){plot.fireEvent(_9d4,_9d5,_9d6);}}}return this;},_makeClean:function(){arr.forEach(this.axes,_990);arr.forEach(this.stack,_990);arr.forEach(this.series,_990);this.dirty=false;},_makeDirty:function(){arr.forEach(this.axes,_991);arr.forEach(this.stack,_991);arr.forEach(this.series,_991);this.dirty=true;},_invalidateDependentPlots:function(_9d8,_9d9){if(_9d8 in this.plots){var plot=this.stack[this.plots[_9d8]],axis,_9da=_9d9?"vAxis":"hAxis";if(plot[_9da]){axis=this.axes[plot[_9da]];if(axis&&axis.dependOnData()){axis.dirty=true;arr.forEach(this.stack,function(p){if(p[_9da]&&p[_9da]==plot[_9da]){p.dirty=true;}});}}else{plot.dirty=true;}}},setDir:function(dir){return this;},_resetLeftBottom:function(axis){},formatTruncatedLabel:function(_9db,_9dc,_9dd){}});function _9de(_9df){return {min:_9df.hmin,max:_9df.hmax};};function _9e0(_9e1){return {min:_9e1.vmin,max:_9e1.vmax};};function _9e2(_9e3,h){_9e3.hmin=h.min;_9e3.hmax=h.max;};function _9e4(_9e5,v){_9e5.vmin=v.min;_9e5.vmax=v.max;};function _9e6(_9e7,_9e8){if(_9e7&&_9e8){_9e7.min=Math.min(_9e7.min,_9e8.min);_9e7.max=Math.max(_9e7.max,_9e8.max);}return _9e7||_9e8;};function _9c3(_9e9,_9ea){var _9eb={},axes={};arr.forEach(_9e9,function(plot){var _9ec=_9eb[plot.name]=plot.getSeriesStats();if(plot.hAxis){axes[plot.hAxis]=_9e6(axes[plot.hAxis],_9de(_9ec));}if(plot.vAxis){axes[plot.vAxis]=_9e6(axes[plot.vAxis],_9e0(_9ec));}});arr.forEach(_9e9,function(plot){var _9ed=_9eb[plot.name];if(plot.hAxis){_9e2(_9ed,axes[plot.hAxis]);}if(plot.vAxis){_9e4(_9ed,axes[plot.vAxis]);}plot.initializeScalers(_9ea,_9ed);});};return has("dojo-bidi")?_982("dojox.charting.Chart",[_994,_98c]):_994;});},"dijit/_base/focus":function(){define(["dojo/_base/array","dojo/dom","dojo/_base/lang","dojo/topic","dojo/_base/window","../focus","../selection","../main"],function(_9ee,dom,lang,_9ef,win,_9f0,_9f1,_9f2){var _9f3={_curFocus:null,_prevFocus:null,isCollapsed:function(){return _9f2.getBookmark().isCollapsed;},getBookmark:function(){var sel=win.global==window?_9f1:new _9f1.SelectionManager(win.global);return sel.getBookmark();},moveToBookmark:function(_9f4){var sel=win.global==window?_9f1:new _9f1.SelectionManager(win.global);return sel.moveToBookmark(_9f4);},getFocus:function(menu,_9f5){var node=!_9f0.curNode||(menu&&dom.isDescendant(_9f0.curNode,menu.domNode))?_9f2._prevFocus:_9f0.curNode;return {node:node,bookmark:node&&(node==_9f0.curNode)&&win.withGlobal(_9f5||win.global,_9f2.getBookmark),openedForWindow:_9f5};},_activeStack:[],registerIframe:function(_9f6){return _9f0.registerIframe(_9f6);},unregisterIframe:function(_9f7){_9f7&&_9f7.remove();},registerWin:function(_9f8,_9f9){return _9f0.registerWin(_9f8,_9f9);},unregisterWin:function(_9fa){_9fa&&_9fa.remove();}};_9f0.focus=function(_9fb){if(!_9fb){return;}var node="node" in _9fb?_9fb.node:_9fb,_9fc=_9fb.bookmark,_9fd=_9fb.openedForWindow,_9fe=_9fc?_9fc.isCollapsed:false;if(node){var _9ff=(node.tagName.toLowerCase()=="iframe")?node.contentWindow:node;if(_9ff&&_9ff.focus){try{_9ff.focus();}catch(e){}}_9f0._onFocusNode(node);}if(_9fc&&win.withGlobal(_9fd||win.global,_9f2.isCollapsed)&&!_9fe){if(_9fd){_9fd.focus();}try{win.withGlobal(_9fd||win.global,_9f2.moveToBookmark,null,[_9fc]);}catch(e2){}}};_9f0.watch("curNode",function(name,_a00,_a01){_9f2._curFocus=_a01;_9f2._prevFocus=_a00;if(_a01){_9ef.publish("focusNode",_a01);}});_9f0.watch("activeStack",function(name,_a02,_a03){_9f2._activeStack=_a03;});_9f0.on("widget-blur",function(_a04,by){_9ef.publish("widgetBlur",_a04,by);});_9f0.on("widget-focus",function(_a05,by){_9ef.publish("widgetFocus",_a05,by);});lang.mixin(_9f2,_9f3);return _9f2;});},"dijit/form/_FormMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/window"],function(_a06,_a07,_a08,lang,on,_a09){return _a07("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(_a0a){var res=[];_a06.forEach(_a0a||this.getChildren(),function(_a0b){if("value" in _a0b){res.push(_a0b);}else{res=res.concat(this._getDescendantFormWidgets(_a0b.getChildren()));}},this);return res;},reset:function(){_a06.forEach(this._getDescendantFormWidgets(),function(_a0c){if(_a0c.reset){_a0c.reset();}});},validate:function(){var _a0d=false;return _a06.every(_a06.map(this._getDescendantFormWidgets(),function(_a0e){_a0e._hasBeenBlurred=true;var _a0f=_a0e.disabled||!_a0e.validate||_a0e.validate();if(!_a0f&&!_a0d){_a09.scrollIntoView(_a0e.containerNode||_a0e.domNode);_a0e.focus();_a0d=true;}return _a0f;}),function(item){return item;});},setValues:function(val){_a08.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",val);},_setValueAttr:function(obj){var map={};_a06.forEach(this._getDescendantFormWidgets(),function(_a10){if(!_a10.name){return;}var _a11=map[_a10.name]||(map[_a10.name]=[]);_a11.push(_a10);});for(var name in map){if(!map.hasOwnProperty(name)){continue;}var _a12=map[name],_a13=lang.getObject(name,false,obj);if(_a13===undefined){continue;}_a13=[].concat(_a13);if(typeof _a12[0].checked=="boolean"){_a06.forEach(_a12,function(w){w.set("value",_a06.indexOf(_a13,w._get("value"))!=-1);});}else{if(_a12[0].multiple){_a12[0].set("value",_a13);}else{_a06.forEach(_a12,function(w,i){w.set("value",_a13[i]);});}}}},getValues:function(){_a08.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},_getValueAttr:function(){var obj={};_a06.forEach(this._getDescendantFormWidgets(),function(_a14){var name=_a14.name;if(!name||_a14.disabled){return;}var _a15=_a14.get("value");if(typeof _a14.checked=="boolean"){if(/Radio/.test(_a14.declaredClass)){if(_a15!==false){lang.setObject(name,_a15,obj);}else{_a15=lang.getObject(name,false,obj);if(_a15===undefined){lang.setObject(name,null,obj);}}}else{var ary=lang.getObject(name,false,obj);if(!ary){ary=[];lang.setObject(name,ary,obj);}if(_a15!==false){ary.push(_a15);}}}else{var prev=lang.getObject(name,false,obj);if(typeof prev!="undefined"){if(lang.isArray(prev)){prev.push(_a15);}else{lang.setObject(name,[prev,_a15],obj);}}else{lang.setObject(name,_a15,obj);}}});return obj;},isValid:function(){return this.state=="";},onValidStateChange:function(){},_getState:function(){var _a16=_a06.map(this._descendants,function(w){return w.get("state")||"";});return _a06.indexOf(_a16,"Error")>=0?"Error":_a06.indexOf(_a16,"Incomplete")>=0?"Incomplete":"";},disconnectChildren:function(){},connectChildren:function(_a17){this._descendants=this._getDescendantFormWidgets();_a06.forEach(this._descendants,function(_a18){if(!_a18._started){_a18.startup();}});if(!_a17){this._onChildChange();}},_onChildChange:function(attr){if(!attr||attr=="state"||attr=="disabled"){this._set("state",this._getState());}if(!attr||attr=="value"||attr=="disabled"||attr=="checked"){if(this._onChangeDelayTimer){this._onChangeDelayTimer.remove();}this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer;this._set("value",this.get("value"));},10);}},startup:function(){this.inherited(arguments);this._descendants=this._getDescendantFormWidgets();this.value=this.get("value");this.state=this._getState();var self=this;this.own(on(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(evt){if(evt.target==self.domNode){return;}self._onChildChange(evt.type.replace("attrmodified-",""));}));this.watch("state",function(attr,_a19,_a1a){this.onValidStateChange(_a1a=="");});},destroy:function(){this.inherited(arguments);}});});},"dijit/BackgroundIframe":function(){define(["require","./main","dojo/_base/config","dojo/dom-construct","dojo/dom-style","dojo/_base/lang","dojo/on","dojo/sniff"],function(_a1b,_a1c,_a1d,_a1e,_a1f,lang,on,has){has.add("config-bgIframe",(has("ie")&&!/IEMobile\/10\.0/.test(navigator.userAgent))||(has("trident")&&/Windows NT 6.[01]/.test(navigator.userAgent)));var _a20=new function(){var _a21=[];this.pop=function(){var _a22;if(_a21.length){_a22=_a21.pop();_a22.style.display="";}else{if(has("ie")<9){var burl=_a1d["dojoBlankHtmlUrl"]||_a1b.toUrl("dojo/resources/blank.html")||"javascript:\"\"";var html="<iframe src='"+burl+"' role='presentation'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_a22=document.createElement(html);}else{_a22=_a1e.create("iframe");_a22.src="javascript:\"\"";_a22.className="dijitBackgroundIframe";_a22.setAttribute("role","presentation");_a1f.set(_a22,"opacity",0.1);}_a22.tabIndex=-1;}return _a22;};this.push=function(_a23){_a23.style.display="none";_a21.push(_a23);};}();_a1c.BackgroundIframe=function(node){if(!node.id){throw new Error("no id");}if(has("config-bgIframe")){var _a24=(this.iframe=_a20.pop());node.appendChild(_a24);if(has("ie")<7||has("quirks")){this.resize(node);this._conn=on(node,"resize",lang.hitch(this,"resize",node));}else{_a1f.set(_a24,{width:"100%",height:"100%"});}}};lang.extend(_a1c.BackgroundIframe,{resize:function(node){if(this.iframe){_a1f.set(this.iframe,{width:node.offsetWidth+"px",height:node.offsetHeight+"px"});}},destroy:function(){if(this._conn){this._conn.remove();this._conn=null;}if(this.iframe){this.iframe.parentNode.removeChild(this.iframe);_a20.push(this.iframe);delete this.iframe;}}});return _a1c.BackgroundIframe;});},"dijit/layout/TabController":function(){define(["dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/has","dojo/i18n","dojo/_base/lang","./StackController","../registry","../Menu","../MenuItem","dojo/text!./templates/_TabButton.html","dojo/i18n!../nls/common"],function(_a25,dom,_a26,_a27,has,i18n,lang,_a28,_a29,Menu,_a2a,_a2b){var _a2c=_a25("dijit.layout._TabButton"+(has("dojo-bidi")?"_NoBidi":""),_a28.StackButton,{baseClass:"dijitTab",cssStateNodes:{closeNode:"dijitTabCloseButton"},templateString:_a2b,_setNameAttr:"focusNode",scrollOnFocus:false,buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.containerNode,false);},startup:function(){this.inherited(arguments);var n=this.domNode;this.defer(function(){n.className=n.className;},1);},_setCloseButtonAttr:function(disp){this._set("closeButton",disp);_a27.toggle(this.domNode,"dijitClosable",disp);this.closeNode.style.display=disp?"":"none";if(disp){var _a2d=i18n.getLocalization("dijit","common");if(this.closeNode){_a26.set(this.closeNode,"title",_a2d.itemClose);}}},_setDisabledAttr:function(_a2e){this.inherited(arguments);if(this.closeNode){if(_a2e){_a26.remove(this.closeNode,"title");}else{var _a2f=i18n.getLocalization("dijit","common");_a26.set(this.closeNode,"title",_a2f.itemClose);}}},_setLabelAttr:function(_a30){this.inherited(arguments);if(!this.showLabel&&!this.params.title){this.iconNode.alt=lang.trim(this.containerNode.innerText||this.containerNode.textContent||"");}}});if(has("dojo-bidi")){_a2c=_a25("dijit.layout._TabButton",_a2c,{_setLabelAttr:function(_a31){this.inherited(arguments);this.applyTextDir(this.iconNode,this.iconNode.alt);}});}var _a32=_a25("dijit.layout.TabController",_a28,{baseClass:"dijitTabController",templateString:"<div role='tablist' data-dojo-attach-event='onkeydown:onkeydown'></div>",tabPosition:"top",buttonWidget:_a2c,buttonWidgetCloseClass:"dijitTabCloseButton",postCreate:function(){this.inherited(arguments);var _a33=new Menu({id:this.id+"_Menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,targetNodeIds:[this.domNode],selector:function(node){return _a27.contains(node,"dijitClosable")&&!_a27.contains(node,"dijitTabDisabled");}});this.own(_a33);var _a34=i18n.getLocalization("dijit","common"),_a35=this;_a33.addChild(new _a2a({label:_a34.itemClose,ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,onClick:function(evt){var _a36=_a29.byNode(this.getParent().currentTarget);_a35.onCloseButtonClick(_a36.page);}}));}});_a32.TabButton=_a2c;return _a32;});},"dijit/_MenuBase":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/_base/lang","dojo/mouse","dojo/on","dojo/window","./a11yclick","./registry","./_Widget","./_CssStateMixin","./_KeyNavContainer","./_TemplatedMixin"],function(_a37,_a38,dom,_a39,_a3a,lang,_a3b,on,_a3c,_a3d,_a3e,_a3f,_a40,_a41,_a42){return _a38("dijit._MenuBase",[_a3f,_a42,_a41,_a40],{selected:null,_setSelectedAttr:function(item){if(this.selected!=item){if(this.selected){this.selected._setSelected(false);this._onChildDeselect(this.selected);}if(item){item._setSelected(true);}this._set("selected",item);}},activated:false,_setActivatedAttr:function(val){_a3a.toggle(this.domNode,"dijitMenuActive",val);_a3a.toggle(this.domNode,"dijitMenuPassive",!val);this._set("activated",val);},parentMenu:null,popupDelay:500,passivePopupDelay:Infinity,autoFocus:false,childSelector:function(node){var _a43=_a3e.byNode(node);return node.parentNode==this.containerNode&&_a43&&_a43.focus;},postCreate:function(){var self=this,_a44=typeof this.childSelector=="string"?this.childSelector:lang.hitch(this,"childSelector");this.own(on(this.containerNode,on.selector(_a44,_a3b.enter),function(){self.onItemHover(_a3e.byNode(this));}),on(this.containerNode,on.selector(_a44,_a3b.leave),function(){self.onItemUnhover(_a3e.byNode(this));}),on(this.containerNode,on.selector(_a44,_a3d),function(evt){self.onItemClick(_a3e.byNode(this),evt);evt.stopPropagation();}),on(this.containerNode,on.selector(_a44,"focusin"),function(){self._onItemFocus(_a3e.byNode(this));}));this.inherited(arguments);},onKeyboardSearch:function(item,evt,_a45,_a46){this.inherited(arguments);if(!!item&&(_a46==-1||(!!item.popup&&_a46==1))){this.onItemClick(item,evt);}},_keyboardSearchCompare:function(item,_a47){if(!!item.shortcutKey){return _a47==item.shortcutKey.toLowerCase()?-1:0;}return this.inherited(arguments)?1:0;},onExecute:function(){},onCancel:function(){},_moveToPopup:function(evt){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled){this.onItemClick(this.focusedChild,evt);}else{var _a48=this._getTopMenu();if(_a48&&_a48._isMenuBar){_a48.focusNext();}}},_onPopupHover:function(){this.set("selected",this.currentPopupItem);this._stopPendingCloseTimer();},onItemHover:function(item){if(this.activated){this.set("selected",item);if(item.popup&&!item.disabled&&!this.hover_timer){this.hover_timer=this.defer(function(){this._openItemPopup(item);},this.popupDelay);}}else{if(this.passivePopupDelay<Infinity){if(this.passive_hover_timer){this.passive_hover_timer.remove();}this.passive_hover_timer=this.defer(function(){this.onItemClick(item,{type:"click"});},this.passivePopupDelay);}}this._hoveredChild=item;item._set("hovering",true);},_onChildDeselect:function(item){this._stopPopupTimer();if(this.currentPopupItem==item){this._stopPendingCloseTimer();this._pendingClose_timer=this.defer(function(){this._pendingClose_timer=null;this.currentPopupItem=null;item._closePopup();},this.popupDelay);}},onItemUnhover:function(item){if(this._hoveredChild==item){this._hoveredChild=null;}if(this.passive_hover_timer){this.passive_hover_timer.remove();this.passive_hover_timer=null;}item._set("hovering",false);},_stopPopupTimer:function(){if(this.hover_timer){this.hover_timer=this.hover_timer.remove();}},_stopPendingCloseTimer:function(){if(this._pendingClose_timer){this._pendingClose_timer=this._pendingClose_timer.remove();}},_getTopMenu:function(){for(var top=this;top.parentMenu;top=top.parentMenu){}return top;},onItemClick:function(item,evt){if(this.passive_hover_timer){this.passive_hover_timer.remove();}this.focusChild(item);if(item.disabled){return false;}if(item.popup){this.set("selected",item);this.set("activated",true);var _a49=/^key/.test(evt._origType||evt.type)||(evt.clientX==0&&evt.clientY==0);this._openItemPopup(item,_a49);}else{this.onExecute();item._onClick?item._onClick(evt):item.onClick(evt);}},_openItemPopup:function(_a4a,_a4b){if(_a4a==this.currentPopupItem){return;}if(this.currentPopupItem){this._stopPendingCloseTimer();this.currentPopupItem._closePopup();}this._stopPopupTimer();var _a4c=_a4a.popup;_a4c.parentMenu=this;this.own(this._mouseoverHandle=on.once(_a4c.domNode,"mouseover",lang.hitch(this,"_onPopupHover")));var self=this;_a4a._openPopup({parent:this,orient:this._orient||["after","before"],onCancel:function(){if(_a4b){self.focusChild(_a4a);}self._cleanUp();},onExecute:lang.hitch(this,"_cleanUp",true),onClose:function(){if(self._mouseoverHandle){self._mouseoverHandle.remove();delete self._mouseoverHandle;}}},_a4b);this.currentPopupItem=_a4a;},onOpen:function(){this.isShowingNow=true;this.set("activated",true);},onClose:function(){this.set("activated",false);this.set("selected",null);this.isShowingNow=false;this.parentMenu=null;},_closeChild:function(){this._stopPopupTimer();if(this.currentPopupItem){if(this.focused){_a39.set(this.selected.focusNode,"tabIndex",this.tabIndex);this.selected.focusNode.focus();}this.currentPopupItem._closePopup();this.currentPopupItem=null;}},_onItemFocus:function(item){if(this._hoveredChild&&this._hoveredChild!=item){this.onItemUnhover(this._hoveredChild);}this.set("selected",item);},_onBlur:function(){this._cleanUp(true);this.inherited(arguments);},_cleanUp:function(_a4d){this._closeChild();if(typeof this.isShowingNow=="undefined"){this.set("activated",false);}if(_a4d){this.set("selected",null);}}});});},"ttl/grid/Grid":function(){define(["dojo/_base/declare","dojo/dom-style","dgrid/List","dgrid/OnDemandGrid","dgrid/Selection","dgrid/editor","dgrid/Keyboard","dgrid/tree","dgrid/extensions/DijitRegistry","dgrid/TouchScroll"],function(_a4e,_a4f,_a50,_a51,_a52,_a53,tree,_a54,_a55){return _a4e("ttl.grid.Grid",[_a50,_a51,_a52,_a53,tree,_a54,_a55],{pagingDelay:100,postCreate:function(){this.inherited(arguments);_a4f.set(this.domNode,"height","100%");}});});},"dijit/layout/ScrollingTabController":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/fx","dojo/_base/lang","dojo/on","dojo/query","dojo/sniff","../registry","dojo/text!./templates/ScrollingTabController.html","dojo/text!./templates/_ScrollingTabControllerButton.html","./TabController","./utils","../_WidgetsInTemplateMixin","../Menu","../MenuItem","../form/Button","../_HasDropDown","dojo/NodeList-dom","../a11yclick"],function(_a56,_a57,_a58,_a59,_a5a,fx,lang,on,_a5b,has,_a5c,_a5d,_a5e,_a5f,_a60,_a61,Menu,_a62,_a63,_a64){var _a65=_a57("dijit.layout.ScrollingTabController",[_a5f,_a61],{baseClass:"dijitTabController dijitScrollingTabController",templateString:_a5d,useMenu:true,useSlider:true,tabStripClass:"",_minScroll:5,_setClassAttr:{node:"containerNode",type:"class"},buildRendering:function(){this.inherited(arguments);var n=this.domNode;this.scrollNode=this.tablistWrapper;this._initButtons();if(!this.tabStripClass){this.tabStripClass="dijitTabContainer"+this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"")+"None";_a58.add(n,"tabStrip-disabled");}_a58.add(this.tablistWrapper,this.tabStripClass);},onStartup:function(){this.inherited(arguments);_a5a.set(this.domNode,"visibility","");this._postStartup=true;this.own(on(this.containerNode,"attrmodified-label, attrmodified-iconclass",lang.hitch(this,function(evt){if(this._dim){this.resize(this._dim);}})));},onAddChild:function(page,_a66){this.inherited(arguments);_a5a.set(this.containerNode,"width",(_a5a.get(this.containerNode,"width")+200)+"px");},onRemoveChild:function(page,_a67){var _a68=this.pane2button(page.id);if(this._selectedTab===_a68.domNode){this._selectedTab=null;}this.inherited(arguments);},_initButtons:function(){this._btnWidth=0;this._buttons=_a5b("> .tabStripButton",this.domNode).filter(function(btn){if((this.useMenu&&btn==this._menuBtn.domNode)||(this.useSlider&&(btn==this._rightBtn.domNode||btn==this._leftBtn.domNode))){this._btnWidth+=_a59.getMarginSize(btn).w;return true;}else{_a5a.set(btn,"display","none");return false;}},this);},_getTabsWidth:function(){var _a69=this.getChildren();if(_a69.length){var _a6a=_a69[this.isLeftToRight()?0:_a69.length-1].domNode,_a6b=_a69[this.isLeftToRight()?_a69.length-1:0].domNode;return _a6b.offsetLeft+_a6b.offsetWidth-_a6a.offsetLeft;}else{return 0;}},_enableBtn:function(_a6c){var _a6d=this._getTabsWidth();_a6c=_a6c||_a5a.get(this.scrollNode,"width");return _a6d>0&&_a6c<_a6d;},resize:function(dim){this._dim=dim;this.scrollNode.style.height="auto";var cb=this._contentBox=_a60.marginBox2contentBox(this.domNode,{h:0,w:dim.w});cb.h=this.scrollNode.offsetHeight;_a59.setContentSize(this.domNode,cb);var _a6e=this._enableBtn(this._contentBox.w);this._buttons.style("display",_a6e?"":"none");this._leftBtn.region="left";this._rightBtn.region="right";this._menuBtn.region=this.isLeftToRight()?"right":"left";_a60.layoutChildren(this.domNode,this._contentBox,[this._menuBtn,this._leftBtn,this._rightBtn,{domNode:this.scrollNode,region:"center"}]);if(this._selectedTab){if(this._anim&&this._anim.status()=="playing"){this._anim.stop();}this.scrollNode.scrollLeft=this._convertToScrollLeft(this._getScrollForSelectedTab());}this._setButtonClass(this._getScroll());this._postResize=true;return {h:this._contentBox.h,w:dim.w};},_getScroll:function(){return (this.isLeftToRight()||has("ie")<8||(has("trident")&&has("quirks"))||has("webkit"))?this.scrollNode.scrollLeft:_a5a.get(this.containerNode,"width")-_a5a.get(this.scrollNode,"width")+(has("trident")||has("edge")?-1:1)*this.scrollNode.scrollLeft;},_convertToScrollLeft:function(val){if(this.isLeftToRight()||has("ie")<8||(has("trident")&&has("quirks"))||has("webkit")){return val;}else{var _a6f=_a5a.get(this.containerNode,"width")-_a5a.get(this.scrollNode,"width");return (has("trident")||has("edge")?-1:1)*(val-_a6f);}},onSelectChild:function(page,_a70){var tab=this.pane2button(page.id);if(!tab){return;}var node=tab.domNode;if(node!=this._selectedTab){this._selectedTab=node;if(this._postResize){var sl=this._getScroll();if(sl>node.offsetLeft||sl+_a5a.get(this.scrollNode,"width")<node.offsetLeft+_a5a.get(node,"width")){var anim=this.createSmoothScroll();if(_a70){anim.onEnd=function(){tab.focus();};}anim.play();}else{if(_a70){tab.focus();}}}}this.inherited(arguments);},_getScrollBounds:function(){var _a71=this.getChildren(),_a72=_a5a.get(this.scrollNode,"width"),_a73=_a5a.get(this.containerNode,"width"),_a74=_a73-_a72,_a75=this._getTabsWidth();if(_a71.length&&_a75>_a72){return {min:this.isLeftToRight()?0:_a71[_a71.length-1].domNode.offsetLeft,max:this.isLeftToRight()?(_a71[_a71.length-1].domNode.offsetLeft+_a71[_a71.length-1].domNode.offsetWidth)-_a72:_a74};}else{var _a76=this.isLeftToRight()?0:_a74;return {min:_a76,max:_a76};}},_getScrollForSelectedTab:function(){var w=this.scrollNode,n=this._selectedTab,_a77=_a5a.get(this.scrollNode,"width"),_a78=this._getScrollBounds();var pos=(n.offsetLeft+_a5a.get(n,"width")/2)-_a77/2;pos=Math.min(Math.max(pos,_a78.min),_a78.max);return pos;},createSmoothScroll:function(x){if(arguments.length>0){var _a79=this._getScrollBounds();x=Math.min(Math.max(x,_a79.min),_a79.max);}else{x=this._getScrollForSelectedTab();}if(this._anim&&this._anim.status()=="playing"){this._anim.stop();}var self=this,w=this.scrollNode,anim=new fx.Animation({beforeBegin:function(){if(this.curve){delete this.curve;}var oldS=w.scrollLeft,newS=self._convertToScrollLeft(x);anim.curve=new fx._Line(oldS,newS);},onAnimate:function(val){w.scrollLeft=val;}});this._anim=anim;this._setButtonClass(x);return anim;},_getBtnNode:function(e){var n=e.target;while(n&&!_a58.contains(n,"tabStripButton")){n=n.parentNode;}return n;},doSlideRight:function(e){this.doSlide(1,this._getBtnNode(e));},doSlideLeft:function(e){this.doSlide(-1,this._getBtnNode(e));},doSlide:function(_a7a,node){if(node&&_a58.contains(node,"dijitTabDisabled")){return;}var _a7b=_a5a.get(this.scrollNode,"width");var d=(_a7b*0.75)*_a7a;var to=this._getScroll()+d;this._setButtonClass(to);this.createSmoothScroll(to).play();},_setButtonClass:function(_a7c){var _a7d=this._getScrollBounds();this._leftBtn.set("disabled",_a7c<=_a7d.min);this._rightBtn.set("disabled",_a7c>=_a7d.max);}});var _a7e=_a57("dijit.layout._ScrollingTabControllerButtonMixin",null,{baseClass:"dijitTab tabStripButton",templateString:_a5e,tabIndex:"",isFocusable:function(){return false;}});_a57("dijit.layout._ScrollingTabControllerButton",[_a63,_a7e]);_a57("dijit.layout._ScrollingTabControllerMenuButton",[_a63,_a64,_a7e],{containerId:"",tabIndex:"-1",isLoaded:function(){return false;},loadDropDown:function(_a7f){this.dropDown=new Menu({id:this.containerId+"_menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir});var _a80=_a5c.byId(this.containerId);_a56.forEach(_a80.getChildren(),function(page){var _a81=new _a62({id:page.id+"_stcMi",label:page.title,iconClass:page.iconClass,disabled:page.disabled,ownerDocument:this.ownerDocument,dir:page.dir,lang:page.lang,textDir:page.textDir||_a80.textDir,onClick:function(){_a80.selectChild(page);}});this.dropDown.addChild(_a81);},this);_a7f();},closeDropDown:function(_a82){this.inherited(arguments);if(this.dropDown){this._popupStateNode.removeAttribute("aria-owns");this.dropDown.destroyRecursive();delete this.dropDown;}}});return _a65;});},"dijit/form/_ListMouseMixin":function(){define(["dojo/_base/declare","dojo/on","dojo/touch","./_ListBase"],function(_a83,on,_a84,_a85){return _a83("dijit.form._ListMouseMixin",_a85,{postCreate:function(){this.inherited(arguments);this.domNode.dojoClick=true;this._listConnect("click","_onClick");this._listConnect("mousedown","_onMouseDown");this._listConnect("mouseup","_onMouseUp");this._listConnect("mouseover","_onMouseOver");this._listConnect("mouseout","_onMouseOut");},_onClick:function(evt,_a86){this._setSelectedAttr(_a86,false);if(this._deferredClick){this._deferredClick.remove();}this._deferredClick=this.defer(function(){this._deferredClick=null;this.onClick(_a86);});},_onMouseDown:function(evt,_a87){if(this._hoveredNode){this.onUnhover(this._hoveredNode);this._hoveredNode=null;}this._isDragging=true;this._setSelectedAttr(_a87,false);},_onMouseUp:function(evt,_a88){this._isDragging=false;var _a89=this.selected;var _a8a=this._hoveredNode;if(_a89&&_a88==_a89){this.defer(function(){this._onClick(evt,_a89);});}else{if(_a8a){this.defer(function(){this._onClick(evt,_a8a);});}}},_onMouseOut:function(evt,_a8b){if(this._hoveredNode){this.onUnhover(this._hoveredNode);this._hoveredNode=null;}if(this._isDragging){this._cancelDrag=(new Date()).getTime()+1000;}},_onMouseOver:function(evt,_a8c){if(this._cancelDrag){var time=(new Date()).getTime();if(time>this._cancelDrag){this._isDragging=false;}this._cancelDrag=null;}this._hoveredNode=_a8c;this.onHover(_a8c);if(this._isDragging){this._setSelectedAttr(_a8c,false);}}});});},"dojox/charting/plot2d/Bars":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dojo/has","./CartesianBase","./_PlotEvents","./common","dojox/gfx/fx","dojox/lang/utils","dojox/lang/functional","dojox/lang/functional/reversed"],function(lang,arr,_a8d,has,_a8e,_a8f,dc,fx,du,df,dfr){var _a90=dfr.lambda("item.purgeGroup()");var _a91=function(){return false;};return _a8d("dojox.charting.plot2d.Bars",[_a8e,_a8f],{defaultParams:{gap:0,animate:null,enableCache:false},optionalParams:{minBarSize:1,maxBarSize:1,stroke:{},outline:{},shadow:{},fill:{},filter:{},styleFunc:null,font:"",fontColor:""},constructor:function(_a92,_a93){this.opt=lang.clone(lang.mixin(this.opt,this.defaultParams));du.updateWithObject(this.opt,_a93);du.updateWithPattern(this.opt,_a93,this.optionalParams);this.animate=this.opt.animate;this.renderingOptions={"shape-rendering":"crispEdges"};},getSeriesStats:function(){var _a94=dc.collectSimpleStats(this.series,lang.hitch(this,"isNullValue")),t;_a94.hmin-=0.5;_a94.hmax+=0.5;t=_a94.hmin,_a94.hmin=_a94.vmin,_a94.vmin=t;t=_a94.hmax,_a94.hmax=_a94.vmax,_a94.vmax=t;return _a94;},createRect:function(run,_a95,_a96){var rect;if(this.opt.enableCache&&run._rectFreePool.length>0){rect=run._rectFreePool.pop();rect.setShape(_a96);_a95.add(rect);}else{rect=_a95.createRect(_a96);}if(this.opt.enableCache){run._rectUsePool.push(rect);}return rect;},createLabel:function(_a97,_a98,bbox,_a99){if(this.opt.labels&&this.opt.labelStyle=="outside"){var y=bbox.y+bbox.height/2;var x=bbox.x+bbox.width+this.opt.labelOffset;this.renderLabel(_a97,x,y,this._getLabel(isNaN(_a98.y)?_a98:_a98.y),_a99,"start");}else{this.inherited(arguments);}},render:function(dim,_a9a){if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_a9a);}this.dirty=this.isDirty();this.resetEvents();var s;if(this.dirty){arr.forEach(this.series,_a90);this._eventSeries={};this.cleanGroup();s=this.getGroup();df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_a9b=Math.max(this._hScaler.bounds.lower,this._hAxis?this._hAxis.naturalBaseline:0),_a9c=ht(_a9b),_a9d=this.events();var bar=this.getBarProperties();var _a9e=this.series.length;arr.forEach(this.series,function(_a9f){if(_a9f.hidden){_a9e--;}});var z=_a9e;var _aa0=this.extractValues(this._vScaler);_aa0=this.rearrangeValues(_aa0,ht,_a9c);for(var i=0;i<this.series.length;i++){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();if(this.opt.enableCache){run._rectFreePool=(run._rectFreePool?run._rectFreePool:[]).concat(run._rectUsePool?run._rectUsePool:[]);run._rectUsePool=[];}var _aa1=t.next("bar",[this.opt,run]);if(run.hidden){run.dyn.fill=_aa1.series.fill;run.dyn.stroke=_aa1.series.stroke;continue;}z--;var _aa2=new Array(run.data.length);s=run.group;var _aa3=arr.some(run.data,function(item){return typeof item=="number"||(item&&!item.hasOwnProperty("x"));});var min=_aa3?Math.max(0,Math.floor(this._vScaler.bounds.from-1)):0;var max=_aa3?Math.min(run.data.length,Math.ceil(this._vScaler.bounds.to)):run.data.length;for(var j=min;j<max;++j){var _aa4=run.data[j];if(!this.isNullValue(_aa4)){var val=this.getValue(_aa4,j,i,_aa3),w=_aa0[i][j],_aa5,_aa6;if(this.opt.styleFunc||typeof _aa4!="number"){var _aa7=typeof _aa4!="number"?[_aa4]:[];if(this.opt.styleFunc){_aa7.push(this.opt.styleFunc(_aa4));}_aa5=t.addMixin(_aa1,"bar",_aa7,true);}else{_aa5=t.post(_aa1,"bar");}if(w&&bar.height>=1){var rect={x:_a9a.l+_a9c+Math.min(w,0),y:dim.height-_a9a.b-vt(val.x+1.5)+bar.gap+bar.thickness*(_a9e-z-1),width:Math.abs(w),height:bar.height};if(_aa5.series.shadow){var _aa8=lang.clone(rect);_aa8.x+=_aa5.series.shadow.dx;_aa8.y+=_aa5.series.shadow.dy;_aa6=this.createRect(run,s,_aa8).setFill(_aa5.series.shadow.color).setStroke(_aa5.series.shadow);if(this.animate){this._animateBar(_aa6,_a9a.l+_a9c,-w);}}var _aa9=this._plotFill(_aa5.series.fill,dim,_a9a);_aa9=this._shapeFill(_aa9,rect);var _aaa=this.createRect(run,s,rect).setFill(_aa9).setStroke(_aa5.series.stroke);if(_aaa.setFilter&&_aa5.series.filter){_aaa.setFilter(_aa5.series.filter);}run.dyn.fill=_aaa.getFill();run.dyn.stroke=_aaa.getStroke();if(_a9d){var o={element:"bar",index:j,run:run,shape:_aaa,shadow:_aa6,cx:val.y,cy:val.x+1.5,x:_aa3?j:run.data[j].x,y:_aa3?run.data[j]:run.data[j].y};this._connectEvents(o);_aa2[j]=o;}if(!isNaN(val.py)&&val.py>_a9b){rect.x+=ht(val.py);rect.width-=ht(val.py);}this.createLabel(s,_aa4,rect,_aa5);if(this.animate){this._animateBar(_aaa,_a9a.l+_a9c,-Math.abs(w));}}}}this._eventSeries[run.name]=_aa2;run.dirty=false;}this.dirty=false;if(has("dojo-bidi")){this._checkOrientation(this.group,dim,_a9a);}return this;},getValue:function(_aab,j,_aac,_aad){var y,x;if(_aad){if(typeof _aab=="number"){y=_aab;}else{y=_aab.y;}x=j;}else{y=_aab.y;x=_aab.x-1;}return {y:y,x:x};},extractValues:function(_aae){var _aaf=[];for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){continue;}var _ab0=arr.some(run.data,function(item){return typeof item=="number"||(item&&!item.hasOwnProperty("x"));}),min=_ab0?Math.max(0,Math.floor(_aae.bounds.from-1)):0,max=_ab0?Math.min(run.data.length,Math.ceil(_aae.bounds.to)):run.data.length,_ab1=_aaf[i]=[];_ab1.min=min;_ab1.max=max;for(var j=min;j<max;++j){var _ab2=run.data[j];_ab1[j]=this.isNullValue(_ab2)?0:(typeof _ab2=="number"?_ab2:_ab2.y);}}return _aaf;},rearrangeValues:function(_ab3,_ab4,_ab5){for(var i=0,n=_ab3.length;i<n;++i){var _ab6=_ab3[i];if(_ab6){for(var j=_ab6.min,k=_ab6.max;j<k;++j){var _ab7=_ab6[j];_ab6[j]=this.isNullValue(_ab7)?0:_ab4(_ab7)-_ab5;}}}return _ab3;},isNullValue:function(_ab8){if(_ab8===null||typeof _ab8=="undefined"){return true;}var h=this._hAxis?this._hAxis.isNullValue:_a91,v=this._vAxis?this._vAxis.isNullValue:_a91;if(typeof _ab8=="number"){return v(0.5)||h(_ab8);}return v(isNaN(_ab8.x)?0.5:_ab8.x+0.5)||_ab8.y===null||h(_ab8.y);},getBarProperties:function(){var f=dc.calculateBarSize(this._vScaler.bounds.scale,this.opt);return {gap:f.gap,height:f.size,thickness:0};},_animateBar:function(_ab9,_aba,_abb){if(_abb==0){_abb=1;}fx.animateTransform(lang.delegate({shape:_ab9,duration:1200,transform:[{name:"translate",start:[_aba-(_aba/_abb),0],end:[0,0]},{name:"scale",start:[1/_abb,1],end:[1,1]},{name:"original"}]},this.animate)).play();}});});},"dijit/tree/_dndSelector":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/dnd/common","dojo/dom","dojo/mouse","dojo/on","dojo/touch","../a11yclick","./_dndContainer"],function(_abc,_abd,_abe,lang,_abf,dom,_ac0,on,_ac1,_ac2,_ac3){return _abd("dijit.tree._dndSelector",_ac3,{constructor:function(){this.selection={};this.anchor=null;this.events.push(on(this.tree.domNode,_ac1.press,lang.hitch(this,"onMouseDown")),on(this.tree.domNode,_ac1.release,lang.hitch(this,"onMouseUp")),on(this.tree.domNode,_ac1.move,lang.hitch(this,"onMouseMove")),on(this.tree.domNode,_ac2.press,lang.hitch(this,"onClickPress")),on(this.tree.domNode,_ac2.release,lang.hitch(this,"onClickRelease")));},singular:false,getSelectedTreeNodes:function(){var _ac4=[],sel=this.selection;for(var i in sel){_ac4.push(sel[i]);}return _ac4;},selectNone:function(){this.setSelection([]);return this;},destroy:function(){this.inherited(arguments);this.selection=this.anchor=null;},addTreeNode:function(node,_ac5){this.setSelection(this.getSelectedTreeNodes().concat([node]));if(_ac5){this.anchor=node;}return node;},removeTreeNode:function(node){var _ac6=_abc.filter(this.getSelectedTreeNodes(),function(_ac7){return !dom.isDescendant(_ac7.domNode,node.domNode);});this.setSelection(_ac6);return node;},isTreeNodeSelected:function(node){return node.id&&!!this.selection[node.id];},setSelection:function(_ac8){var _ac9=this.getSelectedTreeNodes();_abc.forEach(this._setDifference(_ac9,_ac8),lang.hitch(this,function(node){node.setSelected(false);if(this.anchor==node){delete this.anchor;}delete this.selection[node.id];}));_abc.forEach(this._setDifference(_ac8,_ac9),lang.hitch(this,function(node){node.setSelected(true);this.selection[node.id]=node;}));this._updateSelectionProperties();},_setDifference:function(xs,ys){_abc.forEach(ys,function(y){y.__exclude__=true;});var ret=_abc.filter(xs,function(x){return !x.__exclude__;});_abc.forEach(ys,function(y){delete y["__exclude__"];});return ret;},_updateSelectionProperties:function(){var _aca=this.getSelectedTreeNodes();var _acb=[],_acc=[];_abc.forEach(_aca,function(node){var ary=node.getTreePath();_acc.push(node);_acb.push(ary);},this);var _acd=_abc.map(_acc,function(node){return node.item;});this.tree._set("paths",_acb);this.tree._set("path",_acb[0]||[]);this.tree._set("selectedNodes",_acc);this.tree._set("selectedNode",_acc[0]||null);this.tree._set("selectedItems",_acd);this.tree._set("selectedItem",_acd[0]||null);},onClickPress:function(e){if(this.current&&this.current.isExpandable&&this.tree.isExpandoNode(e.target,this.current)){return;}if(e.type=="mousedown"&&_ac0.isLeft(e)){e.preventDefault();}var _ace=e.type=="keydown"?this.tree.focusedChild:this.current;if(!_ace){return;}var copy=_abf.getCopyKeyState(e),id=_ace.id;if(!this.singular&&!e.shiftKey&&this.selection[id]){this._doDeselect=true;return;}else{this._doDeselect=false;}this.userSelect(_ace,copy,e.shiftKey);},onClickRelease:function(e){if(!this._doDeselect){return;}this._doDeselect=false;this.userSelect(e.type=="keyup"?this.tree.focusedChild:this.current,_abf.getCopyKeyState(e),e.shiftKey);},onMouseMove:function(){this._doDeselect=false;},onMouseDown:function(){},onMouseUp:function(){},_compareNodes:function(n1,n2){if(n1===n2){return 0;}if("sourceIndex" in document.documentElement){return n1.sourceIndex-n2.sourceIndex;}else{if("compareDocumentPosition" in document.documentElement){return n1.compareDocumentPosition(n2)&2?1:-1;}else{if(document.createRange){var r1=doc.createRange();r1.setStartBefore(n1);var r2=doc.createRange();r2.setStartBefore(n2);return r1.compareBoundaryPoints(r1.END_TO_END,r2);}else{throw Error("dijit.tree._compareNodes don't know how to compare two different nodes in this browser");}}}},userSelect:function(node,_acf,_ad0){if(this.singular){if(this.anchor==node&&_acf){this.selectNone();}else{this.setSelection([node]);this.anchor=node;}}else{if(_ad0&&this.anchor){var cr=this._compareNodes(this.anchor.rowNode,node.rowNode),_ad1,end,_ad2=this.anchor;if(cr<0){_ad1=_ad2;end=node;}else{_ad1=node;end=_ad2;}var _ad3=[];while(_ad1!=end){_ad3.push(_ad1);_ad1=this.tree._getNext(_ad1);}_ad3.push(end);this.setSelection(_ad3);}else{if(this.selection[node.id]&&_acf){this.removeTreeNode(node);}else{if(_acf){this.addTreeNode(node,true);}else{this.setSelection([node]);this.anchor=node;}}}}},getItem:function(key){var _ad4=this.selection[key];return {data:_ad4,type:["treeNode"]};},forInSelectedItems:function(f,o){o=o||_abe.global;for(var id in this.selection){f.call(o,this.getItem(id),id,this);}}});});},"dojo/cldr/monetary":function(){define(["../_base/kernel","../_base/lang"],function(dojo,lang){var _ad5={};lang.setObject("dojo.cldr.monetary",_ad5);_ad5.getData=function(code){var _ad6={ADP:0,AFN:0,ALL:0,AMD:0,BHD:3,BIF:0,BYR:0,CLF:0,CLP:0,COP:0,CRC:0,DJF:0,ESP:0,GNF:0,GYD:0,HUF:0,IDR:0,IQD:0,IRR:3,ISK:0,ITL:0,JOD:3,JPY:0,KMF:0,KPW:0,KRW:0,KWD:3,LAK:0,LBP:0,LUF:0,LYD:3,MGA:0,MGF:0,MMK:0,MNT:0,MRO:0,MUR:0,OMR:3,PKR:2,PYG:0,RSD:0,RWF:0,SLL:0,SOS:0,STD:0,SYP:0,TMM:0,TND:3,TRL:0,TZS:0,UGX:0,UZS:0,VND:0,VUV:0,XAF:0,XOF:0,XPF:0,YER:0,ZMK:0,ZWD:0};var _ad7={};var _ad8=_ad6[code],_ad9=_ad7[code];if(typeof _ad8=="undefined"){_ad8=2;}if(typeof _ad9=="undefined"){_ad9=0;}return {places:_ad8,round:_ad9};};return _ad5;});},"dijit/layout/StackController":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/keys","dojo/_base/lang","dojo/on","dojo/topic","../focus","../registry","../_Widget","../_TemplatedMixin","../_Container","../form/ToggleButton","dojo/touch"],function(_ada,_adb,_adc,_add,keys,lang,on,_ade,_adf,_ae0,_ae1,_ae2,_ae3,_ae4){var _ae5=_adb("dijit.layout._StackButton",_ae4,{tabIndex:"-1",closeButton:false,_aria_attr:"aria-selected",buildRendering:function(evt){this.inherited(arguments);(this.focusNode||this.domNode).setAttribute("role","tab");}});var _ae6=_adb("dijit.layout.StackController",[_ae1,_ae2,_ae3],{baseClass:"dijitStackController",templateString:"<span role='tablist' data-dojo-attach-event='onkeydown'></span>",containerId:"",buttonWidget:_ae5,buttonWidgetCloseClass:"dijitStackCloseButton",pane2button:function(id){return _ae0.byId(this.id+"_"+id);},postCreate:function(){this.inherited(arguments);this.own(_ade.subscribe(this.containerId+"-startup",lang.hitch(this,"onStartup")),_ade.subscribe(this.containerId+"-addChild",lang.hitch(this,"onAddChild")),_ade.subscribe(this.containerId+"-removeChild",lang.hitch(this,"onRemoveChild")),_ade.subscribe(this.containerId+"-selectChild",lang.hitch(this,"onSelectChild")),_ade.subscribe(this.containerId+"-containerKeyDown",lang.hitch(this,"onContainerKeyDown")));this.containerNode.dojoClick=true;this.own(on(this.containerNode,"click",lang.hitch(this,function(evt){var _ae7=_ae0.getEnclosingWidget(evt.target);if(_ae7!=this.containerNode&&!_ae7.disabled&&_ae7.page){for(var _ae8=evt.target;_ae8!==this.containerNode;_ae8=_ae8.parentNode){if(_adc.contains(_ae8,this.buttonWidgetCloseClass)){this.onCloseButtonClick(_ae7.page);break;}else{if(_ae8==_ae7.domNode){this.onButtonClick(_ae7.page);break;}}}}})));},onStartup:function(info){this.textDir=info.textDir;_ada.forEach(info.children,this.onAddChild,this);if(info.selected){this.onSelectChild(info.selected);}var _ae9=_ae0.byId(this.containerId).containerNode,_aea=lang.hitch(this,"pane2button"),_aeb={"title":"label","showtitle":"showLabel","iconclass":"iconClass","closable":"closeButton","tooltip":"title","disabled":"disabled","textdir":"textdir"},_aec=function(attr,_aed){return on(_ae9,"attrmodified-"+attr,function(evt){var _aee=_aea(evt.detail&&evt.detail.widget&&evt.detail.widget.id);if(_aee){_aee.set(_aed,evt.detail.newValue);}});};for(var attr in _aeb){this.own(_aec(attr,_aeb[attr]));}},destroy:function(_aef){this.destroyDescendants(_aef);this.inherited(arguments);},onAddChild:function(page,_af0){var Cls=lang.isString(this.buttonWidget)?lang.getObject(this.buttonWidget):this.buttonWidget;var _af1=new Cls({id:this.id+"_"+page.id,name:this.id+"_"+page.id,label:page.title,disabled:page.disabled,ownerDocument:this.ownerDocument,dir:page.dir,lang:page.lang,textDir:page.textDir||this.textDir,showLabel:page.showTitle,iconClass:page.iconClass,closeButton:page.closable,title:page.tooltip,page:page});this.addChild(_af1,_af0);page.controlButton=_af1;if(!this._currentChild){this.onSelectChild(page);}var _af2=page._wrapper.getAttribute("aria-labelledby")?page._wrapper.getAttribute("aria-labelledby")+" "+_af1.id:_af1.id;page._wrapper.removeAttribute("aria-label");page._wrapper.setAttribute("aria-labelledby",_af2);},onRemoveChild:function(page){if(this._currentChild===page){this._currentChild=null;}var _af3=this.pane2button(page.id);if(_af3){this.removeChild(_af3);_af3.destroy();}delete page.controlButton;},onSelectChild:function(page){if(!page){return;}if(this._currentChild){var _af4=this.pane2button(this._currentChild.id);_af4.set("checked",false);_af4.focusNode.setAttribute("tabIndex","-1");}var _af5=this.pane2button(page.id);_af5.set("checked",true);this._currentChild=page;_af5.focusNode.setAttribute("tabIndex","0");var _af6=_ae0.byId(this.containerId);},onButtonClick:function(page){var _af7=this.pane2button(page.id);_adf.focus(_af7.focusNode);if(this._currentChild&&this._currentChild.id===page.id){_af7.set("checked",true);}var _af8=_ae0.byId(this.containerId);_af8.selectChild(page);},onCloseButtonClick:function(page){var _af9=_ae0.byId(this.containerId);_af9.closeChild(page);if(this._currentChild){var b=this.pane2button(this._currentChild.id);if(b){_adf.focus(b.focusNode||b.domNode);}}},adjacent:function(_afa){if(!this.isLeftToRight()&&(!this.tabPosition||/top|bottom/.test(this.tabPosition))){_afa=!_afa;}var _afb=this.getChildren();var idx=_ada.indexOf(_afb,this.pane2button(this._currentChild.id)),_afc=_afb[idx];var _afd;do{idx=(idx+(_afa?1:_afb.length-1))%_afb.length;_afd=_afb[idx];}while(_afd.disabled&&_afd!=_afc);return _afd;},onkeydown:function(e,_afe){if(this.disabled||e.altKey){return;}var _aff=null;if(e.ctrlKey||!e._djpage){switch(e.keyCode){case keys.LEFT_ARROW:case keys.UP_ARROW:if(!e._djpage){_aff=false;}break;case keys.PAGE_UP:if(e.ctrlKey){_aff=false;}break;case keys.RIGHT_ARROW:case keys.DOWN_ARROW:if(!e._djpage){_aff=true;}break;case keys.PAGE_DOWN:if(e.ctrlKey){_aff=true;}break;case keys.HOME:var _b00=this.getChildren();for(var idx=0;idx<_b00.length;idx++){var _b01=_b00[idx];if(!_b01.disabled){this.onButtonClick(_b01.page);break;}}e.stopPropagation();e.preventDefault();break;case keys.END:var _b00=this.getChildren();for(var idx=_b00.length-1;idx>=0;idx--){var _b01=_b00[idx];if(!_b01.disabled){this.onButtonClick(_b01.page);break;}}e.stopPropagation();e.preventDefault();break;case keys.DELETE:case "W".charCodeAt(0):if(this._currentChild.closable&&(e.keyCode==keys.DELETE||e.ctrlKey)){this.onCloseButtonClick(this._currentChild);e.stopPropagation();e.preventDefault();}break;case keys.TAB:if(e.ctrlKey){this.onButtonClick(this.adjacent(!e.shiftKey).page);e.stopPropagation();e.preventDefault();}break;}if(_aff!==null){this.onButtonClick(this.adjacent(_aff).page);e.stopPropagation();e.preventDefault();}}},onContainerKeyDown:function(info){info.e._djpage=info.page;this.onkeydown(info.e);}});_ae6.StackButton=_ae5;return _ae6;});},"prcommon2/search/standard":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../search/templates/standard.html","prcommon2/search/std_search","dijit/form/TextBox","prcommon2/search/SearchCount"],function(_b02,_b03,_b04,_b05){return _b02("prcommon2.search.standard",[_b03,_b05],{templateString:_b04,testmode:false,constructor:function(){this._on_input_call_back=dojo.hitch(this,this._on_input);},postCreate:function(){if(dojo.isMoz||dojo.isOpera){this.connect(this.datanode.textbox,"oninput",this._on_input_call_back);}else{this.connect(this.datanode.textbox,"onkeyup",this._on_input_call_back);this.connect(this.datanode.textbox,"onpaste",this._on_input_call_back);this.connect(this.datanode.textbox,"oncut",this._on_input_call_back);}},_on_input:function(){this._get_selector(this.datanode.get("value"));},_on_change:function(){this._get_selector(this.datanode.get("value"));},clear:function(){this.datanode.set("value","");this._value="";this._setdisplay(this._value);this.inherited(arguments);},_setValueAttr:function(_b06){this.datanode.set("value",_b06);},_getValueAttr:function(_b07){this.value=this.datanode.get("value");return this.value;},focus:function(){this.datanode.focus();}});});},"dojox/color/_base":function(){define(["../main","dojo/_base/lang","dojo/_base/Color","dojo/colors"],function(_b08,lang,_b09,_b0a){var cx=lang.getObject("color",true,_b08);cx.Color=_b09;cx.blend=_b09.blendColors;cx.fromRgb=_b09.fromRgb;cx.fromHex=_b09.fromHex;cx.fromArray=_b09.fromArray;cx.fromString=_b09.fromString;cx.greyscale=_b0a.makeGrey;lang.mixin(cx,{fromCmy:function(cyan,_b0b,_b0c){if(lang.isArray(cyan)){_b0b=cyan[1],_b0c=cyan[2],cyan=cyan[0];}else{if(lang.isObject(cyan)){_b0b=cyan.m,_b0c=cyan.y,cyan=cyan.c;}}cyan/=100,_b0b/=100,_b0c/=100;var r=1-cyan,g=1-_b0b,b=1-_b0c;return new _b09({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});},fromCmyk:function(cyan,_b0d,_b0e,_b0f){if(lang.isArray(cyan)){_b0d=cyan[1],_b0e=cyan[2],_b0f=cyan[3],cyan=cyan[0];}else{if(lang.isObject(cyan)){_b0d=cyan.m,_b0e=cyan.y,_b0f=cyan.b,cyan=cyan.c;}}cyan/=100,_b0d/=100,_b0e/=100,_b0f/=100;var r,g,b;r=1-Math.min(1,cyan*(1-_b0f)+_b0f);g=1-Math.min(1,_b0d*(1-_b0f)+_b0f);b=1-Math.min(1,_b0e*(1-_b0f)+_b0f);return new _b09({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});},fromHsl:function(hue,_b10,_b11){if(lang.isArray(hue)){_b10=hue[1],_b11=hue[2],hue=hue[0];}else{if(lang.isObject(hue)){_b10=hue.s,_b11=hue.l,hue=hue.h;}}_b10/=100;_b11/=100;while(hue<0){hue+=360;}while(hue>=360){hue-=360;}var r,g,b;if(hue<120){r=(120-hue)/60,g=hue/60,b=0;}else{if(hue<240){r=0,g=(240-hue)/60,b=(hue-120)/60;}else{r=(hue-240)/60,g=0,b=(360-hue)/60;}}r=2*_b10*Math.min(r,1)+(1-_b10);g=2*_b10*Math.min(g,1)+(1-_b10);b=2*_b10*Math.min(b,1)+(1-_b10);if(_b11<0.5){r*=_b11,g*=_b11,b*=_b11;}else{r=(1-_b11)*r+2*_b11-1;g=(1-_b11)*g+2*_b11-1;b=(1-_b11)*b+2*_b11-1;}return new _b09({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});}});cx.fromHsv=function(hue,_b12,_b13){if(lang.isArray(hue)){_b12=hue[1],_b13=hue[2],hue=hue[0];}else{if(lang.isObject(hue)){_b12=hue.s,_b13=hue.v,hue=hue.h;}}if(hue==360){hue=0;}_b12/=100;_b13/=100;var r,g,b;if(_b12==0){r=_b13,b=_b13,g=_b13;}else{var _b14=hue/60,i=Math.floor(_b14),f=_b14-i;var p=_b13*(1-_b12);var q=_b13*(1-(_b12*f));var t=_b13*(1-(_b12*(1-f)));switch(i){case 0:r=_b13,g=t,b=p;break;case 1:r=q,g=_b13,b=p;break;case 2:r=p,g=_b13,b=t;break;case 3:r=p,g=q,b=_b13;break;case 4:r=t,g=p,b=_b13;break;case 5:r=_b13,g=p,b=q;break;}}return new _b09({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});};lang.extend(_b09,{toCmy:function(){var cyan=1-(this.r/255),_b15=1-(this.g/255),_b16=1-(this.b/255);return {c:Math.round(cyan*100),m:Math.round(_b15*100),y:Math.round(_b16*100)};},toCmyk:function(){var cyan,_b17,_b18,_b19;var r=this.r/255,g=this.g/255,b=this.b/255;_b19=Math.min(1-r,1-g,1-b);cyan=(1-r-_b19)/(1-_b19);_b17=(1-g-_b19)/(1-_b19);_b18=(1-b-_b19)/(1-_b19);return {c:Math.round(cyan*100),m:Math.round(_b17*100),y:Math.round(_b18*100),b:Math.round(_b19*100)};},toHsl:function(){var r=this.r/255,g=this.g/255,b=this.b/255;var min=Math.min(r,b,g),max=Math.max(r,g,b);var _b1a=max-min;var h=0,s=0,l=(min+max)/2;if(l>0&&l<1){s=_b1a/((l<0.5)?(2*l):(2-2*l));}if(_b1a>0){if(max==r&&max!=g){h+=(g-b)/_b1a;}if(max==g&&max!=b){h+=(2+(b-r)/_b1a);}if(max==b&&max!=r){h+=(4+(r-g)/_b1a);}h*=60;}return {h:h,s:Math.round(s*100),l:Math.round(l*100)};},toHsv:function(){var r=this.r/255,g=this.g/255,b=this.b/255;var min=Math.min(r,b,g),max=Math.max(r,g,b);var _b1b=max-min;var h=null,s=(max==0)?0:(_b1b/max);if(s==0){h=0;}else{if(r==max){h=60*(g-b)/_b1b;}else{if(g==max){h=120+60*(b-r)/_b1b;}else{h=240+60*(r-g)/_b1b;}}if(h<0){h+=360;}}return {h:h,s:Math.round(s*100),v:Math.round(max*100)};}});return cx;});},"prcommon2/clippings/charts/preferences":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../charts/templates/preferences.html","dojo/request","ttl/utilities2","dojo/_base/lang","dojo/topic","dojo/dom-attr","dojo/dom-class","dijit/Dialog","prcommon2/reports/ReportBuilder"],function(_b1c,_b1d,_b1e,_b1f,_b20,lang,_b21,_b22,_b23,_b24){return _b1c("prcommon2.clippings.charts.preferences",[_b1d],{templateString:_b1e,constructor:function(){this._dialog=null;this._data=null;this._leg=null;this._complete_call_back=lang.hitch(this,this._complete_call);},postCreate:function(){this.inherited(arguments);},_load:function(dlg,data,_b25){this._data=data;this._channels=_b25;this._dialog=dlg;},_report:function(){this._data["channels"]=null;if(this.selected_channels.checked){this._data["channels"]=this._channels;}this.report_preferences_report_dlg.show();this.report_preferences.SetCompleted(this._complete_call_back);this.report_preferences.start(this._data);},clear:function(){this._dialog.hide();dojo.removeClass(this.reportbtn.domNode,"prmaxhidden");},_setDialogAttr:function(_b26){this._dialog=_b26;if(this._dialog!=null){dojo.removeClass(this.closebtn.domNode,"prmaxhidden");}},_close:function(){if(this._dialog){this._dialog.hide();this.clear();}},_complete_call:function(){this.report_preferences_report_dlg.hide();this.clear();},_change_preferences:function(){}});});},"dijit/form/DateTextBox":function(){define(["dojo/_base/declare","../Calendar","./_DateTimeTextBox"],function(_b27,_b28,_b29){return _b27("dijit.form.DateTextBox",_b29,{baseClass:"dijitTextBox dijitComboBox dijitDateTextBox",popupClass:_b28,_selector:"date",maxHeight:Infinity,value:new Date("")});});},"dojox/charting/plot2d/Base":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojox/gfx","../Element","./common","../axis2d/common","dojo/has"],function(_b2a,arr,lang,gfx,_b2b,_b2c,ac,has){var Base=_b2a("dojox.charting.plot2d.Base",_b2b,{constructor:function(_b2d,_b2e){if(_b2e&&_b2e.tooltipFunc){this.tooltipFunc=_b2e.tooltipFunc;}},clear:function(){this.series=[];this.dirty=true;return this;},setAxis:function(axis){return this;},assignAxes:function(axes){arr.forEach(this.axes,function(axis){if(this[axis]){this.setAxis(axes[this[axis]]);}},this);},addSeries:function(run){this.series.push(run);return this;},getSeriesStats:function(){return _b2c.collectSimpleStats(this.series,lang.hitch(this,"isNullValue"));},calculateAxes:function(dim){this.initializeScalers(dim,this.getSeriesStats());return this;},initializeScalers:function(){return this;},isDataDirty:function(){return arr.some(this.series,function(item){return item.dirty;});},render:function(dim,_b2f){return this;},renderLabel:function(_b30,x,y,_b31,_b32,_b33,_b34){var elem=ac.createText[this.opt.htmlLabels&&gfx.renderer!="vml"?"html":"gfx"](this.chart,_b30,x,y,_b34?_b34:"middle",_b31,_b32.series.font,_b32.series.fontColor);if(_b33){if(this.opt.htmlLabels&&gfx.renderer!="vml"){elem.style.pointerEvents="none";}else{if(elem.rawNode){elem.rawNode.style.pointerEvents="none";}}}if(this.opt.htmlLabels&&gfx.renderer!="vml"){this.htmlElements.push(elem);}return elem;},getRequiredColors:function(){return this.series.length;},_getLabel:function(_b35){return _b2c.getLabel(_b35,this.opt.fixed,this.opt.precision);}});if(has("dojo-bidi")){Base.extend({_checkOrientation:function(_b36,dim,_b37){this.chart.applyMirroring(this.group,dim,_b37);}});}return Base;});},"dijit/form/_FormValueMixin":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/on","./_FormWidgetMixin"],function(_b38,_b39,keys,lang,on,_b3a){return _b38("dijit.form._FormValueMixin",_b3a,{readOnly:false,_setReadOnlyAttr:function(_b3b){_b39.set(this.focusNode,"readOnly",_b3b);this._set("readOnly",_b3b);},postCreate:function(){this.inherited(arguments);if(this._resetValue===undefined){this._lastValueReported=this._resetValue=this.value;}},_setValueAttr:function(_b3c,_b3d){this._handleOnChange(_b3c,_b3d);},_handleOnChange:function(_b3e,_b3f){this._set("value",_b3e);this.inherited(arguments);},undo:function(){this._setValueAttr(this._lastValueReported,false);},reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);}});});},"dojox/lang/functional/fold":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/kernel","./lambda"],function(lang,arr,_b40,df){var _b41={};lang.mixin(df,{foldl:function(a,f,z,o){if(typeof a=="string"){a=a.split("");}o=o||_b40.global;f=df.lambda(f);var i,n;if(lang.isArray(a)){for(i=0,n=a.length;i<n;z=f.call(o,z,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(i=0;a.hasNext();z=f.call(o,z,a.next(),i++,a)){}}else{for(i in a){if(!(i in _b41)){z=f.call(o,z,a[i],i,a);}}}}return z;},foldl1:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||_b40.global;f=df.lambda(f);var z,i,n;if(lang.isArray(a)){z=a[0];for(i=1,n=a.length;i<n;z=f.call(o,z,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){if(a.hasNext()){z=a.next();for(i=1;a.hasNext();z=f.call(o,z,a.next(),i++,a)){}}}else{var _b42=true;for(i in a){if(!(i in _b41)){if(_b42){z=a[i];_b42=false;}else{z=f.call(o,z,a[i],i,a);}}}}}return z;},foldr:function(a,f,z,o){if(typeof a=="string"){a=a.split("");}o=o||_b40.global;f=df.lambda(f);for(var i=a.length;i>0;--i,z=f.call(o,z,a[i],i,a)){}return z;},foldr1:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||_b40.global;f=df.lambda(f);var n=a.length,z=a[n-1],i=n-1;for(;i>0;--i,z=f.call(o,z,a[i],i,a)){}return z;},reduce:function(a,f,z){return arguments.length<3?df.foldl1(a,f):df.foldl(a,f,z);},reduceRight:function(a,f,z){return arguments.length<3?df.foldr1(a,f):df.foldr(a,f,z);},unfold:function(pr,f,g,z,o){o=o||_b40.global;f=df.lambda(f);g=df.lambda(g);pr=df.lambda(pr);var t=[];for(;!pr.call(o,z);t.push(f.call(o,z)),z=g.call(o,z)){}return t;}});});},"dijit/form/_AutoCompleterMixin":function(){define(["dojo/aspect","dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/query","dojo/regexp","dojo/sniff","./DataList","./_TextBoxMixin","./_SearchMixin"],function(_b43,_b44,_b45,keys,lang,_b46,_b47,has,_b48,_b49,_b4a){var _b4b=_b44("dijit.form._AutoCompleterMixin",_b4a,{item:null,autoComplete:true,highlightMatch:"first",labelAttr:"",labelType:"text",maxHeight:-1,_stopClickEvents:false,_getCaretPos:function(_b4c){var pos=0;if(typeof (_b4c.selectionStart)=="number"){pos=_b4c.selectionStart;}else{if(has("ie")){var tr=_b4c.ownerDocument.selection.createRange().duplicate();var ntr=_b4c.createTextRange();tr.move("character",0);ntr.move("character",0);try{ntr.setEndPoint("EndToEnd",tr);pos=String(ntr.text).replace(/\r/g,"").length;}catch(e){}}}return pos;},_setCaretPos:function(_b4d,_b4e){_b4e=parseInt(_b4e);_b49.selectInputText(_b4d,_b4e,_b4e);},_setDisabledAttr:function(_b4f){this.inherited(arguments);this.domNode.setAttribute("aria-disabled",_b4f?"true":"false");},_onKey:function(evt){if(evt.charCode>=32){return;}var key=evt.charCode||evt.keyCode;if(key==keys.ALT||key==keys.CTRL||key==keys.META||key==keys.SHIFT){return;}var pw=this.dropDown;var _b50=null;this._abortQuery();this.inherited(arguments);if(evt.altKey||evt.ctrlKey||evt.metaKey){return;}if(this._opened){_b50=pw.getHighlightedOption();}switch(key){case keys.PAGE_DOWN:case keys.DOWN_ARROW:case keys.PAGE_UP:case keys.UP_ARROW:if(this._opened){this._announceOption(_b50);}evt.stopPropagation();evt.preventDefault();break;case keys.ENTER:if(_b50){if(_b50==pw.nextButton){this._nextSearch(1);evt.stopPropagation();evt.preventDefault();break;}else{if(_b50==pw.previousButton){this._nextSearch(-1);evt.stopPropagation();evt.preventDefault();break;}}evt.stopPropagation();evt.preventDefault();}else{this._setBlurValue();this._setCaretPos(this.focusNode,this.focusNode.value.length);}case keys.TAB:var _b51=this.get("displayedValue");if(pw&&(_b51==pw._messages["previousMessage"]||_b51==pw._messages["nextMessage"])){break;}if(_b50){this._selectOption(_b50);}case keys.ESCAPE:if(this._opened){this._lastQuery=null;this.closeDropDown();}break;}},_autoCompleteText:function(text){var fn=this.focusNode;_b49.selectInputText(fn,fn.value.length);var _b52=this.ignoreCase?"toLowerCase":"substr";if(text[_b52](0).indexOf(this.focusNode.value[_b52](0))==0){var cpos=this.autoComplete?this._getCaretPos(fn):fn.value.length;if((cpos+1)>fn.value.length){fn.value=text;_b49.selectInputText(fn,cpos);}}else{fn.value=text;_b49.selectInputText(fn);}},_openResultList:function(_b53,_b54,_b55){var _b56=this.dropDown.getHighlightedOption();this.dropDown.clearResultList();if(!_b53.length&&_b55.start==0){this.closeDropDown();return;}this._nextSearch=this.dropDown.onPage=lang.hitch(this,function(_b57){_b53.nextPage(_b57!==-1);this.focus();});this.dropDown.createOptions(_b53,_b55,lang.hitch(this,"_getMenuLabelFromItem"));this._showResultList();if("direction" in _b55){if(_b55.direction){this.dropDown.highlightFirstOption();}else{if(!_b55.direction){this.dropDown.highlightLastOption();}}if(_b56){this._announceOption(this.dropDown.getHighlightedOption());}}else{if(this.autoComplete&&!this._prev_key_backspace&&!/^[*]+$/.test(_b54[this.searchAttr].toString())){this._announceOption(this.dropDown.containerNode.firstChild.nextSibling);}}},_showResultList:function(){this.closeDropDown(true);this.openDropDown();this.domNode.setAttribute("aria-expanded","true");},loadDropDown:function(){this._startSearchAll();},isLoaded:function(){return false;},closeDropDown:function(){this._abortQuery();if(this._opened){this.inherited(arguments);this.domNode.setAttribute("aria-expanded","false");}},_setBlurValue:function(){var _b58=this.get("displayedValue");var pw=this.dropDown;if(pw&&(_b58==pw._messages["previousMessage"]||_b58==pw._messages["nextMessage"])){this._setValueAttr(this._lastValueReported,true);}else{if(typeof this.item=="undefined"){this.item=null;this.set("displayedValue",_b58);}else{if(this.value!=this._lastValueReported){this._handleOnChange(this.value,true);}this._refreshState();}}this.focusNode.removeAttribute("aria-activedescendant");},_setItemAttr:function(item,_b59,_b5a){var _b5b="";if(item){if(!_b5a){_b5a=this.store._oldAPI?this.store.getValue(item,this.searchAttr):item[this.searchAttr];}_b5b=this._getValueField()!=this.searchAttr?this.store.getIdentity(item):_b5a;}this.set("value",_b5b,_b59,_b5a,item);},_announceOption:function(node){if(!node){return;}var _b5c;if(node==this.dropDown.nextButton||node==this.dropDown.previousButton){_b5c=node.innerHTML;this.item=undefined;this.value="";}else{var item=this.dropDown.items[node.getAttribute("item")];_b5c=(this.store._oldAPI?this.store.getValue(item,this.searchAttr):item[this.searchAttr]).toString();this.set("item",item,false,_b5c);}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);this.focusNode.setAttribute("aria-activedescendant",_b45.get(node,"id"));this._autoCompleteText(_b5c);},_selectOption:function(_b5d){this.closeDropDown();if(_b5d){this._announceOption(_b5d);}this._setCaretPos(this.focusNode,this.focusNode.value.length);this._handleOnChange(this.value,true);this.focusNode.removeAttribute("aria-activedescendant");},_startSearchAll:function(){this._startSearch("");},_startSearchFromInput:function(){this.item=undefined;this.inherited(arguments);},_startSearch:function(key){if(!this.dropDown){var _b5e=this.id+"_popup",_b5f=lang.isString(this.dropDownClass)?lang.getObject(this.dropDownClass,false):this.dropDownClass;this.dropDown=new _b5f({onChange:lang.hitch(this,this._selectOption),id:_b5e,dir:this.dir,textDir:this.textDir});}this._lastInput=key;this.inherited(arguments);},_getValueField:function(){return this.searchAttr;},postMixInProperties:function(){this.inherited(arguments);if(!this.store&&this.srcNodeRef){var _b60=this.srcNodeRef;this.store=new _b48({},_b60);if(!("value" in this.params)){var item=(this.item=this.store.fetchSelectedItem());if(item){var _b61=this._getValueField();this.value=this.store._oldAPI?this.store.getValue(item,_b61):item[_b61];}}}},postCreate:function(){var _b62=_b46("label[for=\""+this.id+"\"]");if(_b62.length){if(!_b62[0].id){_b62[0].id=this.id+"_label";}this.domNode.setAttribute("aria-labelledby",_b62[0].id);}this.inherited(arguments);_b43.after(this,"onSearch",lang.hitch(this,"_openResultList"),true);},_getMenuLabelFromItem:function(item){var _b63=this.labelFunc(item,this.store),_b64=this.labelType;if(this.highlightMatch!="none"&&this.labelType=="text"&&this._lastInput){_b63=this.doHighlight(_b63,this._lastInput);_b64="html";}return {html:_b64=="html",label:_b63};},doHighlight:function(_b65,find){var _b66=(this.ignoreCase?"i":"")+(this.highlightMatch=="all"?"g":""),i=this.queryExpr.indexOf("${0}");find=_b47.escapeString(find);return this._escapeHtml(_b65.replace(new RegExp((i==0?"^":"")+"("+find+")"+(i==(this.queryExpr.length-4)?"$":""),_b66),"\uffff$1\uffff")).replace(/\uFFFF([^\uFFFF]+)\uFFFF/g,"<span class=\"dijitComboBoxHighlightMatch\">$1</span>");},_escapeHtml:function(str){str=String(str).replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");return str;},reset:function(){this.item=null;this.inherited(arguments);},labelFunc:function(item,_b67){return (_b67._oldAPI?_b67.getValue(item,this.labelAttr||this.searchAttr):item[this.labelAttr||this.searchAttr]).toString();},_setValueAttr:function(_b68,_b69,_b6a,item){this._set("item",item||null);if(_b68==null){_b68="";}this.inherited(arguments);}});if(has("dojo-bidi")){_b4b.extend({_setTextDirAttr:function(_b6b){this.inherited(arguments);if(this.dropDown){this.dropDown._set("textDir",_b6b);}}});}return _b4b;});},"dijit/form/CurrencyTextBox":function(){define(["dojo/currency","dojo/_base/declare","dojo/_base/lang","./NumberTextBox"],function(_b6c,_b6d,lang,_b6e){var _b6f=_b6d("dijit.form.CurrencyTextBox",_b6e,{currency:"",baseClass:"dijitTextBox dijitCurrencyTextBox",_formatter:_b6c.format,_parser:_b6c.parse,_regExpGenerator:_b6c.regexp,parse:function(_b70,_b71){var v=this.inherited(arguments);if(isNaN(v)&&/\d+/.test(_b70)){v=lang.hitch(lang.delegate(this,{_parser:_b6e.prototype._parser}),"inherited")(arguments);}return v;},_setConstraintsAttr:function(_b72){if(!_b72.currency&&this.currency){_b72.currency=this.currency;}this.inherited(arguments,[_b6c._mixInDefaults(lang.mixin(_b72,{exponent:false}))]);}});return _b6f;});},"dijit/place":function(){define(["dojo/_base/array","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/window","./Viewport","./main"],function(_b73,_b74,_b75,_b76,win,_b77,_b78){function _b79(node,_b7a,_b7b,_b7c){var view=_b77.getEffectiveBox(node.ownerDocument);if(!node.parentNode||String(node.parentNode.tagName).toLowerCase()!="body"){win.body(node.ownerDocument).appendChild(node);}var best=null;_b73.some(_b7a,function(_b7d){var _b7e=_b7d.corner;var pos=_b7d.pos;var _b7f=0;var _b80={w:{"L":view.l+view.w-pos.x,"R":pos.x-view.l,"M":view.w}[_b7e.charAt(1)],h:{"T":view.t+view.h-pos.y,"B":pos.y-view.t,"M":view.h}[_b7e.charAt(0)]};var s=node.style;s.left=s.right="auto";if(_b7b){var res=_b7b(node,_b7d.aroundCorner,_b7e,_b80,_b7c);_b7f=typeof res=="undefined"?0:res;}var _b81=node.style;var _b82=_b81.display;var _b83=_b81.visibility;if(_b81.display=="none"){_b81.visibility="hidden";_b81.display="";}var bb=_b74.position(node);_b81.display=_b82;_b81.visibility=_b83;var _b84={"L":pos.x,"R":pos.x-bb.w,"M":Math.max(view.l,Math.min(view.l+view.w,pos.x+(bb.w>>1))-bb.w)}[_b7e.charAt(1)],_b85={"T":pos.y,"B":pos.y-bb.h,"M":Math.max(view.t,Math.min(view.t+view.h,pos.y+(bb.h>>1))-bb.h)}[_b7e.charAt(0)],_b86=Math.max(view.l,_b84),_b87=Math.max(view.t,_b85),endX=Math.min(view.l+view.w,_b84+bb.w),endY=Math.min(view.t+view.h,_b85+bb.h),_b88=endX-_b86,_b89=endY-_b87;_b7f+=(bb.w-_b88)+(bb.h-_b89);if(best==null||_b7f<best.overflow){best={corner:_b7e,aroundCorner:_b7d.aroundCorner,x:_b86,y:_b87,w:_b88,h:_b89,overflow:_b7f,spaceAvailable:_b80};}return !_b7f;});if(best.overflow&&_b7b){_b7b(node,best.aroundCorner,best.corner,best.spaceAvailable,_b7c);}var top=best.y,side=best.x,body=win.body(node.ownerDocument);if(/relative|absolute/.test(_b75.get(body,"position"))){top-=_b75.get(body,"marginTop");side-=_b75.get(body,"marginLeft");}var s=node.style;s.top=top+"px";s.left=side+"px";s.right="auto";return best;};var _b8a={"TL":"BR","TR":"BL","BL":"TR","BR":"TL"};var _b8b={at:function(node,pos,_b8c,_b8d,_b8e){var _b8f=_b73.map(_b8c,function(_b90){var c={corner:_b90,aroundCorner:_b8a[_b90],pos:{x:pos.x,y:pos.y}};if(_b8d){c.pos.x+=_b90.charAt(1)=="L"?_b8d.x:-_b8d.x;c.pos.y+=_b90.charAt(0)=="T"?_b8d.y:-_b8d.y;}return c;});return _b79(node,_b8f,_b8e);},around:function(node,_b91,_b92,_b93,_b94){var _b95;if(typeof _b91=="string"||"offsetWidth" in _b91||"ownerSVGElement" in _b91){_b95=_b74.position(_b91,true);if(/^(above|below)/.test(_b92[0])){var _b96=_b74.getBorderExtents(_b91),_b97=_b91.firstChild?_b74.getBorderExtents(_b91.firstChild):{t:0,l:0,b:0,r:0},_b98=_b74.getBorderExtents(node),_b99=node.firstChild?_b74.getBorderExtents(node.firstChild):{t:0,l:0,b:0,r:0};_b95.y+=Math.min(_b96.t+_b97.t,_b98.t+_b99.t);_b95.h-=Math.min(_b96.t+_b97.t,_b98.t+_b99.t)+Math.min(_b96.b+_b97.b,_b98.b+_b99.b);}}else{_b95=_b91;}if(_b91.parentNode){var _b9a=_b75.getComputedStyle(_b91).position=="absolute";var _b9b=_b91.parentNode;while(_b9b&&_b9b.nodeType==1&&_b9b.nodeName!="BODY"){var _b9c=_b74.position(_b9b,true),pcs=_b75.getComputedStyle(_b9b);if(/relative|absolute/.test(pcs.position)){_b9a=false;}if(!_b9a&&/hidden|auto|scroll/.test(pcs.overflow)){var _b9d=Math.min(_b95.y+_b95.h,_b9c.y+_b9c.h);var _b9e=Math.min(_b95.x+_b95.w,_b9c.x+_b9c.w);_b95.x=Math.max(_b95.x,_b9c.x);_b95.y=Math.max(_b95.y,_b9c.y);_b95.h=_b9d-_b95.y;_b95.w=_b9e-_b95.x;}if(pcs.position=="absolute"){_b9a=true;}_b9b=_b9b.parentNode;}}var x=_b95.x,y=_b95.y,_b9f="w" in _b95?_b95.w:(_b95.w=_b95.width),_ba0="h" in _b95?_b95.h:(_b76.deprecated("place.around: dijit/place.__Rectangle: { x:"+x+", y:"+y+", height:"+_b95.height+", width:"+_b9f+" } has been deprecated.  Please use { x:"+x+", y:"+y+", h:"+_b95.height+", w:"+_b9f+" }","","2.0"),_b95.h=_b95.height);var _ba1=[];function push(_ba2,_ba3){_ba1.push({aroundCorner:_ba2,corner:_ba3,pos:{x:{"L":x,"R":x+_b9f,"M":x+(_b9f>>1)}[_ba2.charAt(1)],y:{"T":y,"B":y+_ba0,"M":y+(_ba0>>1)}[_ba2.charAt(0)]}});};_b73.forEach(_b92,function(pos){var ltr=_b93;switch(pos){case "above-centered":push("TM","BM");break;case "below-centered":push("BM","TM");break;case "after-centered":ltr=!ltr;case "before-centered":push(ltr?"ML":"MR",ltr?"MR":"ML");break;case "after":ltr=!ltr;case "before":push(ltr?"TL":"TR",ltr?"TR":"TL");push(ltr?"BL":"BR",ltr?"BR":"BL");break;case "below-alt":ltr=!ltr;case "below":push(ltr?"BL":"BR",ltr?"TL":"TR");push(ltr?"BR":"BL",ltr?"TR":"TL");break;case "above-alt":ltr=!ltr;case "above":push(ltr?"TL":"TR",ltr?"BL":"BR");push(ltr?"TR":"TL",ltr?"BR":"BL");break;default:push(pos.aroundCorner,pos.corner);}});var _ba4=_b79(node,_ba1,_b94,{w:_b9f,h:_ba0});_ba4.aroundNodePos=_b95;return _ba4;}};return _b78.place=_b8b;});},"dijit/form/ComboBox":function(){define(["dojo/_base/declare","./ValidationTextBox","./ComboBoxMixin"],function(_ba5,_ba6,_ba7){return _ba5("dijit.form.ComboBox",[_ba6,_ba7],{});});},"dijit/layout/_LayoutWidget":function(){define(["dojo/_base/lang","../_Widget","../_Container","../_Contained","../Viewport","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style"],function(lang,_ba8,_ba9,_baa,_bab,_bac,_bad,_bae,_baf){return _bac("dijit.layout._LayoutWidget",[_ba8,_ba9,_baa],{baseClass:"dijitLayoutContainer",isLayoutContainer:true,_setTitleAttr:null,buildRendering:function(){this.inherited(arguments);_bad.add(this.domNode,"dijitContainer");},startup:function(){if(this._started){return;}this.inherited(arguments);var _bb0=this.getParent&&this.getParent();if(!(_bb0&&_bb0.isLayoutContainer)){this.resize();this.own(_bab.on("resize",lang.hitch(this,"resize")));}},resize:function(_bb1,_bb2){var node=this.domNode;if(_bb1){_bae.setMarginBox(node,_bb1);}var mb=_bb2||{};lang.mixin(mb,_bb1||{});if(!("h" in mb)||!("w" in mb)){mb=lang.mixin(_bae.getMarginBox(node),mb);}var cs=_baf.getComputedStyle(node);var me=_bae.getMarginExtents(node,cs);var be=_bae.getBorderExtents(node,cs);var bb=(this._borderBox={w:mb.w-(me.w+be.w),h:mb.h-(me.h+be.h)});var pe=_bae.getPadExtents(node,cs);this._contentBox={l:_baf.toPixelValue(node,cs.paddingLeft),t:_baf.toPixelValue(node,cs.paddingTop),w:bb.w-pe.w,h:bb.h-pe.h};this.layout();},layout:function(){},_setupChild:function(_bb3){var cls=this.baseClass+"-child "+(_bb3.baseClass?this.baseClass+"-"+_bb3.baseClass:"");_bad.add(_bb3.domNode,cls);},addChild:function(_bb4,_bb5){this.inherited(arguments);if(this._started){this._setupChild(_bb4);}},removeChild:function(_bb6){var cls=this.baseClass+"-child"+(_bb6.baseClass?" "+this.baseClass+"-"+_bb6.baseClass:"");_bad.remove(_bb6.domNode,cls);this.inherited(arguments);}});});},"dgrid/util/touch":function(){define(["dojo/on","dojo/query"],function(on,_bb7){var util={tapRadius:10,dbltapTime:250,selector:function(_bb8,_bb9,_bba){return function(_bbb,_bbc){var _bbd=_bb9.bubble;if(_bbd){_bb9=_bbd;}else{if(_bba!==false){_bba=true;}}return on(_bbb,_bb9,function(_bbe){var _bbf=_bbe.target;if(_bbf.nodeType==3){_bbf=_bbf.parentNode;}while(!_bb7.matches(_bbf,_bb8,_bbb)){if(_bbf==_bbb||!_bba||!(_bbf=_bbf.parentNode)){return;}}return _bbc.call(_bbf,_bbe);});};},countCurrentTouches:function(evt,node){if(!("touches" in evt)){return -1;}var i,_bc0,_bc1;for(i=0,_bc0=0;(_bc1=evt.touches[i]);++i){if(node.contains(_bc1.target)){++_bc0;}}return _bc0;}};function _bc2(_bc3,_bc4,evt,_bc5){if(evt.targetTouches.length>1){return;}var _bc6=evt.changedTouches[0],_bc7=_bc6.screenX,_bc8=_bc6.screenY;_bc5&&evt.preventDefault();var _bc9=on(_bc3,"touchend",function(evt){var end=evt.changedTouches[0];if(!evt.targetTouches.length){if(Math.abs(end.screenX-_bc7)<util.tapRadius&&Math.abs(end.screenY-_bc8)<util.tapRadius){_bc5&&evt.preventDefault();_bc4.call(this,evt);}_bc9.remove();}});};function tap(_bca,_bcb){return on(_bca,"touchstart",function(evt){_bc2(_bca,_bcb,evt);});};function _bcc(_bcd,_bce){var _bcf,_bd0;return on(_bcd,"touchstart",function(evt){if(!_bcf){_bc2(_bcd,function(evt){_bcf=evt.changedTouches[0];_bd0=setTimeout(function(){_bcf=_bd0=null;},util.dbltapTime);},evt);}else{_bc2(_bcd,function(evt){if(!_bcf){return;}var _bd1=evt.changedTouches[0];if(Math.abs(_bd1.screenX-_bcf.screenX)<util.tapRadius&&Math.abs(_bd1.screenY-_bcf.screenY)<util.tapRadius){_bd0&&clearTimeout(_bd0);_bcf=_bd0=null;_bce.call(this,evt);}},evt,true);}});};util.tap=tap;util.dbltap=_bcc;return util;});},"dojo/colors":function(){define(["./_base/kernel","./_base/lang","./_base/Color","./_base/array"],function(dojo,lang,_bd2,_bd3){var _bd4={};lang.setObject("dojo.colors",_bd4);var _bd5=function(m1,m2,h){if(h<0){++h;}if(h>1){--h;}var h6=6*h;if(h6<1){return m1+(m2-m1)*h6;}if(2*h<1){return m2;}if(3*h<2){return m1+(m2-m1)*(2/3-h)*6;}return m1;};dojo.colorFromRgb=_bd2.fromRgb=function(_bd6,obj){var m=_bd6.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(m){var c=m[2].split(/\s*,\s*/),l=c.length,t=m[1],a;if((t=="rgb"&&l==3)||(t=="rgba"&&l==4)){var r=c[0];if(r.charAt(r.length-1)=="%"){a=_bd3.map(c,function(x){return parseFloat(x)*2.56;});if(l==4){a[3]=c[3];}return _bd2.fromArray(a,obj);}return _bd2.fromArray(c,obj);}if((t=="hsl"&&l==3)||(t=="hsla"&&l==4)){var H=((parseFloat(c[0])%360)+360)%360/360,S=parseFloat(c[1])/100,L=parseFloat(c[2])/100,m2=L<=0.5?L*(S+1):L+S-L*S,m1=2*L-m2;a=[_bd5(m1,m2,H+1/3)*256,_bd5(m1,m2,H)*256,_bd5(m1,m2,H-1/3)*256,1];if(l==4){a[3]=c[3];}return _bd2.fromArray(a,obj);}}return null;};var _bd7=function(c,low,high){c=Number(c);return isNaN(c)?high:c<low?low:c>high?high:c;};_bd2.prototype.sanitize=function(){var t=this;t.r=Math.round(_bd7(t.r,0,255));t.g=Math.round(_bd7(t.g,0,255));t.b=Math.round(_bd7(t.b,0,255));t.a=_bd7(t.a,0,1);return this;};_bd4.makeGrey=_bd2.makeGrey=function(g,a){return _bd2.fromArray([g,g,g,a]);};lang.mixin(_bd2.named,{"aliceblue":[240,248,255],"antiquewhite":[250,235,215],"aquamarine":[127,255,212],"azure":[240,255,255],"beige":[245,245,220],"bisque":[255,228,196],"blanchedalmond":[255,235,205],"blueviolet":[138,43,226],"brown":[165,42,42],"burlywood":[222,184,135],"cadetblue":[95,158,160],"chartreuse":[127,255,0],"chocolate":[210,105,30],"coral":[255,127,80],"cornflowerblue":[100,149,237],"cornsilk":[255,248,220],"crimson":[220,20,60],"cyan":[0,255,255],"darkblue":[0,0,139],"darkcyan":[0,139,139],"darkgoldenrod":[184,134,11],"darkgray":[169,169,169],"darkgreen":[0,100,0],"darkgrey":[169,169,169],"darkkhaki":[189,183,107],"darkmagenta":[139,0,139],"darkolivegreen":[85,107,47],"darkorange":[255,140,0],"darkorchid":[153,50,204],"darkred":[139,0,0],"darksalmon":[233,150,122],"darkseagreen":[143,188,143],"darkslateblue":[72,61,139],"darkslategray":[47,79,79],"darkslategrey":[47,79,79],"darkturquoise":[0,206,209],"darkviolet":[148,0,211],"deeppink":[255,20,147],"deepskyblue":[0,191,255],"dimgray":[105,105,105],"dimgrey":[105,105,105],"dodgerblue":[30,144,255],"firebrick":[178,34,34],"floralwhite":[255,250,240],"forestgreen":[34,139,34],"gainsboro":[220,220,220],"ghostwhite":[248,248,255],"gold":[255,215,0],"goldenrod":[218,165,32],"greenyellow":[173,255,47],"grey":[128,128,128],"honeydew":[240,255,240],"hotpink":[255,105,180],"indianred":[205,92,92],"indigo":[75,0,130],"ivory":[255,255,240],"khaki":[240,230,140],"lavender":[230,230,250],"lavenderblush":[255,240,245],"lawngreen":[124,252,0],"lemonchiffon":[255,250,205],"lightblue":[173,216,230],"lightcoral":[240,128,128],"lightcyan":[224,255,255],"lightgoldenrodyellow":[250,250,210],"lightgray":[211,211,211],"lightgreen":[144,238,144],"lightgrey":[211,211,211],"lightpink":[255,182,193],"lightsalmon":[255,160,122],"lightseagreen":[32,178,170],"lightskyblue":[135,206,250],"lightslategray":[119,136,153],"lightslategrey":[119,136,153],"lightsteelblue":[176,196,222],"lightyellow":[255,255,224],"limegreen":[50,205,50],"linen":[250,240,230],"magenta":[255,0,255],"mediumaquamarine":[102,205,170],"mediumblue":[0,0,205],"mediumorchid":[186,85,211],"mediumpurple":[147,112,219],"mediumseagreen":[60,179,113],"mediumslateblue":[123,104,238],"mediumspringgreen":[0,250,154],"mediumturquoise":[72,209,204],"mediumvioletred":[199,21,133],"midnightblue":[25,25,112],"mintcream":[245,255,250],"mistyrose":[255,228,225],"moccasin":[255,228,181],"navajowhite":[255,222,173],"oldlace":[253,245,230],"olivedrab":[107,142,35],"orange":[255,165,0],"orangered":[255,69,0],"orchid":[218,112,214],"palegoldenrod":[238,232,170],"palegreen":[152,251,152],"paleturquoise":[175,238,238],"palevioletred":[219,112,147],"papayawhip":[255,239,213],"peachpuff":[255,218,185],"peru":[205,133,63],"pink":[255,192,203],"plum":[221,160,221],"powderblue":[176,224,230],"rosybrown":[188,143,143],"royalblue":[65,105,225],"saddlebrown":[139,69,19],"salmon":[250,128,114],"sandybrown":[244,164,96],"seagreen":[46,139,87],"seashell":[255,245,238],"sienna":[160,82,45],"skyblue":[135,206,235],"slateblue":[106,90,205],"slategray":[112,128,144],"slategrey":[112,128,144],"snow":[255,250,250],"springgreen":[0,255,127],"steelblue":[70,130,180],"tan":[210,180,140],"thistle":[216,191,216],"tomato":[255,99,71],"turquoise":[64,224,208],"violet":[238,130,238],"wheat":[245,222,179],"whitesmoke":[245,245,245],"yellowgreen":[154,205,50]});return _bd2;});},"dojo/number":function(){define(["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(lang,i18n,_bd8,_bd9,_bda){var _bdb={};lang.setObject("dojo.number",_bdb);_bdb.format=function(_bdc,_bdd){_bdd=lang.mixin({},_bdd||{});var _bde=i18n.normalizeLocale(_bdd.locale),_bdf=i18n.getLocalization("dojo.cldr","number",_bde);_bdd.customs=_bdf;var _be0=_bdd.pattern||_bdf[(_bdd.type||"decimal")+"Format"];if(isNaN(_bdc)||Math.abs(_bdc)==Infinity){return null;}return _bdb._applyPattern(_bdc,_be0,_bdd);};_bdb._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;_bdb._applyPattern=function(_be1,_be2,_be3){_be3=_be3||{};var _be4=_be3.customs.group,_be5=_be3.customs.decimal,_be6=_be2.split(";"),_be7=_be6[0];_be2=_be6[(_be1<0)?1:0]||("-"+_be7);if(_be2.indexOf("%")!=-1){_be1*=100;}else{if(_be2.indexOf("")!=-1){_be1*=1000;}else{if(_be2.indexOf("")!=-1){_be4=_be3.customs.currencyGroup||_be4;_be5=_be3.customs.currencyDecimal||_be5;_be2=_be2.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/,function(_be8,_be9,_bea,_beb){var prop=["symbol","currency","displayName"][_bea.length-1],_bec=_be3[prop]||_be3.currency||"";if(!_bec){return "";}return _be9+_bec+_beb;});}else{if(_be2.indexOf("E")!=-1){throw new Error("exponential notation not supported");}}}}var _bed=_bdb._numberPatternRE;var _bee=_be7.match(_bed);if(!_bee){throw new Error("unable to find a number expression in pattern: "+_be2);}if(_be3.fractional===false){_be3.places=0;}return _be2.replace(_bed,_bdb._formatAbsolute(_be1,_bee[0],{decimal:_be5,group:_be4,places:_be3.places,round:_be3.round}));};_bdb.round=function(_bef,_bf0,_bf1){var _bf2=10/(_bf1||10);return (_bf2*+_bef).toFixed(_bf0)/_bf2;};if((0.9).toFixed()==0){var _bf3=_bdb.round;_bdb.round=function(v,p,m){var d=Math.pow(10,-p||0),a=Math.abs(v);if(!v||a>=d){d=0;}else{a/=d;if(a<0.5||a>=0.95){d=0;}}return _bf3(v,p,m)+(v>0?d:-d);};}_bdb._formatAbsolute=function(_bf4,_bf5,_bf6){_bf6=_bf6||{};if(_bf6.places===true){_bf6.places=0;}if(_bf6.places===Infinity){_bf6.places=6;}var _bf7=_bf5.split("."),_bf8=typeof _bf6.places=="string"&&_bf6.places.indexOf(","),_bf9=_bf6.places;if(_bf8){_bf9=_bf6.places.substring(_bf8+1);}else{if(!(_bf9>=0)){_bf9=(_bf7[1]||[]).length;}}if(!(_bf6.round<0)){_bf4=_bdb.round(_bf4,_bf9,_bf6.round);}var _bfa=String(Math.abs(_bf4)).split("."),_bfb=_bfa[1]||"";if(_bf7[1]||_bf6.places){if(_bf8){_bf6.places=_bf6.places.substring(0,_bf8);}var pad=_bf6.places!==undefined?_bf6.places:(_bf7[1]&&_bf7[1].lastIndexOf("0")+1);if(pad>_bfb.length){_bfa[1]=_bd9.pad(_bfb,pad,"0",true);}if(_bf9<_bfb.length){_bfa[1]=_bfb.substr(0,_bf9);}}else{if(_bfa[1]){_bfa.pop();}}var _bfc=_bf7[0].replace(",","");pad=_bfc.indexOf("0");if(pad!=-1){pad=_bfc.length-pad;if(pad>_bfa[0].length){_bfa[0]=_bd9.pad(_bfa[0],pad);}if(_bfc.indexOf("#")==-1){_bfa[0]=_bfa[0].substr(_bfa[0].length-pad);}}var _bfd=_bf7[0].lastIndexOf(","),_bfe,_bff;if(_bfd!=-1){_bfe=_bf7[0].length-_bfd-1;var _c00=_bf7[0].substr(0,_bfd);_bfd=_c00.lastIndexOf(",");if(_bfd!=-1){_bff=_c00.length-_bfd-1;}}var _c01=[];for(var _c02=_bfa[0];_c02;){var off=_c02.length-_bfe;_c01.push((off>0)?_c02.substr(off):_c02);_c02=(off>0)?_c02.slice(0,off):"";if(_bff){_bfe=_bff;delete _bff;}}_bfa[0]=_c01.reverse().join(_bf6.group||",");return _bfa.join(_bf6.decimal||".");};_bdb.regexp=function(_c03){return _bdb._parseInfo(_c03).regexp;};_bdb._parseInfo=function(_c04){_c04=_c04||{};var _c05=i18n.normalizeLocale(_c04.locale),_c06=i18n.getLocalization("dojo.cldr","number",_c05),_c07=_c04.pattern||_c06[(_c04.type||"decimal")+"Format"],_c08=_c06.group,_c09=_c06.decimal,_c0a=1;if(_c07.indexOf("%")!=-1){_c0a/=100;}else{if(_c07.indexOf("")!=-1){_c0a/=1000;}else{var _c0b=_c07.indexOf("")!=-1;if(_c0b){_c08=_c06.currencyGroup||_c08;_c09=_c06.currencyDecimal||_c09;}}}var _c0c=_c07.split(";");if(_c0c.length==1){_c0c.push("-"+_c0c[0]);}var re=_bda.buildGroupRE(_c0c,function(_c0d){_c0d="(?:"+_bda.escapeString(_c0d,".")+")";return _c0d.replace(_bdb._numberPatternRE,function(_c0e){var _c0f={signed:false,separator:_c04.strict?_c08:[_c08,""],fractional:_c04.fractional,decimal:_c09,exponent:false},_c10=_c0e.split("."),_c11=_c04.places;if(_c10.length==1&&_c0a!=1){_c10[1]="###";}if(_c10.length==1||_c11===0){_c0f.fractional=false;}else{if(_c11===undefined){_c11=_c04.pattern?_c10[1].lastIndexOf("0")+1:Infinity;}if(_c11&&_c04.fractional==undefined){_c0f.fractional=true;}if(!_c04.places&&(_c11<_c10[1].length)){_c11+=","+_c10[1].length;}_c0f.places=_c11;}var _c12=_c10[0].split(",");if(_c12.length>1){_c0f.groupSize=_c12.pop().length;if(_c12.length>1){_c0f.groupSize2=_c12.pop().length;}}return "("+_bdb._realNumberRegexp(_c0f)+")";});},true);if(_c0b){re=re.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(_c13,_c14,_c15,_c16){var prop=["symbol","currency","displayName"][_c15.length-1],_c17=_bda.escapeString(_c04[prop]||_c04.currency||"");if(!_c17){return "";}_c14=_c14?"[\\s\\xa0]":"";_c16=_c16?"[\\s\\xa0]":"";if(!_c04.strict){if(_c14){_c14+="*";}if(_c16){_c16+="*";}return "(?:"+_c14+_c17+_c16+")?";}return _c14+_c17+_c16;});}return {regexp:re.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:_c08,decimal:_c09,factor:_c0a};};_bdb.parse=function(_c18,_c19){var info=_bdb._parseInfo(_c19),_c1a=(new RegExp("^"+info.regexp+"$")).exec(_c18);if(!_c1a){return NaN;}var _c1b=_c1a[1];if(!_c1a[1]){if(!_c1a[2]){return NaN;}_c1b=_c1a[2];info.factor*=-1;}_c1b=_c1b.replace(new RegExp("["+info.group+"\\s\\xa0"+"]","g"),"").replace(info.decimal,".");return _c1b*info.factor;};_bdb._realNumberRegexp=function(_c1c){_c1c=_c1c||{};if(!("places" in _c1c)){_c1c.places=Infinity;}if(typeof _c1c.decimal!="string"){_c1c.decimal=".";}if(!("fractional" in _c1c)||/^0/.test(_c1c.places)){_c1c.fractional=[true,false];}if(!("exponent" in _c1c)){_c1c.exponent=[true,false];}if(!("eSigned" in _c1c)){_c1c.eSigned=[true,false];}var _c1d=_bdb._integerRegexp(_c1c),_c1e=_bda.buildGroupRE(_c1c.fractional,function(q){var re="";if(q&&(_c1c.places!==0)){re="\\"+_c1c.decimal;if(_c1c.places==Infinity){re="(?:"+re+"\\d+)?";}else{re+="\\d{"+_c1c.places+"}";}}return re;},true);var _c1f=_bda.buildGroupRE(_c1c.exponent,function(q){if(q){return "([eE]"+_bdb._integerRegexp({signed:_c1c.eSigned})+")";}return "";});var _c20=_c1d+_c1e;if(_c1e){_c20="(?:(?:"+_c20+")|(?:"+_c1e+"))";}return _c20+_c1f;};_bdb._integerRegexp=function(_c21){_c21=_c21||{};if(!("signed" in _c21)){_c21.signed=[true,false];}if(!("separator" in _c21)){_c21.separator="";}else{if(!("groupSize" in _c21)){_c21.groupSize=3;}}var _c22=_bda.buildGroupRE(_c21.signed,function(q){return q?"[-+]":"";},true);var _c23=_bda.buildGroupRE(_c21.separator,function(sep){if(!sep){return "(?:\\d+)";}sep=_bda.escapeString(sep);if(sep==" "){sep="\\s";}else{if(sep==""){sep="\\s\\xa0";}}var grp=_c21.groupSize,grp2=_c21.groupSize2;if(grp2){var _c24="(?:0|[1-9]\\d{0,"+(grp2-1)+"}(?:["+sep+"]\\d{"+grp2+"})*["+sep+"]\\d{"+grp+"})";return ((grp-grp2)>0)?"(?:"+_c24+"|(?:0|[1-9]\\d{0,"+(grp-1)+"}))":_c24;}return "(?:0|[1-9]\\d{0,"+(grp-1)+"}(?:["+sep+"]\\d{"+grp+"})*)";},true);return _c22+_c23;};return _bdb;});},"dijit/layout/_ContentPaneResizeMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/query","../registry","../Viewport","./utils"],function(_c25,_c26,_c27,_c28,_c29,lang,_c2a,_c2b,_c2c,_c2d){return _c26("dijit.layout._ContentPaneResizeMixin",null,{doLayout:true,isLayoutContainer:true,startup:function(){if(this._started){return;}var _c2e=this.getParent();this._childOfLayoutWidget=_c2e&&_c2e.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);if(this._isShown()){this._onShow();}if(!this._childOfLayoutWidget){this.own(_c2c.on("resize",lang.hitch(this,"resize")));}},_checkIfSingleChild:function(){if(!this.doLayout){return;}var _c2f=[],_c30=false;_c2a("> *",this.containerNode).some(function(node){var _c31=_c2b.byNode(node);if(_c31&&_c31.resize){_c2f.push(_c31);}else{if(!/script|link|style/i.test(node.nodeName)&&node.offsetHeight){_c30=true;}}});this._singleChild=_c2f.length==1&&!_c30?_c2f[0]:null;_c27.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild);},resize:function(_c32,_c33){this._resizeCalled=true;this._scheduleLayout(_c32,_c33);},_scheduleLayout:function(_c34,_c35){if(this._isShown()){this._layout(_c34,_c35);}else{this._needLayout=true;this._changeSize=_c34;this._resultSize=_c35;}},_layout:function(_c36,_c37){delete this._needLayout;if(!this._wasShown&&this.open!==false){this._onShow();}if(_c36){_c28.setMarginBox(this.domNode,_c36);}var cn=this.containerNode;if(cn===this.domNode){var mb=_c37||{};lang.mixin(mb,_c36||{});if(!("h" in mb)||!("w" in mb)){mb=lang.mixin(_c28.getMarginBox(cn),mb);}this._contentBox=_c2d.marginBox2contentBox(cn,mb);}else{this._contentBox=_c28.getContentBox(cn);}this._layoutChildren();},_layoutChildren:function(){this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){var cb=this._contentBox||_c28.getContentBox(this.containerNode);this._singleChild.resize({w:cb.w,h:cb.h});}else{var _c38=this.getChildren(),_c39,i=0;while(_c39=_c38[i++]){if(_c39.resize){_c39.resize();}}}},_isShown:function(){if(this._childOfLayoutWidget){if(this._resizeCalled&&"open" in this){return this.open;}return this._resizeCalled;}else{if("open" in this){return this.open;}else{var node=this.domNode,_c3a=this.domNode.parentNode;return (node.style.display!="none")&&(node.style.visibility!="hidden")&&!_c27.contains(node,"dijitHidden")&&_c3a&&_c3a.style&&(_c3a.style.display!="none");}}},_onShow:function(){this._wasShown=true;if(this._needLayout){this._layout(this._changeSize,this._resultSize);}this.inherited(arguments);}});});},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/has","../registry"],function(_c3b,dom,has,_c3c){var _c3d=_c3b("dijit.form._ButtonMixin"+(has("dojo-bidi")?"_NoBidi":""),null,{label:"",type:"button",__onClick:function(e){e.stopPropagation();e.preventDefault();if(!this.disabled){this.valueNode.click(e);}return false;},_onClick:function(e){if(this.disabled){e.stopPropagation();e.preventDefault();return false;}if(this.onClick(e)===false){e.preventDefault();}var _c3e=e.defaultPrevented;if(!_c3e&&this.type=="submit"&&!(this.valueNode||this.focusNode).form){for(var node=this.domNode;node.parentNode;node=node.parentNode){var _c3f=_c3c.byNode(node);if(_c3f&&typeof _c3f._onSubmit=="function"){_c3f._onSubmit(e);e.preventDefault();_c3e=true;break;}}}return !_c3e;},postCreate:function(){this.inherited(arguments);dom.setSelectable(this.focusNode,false);},onClick:function(){return true;},_setLabelAttr:function(_c40){this._set("label",_c40);var _c41=this.containerNode||this.focusNode;_c41.innerHTML=_c40;this.onLabelSet();},onLabelSet:function(){}});if(has("dojo-bidi")){_c3d=_c3b("dijit.form._ButtonMixin",_c3d,{onLabelSet:function(){this.inherited(arguments);var _c42=this.containerNode||this.focusNode;this.applyTextDir(_c42);}});}return _c3d;});},"dojox/gfx/path":function(){define(["./_base","dojo/_base/lang","dojo/_base/declare","./matrix","./shape"],function(g,lang,_c43,_c44,_c45){var Path=_c43("dojox.gfx.path.Path",_c45.Shape,{constructor:function(_c46){this.shape=lang.clone(g.defaultPath);this.segments=[];this.tbbox=null;this.absolute=true;this.last={};this.rawNode=_c46;this.segmented=false;},setAbsoluteMode:function(mode){this._confirmSegmented();this.absolute=typeof mode=="string"?(mode=="absolute"):mode;return this;},getAbsoluteMode:function(){this._confirmSegmented();return this.absolute;},getBoundingBox:function(){this._confirmSegmented();return (this.bbox&&("l" in this.bbox))?{x:this.bbox.l,y:this.bbox.t,width:this.bbox.r-this.bbox.l,height:this.bbox.b-this.bbox.t}:null;},_getRealBBox:function(){this._confirmSegmented();if(this.tbbox){return this.tbbox;}var bbox=this.bbox,_c44=this._getRealMatrix();this.bbox=null;for(var i=0,len=this.segments.length;i<len;++i){this._updateWithSegment(this.segments[i],_c44);}var t=this.bbox;this.bbox=bbox;this.tbbox=t?[{x:t.l,y:t.t},{x:t.r,y:t.t},{x:t.r,y:t.b},{x:t.l,y:t.b}]:null;return this.tbbox;},getLastPosition:function(){this._confirmSegmented();return "x" in this.last?this.last:null;},_applyTransform:function(){this.tbbox=null;return this.inherited(arguments);},_updateBBox:function(x,y,m){if(m){var t=_c44.multiplyPoint(m,x,y);x=t.x;y=t.y;}if(this.bbox&&("l" in this.bbox)){if(this.bbox.l>x){this.bbox.l=x;}if(this.bbox.r<x){this.bbox.r=x;}if(this.bbox.t>y){this.bbox.t=y;}if(this.bbox.b<y){this.bbox.b=y;}}else{this.bbox={l:x,b:y,r:x,t:y};}},_updateWithSegment:function(_c47,_c48){var n=_c47.args,l=n.length,i;switch(_c47.action){case "M":case "L":case "C":case "S":case "Q":case "T":for(i=0;i<l;i+=2){this._updateBBox(n[i],n[i+1],_c48);}this.last.x=n[l-2];this.last.y=n[l-1];this.absolute=true;break;case "H":for(i=0;i<l;++i){this._updateBBox(n[i],this.last.y,_c48);}this.last.x=n[l-1];this.absolute=true;break;case "V":for(i=0;i<l;++i){this._updateBBox(this.last.x,n[i],_c48);}this.last.y=n[l-1];this.absolute=true;break;case "m":var _c49=0;if(!("x" in this.last)){this._updateBBox(this.last.x=n[0],this.last.y=n[1],_c48);_c49=2;}for(i=_c49;i<l;i+=2){this._updateBBox(this.last.x+=n[i],this.last.y+=n[i+1],_c48);}this.absolute=false;break;case "l":case "t":for(i=0;i<l;i+=2){this._updateBBox(this.last.x+=n[i],this.last.y+=n[i+1],_c48);}this.absolute=false;break;case "h":for(i=0;i<l;++i){this._updateBBox(this.last.x+=n[i],this.last.y,_c48);}this.absolute=false;break;case "v":for(i=0;i<l;++i){this._updateBBox(this.last.x,this.last.y+=n[i],_c48);}this.absolute=false;break;case "c":for(i=0;i<l;i+=6){this._updateBBox(this.last.x+n[i],this.last.y+n[i+1],_c48);this._updateBBox(this.last.x+n[i+2],this.last.y+n[i+3],_c48);this._updateBBox(this.last.x+=n[i+4],this.last.y+=n[i+5],_c48);}this.absolute=false;break;case "s":case "q":for(i=0;i<l;i+=4){this._updateBBox(this.last.x+n[i],this.last.y+n[i+1],_c48);this._updateBBox(this.last.x+=n[i+2],this.last.y+=n[i+3],_c48);}this.absolute=false;break;case "A":for(i=0;i<l;i+=7){this._updateBBox(n[i+5],n[i+6],_c48);}this.last.x=n[l-2];this.last.y=n[l-1];this.absolute=true;break;case "a":for(i=0;i<l;i+=7){this._updateBBox(this.last.x+=n[i+5],this.last.y+=n[i+6],_c48);}this.absolute=false;break;}var path=[_c47.action];for(i=0;i<l;++i){path.push(g.formatNumber(n[i],true));}if(typeof this.shape.path=="string"){this.shape.path+=path.join("");}else{for(i=0,l=path.length;i<l;++i){this.shape.path.push(path[i]);}}},_validSegments:{m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},_pushSegment:function(_c4a,args){this.tbbox=null;var _c4b=this._validSegments[_c4a.toLowerCase()],_c4c;if(typeof _c4b=="number"){if(_c4b){if(args.length>=_c4b){_c4c={action:_c4a,args:args.slice(0,args.length-args.length%_c4b)};this.segments.push(_c4c);this._updateWithSegment(_c4c);}}else{_c4c={action:_c4a,args:[]};this.segments.push(_c4c);this._updateWithSegment(_c4c);}}},_collectArgs:function(_c4d,args){for(var i=0;i<args.length;++i){var t=args[i];if(typeof t=="boolean"){_c4d.push(t?1:0);}else{if(typeof t=="number"){_c4d.push(t);}else{if(t instanceof Array){this._collectArgs(_c4d,t);}else{if("x" in t&&"y" in t){_c4d.push(t.x,t.y);}}}}}},moveTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"M":"m",args);return this;},lineTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"L":"l",args);return this;},hLineTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"H":"h",args);return this;},vLineTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"V":"v",args);return this;},curveTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"C":"c",args);return this;},smoothCurveTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"S":"s",args);return this;},qCurveTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"Q":"q",args);return this;},qSmoothCurveTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"T":"t",args);return this;},arcTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"A":"a",args);return this;},closePath:function(){this._confirmSegmented();this._pushSegment("Z",[]);return this;},_confirmSegmented:function(){if(!this.segmented){var path=this.shape.path;this.shape.path=[];this._setPath(path);this.shape.path=this.shape.path.join("");this.segmented=true;}},_setPath:function(path){var p=lang.isArray(path)?path:path.match(g.pathSvgRegExp);this.segments=[];this.absolute=true;this.bbox={};this.last={};if(!p){return;}var _c4e="",args=[],l=p.length;for(var i=0;i<l;++i){var t=p[i],x=parseFloat(t);if(isNaN(x)){if(_c4e){this._pushSegment(_c4e,args);}args=[];_c4e=t;}else{args.push(x);}}this._pushSegment(_c4e,args);},setShape:function(_c4f){this.inherited(arguments,[typeof _c4f=="string"?{path:_c4f}:_c4f]);this.segmented=false;this.segments=[];if(!g.lazyPathSegmentation){this._confirmSegmented();}return this;},_2PI:Math.PI*2});var _c50=_c43("dojox.gfx.path.TextPath",Path,{constructor:function(_c51){if(!("text" in this)){this.text=lang.clone(g.defaultTextPath);}if(!("fontStyle" in this)){this.fontStyle=lang.clone(g.defaultFont);}},getText:function(){return this.text;},setText:function(_c52){this.text=g.makeParameters(this.text,typeof _c52=="string"?{text:_c52}:_c52);this._setText();return this;},getFont:function(){return this.fontStyle;},setFont:function(_c53){this.fontStyle=typeof _c53=="string"?g.splitFontString(_c53):g.makeParameters(g.defaultFont,_c53);this._setFont();return this;}});return g.path={Path:Path,TextPath:_c50};});},"dijit/tree/TreeStoreModel":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang"],function(_c54,_c55,_c56,lang){return _c56("dijit.tree.TreeStoreModel",null,{store:null,childrenAttrs:["children"],newItemIdAttr:"id",labelAttr:"",root:null,query:null,deferItemLoadingUntilExpand:false,constructor:function(args){lang.mixin(this,args);this.connects=[];var _c57=this.store;if(!_c57.getFeatures()["dojo.data.api.Identity"]){throw new Error("dijit.tree.TreeStoreModel: store must support dojo.data.Identity");}if(_c57.getFeatures()["dojo.data.api.Notification"]){this.connects=this.connects.concat([_c55.after(_c57,"onNew",lang.hitch(this,"onNewItem"),true),_c55.after(_c57,"onDelete",lang.hitch(this,"onDeleteItem"),true),_c55.after(_c57,"onSet",lang.hitch(this,"onSetItem"),true)]);}},destroy:function(){var h;while(h=this.connects.pop()){h.remove();}},getRoot:function(_c58,_c59){if(this.root){_c58(this.root);}else{this.store.fetch({query:this.query,onComplete:lang.hitch(this,function(_c5a){if(_c5a.length!=1){throw new Error("dijit.tree.TreeStoreModel: root query returned "+_c5a.length+" items, but must return exactly one");}this.root=_c5a[0];_c58(this.root);}),onError:_c59});}},mayHaveChildren:function(item){return _c54.some(this.childrenAttrs,function(attr){return this.store.hasAttribute(item,attr);},this);},getChildren:function(_c5b,_c5c,_c5d){var _c5e=this.store;if(!_c5e.isItemLoaded(_c5b)){var _c5f=lang.hitch(this,arguments.callee);_c5e.loadItem({item:_c5b,onItem:function(_c60){_c5f(_c60,_c5c,_c5d);},onError:_c5d});return;}var _c61=[];for(var i=0;i<this.childrenAttrs.length;i++){var vals=_c5e.getValues(_c5b,this.childrenAttrs[i]);_c61=_c61.concat(vals);}var _c62=0;if(!this.deferItemLoadingUntilExpand){_c54.forEach(_c61,function(item){if(!_c5e.isItemLoaded(item)){_c62++;}});}if(_c62==0){_c5c(_c61);}else{_c54.forEach(_c61,function(item,idx){if(!_c5e.isItemLoaded(item)){_c5e.loadItem({item:item,onItem:function(item){_c61[idx]=item;if(--_c62==0){_c5c(_c61);}},onError:_c5d});}});}},isItem:function(_c63){return this.store.isItem(_c63);},fetchItemByIdentity:function(_c64){this.store.fetchItemByIdentity(_c64);},getIdentity:function(item){return this.store.getIdentity(item);},getLabel:function(item){if(this.labelAttr){return this.store.getValue(item,this.labelAttr);}else{return this.store.getLabel(item);}},newItem:function(args,_c65,_c66){var _c67={parent:_c65,attribute:this.childrenAttrs[0]},_c68;if(this.newItemIdAttr&&args[this.newItemIdAttr]){this.fetchItemByIdentity({identity:args[this.newItemIdAttr],scope:this,onItem:function(item){if(item){this.pasteItem(item,null,_c65,true,_c66);}else{_c68=this.store.newItem(args,_c67);if(_c68&&(_c66!=undefined)){this.pasteItem(_c68,_c65,_c65,false,_c66);}}}});}else{_c68=this.store.newItem(args,_c67);if(_c68&&(_c66!=undefined)){this.pasteItem(_c68,_c65,_c65,false,_c66);}}},pasteItem:function(_c69,_c6a,_c6b,_c6c,_c6d){var _c6e=this.store,_c6f=this.childrenAttrs[0];if(_c6a){_c54.forEach(this.childrenAttrs,function(attr){if(_c6e.containsValue(_c6a,attr,_c69)){if(!_c6c){var _c70=_c54.filter(_c6e.getValues(_c6a,attr),function(x){return x!=_c69;});_c6e.setValues(_c6a,attr,_c70);}_c6f=attr;}});}if(_c6b){if(typeof _c6d=="number"){var _c71=_c6e.getValues(_c6b,_c6f).slice();_c71.splice(_c6d,0,_c69);_c6e.setValues(_c6b,_c6f,_c71);}else{_c6e.setValues(_c6b,_c6f,_c6e.getValues(_c6b,_c6f).concat(_c69));}}},onChange:function(){},onChildrenChange:function(){},onDelete:function(){},onNewItem:function(item,_c72){if(!_c72){return;}this.getChildren(_c72.item,lang.hitch(this,function(_c73){this.onChildrenChange(_c72.item,_c73);}));},onDeleteItem:function(item){this.onDelete(item);},onSetItem:function(item,_c74){if(_c54.indexOf(this.childrenAttrs,_c74)!=-1){this.getChildren(item,lang.hitch(this,function(_c75){this.onChildrenChange(item,_c75);}));}else{this.onChange(item);}}});});},"prcommon2/search/Circulation":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../search/templates/Circulation.html","prcommon2/search/std_search","dojo/_base/lang","dojo/dom-attr","dojo/dom-class","dojo/dom-style","dojo/json","dijit/form/CheckBox","prcommon2/search/SearchCount"],function(_c76,_c77,_c78,_c79,lang,_c7a,_c7b,_c7c,json){return _c76("prcommon2.search.Circulation",[_c77,_c79],{templateString:_c78,name:"",value:"",title:"",search:"",size:"9",testmode:false,constructor:function(){this._field_list=[1,2,3,4,5,6];},postCreate:function(){for(var key in this._field_list){var _c7d=this._field_list[key];_c7a.set(this["node_"+_c7d+"_label"],"for",this["node_"+_c7d].id);}},check_count:function(){this._get_selector(this._get_data());},clear:function(){for(var a in this._field_list){this["node_"+this._field_list[a]].set("value",false);}this._get_selector("");this.inherited(arguments);},_setValueAttr:function(_c7e){var open=false;this.Clear();for(var key in _c7e.data){var _c7f=_c7e.data[key];this["node_"+_c7f].set("value",true);open=true;}this._get_selector(this._getValueAttr());if(open){this.make_open();}},_getValueAttr:function(){return this._get_data();},_get_data:function(){var data=Array();var _c80=0;for(var a in this._field_list){if(this["node_"+this._field_list[a]].get("value")!=false){data[_c80]=parseInt(this._field_list[a]);++_c80;}}if(this._extended){return {data:data};}else{var data=_c80>0?json.stringify(data):"";this.value=data;return data;}},_focus:function(){this.node_1.focus();}});});},"dojox/charting/plot2d/commonStacked":function(){define(["dojo/_base/lang","dojox/lang/functional","./common"],function(lang,df,_c81){var _c82=lang.getObject("dojox.charting.plot2d.commonStacked",true);return lang.mixin(_c82,{collectStats:function(_c83,_c84){var _c85=lang.delegate(_c81.defaultStats);for(var i=0;i<_c83.length;++i){var run=_c83[i];for(var j=0;j<run.data.length;j++){var x,y;if(run.data[j]!==null){if(typeof run.data[j]=="number"||!run.data[j].hasOwnProperty("x")){y=_c82.getIndexValue(_c83,i,j,_c84)[0];x=j+1;}else{x=run.data[j].x;if(x!==null){y=_c82.getValue(_c83,i,x,_c84)[0];y=y!=null&&y.y?y.y:null;}}_c85.hmin=Math.min(_c85.hmin,x);_c85.hmax=Math.max(_c85.hmax,x);_c85.vmin=Math.min(_c85.vmin,y);_c85.vmax=Math.max(_c85.vmax,y);}}}return _c85;},rearrangeValues:function(_c86,_c87,_c88){var sets=df.filter(_c86,"x"),n=sets.length;if(!n){return _c86;}var _c89={};for(var i=0;i<n;++i){var _c8a=sets[i];for(var j=_c8a.min,k=_c8a.max;j<k;++j){_c8a[j]=(_c8a[j]||0)+(_c89[j]||0);}_c89=_c8a;}for(i=0;i<n;++i){_c8a=sets[i];for(j=_c8a.min,k=_c8a.max;j<k;++j){_c8a[j]=this.isNullValue(_c8a[j])?0:_c87(_c8a[j])-_c88;}}if(this.opt.minWidth){var _c8b=this.opt.minWidth;for(i=n-1;i;--i){_c8a=sets[i];_c89=sets[i-1];for(j=_c8a.min,k=_c8a.max;j<k;++j){_c8a[j]=_c8a[j]-_c89[j];}}var min=_c8a.min,max=_c8a.max;for(var j=min;j<max;++j){var sum=0,_c8c=0;for(i=0;i<n;++i){var _c8d=sets[i][j];if(_c8d>0){sum+=_c8d;++_c8c;}}if(sum<=_c8c*_c8b){for(i=0;i<n;++i){_c8d=sets[i][j];if(_c8d>0){sets[i][j]=_c8b;}}continue;}var _c8e=0;for(i=0;i<n;++i){_c8a=sets[i];_c8d=_c8a[j];if(_c8d>0){if(_c8d<_c8b){_c8e+=_c8b-_c8d;_c8a[j]=_c8b;}else{if(_c8e>0){var _c8f=_c8a[j]-_c8b;if(_c8f>=_c8e){_c8a[j]-=_c8e;_c8e=0;}else{if(_c8f>0){_c8a[j]=_c8b;_c8e-=_c8f;}}}}}}if(_c8e>0){for(i=n-1;i>=0;--i){_c8a=sets[i];_c8d=_c8a[j];if(_c8d>0){_c8f=_c8a[j]-_c8b;if(_c8f>=_c8e){_c8a[j]-=_c8e;break;}else{if(_c8f>0){_c8a[j]=_c8b;_c8e-=_c8f;}}}}}}for(i=1;i<n;++i){_c8a=sets[i];_c89=sets[i-1];for(j=_c8a.min,k=_c8a.max;j<k;++j){_c8a[j]=_c8a[j]+_c89[j];}}}return _c86;},getIndexValue:function(_c90,i,_c91,_c92){var _c93=0,v,j;for(j=0;j<=i;++j){v=_c90[j].data[_c91];if(!_c92(v)){if(isNaN(v)){v=v.y||0;}_c93+=v;}}return _c93;},getValue:function(_c94,i,x,_c95){var _c96=null,j,z;for(j=0;j<=i;++j){for(z=0;z<_c94[j].data.length;z++){v=_c94[j].data[z];if(!_c95(v)){if(v.x==x){if(!_c96){_c96={x:x};}if(v.y!=null){if(_c96.y==null){_c96.y=0;}_c96.y+=v.y;}break;}else{if(v.x>x){break;}}}}}return _c96;},getIndexValue:function(_c97,i,_c98,_c99){var _c9a=0,v,j,_c9b;for(j=0;j<=i;++j){if(_c97[j].hidden){continue;}_c9b=_c9a;v=_c97[j].data[_c98];if(!_c99(v)){if(isNaN(v)){v=v.y||0;}_c9a+=v;}}return [_c9a,_c9b];},getValue:function(_c9c,i,x,_c9d){var _c9e=null,j,z,v,_c9f;for(j=0;j<=i;++j){if(_c9c[j].hidden){continue;}for(z=0;z<_c9c[j].data.length;z++){_c9f=_c9e;v=_c9c[j].data[z];if(!_c9d(v)){if(v.x==x){if(!_c9e){_c9e={x:x};}if(v.y!=null){if(_c9e.y==null){_c9e.y=0;}_c9e.y+=v.y;}break;}else{if(v.x>x){break;}}}}}return [_c9e,_c9f];}});});},"dojo/dnd/TimedMoveable":function(){define(["../_base/declare","./Moveable"],function(_ca0,_ca1){var _ca2=_ca1.prototype.onMove;return _ca0("dojo.dnd.TimedMoveable",_ca1,{timeout:40,constructor:function(node,_ca3){if(!_ca3){_ca3={};}if(_ca3.timeout&&typeof _ca3.timeout=="number"&&_ca3.timeout>=0){this.timeout=_ca3.timeout;}},onMoveStop:function(_ca4){if(_ca4._timer){clearTimeout(_ca4._timer);_ca2.call(this,_ca4,_ca4._leftTop);}_ca1.prototype.onMoveStop.apply(this,arguments);},onMove:function(_ca5,_ca6){_ca5._leftTop=_ca6;if(!_ca5._timer){var _ca7=this;_ca5._timer=setTimeout(function(){_ca5._timer=null;_ca2.call(_ca7,_ca5,_ca5._leftTop);},this.timeout);}}});});},"prcommon2/clippings/selecttone":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../clippings/templates/selecttone.html","ttl/utilities2","dojo/topic","dojo/_base/lang","dojo/dom-attr","dojo/dom-class","dijit/popup","dijit/focus","dijit/form/CheckBox","dijit/TooltipDialog"],function(_ca8,_ca9,_caa,_cab,_cac,lang,_cad,_cae,_caf,_cb0){return _ca8("prcommon2.clippings.selecttone",[_ca9],{templateString:_caa,name:"",value:"",constructor:function(){this.is_popup=false;this._close_popup_call=lang.hitch(this,this._close_popup);},postCreate:function(){_caf.moveOffScreen(this.tone_view);this.inherited(arguments);_cad.set(this.selected_tones,"innerHTML","ALL Tones");this._all_labels=[this.very_pos,this.pos,this.neutral,this.neg,this.very_neg];},_toggle:function(evt){if(this.is_popup==false){_caf.open({popup:this.tone_view,around:this.tones_node,x:evt.x,y:evt.y,onClose:this._close_popup_call,});this.is_popup=true;this.tone_view.focus();}else{this.is_popup=false;_caf.close(this.tone_view);}},_close_tooltip:function(){this._getValueAttr();this.is_popup=false;_caf.close(this.tone_view);},_close_popup:function(){this._getValueAttr();this.is_popup=false;},_getValueAttr:function(){this.tones=[];for(var key in this._all_labels){if(this._all_labels[key].get("checked")){this.tones.push(this._all_labels[key].get("tvalue"));}}this._get_selected_tones_text();return this.tones;},_setValueAttr:function(_cb1){if(_cb1!=null&&_cb1!=""){for(var key in this._all_labels){this._all_labels[key].set("checked",false);}for(var key in _cb1){switch(_cb1[key]){case 1:case "1":this.very_pos.set("checked",true);break;case 2:case "2":this.pos.set("checked",true);break;case 3:case "3":this.neutral.set("checked",true);break;case 4:case "4":this.neg.set("checked",true);break;case 5:case "5":this.very_neg.set("checked",true);break;}}this._getValueAttr();}},_get_selected_tones_text:function(){var _cb2="";for(var key in this._all_labels){if(this._all_labels[key].get("checked")){_cb2+=" "+this._all_labels[key].get("sname");}}if(this.tones.length==5){_cb2="ALL Tones";}if(this.tones.length==0){_cb2="No Selection";}_cad.set(this.selected_tones,"innerHTML",_cb2);},_change_tones:function(btn){this._getValueAttr();},isValid:function(){this._getValueAttr();return this.tones.length==0?false:true;},_select_all:function(){for(var key in this._all_labels){this._all_labels[key].set("checked",true);}this._getValueAttr();},clear:function(){for(var key in this._all_labels){this._all_labels[key].set("checked",true);}this._getValueAttr();},_getDisplayedValueAttr:function(){return _cad.get(this.selected_tones,"innerHTML");},_close_pop_up:function(){this._close_tooltip();}});});},"prcommon2/clippings/loaded":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dijit/layout/BorderContainer","dijit/layout/ContentPane","dojo/data/ItemFileReadStore","dijit/layout/StackContainer","dijit/Dialog","ttl/Amduuid","dojox/gfx/svg","prcommon2/clippings/frame","prcommon2/prevents","prcommon2/store/DataStores"],function(){});},"dojox/charting/themes/Claro":function(){define(["../Theme","dojox/gfx/gradutils","./common"],function(_cb3,_cb4,_cb5){var g=_cb3.generateGradient,_cb6={type:"linear",space:"shape",x1:0,y1:0,x2:0,y2:100};_cb5.Claro=new _cb3({chart:{fill:{type:"linear",x1:0,x2:0,y1:0,y2:100,colors:[{offset:0,color:"#dbdbdb"},{offset:1,color:"#efefef"}]},stroke:{color:"#b5bcc7"}},plotarea:{fill:{type:"linear",x1:0,x2:0,y1:0,y2:100,colors:[{offset:0,color:"#dbdbdb"},{offset:1,color:"#efefef"}]}},axis:{stroke:{color:"#888c76",width:1},tick:{color:"#888c76",position:"center",font:"normal normal normal 7pt Verdana, Arial, sans-serif",fontColor:"#888c76"}},series:{stroke:{width:2.5,color:"#fff"},outline:null,font:"normal normal normal 7pt Verdana, Arial, sans-serif",fontColor:"#131313"},marker:{stroke:{width:1.25,color:"#131313"},outline:{width:1.25,color:"#131313"},font:"normal normal normal 8pt Verdana, Arial, sans-serif",fontColor:"#131313"},seriesThemes:[{fill:g(_cb6,"#2a6ead","#3a99f2")},{fill:g(_cb6,"#613e04","#996106")},{fill:g(_cb6,"#0e3961","#155896")},{fill:g(_cb6,"#55aafa","#3f7fba")},{fill:g(_cb6,"#ad7b2a","#db9b35")}],markerThemes:[{fill:"#2a6ead",stroke:{color:"#fff"}},{fill:"#613e04",stroke:{color:"#fff"}},{fill:"#0e3961",stroke:{color:"#fff"}},{fill:"#55aafa",stroke:{color:"#fff"}},{fill:"#ad7b2a",stroke:{color:"#fff"}}]});_cb5.Claro.next=function(_cb7,_cb8,_cb9){var _cba=_cb7=="line",s,_cbb;if(_cba||_cb7=="area"){s=this.seriesThemes[this._current%this.seriesThemes.length];var m=this.markerThemes[this._current%this.markerThemes.length];s.fill.space="plot";if(_cba){s.stroke={width:4,color:s.fill.colors[0].color};}m.outline={width:1.25,color:m.fill};_cbb=_cb3.prototype.next.apply(this,arguments);delete s.outline;delete s.stroke;s.fill.space="shape";return _cbb;}else{if(_cb7=="candlestick"){s=this.seriesThemes[this._current%this.seriesThemes.length];s.fill.space="plot";s.stroke={width:1,color:s.fill.colors[0].color};_cbb=_cb3.prototype.next.apply(this,arguments);return _cbb;}}return _cb3.prototype.next.apply(this,arguments);};_cb5.Claro.post=function(_cbc,_cbd){_cbc=_cb3.prototype.post.apply(this,arguments);if((_cbd=="slice"||_cbd=="circle")&&_cbc.series.fill&&_cbc.series.fill.type=="radial"){_cbc.series.fill=_cb4.reverse(_cbc.series.fill);}return _cbc;};return _cb5.Claro;});},"dojox/gfx/matrix":function(){define(["./_base","dojo/_base/lang"],function(g,lang){var m=g.matrix={};var _cbe={};m._degToRad=function(_cbf){return _cbe[_cbf]||(_cbe[_cbf]=(Math.PI*_cbf/180));};m._radToDeg=function(_cc0){return _cc0/Math.PI*180;};m.Matrix2D=function(arg){if(arg){if(typeof arg=="number"){this.xx=this.yy=arg;}else{if(arg instanceof Array){if(arg.length>0){var _cc1=m.normalize(arg[0]);for(var i=1;i<arg.length;++i){var l=_cc1,r=m.normalize(arg[i]);_cc1=new m.Matrix2D();_cc1.xx=l.xx*r.xx+l.xy*r.yx;_cc1.xy=l.xx*r.xy+l.xy*r.yy;_cc1.yx=l.yx*r.xx+l.yy*r.yx;_cc1.yy=l.yx*r.xy+l.yy*r.yy;_cc1.dx=l.xx*r.dx+l.xy*r.dy+l.dx;_cc1.dy=l.yx*r.dx+l.yy*r.dy+l.dy;}lang.mixin(this,_cc1);}}else{lang.mixin(this,arg);}}}};lang.extend(m.Matrix2D,{xx:1,xy:0,yx:0,yy:1,dx:0,dy:0});lang.mixin(m,{identity:new m.Matrix2D(),flipX:new m.Matrix2D({xx:-1}),flipY:new m.Matrix2D({yy:-1}),flipXY:new m.Matrix2D({xx:-1,yy:-1}),translate:function(a,b){if(arguments.length>1){return new m.Matrix2D({dx:a,dy:b});}return new m.Matrix2D({dx:a.x,dy:a.y});},scale:function(a,b){if(arguments.length>1){return new m.Matrix2D({xx:a,yy:b});}if(typeof a=="number"){return new m.Matrix2D({xx:a,yy:a});}return new m.Matrix2D({xx:a.x,yy:a.y});},rotate:function(_cc2){var c=Math.cos(_cc2);var s=Math.sin(_cc2);return new m.Matrix2D({xx:c,xy:-s,yx:s,yy:c});},rotateg:function(_cc3){return m.rotate(m._degToRad(_cc3));},skewX:function(_cc4){return new m.Matrix2D({xy:Math.tan(_cc4)});},skewXg:function(_cc5){return m.skewX(m._degToRad(_cc5));},skewY:function(_cc6){return new m.Matrix2D({yx:Math.tan(_cc6)});},skewYg:function(_cc7){return m.skewY(m._degToRad(_cc7));},reflect:function(a,b){if(arguments.length==1){b=a.y;a=a.x;}var a2=a*a,b2=b*b,n2=a2+b2,xy=2*a*b/n2;return new m.Matrix2D({xx:2*a2/n2-1,xy:xy,yx:xy,yy:2*b2/n2-1});},project:function(a,b){if(arguments.length==1){b=a.y;a=a.x;}var a2=a*a,b2=b*b,n2=a2+b2,xy=a*b/n2;return new m.Matrix2D({xx:a2/n2,xy:xy,yx:xy,yy:b2/n2});},normalize:function(_cc8){return (_cc8 instanceof m.Matrix2D)?_cc8:new m.Matrix2D(_cc8);},isIdentity:function(_cc9){return _cc9.xx==1&&_cc9.xy==0&&_cc9.yx==0&&_cc9.yy==1&&_cc9.dx==0&&_cc9.dy==0;},clone:function(_cca){var obj=new m.Matrix2D();for(var i in _cca){if(typeof (_cca[i])=="number"&&typeof (obj[i])=="number"&&obj[i]!=_cca[i]){obj[i]=_cca[i];}}return obj;},invert:function(_ccb){var M=m.normalize(_ccb),D=M.xx*M.yy-M.xy*M.yx;M=new m.Matrix2D({xx:M.yy/D,xy:-M.xy/D,yx:-M.yx/D,yy:M.xx/D,dx:(M.xy*M.dy-M.yy*M.dx)/D,dy:(M.yx*M.dx-M.xx*M.dy)/D});return M;},_multiplyPoint:function(_ccc,x,y){return {x:_ccc.xx*x+_ccc.xy*y+_ccc.dx,y:_ccc.yx*x+_ccc.yy*y+_ccc.dy};},multiplyPoint:function(_ccd,a,b){var M=m.normalize(_ccd);if(typeof a=="number"&&typeof b=="number"){return m._multiplyPoint(M,a,b);}return m._multiplyPoint(M,a.x,a.y);},multiplyRectangle:function(_cce,rect){var M=m.normalize(_cce);rect=rect||{x:0,y:0,width:0,height:0};if(m.isIdentity(M)){return {x:rect.x,y:rect.y,width:rect.width,height:rect.height};}var p0=m.multiplyPoint(M,rect.x,rect.y),p1=m.multiplyPoint(M,rect.x,rect.y+rect.height),p2=m.multiplyPoint(M,rect.x+rect.width,rect.y),p3=m.multiplyPoint(M,rect.x+rect.width,rect.y+rect.height),minx=Math.min(p0.x,p1.x,p2.x,p3.x),miny=Math.min(p0.y,p1.y,p2.y,p3.y),maxx=Math.max(p0.x,p1.x,p2.x,p3.x),maxy=Math.max(p0.y,p1.y,p2.y,p3.y);return {x:minx,y:miny,width:maxx-minx,height:maxy-miny};},multiply:function(_ccf){var M=m.normalize(_ccf);for(var i=1;i<arguments.length;++i){var l=M,r=m.normalize(arguments[i]);M=new m.Matrix2D();M.xx=l.xx*r.xx+l.xy*r.yx;M.xy=l.xx*r.xy+l.xy*r.yy;M.yx=l.yx*r.xx+l.yy*r.yx;M.yy=l.yx*r.xy+l.yy*r.yy;M.dx=l.xx*r.dx+l.xy*r.dy+l.dx;M.dy=l.yx*r.dx+l.yy*r.dy+l.dy;}return M;},_sandwich:function(_cd0,x,y){return m.multiply(m.translate(x,y),_cd0,m.translate(-x,-y));},scaleAt:function(a,b,c,d){switch(arguments.length){case 4:return m._sandwich(m.scale(a,b),c,d);case 3:if(typeof c=="number"){return m._sandwich(m.scale(a),b,c);}return m._sandwich(m.scale(a,b),c.x,c.y);}return m._sandwich(m.scale(a),b.x,b.y);},rotateAt:function(_cd1,a,b){if(arguments.length>2){return m._sandwich(m.rotate(_cd1),a,b);}return m._sandwich(m.rotate(_cd1),a.x,a.y);},rotategAt:function(_cd2,a,b){if(arguments.length>2){return m._sandwich(m.rotateg(_cd2),a,b);}return m._sandwich(m.rotateg(_cd2),a.x,a.y);},skewXAt:function(_cd3,a,b){if(arguments.length>2){return m._sandwich(m.skewX(_cd3),a,b);}return m._sandwich(m.skewX(_cd3),a.x,a.y);},skewXgAt:function(_cd4,a,b){if(arguments.length>2){return m._sandwich(m.skewXg(_cd4),a,b);}return m._sandwich(m.skewXg(_cd4),a.x,a.y);},skewYAt:function(_cd5,a,b){if(arguments.length>2){return m._sandwich(m.skewY(_cd5),a,b);}return m._sandwich(m.skewY(_cd5),a.x,a.y);},skewYgAt:function(_cd6,a,b){if(arguments.length>2){return m._sandwich(m.skewYg(_cd6),a,b);}return m._sandwich(m.skewYg(_cd6),a.x,a.y);}});g.Matrix2D=m.Matrix2D;return m;});},"prcommon2/reports/ReportBuilder":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../reports/templates/ReportBuilder.html","ttl/utilities2","dojo/request","dojo/_base/lang","dojo/dom-style","dojo/dom-attr","dojo/dom-class","dijit/ProgressBar"],function(_cd7,_cd8,_cd9,_cda,_cdb,lang,_cdc,_cdd,_cde){return _cd7("prcommon2.reports.ReportBuilder",[_cd8],{templateString:_cd9,constructor:function(){this._reportid=-1;this._current=0;this._complete=null;this._on_start_call_back=lang.hitch(this,this._on_start_call);this._on_status_call_back=lang.hitch(this,this._on_status_call);this._get_report_build_status_back=lang.hitch(this,this._get_report_build_status);},postCreate:function(){this.inherited(arguments);},SetCompleted:function(_cdf){this._complete=_cdf;},start:function(_ce0){this._start(_ce0);},_start:function(_ce1){this.clear();if(_ce1.searchtypeid==null){_ce1.searchtypeid=-1;}_cdb.post("/reports/start",_cda.make_params({data:_ce1})).then(this._on_start_call_back);},_on_start_call:function(_ce2){this._reportid=_ce2.reportid;this._wait();},_wait:function(){if(this._reportid==-1){this._complete(false);}else{++this._current;if(this._current>300){this._complete(false);}else{setTimeout(this._get_report_build_status_back,2000);}}},_on_status_call:function(_ce3){if(_ce3.success=="OK"){if(_ce3.reportstatusid==0||_ce3.reportstatusid==1){this._wait();}else{_cdd.set(this.reportid,"value",this._reportid);_cdd.set(this.reportForm,"action","/reports/view/"+this._reportid);_cdd.set(this.cache_buster,"value",new Date());this.reportForm.submit();this._complete(true);}}else{this.stop();}},stop:function(){this.clear();this._complete(false);},clear:function(){this._reportid=-1;this._current=0;},_get_report_build_status:function(){if(this._reportid!=-1){_cdb.post("/reports/status",_cda.make_params({data:{reportid:this._reportid}})).then(this._on_status_call_back);}}});});},"dijit/popup":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","./place","./BackgroundIframe","./Viewport","./main","dojo/touch"],function(_ce4,_ce5,_ce6,dom,_ce7,_ce8,_ce9,_cea,has,keys,lang,on,_ceb,_cec,_ced,_cee){function _cef(){if(this._popupWrapper){_ce8.destroy(this._popupWrapper);delete this._popupWrapper;}};var _cf0=_ce6(null,{_stack:[],_beginZIndex:1000,_idGen:1,_repositionAll:function(){if(this._firstAroundNode){var _cf1=this._firstAroundPosition,_cf2=_ce9.position(this._firstAroundNode,true),dx=_cf2.x-_cf1.x,dy=_cf2.y-_cf1.y;if(dx||dy){this._firstAroundPosition=_cf2;for(var i=0;i<this._stack.length;i++){var _cf3=this._stack[i].wrapper.style;_cf3.top=(parseFloat(_cf3.top)+dy)+"px";if(_cf3.right=="auto"){_cf3.left=(parseFloat(_cf3.left)+dx)+"px";}else{_cf3.right=(parseFloat(_cf3.right)-dx)+"px";}}}this._aroundMoveListener=setTimeout(lang.hitch(this,"_repositionAll"),dx||dy?10:50);}},_createWrapper:function(_cf4){var _cf5=_cf4._popupWrapper,node=_cf4.domNode;if(!_cf5){_cf5=_ce8.create("div",{"class":"dijitPopup",style:{display:"none"},role:"region","aria-label":_cf4["aria-label"]||_cf4.label||_cf4.name||_cf4.id},_cf4.ownerDocumentBody);_cf5.appendChild(node);var s=node.style;s.display="";s.visibility="";s.position="";s.top="0px";_cf4._popupWrapper=_cf5;_ce5.after(_cf4,"destroy",_cef,true);if("ontouchend" in document){on(_cf5,"touchend",function(evt){if(!/^(input|button|textarea)$/i.test(evt.target.tagName)){evt.preventDefault();}});}_cf5.dojoClick=true;}return _cf5;},moveOffScreen:function(_cf6){var _cf7=this._createWrapper(_cf6);var ltr=_ce9.isBodyLtr(_cf6.ownerDocument),_cf8={visibility:"hidden",top:"-9999px",display:""};_cf8[ltr?"left":"right"]="-9999px";_cf8[ltr?"right":"left"]="auto";_cea.set(_cf7,_cf8);return _cf7;},hide:function(_cf9){var _cfa=this._createWrapper(_cf9);_cea.set(_cfa,{display:"none",height:"auto",overflowY:"visible",border:""});var node=_cf9.domNode;if("_originalStyle" in node){node.style.cssText=node._originalStyle;}},getTopPopup:function(){var _cfb=this._stack;for(var pi=_cfb.length-1;pi>0&&_cfb[pi].parent===_cfb[pi-1].widget;pi--){}return _cfb[pi];},open:function(args){var _cfc=this._stack,_cfd=args.popup,node=_cfd.domNode,_cfe=args.orient||["below","below-alt","above","above-alt"],ltr=args.parent?args.parent.isLeftToRight():_ce9.isBodyLtr(_cfd.ownerDocument),_cff=args.around,id=(args.around&&args.around.id)?(args.around.id+"_dropdown"):("popup_"+this._idGen++);while(_cfc.length&&(!args.parent||!dom.isDescendant(args.parent.domNode,_cfc[_cfc.length-1].widget.domNode))){this.close(_cfc[_cfc.length-1].widget);}var _d00=this.moveOffScreen(_cfd);if(_cfd.startup&&!_cfd._started){_cfd.startup();}var _d01,_d02=_ce9.position(node);if("maxHeight" in args&&args.maxHeight!=-1){_d01=args.maxHeight||Infinity;}else{var _d03=_ced.getEffectiveBox(this.ownerDocument),_d04=_cff?_ce9.position(_cff,false):{y:args.y-(args.padding||0),h:(args.padding||0)*2};_d01=Math.floor(Math.max(_d04.y,_d03.h-(_d04.y+_d04.h)));}if(_d02.h>_d01){var cs=_cea.getComputedStyle(node),_d05=cs.borderLeftWidth+" "+cs.borderLeftStyle+" "+cs.borderLeftColor;_cea.set(_d00,{overflowY:"scroll",height:_d01+"px",border:_d05});node._originalStyle=node.style.cssText;node.style.border="none";}_ce7.set(_d00,{id:id,style:{zIndex:this._beginZIndex+_cfc.length},"class":"dijitPopup "+(_cfd.baseClass||_cfd["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:args.parent?args.parent.id:""});if(_cfc.length==0&&_cff){this._firstAroundNode=_cff;this._firstAroundPosition=_ce9.position(_cff,true);this._aroundMoveListener=setTimeout(lang.hitch(this,"_repositionAll"),50);}if(has("config-bgIframe")&&!_cfd.bgIframe){_cfd.bgIframe=new _cec(_d00);}var _d06=_cfd.orient?lang.hitch(_cfd,"orient"):null,best=_cff?_ceb.around(_d00,_cff,_cfe,ltr,_d06):_ceb.at(_d00,args,_cfe=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],args.padding,_d06);_d00.style.visibility="visible";node.style.visibility="visible";var _d07=[];_d07.push(on(_d00,"keydown",lang.hitch(this,function(evt){if(evt.keyCode==keys.ESCAPE&&args.onCancel){evt.stopPropagation();evt.preventDefault();args.onCancel();}else{if(evt.keyCode==keys.TAB){evt.stopPropagation();evt.preventDefault();var _d08=this.getTopPopup();if(_d08&&_d08.onCancel){_d08.onCancel();}}}})));if(_cfd.onCancel&&args.onCancel){_d07.push(_cfd.on("cancel",args.onCancel));}_d07.push(_cfd.on(_cfd.onExecute?"execute":"change",lang.hitch(this,function(){var _d09=this.getTopPopup();if(_d09&&_d09.onExecute){_d09.onExecute();}})));_cfc.push({widget:_cfd,wrapper:_d00,parent:args.parent,onExecute:args.onExecute,onCancel:args.onCancel,onClose:args.onClose,handlers:_d07});if(_cfd.onOpen){_cfd.onOpen(best);}return best;},close:function(_d0a){var _d0b=this._stack;while((_d0a&&_ce4.some(_d0b,function(elem){return elem.widget==_d0a;}))||(!_d0a&&_d0b.length)){var top=_d0b.pop(),_d0c=top.widget,_d0d=top.onClose;if(_d0c.bgIframe){_d0c.bgIframe.destroy();delete _d0c.bgIframe;}if(_d0c.onClose){_d0c.onClose();}var h;while(h=top.handlers.pop()){h.remove();}if(_d0c&&_d0c.domNode){this.hide(_d0c);}if(_d0d){_d0d();}}if(_d0b.length==0&&this._aroundMoveListener){clearTimeout(this._aroundMoveListener);this._firstAroundNode=this._firstAroundPosition=this._aroundMoveListener=null;}}});return (_cee.popup=new _cf0());});},"dojo/data/ItemFileWriteStore":function(){define(["../_base/lang","../_base/declare","../_base/array","../_base/json","../_base/kernel","./ItemFileReadStore","../date/stamp"],function(lang,_d0e,_d0f,_d10,_d11,_d12,_d13){return _d0e("dojo.data.ItemFileWriteStore",_d12,{constructor:function(_d14){this._features["dojo.data.api.Write"]=true;this._features["dojo.data.api.Notification"]=true;this._pending={_newItems:{},_modifiedItems:{},_deletedItems:{}};if(!this._datatypeMap["Date"].serialize){this._datatypeMap["Date"].serialize=function(obj){return _d13.toISOString(obj,{zulu:true});};}if(_d14&&(_d14.referenceIntegrity===false)){this.referenceIntegrity=false;}this._saveInProgress=false;},referenceIntegrity:true,_assert:function(_d15){if(!_d15){throw new Error("assertion failed in ItemFileWriteStore");}},_getIdentifierAttribute:function(){return this.getFeatures()["dojo.data.api.Identity"];},newItem:function(_d16,_d17){this._assert(!this._saveInProgress);if(!this._loadFinished){this._forceLoad();}if(typeof _d16!="object"&&typeof _d16!="undefined"){throw new Error("newItem() was passed something other than an object");}var _d18=null;var _d19=this._getIdentifierAttribute();if(_d19===Number){_d18=this._arrayOfAllItems.length;}else{_d18=_d16[_d19];if(typeof _d18==="undefined"){throw new Error("newItem() was not passed an identity for the new item");}if(lang.isArray(_d18)){throw new Error("newItem() was not passed an single-valued identity");}}if(this._itemsByIdentity){this._assert(typeof this._itemsByIdentity[_d18]==="undefined");}this._assert(typeof this._pending._newItems[_d18]==="undefined");this._assert(typeof this._pending._deletedItems[_d18]==="undefined");var _d1a={};_d1a[this._storeRefPropName]=this;_d1a[this._itemNumPropName]=this._arrayOfAllItems.length;if(this._itemsByIdentity){this._itemsByIdentity[_d18]=_d1a;_d1a[_d19]=[_d18];}this._arrayOfAllItems.push(_d1a);var _d1b=null;if(_d17&&_d17.parent&&_d17.attribute){_d1b={item:_d17.parent,attribute:_d17.attribute,oldValue:undefined};var _d1c=this.getValues(_d17.parent,_d17.attribute);if(_d1c&&_d1c.length>0){var _d1d=_d1c.slice(0,_d1c.length);if(_d1c.length===1){_d1b.oldValue=_d1c[0];}else{_d1b.oldValue=_d1c.slice(0,_d1c.length);}_d1d.push(_d1a);this._setValueOrValues(_d17.parent,_d17.attribute,_d1d,false);_d1b.newValue=this.getValues(_d17.parent,_d17.attribute);}else{this._setValueOrValues(_d17.parent,_d17.attribute,_d1a,false);_d1b.newValue=_d1a;}}else{_d1a[this._rootItemPropName]=true;this._arrayOfTopLevelItems.push(_d1a);}this._pending._newItems[_d18]=_d1a;for(var key in _d16){if(key===this._storeRefPropName||key===this._itemNumPropName){throw new Error("encountered bug in ItemFileWriteStore.newItem");}var _d1e=_d16[key];if(!lang.isArray(_d1e)){_d1e=[_d1e];}_d1a[key]=_d1e;if(this.referenceIntegrity){for(var i=0;i<_d1e.length;i++){var val=_d1e[i];if(this.isItem(val)){this._addReferenceToMap(val,_d1a,key);}}}}this.onNew(_d1a,_d1b);return _d1a;},_removeArrayElement:function(_d1f,_d20){var _d21=_d0f.indexOf(_d1f,_d20);if(_d21!=-1){_d1f.splice(_d21,1);return true;}return false;},deleteItem:function(item){this._assert(!this._saveInProgress);this._assertIsItem(item);var _d22=item[this._itemNumPropName];var _d23=this.getIdentity(item);if(this.referenceIntegrity){var _d24=this.getAttributes(item);if(item[this._reverseRefMap]){item["backup_"+this._reverseRefMap]=lang.clone(item[this._reverseRefMap]);}_d0f.forEach(_d24,function(_d25){_d0f.forEach(this.getValues(item,_d25),function(_d26){if(this.isItem(_d26)){if(!item["backupRefs_"+this._reverseRefMap]){item["backupRefs_"+this._reverseRefMap]=[];}item["backupRefs_"+this._reverseRefMap].push({id:this.getIdentity(_d26),attr:_d25});this._removeReferenceFromMap(_d26,item,_d25);}},this);},this);var _d27=item[this._reverseRefMap];if(_d27){for(var _d28 in _d27){var _d29=null;if(this._itemsByIdentity){_d29=this._itemsByIdentity[_d28];}else{_d29=this._arrayOfAllItems[_d28];}if(_d29){for(var _d2a in _d27[_d28]){var _d2b=this.getValues(_d29,_d2a)||[];var _d2c=_d0f.filter(_d2b,function(_d2d){return !(this.isItem(_d2d)&&this.getIdentity(_d2d)==_d23);},this);this._removeReferenceFromMap(item,_d29,_d2a);if(_d2c.length<_d2b.length){this._setValueOrValues(_d29,_d2a,_d2c,true);}}}}}}this._arrayOfAllItems[_d22]=null;item[this._storeRefPropName]=null;if(this._itemsByIdentity){delete this._itemsByIdentity[_d23];}this._pending._deletedItems[_d23]=item;if(item[this._rootItemPropName]){this._removeArrayElement(this._arrayOfTopLevelItems,item);}this.onDelete(item);return true;},setValue:function(item,_d2e,_d2f){return this._setValueOrValues(item,_d2e,_d2f,true);},setValues:function(item,_d30,_d31){return this._setValueOrValues(item,_d30,_d31,true);},unsetAttribute:function(item,_d32){return this._setValueOrValues(item,_d32,[],true);},_setValueOrValues:function(item,_d33,_d34,_d35){this._assert(!this._saveInProgress);this._assertIsItem(item);this._assert(lang.isString(_d33));this._assert(typeof _d34!=="undefined");var _d36=this._getIdentifierAttribute();if(_d33==_d36){throw new Error("ItemFileWriteStore does not have support for changing the value of an item's identifier.");}var _d37=this._getValueOrValues(item,_d33);var _d38=this.getIdentity(item);if(!this._pending._modifiedItems[_d38]){var _d39={};for(var key in item){if((key===this._storeRefPropName)||(key===this._itemNumPropName)||(key===this._rootItemPropName)){_d39[key]=item[key];}else{if(key===this._reverseRefMap){_d39[key]=lang.clone(item[key]);}else{_d39[key]=item[key].slice(0,item[key].length);}}}this._pending._modifiedItems[_d38]=_d39;}var _d3a=false;if(lang.isArray(_d34)&&_d34.length===0){_d3a=delete item[_d33];_d34=undefined;if(this.referenceIntegrity&&_d37){var _d3b=_d37;if(!lang.isArray(_d3b)){_d3b=[_d3b];}for(var i=0;i<_d3b.length;i++){var _d3c=_d3b[i];if(this.isItem(_d3c)){this._removeReferenceFromMap(_d3c,item,_d33);}}}}else{var _d3d;if(lang.isArray(_d34)){_d3d=_d34.slice(0,_d34.length);}else{_d3d=[_d34];}if(this.referenceIntegrity){if(_d37){var _d3b=_d37;if(!lang.isArray(_d3b)){_d3b=[_d3b];}var map={};_d0f.forEach(_d3b,function(_d3e){if(this.isItem(_d3e)){var id=this.getIdentity(_d3e);map[id.toString()]=true;}},this);_d0f.forEach(_d3d,function(_d3f){if(this.isItem(_d3f)){var id=this.getIdentity(_d3f);if(map[id.toString()]){delete map[id.toString()];}else{this._addReferenceToMap(_d3f,item,_d33);}}},this);for(var rId in map){var _d40;if(this._itemsByIdentity){_d40=this._itemsByIdentity[rId];}else{_d40=this._arrayOfAllItems[rId];}this._removeReferenceFromMap(_d40,item,_d33);}}else{for(var i=0;i<_d3d.length;i++){var _d3c=_d3d[i];if(this.isItem(_d3c)){this._addReferenceToMap(_d3c,item,_d33);}}}}item[_d33]=_d3d;_d3a=true;}if(_d35){this.onSet(item,_d33,_d37,_d34);}return _d3a;},_addReferenceToMap:function(_d41,_d42,_d43){var _d44=this.getIdentity(_d42);var _d45=_d41[this._reverseRefMap];if(!_d45){_d45=_d41[this._reverseRefMap]={};}var _d46=_d45[_d44];if(!_d46){_d46=_d45[_d44]={};}_d46[_d43]=true;},_removeReferenceFromMap:function(_d47,_d48,_d49){var _d4a=this.getIdentity(_d48);var _d4b=_d47[this._reverseRefMap];var _d4c;if(_d4b){for(_d4c in _d4b){if(_d4c==_d4a){delete _d4b[_d4c][_d49];if(this._isEmpty(_d4b[_d4c])){delete _d4b[_d4c];}}}if(this._isEmpty(_d4b)){delete _d47[this._reverseRefMap];}}},_dumpReferenceMap:function(){var i;for(i=0;i<this._arrayOfAllItems.length;i++){var item=this._arrayOfAllItems[i];if(item&&item[this._reverseRefMap]){}}},_getValueOrValues:function(item,_d4d){var _d4e=undefined;if(this.hasAttribute(item,_d4d)){var _d4f=this.getValues(item,_d4d);if(_d4f.length==1){_d4e=_d4f[0];}else{_d4e=_d4f;}}return _d4e;},_flatten:function(_d50){if(this.isItem(_d50)){return {_reference:this.getIdentity(_d50)};}else{if(typeof _d50==="object"){for(var type in this._datatypeMap){var _d51=this._datatypeMap[type];if(lang.isObject(_d51)&&!lang.isFunction(_d51)){if(_d50 instanceof _d51.type){if(!_d51.serialize){throw new Error("ItemFileWriteStore:  No serializer defined for type mapping: ["+type+"]");}return {_type:type,_value:_d51.serialize(_d50)};}}else{if(_d50 instanceof _d51){return {_type:type,_value:_d50.toString()};}}}}return _d50;}},_getNewFileContentString:function(){var _d52={};var _d53=this._getIdentifierAttribute();if(_d53!==Number){_d52.identifier=_d53;}if(this._labelAttr){_d52.label=this._labelAttr;}_d52.items=[];for(var i=0;i<this._arrayOfAllItems.length;++i){var item=this._arrayOfAllItems[i];if(item!==null){var _d54={};for(var key in item){if(key!==this._storeRefPropName&&key!==this._itemNumPropName&&key!==this._reverseRefMap&&key!==this._rootItemPropName){var _d55=this.getValues(item,key);if(_d55.length==1){_d54[key]=this._flatten(_d55[0]);}else{var _d56=[];for(var j=0;j<_d55.length;++j){_d56.push(this._flatten(_d55[j]));_d54[key]=_d56;}}}}_d52.items.push(_d54);}}var _d57=true;return _d10.toJson(_d52,_d57);},_isEmpty:function(_d58){var _d59=true;if(lang.isObject(_d58)){var i;for(i in _d58){_d59=false;break;}}else{if(lang.isArray(_d58)){if(_d58.length>0){_d59=false;}}}return _d59;},save:function(_d5a){this._assert(!this._saveInProgress);this._saveInProgress=true;var self=this;var _d5b=function(){self._pending={_newItems:{},_modifiedItems:{},_deletedItems:{}};self._saveInProgress=false;if(_d5a&&_d5a.onComplete){var _d5c=_d5a.scope||_d11.global;_d5a.onComplete.call(_d5c);}};var _d5d=function(err){self._saveInProgress=false;if(_d5a&&_d5a.onError){var _d5e=_d5a.scope||_d11.global;_d5a.onError.call(_d5e,err);}};if(this._saveEverything){var _d5f=this._getNewFileContentString();this._saveEverything(_d5b,_d5d,_d5f);}if(this._saveCustom){this._saveCustom(_d5b,_d5d);}if(!this._saveEverything&&!this._saveCustom){_d5b();}},revert:function(){this._assert(!this._saveInProgress);var _d60;for(_d60 in this._pending._modifiedItems){var _d61=this._pending._modifiedItems[_d60];var _d62=null;if(this._itemsByIdentity){_d62=this._itemsByIdentity[_d60];}else{_d62=this._arrayOfAllItems[_d60];}_d61[this._storeRefPropName]=this;for(var key in _d62){delete _d62[key];}lang.mixin(_d62,_d61);}var _d63;for(_d60 in this._pending._deletedItems){_d63=this._pending._deletedItems[_d60];_d63[this._storeRefPropName]=this;var _d64=_d63[this._itemNumPropName];if(_d63["backup_"+this._reverseRefMap]){_d63[this._reverseRefMap]=_d63["backup_"+this._reverseRefMap];delete _d63["backup_"+this._reverseRefMap];}this._arrayOfAllItems[_d64]=_d63;if(this._itemsByIdentity){this._itemsByIdentity[_d60]=_d63;}if(_d63[this._rootItemPropName]){this._arrayOfTopLevelItems.push(_d63);}}for(_d60 in this._pending._deletedItems){_d63=this._pending._deletedItems[_d60];if(_d63["backupRefs_"+this._reverseRefMap]){_d0f.forEach(_d63["backupRefs_"+this._reverseRefMap],function(_d65){var _d66;if(this._itemsByIdentity){_d66=this._itemsByIdentity[_d65.id];}else{_d66=this._arrayOfAllItems[_d65.id];}this._addReferenceToMap(_d66,_d63,_d65.attr);},this);delete _d63["backupRefs_"+this._reverseRefMap];}}for(_d60 in this._pending._newItems){var _d67=this._pending._newItems[_d60];_d67[this._storeRefPropName]=null;this._arrayOfAllItems[_d67[this._itemNumPropName]]=null;if(_d67[this._rootItemPropName]){this._removeArrayElement(this._arrayOfTopLevelItems,_d67);}if(this._itemsByIdentity){delete this._itemsByIdentity[_d60];}}this._pending={_newItems:{},_modifiedItems:{},_deletedItems:{}};return true;},isDirty:function(item){if(item){var _d68=this.getIdentity(item);return new Boolean(this._pending._newItems[_d68]||this._pending._modifiedItems[_d68]||this._pending._deletedItems[_d68]).valueOf();}else{return !this._isEmpty(this._pending._newItems)||!this._isEmpty(this._pending._modifiedItems)||!this._isEmpty(this._pending._deletedItems);}},onSet:function(item,_d69,_d6a,_d6b){},onNew:function(_d6c,_d6d){},onDelete:function(_d6e){},close:function(_d6f){if(this.clearOnClose){if(!this.isDirty()){this.inherited(arguments);}else{throw new Error("dojo.data.ItemFileWriteStore: There are unsaved changes present in the store.  Please save or revert the changes before invoking close.");}}}});});},"dijit/layout/TabContainer":function(){define(["dojo/_base/lang","dojo/_base/declare","./_TabContainerBase","./TabController","./ScrollingTabController"],function(lang,_d70,_d71,_d72,_d73){return _d70("dijit.layout.TabContainer",_d71,{useMenu:true,useSlider:true,controllerWidget:"",_makeController:function(_d74){var cls=this.baseClass+"-tabs"+(this.doLayout?"":" dijitTabNoLayout"),_d72=typeof this.controllerWidget=="string"?lang.getObject(this.controllerWidget):this.controllerWidget;return new _d72({id:this.id+"_tablist",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,tabPosition:this.tabPosition,doLayout:this.doLayout,containerId:this.id,"class":cls,nested:this.nested,useMenu:this.useMenu,useSlider:this.useSlider,tabStripClass:this.tabStrip?this.baseClass+(this.tabStrip?"":"No")+"Strip":null},_d74);},postMixInProperties:function(){this.inherited(arguments);if(!this.controllerWidget){this.controllerWidget=(this.tabPosition=="top"||this.tabPosition=="bottom")&&!this.nested?_d73:_d72;}}});});},"dijit/_base":function(){define(["./main","./a11y","./WidgetSet","./_base/focus","./_base/manager","./_base/place","./_base/popup","./_base/scroll","./_base/sniff","./_base/typematic","./_base/wai","./_base/window"],function(_d75){return _d75._base;});},"dijit/form/_FormValueWidget":function(){define(["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(_d76,has,_d77,_d78){return _d76("dijit.form._FormValueWidget",[_d77,_d78],{_layoutHackIE7:function(){if(has("ie")==7){var _d79=this.domNode;var _d7a=_d79.parentNode;var _d7b=_d79.firstChild||_d79;var _d7c=_d7b.style.filter;var _d7d=this;while(_d7a&&_d7a.clientHeight==0){(function ping(){var _d7e=_d7d.connect(_d7a,"onscroll",function(){_d7d.disconnect(_d7e);_d7b.style.filter=(new Date()).getMilliseconds();_d7d.defer(function(){_d7b.style.filter=_d7c;});});})();_d7a=_d7a.parentNode;}}}});});},"dojox/color/Palette":function(){define(["dojo/_base/lang","dojo/_base/array","./_base"],function(lang,arr,dxc){dxc.Palette=function(base){this.colors=[];if(base instanceof dxc.Palette){this.colors=base.colors.slice(0);}else{if(base instanceof dxc.Color){this.colors=[null,null,base,null,null];}else{if(lang.isArray(base)){this.colors=arr.map(base.slice(0),function(item){if(lang.isString(item)){return new dxc.Color(item);}return item;});}else{if(lang.isString(base)){this.colors=[null,null,new dxc.Color(base),null,null];}}}}};function _d7f(p,_d80,val){var ret=new dxc.Palette();ret.colors=[];arr.forEach(p.colors,function(item){var r=(_d80=="dr")?item.r+val:item.r,g=(_d80=="dg")?item.g+val:item.g,b=(_d80=="db")?item.b+val:item.b,a=(_d80=="da")?item.a+val:item.a;ret.colors.push(new dxc.Color({r:Math.min(255,Math.max(0,r)),g:Math.min(255,Math.max(0,g)),b:Math.min(255,Math.max(0,b)),a:Math.min(1,Math.max(0,a))}));});return ret;};function tCMY(p,_d81,val){var ret=new dxc.Palette();ret.colors=[];arr.forEach(p.colors,function(item){var o=item.toCmy(),c=(_d81=="dc")?o.c+val:o.c,m=(_d81=="dm")?o.m+val:o.m,y=(_d81=="dy")?o.y+val:o.y;ret.colors.push(dxc.fromCmy(Math.min(100,Math.max(0,c)),Math.min(100,Math.max(0,m)),Math.min(100,Math.max(0,y))));});return ret;};function _d82(p,_d83,val){var ret=new dxc.Palette();ret.colors=[];arr.forEach(p.colors,function(item){var o=item.toCmyk(),c=(_d83=="dc")?o.c+val:o.c,m=(_d83=="dm")?o.m+val:o.m,y=(_d83=="dy")?o.y+val:o.y,k=(_d83=="dk")?o.b+val:o.b;ret.colors.push(dxc.fromCmyk(Math.min(100,Math.max(0,c)),Math.min(100,Math.max(0,m)),Math.min(100,Math.max(0,y)),Math.min(100,Math.max(0,k))));});return ret;};function tHSL(p,_d84,val){var ret=new dxc.Palette();ret.colors=[];arr.forEach(p.colors,function(item){var o=item.toHsl(),h=(_d84=="dh")?o.h+val:o.h,s=(_d84=="ds")?o.s+val:o.s,l=(_d84=="dl")?o.l+val:o.l;ret.colors.push(dxc.fromHsl(h%360,Math.min(100,Math.max(0,s)),Math.min(100,Math.max(0,l))));});return ret;};function tHSV(p,_d85,val){var ret=new dxc.Palette();ret.colors=[];arr.forEach(p.colors,function(item){var o=item.toHsv(),h=(_d85=="dh")?o.h+val:o.h,s=(_d85=="ds")?o.s+val:o.s,v=(_d85=="dv")?o.v+val:o.v;ret.colors.push(dxc.fromHsv(h%360,Math.min(100,Math.max(0,s)),Math.min(100,Math.max(0,v))));});return ret;};function _d86(val,low,high){return high-((high-val)*((high-low)/high));};lang.extend(dxc.Palette,{transform:function(_d87){var fn=_d7f;if(_d87.use){var use=_d87.use.toLowerCase();if(use.indexOf("hs")==0){if(use.charAt(2)=="l"){fn=tHSL;}else{fn=tHSV;}}else{if(use.indexOf("cmy")==0){if(use.charAt(3)=="k"){fn=_d82;}else{fn=tCMY;}}}}else{if("dc" in _d87||"dm" in _d87||"dy" in _d87){if("dk" in _d87){fn=_d82;}else{fn=tCMY;}}else{if("dh" in _d87||"ds" in _d87){if("dv" in _d87){fn=tHSV;}else{fn=tHSL;}}}}var _d88=this;for(var p in _d87){if(p=="use"){continue;}_d88=fn(_d88,p,_d87[p]);}return _d88;},clone:function(){return new dxc.Palette(this);}});lang.mixin(dxc.Palette,{generators:{analogous:function(args){var high=args.high||60,low=args.low||18,base=lang.isString(args.base)?new dxc.Color(args.base):args.base,hsv=base.toHsv();var h=[(hsv.h+low+360)%360,(hsv.h+Math.round(low/2)+360)%360,hsv.h,(hsv.h-Math.round(high/2)+360)%360,(hsv.h-high+360)%360];var s1=Math.max(10,(hsv.s<=95)?hsv.s+5:(100-(hsv.s-95))),s2=(hsv.s>1)?hsv.s-1:21-hsv.s,v1=(hsv.v>=92)?hsv.v-9:Math.max(hsv.v+9,20),v2=(hsv.v<=90)?Math.max(hsv.v+5,20):(95+Math.ceil((hsv.v-90)/2)),s=[s1,s2,hsv.s,s1,s1],v=[v1,v2,hsv.v,v1,v2];return new dxc.Palette(arr.map(h,function(hue,i){return dxc.fromHsv(hue,s[i],v[i]);}));},monochromatic:function(args){var base=lang.isString(args.base)?new dxc.Color(args.base):args.base,hsv=base.toHsv();var s1=(hsv.s-30>9)?hsv.s-30:hsv.s+30,s2=hsv.s,v1=_d86(hsv.v,20,100),v2=(hsv.v-20>20)?hsv.v-20:hsv.v+60,v3=(hsv.v-50>20)?hsv.v-50:hsv.v+30;return new dxc.Palette([dxc.fromHsv(hsv.h,s1,v1),dxc.fromHsv(hsv.h,s2,v3),base,dxc.fromHsv(hsv.h,s1,v3),dxc.fromHsv(hsv.h,s2,v2)]);},triadic:function(args){var base=lang.isString(args.base)?new dxc.Color(args.base):args.base,hsv=base.toHsv();var h1=(hsv.h+57+360)%360,h2=(hsv.h-157+360)%360,s1=(hsv.s>20)?hsv.s-10:hsv.s+10,s2=(hsv.s>90)?hsv.s-10:hsv.s+10,s3=(hsv.s>95)?hsv.s-5:hsv.s+5,v1=(hsv.v-20>20)?hsv.v-20:hsv.v+20,v2=(hsv.v-30>20)?hsv.v-30:hsv.v+30,v3=(hsv.v-30>70)?hsv.v-30:hsv.v+30;return new dxc.Palette([dxc.fromHsv(h1,s1,hsv.v),dxc.fromHsv(hsv.h,s2,v2),base,dxc.fromHsv(h2,s2,v1),dxc.fromHsv(h2,s3,v3)]);},complementary:function(args){var base=lang.isString(args.base)?new dxc.Color(args.base):args.base,hsv=base.toHsv();var h1=((hsv.h*2)+137<360)?(hsv.h*2)+137:Math.floor(hsv.h/2)-137,s1=Math.max(hsv.s-10,0),s2=_d86(hsv.s,10,100),s3=Math.min(100,hsv.s+20),v1=Math.min(100,hsv.v+30),v2=(hsv.v>20)?hsv.v-30:hsv.v+30;return new dxc.Palette([dxc.fromHsv(hsv.h,s1,v1),dxc.fromHsv(hsv.h,s2,v2),base,dxc.fromHsv(h1,s3,v2),dxc.fromHsv(h1,hsv.s,hsv.v)]);},splitComplementary:function(args){var base=lang.isString(args.base)?new dxc.Color(args.base):args.base,_d89=args.da||30,hsv=base.toHsv();var _d8a=((hsv.h*2)+137<360)?(hsv.h*2)+137:Math.floor(hsv.h/2)-137,h1=(_d8a-_d89+360)%360,h2=(_d8a+_d89)%360,s1=Math.max(hsv.s-10,0),s2=_d86(hsv.s,10,100),s3=Math.min(100,hsv.s+20),v1=Math.min(100,hsv.v+30),v2=(hsv.v>20)?hsv.v-30:hsv.v+30;return new dxc.Palette([dxc.fromHsv(h1,s1,v1),dxc.fromHsv(h1,s2,v2),base,dxc.fromHsv(h2,s3,v2),dxc.fromHsv(h2,hsv.s,hsv.v)]);},compound:function(args){var base=lang.isString(args.base)?new dxc.Color(args.base):args.base,hsv=base.toHsv();var h1=((hsv.h*2)+18<360)?(hsv.h*2)+18:Math.floor(hsv.h/2)-18,h2=((hsv.h*2)+120<360)?(hsv.h*2)+120:Math.floor(hsv.h/2)-120,h3=((hsv.h*2)+99<360)?(hsv.h*2)+99:Math.floor(hsv.h/2)-99,s1=(hsv.s-40>10)?hsv.s-40:hsv.s+40,s2=(hsv.s-10>80)?hsv.s-10:hsv.s+10,s3=(hsv.s-25>10)?hsv.s-25:hsv.s+25,v1=(hsv.v-40>10)?hsv.v-40:hsv.v+40,v2=(hsv.v-20>80)?hsv.v-20:hsv.v+20,v3=Math.max(hsv.v,20);return new dxc.Palette([dxc.fromHsv(h1,s1,v1),dxc.fromHsv(h1,s2,v2),base,dxc.fromHsv(h2,s3,v3),dxc.fromHsv(h3,s2,v2)]);},shades:function(args){var base=lang.isString(args.base)?new dxc.Color(args.base):args.base,hsv=base.toHsv();var s=(hsv.s==100&&hsv.v==0)?0:hsv.s,v1=(hsv.v-50>20)?hsv.v-50:hsv.v+30,v2=(hsv.v-25>=20)?hsv.v-25:hsv.v+55,v3=(hsv.v-75>=20)?hsv.v-75:hsv.v+5,v4=Math.max(hsv.v-10,20);return new dxc.Palette([new dxc.fromHsv(hsv.h,s,v1),new dxc.fromHsv(hsv.h,s,v2),base,new dxc.fromHsv(hsv.h,s,v3),new dxc.fromHsv(hsv.h,s,v4)]);}},generate:function(base,type){if(lang.isFunction(type)){return type({base:base});}else{if(dxc.Palette.generators[type]){return dxc.Palette.generators[type]({base:base});}}throw new Error("dojox.color.Palette.generate: the specified generator ('"+type+"') does not exist.");}});return dxc.Palette;});},"ttl/BaseWidgetAMD":function(){define(["dojo/_base/declare","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_Container"],function(_d8b,_d8c,_d8d,_d8e,_d8f){return _d8b("ttl.BaseWidgetAMD",[_d8c,_d8d,_d8e,_d8f],{widgetsInTemplate:true,_lock:false,Lock_Code:function(){this._lock=true;},isLocked:function(){return this._lock;},UnLock_Code:function(){this._lock=false;},Lock_Code_Wait:function(){while(this._lock==true){ttl.utilities.sleepStupidly(1);}this._lock=true;},_ReturnFalse:function(){return false;}});});},"dijit/tree/_dndContainer":function(){define(["dojo/aspect","dojo/_base/declare","dojo/dom-class","dojo/_base/lang","dojo/on","dojo/touch"],function(_d90,_d91,_d92,lang,on,_d93){return _d91("dijit.tree._dndContainer",null,{constructor:function(tree,_d94){this.tree=tree;this.node=tree.domNode;lang.mixin(this,_d94);this.containerState="";_d92.add(this.node,"dojoDndContainer");this.events=[on(this.node,_d93.enter,lang.hitch(this,"onOverEvent")),on(this.node,_d93.leave,lang.hitch(this,"onOutEvent")),_d90.after(this.tree,"_onNodeMouseEnter",lang.hitch(this,"onMouseOver"),true),_d90.after(this.tree,"_onNodeMouseLeave",lang.hitch(this,"onMouseOut"),true),on(this.node,"dragstart, selectstart",function(evt){evt.preventDefault();})];},destroy:function(){var h;while(h=this.events.pop()){h.remove();}this.node=this.parent=null;},onMouseOver:function(_d95){this.current=_d95;},onMouseOut:function(){this.current=null;},_changeState:function(type,_d96){var _d97="dojoDnd"+type;var _d98=type.toLowerCase()+"State";_d92.replace(this.node,_d97+_d96,_d97+this[_d98]);this[_d98]=_d96;},_addItemClass:function(node,type){_d92.add(node,"dojoDndItem"+type);},_removeItemClass:function(node,type){_d92.remove(node,"dojoDndItem"+type);},onOverEvent:function(){this._changeState("Container","Over");},onOutEvent:function(){this._changeState("Container","");}});});},"prcommon2/clippings/filter":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../clippings/templates/filter.html","dijit/layout/ContentPane","dojox/data/JsonRestStore","dojo/topic","dojo/dom-attr","dojo/_base/lang","dojo/dom-class","dojo/data/ItemFileReadStore","dijit/form/Select","dojox/form/BusyButton","dijit/form/CheckBox","dijit/form/FilteringSelect","prcommon2/date/daterange","prcommon2/clippings/selecttone"],function(_d99,_d9a,_d9b,_d9c,_d9d,_d9e,_d9f,lang,_da0,_da1){return _d99("prcommon2.clippings.filter",[_d9a,_d9c],{templateString:_d9b,gutters:false,showextended:false,constructor:function(){this.start_settings();_d9e.subscribe("/clipping/refresh_filters",lang.hitch(this,this._refresh_filters));this.dirty_filters=false;this._update_event=null;this._close_event=lang.hitch(this,this._close);},postCreate:function(){this.inherited(arguments);this.date_search.set_range_to_last_30_days();this.clientid.set("store",PRCOMMON.data.clients);this.issueid.set("store",PRCOMMON.data.issues);this.emailtemplateid.set("store",PRCOMMON.data.email_templates);this.emailtemplateid.set("query",{restrict:"sent",include_no_select:1});this.statementid.set("store",PRCOMMON.data.statements);this.clippingstypeid.set("store",PRCOMMON.data._clippingtypes);this.clippingstypeid.set("value",-1);_d9f.set(this.issue_label_1,"innerHTML",PRMAX.utils.settings.issue_description);_d9f.set(this.client_label_1,"innerHTML",PRMAX.utils.settings.client_name);if(this.showextended==true){_da0.remove(this.clippingstype_label,"prmaxhidden");_da0.remove(this.clippingstype_label_2,"prmaxhidden");_da0.remove(this.clippingstypeid.domNode,"prmaxhidden");}if(PRMAX.utils.settings.crm==true){_da0.remove(this.statement_view_1,"prmaxhidden");_da0.remove(this.statement_view_2,"prmaxhidden");_da0.remove(this.statementid.domNode,"prmaxhidden");}this._set_filter_text();},_setUpdateeventAttr:function(_da2){this._update_event=_da2;},_update:function(){if(this.tone_ctrl.isValid()==false){alert(this.tone_ctrl.invalidMessage);this.updbtn.cancel();return;}setTimeout(this._close_event,300);this._set_filter_text();this.dirty_filters=true;if(this._update_event!=null){this._update_event();}this.updbtn.cancel();},_close:function(){this.filter_dlg.hide();},_change_filter:function(){var _da3=this.clientid.get("value");if(_da3==undefined){_da3=-1;}this.issueid.set("query",{clientid:_da3});this.issueid.set("value",null);},_getFilterAttr:function(){return this._get_filters(false);},_getFilterlimitedAttr:function(){return this._get_filters(true);},_setNewsettingsAttr:function(_da4){this.clientid.set("value",_da4.clientid);this.issueid.set("value",_da4.issueid);this.clippingstypeid.set("value",_da4.clippingstypeid);this.tone_ctrl.set("value",_da4.tones);this.emailtemplateid.set("value",_da4.emailtemplateid);this.statementid.set("value",_da4.statementid);this.textid.set("value",_da4.textid);if(_da4.daterestriction){this.date_search.from_date_box.set("value",_da4.daterestriction);this.date_search.to_date_box.set("value",_da4.daterestriction);}else{this.date_search.set("intvalue",_da4.int_drange);}},_get_filters:function(_da5,_da6){var _da7={daterange:this.date_search.get("value"),drange:this.date_search.get("value"),tones:this.tone_ctrl.get("value"),};var _da8=this.clientid.get("value");if(_da8==""){_da8="-1";}if(_da5==true&&_da8!="-1"){_da7.clientid=_da8;}else{if(_da5==false){_da7.clientid=_da8;}}var _da9=this.issueid.get("value");if(_da9==""){_da9="-1";}if(_da5==true&&_da9!="-1"){_da7.issueid=_da9;}else{if(_da5==false){_da7.issueid=_da9;}}var _daa=this.emailtemplateid.get("value");if(_daa==""){_daa="-1";}if(_da5==true&&_daa!="-1"){_da7.emailtemplateid=_daa;}else{if(_da5==false){_da7.emailtemplateid=_daa;}}var _dab=this.statementid.get("value");if(_dab==""){_dab="-1";}if(_da5==true&&_dab!="-1"){_da7.statementid=_dab;}else{if(_da5==false){_da7.statementid=_dab;}}if(this.showextended==true){var _dac=this.clippingstypeid.get("value");if(_da5==true&&_dac!="-1"){_da7.clippingstypeid=_dac;}else{if(_da5==false){_da7.clippingstypeid=_dac;}}}if(_da6==true){_da7.int_drange=this.date_search.get_physical_values();}if(_da5==true&&this.textid.get("value").length>0){_da7.textid=this.textid.get("value");}return _da7;},update_complete:function(){this.updbtn.cancel();},_swap_view:function(){this.clippingstypeid.get("value");},_refresh_filters:function(_dad){if(_dad.dirty){this.clippingstypeid.set("value",_dad.clippingstypeid);}},start_settings:function(){if(PRCOMMON.data.clients==undefined){PRCOMMON.data.clients=new _d9d({target:"/clients/rest_combo",idAttribute:"id"});}if(PRCOMMON.data.issues==undefined){PRCOMMON.data.issues=new _d9d({target:"/crm/issues/issues_list_rest",idAttribute:"id"});}if(PRCOMMON.data.email_templates==undefined){PRCOMMON.data.email_templates=new _d9d({target:"/emails/templates_list_rest",idAttribute:"id"});}if(PRCOMMON.data.statements==undefined){PRCOMMON.data.statements=new _d9d({target:"/statement/statement_combo_rest",idAttribute:"id"});}if(PRCOMMON.data._clippingtypes==undefined){PRCOMMON.data._clippingtypes=new _da1({url:"/common/lookups?searchtype=clippingstypes&show_all=0"});}},_show_extended:function(){this.filter_dlg.show();},_set_filter_text:function(){this.filter_text="";this._add_to_filter(this.clientid,PRMAX.utils.settings.client_name);this._add_to_filter(this.issueid,PRMAX.utils.settings.issue_description);if(PRMAX.utils.settings.crm==true){this._add_to_filter(this.statementid,"Statement");}this._add_to_filter(this.emailtemplateid,"Release");if(this.showextended==true){this._add_to_filter(this.clippingstypeid,"Type");}this._add_to_filter(this.tone_ctrl,"Tones");this._add_to_filter_text(this.textid.get("value"),"Clip Text");this._add_to_filter_text(this.date_search.get("FilterText"),"Dates");if(this.filter_text.length==0){this.filter_text="No Filter Selected";}_d9f.set(this.filter_details,"innerHTML",this.filter_text);},_add_to_filter:function(_dae,_daf){var tmp=_dae.get("displayedValue");if(tmp!="No Selection"&&tmp!=""&&tmp!="All Types"&&tmp!=null){if(this.filter_text.length>0){this.filter_text+=" ; ";}this.filter_text+=this._get_caption_formatted(_daf)+tmp;}},_add_to_filter_text:function(_db0,_db1){if(_db0!=""){if(this.filter_text.length>0){this.filter_text+=" ; ";}this.filter_text+=this._get_caption_formatted(_db1)+_db0;}},_get_caption_formatted:function(_db2){return "<label style='font-weight:900'>"+_db2+"</label>"+" : ";},_clear:function(){this.clientid.set("value",null);this.issueid.set("value",null);this.date_search.clear();this.tone_ctrl.clear();this.textid.set("value","");this.clippingstypeid.set("value",-1);this.emailtemplateid.set("value",null);this.statementid.set("value",null);}});});},"dojox/lang/utils":function(){define(["..","dojo/_base/lang"],function(_db3,lang){var du=lang.getObject("lang.utils",true,_db3);var _db4={},opts=Object.prototype.toString;var _db5=function(o){if(o){switch(opts.call(o)){case "[object Array]":return o.slice(0);case "[object Object]":return lang.delegate(o);}}return o;};lang.mixin(du,{coerceType:function(_db6,_db7){switch(typeof _db6){case "number":return Number(eval("("+_db7+")"));case "string":return String(_db7);case "boolean":return Boolean(eval("("+_db7+")"));}return eval("("+_db7+")");},updateWithObject:function(_db8,_db9,conv){if(!_db9){return _db8;}for(var x in _db8){if(x in _db9&&!(x in _db4)){var t=_db8[x];if(t&&typeof t=="object"){du.updateWithObject(t,_db9[x],conv);}else{_db8[x]=conv?du.coerceType(t,_db9[x]):_db5(_db9[x]);}}}return _db8;},updateWithPattern:function(_dba,_dbb,_dbc,conv){if(!_dbb||!_dbc){return _dba;}for(var x in _dbc){if(x in _dbb&&!(x in _db4)){_dba[x]=conv?du.coerceType(_dbc[x],_dbb[x]):_db5(_dbb[x]);}}return _dba;},merge:function(_dbd,_dbe){if(_dbe){var _dbf=opts.call(_dbd),_dc0=opts.call(_dbe),t,i,l,m;switch(_dc0){case "[object Array]":if(_dc0==_dbf){t=new Array(Math.max(_dbd.length,_dbe.length));for(i=0,l=t.length;i<l;++i){t[i]=du.merge(_dbd[i],_dbe[i]);}return t;}return _dbe.slice(0);case "[object Object]":if(_dc0==_dbf&&_dbd){t=lang.delegate(_dbd);for(i in _dbe){if(i in _dbd){l=_dbd[i];m=_dbe[i];if(m!==l){t[i]=du.merge(l,m);}}else{t[i]=lang.clone(_dbe[i]);}}return t;}return lang.clone(_dbe);}}return _dbe;}});return du;});},"ttl/Form2":function(){define(["dojo/_base/declare","dijit/form/Form",],function(_dc1,Form){return _dc1("ttl.Form2",[Form],{formid:"",isValid:function(){return dojo.every(this.getChildren(),function(_dc2){var rest=!_dc2.isValid||_dc2.isValid();if(rest==false){if(_dc2.isFocusable()){_dc2.focus();}else{rest=true;}}return rest;});},setExtendedMode:function(_dc3){dojo.forEach(this.getChildren(),function(_dc4){if(!_dc4.name){return;}_dc4.set("extended",_dc3);});}});});},"prcommon2/roles/Roles":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../roles/templates/Roles.html","prcommon2/search/std_search","dojo/_base/lang","dojo/dom-attr","dojo/dom-class","dojo/dom-style","dojo/request","ttl/utilities2"],function(_dc5,_dc6,_dc7,_dc8,lang,_dc9,_dca,_dcb,_dcc,_dcd){return _dc5("prcommon2.roles.Roles",[_dc6,_dc8],{templateString:_dc7,name:"",value:"",size:"7",startopen:false,searchmode:false,widgetsInTemplate:true,selectonly:true,orderbtns:true,constructor:function(){this.disabled=false;this._extended=false;this._load_selection_call=lang.hitch(this,this._load_selection);this.selectTimer=null;},postCreate:function(){dojo.connect(this.interest_list_select.domNode,"onkeyup",lang.hitch(this,this.interest_select_event));dojo.connect(this.interest_list,"onchange",lang.hitch(this,this.interest_update_selection));dojo.connect(this.interest_list,"ondblclick",lang.hitch(this,this.interest_select_dbl));if(this.startopen){_dcb.set(this.selectarea,"display","block");}else{_dcb.set(this.selectarea,"display","none");}if(this.orderbtns==false){_dca.add(this.up.domNode,"prmaxhidden");_dca.add(this.down.domNode,"prmaxhidden");}this.inherited(arguments);},clear:function(){this._clear_selection_box();this._clear_selected_box();this.interest_list_select.set("value","");this._get_selector(this._getValueAttr());this._selection_options();this.inherited(arguments);},_send_request:function(data){var _dce={word:data};_dcc.post("/roles/listuserselection",_dcd.make_params({data:_dce})).then(this._load_selection_call);},interest_select_event:function(){var data=this.interest_list_select.get("value");if(data.length>0){if(this.selectTimer){clearTimeout(this.selectTimer);this.selectTimer=null;}this.selectTimer=setTimeout(dojo.hitch(this,this._send_request,data),this.searchTime);}else{if(this.selectTimer){clearTimeout(this.selectTimer);this.selectTimer=null;}this._ClearSelectionBox();this._SelectionOptions();}},_load_selection:function(_dcf){this._clear_selection_box();for(var i=0;i<_dcf.data.length;++i){var _dd0=_dcf.data[i];this.interest_list.options[this.interest_list.options.length]=new Option(_dd0[0],_dd0[1]);}this._selection_options();},_clear_selection_box:function(){this.interest_list.options.length=0;},_clear_selected_box:function(){this.interest_select.length=0;},interest_update_selection:function(){this._selection_options();},interest_select_dbl:function(){this.interest_select_single();this._selection_options();},interest_select_all:function(){for(var c=0;c<this.interest_list.options.length;c++){var _dd1=this.interest_list.options[c];var _dd2=true;for(var c1=0;c1<this.interest_select.options.length;c1++){if(this.interest_select.options[c1].value==_dd1.value){_dd2=false;break;}}if(_dd2){this.interest_select.options[this.interest_select.options.length]=new Option(_dd1.text,_dd1.value);}}this._get_selector(this._getValueAttr());this.interest_list.options.length=0;this.interest_update_selection();},interest_select_single:function(){for(var c=0;c<this.interest_list.options.length;c++){var _dd3=this.interest_list.options[c];if(_dd3.selected){_dd3.selected=false;var _dd4=true;for(var c1=0;c1<this.interest_select.options.length;c1++){if(this.interest_select.options[c1].value==_dd3.value){_dd4=false;break;}}if(_dd4){this.interest_select.options[this.interest_select.options.length]=new Option(_dd3.text,_dd3.value);this._get_selector(this._getValueAttr());}}}},interest_remove_all:function(){this.interest_select.options.length=0;this.interest_update_selection();this._get_selector(this._getValueAttr());},interest_remove_single:function(){for(var c=0;c<this.interest_select.options.length;c++){if(this.interest_select.options[c].selected){this.interest_select.options[c]=null;}}this.interest_update_selection();this._get_selector(this._getValueAttr());},add_select:function(data){rolename=data.rolename;this.interest_select.options[this.interest_select.options.length]=new Option(data.rolename,data.prmaxroleid);},_setValueAttr:function(_dd5){this.clear();if(_dd5!=null){var data=_dd5.data;var open=false;if(data==null||data==undefined){data=_dd5;}for(var key in data){var _dd6=data[key];var _dd7="rolename";if(_dd6.rolename==undefined||_dd6.rolename==null){_dd7="prmaxrole";}this.interest_select.options[this.interest_select.options.length]=new Option(_dd6[_dd7],_dd6.prmaxroleid);opne=true;}if(open){this.make_open();}this._get_selector(this._getValueAttr());}},_getValueAttr:function(){var data=Array();for(var c=0;c<this.interest_select.options.length;c++){if(this._extended){data[c]={interestid:parseInt(this.interest_select.options[c].value),interestname:this.interest_select.options[c].text};}else{data[c]=parseInt(this.interest_select.options[c].value);}}var obj=this._capture_extended_content({data:data});if(this._extended){return obj;}else{var data=data.length>0?dojo.toJson(obj):"";this.value=data;return data;}},_getCountAttr:function(){return this.interest_select.options.length;},_setExtendedAttr:function(_dd8){this._extended=_dd8;},change_filter:function(){this.interest_select();},_selection_options:function(){this.button_all.set("disabled",this.interest_list.length?false:true);this.button_single.set("disabled",this.interest_list.selectedIndex!=-1?false:true);this.button_del_all.set("disabled",this.interest_select.length?false:true);this.button_del_single.set("disabled",this.interest_select.selectedIndex!=-1?false:true);this._up_down();},_up_down:function(){var _dd9=true;var _dda=true;if(this.interest_select.options.length>1&&this.interest_select.selectedIndex!=-1){if(this.interest_select.selectedIndex>0){_dd9=false;}if(this.interest_select.selectedIndex<this.interest_select.options.length-1){_dda=false;}}this.up.set("disabled",_dd9);this.down.set("disabled",_dda);},_up_button:function(){var _ddb=this.interest_select.selectedIndex;if(_ddb!=-1){var temp=this.interest_select.options[_ddb];var _ddc=this.interest_select.options[_ddb-1];this.interest_select.options[_ddb-1]=new Option(temp.innerHTML,temp.value,true);this.interest_select.options[_ddb]=new Option(_ddc.innerHTML,_ddc.value);this._up_down();}},_down_button:function(){var _ddd=this.interest_select.selectedIndex;if(_ddd!=-1){var temp=this.interest_select.options[_ddd];var _dde=this.interest_select.options[_ddd+1];this.interest_select.options[_ddd+1]=new Option(temp.innerHTML,temp.value,true);this.interest_select.options[_ddd]=new Option(_dde.innerHTML,_dde.value);this._up_down();}},_capture_extended_content:function(data){var _ddf={logic:2};if(this.search_only.get("checked")){_ddf.search_only=true;}return dojo.mixin(data,_ddf);},_setDisabledAttr:function(_de0){this.disabled=_de0;},_getDisabledAttr:function(){return this.disabled;},_get_selector:function(){if(this.selectonly==false){this.inherited(arguments);}},_focus:function(){this.interest_list_select.focus();},_toggle:function(){this.inherited(arguments);}});});},"prcommon2/search/std_search":function(){define(["dojo/_base/declare","dojo/request","ttl/utilities2","dojo/topic","dijit/registry","dojo/_base/lang","dojo/dom-style"],function(_de1,_de2,_de3,_de4,_de5,lang,_de6){return _de1("prcommon2.search.std_search",null,{commoncontrols:"search",dojoAttachEvent:"",dojoAttachPoint:"",waiRole:"",waiState:"",name:"",value:"",keytypeid:"",displayname:"",testmode:false,usepartial:false,search:"",min:0,searchTime:400,dointeractive:true,constructor:function(){this._load_call_back=lang.hitch(this,this._load_call);this._value="";this._extended=false;this.open=false;this.searchTimer=null;_de4.subscribe(PRCOMMON.Events.Search_PartialMatch,lang.hitch(this,this._partial_event));},_partial_event:function(_de7){if(this.usepartial&&_de7.search==this.search&&this._value.length>0){this._get_selector(this._value,true);}},_setdisplay:function(_de8){if(_de8.length==0){this.countnode.clear();}else{this.countnode.set("value",_de8);}},_load_call:function(_de9,_dea){if(_de9.success=="OK"){if(this._transactionid==_de9.transactionid){this._setdisplay(_de9.count.toString());}}},_send_request_count:function(_deb){if(this.dointeractive){var _dec=this._capture_extended_content({keytypeid:this.keytypeid,fieldname:this.name,value:this._value});this._transactionid=PRCOMMON.utils.uuid.createUUID();_dec["transactionid"]=this._transactionid;_de2.post("/search/displaycount",_de3.make_params_ignore({data:_dec})).then(this._load_call_back);}this.searchTimer=null;},_get_selector:function(_ded,_dee){if(this._value==_ded&&_dee!=true){return;}this._value=_ded;if(this._value.length>this.min){if(this.searchTimer){clearTimeout(this.searchTimer);this.searchTimer=null;}this.searchTimer=setTimeout(lang.hitch(this,this._send_request_count,_ded),this.searchTime);}else{this._setdisplay("");}_de4.publish(PRCOMMON.Events.Search_Total,{search:this.search});},_capture_extended_content:function(_def){var _df0=_de5.byId("search_partial");var _df1=_de5.byId(this.commoncontrols+"private");try{return dojo.mixin(_def,{partial:_df0?_df0.checked?2:0:2,private_only:_df1?_df1.attr("value"):0});}catch(e){alert(e);}},_setExtendedAttr:function(_df2){this._extended=_df2;},_getExtendedAttr:function(){return this._extended;},_toggle:function(){this.open=!this.open;this._toggle_cascade();},_toggle_cascade:function(){_de6.set(this.selectarea,"display",this.open?"block":"none");this.togglectrl.src=this.open?"/prmax_common_s/images/toclosed.gif":"/prmax_common_s/images/toopen.gif";if(this.open){this._focus();}},clear:function(){this._make_closed();if(this.searchTimer){clearTimeout(this.searchTimer);this.searchTimer=null;}},_make_closed:function(){if(this.open==true){this._toggle();}},make_open:function(){this.open=false;this._toggle();}});});},"dojox/charting/plot2d/Markers":function(){define(["dojo/_base/declare","./Default"],function(_df3,_df4){return _df3("dojox.charting.plot2d.Markers",_df4,{constructor:function(){this.opt.markers=true;}});});},"dojox/charting/plot2d/Columns":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dojo/has","./CartesianBase","./_PlotEvents","./common","dojox/lang/functional","dojox/lang/functional/reversed","dojox/lang/utils","dojox/gfx/fx"],function(lang,arr,_df5,has,_df6,_df7,dc,df,dfr,du,fx){var _df8=dfr.lambda("item.purgeGroup()");var _df9=function(){return false;};return _df5("dojox.charting.plot2d.Columns",[_df6,_df7],{defaultParams:{gap:0,animate:null,enableCache:false},optionalParams:{minBarSize:1,maxBarSize:1,stroke:{},outline:{},shadow:{},fill:{},filter:{},styleFunc:null,font:"",fontColor:""},constructor:function(_dfa,_dfb){this.opt=lang.clone(lang.mixin(this.opt,this.defaultParams));du.updateWithObject(this.opt,_dfb);du.updateWithPattern(this.opt,_dfb,this.optionalParams);this.animate=this.opt.animate;this.renderingOptions={"shape-rendering":"crispEdges"};},getSeriesStats:function(){var _dfc=dc.collectSimpleStats(this.series,lang.hitch(this,"isNullValue"));_dfc.hmin-=0.5;_dfc.hmax+=0.5;return _dfc;},createRect:function(run,_dfd,_dfe){var rect;if(this.opt.enableCache&&run._rectFreePool.length>0){rect=run._rectFreePool.pop();rect.setShape(_dfe);_dfd.add(rect);}else{rect=_dfd.createRect(_dfe);}if(this.opt.enableCache){run._rectUsePool.push(rect);}return rect;},render:function(dim,_dff){if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_dff);}this.resetEvents();this.dirty=this.isDirty();var s;if(this.dirty){arr.forEach(this.series,_df8);this._eventSeries={};this.cleanGroup();s=this.getGroup();df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_e00=Math.max(this._vScaler.bounds.lower,this._vAxis?this._vAxis.naturalBaseline:0),_e01=vt(_e00),_e02=this.events(),bar=this.getBarProperties();var z=this.series.length;arr.forEach(this.series,function(_e03){if(_e03.hidden){z--;}});var _e04=this.extractValues(this._hScaler);_e04=this.rearrangeValues(_e04,vt,_e01);for(var i=0;i<this.series.length;i++){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();if(this.opt.enableCache){run._rectFreePool=(run._rectFreePool?run._rectFreePool:[]).concat(run._rectUsePool?run._rectUsePool:[]);run._rectUsePool=[];}var _e05=t.next("column",[this.opt,run]),_e06=new Array(run.data.length);if(run.hidden){run.dyn.fill=_e05.series.fill;continue;}z--;s=run.group;var _e07=arr.some(run.data,function(item){return typeof item=="number"||(item&&!item.hasOwnProperty("x"));});var min=_e07?Math.max(0,Math.floor(this._hScaler.bounds.from-1)):0;var max=_e07?Math.min(run.data.length,Math.ceil(this._hScaler.bounds.to)):run.data.length;for(var j=min;j<max;++j){var _e08=run.data[j];if(!this.isNullValue(_e08)){var val=this.getValue(_e08,j,i,_e07),vv=vt(val.y),h=_e04[i][j],_e09,_e0a;if(this.opt.styleFunc||typeof _e08!="number"){var _e0b=typeof _e08!="number"?[_e08]:[];if(this.opt.styleFunc){_e0b.push(this.opt.styleFunc(_e08));}_e09=t.addMixin(_e05,"column",_e0b,true);}else{_e09=t.post(_e05,"column");}if(bar.width>=1){var rect={x:_dff.l+ht(val.x+0.5)+bar.gap+bar.thickness*z,y:dim.height-_dff.b-_e01-Math.max(h,0),width:bar.width,height:Math.abs(h)};if(_e09.series.shadow){var _e0c=lang.clone(rect);_e0c.x+=_e09.series.shadow.dx;_e0c.y+=_e09.series.shadow.dy;_e0a=this.createRect(run,s,_e0c).setFill(_e09.series.shadow.color).setStroke(_e09.series.shadow);if(this.animate){this._animateColumn(_e0a,dim.height-_dff.b+_e01,h);}}var _e0d=this._plotFill(_e09.series.fill,dim,_dff);_e0d=this._shapeFill(_e0d,rect);var _e0e=this.createRect(run,s,rect).setFill(_e0d).setStroke(_e09.series.stroke);this.overrideShape(_e0e,{index:j,value:val});if(_e0e.setFilter&&_e09.series.filter){_e0e.setFilter(_e09.series.filter);}run.dyn.fill=_e0e.getFill();run.dyn.stroke=_e0e.getStroke();if(_e02){var o={element:"column",index:j,run:run,shape:_e0e,shadow:_e0a,cx:val.x+0.5,cy:val.y,x:_e07?j:run.data[j].x,y:_e07?run.data[j]:run.data[j].y};this._connectEvents(o);_e06[j]=o;}if(!isNaN(val.py)&&val.py>_e00){rect.height=h-vt(val.py);}this.createLabel(s,_e08,rect,_e09);if(this.animate){this._animateColumn(_e0e,dim.height-_dff.b-_e01,h);}}}}this._eventSeries[run.name]=_e06;run.dirty=false;}this.dirty=false;if(has("dojo-bidi")){this._checkOrientation(this.group,dim,_dff);}return this;},getValue:function(_e0f,j,_e10,_e11){var y,x;if(_e11){if(typeof _e0f=="number"){y=_e0f;}else{y=_e0f.y;}x=j;}else{y=_e0f.y;x=_e0f.x-1;}return {x:x,y:y};},extractValues:function(_e12){var _e13=[];for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){continue;}var _e14=arr.some(run.data,function(item){return typeof item=="number"||(item&&!item.hasOwnProperty("x"));}),min=_e14?Math.max(0,Math.floor(_e12.bounds.from-1)):0,max=_e14?Math.min(run.data.length,Math.ceil(_e12.bounds.to)):run.data.length,_e15=_e13[i]=[];_e15.min=min;_e15.max=max;for(var j=min;j<max;++j){var _e16=run.data[j];_e15[j]=this.isNullValue(_e16)?0:(typeof _e16=="number"?_e16:_e16.y);}}return _e13;},rearrangeValues:function(_e17,_e18,_e19){for(var i=0,n=_e17.length;i<n;++i){var _e1a=_e17[i];if(_e1a){for(var j=_e1a.min,k=_e1a.max;j<k;++j){var _e1b=_e1a[j];_e1a[j]=this.isNullValue(_e1b)?0:_e18(_e1b)-_e19;}}}return _e17;},isNullValue:function(_e1c){if(_e1c===null||typeof _e1c=="undefined"){return true;}var h=this._hAxis?this._hAxis.isNullValue:_df9,v=this._vAxis?this._vAxis.isNullValue:_df9;if(typeof _e1c=="number"){return v(0.5)||h(_e1c);}return v(isNaN(_e1c.x)?0.5:_e1c.x+0.5)||_e1c.y===null||h(_e1c.y);},getBarProperties:function(){var f=dc.calculateBarSize(this._hScaler.bounds.scale,this.opt);return {gap:f.gap,width:f.size,thickness:0};},_animateColumn:function(_e1d,_e1e,_e1f){if(_e1f===0){_e1f=1;}fx.animateTransform(lang.delegate({shape:_e1d,duration:1200,transform:[{name:"translate",start:[0,_e1e-(_e1e/_e1f)],end:[0,0]},{name:"scale",start:[1,1/_e1f],end:[1,1]},{name:"original"}]},this.animate)).play();}});});},"dojo/data/util/simpleFetch":function(){define(["../../_base/lang","../../_base/kernel","./sorter"],function(lang,_e20,_e21){var _e22={};lang.setObject("dojo.data.util.simpleFetch",_e22);_e22.errorHandler=function(_e23,_e24){if(_e24.onError){var _e25=_e24.scope||_e20.global;_e24.onError.call(_e25,_e23,_e24);}};_e22.fetchHandler=function(_e26,_e27){var _e28=_e27.abort||null,_e29=false,_e2a=_e27.start?_e27.start:0,_e2b=(_e27.count&&(_e27.count!==Infinity))?(_e2a+_e27.count):_e26.length;_e27.abort=function(){_e29=true;if(_e28){_e28.call(_e27);}};var _e2c=_e27.scope||_e20.global;if(!_e27.store){_e27.store=this;}if(_e27.onBegin){_e27.onBegin.call(_e2c,_e26.length,_e27);}if(_e27.sort){_e26.sort(_e21.createSortFunction(_e27.sort,this));}if(_e27.onItem){for(var i=_e2a;(i<_e26.length)&&(i<_e2b);++i){var item=_e26[i];if(!_e29){_e27.onItem.call(_e2c,item,_e27);}}}if(_e27.onComplete&&!_e29){var _e2d=null;if(!_e27.onItem){_e2d=_e26.slice(_e2a,_e2b);}_e27.onComplete.call(_e2c,_e2d,_e27);}};_e22.fetch=function(_e2e){_e2e=_e2e||{};if(!_e2e.store){_e2e.store=this;}this._fetchItems(_e2e,lang.hitch(this,"fetchHandler"),lang.hitch(this,"errorHandler"));return _e2e;};return _e22;});},"prcommon2/search/SearchCount":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../search/templates/SearchCount.html"],function(_e2f,_e30,_e31){return _e2f("prcommon2.search.SearchCount",[_e30],{templateString:_e31,clear:function(){this.innerNode.innerHTML="&nbsp;";},_getValueAttr:function(){return this.innerNode.innerHTML;},_setValueAttr:function(_e32){this.innerNode.innerHTML=_e32;}});});},"ttl/store/TtlQueryResults":function(){define([],function(){var _e33=function(_e34){return _e34;};return _e33;});},"dijit/_CssStateMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-class","dojo/has","dojo/_base/lang","dojo/on","dojo/domReady","dojo/touch","dojo/_base/window","./a11yclick","./registry"],function(_e35,_e36,dom,_e37,has,lang,on,_e38,_e39,win,_e3a,_e3b){var _e3c=_e36("dijit._CssStateMixin",[],{hovering:false,active:false,_applyAttributes:function(){this.inherited(arguments);_e35.forEach(["disabled","readOnly","checked","selected","focused","state","hovering","active","_opened"],function(attr){this.watch(attr,lang.hitch(this,"_setStateClass"));},this);for(var ap in this.cssStateNodes||{}){this._trackMouseState(this[ap],this.cssStateNodes[ap]);}this._trackMouseState(this.domNode,this.baseClass);this._setStateClass();},_cssMouseEvent:function(_e3d){if(!this.disabled){switch(_e3d.type){case "mouseover":case "MSPointerOver":case "pointerover":this._set("hovering",true);this._set("active",this._mouseDown);break;case "mouseout":case "MSPointerOut":case "pointerout":this._set("hovering",false);this._set("active",false);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":this._set("active",true);break;case "mouseup":case "dojotouchend":case "MSPointerUp":case "pointerup":case "keyup":this._set("active",false);break;}}},_setStateClass:function(){var _e3e=this.baseClass.split(" ");function _e3f(_e40){_e3e=_e3e.concat(_e35.map(_e3e,function(c){return c+_e40;}),"dijit"+_e40);};if(!this.isLeftToRight()){_e3f("Rtl");}var _e41=this.checked=="mixed"?"Mixed":(this.checked?"Checked":"");if(this.checked){_e3f(_e41);}if(this.state){_e3f(this.state);}if(this.selected){_e3f("Selected");}if(this._opened){_e3f("Opened");}if(this.disabled){_e3f("Disabled");}else{if(this.readOnly){_e3f("ReadOnly");}else{if(this.active){_e3f("Active");}else{if(this.hovering){_e3f("Hover");}}}}if(this.focused){_e3f("Focused");}var tn=this.stateNode||this.domNode,_e42={};_e35.forEach(tn.className.split(" "),function(c){_e42[c]=true;});if("_stateClasses" in this){_e35.forEach(this._stateClasses,function(c){delete _e42[c];});}_e35.forEach(_e3e,function(c){_e42[c]=true;});var _e43=[];for(var c in _e42){_e43.push(c);}tn.className=_e43.join(" ");this._stateClasses=_e3e;},_subnodeCssMouseEvent:function(node,_e44,evt){if(this.disabled||this.readOnly){return;}function _e45(_e46){_e37.toggle(node,_e44+"Hover",_e46);};function _e47(_e48){_e37.toggle(node,_e44+"Active",_e48);};function _e49(_e4a){_e37.toggle(node,_e44+"Focused",_e4a);};switch(evt.type){case "mouseover":case "MSPointerOver":case "pointerover":_e45(true);break;case "mouseout":case "MSPointerOut":case "pointerout":_e45(false);_e47(false);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":_e47(true);break;case "mouseup":case "MSPointerUp":case "pointerup":case "dojotouchend":case "keyup":_e47(false);break;case "focus":case "focusin":_e49(true);break;case "blur":case "focusout":_e49(false);break;}},_trackMouseState:function(node,_e4b){node._cssState=_e4b;}});_e38(function(){function _e4c(evt,_e4d,_e4e){if(_e4e&&dom.isDescendant(_e4e,_e4d)){return;}for(var node=_e4d;node&&node!=_e4e;node=node.parentNode){if(node._cssState){var _e4f=_e3b.getEnclosingWidget(node);if(_e4f){if(node==_e4f.domNode){_e4f._cssMouseEvent(evt);}else{_e4f._subnodeCssMouseEvent(node,node._cssState,evt);}}}}};var body=win.body(),_e50;on(body,_e39.over,function(evt){_e4c(evt,evt.target,evt.relatedTarget);});on(body,_e39.out,function(evt){_e4c(evt,evt.target,evt.relatedTarget);});on(body,_e3a.press,function(evt){_e50=evt.target;_e4c(evt,_e50);});on(body,_e3a.release,function(evt){_e4c(evt,_e50);_e50=null;});on(body,"focusin, focusout",function(evt){var node=evt.target;if(node._cssState&&!node.getAttribute("widgetId")){var _e51=_e3b.getEnclosingWidget(node);if(_e51){_e51._subnodeCssMouseEvent(node,node._cssState,evt);}}});});return _e3c;});},"dgrid/TouchScroll":function(){define(["dojo/_base/declare","dojo/on","./util/touch","./util/has-css3","put-selector/put","xstyle/css!./css/TouchScroll.css"],function(_e52,on,_e53,has,put){var _e54=50,_e55=30,_e56={},_e57={},_e58=1,_e59=8,_e5a=/^translate(?:3d)?\((-?\d+)(?:\.\d*)?(?:px)?, (-?\d+)/,_e5b=/^matrix\(1, 0, 0, 1, (-?\d+)(?:\.\d*)?(?:px)?, (-?\d+)/,_e5c=has("css-transitions"),_e5d=has("transitionend"),_e5e=has("css-transforms"),_e5f=has("css-transforms3d"),_e60,_e61,_e62,_e63,_e64;if(_e5f){_e63="translate3d(";_e64=",0)";}else{if(_e5e){_e63="translate(";_e64=")";}}if(!_e5c||!_e63){return function(){};}_e62=_e5f||_e5e;_e62=_e62===true?"transform":_e62+"Transform";_e61=_e5c===true?"transition":_e5c+"Transition";_e60=_e5e===true?"":"-"+_e5e.toLowerCase()+"-";function _e65(_e66,curr){var node=_e66.touchNode,_e67=node.parentNode,_e68=_e67.offsetWidth-_e59,_e69=_e67.offsetHeight-_e59,_e6a=curr.scrollWidth=node.scrollWidth,_e6b=curr.scrollHeight=node.scrollHeight,_e6c=curr.parentWidth=_e67.offsetWidth,_e6d=curr.parentHeight=_e67.offsetHeight,_e6e;if(_e6a>_e6c){if(!_e66._scrollbarXNode){_e6e=put(_e67,"div.touchscroll-x");}_e6e=_e66._scrollbarXNode=_e66._scrollbarXNode||put(_e6e,"div.touchscroll-bar");_e6e.style.width=_e68*_e68/_e6a+"px";_e6e.style.left=node.offsetLeft+"px";put(_e67,".touchscroll-scrollable-x");curr.scrollableX=true;}else{put(_e67,"!touchscroll-scrollable-x");}if(_e6b>_e6d){if(!_e66._scrollbarYNode){_e6e=put(_e67,"div.touchscroll-y");}_e6e=_e66._scrollbarYNode=_e66._scrollbarYNode||put(_e6e,"div.touchscroll-bar");_e6e.style.height=_e69*_e69/_e6b+"px";_e6e.style.top=node.offsetTop+"px";put(_e67,".touchscroll-scrollable-y");curr.scrollableY=true;}else{put(_e67,"!touchscroll-scrollable-y");}put(_e67,"!touchscroll-fadeout");};function _e6f(_e70,_e71){var node=_e70.touchNode,curr=_e56[_e70.id],pos,hasX,hasY,x,y;if(typeof _e71!=="object"){x=_e71;y=arguments[2];_e71=arguments[3];hasX=hasY=true;}else{hasX="x" in _e71;hasY="y" in _e71;if(!hasX||!hasY){pos=_e70.getScrollPosition();}x=hasX?_e71.x:pos.x;y=hasY?_e71.y:pos.y;}node.style[_e62]=_e63+-x+"px,"+-y+"px"+_e64;if(curr&&hasX&&_e70._scrollbarXNode){_e70._scrollbarXNode.style[_e62]=_e63+(x*curr.parentWidth/curr.scrollWidth)+"px,0"+_e64;}if(curr&&hasY&&_e70._scrollbarYNode){_e70._scrollbarYNode.style[_e62]=_e63+"0,"+(y*curr.parentHeight/curr.scrollHeight)+"px"+_e64;}on.emit(_e70.touchNode.parentNode,"scroll",{scrollLeft:x,scrollTop:y});};function _e72(_e73){if(_e56[_e73.id]){return _e5b.exec(window.getComputedStyle(_e73.touchNode)[_e62]);}return _e5a.exec(_e73.touchNode.style[_e62]);};function _e74(_e75){var _e76=this.widget,_e77=[this.node,_e76._scrollbarXNode,_e76._scrollbarYNode],i=_e77.length;if(this.timer){clearTimeout(this.timer);this.timer=null;}if(this.transitionHandler){this.transitionHandler.remove();}while(i--){if(_e77[i]){_e77[i].style[_e61+"Duration"]="0";}}if(!_e75||!_e75.preserveScrollbars){put(this.node.parentNode,".touchscroll-fadeout");}delete this.resetEffects;};function _e78(evt){var _e79=evt.widget,node=_e79.touchNode,id=_e79.id,posX=0,posY=0,_e7a,_e7b,curr;if(_e53.countCurrentTouches(evt,node)!==_e79.touchesToScroll){return;}_e7b=_e72(_e79);if(_e7b){posX=+_e7b[1];posY=+_e7b[2];}if((curr=_e56[id])){if(curr.resetEffects){curr.resetEffects({preserveScrollbars:true});}node.style[_e62]=_e63+posX+"px,"+posY+"px"+_e64;_e57[id]=curr;}_e7a=evt.targetTouches[0];curr=_e56[id]={widget:_e79,node:node,startX:posX-_e7a.pageX,startY:posY-_e7a.pageY,lastX:posX,lastY:posY,pageX:_e7a.pageX,pageY:_e7a.pageY,tickFunc:function(){_e7c(id);}};curr.timer=setTimeout(curr.tickFunc,_e54);};function _e7d(evt){var _e7e=evt.widget,id=_e7e.id,_e7f=_e7e.touchesToScroll,curr=_e56[id],_e80,_e81,_e82,nx,ny,minX,minY,i;if(!curr||(_e80=_e53.countCurrentTouches(evt,_e7e.touchNode))!==_e7f){if(_e80>_e7f){_e7e.cancelTouchScroll();}return;}_e81=evt.targetTouches;_e82=_e81[0];if(!curr.scrollbarsShown){if(_e57[id]||(Math.abs(_e82.pageX-curr.pageX)>_e7e.scrollThreshold||Math.abs(_e82.pageY-curr.pageY)>_e7e.scrollThreshold)){_e65(_e7e,curr);curr.scrollbarsShown=true;for(i=_e81.length;i--;){_e81[i].touchScrolled=true;}}}if(curr.scrollbarsShown&&(curr.scrollableX||curr.scrollableY)){evt.preventDefault();nx=curr.scrollableX?curr.startX+_e82.pageX:0;ny=curr.scrollableY?curr.startY+_e82.pageY:0;minX=curr.scrollableX?-(curr.scrollWidth-curr.parentWidth):0;minY=curr.scrollableY?-(curr.scrollHeight-curr.parentHeight):0;if(nx>0){nx=nx/2;}else{if(nx<minX){nx=minX-(minX-nx)/2;}}if(ny>0){ny=ny/2;}else{if(ny<minY){ny=minY-(minY-ny)/2;}}_e6f(_e7e,-nx,-ny);}};function _e83(evt){var _e84=evt.widget,id=_e84.id,curr=_e56[id];if(!curr||_e53.countCurrentTouches(evt,_e84.touchNode)!=_e84.touchesToScroll-1){return;}_e85(id);};function _e7c(id){var curr=_e56[id],node,_e86,x,y;if(!curr){return;}node=curr.node;_e86=_e5a.exec(node.style[_e62]);if(_e86){x=+_e86[1];y=+_e86[2];curr.velX=x-curr.lastX;curr.velY=y-curr.lastY;curr.lastX=x;curr.lastY=y;}else{curr.lastX=curr.lastY=0;}curr.timer=setTimeout(curr.tickFunc,_e54);};function _e87(id,_e88,_e89){var curr=_e56[id],_e8a=curr.widget,node=curr.node,_e8b,x=curr.scrollableX?Math.max(Math.min(0,_e88),-(curr.scrollWidth-curr.parentWidth)):_e88,y=curr.scrollableY?Math.max(Math.min(0,_e89),-(curr.scrollHeight-curr.parentHeight)):_e89;function end(){delete curr.transitionHandler;curr.resetEffects();delete _e56[id];};delete curr.timer;if(x!=_e88||y!=_e89){curr.transitionHandler=on.once(node,_e5d,end);node.style[_e61+"Duration"]=_e8a.bounceDuration+"ms";node.style[_e62]=_e63+x+"px,"+y+"px"+_e64;if(x!=_e88&&curr.scrollableX){_e8b=curr.widget._scrollbarXNode;_e8b.style[_e61+"Duration"]=_e8a.bounceDuration+"ms";if(_e88>x){_e8b.style[_e62]=_e63+"0,0"+_e64;}else{_e8b.style[_e62]=_e63+(_e8b.parentNode.offsetWidth-_e8b.offsetWidth)+"px,0"+_e64;}}if(y!=_e89&&curr.scrollableY){_e8b=curr.widget._scrollbarYNode;_e8b.style[_e61+"Duration"]=_e8a.bounceDuration+"ms";if(_e89>y){_e8b.style[_e62]=_e63+"0,0"+_e64;}else{_e8b.style[_e62]=_e63+"0,"+(_e8b.parentNode.offsetHeight-_e8b.offsetHeight)+"px"+_e64;}}}else{end();}};function _e85(id){var curr=_e56[id],prev=_e57[id],_e8c,posX,posY,_e8d=1.15;delete _e57[id];if(curr.timer){clearTimeout(curr.timer);}curr.resetEffects=_e74;_e8c=_e5a.exec(curr.node.style[_e62]);if(_e8c){posX=+_e8c[1];posY=+_e8c[2];}else{posX=posY=0;}if((!curr.velX&&!curr.velY)||((posX>=0||posX<=-(curr.scrollWidth-curr.parentWidth))&&(posY>=0||posY<=-(curr.scrollHeight-curr.parentHeight)))){_e87(id,posX,posY);return;}function _e8e(a,b){return ((a.velX<=0&&b.velX<=0)||(a.velX>=0&&b.velX>=0))&&((a.velY<=0&&b.velY<=0)||(a.velY>=0&&b.velY>=0));};if(prev&&(prev.velX||prev.velY)&&_e8e(curr,prev)){curr.velX=(curr.velX+prev.velX)*_e8d;curr.velY=(curr.velY+prev.velY)*_e8d;}curr.lastX=posX;curr.lastY=posY;curr.calcFunc=function(){_e8f(id);};curr.timer=setTimeout(curr.calcFunc,_e55);};function _e8f(id){var curr=_e56[id],node,_e90,_e91,i,nx,ny,nvx,nvy,_e92=6;if(!curr){return;}node=curr.node;_e90=node.parentNode;_e91=curr.widget;nvx=_e91.glideDecel(curr.velX);nvy=_e91.glideDecel(curr.velY);if(Math.abs(nvx)>=_e58||Math.abs(nvy)>=_e58){nx=curr.lastX+nvx;ny=curr.lastY+nvy;if(nx>0||nx<-(curr.scrollWidth-curr.parentWidth)){for(i=_e92;i--;){nvx=_e91.glideDecel(nvx);}}if(ny>0||ny<-(curr.scrollHeight-curr.parentHeight)){for(i=_e92;i--;){nvy=_e91.glideDecel(nvy);}}_e6f(_e91,-nx,-ny);curr.lastX=nx;curr.lastY=ny;curr.velX=nvx;curr.velY=nvy;curr.timer=setTimeout(curr.calcFunc,_e55);}else{_e87(id,curr.lastX,curr.lastY);}};return _e52(null,{touchesToScroll:1,touchNode:null,scrollThreshold:10,bounceDuration:300,postCreate:function(){this._initTouch();this.inherited(arguments);},_initTouch:function(){var node=this.touchNode=this.touchNode||this.containerNode,_e93=this,_e94;if(!node||!node.parentNode){return;}_e94=node.parentNode;_e94.style.overflow="hidden";node.style[_e61+"Property"]=_e60+"transform";node.style[_e61+"TimingFunction"]="cubic-bezier(0.33, 0.66, 0.66, 1)";function _e95(){_e93.cancelTouchScroll();};function _e96(func){return function(evt){evt.widget=_e93;evt.cancelTouchScroll=_e95;func.call(this,evt);};};this._touchScrollListeners=[on(_e94,"touchstart",_e96(_e78)),on(_e94,"touchmove",_e96(_e7d)),on(_e94,"touchend,touchcancel",_e96(_e83))];},destroy:function(){var i=this._touchScrollListeners.length;while(i--){this._touchScrollListeners[i].remove();}delete _e56[this.id];this.inherited(arguments);},scrollTo:function(_e97){var curr=_e56[this.id],_e98=this.touchNode,_e99=_e98.parentNode;if(!_e97.preserveMomentum&&curr&&curr.resetEffects){curr.resetEffects();}if(_e97.x){_e97.x=Math.max(0,Math.min(_e97.x,_e98.scrollWidth-_e99.offsetWidth));}if(_e97.y){_e97.y=Math.max(0,Math.min(_e97.y,_e98.scrollHeight-_e99.offsetHeight));}_e6f(this,_e97);},getScrollPosition:function(){var _e9a=_e72(this);return _e9a?{x:-_e9a[1],y:-_e9a[2]}:{x:0,y:0};},cancelTouchScroll:function(){var curr=_e56[this.id];if(!curr){return;}if(curr.resetEffects){curr.resetEffects();}else{if(curr.timer){clearTimeout(curr.timer);}put(curr.node.parentNode,".touchscroll-fadeout");}delete _e56[this.id];},glideDecel:function(n){return n*0.9;}});});},"dojox/charting/action2d/Tooltip":function(){define(["dijit/Tooltip","dojo/_base/lang","dojo/_base/declare","dojo/_base/window","dojo/_base/connect","dojo/dom-style","./PlotAction","dojox/gfx/matrix","dojo/has","dojo/has!dojo-bidi?../bidi/action2d/Tooltip","dojox/lang/functional","dojox/lang/functional/scan","dojox/lang/functional/fold"],function(_e9b,lang,_e9c,win,hub,_e9d,_e9e,m,has,_e9f,df){var _ea0=function(o,plot){var t=o.run&&o.run.data&&o.run.data[o.index];if(t&&typeof t!="number"&&(t.tooltip||t.text)){return t.tooltip||t.text;}if(plot.tooltipFunc){return plot.tooltipFunc(o);}else{return o.y;}};var pi4=Math.PI/4,pi2=Math.PI/2;var _ea1=_e9c(has("dojo-bidi")?"dojox.charting.action2d.NonBidiTooltip":"dojox.charting.action2d.Tooltip",_e9e,{defaultParams:{text:_ea0,mouseOver:true},optionalParams:{},constructor:function(_ea2,plot,_ea3){this.text=_ea3&&_ea3.text?_ea3.text:_ea0;this.mouseOver=_ea3&&_ea3.mouseOver!=undefined?_ea3.mouseOver:true;this.connect();},process:function(o){if(o.type==="onplotreset"||o.type==="onmouseout"){_e9b.hide(this.aroundRect);this.aroundRect=null;if(o.type==="onplotreset"){delete this.angles;}return;}if(!o.shape||(this.mouseOver&&o.type!=="onmouseover")||(!this.mouseOver&&o.type!=="onclick")){return;}var _ea4={type:"rect"},_ea5=["after-centered","before-centered"];switch(o.element){case "marker":_ea4.x=o.cx;_ea4.y=o.cy;_ea4.w=_ea4.h=1;break;case "circle":_ea4.x=o.cx-o.cr;_ea4.y=o.cy-o.cr;_ea4.w=_ea4.h=2*o.cr;break;case "spider_circle":_ea4.x=o.cx;_ea4.y=o.cy;_ea4.w=_ea4.h=1;break;case "spider_plot":return;case "column":_ea5=["above-centered","below-centered"];case "bar":_ea4=lang.clone(o.shape.getShape());_ea4.w=_ea4.width;_ea4.h=_ea4.height;break;case "candlestick":_ea4.x=o.x;_ea4.y=o.y;_ea4.w=o.width;_ea4.h=o.height;break;default:if(!this.angles){var _ea6=typeof o.run.data[0]=="number"?df.map(o.run.data,"x ? Math.max(x, 0) : 0"):df.map(o.run.data,"x ? Math.max(x.y, 0) : 0");this.angles=df.map(df.scanl(_ea6,"+",0),"* 2 * Math.PI / this",df.foldl(_ea6,"+",0));}var _ea7=m._degToRad(o.plot.opt.startAngle),_ea8=(this.angles[o.index]+this.angles[o.index+1])/2+_ea7;_ea4.x=o.cx+o.cr*Math.cos(_ea8);_ea4.y=o.cy+o.cr*Math.sin(_ea8);_ea4.w=_ea4.h=1;if(_ea7&&(_ea8<0||_ea8>2*Math.PI)){_ea8=Math.abs(2*Math.PI-Math.abs(_ea8));}if(_ea8<pi4){}else{if(_ea8<pi2+pi4){_ea5=["below-centered","above-centered"];}else{if(_ea8<Math.PI+pi4){_ea5=["before-centered","after-centered"];}else{if(_ea8<2*Math.PI-pi4){_ea5=["above-centered","below-centered"];}}}}break;}if(has("dojo-bidi")){this._recheckPosition(o,_ea4,_ea5);}var lt=this.chart.getCoords();_ea4.x+=lt.x;_ea4.y+=lt.y;_ea4.x=Math.round(_ea4.x);_ea4.y=Math.round(_ea4.y);_ea4.w=Math.ceil(_ea4.w);_ea4.h=Math.ceil(_ea4.h);this.aroundRect=_ea4;var _ea9=this.text(o,this.plot);if(_ea9){_e9b.show(this._format(_ea9),this.aroundRect,_ea5);}if(!this.mouseOver){this._handle=hub.connect(win.doc,"onclick",this,"onClick");}},onClick:function(){this.process({type:"onmouseout"});},_recheckPosition:function(obj,rect,_eaa){},_format:function(_eab){return _eab;}});return has("dojo-bidi")?_e9c("dojox.charting.action2d.Tooltip",[_ea1,_e9f]):_ea1;});},"dijit/form/FilteringSelect":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/when","./MappedTextBox","./ComboBoxMixin"],function(_eac,lang,when,_ead,_eae){return _eac("dijit.form.FilteringSelect",[_ead,_eae],{required:true,_lastDisplayedValue:"",_isValidSubset:function(){return this._opened;},isValid:function(){return !!this.item||(!this.required&&this.get("displayedValue")=="");},_refreshState:function(){if(!this.searchTimer){this.inherited(arguments);}},_callbackSetLabel:function(_eaf,_eb0,_eb1,_eb2){if((_eb0&&_eb0[this.searchAttr]!==this._lastQuery)||(!_eb0&&_eaf.length&&this.store.getIdentity(_eaf[0])!=this._lastQuery)){return;}if(!_eaf.length){this.set("value","",_eb2||(_eb2===undefined&&!this.focused),this.textbox.value,null);}else{this.set("item",_eaf[0],_eb2);}},_openResultList:function(_eb3,_eb4,_eb5){if(_eb4[this.searchAttr]!==this._lastQuery){return;}this.inherited(arguments);if(this.item===undefined){this.validate(true);}},_getValueAttr:function(){return this.valueNode.value;},_getValueField:function(){return "value";},_setValueAttr:function(_eb6,_eb7,_eb8,item){if(!this._onChangeActive){_eb7=null;}if(item===undefined){if(_eb6===null||_eb6===""){_eb6="";if(!lang.isString(_eb8)){this._setDisplayedValueAttr(_eb8||"",_eb7);return;}}var self=this;this._lastQuery=_eb6;when(this.store.get(_eb6),function(item){self._callbackSetLabel(item?[item]:[],undefined,undefined,_eb7);});}else{this.valueNode.value=_eb6;this.inherited(arguments,[_eb6,_eb7,_eb8,item]);}},_setItemAttr:function(item,_eb9,_eba){this.inherited(arguments);this._lastDisplayedValue=this.textbox.value;},_getDisplayQueryString:function(text){return text.replace(/([\\\*\?])/g,"\\$1");},_setDisplayedValueAttr:function(_ebb,_ebc){if(_ebb==null){_ebb="";}if(!this._created){if(!("displayedValue" in this.params)){return;}_ebc=false;}if(this.store){this.closeDropDown();var _ebd=lang.clone(this.query);var qs=this._getDisplayQueryString(_ebb),q;if(this.store._oldAPI){q=qs;}else{q=this._patternToRegExp(qs);q.toString=function(){return qs;};}this._lastQuery=_ebd[this.searchAttr]=q;this.textbox.value=_ebb;this._lastDisplayedValue=_ebb;this._set("displayedValue",_ebb);var _ebe=this;var _ebf={queryOptions:{ignoreCase:this.ignoreCase,deep:true}};lang.mixin(_ebf,this.fetchProperties);this._fetchHandle=this.store.query(_ebd,_ebf);when(this._fetchHandle,function(_ec0){_ebe._fetchHandle=null;_ebe._callbackSetLabel(_ec0||[],_ebd,_ebf,_ebc);},function(err){_ebe._fetchHandle=null;if(!_ebe._cancelingQuery){}});}},undo:function(){this.set("displayedValue",this._lastDisplayedValue);}});});},"dojo/cookie":function(){define(["./_base/kernel","./regexp"],function(dojo,_ec1){dojo.cookie=function(name,_ec2,_ec3){var c=document.cookie,ret;if(arguments.length==1){var _ec4=c.match(new RegExp("(?:^|; )"+_ec1.escapeString(name)+"=([^;]*)"));ret=_ec4?decodeURIComponent(_ec4[1]):undefined;}else{_ec3=_ec3||{};var exp=_ec3.expires;if(typeof exp=="number"){var d=new Date();d.setTime(d.getTime()+exp*24*60*60*1000);exp=_ec3.expires=d;}if(exp&&exp.toUTCString){_ec3.expires=exp.toUTCString();}_ec2=encodeURIComponent(_ec2);var _ec5=name+"="+_ec2,_ec6;for(_ec6 in _ec3){_ec5+="; "+_ec6;var _ec7=_ec3[_ec6];if(_ec7!==true){_ec5+="="+_ec7;}}document.cookie=_ec5;}return ret;};dojo.cookie.isSupported=function(){if(!("cookieEnabled" in navigator)){this("__djCookieTest__","CookiesAllowed");navigator.cookieEnabled=this("__djCookieTest__")=="CookiesAllowed";if(navigator.cookieEnabled){this("__djCookieTest__","",{expires:-1});}}return navigator.cookieEnabled;};return dojo.cookie;});},"prcommon2/clippings/frame":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../clippings/templates/frame.html","dijit/layout/BorderContainer","dojo/dom-geometry","dojo/_base/lang","ttl/store/JsonRest","dojo/store/Observable","ttl/grid/Grid","ttl/utilities2","dojo/topic","dojo/request","dojo/dom-attr","dojo/dom-class","dojox/data/JsonRestStore","dijit/layout/StackContainer","dijit/layout/ContentPane","dijit/layout/TabContainer","dijit/Toolbar","dijit/form/Button","prcommon2/clippings/charts/piechart","prcommon2/clippings/charts/lineschart","prcommon2/clippings/filter","prcommon2/clippings/detailedviewer","prcommon2/clippings/edit_private","prcommon2/clippings/optionsviewer","prcommon2/clippings/dashboard","prcommon2/clippings/dashboardsettings","prcommon2/clippings/emails","prcommon2/clippings/output_std","prcommon2/clippings/add_server","dijit/form/ValidationTextBox","dijit/form/DateTextBox","dijit/form/NumberTextBox","dijit/form/CurrencyTextBox","dijit/form/Textarea"],function(_ec8,_ec9,_eca,_ecb,_ecc,lang,_ecd,_ece,Grid,_ecf,_ed0,_ed1,_ed2,_ed3){return _ec8("prcommon2.clippings.frame",[_ec9,_ecb],{templateString:_eca,gutters:false,as_frame:0,back_colour:"black",back_panel_colour:"black",fore_color:"lightblue",constructor:function(){this._active_page=null;_ed0.subscribe("/clipping/change_view",lang.hitch(this,this._change_view_event));this._selectall_call_back=lang.hitch(this,this._selectall_call);},postCreate:function(){if(this.as_frame==1){_ed3.add(this.logo_view,"prmaxhidden");}this.inherited(arguments);this._active_page=this.lineschart;this.inherited(arguments);},_show_hide_details:function(_ed4){this.controls.selectChild(_ed4);this._active_page=_ed4;},_details_btn_event:function(){this._change_view_event("clippings_view");},_summary_btn_event:function(){_ed3.add(this.emailsbtn.domNode,"prmaxhidden");_ed3.add(this.outputbtn.domNode,"prmaxhidden");_ed3.add(this.selectallbtn.domNode,"prmaxhidden");this._show_hide_details(this.piechart);},_time_btn_event:function(){_ed3.add(this.emailsbtn.domNode,"prmaxhidden");_ed3.add(this.outputbtn.domNode,"prmaxhidden");_ed3.add(this.selectallbtn.domNode,"prmaxhidden");this._show_hide_details(this.lineschart);},_refesh_chart_event:function(){if(this._active_page){this._active_page.refesh_view();}},_add_btn_event:function(){_ed3.add(this.emailsbtn.domNode,"prmaxhidden");_ed3.add(this.outputbtn.domNode,"prmaxhidden");_ed3.add(this.selectallbtn.domNode,"prmaxhidden");this.add_private.clear();this.controls.selectChild(this.add_private);this._active_page=null;},_email_btn_event:function(){this.emails_ctrl.load(this.email_dlg);this.email_dlg.show();},_output_std_btn_event:function(){this.output_std_ctrl.load(this.output_std_dlg);this.output_std_dlg.show();},_change_view_event:function(_ed5){switch(_ed5){case "clippings_view":_ed3.remove(this.outputbtn.domNode,"prmaxhidden");_ed3.remove(this.emailsbtn.domNode,"prmaxhidden");_ed3.remove(this.selectallbtn.domNode,"prmaxhidden");this._show_hide_details(this.clippings_view);break;case "linechart":_ed3.add(this.emailsbtn.domNode,"prmaxhidden");_ed3.add(this.outputbtn.domNode,"prmaxhidden");_ed3.add(this.selectallbtn.domNode,"prmaxhidden");this._show_hide_details(this.lineschart);break;case "newclipping":_ed3.add(this.emailsbtn.domNode,"prmaxhidden");_ed3.add(this.outputbtn.domNode,"prmaxhidden");_ed3.add(this.selectallbtn.domNode,"prmaxhidden");this._add_btn_event();break;}},_options_btn_event:function(){_ed3.add(this.emailsbtn.domNode,"prmaxhidden");_ed3.add(this.outputbtn.domNode,"prmaxhidden");_ed3.add(this.selectallbtn.domNode,"prmaxhidden");this.controls.selectChild(this.options_view);this._active_page=null;},_dashboard_btn_event:function(){_ed3.add(this.emailsbtn.domNode,"prmaxhidden");_ed3.add(this.outputbtn.domNode,"prmaxhidden");_ed3.add(this.selectallbtn.domNode,"prmaxhidden");this.controls.selectChild(this.dashboard_view);this.dashboard_view.load(PRMAX.utils.settings.cid);this._active_page=null;},_dashboardsettings_btn_event:function(){_ed3.add(this.emailsbtn.domNode,"prmaxhidden");_ed3.add(this.outputbtn.domNode,"prmaxhidden");_ed3.add(this.selectallbtn.domNode,"prmaxhidden");this.controls.selectChild(this.dashboardsettings_view);this.dashboardsettings_view.load(PRMAX.utils.settings.cid,1);this._active_page=null;},_selectall_btn_event:function(){var test=this.clippings_view.filter_view.get("filterlimited");_ed1.post("/clippings/select_deselect_all_user_selection",_ecf.make_params({data:test})).then(this._selectall_call_back);},_selectall_call:function(_ed6){this.clippings_view.clippings_grid.set("query",this.clippings_view.filter_view.get("filterlimited"));}});});},"prcommon2/search/Countries":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../search/templates/Countries.html","prcommon2/search/std_search","dojo/_base/lang","dojo/dom-attr","dojo/dom-class","dojo/dom-style","dojo/json","dojo/request","ttl/utilities2","prcommon2/search/std_search","prcommon2/search/SearchCount"],function(_ed7,_ed8,_ed9,_eda,lang,_edb,_edc,_edd,json,_ede,_edf){return _ed7("prcommon2.search.Countries",[_ed8,_eda],{templateString:_ed9,name:"",value:"",displaytitle:"Countries",search:"",size:"7",testmode:false,selectonly:false,startopen:false,preload:true,interesttypeid:1,restrict:1,constructor:function(){this.disabled=false;this._extended=false;this._load_selection_call=lang.hitch(this,this._load_selection);this.interestTimer=null;this.inherited(arguments);},postCreate:function(){dojo.connect(this.interest_list_select.domNode,"onkeyup",lang.hitch(this,this.interest_select_event));dojo.connect(this.interest_list,"onchange",lang.hitch(this,this.interest_update_selection));dojo.connect(this.interest_list,"ondblclick",lang.hitch(this,this.interest_select_dbl));_edb.set(this.andorlabel,"for",this.andor.id);if(this.selectonly){this.andor.domNode.style.display="None";this.countnode.domNode.style.display="None";this.andor.style.display="None";}if(this.startopen){_edd.set(this.togglectrl,"display","none");_edd.set(this.selectarea,"display","block");}if(this.preload){for(var key in PRMAX.Settings.countries){var _ee0=PRMAX.Settings.countries[key];this.interest_select.options[this.interest_select.options.length]=new Option(_ee0.countryname,_ee0.countryid);}if(PRMAX.Settings.countries.length>0){this.make_open();this._get_selector(this._getValueAttr(),true);}}this.inherited(arguments);},clear:function(){this._clear_selection_box();this._clear_selected_box();this.interest_list_select.set("value","");this._get_selector(this._getValueAttr());this._selection_options();this.inherited(arguments);},_send_request:function(data){this._transactionid=PRCOMMON.utils.uuid.createUUID();_ede.post("/geographical/countries_listselection",_edf.make_params({data:{word:data,logic:this.andor.get("value"),keytypeid:this.keytypeid,restrict:this.restrict,transactionid:this._transactionid}})).then(this._load_selection_call);},interest_select_event:function(p1,_ee1){var data=this.interest_list_select.get("value");if(_ee1!=null){data=_ee1;}if(data.length>0){if(this.interestTimer){clearTimeout(this.interestTimer);this.interestTimer=null;}this.interestTimer=setTimeout(dojo.hitch(this,this._send_request,data),this.searchTime);}else{this.interestTimer=null;this._clear_selection_box();this._selection_options();}},_load_selection:function(_ee2){if(this._transactionid==_ee2.transactionid){this._clear_selection_box();for(var i=0;i<_ee2.data.length;++i){var _ee3=_ee2.data[i];this.interest_list.options[this.interest_list.options.length]=new Option(_ee3.countryname,_ee3.countryid);}this._selection_options();}},_clear_selection_box:function(){this.interest_list.options.length=0;},_clear_selected_box:function(){this.interest_select.length=0;},and_or:function(){this._get_selector(this._getValueAttr(),true);},interest_update_selection:function(){this._selection_options();},interest_select_dbl:function(){this.interest_select_single();this._selection_options();},interest_select_all:function(){for(var c=0;c<this.interest_list.options.length;c++){var _ee4=this.interest_list.options[c];var _ee5=true;for(var c1=0;c1<this.interest_select.options.length;c1++){if(this.interest_select.options[c1].value==_ee4.value){_ee5=false;break;}}if(_ee5){this.interest_select.options[this.interest_select.options.length]=new Option(_ee4.text,_ee4.value);}}this._get_selector(this._getValueAttr());this.interest_list.options.length=0;this.interest_update_selection();},interest_select_single:function(){for(var c=0;c<this.interest_list.options.length;c++){var _ee6=this.interest_list.options[c];if(_ee6.selected){_ee6.selected=false;var _ee7=true;for(var c1=0;c1<this.interest_select.options.length;c1++){if(this.interest_select.options[c1].value==_ee6.value){_ee7=false;break;}}if(_ee7){this.interest_select.options[this.interest_select.options.length]=new Option(_ee6.text,_ee6.value);this._get_selector(this._getValueAttr());}}}},interest_remove_all:function(){this.interest_select.options.length=0;this.interest_update_selection();this._get_selector(this._getValueAttr());},interest_remove_single:function(){for(var c=0;c<this.interest_select.options.length;c++){if(this.interest_select.options[c].selected){this.interest_select.options[c]=null;}}this.interest_update_selection();this._get_selector(this._getValueAttr());},add_select:function(data){this.interest_select.options[this.interest_select.options.length]=new Option(data.countryname,data.countryid);},_setValueAttr:function(_ee8){this.clear();var data=_ee8.data;var open=false;if(data==null||data==undefined){data=_ee8;}for(var key in data){var _ee9=data[key];this.interest_select.options[this.interest_select.options.length]=new Option(_ee9.countryname,_ee9.countryid);opne=true;}if(open){this.make_open();}this._get_selector(this._getValueAttr());},_getValueAttr:function(){var data=Array();for(var c=0;c<this.interest_select.options.length;c++){if(this._extended){data[c]={countryid:parseInt(this.interest_select.options[c].value),countryname:this.interest_select.options[c].text};}else{data[c]=parseInt(this.interest_select.options[c].value);}}var obj={data:data,logic:this.andor.get("value")};if(this._extended){return obj;}else{var data=data.length>0?json.stringify(obj):"";this.value=data;return data;}},_getCountAttr:function(){return this.interest_select.options.length;},_setExtendedAttr:function(_eea){this._extended=_eea;},_selection_options:function(){this.button_all.set("disabled",this.interest_list.length?false:true);this.button_single.set("disabled",this.interest_list.selectedIndex!=-1?false:true);this.button_del_all.set("disabled",this.interest_select.length?false:true);this.button_del_single.set("disabled",this.interest_select.selectedIndex!=-1?false:true);},_capture_extended_content:function(data){var _eeb=this.andor.get("value");return dojo.mixin(data,{logic:_eeb});},_setDisabledAttr:function(_eec){this.disabled=_eec;},_getDisabledAttr:function(){return this.disabled;},_get_selector:function(){if(this.selectonly==false){this.inherited(arguments);}},_focus:function(){this.interest_list_select.focus();}});});},"dojox/charting/scaler/primitive":function(){define(["dojo/_base/lang"],function(lang){var _eed=lang.getObject("dojox.charting.scaler.primitive",true);return lang.mixin(_eed,{buildScaler:function(min,max,span,_eee){if(min==max){min-=0.5;max+=0.5;}return {bounds:{lower:min,upper:max,from:min,to:max,scale:span/(max-min),span:span},scaler:_eed};},buildTicks:function(_eef,_ef0){return {major:[],minor:[],micro:[]};},getTransformerFromModel:function(_ef1){var _ef2=_ef1.bounds.from,_ef3=_ef1.bounds.scale;return function(x){return (x-_ef2)*_ef3;};},getTransformerFromPlot:function(_ef4){var _ef5=_ef4.bounds.from,_ef6=_ef4.bounds.scale;return function(x){return x/_ef6+_ef5;};}});});},"dojox/lang/functional/reversed":function(){define(["dojo/_base/lang","dojo/_base/kernel","./lambda"],function(lang,_ef7,df){lang.mixin(df,{filterRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||_ef7.global;f=df.lambda(f);var t=[],v,i=a.length-1;for(;i>=0;--i){v=a[i];if(f.call(o,v,i,a)){t.push(v);}}return t;},forEachRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||_ef7.global;f=df.lambda(f);for(var i=a.length-1;i>=0;f.call(o,a[i],i,a),--i){}},mapRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||_ef7.global;f=df.lambda(f);var n=a.length,t=new Array(n),i=n-1,j=0;for(;i>=0;t[j++]=f.call(o,a[i],i,a),--i){}return t;},everyRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||_ef7.global;f=df.lambda(f);for(var i=a.length-1;i>=0;--i){if(!f.call(o,a[i],i,a)){return false;}}return true;},someRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||_ef7.global;f=df.lambda(f);for(var i=a.length-1;i>=0;--i){if(f.call(o,a[i],i,a)){return true;}}return false;}});return df;});},"dijit/form/_FormWidget":function(){define(["dojo/_base/declare","dojo/sniff","dojo/_base/kernel","dojo/ready","../_Widget","../_CssStateMixin","../_TemplatedMixin","./_FormWidgetMixin"],function(_ef8,has,_ef9,_efa,_efb,_efc,_efd,_efe){if(has("dijit-legacy-requires")){_efa(0,function(){var _eff=["dijit/form/_FormValueWidget"];require(_eff);});}return _ef8("dijit.form._FormWidget",[_efb,_efd,_efc,_efe],{setDisabled:function(_f00){_ef9.deprecated("setDisabled("+_f00+") is deprecated. Use set('disabled',"+_f00+") instead.","","2.0");this.set("disabled",_f00);},setValue:function(_f01){_ef9.deprecated("dijit.form._FormWidget:setValue("+_f01+") is deprecated.  Use set('value',"+_f01+") instead.","","2.0");this.set("value",_f01);},getValue:function(){_ef9.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},postMixInProperties:function(){this.nameAttrSetting=(this.name&&!has("msapp"))?("name=\""+this.name.replace(/"/g,"&quot;")+"\""):"";this.inherited(arguments);}});});},"prcommon2/geographical/Geographical":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../geographical/templates/Geographical.html","prcommon2/search/std_search","dojo/request","ttl/utilities2","dojo/json","dojo/data/ItemFileReadStore","dojo/_base/lang","dojo/topic","dojo/dom-attr","prcommon2/search/SearchCount","dijit/form/TextBox","dijit/form/RadioButton","dijit/form/Button","dijit/Dialog","prcommon2/geographical/GeographicalTree"],function(_f02,_f03,_f04,_f05,_f06,_f07,json,_f08,lang,_f09,_f0a){return _f02("prcommon2.geographical.Geographical",[_f03,_f05],{templateString:_f04,name:"",value:"",displaytitle:"Coverage",title:"",search:"",size:"7",selectonly:false,startopen:false,cascade:true,open:false,constructor:function(){this.disabled=false;this._load_selection_call=lang.hitch(this,this._load_selection);this._transactionid=null;this.selectTimer=null;},postCreate:function(){dojo.connect(this.geographical_list_select.domNode,"onkeyup",lang.hitch(this,this._geographical_select_func));dojo.connect(this.geographical_list,"onchange",lang.hitch(this,this.geographical_update_selection));dojo.connect(this.geographical_list,"ondblclick",lang.hitch(this,this.geographical_select_dbl));dojo.connect(this.geographical_select,"ondblclick",lang.hitch(this,this.geographical_select_delete_dbl));_f0a.set(this.filter_radio_restriction_label,"for",this.filter_radio_restriction.id);_f0a.set(this.filter_radio_town_label,"for",this.filter_radio_town.id);_f0a.set(this.filter_radio_county_label,"for",this.filter_radio_county.id);_f0a.set(this.filter_radio_region_label,"for",this.filter_radio_region.id);_f0a.set(this.filter_radio_nation_label,"for",this.filter_radio_nation.id);if(this.selectonly){this.countnode.domNode.style.display="None";}if(this.startopen){dojo.style(this.togglectrl,"display","none");dojo.style(this.selectarea,"display","block");}_f09.subscribe(PRCOMMON.Events.Geographical_Selected,lang.hitch(this,this._geographical_selection_event));this.geog_tree.set("dialog",this.geog_tree_dlg);this.inherited(arguments);},_geographical_selection_event:function(e){var _f0b=true;for(var c1=0;c1<this.geographical_select.options.length;c1++){if(this.geographical_select.options[c1].value==e.geographicalarea){_f0b=false;break;}}if(_f0b){this.geographical_select.options[this.geographical_select.options.length]=new Option(e.geographicalname,e.geographicalid);this._get_selector(this._getValueAttr());}},clear:function(){this._clear_selection_box();this._clear_selected_box();this.geographical_list_select.set("value","");this.filter_radio_restriction.set("checked",true);this._get_selector(this._getValueAttr());this._selection_options();this.inherited(arguments);},clear_selection:function(){this._clear_selection_box();this.geographical_list_select.set("value","");this._get_selector(this._getValueAttr());this._selection_options();},_send_request:function(data){this._transactionid=PRCOMMON.utils.uuid.createUUID();_f06.post("/geographical/listbytype",_f07.make_params({data:{word:data,filter:this._get_filter(),geographicaltypeid:this.geographicaltypeid,transactionid:this._transactionid}})).then(this._load_selection_call);},_geographical_select_func:function(){var data=this.geographical_list_select.get("value");if(data.length>0){if(this.selecttimer){clearTimeout(this.selecttimer);this.selecttimer=null;}this.selecttimer=setTimeout(lang.hitch(this,this._send_request,data),this.searchtime);}else{this.selectTimer=null;this._clear_selection_box();this._selection_options();}},_load_selection:function(_f0c){if(this._transactionid==_f0c.transactionid){this._clear_selection_box();for(var i=0;i<_f0c.data.length;++i){var _f0d=_f0c.data[i];this.geographical_list.options[this.geographical_list.options.length]=new Option(_f0d[0],_f0d[1]);}this._selection_options();}},_clear_selection_box:function(){this.geographical_list.options.length=0;},_get_selector:function(_f0e,_f0f){if(this.keytypeid!=""){this.inherited(arguments);}},_clear_selected_box:function(){this.geographical_select.length=0;},geographical_update_selection:function(){this._selection_options();},geographical_select_dbl:function(){this.geographical_select_single();this._selection_options();},geographical_select_all:function(){for(var c=0;c<this.geographical_list.options.length;c++){var _f10=this.geographical_list.options[c];var _f11=true;for(var c1=0;c1<this.geographical_select.options.length;c1++){if(this.geographical_select.options[c1].value==_f10.value){_f11=false;break;}}if(_f11){this.geographical_select.options[this.geographical_select.options.length]=new Option(_f10.text,_f10.value);this._get_selector(this._getValueAttr());}}this.geographical_list.options.length=0;this.geographicalUpdateSelection();},geographical_select_single:function(){for(var c=0;c<this.geographical_list.options.length;c++){var _f12=this.geographical_list.options[c];if(_f12.selected){_f12.selected=false;var _f13=true;for(var c1=0;c1<this.geographical_select.options.length;c1++){if(this.geographical_select.options[c1].value==_f12.value){_f13=false;break;}}if(_f13){this.geographical_select.options[this.geographical_select.options.length]=new Option(_f12.text,_f12.value);this._get_selector(this._getValueAttr());}}}},geographical_remove_all:function(){this.geographical_select.options.length=0;this.geographical_update_selection();this._get_selector(this._getValueAttr());},geographical_select_delete_dbl:function(_f14){if(_f14!=null&&_f14.originalTarget!=null&&_f14.originalTarget.index!=null){this.geographical_select.options[_f14.originalTarget.index]=null;this.geographical_update_selection();this._get_selector(this._getValueAttr());}else{this.geographical_remove_single();}},geographical_remove_single:function(){for(var c=0;c<this.geographical_select.options.length;c++){if(this.geographical_select.options[c].selected){this.geographical_select.options[c]=null;}}this.geographical_update_selection();this._get_selector(this._getValueAttr());},add_select:function(data){this.geographical_select.options[this.geographical_select.options.length]=new Option(data.geographicalname,data.geographicalid);},_setValueAttr:function(obj){var data=obj.data;var open=false;if(data==null||data==undefined){data=obj;}this.clear();for(var key in data){var _f15=data[key];this.geographical_select.options[this.geographical_select.options.length]=new Option(_f15.geographicalname,_f15.geographicalid);open=true;}if(open){this.make_open();}this._extended=false;this._get_selector(this._getValueAttr());},_getValueAttr:function(){var data=Array();for(var c=0;c<this.geographical_select.options.length;c++){if(this._extended){data[c]={geographicalid:parseInt(this.geographical_select.options[c].value),geographicalname:this.geographical_select.options[c].text};}else{data[c]=parseInt(this.geographical_select.options[c].value);}}var obj={data:data,cascade:"C"};if(this._extended){return obj;}else{var data=data.length>0?dojo.toJson(obj):"";this.value=data;return data;}},_getCountAttr:function(){return this.geographical_select.options.length;},changeFilter:function(){this._geographical_select_func();},_selection_options:function(){this.button_all.set("disabled",this.geographical_list.length?false:true);this.button_single.set("disabled",this.geographical_list.selectedIndex!=-1?false:true);this.button_del_all.set("disabled",this.geographical_select.length?false:true);this.button_del_single.set("disabled",this.geographical_select.selectedIndex!=-1?false:true);},_setDisabledAttr:function(_f16){this.disabled=_f16;},_getDisabledAttr:function(){return this.disabled;},_focus:function(){this.geographical_list_select.focus();},_OnFocus:function(){this.open=true;this._toggle_cascade();},_get_filter:function(){if(this.filter_radio_restriction.get("checked")){return this.filter_radio_restriction.get("value");}else{if(this.filter_radio_town.get("checked")){return this.filter_radio_town.get("value");}else{if(this.filter_radio_county.get("checked")){return this.filter_radio_county.get("value");}else{if(this.filter_radio_region.get("checked")){return this.filter_radio_region.get("value");}else{if(this.filter_radio_nation.get("checked")){return this.filter_radio_nation.get("value");}}}}}return -1;},_show_all:function(){var data=this.geographical_list_select.get("value");if(data.length!=0){this._geographical_select_func();}},_show_no_filter:function(){var data=this.geographical_list_select.get("value");if(data.length!=0){this._geographical_select_func();}else{this._clear_selection_box();this._selection_options();}},_toggle:function(){if(this.selectonly==false){this.inherited(arguments);}},_tree_view:function(){this.geog_tree_dlg.show();}});});},"dojo/fx/easing":function(){define(["../_base/lang"],function(lang){var _f17={linear:function(n){return n;},quadIn:function(n){return Math.pow(n,2);},quadOut:function(n){return n*(n-2)*-1;},quadInOut:function(n){n=n*2;if(n<1){return Math.pow(n,2)/2;}return -1*((--n)*(n-2)-1)/2;},cubicIn:function(n){return Math.pow(n,3);},cubicOut:function(n){return Math.pow(n-1,3)+1;},cubicInOut:function(n){n=n*2;if(n<1){return Math.pow(n,3)/2;}n-=2;return (Math.pow(n,3)+2)/2;},quartIn:function(n){return Math.pow(n,4);},quartOut:function(n){return -1*(Math.pow(n-1,4)-1);},quartInOut:function(n){n=n*2;if(n<1){return Math.pow(n,4)/2;}n-=2;return -1/2*(Math.pow(n,4)-2);},quintIn:function(n){return Math.pow(n,5);},quintOut:function(n){return Math.pow(n-1,5)+1;},quintInOut:function(n){n=n*2;if(n<1){return Math.pow(n,5)/2;}n-=2;return (Math.pow(n,5)+2)/2;},sineIn:function(n){return -1*Math.cos(n*(Math.PI/2))+1;},sineOut:function(n){return Math.sin(n*(Math.PI/2));},sineInOut:function(n){return -1*(Math.cos(Math.PI*n)-1)/2;},expoIn:function(n){return (n==0)?0:Math.pow(2,10*(n-1));},expoOut:function(n){return (n==1)?1:(-1*Math.pow(2,-10*n)+1);},expoInOut:function(n){if(n==0){return 0;}if(n==1){return 1;}n=n*2;if(n<1){return Math.pow(2,10*(n-1))/2;}--n;return (-1*Math.pow(2,-10*n)+2)/2;},circIn:function(n){return -1*(Math.sqrt(1-Math.pow(n,2))-1);},circOut:function(n){n=n-1;return Math.sqrt(1-Math.pow(n,2));},circInOut:function(n){n=n*2;if(n<1){return -1/2*(Math.sqrt(1-Math.pow(n,2))-1);}n-=2;return 1/2*(Math.sqrt(1-Math.pow(n,2))+1);},backIn:function(n){var s=1.70158;return Math.pow(n,2)*((s+1)*n-s);},backOut:function(n){n=n-1;var s=1.70158;return Math.pow(n,2)*((s+1)*n+s)+1;},backInOut:function(n){var s=1.70158*1.525;n=n*2;if(n<1){return (Math.pow(n,2)*((s+1)*n-s))/2;}n-=2;return (Math.pow(n,2)*((s+1)*n+s)+2)/2;},elasticIn:function(n){if(n==0||n==1){return n;}var p=0.3;var s=p/4;n=n-1;return -1*Math.pow(2,10*n)*Math.sin((n-s)*(2*Math.PI)/p);},elasticOut:function(n){if(n==0||n==1){return n;}var p=0.3;var s=p/4;return Math.pow(2,-10*n)*Math.sin((n-s)*(2*Math.PI)/p)+1;},elasticInOut:function(n){if(n==0){return 0;}n=n*2;if(n==2){return 1;}var p=0.3*1.5;var s=p/4;if(n<1){n-=1;return -0.5*(Math.pow(2,10*n)*Math.sin((n-s)*(2*Math.PI)/p));}n-=1;return 0.5*(Math.pow(2,-10*n)*Math.sin((n-s)*(2*Math.PI)/p))+1;},bounceIn:function(n){return (1-_f17.bounceOut(1-n));},bounceOut:function(n){var s=7.5625;var p=2.75;var l;if(n<(1/p)){l=s*Math.pow(n,2);}else{if(n<(2/p)){n-=(1.5/p);l=s*Math.pow(n,2)+0.75;}else{if(n<(2.5/p)){n-=(2.25/p);l=s*Math.pow(n,2)+0.9375;}else{n-=(2.625/p);l=s*Math.pow(n,2)+0.984375;}}}return l;},bounceInOut:function(n){if(n<0.5){return _f17.bounceIn(n*2)/2;}return (_f17.bounceOut(n*2-1)/2)+0.5;}};lang.setObject("dojo.fx.easing",_f17);return _f17;});},"dojox/rpc/JsonRest":function(){define("dojox/rpc/JsonRest",["dojo","dojox","dojox/json/ref","dojox/rpc/Rest"],function(dojo,_f18){var _f19=[];var Rest=_f18.rpc.Rest;var jr;function _f1a(_f1b,_f1c,_f1d,_f1e){var _f1f=_f1c.ioArgs&&_f1c.ioArgs.xhr&&_f1c.ioArgs.xhr.getResponseHeader("Last-Modified");if(_f1f&&Rest._timeStamps){Rest._timeStamps[_f1e]=_f1f;}var _f20=_f1b._schema&&_f1b._schema.hrefProperty;if(_f20){_f18.json.ref.refAttribute=_f20;}_f1d=_f1d&&_f18.json.ref.resolveJson(_f1d,{defaultId:_f1e,index:Rest._index,timeStamps:_f1f&&Rest._timeStamps,time:_f1f,idPrefix:_f1b._store.allowNoTrailingSlash?_f1b.servicePath+"/":_f1b.servicePath.replace(/[^\/]*$/,""),idAttribute:jr.getIdAttribute(_f1b),schemas:jr.schemas,loader:jr._loader,idAsRef:_f1b.idAsRef,assignAbsoluteIds:true});_f18.json.ref.refAttribute="$ref";return _f1d;};jr=_f18.rpc.JsonRest={serviceClass:_f18.rpc.Rest,conflictDateHeader:"If-Unmodified-Since",commit:function(_f21){_f21=_f21||{};var _f22=[];var _f23={};var _f24=[];for(var i=0;i<_f19.length;i++){var _f25=_f19[i];var _f26=_f25.object;var old=_f25.old;var _f27=false;if(!(_f21.service&&(_f26||old)&&(_f26||old).__id.indexOf(_f21.service.servicePath))&&_f25.save){delete _f26.__isDirty;if(_f26){if(old){var _f28;if((_f28=_f26.__id.match(/(.*)#.*/))){_f26=Rest._index[_f28[1]];}if(!(_f26.__id in _f23)){_f23[_f26.__id]=_f26;if(_f21.incrementalUpdates&&!_f28){var _f29=(typeof _f21.incrementalUpdates=="function"?_f21.incrementalUpdates:function(){_f29={};for(var j in _f26){if(_f26.hasOwnProperty(j)){if(_f26[j]!==old[j]){_f29[j]=_f26[j];}}else{if(old.hasOwnProperty(j)){return null;}}}return _f29;})(_f26,old);}if(_f29){_f22.push({method:"post",target:_f26,content:_f29});}else{_f22.push({method:"put",target:_f26,content:_f26});}}}else{var _f2a=jr.getServiceAndId(_f26.__id).service;var _f2b=jr.getIdAttribute(_f2a);if((_f2b in _f26)&&!_f21.alwaysPostNewItems){_f22.push({method:"put",target:_f26,content:_f26});}else{_f22.push({method:"post",target:{__id:_f2a.servicePath},content:_f26});}}}else{if(old){_f22.push({method:"delete",target:old});}}_f24.push(_f25);_f19.splice(i--,1);}}dojo.connect(_f21,"onError",function(){if(_f21.revertOnError!==false){var _f2c=_f19;_f19=_f24;var _f2d=0;jr.revert();_f19=_f2c;}else{dojo.forEach(_f24,function(obj){jr.changing(obj.object,!obj.object);});}});jr.sendToServer(_f22,_f21);return _f22;},sendToServer:function(_f2e,_f2f){var _f30;var _f31=dojo.xhr;var left=_f2e.length;var i,_f32;var _f33;var _f34=this.conflictDateHeader;dojo.xhr=function(_f35,args){args.headers=args.headers||{};args.headers["Transaction"]=_f2e.length-1==i?"commit":"open";if(_f34&&_f33){args.headers[_f34]=_f33;}if(_f32){args.headers["Content-ID"]="<"+_f32+">";}return _f31.apply(dojo,arguments);};for(i=0;i<_f2e.length;i++){var _f36=_f2e[i];_f18.rpc.JsonRest._contentId=_f36.content&&_f36.content.__id;var _f37=_f36.method=="post";_f33=_f36.method=="put"&&Rest._timeStamps[_f36.content.__id];if(_f33){Rest._timeStamps[_f36.content.__id]=(new Date())+"";}_f32=_f37&&_f18.rpc.JsonRest._contentId;var _f38=jr.getServiceAndId(_f36.target.__id);var _f39=_f38.service;var dfd=_f36.deferred=_f39[_f36.method](_f38.id.replace(/#/,""),_f18.json.ref.toJson(_f36.content,false,_f39.servicePath,true));(function(_f3a,dfd,_f3b){dfd.addCallback(function(_f3c){try{var _f3d=dfd.ioArgs.xhr&&dfd.ioArgs.xhr.getResponseHeader("Location");if(_f3d){var _f3e=_f3d.match(/(^\w+:\/\/)/)&&_f3d.indexOf(_f3b.servicePath);_f3d=_f3e>0?_f3d.substring(_f3e):(_f3b.servicePath+_f3d).replace(/^(.*\/)?(\w+:\/\/)|[^\/\.]+\/\.\.\/|^.*\/(\/)/,"$2$3");_f3a.__id=_f3d;Rest._index[_f3d]=_f3a;}_f3c=_f1a(_f3b,dfd,_f3c,_f3a&&_f3a.__id);}catch(e){}if(!(--left)){if(_f2f.onComplete){_f2f.onComplete.call(_f2f.scope,_f2e);}}return _f3c;});})(_f36.content,dfd,_f39);dfd.addErrback(function(_f3f){left=-1;_f2f.onError.call(_f2f.scope,_f3f);});}dojo.xhr=_f31;},getDirtyObjects:function(){return _f19;},revert:function(_f40){for(var i=_f19.length;i>0;){i--;var _f41=_f19[i];var _f42=_f41.object;var old=_f41.old;var _f43=_f18.data._getStoreForItem(_f42||old);if(!(_f40&&(_f42||old)&&(_f42||old).__id.indexOf(_f40.servicePath))){if(_f42&&old){for(var j in old){if(old.hasOwnProperty(j)&&_f42[j]!==old[j]){if(_f43){_f43.onSet(_f42,j,_f42[j],old[j]);}_f42[j]=old[j];}}for(j in _f42){if(!old.hasOwnProperty(j)){if(_f43){_f43.onSet(_f42,j,_f42[j]);}delete _f42[j];}}}else{if(!old){if(_f43){_f43.onDelete(_f42);}}else{if(_f43){_f43.onNew(old);}}}delete (_f42||old).__isDirty;_f19.splice(i,1);}}},changing:function(_f44,_f45){if(!_f44.__id){return;}_f44.__isDirty=true;for(var i=0;i<_f19.length;i++){var _f46=_f19[i];if(_f44==_f46.object){if(_f45){_f46.object=false;if(!this._saveNotNeeded){_f46.save=true;}}return;}}var old=_f44 instanceof Array?[]:{};for(i in _f44){if(_f44.hasOwnProperty(i)){old[i]=_f44[i];}}_f19.push({object:!_f45&&_f44,old:old,save:!this._saveNotNeeded});},deleteObject:function(_f47){this.changing(_f47,true);},getConstructor:function(_f48,_f49){if(typeof _f48=="string"){var _f4a=_f48;_f48=new _f18.rpc.Rest(_f48,true);this.registerService(_f48,_f4a,_f49);}if(_f48._constructor){return _f48._constructor;}_f48._constructor=function(data){var self=this;var args=arguments;var _f4b;var _f4c;function _f4d(_f4e){if(_f4e){_f4d(_f4e["extends"]);_f4b=_f4e.properties;for(var i in _f4b){var _f4f=_f4b[i];if(_f4f&&(typeof _f4f=="object")&&("default" in _f4f)){self[i]=_f4f["default"];}}}if(_f4e&&_f4e.prototype&&_f4e.prototype.initialize){_f4c=true;_f4e.prototype.initialize.apply(self,args);}};_f4d(_f48._schema);if(!_f4c&&data&&typeof data=="object"){dojo.mixin(self,data);}var _f50=jr.getIdAttribute(_f48);Rest._index[this.__id=this.__clientId=_f48.servicePath+(this[_f50]||Math.random().toString(16).substring(2,14)+"@"+((_f18.rpc.Client&&_f18.rpc.Client.clientId)||"client"))]=this;if(_f18.json.schema&&_f4b){_f18.json.schema.mustBeValid(_f18.json.schema.validate(this,_f48._schema));}_f19.push({object:this,save:true});};return dojo.mixin(_f48._constructor,_f48._schema,{load:_f48});},fetch:function(_f51){var _f52=jr.getServiceAndId(_f51);return this.byId(_f52.service,_f52.id);},getIdAttribute:function(_f53){var _f54=_f53._schema;var _f55;if(_f54){if(!(_f55=_f54._idAttr)){for(var i in _f54.properties){if(_f54.properties[i].identity||(_f54.properties[i].link=="self")){_f54._idAttr=_f55=i;}}}}return _f55||"id";},getServiceAndId:function(_f56){var _f57="";for(var _f58 in jr.services){if((_f56.substring(0,_f58.length)==_f58)&&(_f58.length>=_f57.length)){_f57=_f58;}}if(_f57){return {service:jr.services[_f57],id:_f56.substring(_f57.length)};}var _f59=_f56.match(/^(.*\/)([^\/]*)$/);return {service:new jr.serviceClass(_f59[1],true),id:_f59[2]};},services:{},schemas:{},registerService:function(_f5a,_f5b,_f5c){_f5b=_f5a.servicePath=_f5b||_f5a.servicePath;_f5a._schema=jr.schemas[_f5b]=_f5c||_f5a._schema||{};jr.services[_f5b]=_f5a;},byId:function(_f5d,id){var _f5e,_f5f=Rest._index[(_f5d.servicePath||"")+id];if(_f5f&&!_f5f._loadObject){_f5e=new dojo.Deferred();_f5e.callback(_f5f);return _f5e;}return this.query(_f5d,id);},query:function(_f60,id,args){var _f61=_f60(id,args);_f61.addCallback(function(_f62){if(_f62.nodeType&&_f62.cloneNode){return _f62;}return _f1a(_f60,_f61,_f62,typeof id!="string"||(args&&(args.start||args.count))?undefined:id);});return _f61;},_loader:function(_f63){var _f64=jr.getServiceAndId(this.__id);var self=this;jr.query(_f64.service,_f64.id).addBoth(function(_f65){if(_f65==self){delete _f65.$ref;delete _f65._loadObject;}else{self._loadObject=function(_f66){_f66(_f65);};}_f63(_f65);});},isDirty:function(item,_f67){if(!item){if(_f67){return dojo.some(_f19,function(_f68){return _f18.data._getStoreForItem(_f68.object||_f68.old)==_f67;});}return !!_f19.length;}return item.__isDirty;}};return _f18.rpc.JsonRest;});},"prcommon2/search/Frequency":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../search/templates/Frequency.html","prcommon2/search/std_search","dojo/_base/lang","dojo/dom-attr","dojo/dom-class","dojo/dom-style","dojo/json","dojo/data/ItemFileReadStore","prcommon2/search/std_search","dijit/form/FilteringSelect","prcommon2/search/SearchCount"],function(_f69,_f6a,_f6b,_f6c,lang,_f6d,_f6e,_f6f,json,_f70){return _f69("prcommon2.search.Frequency",[_f6a,_f6c],{templateString:_f6b,name:"",value:"",title:"",search:"",size:"9",testmode:false,constructor:function(){this.store=new _f70({url:"/common/lookups?searchtype=frequencies&ignoreoption=1"});},postCreate:function(){this.select.set("store",this.store);this.select.set("value",-1);},_changed:function(){this._get_selector(this._get_data());},clear:function(){this.select.set("value",-1);this._get_selector("");this.inherited(arguments);},_setValueAttr:function(_f71){var open=false;this.clear();this._get_selector(this._getValueAttr());},_getValueAttr:function(){return this._get_data();},_get_data:function(){var data=parseInt(this.select.get("value"));if(this._extended){return {data:data};}else{this.value=(data!=null&&data!=-1)?json.stringify(data):"";return this.value;}},_focus:function(){this.select.focus();},_capture_extended_content:function(_f72){var tmp=this.inherited(arguments);tmp.partial=0;return tmp;}});});},"dojox/charting/axis2d/Invisible":function(){define(["dojo/_base/lang","dojo/_base/declare","./Base","../scaler/linear","dojox/lang/utils"],function(lang,_f73,Base,lin,du){return _f73("dojox.charting.axis2d.Invisible",Base,{defaultParams:{vertical:false,fixUpper:"none",fixLower:"none",natural:false,leftBottom:true,includeZero:false,fixed:true},optionalParams:{min:0,max:1,from:0,to:1,majorTickStep:4,minorTickStep:2,microTickStep:1},constructor:function(_f74,_f75){this.opt=lang.clone(this.defaultParams);du.updateWithObject(this.opt,_f75);du.updateWithPattern(this.opt,_f75,this.optionalParams);},dependOnData:function(){return !("min" in this.opt)||!("max" in this.opt);},clear:function(){delete this.scaler;delete this.ticks;this.dirty=true;return this;},initialized:function(){return "scaler" in this&&!(this.dirty&&this.dependOnData());},setWindow:function(_f76,_f77){this.scale=_f76;this.offset=_f77;return this.clear();},getWindowScale:function(){return "scale" in this?this.scale:1;},getWindowOffset:function(){return "offset" in this?this.offset:0;},calculate:function(min,max,span,_f78){if(this.initialized()){return this;}var o=this.opt;this.labels=o.labels;this.scaler=(_f78||lin).buildScaler(min,max,span,o);var tsb=this.scaler.bounds;if("scale" in this){o.from=tsb.lower+this.offset;o.to=(tsb.upper-tsb.lower)/this.scale+o.from;if(!isFinite(o.from)||isNaN(o.from)||!isFinite(o.to)||isNaN(o.to)||o.to-o.from>=tsb.upper-tsb.lower){delete o.from;delete o.to;delete this.scale;delete this.offset;}else{if(o.from<tsb.lower){o.to+=tsb.lower-o.from;o.from=tsb.lower;}else{if(o.to>tsb.upper){o.from+=tsb.upper-o.to;o.to=tsb.upper;}}this.offset=o.from-tsb.lower;}this.scaler=(_f78||lin).buildScaler(min,max,span,o);tsb=this.scaler.bounds;if(this.scale==1&&this.offset==0){delete this.scale;delete this.offset;}}return this;},getScaler:function(){return this.scaler;},getTicks:function(){return this.ticks;}});});},"dijit/dijit":function(){define(["./main","./_base","dojo/parser","./_Widget","./_TemplatedMixin","./_Container","./layout/_LayoutWidget","./form/_FormWidget","./form/_FormValueWidget"],function(_f79){return _f79;});},"dijit/MenuItem":function(){define(["dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/_base/kernel","dojo/sniff","dojo/_base/lang","./_Widget","./_TemplatedMixin","./_Contained","./_CssStateMixin","dojo/text!./templates/MenuItem.html"],function(_f7a,dom,_f7b,_f7c,_f7d,has,lang,_f7e,_f7f,_f80,_f81,_f82){var _f83=_f7a("dijit.MenuItem"+(has("dojo-bidi")?"_NoBidi":""),[_f7e,_f7f,_f80,_f81],{templateString:_f82,baseClass:"dijitMenuItem",label:"",_setLabelAttr:function(val){this._set("label",val);var _f84="";var text;var ndx=val.search(/{\S}/);if(ndx>=0){_f84=val.charAt(ndx+1);var _f85=val.substr(0,ndx);var _f86=val.substr(ndx+3);text=_f85+_f84+_f86;val=_f85+"<span class=\"dijitMenuItemShortcutKey\">"+_f84+"</span>"+_f86;}else{text=val;}this.domNode.setAttribute("aria-label",text+" "+this.accelKey);this.containerNode.innerHTML=val;this._set("shortcutKey",_f84);},iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:false,_fillContent:function(_f87){if(_f87&&!("label" in this.params)){this._set("label",_f87.innerHTML);}},buildRendering:function(){this.inherited(arguments);var _f88=this.id+"_text";_f7b.set(this.containerNode,"id",_f88);if(this.accelKeyNode){_f7b.set(this.accelKeyNode,"id",this.id+"_accel");}dom.setSelectable(this.domNode,false);},onClick:function(){},focus:function(){try{if(has("ie")==8){this.containerNode.focus();}this.focusNode.focus();}catch(e){}},_setSelected:function(_f89){_f7c.toggle(this.domNode,"dijitMenuItemSelected",_f89);},setLabel:function(_f8a){_f7d.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_f8a);},setDisabled:function(_f8b){_f7d.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",_f8b);},_setDisabledAttr:function(_f8c){this.focusNode.setAttribute("aria-disabled",_f8c?"true":"false");this._set("disabled",_f8c);},_setAccelKeyAttr:function(_f8d){if(this.accelKeyNode){this.accelKeyNode.style.display=_f8d?"":"none";this.accelKeyNode.innerHTML=_f8d;_f7b.set(this.containerNode,"colSpan",_f8d?"1":"2");}this._set("accelKey",_f8d);}});if(has("dojo-bidi")){_f83=_f7a("dijit.MenuItem",_f83,{_setLabelAttr:function(val){this.inherited(arguments);if(this.textDir==="auto"){this.applyTextDir(this.textDirNode);}}});}return _f83;});},"prcommon2/date/daterange":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../date/templates/daterange.html","ttl/utilities2","dojo/json","dojo/_base/lang","dojo/dom-attr","dojo/dom-class","dojo/data/ItemFileReadStore","dijit/form/TextBox","dijit/form/DateTextBox","dijit/form/CheckBox","dijit/form/Select"],function(_f8e,_f8f,_f90,_f91,json,lan,_f92,_f93,_f94){return _f8e("prcommon2.date.daterange",[_f8f],{name:"",value:"",required:false,templateString:_f90,constructor:function(){this._options=null;this._start_date=new Date();this._end_date=new Date();},postCreate:function(){this.inherited(arguments);if(this.no_select==true){this._options={identifier:"id",label:"name",items:[{id:0,name:"None"},{id:1,name:"Before"},{id:2,name:"After"},{id:3,name:"Between"}]};this.option.set("store",new _f94({data:this._options}));this.option.set("value",0);}else{this._options={identifier:"id",label:"name",items:[{id:1,name:"Before"},{id:2,name:"After"},{id:3,name:"Between"}]};this.option.set("store",new _f94({data:this._options}));this.option.set("value",1);if(this.default_value==0){this.default_value=1;}}this.from_date_box.set("value",new Date());this.to_date_box.set("value",new Date());this.option.set("value",this.default_value);},_option_changed:function(){switch(this.option.get("value")){default:case 0:_f93.add(this.from_date_box.domNode,"prmaxhidden");_f93.add(this.to_box_label,"prmaxhidden");_f93.add(this.to_date_box.domNode,"prmaxhidden");break;case 1:case 2:_f93.remove(this.from_date_box.domNode,"prmaxhidden");_f93.add(this.to_box_label,"prmaxhidden");_f93.add(this.to_date_box.domNode,"prmaxhidden");break;case 3:_f93.remove(this.from_date_box.domNode,"prmaxhidden");_f93.remove(this.to_box_label,"prmaxhidden");_f93.remove(this.to_date_box.domNode,"prmaxhidden");break;}},_date_changed:function(){if(this.option.get("value")=="3"){}},isValid:function(){return true;},_getValueAttr:function(){try{var tmp=parseInt(this.option.get("value"));var _f95=0;for(var key in this._options.items){if(this._options.items[key].id[0]==tmp){_f95=this._options.items[key].name[0];break;}}return json.stringify({option:_f95,from_date:_f91.to_json_date(this.from_date_box.get("value")),to_date:_f91.to_json_date(this.to_date_box.get("value"))});}catch(e){return "";}},_setValueAttr:function(_f96){if(_f96==null){this.clear();}},clear:function(){this.option.set("value",this.default_value);this.from_date_box.set("value",this._start_date);this.to_date_box.set("value",this._end_date);},set_range_to_week:function(){this._end_date=new Date();this._start_date.setDate(this._end_date.getDate()-6);this.from_date_box.set("value",this._start_date);this.to_date_box.set("value",this._end_date);},set_range_to_last_30_days:function(){this._end_date=new Date();this.option.set("value",3);this.default_value=3;this._start_date.setDate(this._end_date.getDate()-30);this.from_date_box.set("value",this._start_date);this.to_date_box.set("value",this._end_date);},get_physical_values:function(){return {option:this.option.get("value"),from_date:this.from_date_box.get("value"),to_date:this.to_date_box.get("value")};},_setIntvalueAttr:function(_f97){this.option.set("value",_f97.option);this.from_date_box.set("value",_f97.from_date);this.to_date_box.set("value",_f97.to_date);},_getFilterTextAttr:function(){var _f98="";var tmp=parseInt(this.option.get("value"));var _f99=0;for(var key in this._options.items){if(this._options.items[key].id[0]==tmp){_f99=this._options.items[key].name[0];break;}}switch(this.option.get("value")){default:case 0:break;case 1:case 2:_f98=_f99+" - "+this.from_date_box.get("value").toDateString();break;case 3:_f98=_f99+" - "+this.from_date_box.get("value").toDateString()+" to "+this.to_date_box.get("value").toDateString();break;}return _f98;}});});},"dojox/charting/axis2d/common":function(){define(["dojo/_base/lang","dojo/_base/window","dojo/dom-geometry","dojox/gfx","dojo/has"],function(lang,win,_f9a,g,has){var _f9b=lang.getObject("dojox.charting.axis2d.common",true);var _f9c=function(s){s.marginLeft="0px";s.marginTop="0px";s.marginRight="0px";s.marginBottom="0px";s.paddingLeft="0px";s.paddingTop="0px";s.paddingRight="0px";s.paddingBottom="0px";s.borderLeftWidth="0px";s.borderTopWidth="0px";s.borderRightWidth="0px";s.borderBottomWidth="0px";};var _f9d=function(n){if(n["getBoundingClientRect"]){var bcr=n.getBoundingClientRect();return bcr.width||(bcr.right-bcr.left);}else{return _f9a.getMarginBox(n).w;}};return lang.mixin(_f9b,{createText:{gfx:function(_f9e,_f9f,x,y,_fa0,text,font,_fa1){return _f9f.createText({x:x,y:y,text:text,align:_fa0}).setFont(font).setFill(_fa1);},html:function(_fa2,_fa3,x,y,_fa4,text,font,_fa5,_fa6){var p=win.doc.createElement("div"),s=p.style,_fa7;if(_fa2.getTextDir){p.dir=_fa2.getTextDir(text);}_f9c(s);s.font=font;p.innerHTML=String(text).replace(/\s/g,"&nbsp;");s.color=_fa5;s.position="absolute";s.left="-10000px";win.body().appendChild(p);var size=g.normalizedLength(g.splitFontString(font).size);if(!_fa6){_fa7=_f9d(p);}if(p.dir=="rtl"){x+=_fa6?_fa6:_fa7;}win.body().removeChild(p);s.position="relative";if(_fa6){s.width=_fa6+"px";switch(_fa4){case "middle":s.textAlign="center";s.left=(x-_fa6/2)+"px";break;case "end":s.textAlign="right";s.left=(x-_fa6)+"px";break;default:s.left=x+"px";s.textAlign="left";break;}}else{switch(_fa4){case "middle":s.left=Math.floor(x-_fa7/2)+"px";break;case "end":s.left=Math.floor(x-_fa7)+"px";break;default:s.left=Math.floor(x)+"px";break;}}s.top=Math.floor(y-size)+"px";s.whiteSpace="nowrap";var wrap=win.doc.createElement("div"),w=wrap.style;_f9c(w);w.width="0px";w.height="0px";wrap.appendChild(p);_fa2.node.insertBefore(wrap,_fa2.node.firstChild);if(has("dojo-bidi")){_fa2.htmlElementsRegistry.push([wrap,x,y,_fa4,text,font,_fa5]);}return wrap;}}});});},"prcommon2/clippings/charts/lineschart":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../charts/templates/lineschart.html","dijit/layout/BorderContainer","dojox/charting/Chart","dojox/charting/themes/Claro","dojox/charting/themes/Tom","dojox/charting/themes/PrimaryColors","dojox/charting/plot2d/Lines","dojo/store/Observable","dojo/store/Memory","dojox/charting/action2d/Tooltip","dojox/charting/action2d/MoveSlice","dojox/charting/action2d/Magnify","dojox/charting/plot2d/Markers","dojox/charting/widget/SelectableLegend","dojox/charting/axis2d/Default","dojo/request","ttl/utilities2","dojo/_base/lang","dojo/topic","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","prcommon2/clippings/filter","prcommon2/reports/ReportBuilder","prcommon2/clippings/charts/preferences",],function(_fa8,_fa9,_faa,_fab,_fac,_fad,Tom,_fae,_faf,_fb0,_fb1,_fb2,_fb3,_fb4,_fb5,_fb6,_fb7,_fb8,_fb9,lang,_fba,_fbb,_fbc,_fbd){return _fa8("prcommon2.clippings.charts.lineschart",[_fa9,_fab],{templateString:_faa,gutters:false,back_colour:"black",fore_color:"lightblue",constructor:function(){this._linesChart=null;this._loaded=false;this._show_call_back=lang.hitch(this,this._show_call);this._error_call_back=lang.hitch(this,this._error_call);this._chart_event_call_back=lang.hitch(this,this._chart_event_call);this._complete_call_back=lang.hitch(this,this._complete_call);},postCreate:function(){this.inherited(arguments);this.filter_view.set("Updateevent",lang.hitch(this,this.refesh_view));},startup:function(){this.inherited(arguments);this.render_chart();},_create_lines:function(data){this._linesChart=new _fac(this.chart_node,{title:data.charttitle,titlePos:"top",titleGap:25,titleFont:"normal normal normal 20pt Arial",titleFontColor:"black"});this._linesChart.setTheme(_fae);this._linesChart.addPlot("default",{type:_faf,markers:true});this._linesChart.connectToPlot("default",this._chart_event_call_back);var _fbe=[];for(var i=0;i<data.dates.length;i++){_fbe.push({text:data.dates[i].label,value:data.dates[i].value});}this._linesChart.addAxis("x",{labels:_fbe,rotation:-90,minorTick:{stroke:"black",length:5,width:3},majorTick:{color:"red",length:10,width:3},labelSizeChange:true});var max=data.maxvalue+1;this._linesChart.addAxis("y",{min:0,max:max,vertical:true,fixLower:"major",fixUpper:"major",minorTick:{stroke:"black",length:5,width:3},majorTick:{color:"red",length:10,width:3}});for(var key in data.data){this._linesChart.addSeries(key,data.data[key],{stroke:{width:1}});}var _fbf=new _fb2(this._linesChart,"default");var _fc0=new _fb3(this._linesChart,"default");var _fc1=new _fb4(this._linesChart,"default",{scale:4});this._linesChart.render();this._leg=new _fb6({chart:this._linesChart,horizontal:false},this.legend_node);_fbc.add(this.chart_node_loading_no_data,"prmaxhidden");_fbc.add(this.chart_node_loading,"prmaxhidden");_fbc.add(this.chart_node_no_data,"prmaxhidden");},refesh_view:function(){this.render_chart();try{this._leg.destroy();delete this._leg;this._linesChart.destroy();delete this._linesChart;}catch(e){}_fbc.add(this.report_legend_view,"prmaxhidden");_fbc.remove(this.chart_node_loading_no_data,"prmaxhidden");_fbc.remove(this.chart_node_loading,"prmaxhidden");this.legend_node=_fbd.place("<div data-dojo-attach-point=\"legend_node\" style=\"height:400px\"></div>",this.legend_node_outer,"first");},_refesh_chart:function(data){this._create_lines(data);},render_chart:function(){var _fc2={charttype:"lines"};lang.mixin(_fc2,lang.mixin(this.filter_view.get("filter")));_fb8.post("/clippings/charting/get_chart_data",_fb9.make_params({data:_fc2})).then(this._show_call_back,this._error_call_back);},_show_call:function(_fc3){if(_fc3.success=="OK"){_fbc.remove(this.report_legend_view,"prmaxhidden");if(this._linesChart==null){this._create_lines(_fc3.data);}else{this._refesh_chart(_fc3.data);}}else{if(_fc3.success=="FA"){_fbc.add(this.report_legend_view,"prmaxhidden");_fbc.add(this.chart_node_loading,"prmaxhidden");_fbc.remove(this.chart_node_no_data,"prmaxhidden");}}this.filter_view.update_complete();},_error_call:function(){},_chart_event_call:function(evt){if(evt.type=="onclick"){var _fc4=this.filter_view._get_filters(false,true);_fc4.clippingstypedescription=evt.run.name;_fc4.daterestriction=evt.run.data[evt.index].labelx;_fc4.clippingstypeid=evt.run.data[evt.index].clippingstypeid;_fba.publish("/clipping/refresh_details",_fc4);_fba.publish("/clipping/change_view","clippings_view");}},_preferences:function(){var _fc5=this.filter_view._get_filters(false,true);var _fc6={};_fc6["reportoutputtypeid"]=0;_fc6["reporttemplateid"]=26;_fc6["drange"]=_fc5.drange;_fc6["tones"]=_fc5.tones;_fc6["clientid"]=_fc5.clientid;_fc6["issueid"]=_fc5.issueid;var _fc7=[];for(var i=0;i<=this._leg._cbs.length-1;i++){if(this._leg._cbs[i].checked){_fc7.push(this._leg.legends[i].innerText);}}this.preferences_ctrl._load(this.preferences_dlg,_fc6,_fc7);this.preferences_dlg.show();},});});},"dojox/gfx/fx":function(){define(["dojo/_base/lang","./_base","./matrix","dojo/_base/Color","dojo/_base/array","dojo/_base/fx","dojo/_base/connect","dojo/sniff"],function(lang,g,m,_fc8,arr,fx,Hub,has){var fxg=g.fx={};function _fc9(_fca,end){this.start=_fca,this.end=end;};_fc9.prototype.getValue=function(r){return (this.end-this.start)*r+this.start;};function _fcb(_fcc,end,_fcd){this.start=_fcc,this.end=end;this.units=_fcd;};_fcb.prototype.getValue=function(r){return (this.end-this.start)*r+this.start+this.units;};function _fce(_fcf,end){this.start=_fcf,this.end=end;this.temp=new _fc8();};_fce.prototype.getValue=function(r){return _fc8.blendColors(this.start,this.end,r,this.temp);};function _fd0(_fd1){this.values=_fd1;this.length=_fd1.length;};_fd0.prototype.getValue=function(r){return this.values[Math.min(Math.floor(r*this.length),this.length-1)];};function _fd2(_fd3,def){this.values=_fd3;this.def=def?def:{};};_fd2.prototype.getValue=function(r){var ret=lang.clone(this.def);for(var i in this.values){ret[i]=this.values[i].getValue(r);}return ret;};function _fd4(_fd5,_fd6){this.stack=_fd5;this.original=_fd6;};_fd4.prototype.getValue=function(r){var ret=[];arr.forEach(this.stack,function(t){if(t instanceof m.Matrix2D){ret.push(t);return;}if(t.name=="original"&&this.original){ret.push(this.original);return;}if(t.name=="matrix"){if((t.start instanceof m.Matrix2D)&&(t.end instanceof m.Matrix2D)){var _fd7=new m.Matrix2D();for(var p in t.start){_fd7[p]=(t.end[p]-t.start[p])*r+t.start[p];}ret.push(_fd7);}return;}if(!(t.name in m)){return;}var f=m[t.name];if(typeof f!="function"){ret.push(f);return;}var val=arr.map(t.start,function(v,i){return (t.end[i]-v)*r+v;}),_fd8=f.apply(m,val);if(_fd8 instanceof m.Matrix2D){ret.push(_fd8);}},this);return ret;};var _fd9=new _fc8(0,0,0,0);function _fda(prop,obj,name,def){if(prop.values){return new _fd0(prop.values);}var _fdb,_fdc,end;if(prop.start){_fdc=g.normalizeColor(prop.start);}else{_fdc=_fdb=obj?(name?obj[name]:obj):def;}if(prop.end){end=g.normalizeColor(prop.end);}else{if(!_fdb){_fdb=obj?(name?obj[name]:obj):def;}end=_fdb;}return new _fce(_fdc,end);};function _fdd(prop,obj,name,def){if(prop.values){return new _fd0(prop.values);}var _fde,_fdf,end;if(prop.start){_fdf=prop.start;}else{_fdf=_fde=obj?obj[name]:def;}if(prop.end){end=prop.end;}else{if(typeof _fde!="number"){_fde=obj?obj[name]:def;}end=_fde;}return new _fc9(_fdf,end);};fxg.animateStroke=function(args){if(!args.easing){args.easing=fx._defaultEasing;}var anim=new fx.Animation(args),_fe0=args.shape,_fe1;Hub.connect(anim,"beforeBegin",anim,function(){_fe1=_fe0.getStroke();var prop=args.color,_fe2={},_fe3,_fe4,end;if(prop){_fe2.color=_fda(prop,_fe1,"color",_fd9);}prop=args.style;if(prop&&prop.values){_fe2.style=new _fd0(prop.values);}prop=args.width;if(prop){_fe2.width=_fdd(prop,_fe1,"width",1);}prop=args.cap;if(prop&&prop.values){_fe2.cap=new _fd0(prop.values);}prop=args.join;if(prop){if(prop.values){_fe2.join=new _fd0(prop.values);}else{_fe4=prop.start?prop.start:(_fe1&&_fe1.join||0);end=prop.end?prop.end:(_fe1&&_fe1.join||0);if(typeof _fe4=="number"&&typeof end=="number"){_fe2.join=new _fc9(_fe4,end);}}}this.curve=new _fd2(_fe2,_fe1);});Hub.connect(anim,"onAnimate",_fe0,"setStroke");return anim;};fxg.animateFill=function(args){if(!args.easing){args.easing=fx._defaultEasing;}var anim=new fx.Animation(args),_fe5=args.shape,fill;Hub.connect(anim,"beforeBegin",anim,function(){fill=_fe5.getFill();var prop=args.color,_fe6={};if(prop){this.curve=_fda(prop,fill,"",_fd9);}});Hub.connect(anim,"onAnimate",_fe5,"setFill");return anim;};fxg.animateFont=function(args){if(!args.easing){args.easing=fx._defaultEasing;}var anim=new fx.Animation(args),_fe7=args.shape,font;Hub.connect(anim,"beforeBegin",anim,function(){font=_fe7.getFont();var prop=args.style,_fe8={},_fe9,_fea,end;if(prop&&prop.values){_fe8.style=new _fd0(prop.values);}prop=args.variant;if(prop&&prop.values){_fe8.variant=new _fd0(prop.values);}prop=args.weight;if(prop&&prop.values){_fe8.weight=new _fd0(prop.values);}prop=args.family;if(prop&&prop.values){_fe8.family=new _fd0(prop.values);}prop=args.size;if(prop&&prop.units){_fea=parseFloat(prop.start?prop.start:(_fe7.font&&_fe7.font.size||"0"));end=parseFloat(prop.end?prop.end:(_fe7.font&&_fe7.font.size||"0"));_fe8.size=new _fcb(_fea,end,prop.units);}this.curve=new _fd2(_fe8,font);});Hub.connect(anim,"onAnimate",_fe7,"setFont");return anim;};fxg.animateTransform=function(args){if(!args.easing){args.easing=fx._defaultEasing;}var anim=new fx.Animation(args),_feb=args.shape,_fec;Hub.connect(anim,"beforeBegin",anim,function(){_fec=_feb.getTransform();this.curve=new _fd4(args.transform,_fec);});Hub.connect(anim,"onAnimate",_feb,"setTransform");if(g.renderer==="svg"&&(has("ie")>=9||has("ff"))){var _fed=[Hub.connect(anim,"onBegin",anim,function(){var _fee=_feb.getParent();while(_fee&&_fee.getParent){_fee=_fee.getParent();}if(_fee){_feb.__svgContainer=_fee.rawNode.parentNode;_feb.__svgRoot=_fee.rawNode;if(_feb.__svgRoot&&_feb.__svgRoot.getAttribute){_feb.__svgWidth=parseInt(_feb.__svgRoot.getAttribute("width"),10);if(isNaN(_feb.__svgWidth)){delete _feb.__svgWidth;}}}}),Hub.connect(anim,"onAnimate",anim,function(){try{if(_feb.__svgContainer){var ov=_feb.__svgContainer.style.visibility;_feb.__svgContainer.style.visibility="visible";var _fef=_feb.__svgContainer.offsetHeight;_feb.__svgContainer.style.visibility=ov;var _ff0=_feb.__svgWidth;if(!isNaN(_ff0)){try{_feb.__svgRoot.setAttribute("width",_ff0-0.000005);_feb.__svgRoot.setAttribute("width",_ff0);}catch(ignore){}}}}catch(e){}}),Hub.connect(anim,"onEnd",anim,function(){arr.forEach(_fed,Hub.disconnect);if(_feb.__svgContainer){var sn=_feb.__svgContainer;if(sn.getAttribute("__gotVis")==null){sn.setAttribute("__gotVis",true);var ov=_feb.__svgContainer.style.visibility;var root=_feb.__svgRoot;var _ff1=_feb.__svgWidth;sn.style.visibility="visible";setTimeout(function(){try{sn.style.visibility=ov;sn.removeAttribute("__gotVis");sn=null;try{if(!isNaN(_ff1)){root.setAttribute("width",_ff1-0.000005);root.setAttribute("width",_ff1);}}catch(ignore){}}catch(e){}},100);}}delete _feb.__svgContainer;delete _feb.__svgRoot;delete _feb.__svgWidth;})];}return anim;};return fxg;});},"dijit/DropDownMenu":function(){define(["dojo/_base/declare","dojo/keys","dojo/text!./templates/Menu.html","./_MenuBase"],function(_ff2,keys,_ff3,_ff4){return _ff2("dijit.DropDownMenu",_ff4,{templateString:_ff3,baseClass:"dijitMenu",_onUpArrow:function(){this.focusPrev();},_onDownArrow:function(){this.focusNext();},_onRightArrow:function(evt){this._moveToPopup(evt);evt.stopPropagation();evt.preventDefault();},_onLeftArrow:function(evt){if(this.parentMenu){if(this.parentMenu._isMenuBar){this.parentMenu.focusPrev();}else{this.onCancel(false);}}else{evt.stopPropagation();evt.preventDefault();}}});});},"dojox/charting/widget/Legend":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojox/gfx","dojo/_base/array","dojo/has","dojo/has!dojo-bidi?../bidi/widget/Legend","dojox/lang/functional","dojo/dom","dojo/dom-construct","dojo/dom-class","dijit/registry"],function(_ff5,_ff6,gfx,arr,has,_ff7,df,dom,_ff8,_ff9,_ffa){var _ffb=_ff5(has("dojo-bidi")?"dojox.charting.widget.NonBidiLegend":"dojox.charting.widget.Legend",_ff6,{chartRef:"",horizontal:true,swatchSize:18,legendBody:null,postCreate:function(){if(!this.chart&&this.chartRef){this.chart=_ffa.byId(this.chartRef)||_ffa.byNode(dom.byId(this.chartRef));if(!this.chart){}}this.chart=this.chart.chart||this.chart;this.refresh();},buildRendering:function(){this.domNode=_ff8.create("table",{role:"group","aria-label":"chart legend","class":"dojoxLegendNode"});this.legendBody=_ff8.create("tbody",null,this.domNode);this.inherited(arguments);},destroy:function(){if(this._surfaces){arr.forEach(this._surfaces,function(_ffc){_ffc.destroy();});}this.inherited(arguments);},refresh:function(){if(this._surfaces){arr.forEach(this._surfaces,function(_ffd){_ffd.destroy();});}this._surfaces=[];while(this.legendBody.lastChild){_ff8.destroy(this.legendBody.lastChild);}if(this.horizontal){_ff9.add(this.domNode,"dojoxLegendHorizontal");this._tr=_ff8.create("tr",null,this.legendBody);this._inrow=0;}var s=this.series||this.chart.series;if(s.length==0){return;}if(s[0].chart.stack[0].declaredClass=="dojox.charting.plot2d.Pie"){var t=s[0].chart.stack[0];if(typeof t.run.data[0]=="number"){var _ffe=df.map(t.run.data,"Math.max(x, 0)");var _fff=df.map(_ffe,"/this",df.foldl(_ffe,"+",0));arr.forEach(_fff,function(x,i){this._addLabel(t.dyn[i],t._getLabel(x*100)+"%");},this);}else{arr.forEach(t.run.data,function(x,i){this._addLabel(t.dyn[i],x.legend||x.text||x.y);},this);}}else{arr.forEach(s,function(x){this._addLabel(x.dyn,x.legend||x.name);},this);}},_addLabel:function(dyn,label){var _1000=_ff8.create("td"),icon=_ff8.create("div",null,_1000),text=_ff8.create("label",null,_1000),div=_ff8.create("div",{style:{"width":this.swatchSize+"px","height":this.swatchSize+"px","float":"left"}},icon);_ff9.add(icon,"dojoxLegendIcon dijitInline");_ff9.add(text,"dojoxLegendText");if(this._tr){this._tr.appendChild(_1000);if(++this._inrow===this.horizontal){this._tr=_ff8.create("tr",null,this.legendBody);this._inrow=0;}}else{var tr=_ff8.create("tr",null,this.legendBody);tr.appendChild(_1000);}this._makeIcon(div,dyn);text.innerHTML=String(label);if(has("dojo-bidi")){text.dir=this.getTextDir(label,text.dir);}},_makeIcon:function(div,dyn){var mb={h:this.swatchSize,w:this.swatchSize};var _1001=gfx.createSurface(div,mb.w,mb.h);this._surfaces.push(_1001);if(dyn.fill){_1001.createRect({x:2,y:2,width:mb.w-4,height:mb.h-4}).setFill(dyn.fill).setStroke(dyn.stroke);}else{if(dyn.stroke||dyn.marker){var line={x1:0,y1:mb.h/2,x2:mb.w,y2:mb.h/2};if(dyn.stroke){_1001.createLine(line).setStroke(dyn.stroke);}if(dyn.marker){var c={x:mb.w/2,y:mb.h/2};_1001.createPath({path:"M"+c.x+" "+c.y+" "+dyn.marker}).setFill(dyn.markerFill).setStroke(dyn.markerStroke);}}else{_1001.createRect({x:2,y:2,width:mb.w-4,height:mb.h-4}).setStroke("black");_1001.createLine({x1:2,y1:2,x2:mb.w-2,y2:mb.h-2}).setStroke("black");_1001.createLine({x1:2,y1:mb.h-2,x2:mb.w-2,y2:2}).setStroke("black");}}}});return has("dojo-bidi")?_ff5("dojox.charting.widget.Legend",[_ffb,_ff7]):_ffb;});},"ttl/store/JsonRest":function(){define(["dojo/_base/xhr","dojo/json","dojo/_base/declare","dojo/store/util/QueryResults","dojo/request","ttl/store/TtlQueryResults"],function(xhr,JSON,_1002,_1003,_1004,_1005){return _1002("ttl.store.JsonRest",null,{constructor:function(_1006){_1002.safeMixin(this,_1006);},target:"",idProperty:"id",get:function(id,_1007){},accepts:"application/javascript, application/json",getIdentity:function(_1008){return _1008[this.idProperty];},put:function(_1009,_100a){return _1009;},add:function(_100b,_100c){_100c=_100c||{};_100c.overwrite=false;return this.put(_100b,_100c);},remove:function(id){},query:function(query,_100d){if(query["data_mode"]==="EMPTYGRID"){return _1003("");}else{var _100e={};_100d=_100d||{};if(_100d.start>=0||_100d.count>=0){_100e.Range="items="+(_100d.start||"0")+"-"+(("count" in _100d&&_100d.count!=Infinity)?(_100d.count+(_100d.start||0)-1):"");}if(query&&typeof query=="object"){query=xhr.objectToQuery(query);if(this.target.indexOf("?")!=-1){query="&"+query;}else{query=query?"?"+query:"";}}if(_100d&&_100d.sort){var _100f=this.sortParam;query+=(query?"&":"?")+(_100f?_100f+"=":"sort=");for(var i=0;i<_100d.sort.length;i++){var sort=_100d.sort[i];query+=(i>0?",":"")+(sort.descending?"-":"+")+encodeURIComponent(sort.attribute);}}var _1010=xhr("GET",{url:this.target+(query||""),handleAs:"json",headers:_100e,preventCache:true,timeout:100000});_1010.total=_1010.then(function(){var range=_1010.ioArgs.xhr.getResponseHeader("Content-Range");return range&&(range=range.match(/\/(.*)/))&&+range[1];});return _1003(_1010);}}});});},"dijit/_base/typematic":function(){define(["../typematic"],function(){});},"dojo/store/Memory":function(){define(["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(_1011,_1012,_1013){var base=null;return _1011("dojo.store.Memory",base,{constructor:function(_1014){for(var i in _1014){this[i]=_1014[i];}this.setData(this.data||[]);},data:null,idProperty:"id",index:null,queryEngine:_1013,get:function(id){return this.data[this.index[id]];},getIdentity:function(_1015){return _1015[this.idProperty];},put:function(_1016,_1017){var data=this.data,index=this.index,_1018=this.idProperty;var id=_1016[_1018]=(_1017&&"id" in _1017)?_1017.id:_1018 in _1016?_1016[_1018]:Math.random();if(id in index){if(_1017&&_1017.overwrite===false){throw new Error("Object already exists");}data[index[id]]=_1016;}else{index[id]=data.push(_1016)-1;}return id;},add:function(_1019,_101a){(_101a=_101a||{}).overwrite=false;return this.put(_1019,_101a);},remove:function(id){var index=this.index;var data=this.data;if(id in index){data.splice(index[id],1);this.setData(data);return true;}},query:function(query,_101b){return _1012(this.queryEngine(query,_101b)(this.data));},setData:function(data){if(data.items){this.idProperty=data.identifier||this.idProperty;data=this.data=data.items;}else{this.data=data;}this.index={};for(var i=0,l=data.length;i<l;i++){this.index[data[i][this.idProperty]]=i;}}});});},"dojox/data/JsonRestStore":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/_base/connect","dojox/rpc/Rest","dojox/rpc/JsonRest","dojox/json/schema","dojox/data/ServiceStore"],function(lang,_101c,_101d,_101e,_101f,_1020,_1021){var rpc=lang.getObject("dojox.rpc",true);var _1022=_101c("dojox.data.JsonRestStore",_1021,{constructor:function(_1023){_101d.connect(_101e._index,"onUpdate",this,function(obj,_1024,_1025,_1026){var _1027=this.service.servicePath;if(!obj.__id){}else{if(obj.__id.substring(0,_1027.length)==_1027){this.onSet(obj,_1024,_1025,_1026);}}});this.idAttribute=this.idAttribute||"id";if(typeof _1023.target=="string"){_1023.target=_1023.target.match(/\/$/)||this.allowNoTrailingSlash?_1023.target:(_1023.target+"/");if(!this.service){this.service=_101f.services[_1023.target]||_101e(_1023.target,true);}}_101f.registerService(this.service,_1023.target,this.schema);this.schema=this.service._schema=this.schema||this.service._schema||{};this.service._store=this;this.service.idAsRef=this.idAsRef;this.schema._idAttr=this.idAttribute;var _1028=_101f.getConstructor(this.service);var self=this;this._constructor=function(data){_1028.call(this,data);self.onNew(this);};this._constructor.prototype=_1028.prototype;this._index=_101e._index;},loadReferencedSchema:true,idAsRef:false,referenceIntegrity:true,target:"",allowNoTrailingSlash:false,newItem:function(data,_1029){data=new this._constructor(data);if(_1029){var _102a=this.getValue(_1029.parent,_1029.attribute,[]);_102a=_102a.concat([data]);data.__parent=_102a;this.setValue(_1029.parent,_1029.attribute,_102a);}return data;},deleteItem:function(item){var _102b=[];var store=_102c._getStoreForItem(item)||this;if(this.referenceIntegrity){_101f._saveNotNeeded=true;var index=_101e._index;var _102d=function(_102e){var _102f;_102b.push(_102e);_102e.__checked=1;for(var i in _102e){if(i.substring(0,2)!="__"){var value=_102e[i];if(value==item){if(_102e!=index){if(_102e instanceof Array){(_102f=_102f||[]).push(i);}else{(_102c._getStoreForItem(_102e)||store).unsetAttribute(_102e,i);}}}else{if((typeof value=="object")&&value){if(!value.__checked){_102d(value);}if(typeof value.__checked=="object"&&_102e!=index){(_102c._getStoreForItem(_102e)||store).setValue(_102e,i,value.__checked);}}}}}if(_102f){i=_102f.length;_102e=_102e.__checked=_102e.concat();while(i--){_102e.splice(_102f[i],1);}return _102e;}return null;};_102d(index);_101f._saveNotNeeded=false;var i=0;while(_102b[i]){delete _102b[i++].__checked;}}_101f.deleteObject(item);store.onDelete(item);},changing:function(item,_1030){_101f.changing(item,_1030);},cancelChanging:function(_1031){if(!_1031.__id){return;}dirtyObjects=dirty=_101f.getDirtyObjects();for(var i=0;i<dirtyObjects.length;i++){var dirty=dirtyObjects[i];if(_1031==dirty.object){dirtyObjects.splice(i,1);return;}}},setValue:function(item,_1032,value){var old=item[_1032];var store=item.__id?_102c._getStoreForItem(item):this;if(_1020&&store.schema&&store.schema.properties){_1020.mustBeValid(_1020.checkPropertyChange(value,store.schema.properties[_1032]));}if(_1032==store.idAttribute){throw new Error("Can not change the identity attribute for an item");}store.changing(item);item[_1032]=value;if(value&&!value.__parent){value.__parent=item;}store.onSet(item,_1032,old,value);},setValues:function(item,_1033,_1034){if(!lang.isArray(_1034)){throw new Error("setValues expects to be passed an Array object as its value");}this.setValue(item,_1033,_1034);},unsetAttribute:function(item,_1035){this.changing(item);var old=item[_1035];delete item[_1035];this.onSet(item,_1035,old,undefined);},save:function(_1036){if(!(_1036&&_1036.global)){(_1036=_1036||{}).service=this.service;}if("syncMode" in _1036?_1036.syncMode:this.syncMode){rpc._sync=true;}var _1037=_101f.commit(_1036);this.serverVersion=this._updates&&this._updates.length;return _1037;},revert:function(_1038){_101f.revert(!(_1038&&_1038.global)&&this.service);},isDirty:function(item){return _101f.isDirty(item,this);},isItem:function(item,_1039){return item&&item.__id&&(_1039||this.service==_101f.getServiceAndId(item.__id).service);},_doQuery:function(args){var query=typeof args.queryStr=="string"?args.queryStr:args.query;var _103a=_101f.query(this.service,query,args);var self=this;if(this.loadReferencedSchema){_103a.addCallback(function(_103b){var _103c=_103a.ioArgs&&_103a.ioArgs.xhr&&_103a.ioArgs.xhr.getResponseHeader("Content-Type");var _103d=_103c&&_103c.match(/definedby\s*=\s*([^;]*)/);if(_103c&&!_103d){_103d=_103a.ioArgs.xhr.getResponseHeader("Link");_103d=_103d&&_103d.match(/<([^>]*)>;\s*rel="?definedby"?/);}_103d=_103d&&_103d[1];if(_103d){var _103e=_101f.getServiceAndId((self.target+_103d).replace(/^(.*\/)?(\w+:\/\/)|[^\/\.]+\/\.\.\/|^.*\/(\/)/,"$2$3"));var _103f=_101f.byId(_103e.service,_103e.id);_103f.addCallbacks(function(_1040){lang.mixin(self.schema,_1040);return _103b;},function(error){return _103b;});return _103f;}return undefined;});}return _103a;},_processResults:function(_1041,_1042){var count=_1041.length;return {totalCount:_1042.fullLength||(_1042.request.count==count?(_1042.request.start||0)+count*2:count),items:_1041};},getConstructor:function(){return this._constructor;},getIdentity:function(item){var id=item.__clientId||item.__id;if(!id){return id;}var _1043=this.service.servicePath.replace(/[^\/]*$/,"");return id.substring(0,_1043.length)!=_1043?id:id.substring(_1043.length);},fetchItemByIdentity:function(args){var id=args.identity;var store=this;if(id.toString().match(/^(\w*:)?\//)){var _1044=_101f.getServiceAndId(id);store=_1044.service._store;args.identity=_1044.id;}args._prefix=store.service.servicePath.replace(/[^\/]*$/,"");return store.inherited(arguments);},onSet:function(){},onNew:function(){},onDelete:function(){},getFeatures:function(){var _1045=this.inherited(arguments);_1045["dojo.data.api.Write"]=true;_1045["dojo.data.api.Notification"]=true;return _1045;},getParent:function(item){return item&&item.__parent;}});_1022.getStore=function(_1046,Class){if(typeof _1046.target=="string"){_1046.target=_1046.target.match(/\/$/)||_1046.allowNoTrailingSlash?_1046.target:(_1046.target+"/");var store=(_101f.services[_1046.target]||{})._store;if(store){return store;}}return new (Class||_1022)(_1046);};var _102c=lang.getObject("dojox.data",true);_102c._getStoreForItem=function(item){if(item.__id){var _1047=_101f.getServiceAndId(item.__id);if(_1047&&_1047.service._store){return _1047.service._store;}else{var _1048=item.__id.toString().match(/.*\//)[0];return new _1022({target:_1048});}}return null;};var _1049=lang.getObject("dojox.json.ref",true);_1049._useRefs=true;return _1022;});},"prcommon2/store/DataStores":function(){define(["dojo/_base/declare","dojo/data/ItemFileReadStore"],function(_104a,_104b){return _104a("prcommon2.store.DataStores",null,{constructor:function(){this._prmaxoutlettypes=new _104b({url:"/common/lookups?searchtype=prmaxoutlettypes"});this._prmaxoutlettypes_noFreelancer=new _104b({url:"/common/lookups?searchtype=prmaxoutlettypes&nofreelancer=1"});this._frequencies=new _104b({url:"/common/lookups?searchtype=frequencies"});this._reasoncode_data_upd=new _104b({url:"/common/lookups?searchtype=reasoncodes&reasoncategoryid=2"});this._reasoncode_data_add=new _104b({url:"/common/lookups?searchtype=reasoncodes&reasoncategoryid=1"});this._reasoncode_data_del=new _104b({url:"/common/lookups?searchtype=reasoncodes&reasoncategoryid=3"});this._reasoncode_data_email=new _104b({url:"/common/lookups?searchtype=reasoncodes&reasoncategoryid=4"});this._interest_master_type=new _104b({url:"/common/lookups?searchtype=interestgroups"});this._interest_sections=new _104b({url:"/common/lookups?searchtype=interestgroups&sections=1"});this._research_frequencies=new _104b({url:"/common/lookups?searchtype=researchfrequencies"});this._countries=new _104b({url:"/common/lookups?searchtype=countries"});this._contacthistorysources=new _104b({url:"/common/lookups?searchtype=contacthistorytypes"});this._contacthistorysourcesext=new _104b({url:"/common/lookups?searchtype=contacthistorytypes&include_no_option=1"});this._messagetypes=new _104b({url:"/common/lookups?searchtype=messagetypes"});this._customertypes_model=new _104b({url:"/common/lookups?searchtype=customertypes"});this._customertypes_model_ext=new _104b({url:"/common/lookups?searchtype=customertypes&include_no_option=1"});this._researchprojectstatus=new _104b({url:"/common/lookups?searchtype=researchprojectstatus"});this._reasoncode_del_hist=new _104b({url:"/common/lookups?searchtype=reasoncodes&reasoncategoryid=8"});this._makretsector=new _104b({url:"/common/lookups?searchtype=marketsector"});},Reason_Add_Default:5,Reason_Upd_Default:8,fetch:function(){this._interest_master_type.fetch();this._messagetypes.fetch();},MessageTypes:function(){return this._messagetypes;},OutletTypes:function(){return this._prmaxoutlettypes;},OutletTypes_noFreelancer:function(){return this._prmaxoutlettypes_noFreelancer;},Frequency:function(){return this._frequencies;},Research_Reason_Update_Codes:function(){return this._reasoncode_data_upd;},Research_Reason_Add_Codes:function(){return this._reasoncode_data_add;},Research_Reason_Del_Codes:function(){return this._reasoncode_data_del;},Research_Reason_Del_Hist_Codes:function(){return this._reasoncode_del_hist;},Research_Reason_Add_Email:function(){return this._reasoncode_data_email;},Interest_Filter:function(){return this._interest_master_type;},Research_Frequencies:function(){return this._research_frequencies;},Countries:function(){return this._countries;},ContactHistoryTypes:function(_104c){if(_104c===true){return this._contacthistorysourcesext;}else{return this._contacthistorysources;}},interest_sections:function(){return this._interest_sections;},Customer_Types:function(){return this._customertypes_model;},Customer_Types_Filter:function(){return this._customertypes_model_ext;},Research_Project_Status:function(){return this._researchprojectstatus;},MarketSector:function(){return this._makretsector;},});});},"dgrid/OnDemandList":function(){define(["./List","./_StoreMixin","dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred","dojo/dom","dojo/on","./util/misc","put-selector/put"],function(List,_104d,_104e,lang,_104f,dom,_1050,_1051,put){return _104e([List,_104d],{minRowsPerPage:25,maxRowsPerPage:250,maxEmptySpace:Infinity,bufferRows:10,farOffRemoval:2000,queryRowsOverlap:0,pagingMethod:"debounce",pagingDelay:_1051.defaultDelay,keepScrollPosition:false,rowHeight:22,postCreate:function(){this.inherited(arguments);var self=this;_1050(this.bodyNode,"scroll",_1051[this.pagingMethod](function(event){self._processScroll(event);},null,this.pagingDelay));},renderQuery:function(query,_1052){var self=this,_1053=(_1052&&_1052.container)||this.contentNode,_1054={query:query,count:0,options:_1052},_1055,_1056=this.preload,_1057;var _1058={node:put(_1053,"div.dgrid-preload",{rowIndex:0}),count:0,query:query,next:_1054,options:_1052};_1058.node.style.height="0";_1054.node=_1055=put(_1053,"div.dgrid-preload");_1054.previous=_1058;_1055.rowIndex=this.minRowsPerPage;if(_1056){if((_1054.next=_1056.next)&&_1055.offsetTop>=_1056.node.offsetTop){_1054.previous=_1056;}else{_1054.next=_1056;_1054.previous=_1056.previous;}_1054.previous.next=_1054;_1054.next.previous=_1054;}else{this.preload=_1054;}var _1059=put(_1055,"-div.dgrid-loading"),_105a=put(_1059,"div.dgrid-below");_105a.innerHTML=this.loadingMessage;function _105b(err){put(_1059,"!");if(err){if(self._refreshDeferred){self._refreshDeferred.reject(err);delete self._refreshDeferred;}throw err;}};_1052=lang.mixin(this.get("queryOptions"),_1052,{start:0,count:this.minRowsPerPage},"level" in query?{queryLevel:query.level}:null);this._trackError(function(){return _1057=query(_1052);});if(typeof _1057==="undefined"){_105b();return;}_104f.when(self.renderArray(_1057,_1055,_1052),function(trs){var total=typeof _1057.total==="undefined"?_1057.length:_1057.total;return _104f.when(total,function(total){var _105c=trs.length,_105d=_1055.parentNode,_105e=self.noDataNode;put(_1059,"!");if(!("queryLevel" in _1052)){self._total=total;}if(total===0){if(_105e){put(_105e,"!");delete self.noDataNode;}self.noDataNode=_105e=put("div.dgrid-no-data");_105d.insertBefore(_105e,self._getFirstRowSibling(_105d));_105e.innerHTML=self.noDataMessage;}var _105f=0;for(var i=0;i<_105c;i++){_105f+=self._calcRowHeight(trs[i]);}if(_105c&&_105f){self.rowHeight=_105f/_105c;}total-=_105c;_1054.count=total;_1055.rowIndex=_105c;if(total){_1055.style.height=Math.min(total*self.rowHeight,self.maxEmptySpace)+"px";}else{_1055.style.display="none";_1052.count++;}if(self._previousScrollPosition){self.scrollTo(self._previousScrollPosition);delete self._previousScrollPosition;}self._processScroll();if(self._refreshDeferred){self._refreshDeferred.resolve(_1057);delete self._refreshDeferred;}return trs;},_105b);},_105b);return _1057;},refresh:function(_1060){var self=this,keep=(_1060&&_1060.keepScrollPosition),dfd,_1061;if(typeof keep==="undefined"){keep=this.keepScrollPosition;}if(keep){this._previousScrollPosition=this.getScrollPosition();}this.inherited(arguments);if(this.store){dfd=this._refreshDeferred=new _104f();_1061=self.renderQuery(function(_1062){return self.store.query(self.query,_1062);});if(typeof _1061==="undefined"){dfd.reject();}return dfd.then(function(_1063){setTimeout(function(){_1050.emit(self.domNode,"dgrid-refresh-complete",{bubbles:true,cancelable:false,grid:self,results:_1063});},0);delete self._refreshDeferred;return _1063;},function(err){delete self._refreshDeferred;throw err;});}},resize:function(){this.inherited(arguments);this._processScroll();},_getFirstRowSibling:function(_1064){return _1064.lastChild;},_calcRowHeight:function(_1065){var _1066=_1065.nextSibling;if(_1066&&!/\bdgrid-preload\b/.test(_1066.className)){return _1066.offsetTop-_1065.offsetTop;}return _1065.offsetHeight;},lastScrollTop:0,_processScroll:function(evt){var grid=this,_1067=grid.bodyNode,_1068=(evt&&evt.scrollTop)||this.getScrollPosition().y,_1069=_1067.offsetHeight+_1068,_106a,_106b,_106c=grid.preload,_106d=grid.lastScrollTop,_106e=grid.bufferRows*grid.rowHeight,_106f=_106e-grid.rowHeight,_1070,_1071,_1072,_1073=true;var _1074=1;grid.lastScrollTop=_1068;function _1075(_1076,_1077,_1078,below){var _1079=grid.farOffRemoval,_106b=_1076.node;if(_1077>2*_1079){var row,_107a=_106b[_1078];var _107b=0;var count=0;var _107c=[];while((row=_107a)){var _107d=grid._calcRowHeight(row);if(_107b+_107d+_1079>_1077||(_107a.className.indexOf("dgrid-row")<0&&_107a.className.indexOf("dgrid-loading")<0)){break;}var _107a=row[_1078];_107b+=_107d;count+=row.count||1;grid.removeRow(row,true);_107c.push(row);}_1076.count+=count;if(below){_106b.rowIndex-=count;_107e(_1076);}else{_106b.style.height=(_106b.offsetHeight+_107b)+"px";}var _107f=put("div",_107c);setTimeout(function(){put(_107f,"!");},1);}};function _107e(_1080,noMax){_1080.node.style.height=Math.min(_1080.count*grid.rowHeight,noMax?Infinity:grid.maxEmptySpace)+"px";};function _1081(_1082,_1083){do{_1082=_1083?_1082.next:_1082.previous;}while(_1082&&!_1082.node.offsetWidth);return _1082;};while(_106c&&!_106c.node.offsetWidth){_106c=_106c.previous;}while(_106c&&_106c!=_106a){_106a=grid.preload;grid.preload=_106c;_106b=_106c.node;var _1084=_106b.offsetTop;var _1085;if(_1069+_1074+_106f<_1084){_106c=_1081(_106c,(_1073=false));}else{if(_1068-_1074-_106f>(_1084+(_1085=_106b.offsetHeight))){_106c=_1081(_106c,(_1073=true));}else{var _1086=((_106b.rowIndex?_1068-_106e:_1069)-_1084)/grid.rowHeight;var count=(_1069-_1068+2*_106e)/grid.rowHeight;var _1087=Math.max(Math.min((_1068-_106d)*grid.rowHeight,grid.maxRowsPerPage/2),grid.maxRowsPerPage/-2);count+=Math.min(Math.abs(_1087),10);if(_106b.rowIndex==0){_1086-=count;}_1086=Math.max(_1086,0);if(_1086<10&&_1086>0&&count+_1086<grid.maxRowsPerPage){count+=Math.max(0,_1086);_1086=0;}count=Math.min(Math.max(count,grid.minRowsPerPage),grid.maxRowsPerPage,_106c.count);if(count==0){_106c=_1081(_106c,_1073);continue;}count=Math.ceil(count);_1086=Math.min(Math.floor(_1086),_106c.count-count);var _1088=lang.mixin(grid.get("queryOptions"),_106c.options);_106c.count-=count;var _1089=_106b,_108a,_108b=grid.queryRowsOverlap,below=(_106b.rowIndex>0||_106b.offsetTop>_1068)&&_106c;if(below){var _108c=_106c.previous;if(_108c){_1075(_108c,_1068-(_108c.node.offsetTop+_108c.node.offsetHeight),"nextSibling");if(_1086>0&&_108c.node==_106b.previousSibling){_1086=Math.min(_106c.count,_1086);_106c.previous.count+=_1086;_107e(_106c.previous,true);_106b.rowIndex+=_1086;_108b=0;}else{count+=_1086;}_106c.count-=_1086;}_1088.start=_106b.rowIndex-_108b;_1088.count=Math.min(count+_108b,grid.maxRowsPerPage);_106b.rowIndex=_1088.start+_1088.count;}else{if(_106c.next){_1075(_106c.next,_106c.next.node.offsetTop-_1069,"previousSibling",true);var _1089=_106b.nextSibling;if(_1089==_106c.next.node){_106c.next.count+=_106c.count-_1086;_106c.next.node.rowIndex=_1086+count;_107e(_106c.next);_106c.count=_1086;_108b=0;}else{_108a=true;}}_1088.start=_106c.count;_1088.count=Math.min(count+_108b,grid.maxRowsPerPage);}if(_108a&&_1089&&_1089.offsetWidth){_108a=_1089.offsetTop;}_107e(_106c);if("level" in _106c.query){_1088.queryLevel=_106c.query.level;}if(!("queryLevel" in _1088)&&(_1088.start>grid._total||_1088.count<0)){continue;}var _108d=put(_1089,"-div.dgrid-loading[style=height:"+count*grid.rowHeight+"px]"),_108e=put(_108d,"div.dgrid-"+(below?"below":"above"));_108e.innerHTML=grid.loadingMessage;_108d.count=count;var _108f=_106c.query(_1088),_1090=grid._trackError(function(){return _108f;});if(_1090===undefined){put(_108d,"!");return;}(function(_1091,below,_1092,_1093){_1072=_104f.when(grid.renderArray(_1093,_1091,_1088),function(rows){_1071=_1093;_1089=_1091.nextSibling;put(_1091,"!");if(_1092&&_1089&&_1089.offsetWidth){var pos=grid.getScrollPosition();grid.scrollTo({x:pos.x,y:pos.y+_1089.offsetTop-_1092,preserveMomentum:true});}_104f.when(_1093.total||_1093.length,function(total){if(!("queryLevel" in _1088)){grid._total=total;}if(below){below.count=total-below.node.rowIndex;if(below.count===0){_1088.count++;}_107e(below);}});grid._processScroll();return rows;},function(e){put(_1091,"!");throw e;});}).call(this,_108d,below,_108a,_108f);_106c=_106c.previous;}}}if(_1072&&(_1070=this._refreshDeferred)){delete this._refreshDeferred;_104f.when(_1072,function(){_1070.resolve(_1071);});}},removeRow:function(_1094,_1095){function _1096(_1097,_1098){return _1097!=null?_1097:_1098;};if(_1094){var _1099=_1094.previousSibling,_109a=_1094.nextSibling,_109b=_1099&&_1096(_1099.observerIndex,_1099.previousObserverIndex),_109c=_109a&&_1096(_109a.observerIndex,_109a.nextObserverIndex),_109d=_1094.observerIndex;_1094.observerIndex=undefined;if(_1095){_1094.nextObserverIndex=_109c;_1094.previousObserverIndex=_109b;}if(this.cleanEmptyObservers&&_109d>-1&&_109d!==_109b&&_109d!==_109c){var _109e=this.observers;var _109f=_109e[_109d];if(_109f){if(!_1095){var rows=_109f.rows;for(var i=0;i<rows.length;i++){if(rows[i]!=_1094&&dom.isDescendant(rows[i],this.domNode)){return this.inherited(arguments);}}}_109f.cancel();this._numObservers--;_109e[_109d]=0;}}}this.inherited(arguments);}});});},"dijit/form/_ListBase":function(){define(["dojo/_base/declare","dojo/on","dojo/window"],function(_10a0,on,_10a1){return _10a0("dijit.form._ListBase",null,{selected:null,_listConnect:function(_10a2,_10a3){var self=this;return self.own(on(self.containerNode,on.selector(function(_10a4,_10a5,_10a6){return _10a4.parentNode==_10a6;},_10a2),function(evt){self[_10a3](evt,this);}));},selectFirstNode:function(){var first=this.containerNode.firstChild;while(first&&first.style.display=="none"){first=first.nextSibling;}this._setSelectedAttr(first,true);},selectLastNode:function(){var last=this.containerNode.lastChild;while(last&&last.style.display=="none"){last=last.previousSibling;}this._setSelectedAttr(last,true);},selectNextNode:function(){var _10a7=this.selected;if(!_10a7){this.selectFirstNode();}else{var next=_10a7.nextSibling;while(next&&next.style.display=="none"){next=next.nextSibling;}if(!next){this.selectFirstNode();}else{this._setSelectedAttr(next,true);}}},selectPreviousNode:function(){var _10a8=this.selected;if(!_10a8){this.selectLastNode();}else{var prev=_10a8.previousSibling;while(prev&&prev.style.display=="none"){prev=prev.previousSibling;}if(!prev){this.selectLastNode();}else{this._setSelectedAttr(prev,true);}}},_setSelectedAttr:function(node,_10a9){if(this.selected!=node){var _10aa=this.selected;if(_10aa){this.onDeselect(_10aa);}if(node){if(_10a9){_10a1.scrollIntoView(node);}this.onSelect(node);}this._set("selected",node);}else{if(node){this.onSelect(node);}}}});});},"dgrid/util/has-css3":function(){define(["dojo/has"],function(has){var _10ab=["ms","O","Moz","Webkit"];function _10ac(_10ad,_10ae){var style=_10ad.style,i;if(_10ae in style){return true;}_10ae=_10ae.slice(0,1).toUpperCase()+_10ae.slice(1);for(i=_10ab.length;i--;){if((_10ab[i]+_10ae) in style){return _10ab[i];}}return false;};has.add("css-transitions",function(_10af,doc,_10b0){return _10ac(_10b0,"transitionProperty");});has.add("css-transforms",function(_10b1,doc,_10b2){return _10ac(_10b2,"transform");});has.add("css-transforms3d",function(_10b3,doc,_10b4){return _10ac(_10b4,"perspective");});has.add("transitionend",function(){var tpfx=has("css-transitions");if(!tpfx){return false;}if(tpfx===true){return "transitionend";}return {ms:"MSTransitionEnd",O:"oTransitionEnd",Moz:"transitionend",Webkit:"webkitTransitionEnd"}[tpfx];});return has;});},"dojox/rpc/Rest":function(){define("dojox/rpc/Rest",["dojo","dojox"],function(dojo,dojox){dojo.getObject("rpc.Rest",true,dojox);if(dojox.rpc&&dojox.rpc.transportRegistry){dojox.rpc.transportRegistry.register("REST",function(str){return str=="REST";},{getExecutor:function(func,_10b5,svc){return new dojox.rpc.Rest(_10b5.name,(_10b5.contentType||svc._smd.contentType||"").match(/json|javascript/),null,function(id,args){var _10b6=svc._getRequest(_10b5,[id]);_10b6.url=_10b6.target+(_10b6.data?"?"+_10b6.data:"");if(args&&(args.start>=0||args.count>=0)){_10b6.headers=_10b6.headers||{};_10b6.headers.Range="items="+(args.start||"0")+"-"+(("count" in args&&args.count!=Infinity)?(args.count+(args.start||0)-1):"");}return _10b6;});}});}var drr;function index(_10b7,_10b8,range,id){_10b7.addCallback(function(_10b9){if(_10b7.ioArgs.xhr&&range){range=_10b7.ioArgs.xhr.getResponseHeader("Content-Range");_10b7.fullLength=range&&(range=range.match(/\/(.*)/))&&parseInt(range[1]);}return _10b9;});return _10b7;};drr=dojox.rpc.Rest=function(path,_10ba,_10bb,_10bc){var _10bd;_10bd=function(id,args){return drr._get(_10bd,id,args);};_10bd.isJson=_10ba;_10bd._schema=_10bb;_10bd.cache={serialize:_10ba?((dojox.json&&dojox.json.ref)||dojo).toJson:function(_10be){return _10be;}};_10bd._getRequest=_10bc||function(id,args){if(dojo.isObject(id)){id=dojo.objectToQuery(id);id=id?"?"+id:"";}if(args&&args.sort&&!args.queryStr){id+=(id?"&":"?")+"sort=";for(var i=0;i<args.sort.length;i++){var sort=args.sort[i];id+=(i>0?",":"")+(sort.descending?"-":"+")+encodeURIComponent(sort.attribute);}}var _10bf={url:path+(id==null?"":id),handleAs:_10ba?"json":"text",contentType:_10ba?"application/json":"text/plain",sync:dojox.rpc._sync,preventCache:true,headers:{Accept:_10ba?"application/json,application/javascript":"*/*"}};if(args&&(args.start>=0||args.count>=0)){_10bf.headers.Range="items="+(args.start||"0")+"-"+(("count" in args&&args.count!=Infinity)?(args.count+(args.start||0)-1):"");}dojox.rpc._sync=false;return _10bf;};function _10c0(name){_10bd[name]=function(id,_10c1){return drr._change(name,_10bd,id,_10c1);};};_10c0("put");_10c0("post");_10c0("delete");_10bd.servicePath=path;return _10bd;};drr._index={};drr._timeStamps={};drr._change=function(_10c2,_10c3,id,_10c4){var _10c5=_10c3._getRequest(id);_10c5[_10c2+"Data"]=_10c4;return index(dojo.xhr(_10c2.toUpperCase(),_10c5,true),_10c3);};drr._get=function(_10c6,id,args){args=args||{};return index(dojo.xhrGet(_10c6._getRequest(id,args)),_10c6,(args.start>=0||args.count>=0),id);};return drr;});},"dijit/typematic":function(){define(["dojo/_base/array","dojo/_base/connect","dojo/_base/lang","dojo/on","dojo/sniff","./main"],function(array,_10c7,lang,on,has,dijit){var _10c8=(dijit.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:(this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay)),this._minDelay);this._timer=setTimeout(lang.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_10c9,node,_10ca,obj,_10cb,_10cc,_10cd){if(obj!=this._obj){this.stop();this._initialDelay=_10cc||500;this._subsequentDelay=_10cb||0.9;this._minDelay=_10cd||10;this._obj=obj;this._node=node;this._currentTimeout=-1;this._count=-1;this._callback=lang.hitch(_10c9,_10ca);this._evt={faux:true};for(var attr in evt){if(attr!="layerX"&&attr!="layerY"){var v=evt[attr];if(typeof v!="function"&&typeof v!="undefined"){this._evt[attr]=v;}}}this._fireEventAndReload();}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(node,_10ce,_10cf,_10d0,_10d1,_10d2,_10d3){var type="keyCode" in _10ce?"keydown":"charCode" in _10ce?"keypress":_10c7._keypress,attr="keyCode" in _10ce?"keyCode":"charCode" in _10ce?"charCode":"charOrCode";var _10d4=[on(node,type,lang.hitch(this,function(evt){if(evt[attr]==_10ce[attr]&&(_10ce.ctrlKey===undefined||_10ce.ctrlKey==evt.ctrlKey)&&(_10ce.altKey===undefined||_10ce.altKey==evt.altKey)&&(_10ce.metaKey===undefined||_10ce.metaKey==(evt.metaKey||false))&&(_10ce.shiftKey===undefined||_10ce.shiftKey==evt.shiftKey)){evt.stopPropagation();evt.preventDefault();_10c8.trigger(evt,_10cf,node,_10d0,_10ce,_10d1,_10d2,_10d3);}else{if(_10c8._obj==_10ce){_10c8.stop();}}})),on(node,"keyup",lang.hitch(this,function(){if(_10c8._obj==_10ce){_10c8.stop();}}))];return {remove:function(){array.forEach(_10d4,function(h){h.remove();});}};},addMouseListener:function(node,_10d5,_10d6,_10d7,_10d8,_10d9){var _10da=[on(node,"mousedown",lang.hitch(this,function(evt){evt.preventDefault();_10c8.trigger(evt,_10d5,node,_10d6,node,_10d7,_10d8,_10d9);})),on(node,"mouseup",lang.hitch(this,function(evt){if(this._obj){evt.preventDefault();}_10c8.stop();})),on(node,"mouseout",lang.hitch(this,function(evt){if(this._obj){evt.preventDefault();}_10c8.stop();})),on(node,"dblclick",lang.hitch(this,function(evt){evt.preventDefault();if(has("ie")<9){_10c8.trigger(evt,_10d5,node,_10d6,node,_10d7,_10d8,_10d9);setTimeout(lang.hitch(this,_10c8.stop),50);}}))];return {remove:function(){array.forEach(_10da,function(h){h.remove();});}};},addListener:function(_10db,_10dc,_10dd,_10de,_10df,_10e0,_10e1,_10e2){var _10e3=[this.addKeyListener(_10dc,_10dd,_10de,_10df,_10e0,_10e1,_10e2),this.addMouseListener(_10db,_10de,_10df,_10e0,_10e1,_10e2)];return {remove:function(){array.forEach(_10e3,function(h){h.remove();});}};}});return _10c8;});},"dojox/charting/plot2d/Pie":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","./Base","./_PlotEvents","./common","dojox/gfx","dojox/gfx/matrix","dojox/lang/functional","dojox/lang/utils","dojo/has"],function(lang,arr,_10e4,Base,_10e5,dc,g,m,df,du,has){var _10e6=0.2;return _10e4("dojox.charting.plot2d.Pie",[Base,_10e5],{defaultParams:{labels:true,ticks:false,fixed:true,precision:1,labelOffset:20,labelStyle:"default",htmlLabels:true,radGrad:"native",fanSize:5,startAngle:0},optionalParams:{radius:0,omitLabels:false,stroke:{},outline:{},shadow:{},fill:{},filter:{},styleFunc:null,font:"",fontColor:"",labelWiring:{}},constructor:function(chart,_10e7){this.opt=lang.clone(this.defaultParams);du.updateWithObject(this.opt,_10e7);du.updateWithPattern(this.opt,_10e7,this.optionalParams);this.axes=[];this.run=null;this.dyn=[];this.runFilter=[];},clear:function(){this.inherited(arguments);this.dyn=[];this.run=null;return this;},setAxis:function(axis){return this;},addSeries:function(run){this.run=run;return this;},getSeriesStats:function(){return lang.delegate(dc.defaultStats);},getRequiredColors:function(){return this.run?this.run.data.length:0;},render:function(dim,_10e8){if(!this.dirty){return this;}this.resetEvents();this.dirty=false;this._eventSeries={};this.cleanGroup();var s=this.group,t=this.chart.theme;if(!this.run||!this.run.data.length){return this;}var rx=(dim.width-_10e8.l-_10e8.r)/2,ry=(dim.height-_10e8.t-_10e8.b)/2,r=Math.min(rx,ry),_10e9="font" in this.opt?this.opt.font:t.series.font,size,_10ea=m._degToRad(this.opt.startAngle),start=_10ea,_10eb,_10ec,_10ed,shift,_10ee,_10ef=this.events();var run=arr.map(this.run.data,function(item,i){if(typeof item!="number"&&item.hidden){this.runFilter.push(i);item.hidden=false;}if(arr.some(this.runFilter,function(_10f0){return _10f0==i;})){if(typeof item=="number"){return 0;}else{return {y:0,text:item.text};}}else{return item;}},this);this.dyn=[];if("radius" in this.opt){r=this.opt.radius;_10ee=r-this.opt.labelOffset;}var _10f1={cx:_10e8.l+rx,cy:_10e8.t+ry,r:r};if(this.opt.shadow||t.shadow){var _10f2=this.opt.shadow||t.shadow;var _10f3=lang.clone(_10f1);_10f3.cx+=_10f2.dx;_10f3.cy+=_10f2.dy;s.createCircle(_10f3).setFill(_10f2.color).setStroke(_10f2);}if(s.setFilter&&(this.opt.filter||t.filter)){s.createCircle(_10f1).setFill(t.series.stroke).setFilter(this.opt.filter||t.filter);}if(typeof run[0]=="number"){_10eb=df.map(run,"x ? Math.max(x, 0) : 0");if(df.every(_10eb,"<= 0")){s.createCircle(_10f1).setStroke(t.series.stroke);this.dyn=arr.map(_10eb,function(){return {};});return this;}else{_10ec=df.map(_10eb,"/this",df.foldl(_10eb,"+",0));if(this.opt.labels){_10ed=arr.map(_10ec,function(x){return x>0?this._getLabel(x*100)+"%":"";},this);}}}else{_10eb=df.map(run,"x ? Math.max(x.y, 0) : 0");if(df.every(_10eb,"<= 0")){s.createCircle(_10f1).setStroke(t.series.stroke);this.dyn=arr.map(_10eb,function(){return {};});return this;}else{_10ec=df.map(_10eb,"/this",df.foldl(_10eb,"+",0));if(this.opt.labels){_10ed=arr.map(_10ec,function(x,i){if(x<0){return "";}var v=run[i];return "text" in v?v.text:this._getLabel(x*100)+"%";},this);}}}var _10f4=df.map(run,function(v,i){var _10f5=[this.opt,this.run];if(v!==null&&typeof v!="number"){_10f5.push(v);}if(this.opt.styleFunc){_10f5.push(this.opt.styleFunc(v));}return t.next("slice",_10f5,true);},this);if(this.opt.labels){size=_10e9?g.normalizedLength(g.splitFontString(_10e9).size):0;shift=df.foldl1(df.map(_10ed,function(label,i){var font=_10f4[i].series.font;return g._base._getTextBox(label,{font:font}).w;},this),"Math.max(a, b)")/2;if(this.opt.labelOffset<0){r=Math.min(rx-2*shift,ry-size)+this.opt.labelOffset;}_10ee=r-this.opt.labelOffset;}var _10f6=new Array(_10ec.length);arr.some(_10ec,function(slice,i){if(slice<0){return false;}var v=run[i],theme=_10f4[i],_10f7,o;if(slice==0){this.dyn.push({fill:theme.series.fill,stroke:theme.series.stroke});return false;}if(slice>=1){_10f7=this._plotFill(theme.series.fill,dim,_10e8);_10f7=this._shapeFill(_10f7,{x:_10f1.cx-_10f1.r,y:_10f1.cy-_10f1.r,width:2*_10f1.r,height:2*_10f1.r});_10f7=this._pseudoRadialFill(_10f7,{x:_10f1.cx,y:_10f1.cy},_10f1.r);var shape=s.createCircle(_10f1).setFill(_10f7).setStroke(theme.series.stroke);this.dyn.push({fill:_10f7,stroke:theme.series.stroke});if(_10ef){o={element:"slice",index:i,run:this.run,shape:shape,x:i,y:typeof v=="number"?v:v.y,cx:_10f1.cx,cy:_10f1.cy,cr:r};this._connectEvents(o);_10f6[i]=o;}return false;}var end=start+slice*2*Math.PI;if(i+1==_10ec.length){end=_10ea+2*Math.PI;}var step=end-start,x1=_10f1.cx+r*Math.cos(start),y1=_10f1.cy+r*Math.sin(start),x2=_10f1.cx+r*Math.cos(end),y2=_10f1.cy+r*Math.sin(end);var _10f8=m._degToRad(this.opt.fanSize);if(theme.series.fill&&theme.series.fill.type==="radial"&&this.opt.radGrad==="fan"&&step>_10f8){var group=s.createGroup(),nfans=Math.ceil(step/_10f8),delta=step/nfans;_10f7=this._shapeFill(theme.series.fill,{x:_10f1.cx-_10f1.r,y:_10f1.cy-_10f1.r,width:2*_10f1.r,height:2*_10f1.r});for(var j=0;j<nfans;++j){var fansx=j==0?x1:_10f1.cx+r*Math.cos(start+(j-_10e6)*delta),fansy=j==0?y1:_10f1.cy+r*Math.sin(start+(j-_10e6)*delta),fanex=j==nfans-1?x2:_10f1.cx+r*Math.cos(start+(j+1+_10e6)*delta),faney=j==nfans-1?y2:_10f1.cy+r*Math.sin(start+(j+1+_10e6)*delta);group.createPath().moveTo(_10f1.cx,_10f1.cy).lineTo(fansx,fansy).arcTo(r,r,0,delta>Math.PI,true,fanex,faney).lineTo(_10f1.cx,_10f1.cy).closePath().setFill(this._pseudoRadialFill(_10f7,{x:_10f1.cx,y:_10f1.cy},r,start+(j+0.5)*delta,start+(j+0.5)*delta));}group.createPath().moveTo(_10f1.cx,_10f1.cy).lineTo(x1,y1).arcTo(r,r,0,step>Math.PI,true,x2,y2).lineTo(_10f1.cx,_10f1.cy).closePath().setStroke(theme.series.stroke);shape=group;}else{shape=s.createPath().moveTo(_10f1.cx,_10f1.cy).lineTo(x1,y1).arcTo(r,r,0,step>Math.PI,true,x2,y2).lineTo(_10f1.cx,_10f1.cy).closePath().setStroke(theme.series.stroke);_10f7=theme.series.fill;if(_10f7&&_10f7.type==="radial"){_10f7=this._shapeFill(_10f7,{x:_10f1.cx-_10f1.r,y:_10f1.cy-_10f1.r,width:2*_10f1.r,height:2*_10f1.r});if(this.opt.radGrad==="linear"){_10f7=this._pseudoRadialFill(_10f7,{x:_10f1.cx,y:_10f1.cy},r,start,end);}}else{if(_10f7&&_10f7.type==="linear"){_10f7=this._plotFill(_10f7,dim,_10e8);_10f7=this._shapeFill(_10f7,shape.getBoundingBox());}}shape.setFill(_10f7);}this.dyn.push({fill:_10f7,stroke:theme.series.stroke});if(_10ef){o={element:"slice",index:i,run:this.run,shape:shape,x:i,y:typeof v=="number"?v:v.y,cx:_10f1.cx,cy:_10f1.cy,cr:r};this._connectEvents(o);_10f6[i]=o;}start=end;return false;},this);if(this.opt.labels){var isRtl=has("dojo-bidi")&&this.chart.isRightToLeft();if(this.opt.labelStyle=="default"){start=_10ea;arr.some(_10ec,function(slice,i){if(slice<=0){return false;}var theme=_10f4[i];if(slice>=1){this.renderLabel(s,_10f1.cx,_10f1.cy+size/2,_10ed[i],theme,this.opt.labelOffset>0);return true;}var end=start+slice*2*Math.PI;if(i+1==_10ec.length){end=_10ea+2*Math.PI;}if(this.opt.omitLabels&&end-start<0.001){return false;}var _10f9=(start+end)/2,x=_10f1.cx+_10ee*Math.cos(_10f9),y=_10f1.cy+_10ee*Math.sin(_10f9)+size/2;this.renderLabel(s,isRtl?dim.width-x:x,y,_10ed[i],theme,this.opt.labelOffset>0);start=end;return false;},this);}else{if(this.opt.labelStyle=="columns"){start=_10ea;var _10fa=this.opt.omitLabels;var _10fb=[];arr.forEach(_10ec,function(slice,i){var end=start+slice*2*Math.PI;if(i+1==_10ec.length){end=_10ea+2*Math.PI;}var _10fc=(start+end)/2;_10fb.push({angle:_10fc,left:Math.cos(_10fc)<0,theme:_10f4[i],index:i,omit:_10fa?end-start<0.001:false});start=end;});var _10fd=g._base._getTextBox("a",{font:_10e9}).h;this._getProperLabelRadius(_10fb,_10fd,_10f1.r*1.1);arr.forEach(_10fb,function(slice,i){if(!slice.omit){var _10fe=_10f1.cx-_10f1.r*2,_10ff=_10f1.cx+_10f1.r*2,_1100=g._base._getTextBox(_10ed[i],{font:slice.theme.series.font}).w,x=_10f1.cx+slice.labelR*Math.cos(slice.angle),y=_10f1.cy+slice.labelR*Math.sin(slice.angle),_1101=(slice.left)?(_10fe+_1100):(_10ff-_1100),_1102=(slice.left)?_10fe:_1101;var _1103=s.createPath().moveTo(_10f1.cx+_10f1.r*Math.cos(slice.angle),_10f1.cy+_10f1.r*Math.sin(slice.angle));if(Math.abs(slice.labelR*Math.cos(slice.angle))<_10f1.r*2-_1100){_1103.lineTo(x,y);}_1103.lineTo(_1101,y).setStroke(slice.theme.series.labelWiring);this.renderLabel(s,isRtl?dim.width-_1100-_1102:_1102,y,_10ed[i],slice.theme,false,"left");}},this);}}}var esi=0;this._eventSeries[this.run.name]=df.map(run,function(v){return v<=0?null:_10f6[esi++];});if(has("dojo-bidi")){this._checkOrientation(this.group,dim,_10e8);}return this;},_getProperLabelRadius:function(_1104,_1105,_1106){var _1107,_1108,_1109=1,_110a=1;if(_1104.length==1){_1104[0].labelR=_1106;return;}for(var i=0;i<_1104.length;i++){var _110b=Math.abs(Math.sin(_1104[i].angle));if(_1104[i].left){if(_1109>=_110b){_1109=_110b;_1107=_1104[i];}}else{if(_110a>=_110b){_110a=_110b;_1108=_1104[i];}}}_1107.labelR=_1108.labelR=_1106;this._calculateLabelR(_1107,_1104,_1105);this._calculateLabelR(_1108,_1104,_1105);},_calculateLabelR:function(_110c,_110d,_110e){var i=_110c.index,_110f=_110d.length,_1110=_110c.labelR,_1111;while(!(_110d[i%_110f].left^_110d[(i+1)%_110f].left)){if(!_110d[(i+1)%_110f].omit){_1111=(Math.sin(_110d[i%_110f].angle)*_1110+((_110d[i%_110f].left)?(-_110e):_110e))/Math.sin(_110d[(i+1)%_110f].angle);_1110=(_1111<_110c.labelR)?_110c.labelR:_1111;_110d[(i+1)%_110f].labelR=_1110;}i++;}i=_110c.index;var j=(i==0)?_110f-1:i-1;while(!(_110d[i].left^_110d[j].left)){if(!_110d[j].omit){_1111=(Math.sin(_110d[i].angle)*_1110+((_110d[i].left)?_110e:(-_110e)))/Math.sin(_110d[j].angle);_1110=(_1111<_110c.labelR)?_110c.labelR:_1111;_110d[j].labelR=_1110;}i--;j--;i=(i<0)?i+_110d.length:i;j=(j<0)?j+_110d.length:j;}}});});},"dojox/charting/plot2d/common":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/Color","dojox/gfx","dojox/lang/functional","../scaler/common"],function(lang,arr,Color,g,df,sc){var _1112=lang.getObject("dojox.charting.plot2d.common",true);return lang.mixin(_1112,{doIfLoaded:sc.doIfLoaded,makeStroke:function(_1113){if(!_1113){return _1113;}if(typeof _1113=="string"||_1113 instanceof Color){_1113={color:_1113};}return g.makeParameters(g.defaultStroke,_1113);},augmentColor:function(_1114,color){var t=new Color(_1114),c=new Color(color);c.a=t.a;return c;},augmentStroke:function(_1115,color){var s=_1112.makeStroke(_1115);if(s){s.color=_1112.augmentColor(s.color,color);}return s;},augmentFill:function(fill,color){var fc,c=new Color(color);if(typeof fill=="string"||fill instanceof Color){return _1112.augmentColor(fill,color);}return fill;},defaultStats:{vmin:Number.POSITIVE_INFINITY,vmax:Number.NEGATIVE_INFINITY,hmin:Number.POSITIVE_INFINITY,hmax:Number.NEGATIVE_INFINITY},collectSimpleStats:function(_1116,_1117){var stats=lang.delegate(_1112.defaultStats);for(var i=0;i<_1116.length;++i){var run=_1116[i];for(var j=0;j<run.data.length;j++){if(!_1117(run.data[j])){if(typeof run.data[j]=="number"){var _1118=stats.vmin,_1119=stats.vmax;arr.forEach(run.data,function(val,i){if(!_1117(val)){var x=i+1,y=val;if(isNaN(y)){y=0;}stats.hmin=Math.min(stats.hmin,x);stats.hmax=Math.max(stats.hmax,x);stats.vmin=Math.min(stats.vmin,y);stats.vmax=Math.max(stats.vmax,y);}});if("ymin" in run){stats.vmin=Math.min(_1118,run.ymin);}if("ymax" in run){stats.vmax=Math.max(_1119,run.ymax);}}else{var _111a=stats.hmin,_111b=stats.hmax,_1118=stats.vmin,_1119=stats.vmax;if(!("xmin" in run)||!("xmax" in run)||!("ymin" in run)||!("ymax" in run)){arr.forEach(run.data,function(val,i){if(!_1117(val)){var x="x" in val?val.x:i+1,y=val.y;if(isNaN(x)){x=0;}if(isNaN(y)){y=0;}stats.hmin=Math.min(stats.hmin,x);stats.hmax=Math.max(stats.hmax,x);stats.vmin=Math.min(stats.vmin,y);stats.vmax=Math.max(stats.vmax,y);}});}if("xmin" in run){stats.hmin=Math.min(_111a,run.xmin);}if("xmax" in run){stats.hmax=Math.max(_111b,run.xmax);}if("ymin" in run){stats.vmin=Math.min(_1118,run.ymin);}if("ymax" in run){stats.vmax=Math.max(_1119,run.ymax);}}break;}}}return stats;},calculateBarSize:function(_111c,opt,_111d){if(!_111d){_111d=1;}var gap=opt.gap,size=(_111c-2*gap)/_111d;if("minBarSize" in opt){size=Math.max(size,opt.minBarSize);}if("maxBarSize" in opt){size=Math.min(size,opt.maxBarSize);}size=Math.max(size,1);gap=(_111c-size*_111d)/2;return {size:size,gap:gap};},collectStackedStats:function(_111e){var stats=lang.clone(_1112.defaultStats);if(_111e.length){stats.hmin=Math.min(stats.hmin,1);stats.hmax=df.foldl(_111e,"seed, run -> Math.max(seed, run.data.length)",stats.hmax);for(var i=0;i<stats.hmax;++i){var v=_111e[0].data[i];v=v&&(typeof v=="number"?v:v.y);if(isNaN(v)){v=0;}stats.vmin=Math.min(stats.vmin,v);for(var j=1;j<_111e.length;++j){var t=_111e[j].data[i];t=t&&(typeof t=="number"?t:t.y);if(isNaN(t)){t=0;}v+=t;}stats.vmax=Math.max(stats.vmax,v);}}return stats;},curve:function(a,_111f){var array=a.slice(0);if(_111f=="x"){array[array.length]=array[0];}var p=arr.map(array,function(item,i){if(i==0){return "M"+item.x+","+item.y;}if(!isNaN(_111f)){var dx=item.x-array[i-1].x,dy=array[i-1].y;return "C"+(item.x-(_111f-1)*(dx/_111f))+","+dy+" "+(item.x-(dx/_111f))+","+item.y+" "+item.x+","+item.y;}else{if(_111f=="X"||_111f=="x"||_111f=="S"){var p0,p1=array[i-1],p2=array[i],p3;var bz1x,bz1y,bz2x,bz2y;var f=1/6;if(i==1){if(_111f=="x"){p0=array[array.length-2];}else{p0=p1;}f=1/3;}else{p0=array[i-2];}if(i==(array.length-1)){if(_111f=="x"){p3=array[1];}else{p3=p2;}f=1/3;}else{p3=array[i+1];}var p1p2=Math.sqrt((p2.x-p1.x)*(p2.x-p1.x)+(p2.y-p1.y)*(p2.y-p1.y));var p0p2=Math.sqrt((p2.x-p0.x)*(p2.x-p0.x)+(p2.y-p0.y)*(p2.y-p0.y));var p1p3=Math.sqrt((p3.x-p1.x)*(p3.x-p1.x)+(p3.y-p1.y)*(p3.y-p1.y));var p0p2f=p0p2*f;var p1p3f=p1p3*f;if(p0p2f>p1p2/2&&p1p3f>p1p2/2){p0p2f=p1p2/2;p1p3f=p1p2/2;}else{if(p0p2f>p1p2/2){p0p2f=p1p2/2;p1p3f=p1p2/2*p1p3/p0p2;}else{if(p1p3f>p1p2/2){p1p3f=p1p2/2;p0p2f=p1p2/2*p0p2/p1p3;}}}if(_111f=="S"){if(p0==p1){p0p2f=0;}if(p2==p3){p1p3f=0;}}bz1x=p1.x+p0p2f*(p2.x-p0.x)/p0p2;bz1y=p1.y+p0p2f*(p2.y-p0.y)/p0p2;bz2x=p2.x-p1p3f*(p3.x-p1.x)/p1p3;bz2y=p2.y-p1p3f*(p3.y-p1.y)/p1p3;}}return "C"+(bz1x+","+bz1y+" "+bz2x+","+bz2y+" "+p2.x+","+p2.y);});return p.join(" ");},getLabel:function(_1120,fixed,_1121){return sc.doIfLoaded("dojo/number",function(_1122){return (fixed?_1122.format(_1120,{places:_1121}):_1122.format(_1120))||"";},function(){return fixed?_1120.toFixed(_1121):_1120.toString();});}});});},"dgrid/List":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/dom","dojo/on","dojo/has","./util/misc","dojo/has!touch?./TouchScroll","xstyle/has-class","put-selector/put","dojo/_base/sniff","xstyle/css!./css/dgrid.css"],function(_1123,_1124,dom,_1125,has,_1126,_1127,_1128,put){_1128("mozilla","opera","webkit","ie","ie-6","ie-6-7","quirks","no-quirks","touch");var _1129="dgrid-row-odd",_112a="dgrid-row-even",_112b,_112c;function byId(id){return document.getElementById(id);};function _112d(_112e){_112e.className="";document.body.removeChild(_112e);};function _112f(_1130,_1131){put(document.body,_1130,".dgrid-scrollbar-measure");var size=_1130["offset"+_1131]-_1130["client"+_1131];_112d(_1130);return size;};has.add("dom-scrollbar-width",function(_1132,doc,_1133){return _112f(_1133,"Width");});has.add("dom-scrollbar-height",function(_1134,doc,_1135){return _112f(_1135,"Height");});has.add("dom-rtl-scrollbar-left",function(_1136,doc,_1137){var div=put("div"),_1138;put(document.body,_1137,".dgrid-scrollbar-measure[dir=rtl]");put(_1137,div);_1138=!!has("ie")||!!has("trident")||div.offsetLeft>=has("dom-scrollbar-width");_112d(_1137);put(div,"!");_1137.removeAttribute("dir");return _1138;});var _1139=0;function _113a(){return "dgrid_"+_1139++;};var _113b=/ +/g;function _113c(cls){var _113d=cls?"."+cls.replace(_113b,"."):"";if(this._class){_113d="!"+this._class.replace(_113b,"!")+_113d;}put(this.domNode,_113d);this._class=cls;};function _113e(){return this._class;};var _113f=has("ie")<7&&!has("quirks")?function(){var root,w,h,dims;if(!this._started){return;}root=document.documentElement;w=root.clientWidth;h=root.clientHeight;dims=this._prevWinDims||[];if(dims[0]!==w||dims[1]!==h){this.resize();this._prevWinDims=[w,h];}}:function(){if(this._started){this.resize();}};function _1140(){return {x:this.bodyNode.scrollLeft,y:this.bodyNode.scrollTop};};function _1141(_1142){if(typeof _1142.x!=="undefined"){this.bodyNode.scrollLeft=_1142.x;}if(typeof _1142.y!=="undefined"){this.bodyNode.scrollTop=_1142.y;}};return _1124(has("touch")?_1127:null,{tabableHeader:false,showHeader:false,showFooter:false,maintainOddEven:true,cleanAddedRules:true,useTouchScroll:null,addUiClasses:true,cleanEmptyObservers:true,highlightDuration:250,postscript:function(_1143,_1144){var grid=this;(this._Row=function(id,_1145,_1146){this.id=id;this.data=_1145;this.element=_1146;}).prototype.remove=function(){grid.removeRow(this.element);};if(_1144){this.srcNodeRef=_1144=_1144.nodeType?_1144:byId(_1144);}this.create(_1143,_1144);},listType:"list",create:function(_1147,_1148){var _1149=this.domNode=_1148||put("div"),cls;if(_1147){this.params=_1147;_1124.safeMixin(this,_1147);cls=_1147["class"]||_1147.className||_1149.className;this._sort=_1147.sort||[];delete this.sort;}else{this._sort=[];}this.observers=[];this._numObservers=0;this._listeners=[];this._rowIdToObject={};this.postMixInProperties&&this.postMixInProperties();this.id=_1149.id=_1149.id||this.id||_113a();if(this.useTouchScroll===null){this.useTouchScroll=!has("dom-scrollbar-width");}this.buildRendering();if(cls){_113c.call(this,cls);}this.postCreate();delete this.srcNodeRef;if(this.domNode.offsetHeight){this.startup();}},buildRendering:function(){var _114a=this.domNode,_114b=this.addUiClasses,self=this,_114c,_114d,_114e,_114f,isRTL;isRTL=this.isRTL=(document.body.dir||document.documentElement.dir||document.body.style.direction).toLowerCase()=="rtl";_114a.className="";put(_114a,"[role=grid].dgrid.dgrid-"+this.listType+(_114b?".ui-widget":""));_114c=this.headerNode=put(_114a,"div.dgrid-header.dgrid-header-row"+(_114b?".ui-widget-header":"")+(this.showHeader?"":".dgrid-header-hidden"));if(has("quirks")||has("ie")<8){_114d=put(_114a,"div.dgrid-spacer");}_114e=this.bodyNode=put(_114a,"div.dgrid-scroller");if(has("ff")){_114e.tabIndex=-1;}this.headerScrollNode=put(_114a,"div.dgrid-header.dgrid-header-scroll.dgrid-scrollbar-width"+(_114b?".ui-widget-header":""));_114f=this.footerNode=put("div.dgrid-footer"+(this.showFooter?"":".dgrid-footer-hidden"));put(_114a,_114f);if(isRTL){_114a.className+=" dgrid-rtl"+(has("dom-rtl-scrollbar-left")?" dgrid-rtl-swap":"");}_1125(_114e,"scroll",function(event){if(self.showHeader){_114c.scrollLeft=event.scrollLeft||_114e.scrollLeft;}event.stopPropagation();_1125.emit(_114a,"scroll",{scrollTarget:_114e});});this.configStructure();this.renderHeader();this.contentNode=this.touchNode=put(this.bodyNode,"div.dgrid-content"+(_114b?".ui-widget-content":""));this._listeners.push(this._resizeHandle=_1125(window,"resize",_1126.throttleDelayed(_113f,this)));},postCreate:has("touch")?function(){if(this.useTouchScroll){this.inherited(arguments);}}:function(){},startup:function(){if(this._started){return;}this.inherited(arguments);this._started=true;this.resize();this.set("sort",this._sort);},configStructure:function(){},resize:function(){var _1150=this.bodyNode,_1151=this.headerNode,_1152=this.footerNode,_1153=_1151.offsetHeight,_1154=this.showFooter?_1152.offsetHeight:0,_1155=has("quirks")||has("ie")<7;this.headerScrollNode.style.height=_1150.style.marginTop=_1153+"px";_1150.style.marginBottom=_1154+"px";if(_1155){_1150.style.height="";_1150.style.height=Math.max((this.domNode.offsetHeight-_1153-_1154),0)+"px";if(_1154){_1152.style.bottom="1px";setTimeout(function(){_1152.style.bottom="";},0);}}if(!_112b){_112b=has("dom-scrollbar-width");_112c=has("dom-scrollbar-height");if(has("ie")){_112b++;_112c++;}_1126.addCssRule(".dgrid-scrollbar-width","width: "+_112b+"px");_1126.addCssRule(".dgrid-scrollbar-height","height: "+_112c+"px");if(_112b!=17&&!_1155){_1126.addCssRule(".dgrid-header-row","right: "+_112b+"px");_1126.addCssRule(".dgrid-rtl-swap .dgrid-header-row","left: "+_112b+"px");}}if(_1155){_1151.style.width=_1150.clientWidth+"px";setTimeout(function(){_1151.scrollLeft=_1150.scrollLeft;},0);}},addCssRule:function(_1156,css){var rule=_1126.addCssRule(_1156,css);if(this.cleanAddedRules){this._listeners.push(rule);}return rule;},on:function(_1157,_1158){var _1159=_1125(this.domNode,_1157,_1158);if(!has("dom-addeventlistener")){this._listeners.push(_1159);}return _1159;},cleanup:function(){var _115a=this.observers,i;for(i in this._rowIdToObject){if(this._rowIdToObject[i]!=this.columns){var _115b=byId(i);if(_115b){this.removeRow(_115b,true);}}}for(i=0;i<_115a.length;i++){var _115c=_115a[i];_115c&&_115c.cancel();}this.observers=[];this._numObservers=0;this.preload=null;},destroy:function(){if(this._listeners){for(var i=this._listeners.length;i--;){this._listeners[i].remove();}delete this._listeners;}this._started=false;this.cleanup();put(this.domNode,"!");if(this.useTouchScroll){this.inherited(arguments);}},refresh:function(){this.cleanup();this._rowIdToObject={};this._autoId=0;this.contentNode.innerHTML="";this.scrollTo({x:0,y:0});},newRow:function(_115d,_115e,_115f,i,_1160){if(_115e){var row=this.insertRow(_115d,_115e,_115f,i,_1160);put(row,".dgrid-highlight"+(this.addUiClasses?".ui-state-highlight":""));setTimeout(function(){put(row,"!dgrid-highlight!ui-state-highlight");},this.highlightDuration);return row;}},adjustRowIndices:function(_1161){var next=_1161;var _1162=next.rowIndex;if(_1162>-1){do{if(next.rowIndex>-1){if(this.maintainOddEven){if((next.className+" ").indexOf("dgrid-row ")>-1){put(next,"."+(_1162%2==1?_1129:_112a)+"!"+(_1162%2==0?_1129:_112a));}}next.rowIndex=_1162++;}}while((next=next.nextSibling)&&next.rowIndex!=_1162);}},renderArray:function(_1163,_1164,_1165){_1165=_1165||{};var self=this,start=_1165.start||0,_1166=this.observers,rows,_1167,_1168;if(!_1164){this._lastCollection=_1163;}if(_1163.observe){self._numObservers++;var _1169=_1163.observe(function(_116a,from,to){var row,_116b,_116c,_116d;function _116e(){_116c=(_116c.connected||_116c).nextSibling;};if(from>-1&&rows[from]){row=rows.splice(from,1)[0];if(row.parentNode==_1167){_116b=row.nextSibling;if(_116b){if(from!=to){_116b.rowIndex--;}}self.removeRow(row);}_1165.count--;if(self._processScroll){self._processScroll();}}if(to>-1){if(rows.length){if(to===0){_116c=rows[to];_116c=_116c&&_116f(_116c);}else{_116c=rows[to-1];if(_116c){_116c=_116f(_116c);_116e();}}}else{_116c=self._getFirstRowSibling&&self._getFirstRowSibling(_1167);}if(row&&_116c&&row.id===_116c.id){_116e();}if(_116c&&!_116c.parentNode){_116c=byId(_116c.id);}_116d=(_1164&&_1164.parentNode)||(_116c&&_116c.parentNode)||self.contentNode;row=self.newRow(_116a,_116d,_116c,_1165.start+to,_1165);if(row){row.observerIndex=_1168;rows.splice(to,0,row);if(!_116b||to<from){var _1170=row.previousSibling;_116b=!_1170||_1170.rowIndex+1==row.rowIndex||row.rowIndex==0?row:_1170;}}_1165.count++;}if(from===0){_1171(1,1);}else{if(from===_1163.length-(to===-1?0:1)){_1171(0,0);}}from!=to&&_116b&&self.adjustRowIndices(_116b);self._onNotification(rows,_116a,from,to);},true);_1168=_1166.push(_1169)-1;}var _1172=document.createDocumentFragment(),_1173;function _1171(){var sides=arguments;if(_1168>-1){for(var i=0;i<sides.length;i++){var top=sides[i];var _1174=rows[top?0:rows.length-1];_1174=_1174&&_116f(_1174);if(_1174){var row=_1174[top?"previousSibling":"nextSibling"];if(row){row=self.row(row);}if(row&&row.element!=_1174){var _1175=top?"unshift":"push";_1163[_1175](row.data);rows[_1175](row.element);_1165.count++;}}}}};function _116f(row){if(!dom.isDescendant(row,self.domNode)&&byId(row.id)){return self.row(row.id.slice(self.id.length+5)).element;}return row;};function _1176(_1177){_1173=self.insertRow(_1177,_1172,null,start++,_1165);_1173.observerIndex=_1168;return _1173;};function _1178(error){if(typeof _1168!=="undefined"){_1166[_1168].cancel();_1166[_1168]=0;self._numObservers--;}if(error){throw error;}};var _1179;function _117a(_117b){_1179=_117b.slice(0);_1167=_1164?_1164.parentNode:self.contentNode;if(_1167&&_1167.parentNode&&(_1167!==self.contentNode||_117b.length)){_1167.insertBefore(_1172,_1164||null);_1173=_117b[_117b.length-1];_1173&&self.adjustRowIndices(_1173);}else{if(_1166[_1168]&&self.cleanEmptyObservers){_1178();}}rows=_117b;if(_1169){_1169.rows=rows;}};if(_1163.map){rows=_1163.map(_1176,console.error);if(rows.then){return _1163.then(function(_117c){_1163=_117c;return rows.then(function(_117d){_117a(_117d);_1171(1,1,0,0);return _1179;});});}}else{rows=[];for(var i=0,l=_1163.length;i<l;i++){rows[i]=_1176(_1163[i]);}}_117a(rows);_1171(1,1,0,0);return _1179;},_onNotification:function(rows,_117e,from,to){},renderHeader:function(){},_autoId:0,insertRow:function(_117f,_1180,_1181,i,_1182){var _1183=_1182.parentId,id=this.id+"-row-"+(_1183?_1183+"-":"")+((this.store&&this.store.getIdentity)?this.store.getIdentity(_117f):this._autoId++),row=byId(id),_1184=row&&row.previousSibling;if(row){if(row===_1181){_1181=(_1181.connected||_1181).nextSibling;}this.removeRow(row);}row=this.renderRow(_117f,_1182);row.className=(row.className||"")+" dgrid-row "+(i%2==1?_1129:_112a)+(this.addUiClasses?" ui-state-default":"");this._rowIdToObject[row.id=id]=_117f;_1180.insertBefore(row,_1181||null);if(_1184){this.adjustRowIndices(_1184);}row.rowIndex=i;return row;},renderRow:function(value,_1185){return put("div",""+value);},removeRow:function(_1186,_1187){_1186=_1186.element||_1186;delete this._rowIdToObject[_1186.id];if(!_1187){put(_1186,"!");}},row:function(_1188){var id;if(_1188 instanceof this._Row){return _1188;}if(_1188.target&&_1188.target.nodeType){_1188=_1188.target;}if(_1188.nodeType){var _1189;do{var rowId=_1188.id;if((_1189=this._rowIdToObject[rowId])){return new this._Row(rowId.substring(this.id.length+5),_1189,_1188);}_1188=_1188.parentNode;}while(_1188&&_1188!=this.domNode);return;}if(typeof _1188=="object"){id=this.store.getIdentity(_1188);}else{id=_1188;_1188=this._rowIdToObject[this.id+"-row-"+id];}return new this._Row(id,_1188,byId(this.id+"-row-"+id));},cell:function(_118a){return {row:this.row(_118a)};},_move:function(item,steps,_118b,_118c){var _118d,_118e,_118f;_118f=_118e=item.element;steps=steps||1;do{if((_118d=_118e[steps<0?"previousSibling":"nextSibling"])){do{_118e=_118d;if(_118e&&(_118e.className+" ").indexOf(_118b+" ")>-1){_118f=_118e;steps+=steps<0?1:-1;break;}}while((_118d=(!_118c||!_118e.hidden)&&_118e[steps<0?"lastChild":"firstChild"]));}else{_118e=_118e.parentNode;if(!_118e||_118e===this.bodyNode||_118e===this.headerNode){break;}}}while(steps);return _118f;},up:function(row,steps,_1190){if(!row.element){row=this.row(row);}return this.row(this._move(row,-(steps||1),"dgrid-row",_1190));},down:function(row,steps,_1191){if(!row.element){row=this.row(row);}return this.row(this._move(row,steps||1,"dgrid-row",_1191));},scrollTo:has("touch")?function(_1192){return this.useTouchScroll?this.inherited(arguments):_1141.call(this,_1192);}:_1141,getScrollPosition:has("touch")?function(){return this.useTouchScroll?this.inherited(arguments):_1140.call(this);}:_1140,get:function(name){var fn="_get"+name.charAt(0).toUpperCase()+name.slice(1);if(typeof this[fn]==="function"){return this[fn].apply(this,[].slice.call(arguments,1));}if(!1&&typeof this[fn+"Attr"]==="function"){}return this[name];},set:function(name,value){if(typeof name==="object"){for(var k in name){this.set(k,name[k]);}}else{var fn="_set"+name.charAt(0).toUpperCase()+name.slice(1);if(typeof this[fn]==="function"){this[fn].apply(this,[].slice.call(arguments,1));}else{if(!1&&typeof this[fn+"Attr"]==="function"){}this[name]=value;}}return this;},_getClass:_113e,_setClass:_113c,_getClassName:_113e,_setClassName:_113c,_setSort:function(_1193,_1194){this._sort=typeof _1193!="string"?_1193:[{attribute:_1193,descending:_1194}];this.refresh();if(this._lastCollection){if(_1193.length){if(typeof _1193!="string"){_1194=_1193[0].descending;_1193=_1193[0].attribute;}this._lastCollection.sort(function(a,b){var aVal=a[_1193],bVal=b[_1193];if(aVal===undefined){aVal="";}if(bVal===undefined){bVal="";}return aVal==bVal?0:(aVal>bVal==!_1194?1:-1);});}this.renderArray(this._lastCollection);}},sort:function(_1195,_1196){_1123.deprecated("sort(...)","use set(\"sort\", ...) instead","dgrid 0.4");this.set("sort",_1195,_1196);},_getSort:function(){return this._sort;},_setShowHeader:function(show){var _1197=this.headerNode;this.showHeader=show;put(_1197,(show?"!":".")+"dgrid-header-hidden");this.renderHeader();this.resize();if(show){_1197.scrollLeft=this.getScrollPosition().x;}},setShowHeader:function(show){_1123.deprecated("setShowHeader(...)","use set(\"showHeader\", ...) instead","dgrid 0.4");this.set("showHeader",show);},_setShowFooter:function(show){this.showFooter=show;put(this.footerNode,(show?"!":".")+"dgrid-footer-hidden");this.resize();}});});},"prcommon2/clippings/windowsettings":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../clippings/templates/windowsettings.html","dijit/layout/ContentPane","dijit/layout/BorderContainer","ttl/utilities2","dojo/topic","dojo/request","dojox/data/JsonRestStore","ttl/store/JsonRest","dojo/store/Observable","dojo/_base/lang","dojo/dom-attr","dojo/data/ItemFileReadStore","dojo/data/ItemFileWriteStore","dojo/dom-class","dojo/dom-construct","dijit/form/ValidationTextBox","dijit/form/DateTextBox","dijit/form/NumberTextBox","dijit/form/CurrencyTextBox","dijit/form/Textarea","dijit/form/Select","dojox/validate/regexp","prcommon2/outlet/OutletSelect","prcommon2/date/daterange","dijit/form/ComboBox"],function(_1198,_1199,_119a,_119b,_119c,_119d,topic,_119e,_119f,_11a0,_11a1,lang,_11a2,_11a3,_11a4,_11a5,_11a6){return _1198("prcommon2.clippings.windowsettings",[_1199],{templateString:_119a,constructor:function(){this._updatesettings_call_back=lang.hitch(this,this._updatesettings_call);this._load_call_back=lang.hitch(this,this._load_call);this._questions=new _119f({target:"/clippings/analyse/get_global_list",idAttribute:"id"});this._clients=new _119f({target:"/clients/rest_combo",idAttribute:"id"});this._issues=new _119f({target:"/crm/issues/issues_list_rest",idAttribute:"id"});this._chartview=new _11a3({url:"/common/lookups?searchtype=chartview"});this._dateranges=new _11a3({url:"/common/lookups?searchtype=dateranges"});this._groupby=new _11a4({url:"/common/lookups?searchtype=groupby",clearOnClose:true,urlPreventCache:true,nocallback:true});this._dashboardsettingsmode=new _11a3({url:"/common/lookups?searchtype=dashboardsettingsmode"});this._dashboardsettingsstandard=new _11a3({url:"/common/lookups?searchtype=dashboardsettingsstandard"});this._dashboardsettingsstandardsearchby=new _11a4({url:"/common/lookups?searchtype=dashboardsettingsstandardsearchby",clearOnClose:true,urlPreventCache:true,nocallback:true});this._change_client_enabled=true;this._windowid=null;this._customerid=PRMAX.utils.settings.cid;},postCreate:function(){this.chartviewid.set("store",this._chartview);this.daterangeid.set("store",this._dateranges);this.groupbyid.set("store",this._groupby);this.dashboardsettingsmodeid.set("store",this._dashboardsettingsmode);this.dashboardsettingsstandardid.set("store",this._dashboardsettingsstandard);this.dashboardsettingsstandardsearchbyid.set("store",this._dashboardsettingsstandardsearchby);this.questionid.set("store",this._questions);this.clientid.set("store",this._clients);this.issueid.set("store",this._issues);_11a2.set(this.issue_label_1,"innerHTML",PRMAX.utils.settings.issue_description);_11a2.set(this.client_label_1,"innerHTML",PRMAX.utils.settings.client_name);this.chartviewid.set("value",1);this.daterangeid.set("value",1);this.groupbyid.set("value",1);this.dashboardsettingsmodeid.set("value",1);this.dashboardsettingsstandardid.set("value",1);this.dashboardsettingsstandardsearchbyid.set("value",1);this.clientid.set("value",null);this.issueid.set("value",null);this.inherited(arguments);},load:function(_11a7,_11a8,_11a9){this._clear();this._dialog=_11a7;this._windowid=_11a8;this._customerid=_11a9;if(this._dashboardsettingsstandardsearchby._itemsByIdentity[3]&&this._dashboardsettingsstandardsearchby._itemsByIdentity[3]!=undefined){this._dashboardsettingsstandardsearchby.deleteItem(this._dashboardsettingsstandardsearchby._itemsByIdentity[3]);}_119e.post("/clippings/dashboardsettings/get_for_edit",_119d.make_params({data:{customerid:this._customerid,windowid:this._windowid}})).then(this._load_call_back);},_load_call:function(_11aa){if(_11aa.success=="OK"){if(_11aa.data!=null){this.dashboardsettingsmodeid.set("value",_11aa.data.dashboardsettingsmodeid);if(_11aa.data.dashboardsettingsmodeid==1){_11a5.add(this.questionlabel,"prmaxhidden");_11a5.add(this.questionid.domNode,"prmaxhidden");_11a5.remove(this.dashboardsettingsstandardlabel,"prmaxhidden");_11a5.remove(this.dashboardsettingsstandardid.domNode,"prmaxhidden");_11a5.remove(this.dashboardsettingsstandardsearchbylabel,"prmaxhidden");_11a5.remove(this.dashboardsettingsstandardsearchbyid.domNode,"prmaxhidden");}else{if(_11aa.data.dashboardsettingsmodeid==2){_11a5.add(this.dashboardsettingsstandardlabel,"prmaxhidden");_11a5.add(this.dashboardsettingsstandardid.domNode,"prmaxhidden");_11a5.add(this.dashboardsettingsstandardsearchbylabel,"prmaxhidden");_11a5.add(this.dashboardsettingsstandardsearchbyid.domNode,"prmaxhidden");_11a5.remove(this.questionlabel,"prmaxhidden");_11a5.remove(this.questionid.domNode,"prmaxhidden");}}this.dashboardsettingsstandardid.set("value",_11aa.data.dashboardsettingsstandardid);this.dashboardsettingsstandardsearchbyid.set("value",_11aa.data.dashboardsettingsstandardsearchbyid);this.questionid.set("value",_11aa.data.questionid);this._change_client_enabled=false;this.by_client.set("value",_11aa.data.by_client);if(_11aa.data.by_client==true){_11a5.remove(this.client_label_1,"prmaxhidden");_11a5.remove(this.clientid.domNode,"prmaxhidden");}else{_11a5.add(this.client_label_1,"prmaxhidden");_11a5.add(this.clientid.domNode,"prmaxhidden");}this.clientid.set("value",_11aa.data.clientid);this.by_issue.set("value",_11aa.data.by_issue);if(_11aa.data.by_issue==true){_11a5.remove(this.issue_label_1,"prmaxhidden");_11a5.remove(this.issueid.domNode,"prmaxhidden");}else{_11a5.add(this.issue_label_1,"prmaxhidden");_11a5.add(this.issueid.domNode,"prmaxhidden");}this.issueid.set("value",_11aa.data.issueid);this.chartviewid.set("value",_11aa.data.chartviewid);if(_11aa.data.chartviewid==1){_11a5.add(this.groupby_label,"prmaxhidden");_11a5.add(this.groupbyid.domNode,"prmaxhidden");}else{_11a5.remove(this.groupby_label,"prmaxhidden");_11a5.remove(this.groupbyid.domNode,"prmaxhidden");}this.daterangeid.set("value",_11aa.data.daterangeid);this.groupbyid.set("value",_11aa.data.groupbyid);}}else{alert("Problem");}},_clear:function(){this.clear();},clear:function(){this.dashboardsettingsmodeid.set("value",1);this.dashboardsettingsstandardid.set("value",null);this.dashboardsettingsstandardsearchbyid.set("value",null);this.questionid.set("value",null);this.chartviewid.set("value",1);this.daterangeid.set("value",1);this.groupbyid.set("value",1);_11a5.add(this.groupby_label,"prmaxhidden");_11a5.add(this.groupbyid.domNode,"prmaxhidden");this.by_client.set("checked",false);this.by_issue.set("checked",false);_11a5.add(this.client_label_1,"prmaxhidden");_11a5.add(this.clientid.domNode,"prmaxhidden");_11a5.add(this.issue_label_1,"prmaxhidden");_11a5.add(this.issueid.domNode,"prmaxhidden");this._change_client_enabled=false;this.clientid.set("value",null);this.issueid.set("value",null);this._change_client_enabled=true;this.savesettingsbtn.cancel();},_client_change:function(){var _11ab=this.clientid.get("value");if(_11ab==undefined){_11ab=-1;}this.issueid.set("query",{clientid:_11ab});if(this._change_client_enabled==true){this.issueid.set("value",null);}this._change_client_enabled=true;},_save_settings:function(){if(_119d.form_validator(this.formnode)==false){alert("Please Enter Details");this.savesettingsbtn.cancel();return false;}var _11ac=this.formnode.get("value");_11ac["windowid"]=this._windowid;_11ac["dashboardsettingsstandardid"]=null;_11ac["dashboardsettingsstandardsearchbyid"]=null;_11ac["questionid"]=null;_11ac["clientid"]=null;_11ac["issueid"]=null;_11ac["by_client"]=false;_11ac["by_issue"]=false;_11ac["customerid"]=this._customerid;_11ac["dashboardsettingsmodeid"]=this.dashboardsettingsmodeid.get("value");if(this.dashboardsettingsmodeid==1){if(this.dashboardsettingsstandardid.get("value")==""){this.dashboardsettingsstandardid.set("value")=1;}if(this.dashboardsettingsstandardsearchbyid.get("value")==""){this.dashboardsettingsstandardsearchbyid.set("value")=1;}_11ac["dashboardsettingsstandardid"]=this.dashboardsettingsstandardid.get("value");_11ac["dashboardsettingsstandardsearchbyid"]=this.dashboardsettingsstandardsearchbyid.get("value");if(this.by_client.checked&&(this.clientid.get("value")==-1||this.clientid.get("value")==null||this.clientid.get("value")=="")){alert("Please Select a Client");this.savesettingsbtn.cancel();return false;}if(this.by_issue.checked&&(this.issueid.get("value")==-1||this.issueid.get("value")==null||this.issueid.get("value")=="")){alert("Please Select an Issue");this.savesettingsbtn.cancel();return false;}}else{if(this.dashboardsettingsmodeid==2){_11ac["questionid"]=this.questionid.get("value");_11ac["questiontypeid"]=this.questionid.item.typeid;}}if(this.by_client.checked){_11ac["by_client"]=true;_11ac["clientid"]=this.clientid.get("value");}if(this.by_issue.checked){_11ac["by_issue"]=true;_11ac["issueid"]=this.issueid.get("value");}_11ac["chartviewid"]=this.chartviewid.get("value");_11ac["daterangeid"]=this.daterangeid.get("value");_11ac["groupbyid"]=this.groupbyid.get("value");this.savesettingsbtn.makeBusy();_119e.post("/clippings/dashboardsettings/dashboardsettings_update",_119d.make_params({data:_11ac})).then(this._updatesettings_call_back);},_updatesettings_call:function(_11ad){if(_11ad.success=="OK"){alert("Settings saved");this._dialog.hide();topic.publish("/dashboardsettings/update",[_11ad.data]);}else{alert("Problem saving settings");}this.savesettingsbtn.cancel();},_change_mode:function(){if(this.dashboardsettingsmodeid.get("value")==1){_11a5.remove(this.dashboardsettingsstandardlabel,"prmaxhidden");_11a5.remove(this.dashboardsettingsstandardid.domNode,"prmaxhidden");_11a5.remove(this.dashboardsettingsstandardsearchbylabel,"prmaxhidden");_11a5.remove(this.dashboardsettingsstandardsearchbyid.domNode,"prmaxhidden");_11a5.add(this.questionlabel,"prmaxhidden");_11a5.add(this.questionid.domNode,"prmaxhidden");}else{_11a5.add(this.dashboardsettingsstandardlabel,"prmaxhidden");_11a5.add(this.dashboardsettingsstandardid.domNode,"prmaxhidden");_11a5.add(this.dashboardsettingsstandardsearchbylabel,"prmaxhidden");_11a5.add(this.dashboardsettingsstandardsearchbyid.domNode,"prmaxhidden");_11a5.remove(this.questionlabel,"prmaxhidden");_11a5.remove(this.questionid.domNode,"prmaxhidden");}},_by_client:function(){if(this.by_client.checked){_11a5.remove(this.client_label_1,"prmaxhidden");_11a5.remove(this.clientid.domNode,"prmaxhidden");}else{_11a5.add(this.client_label_1,"prmaxhidden");_11a5.add(this.clientid.domNode,"prmaxhidden");}},_by_issue:function(){if(this.by_issue.checked){_11a5.remove(this.issue_label_1,"prmaxhidden");_11a5.remove(this.issueid.domNode,"prmaxhidden");}else{_11a5.add(this.issue_label_1,"prmaxhidden");_11a5.add(this.issueid.domNode,"prmaxhidden");}},_chartview_change:function(){if(this.chartviewid.get("value")==1){_11a5.add(this.groupby_label,"prmaxhidden");_11a5.add(this.groupbyid.domNode,"prmaxhidden");}else{_11a5.remove(this.groupby_label,"prmaxhidden");_11a5.remove(this.groupbyid.domNode,"prmaxhidden");}},_change_daterange:function(){if(this.daterangeid.get("value")>=6){if(this._groupby._itemsByIdentity[1]&&this._groupby._itemsByIdentity[1]!=undefined){this._groupby.deleteItem(this._groupby._itemsByIdentity[1]);}this._groupby.save();if(this.groupbyid.get("value")==1){this.groupbyid.set("value",2);}}else{if(this.daterangeid.get("value")<6){this._groupby.close();this.groupbyid.set("query",{});}}}});});},"ttl/utilities2":function(){define(["dojo/_base/declare","dojo/number","dojo/_base/lang","dojo/_base/array"],function(_11ae,_11af,lang,array){tmp=_11ae("ttl.utilities2",null,{});ttl.utilities2.generic_view=function(_11b0){if(_11b0==null){return "...";}if(_11b0){return "<img src=\"/prcommon/images/view.png\" alt=\"view\" width=\"16\" height=\"16\" style=\"padding:0px;margin:0px\"/>";}return "";};ttl.utilities2.delete_icon=function(_11b1){if(_11b1==null){return "...";}return "<img title=\""+_11b1+"\" height=\"10px\" width=\"10px\" style=\"padding:0x;margin:0px\" src=\"/prcommon/images/delete.gif\"></img>";};ttl.utilities2.delete_icon_row=function(_11b2){return "<img height=\"10px\" width=\"10px\" style=\"padding:0x;margin:0px\" src=\"/prcommon/images/delete.gif\"></img>";};ttl.utilities2.edit_icon=function(_11b3){if(_11b3==null){return "...";}return "<img title=\""+_11b3+"\" height=\"10px\" width=\"10px\" style=\"padding:0x;margin:0px\" src=\"/prcommon/images/edit.gif\"></img>";};ttl.utilities2.row_button_small=function(_11b4){if(_11b4==null){return "...";}return "<img height=\"10px\" width=\"10px\" style=\"padding:0x;margin:0px\" src=\"/prcommon/images/rowctrl.gif\"></img>";};ttl.utilities2.format_row_ctrl=function(_11b5){return "<img title=\"Options\" height=\"14px\" width=\"14px\" style=\"padding:0x;margin:0px\" src=\"/prcommon/images/rowctrl.gif\"></img>";};ttl.utilities2.delete_row_ctrl=function(_11b6){return "<img title=\"Delete\" height=\"14px\" width=\"14px\" style=\"padding:0x;margin:0px\" src=\"/prcommon/images/remove.gif\"></img>";};ttl.utilities2.edit_row_ctrl=function(_11b7){return "<img title=\""+_11b7+"\" height=\"14px\" width=\"14px\" style=\"padding:0x;margin:0px\" src=\"/prcommon/images/edit.gif\"></img>";};ttl.utilities2.pdf_icon_row=function(_11b8){if(_11b8==null){return "...";}return "<img height=\"10px\" width=\"10px\" style=\"padding:0x;margin:0px\" src=\"/prcommon/images/pdf.gif\" alt=\"view\"></img>";};ttl.utilities2.check_cell=function(_11b9){var _11ba=_11b9==true?"checked.gif":"unchecked.gif";return "<img  height=\"10px\" width=\"10px\" style=\"padding:0x;margin:0px\" src=\"/prcommon/images/"+_11ba+"\" ></img>";};ttl.utilities2.format_deleted_ctrl=function(_11bb){if(_11bb==2){return "<img height=\"10px\" width=\"10px\" style=\"padding:0x;margin:0px\" src=\"/prcommon/images/delete.gif\"></img>";}else{return "&nbsp;";}};ttl.utilities2.outlet_type=function(_11bc){if(_11bc==null){return "...";}var color="";switch(_11bc){case "national":color="blue";break;case "regional":color="green";break;case "business":color="yellow";break;case "consumer":color="orange";break;case "television":color="purple";break;case "radio":color="black";break;case "internet":color="pink";break;case "news":color="indigo";break;case "others":color="white";break;case "freelance":color="white";break;case "parliamentary":color="gray";break;}return "<div style='background-color:"+color+";width:6px;height:100%'>&nbsp;</div>";};ttl.utilities2.form_validator=function(form){var _11bd=null;return array.every(form.getChildren(),function(_11be){if(_11be.get("disabled")==true){return true;}var rest=!_11be.isValid||_11be.isValid();if(rest==false){if(_11be.isFocusable()){try{_11be.focus();}catch(e){}}else{rest=true;}}return rest;});};ttl.utilities2.to_json_date=function(_11bf){if(_11bf==null){return "";}else{return _11bf.getFullYear()+"-"+(_11bf.getMonth()+1)+"-"+_11bf.getDate();}};ttl.utilities2.error_checker=function(_11c0){var _11c1=false;try{if(_11c0.status==403){_11c1=true;}}catch(a){}if(_11c1){window.location.href=TTL.login_page||"/login";throw "Security Failure";}};ttl.utilities2.add_days_to_date=function(_11c2,days){var _11c3=new Date(_11c2);_11c3.setDate(_11c3.getDate()+days);return _11c3;};ttl.utilities2.xhr_post_error=function(_11c4,_11c5){ttl.utilities2.error_checker(_11c4);if(TTL.isDebug==false){return;}try{alert("Problem with call to server :\nstatus: "+_11c4.status+"\nmessage :"+_11c4.message+"\nresponseText :"+_11c4.responseText);}catch(e){alert("Problem with call to server\n"+_11c4);}};ttl.utilities2.default_params={preventCache:true,timeout:30000,handleAs:"json",url:"/error"};ttl.utilities2.make_params=function(_11c6){var res=lang.mixin({preventCache:true,timeout:30000,handleAs:"json",url:"/error"},_11c6||{});if(_11c6.error==null){res["error"]=ttl.utilities2.xhr_post_error;}return res;};ttl.utilities2.make_params_ignore=function(_11c7){var res=lang.mixin(ttl.utilities2.default_params,_11c7||{});res["error"]=ttl.utilities2.globalerrorchecker;return res;};ttl.utilities2.get_prevent_cache=function(_11c8){var _11c9=new Date().valueOf();return lang.mixin({"dojo.preventCache":_11c9},_11c8||{});};ttl.utilities2.get_prevent_cache_param=function(){var _11ca=new Date().valueOf();return "dojo.preventcache="+_11ca;};ttl.utilities2.from_object_date=function(_11cb){if(_11cb==null||_11cb===""){return new Date();}else{return new Date(new Date(_11cb.year,_11cb.month-1,_11cb.day));}};ttl.utilities2.from_object_date_no_date=function(_11cc){if(_11cc==null||_11cc===""){return null;}else{return new Date(new Date(_11cc.year,_11cc.month-1,_11cc.day));}};ttl.utilities2.display_money=function(_11cd){if(isNaN(_11cd)){return "...";}else{try{return _11af.format(parseFloat(_11cd),{places:2});}catch(e){return "0.00";}}};ttl.utilities2.display_int_money=function(_11ce){if(isNaN(_11ce)){return "...";}else{try{return _11af.format(parseFloat(_11ce)/100,{places:2});}catch(e){return "0.00";}}};ttl.utilities2.document_exists=function(_11cf){if(_11cf==null){return "...";}if(_11cf==true){return "<img src='/prcommon/images/pdf.gif' width='16' height='16' style='padding:0px;margin:0px'/>";}return "";};ttl.utilities2.fonticon=function(_11d0){if(_11d0==null){return "...";}var _11d1="";var _11d2="";switch(_11d0){case "News":_11d1="fa fa-newspaper-o";_11d2="News";break;case "Twitter":_11d1="fa fa-twitter-square";break;case "Facebook":_11d1="fa fa-facebook-square";break;case "Forums":_11d1="fa fa-forumbee";break;case "Blogs":_11d1="fa fa-bold";break;case "Instagram":_11d1="fa fa-instagram";break;case "YouTube":_11d1="fa fa-youtube-square";break;case "GooglePlus":_11d1="fa fa-google-plus-official";break;case "Tumblr":_11d1="fa fa-tumblr-square";break;case "VKontakte":_11d1="fa fa-check-square";break;case "Chat":_11d1="fa fa-weixin";break;}return "<i class=\" fa-fw "+_11d1+"\" title=\""+_11d2+"\" aria-hidden=\"true\"></i>";};ttl.utilities2.fonticon2=function(_11d3){if(_11d3==null){return "...";}return "<i class=\" fa "+_11d3+"\" aria-hidden=\"true\"></i>";};ttl.utilities2.format_row_icon=function(){return "<i class=\" fa fa-bars aria-hidden=\"true\"></i>";};ttl.utilities2.EMPTYGRID={data_mode:"EMPTYGRID"};ttl.utilities2.range=function(start,end){var total=[];if(!end){end=start;start=0;}for(var i=start;i<end;i+=1){total.push(i);}return total;};ttl.utilities2.round_decimals=function(_11d4,_11d5){var _11d6=_11d4*Math.pow(10,_11d5);var _11d7=Math.round(_11d6);var _11d8=_11d7/Math.pow(10,_11d5);return ttl.utilities2.pad_with_zeros(_11d8,_11d5);};ttl.utilities2.pad_with_zeros=function(_11d9,_11da){var _11db=_11d9.toString();var _11dc=_11db.indexOf(".");if(_11dc==-1){decimal_part_length=0;_11db+=_11da>0?".":"";}else{decimal_part_length=_11db.length-_11dc-1;}var _11dd=_11da-decimal_part_length;if(_11dd>0){for(var _11de=1;_11de<=_11dd;_11de++){_11db+="0";}}return _11db;};return tmp;});},"dijit/form/_FormSelectWidget":function(){define(["dojo/_base/array","dojo/_base/Deferred","dojo/aspect","dojo/data/util/sorter","dojo/_base/declare","dojo/dom","dojo/dom-class","dojo/_base/kernel","dojo/_base/lang","dojo/query","dojo/when","dojo/store/util/QueryResults","./_FormValueWidget"],function(array,_11df,_11e0,_11e1,_11e2,dom,_11e3,_11e4,lang,query,when,_11e5,_11e6){var _11e7=_11e2("dijit.form._FormSelectWidget",_11e6,{multiple:false,options:null,store:null,_setStoreAttr:function(val){if(this._created){this._deprecatedSetStore(val);}},query:null,_setQueryAttr:function(query){if(this._created){this._deprecatedSetStore(this.store,this.selectedValue,{query:query});}},queryOptions:null,_setQueryOptionsAttr:function(_11e8){if(this._created){this._deprecatedSetStore(this.store,this.selectedValue,{queryOptions:_11e8});}},labelAttr:"",onFetch:null,sortByLabel:true,loadChildrenOnOpen:false,onLoadDeferred:null,getOptions:function(_11e9){var opts=this.options||[];if(_11e9==null){return opts;}if(lang.isArrayLike(_11e9)){return array.map(_11e9,"return this.getOptions(item);",this);}if(lang.isString(_11e9)){_11e9={value:_11e9};}if(lang.isObject(_11e9)){if(!array.some(opts,function(_11ea,idx){for(var a in _11e9){if(!(a in _11ea)||_11ea[a]!=_11e9[a]){return false;}}_11e9=idx;return true;})){_11e9=-1;}}if(_11e9>=0&&_11e9<opts.length){return opts[_11e9];}return null;},addOption:function(_11eb){array.forEach(lang.isArrayLike(_11eb)?_11eb:[_11eb],function(i){if(i&&lang.isObject(i)){this.options.push(i);}},this);this._loadChildren();},removeOption:function(_11ec){var _11ed=this.getOptions(lang.isArrayLike(_11ec)?_11ec:[_11ec]);array.forEach(_11ed,function(_11ee){if(_11ee){this.options=array.filter(this.options,function(node){return (node.value!==_11ee.value||node.label!==_11ee.label);});this._removeOptionItem(_11ee);}},this);this._loadChildren();},updateOption:function(_11ef){array.forEach(lang.isArrayLike(_11ef)?_11ef:[_11ef],function(i){var _11f0=this.getOptions({value:i.value}),k;if(_11f0){for(k in i){_11f0[k]=i[k];}}},this);this._loadChildren();},setStore:function(store,_11f1,_11f2){_11e4.deprecated(this.declaredClass+"::setStore(store, selectedValue, fetchArgs) is deprecated. Use set('query', fetchArgs.query), set('queryOptions', fetchArgs.queryOptions), set('store', store), or set('value', selectedValue) instead.","","2.0");this._deprecatedSetStore(store,_11f1,_11f2);},_deprecatedSetStore:function(store,_11f3,_11f4){var _11f5=this.store;_11f4=_11f4||{};if(_11f5!==store){var h;while((h=this._notifyConnections.pop())){h.remove();}if(!store.get){lang.mixin(store,{_oldAPI:true,get:function(id){var _11f6=new _11df();this.fetchItemByIdentity({identity:id,onItem:function(_11f7){_11f6.resolve(_11f7);},onError:function(error){_11f6.reject(error);}});return _11f6.promise;},query:function(query,_11f8){var _11f9=new _11df(function(){if(_11fa.abort){_11fa.abort();}});_11f9.total=new _11df();var _11fa=this.fetch(lang.mixin({query:query,onBegin:function(count){_11f9.total.resolve(count);},onComplete:function(_11fb){_11f9.resolve(_11fb);},onError:function(error){_11f9.reject(error);}},_11f8));return new _11e5(_11f9);}});if(store.getFeatures()["dojo.data.api.Notification"]){this._notifyConnections=[_11e0.after(store,"onNew",lang.hitch(this,"_onNewItem"),true),_11e0.after(store,"onDelete",lang.hitch(this,"_onDeleteItem"),true),_11e0.after(store,"onSet",lang.hitch(this,"_onSetItem"),true)];}}this._set("store",store);}if(this.options&&this.options.length){this.removeOption(this.options);}if(this._queryRes&&this._queryRes.close){this._queryRes.close();}if(this._observeHandle&&this._observeHandle.remove){this._observeHandle.remove();this._observeHandle=null;}if(_11f4.query){this._set("query",_11f4.query);}if(_11f4.queryOptions){this._set("queryOptions",_11f4.queryOptions);}if(store&&store.query){this._loadingStore=true;this.onLoadDeferred=new _11df();this._queryRes=store.query(this.query,this.queryOptions);when(this._queryRes,lang.hitch(this,function(items){if(this.sortByLabel&&!_11f4.sort&&items.length){if(store.getValue){items.sort(_11e1.createSortFunction([{attribute:store.getLabelAttributes(items[0])[0]}],store));}else{var _11fc=this.labelAttr;items.sort(function(a,b){return a[_11fc]>b[_11fc]?1:b[_11fc]>a[_11fc]?-1:0;});}}if(_11f4.onFetch){items=_11f4.onFetch.call(this,items,_11f4);}array.forEach(items,function(i){this._addOptionForItem(i);},this);if(this._queryRes.observe){this._observeHandle=this._queryRes.observe(lang.hitch(this,function(_11fd,_11fe,_11ff){if(_11fe==_11ff){this._onSetItem(_11fd);}else{if(_11fe!=-1){this._onDeleteItem(_11fd);}if(_11ff!=-1){this._onNewItem(_11fd);}}}),true);}this._loadingStore=false;this.set("value","_pendingValue" in this?this._pendingValue:_11f3);delete this._pendingValue;if(!this.loadChildrenOnOpen){this._loadChildren();}else{this._pseudoLoadChildren(items);}this.onLoadDeferred.resolve(true);this.onSetStore();}),lang.hitch(this,function(err){this.onLoadDeferred.reject(err);}));}return _11f5;},_setValueAttr:function(_1200,_1201){if(!this._onChangeActive){_1201=null;}if(this._loadingStore){this._pendingValue=_1200;return;}if(_1200==null){return;}if(lang.isArrayLike(_1200)){_1200=array.map(_1200,function(value){return lang.isObject(value)?value:{value:value};});}else{if(lang.isObject(_1200)){_1200=[_1200];}else{_1200=[{value:_1200}];}}_1200=array.filter(this.getOptions(_1200),function(i){return i&&i.value;});var opts=this.getOptions()||[];if(!this.multiple&&(!_1200[0]||!_1200[0].value)&&!!opts.length){_1200[0]=opts[0];}array.forEach(opts,function(opt){opt.selected=array.some(_1200,function(v){return v.value===opt.value;});});var val=array.map(_1200,function(opt){return opt.value;});if(typeof val=="undefined"||typeof val[0]=="undefined"){return;}var disp=array.map(_1200,function(opt){return opt.label;});this._setDisplay(this.multiple?disp:disp[0]);this.inherited(arguments,[this.multiple?val:val[0],_1201]);this._updateSelection();},_getDisplayedValueAttr:function(){var ret=array.map([].concat(this.get("selectedOptions")),function(v){if(v&&"label" in v){return v.label;}else{if(v){return v.value;}}return null;},this);return this.multiple?ret:ret[0];},_setDisplayedValueAttr:function(label){this.set("value",this.getOptions(typeof label=="string"?{label:label}:label));},_loadChildren:function(){if(this._loadingStore){return;}array.forEach(this._getChildren(),function(child){child.destroyRecursive();});array.forEach(this.options,this._addOptionItem,this);this._updateSelection();},_updateSelection:function(){this.focusedChild=null;this._set("value",this._getValueFromOpts());var val=[].concat(this.value);if(val&&val[0]){var self=this;array.forEach(this._getChildren(),function(child){var _1202=array.some(val,function(v){return child.option&&(v===child.option.value);});if(_1202&&!self.multiple){self.focusedChild=child;}_11e3.toggle(child.domNode,this.baseClass.replace(/\s+|$/g,"SelectedOption "),_1202);child.domNode.setAttribute("aria-selected",_1202?"true":"false");},this);}},_getValueFromOpts:function(){var opts=this.getOptions()||[];if(!this.multiple&&opts.length){var opt=array.filter(opts,function(i){return i.selected;})[0];if(opt&&opt.value){return opt.value;}else{opts[0].selected=true;return opts[0].value;}}else{if(this.multiple){return array.map(array.filter(opts,function(i){return i.selected;}),function(i){return i.value;})||[];}}return "";},_onNewItem:function(item,_1203){if(!_1203||!_1203.parent){this._addOptionForItem(item);}},_onDeleteItem:function(item){var store=this.store;this.removeOption({value:store.getIdentity(item)});},_onSetItem:function(item){this.updateOption(this._getOptionObjForItem(item));},_getOptionObjForItem:function(item){var store=this.store,label=(this.labelAttr&&this.labelAttr in item)?item[this.labelAttr]:store.getLabel(item),value=(label?store.getIdentity(item):null);return {value:value,label:label,item:item};},_addOptionForItem:function(item){var store=this.store;if(store.isItemLoaded&&!store.isItemLoaded(item)){store.loadItem({item:item,onItem:function(i){this._addOptionForItem(i);},scope:this});return;}var _1204=this._getOptionObjForItem(item);this.addOption(_1204);},constructor:function(_1205){this._oValue=(_1205||{}).value||null;this._notifyConnections=[];},buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.focusNode,false);},_fillContent:function(){if(!this.options){this.options=this.srcNodeRef?query("> *",this.srcNodeRef).map(function(node){if(node.getAttribute("type")==="separator"){return {value:"",label:"",selected:false,disabled:false};}return {value:(node.getAttribute("data-"+_11e4._scopeName+"-value")||node.getAttribute("value")),label:String(node.innerHTML),selected:node.getAttribute("selected")||false,disabled:node.getAttribute("disabled")||false};},this):[];}if(!this.value){this._set("value",this._getValueFromOpts());}else{if(this.multiple&&typeof this.value=="string"){this._set("value",this.value.split(","));}}},postCreate:function(){this.inherited(arguments);_11e0.after(this,"onChange",lang.hitch(this,"_updateSelection"));var store=this.store;if(store&&(store.getIdentity||store.getFeatures()["dojo.data.api.Identity"])){this.store=null;this._deprecatedSetStore(store,this._oValue,{query:this.query,queryOptions:this.queryOptions});}this._storeInitialized=true;},startup:function(){this._loadChildren();this.inherited(arguments);},destroy:function(){var h;while((h=this._notifyConnections.pop())){h.remove();}if(this._queryRes&&this._queryRes.close){this._queryRes.close();}if(this._observeHandle&&this._observeHandle.remove){this._observeHandle.remove();this._observeHandle=null;}this.inherited(arguments);},_addOptionItem:function(){},_removeOptionItem:function(){},_setDisplay:function(){},_getChildren:function(){return [];},_getSelectedOptionsAttr:function(){return this.getOptions({selected:true});},_pseudoLoadChildren:function(){},onSetStore:function(){}});return _11e7;});},"dijit/form/_ComboBoxMenu":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/dom-style","dojo/keys","../_WidgetBase","../_TemplatedMixin","./_ComboBoxMenuMixin","./_ListMouseMixin"],function(_1206,_1207,_1208,keys,_1209,_120a,_120b,_120c){return _1206("dijit.form._ComboBoxMenu",[_1209,_120a,_120c,_120b],{templateString:"<div class='dijitReset dijitMenu' data-dojo-attach-point='containerNode' style='overflow: auto; overflow-x: hidden;' role='listbox'>"+"<div class='dijitMenuItem dijitMenuPreviousButton' data-dojo-attach-point='previousButton' role='option'></div>"+"<div class='dijitMenuItem dijitMenuNextButton' data-dojo-attach-point='nextButton' role='option'></div>"+"</div>",baseClass:"dijitComboBoxMenu",postCreate:function(){this.inherited(arguments);if(!this.isLeftToRight()){_1207.add(this.previousButton,"dijitMenuItemRtl");_1207.add(this.nextButton,"dijitMenuItemRtl");}this.containerNode.setAttribute("role","listbox");},_createMenuItem:function(){var item=this.ownerDocument.createElement("div");item.className="dijitReset dijitMenuItem"+(this.isLeftToRight()?"":" dijitMenuItemRtl");item.setAttribute("role","option");return item;},onHover:function(node){_1207.add(node,"dijitMenuItemHover");},onUnhover:function(node){_1207.remove(node,"dijitMenuItemHover");},onSelect:function(node){_1207.add(node,"dijitMenuItemSelected");},onDeselect:function(node){_1207.remove(node,"dijitMenuItemSelected");},_page:function(up){var _120d=0;var _120e=this.domNode.scrollTop;var _120f=_1208.get(this.domNode,"height");if(!this.getHighlightedOption()){this.selectNextNode();}while(_120d<_120f){var _1210=this.getHighlightedOption();if(up){if(!_1210.previousSibling||_1210.previousSibling.style.display=="none"){break;}this.selectPreviousNode();}else{if(!_1210.nextSibling||_1210.nextSibling.style.display=="none"){break;}this.selectNextNode();}var _1211=this.domNode.scrollTop;_120d+=(_1211-_120e)*(up?-1:1);_120e=_1211;}},handleKey:function(evt){switch(evt.keyCode){case keys.DOWN_ARROW:this.selectNextNode();return false;case keys.PAGE_DOWN:this._page(false);return false;case keys.UP_ARROW:this.selectPreviousNode();return false;case keys.PAGE_UP:this._page(true);return false;default:return true;}}});});},"dijit/layout/_TabContainerBase":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","./StackContainer","./utils","../_TemplatedMixin","dojo/text!./templates/TabContainer.html"],function(_1212,_1213,_1214,_1215,_1216,_1217,_1218,_1219){return _1212("dijit.layout._TabContainerBase",[_1216,_1218],{tabPosition:"top",baseClass:"dijitTabContainer",tabStrip:false,nested:false,templateString:_1219,postMixInProperties:function(){this.baseClass+=this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"");this.srcNodeRef&&_1215.set(this.srcNodeRef,"visibility","hidden");this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);this.tablist=this._makeController(this.tablistNode);if(!this.doLayout){_1213.add(this.domNode,"dijitTabContainerNoLayout");}if(this.nested){_1213.add(this.domNode,"dijitTabContainerNested");_1213.add(this.tablist.containerNode,"dijitTabContainerTabListNested");_1213.add(this.tablistSpacer,"dijitTabContainerSpacerNested");_1213.add(this.containerNode,"dijitTabPaneWrapperNested");}else{_1213.add(this.domNode,"tabStrip-"+(this.tabStrip?"enabled":"disabled"));}},_setupChild:function(tab){_1213.add(tab.domNode,"dijitTabPane");this.inherited(arguments);},startup:function(){if(this._started){return;}this.tablist.startup();this.inherited(arguments);},layout:function(){if(!this._contentBox||typeof (this._contentBox.l)=="undefined"){return;}var sc=this.selectedChildWidget;if(this.doLayout){var _121a=this.tabPosition.replace(/-h/,"");this.tablist.region=_121a;var _121b=[this.tablist,{domNode:this.tablistSpacer,region:_121a},{domNode:this.containerNode,region:"center"}];_1217.layoutChildren(this.domNode,this._contentBox,_121b);this._containerContentBox=_1217.marginBox2contentBox(this.containerNode,_121b[2]);if(sc&&sc.resize){sc.resize(this._containerContentBox);}}else{if(this.tablist.resize){var s=this.tablist.domNode.style;s.width="0";var width=_1214.getContentBox(this.domNode).w;s.width="";this.tablist.resize({w:width});}if(sc&&sc.resize){sc.resize();}}},destroy:function(_121c){if(this.tablist){this.tablist.destroy(_121c);}this.inherited(arguments);}});});},"dijit/_KeyNavContainer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/_base/kernel","dojo/keys","dojo/_base/lang","./registry","./_Container","./_FocusMixin","./_KeyNavMixin"],function(array,_121d,_121e,_121f,keys,lang,_1220,_1221,_1222,_1223){return _121d("dijit._KeyNavContainer",[_1222,_1223,_1221],{connectKeyNavHandlers:function(_1224,_1225){var _1226=(this._keyNavCodes={});var prev=lang.hitch(this,"focusPrev");var next=lang.hitch(this,"focusNext");array.forEach(_1224,function(code){_1226[code]=prev;});array.forEach(_1225,function(code){_1226[code]=next;});_1226[keys.HOME]=lang.hitch(this,"focusFirstChild");_1226[keys.END]=lang.hitch(this,"focusLastChild");},startupKeyNavChildren:function(){_121f.deprecated("startupKeyNavChildren() call no longer needed","","2.0");},startup:function(){this.inherited(arguments);array.forEach(this.getChildren(),lang.hitch(this,"_startupChild"));},addChild:function(_1227,_1228){this.inherited(arguments);this._startupChild(_1227);},_startupChild:function(_1229){_1229.set("tabIndex","-1");},_getFirst:function(){var _122a=this.getChildren();return _122a.length?_122a[0]:null;},_getLast:function(){var _122b=this.getChildren();return _122b.length?_122b[_122b.length-1]:null;},focusNext:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,1));},focusPrev:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,-1),true);},childSelector:function(node){var node=_1220.byNode(node);return node&&node.getParent()==this;}});});},"dijit/form/DataList":function(){define(["dojo/_base/declare","dojo/dom","dojo/_base/lang","dojo/query","dojo/store/Memory","../registry"],function(_122c,dom,lang,query,_122d,_122e){function _122f(_1230){return {id:_1230.value,value:_1230.value,name:lang.trim(_1230.innerText||_1230.textContent||"")};};return _122c("dijit.form.DataList",_122d,{constructor:function(_1231,_1232){this.domNode=dom.byId(_1232);lang.mixin(this,_1231);if(this.id){_122e.add(this);}this.domNode.style.display="none";this.inherited(arguments,[{data:query("option",this.domNode).map(_122f)}]);},destroy:function(){_122e.remove(this.id);},fetchSelectedItem:function(){var _1233=query("> option[selected]",this.domNode)[0]||query("> option",this.domNode)[0];return _1233&&_122f(_1233);}});});},"prcommon2/web/WebButton":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../web/templates/WebButton.html","dojo/request","ttl/utilities2","dojo/json","dojo/_base/lang","dojo/dom-class","dojo/topic","dijit/form/Button"],function(_1234,_1235,_1236,_1237,_1238,json,lang,_1239,topic){return _1234("prcommon2.web.WebButton",[_1235],{templateString:_1236,constructor:function(){},postCreate:function(){},_getSourceAttr:function(){return this.webbutton;},_setSourceAttr:function(value){this.webbutton=value;},_open_url_new_tab:function(){var url="";if(typeof this.webbutton=="string"){url=this.webbutton;}else{url=this.webbutton.get("value");}if(url&&url!=""){var win=window.open(url,"_blank");win.focus();}}});});},"dijit/Tooltip":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/fx","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","./_base/manager","./place","./_Widget","./_TemplatedMixin","./BackgroundIframe","dojo/text!./templates/Tooltip.html","./main"],function(array,_123a,fx,dom,_123b,_123c,_123d,lang,mouse,on,has,_123e,place,_123f,_1240,_1241,_1242,dijit){var _1243=_123a("dijit._MasterTooltip",[_123f,_1240],{duration:_123e.defaultDuration,templateString:_1242,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.bgIframe=new _1241(this.domNode);this.fadeIn=fx.fadeIn({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onShow")});this.fadeOut=fx.fadeOut({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onHide")});},show:function(_1244,_1245,_1246,rtl,_1247,_1248,_1249){if(this.aroundNode&&this.aroundNode===_1245&&this.containerNode.innerHTML==_1244){return;}if(this.fadeOut.status()=="playing"){this._onDeck=arguments;return;}this.containerNode.innerHTML=_1244;if(_1247){this.set("textDir",_1247);}this.containerNode.align=rtl?"right":"left";var pos=place.around(this.domNode,_1245,_1246&&_1246.length?_1246:_124a.defaultPosition,!rtl,lang.hitch(this,"orient"));var _124b=pos.aroundNodePos;if(pos.corner.charAt(0)=="M"&&pos.aroundCorner.charAt(0)=="M"){this.connectorNode.style.top=_124b.y+((_124b.h-this.connectorNode.offsetHeight)>>1)-pos.y+"px";this.connectorNode.style.left="";}else{if(pos.corner.charAt(1)=="M"&&pos.aroundCorner.charAt(1)=="M"){this.connectorNode.style.left=_124b.x+((_124b.w-this.connectorNode.offsetWidth)>>1)-pos.x+"px";}else{this.connectorNode.style.left="";this.connectorNode.style.top="";}}_123d.set(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=true;this.aroundNode=_1245;this.onMouseEnter=_1248||noop;this.onMouseLeave=_1249||noop;},orient:function(node,_124c,_124d,_124e,_124f){this.connectorNode.style.top="";var _1250=_124e.h,_1251=_124e.w;node.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_124c+"-"+_124d];this.domNode.style.width="auto";var size=_123c.position(this.domNode);if(has("ie")||has("trident")){size.w+=2;}var width=Math.min((Math.max(_1251,1)),size.w);_123c.setMarginBox(this.domNode,{w:width});if(_124d.charAt(0)=="B"&&_124c.charAt(0)=="B"){var bb=_123c.position(node);var _1252=this.connectorNode.offsetHeight;if(bb.h>_1250){var _1253=_1250-((_124f.h+_1252)>>1);this.connectorNode.style.top=_1253+"px";this.connectorNode.style.bottom="";}else{this.connectorNode.style.bottom=Math.min(Math.max(_124f.h/2-_1252/2,0),bb.h-_1252)+"px";this.connectorNode.style.top="";}}else{this.connectorNode.style.top="";this.connectorNode.style.bottom="";}return Math.max(0,size.w-_1251);},_onShow:function(){if(has("ie")){this.domNode.style.filter="";}},hide:function(_1254){if(this._onDeck&&this._onDeck[1]==_1254){this._onDeck=null;}else{if(this.aroundNode===_1254){this.fadeIn.stop();this.isShowingNow=false;this.aroundNode=null;this.fadeOut.play();}else{}}this.onMouseEnter=this.onMouseLeave=noop;},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";if(this._onDeck){this.show.apply(this,this._onDeck);this._onDeck=null;}}});if(has("dojo-bidi")){_1243.extend({_setAutoTextDir:function(node){this.applyTextDir(node);array.forEach(node.children,function(child){this._setAutoTextDir(child);},this);},_setTextDirAttr:function(_1255){this._set("textDir",_1255);if(_1255=="auto"){this._setAutoTextDir(this.containerNode);}else{this.containerNode.dir=this.textDir;}}});}dijit.showTooltip=function(_1256,_1257,_1258,rtl,_1259,_125a,_125b){if(_1258){_1258=array.map(_1258,function(val){return {after:"after-centered",before:"before-centered"}[val]||val;});}if(!_124a._masterTT){dijit._masterTT=_124a._masterTT=new _1243();}return _124a._masterTT.show(_1256,_1257,_1258,rtl,_1259,_125a,_125b);};dijit.hideTooltip=function(_125c){return _124a._masterTT&&_124a._masterTT.hide(_125c);};var _125d="DORMANT",_125e="SHOW TIMER",_125f="SHOWING",_1260="HIDE TIMER";function noop(){};var _124a=_123a("dijit.Tooltip",_123f,{label:"",showDelay:400,hideDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(newId){array.forEach(this._connections||[],function(_1261){array.forEach(_1261,function(_1262){_1262.remove();});},this);this._connectIds=array.filter(lang.isArrayLike(newId)?newId:(newId?[newId]:[]),function(id){return dom.byId(id,this.ownerDocument);},this);this._connections=array.map(this._connectIds,function(id){var node=dom.byId(id,this.ownerDocument),_1263=this.selector,_1264=_1263?function(_1265){return on.selector(_1263,_1265);}:function(_1266){return _1266;},self=this;return [on(node,_1264(mouse.enter),function(){self._onHover(this);}),on(node,_1264("focusin"),function(){self._onHover(this);}),on(node,_1264(mouse.leave),lang.hitch(self,"_onUnHover")),on(node,_1264("focusout"),lang.hitch(self,"set","state",_125d))];},this);this._set("connectId",newId);},addTarget:function(node){var id=node.id||node;if(array.indexOf(this._connectIds,id)==-1){this.set("connectId",this._connectIds.concat(id));}},removeTarget:function(node){var id=node.id||node,idx=array.indexOf(this._connectIds,id);if(idx>=0){this._connectIds.splice(idx,1);this.set("connectId",this._connectIds);}},buildRendering:function(){this.inherited(arguments);_123b.add(this.domNode,"dijitTooltipData");},startup:function(){this.inherited(arguments);var ids=this.connectId;array.forEach(lang.isArrayLike(ids)?ids:[ids],this.addTarget,this);},getContent:function(node){return this.label||this.domNode.innerHTML;},state:_125d,_setStateAttr:function(val){if(this.state==val||(val==_125e&&this.state==_125f)||(val==_1260&&this.state==_125d)){return;}if(this._hideTimer){this._hideTimer.remove();delete this._hideTimer;}if(this._showTimer){this._showTimer.remove();delete this._showTimer;}switch(val){case _125d:if(this._connectNode){_124a.hide(this._connectNode);delete this._connectNode;this.onHide();}break;case _125e:if(this.state!=_125f){this._showTimer=this.defer(function(){this.set("state",_125f);},this.showDelay);}break;case _125f:var _1267=this.getContent(this._connectNode);if(!_1267){this.set("state",_125d);return;}_124a.show(_1267,this._connectNode,this.position,!this.isLeftToRight(),this.textDir,lang.hitch(this,"set","state",_125f),lang.hitch(this,"set","state",_1260));this.onShow(this._connectNode,this.position);break;case _1260:this._hideTimer=this.defer(function(){this.set("state",_125d);},this.hideDelay);break;}this._set("state",val);},_onHover:function(_1268){if(this._connectNode&&_1268!=this._connectNode){this.set("state",_125d);}this._connectNode=_1268;this.set("state",_125e);},_onUnHover:function(_1269){this.set("state",_1260);},open:function(_126a){this.set("state",_125d);this._connectNode=_126a;this.set("state",_125f);},close:function(){this.set("state",_125d);},onShow:function(){},onHide:function(){},destroy:function(){this.set("state",_125d);array.forEach(this._connections||[],function(_126b){array.forEach(_126b,function(_126c){_126c.remove();});},this);this.inherited(arguments);}});_124a._MasterTooltip=_1243;_124a.show=dijit.showTooltip;_124a.hide=dijit.hideTooltip;_124a.defaultPosition=["after-centered","before-centered"];return _124a;});},"dojox/charting/action2d/MoveSlice":function(){define(["dojo/_base/connect","dojo/_base/declare","dojo/_base/array","./PlotAction","dojo/fx/easing","dojox/gfx/matrix","dojox/gfx/fx","dojox/lang/functional","dojox/lang/functional/scan","dojox/lang/functional/fold"],function(hub,_126d,array,_126e,dfe,m,gf,df){var _126f=1.05,_1270=7;return _126d("dojox.charting.action2d.MoveSlice",_126e,{defaultParams:{duration:400,easing:dfe.backOut,scale:_126f,shift:_1270},optionalParams:{},constructor:function(chart,plot,_1271){if(!_1271){_1271={};}this.scale=typeof _1271.scale=="number"?_1271.scale:_126f;this.shift=typeof _1271.shift=="number"?_1271.shift:_1270;this.connect();},process:function(o){if(!o.shape||o.element!="slice"||!(o.type in this.overOutEvents)){return;}if(!this.angles){var _1272=m._degToRad(o.plot.opt.startAngle);if(typeof o.run.data[0]=="number"){this.angles=df.map(df.scanl(o.run.data,"+",0),"* 2 * Math.PI / this",df.foldl(o.run.data,"+",0));}else{this.angles=df.map(df.scanl(o.run.data,"a + b.y",0),"* 2 * Math.PI / this",df.foldl(o.run.data,"a + b.y",0));}this.angles=array.map(this.angles,function(item){return item+_1272;});}var index=o.index,anim,_1273,_1274,_1275,_1276,angle=(this.angles[index]+this.angles[index+1])/2,_1277=m.rotateAt(-angle,o.cx,o.cy),_1278=m.rotateAt(angle,o.cx,o.cy);anim=this.anim[index];if(anim){anim.action.stop(true);}else{this.anim[index]=anim={};}if(o.type=="onmouseover"){_1275=0;_1276=this.shift;_1273=1;_1274=this.scale;}else{_1275=this.shift;_1276=0;_1273=this.scale;_1274=1;}anim.action=gf.animateTransform({shape:o.shape,duration:this.duration,easing:this.easing,transform:[_1278,{name:"translate",start:[_1275,0],end:[_1276,0]},{name:"scaleAt",start:[_1273,o.cx,o.cy],end:[_1274,o.cx,o.cy]},_1277]});if(o.type=="onmouseout"){hub.connect(anim.action,"onEnd",this,function(){delete this.anim[index];});}anim.action.play();},reset:function(){delete this.angles;}});});},"prcommon2/clippings/add_layout":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../clippings/templates/add_layout.html","ttl/utilities2","dojo/topic","dojo/request","dojo/_base/lang","dojo/dom-style","dojo/dom-attr","dojo/dom-class","dojo/data/ItemFileReadStore","dojox/form/PasswordValidator","dijit/form/SimpleTextarea"],function(_1279,_127a,_127b,_127c,topic,_127d,lang,_127e,_127f,_1280,_1281){return _1279("prcommon2.clippings.add_layout",[_127a],{templateString:_127b,constructor:function(){this._save_call_back=dojo.hitch(this,this._save_call);this._emaillayout=new _1281({url:"/common/lookups?searchtype=emaillayout"});},postCreate:function(){this.inherited(arguments);this.emaillayoutid.set("store",this._emaillayout);},load:function(_1282,_1283){this._dialog=_1282;},_save:function(){if(_127c.form_validator(this.form)==false){alert("Please Enter Details");this.savebtn.cancel();return false;}var data=this.form.get("value");_127d.post("/emaillayout/save",_127c.make_params({data:data})).then(this._save_call_back);},_save_call:function(_1284){if(_1284.success=="OK"){alert("Email Layout Added");this.savebtn.cancel();this._dialog.hide();topic.publish("/emaillayout/add",[_1284.data]);}else{alert("Problem Adding Email Layout");}this.savebtn.cancel();},});});},"dijit/layout/ContentPane":function(){define(["dojo/_base/kernel","dojo/_base/lang","../_Widget","../_Container","./_ContentPaneResizeMixin","dojo/string","dojo/html","dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/_base/xhr","dojo/i18n","dojo/when","dojo/i18n!../nls/loading"],function(_1285,lang,_1286,_1287,_1288,_1289,html,array,_128a,_128b,dom,_128c,_128d,xhr,i18n,when){return _128a("dijit.layout.ContentPane",[_1286,_1287,_1288],{href:"",content:"",extractContent:false,parseOnLoad:true,parserScope:_1285._scopeName,preventCache:false,preload:false,refreshOnShow:false,loadingMessage:"<span class='dijitContentPaneLoading'><span class='dijitInline dijitIconLoading'></span>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'><span class='dijitInline dijitIconError'></span>${errorState}</span>",isLoaded:false,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:true,template:false,markupFactory:function(_128e,node,ctor){var self=new ctor(_128e,node);return !self.href&&self._contentSetter&&self._contentSetter.parseDeferred&&!self._contentSetter.parseDeferred.isFulfilled()?self._contentSetter.parseDeferred.then(function(){return self;}):self;},create:function(_128f,_1290){if((!_128f||!_128f.template)&&_1290&&!("href" in _128f)&&!("content" in _128f)){_1290=dom.byId(_1290);var df=_1290.ownerDocument.createDocumentFragment();while(_1290.firstChild){df.appendChild(_1290.firstChild);}_128f=lang.delegate(_128f,{content:df});}this.inherited(arguments,[_128f,_1290]);},postMixInProperties:function(){this.inherited(arguments);var _1291=i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=_1289.substitute(this.loadingMessage,_1291);this.errorMessage=_1289.substitute(this.errorMessage,_1291);},buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}this.domNode.removeAttribute("title");},startup:function(){this.inherited(arguments);if(this._contentSetter){array.forEach(this._contentSetter.parseResults,function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}},this);}},_startChildren:function(){array.forEach(this.getChildren(),function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}});if(this._contentSetter){array.forEach(this._contentSetter.parseResults,function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}},this);}},setHref:function(href){_1285.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0");return this.set("href",href);},_setHrefAttr:function(href){this.cancel();this.onLoadDeferred=new _128b(lang.hitch(this,"cancel"));this.onLoadDeferred.then(lang.hitch(this,"onLoad"));this._set("href",href);if(this.preload||(this._created&&this._isShown())){this._load();}else{this._hrefChanged=true;}return this.onLoadDeferred;},setContent:function(data){_1285.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",data);},_setContentAttr:function(data){this._set("href","");this.cancel();this.onLoadDeferred=new _128b(lang.hitch(this,"cancel"));if(this._created){this.onLoadDeferred.then(lang.hitch(this,"onLoad"));}this._setContent(data||"");this._isDownloaded=false;return this.onLoadDeferred;},_getContentAttr:function(){return this.containerNode.innerHTML;},cancel:function(){if(this._xhrDfd&&(this._xhrDfd.fired==-1)){this._xhrDfd.cancel();}delete this._xhrDfd;this.onLoadDeferred=null;},destroy:function(){this.cancel();this.inherited(arguments);},destroyRecursive:function(_1292){if(this._beingDestroyed){return;}this.inherited(arguments);},_onShow:function(){this.inherited(arguments);if(this.href){if(!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow)){return this.refresh();}}},refresh:function(){this.cancel();this.onLoadDeferred=new _128b(lang.hitch(this,"cancel"));this.onLoadDeferred.then(lang.hitch(this,"onLoad"));this._load();return this.onLoadDeferred;},_load:function(){this._setContent(this.onDownloadStart(),true);var self=this;var _1293={preventCache:(this.preventCache||this.refreshOnShow),url:this.href,handleAs:"text"};if(lang.isObject(this.ioArgs)){lang.mixin(_1293,this.ioArgs);}var hand=(this._xhrDfd=(this.ioMethod||xhr.get)(_1293)),_1294;hand.then(function(html){_1294=html;try{self._isDownloaded=true;return self._setContent(html,false);}catch(err){self._onError("Content",err);}},function(err){if(!hand.canceled){self._onError("Download",err);}delete self._xhrDfd;return err;}).then(function(){self.onDownloadEnd();delete self._xhrDfd;return _1294;});delete this._hrefChanged;},_onLoadHandler:function(data){this._set("isLoaded",true);try{this.onLoadDeferred.resolve(data);}catch(e){}},_onUnloadHandler:function(){this._set("isLoaded",false);try{this.onUnload();}catch(e){}},destroyDescendants:function(_1295){if(this.isLoaded){this._onUnloadHandler();}var _1296=this._contentSetter;array.forEach(this.getChildren(),function(_1297){if(_1297.destroyRecursive){_1297.destroyRecursive(_1295);}else{if(_1297.destroy){_1297.destroy(_1295);}}_1297._destroyed=true;});if(_1296){array.forEach(_1296.parseResults,function(_1298){if(!_1298._destroyed){if(_1298.destroyRecursive){_1298.destroyRecursive(_1295);}else{if(_1298.destroy){_1298.destroy(_1295);}}_1298._destroyed=true;}});delete _1296.parseResults;}if(!_1295){_128d.empty(this.containerNode);}delete this._singleChild;},_setContent:function(cont,_1299){cont=this.preprocessContent(cont);this.destroyDescendants();var _129a=this._contentSetter;if(!(_129a&&_129a instanceof html._ContentSetter)){_129a=this._contentSetter=new html._ContentSetter({node:this.containerNode,_onError:lang.hitch(this,this._onError),onContentError:lang.hitch(this,function(e){var _129b=this.onContentError(e);try{this.containerNode.innerHTML=_129b;}catch(e){}})});}var _129c=lang.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!cont.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:false,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{});var p=_129a.set((lang.isObject(cont)&&cont.domNode)?cont.domNode:cont,_129c);var self=this;return when(p&&p.then?p:_129a.parseDeferred,function(){delete self._contentSetterParams;if(!_1299){if(self._started){self._startChildren();self._scheduleLayout();}self._onLoadHandler(cont);}});},preprocessContent:function(_129d){return _129d;},_onError:function(type,err,_129e){this.onLoadDeferred.reject(err);var _129f=this["on"+type+"Error"].call(this,err);if(_129e){}else{if(_129f){this._setContent(_129f,true);}}},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage;},onContentError:function(){},onDownloadError:function(){return this.errorMessage;},onDownloadEnd:function(){}});});},"dojox/charting/themes/Tom":function(){define(["../Theme","dojox/gfx/gradutils","./common"],function(Theme,_12a0,_12a1){var g=Theme.generateGradient,_12a2={type:"linear",space:"shape",x1:0,y1:0,x2:0,y2:100};_12a1.Tom=new Theme({chart:{fill:"#181818",stroke:{color:"#181818"},pageStyle:{backgroundColor:"#181818",backgroundImage:"none",color:"#eaf2cb"}},plotarea:{fill:"#181818"},axis:{stroke:{color:"#a0a68b",width:1},tick:{color:"#888c76",position:"center",font:"normal normal normal 7pt Helvetica, Arial, sans-serif",fontColor:"#888c76"}},series:{stroke:{width:2.5,color:"#eaf2cb"},outline:null,font:"normal normal normal 8pt Helvetica, Arial, sans-serif",fontColor:"#eaf2cb"},marker:{stroke:{width:1.25,color:"#eaf2cb"},outline:{width:1.25,color:"#eaf2cb"},font:"normal normal normal 8pt Helvetica, Arial, sans-serif",fontColor:"#eaf2cb"},seriesThemes:[{fill:g(_12a2,"#bf9e0a","#ecc20c")},{fill:g(_12a2,"#73b086","#95e5af")},{fill:g(_12a2,"#c7212d","#ed2835")},{fill:g(_12a2,"#87ab41","#b6e557")},{fill:g(_12a2,"#b86c25","#d37d2a")}],markerThemes:[{fill:"#bf9e0a",stroke:{color:"#ecc20c"}},{fill:"#73b086",stroke:{color:"#95e5af"}},{fill:"#c7212d",stroke:{color:"#ed2835"}},{fill:"#87ab41",stroke:{color:"#b6e557"}},{fill:"#b86c25",stroke:{color:"#d37d2a"}}]});_12a1.Tom.next=function(_12a3,mixin,_12a4){var _12a5=_12a3=="line";if(_12a5||_12a3=="area"){var s=this.seriesThemes[this._current%this.seriesThemes.length];s.fill.space="plot";if(_12a5){s.stroke={width:4,color:s.fill.colors[0].color};}var theme=Theme.prototype.next.apply(this,arguments);delete s.outline;delete s.stroke;s.fill.space="shape";return theme;}return Theme.prototype.next.apply(this,arguments);};_12a1.Tom.post=function(theme,_12a6){theme=Theme.prototype.post.apply(this,arguments);if((_12a6=="slice"||_12a6=="circle")&&theme.series.fill&&theme.series.fill.type=="radial"){theme.series.fill=_12a0.reverse(theme.series.fill);}return theme;};return _12a1.Tom;});},"dijit/_HasDropDown":function(){define(["dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","dojo/touch","./registry","./focus","./popup","./_FocusMixin"],function(_12a7,_12a8,dom,_12a9,_12aa,_12ab,_12ac,has,keys,lang,on,touch,_12ad,focus,popup,_12ae){return _12a7("dijit._HasDropDown",_12ae,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:true,forceWidth:false,maxHeight:-1,dropDownPosition:["below","above"],_stopClickEvents:true,_onDropDownMouseDown:function(e){if(this.disabled||this.readOnly){return;}if(e.type!="MSPointerDown"&&e.type!="pointerdown"){e.preventDefault();}this.own(on.once(this.ownerDocument,touch.release,lang.hitch(this,"_onDropDownMouseUp")));this.toggleDropDown();},_onDropDownMouseUp:function(e){var _12af=this.dropDown,_12b0=false;if(e&&this._opened){var c=_12ab.position(this._buttonNode,true);if(!(e.pageX>=c.x&&e.pageX<=c.x+c.w)||!(e.pageY>=c.y&&e.pageY<=c.y+c.h)){var t=e.target;while(t&&!_12b0){if(_12aa.contains(t,"dijitPopup")){_12b0=true;}else{t=t.parentNode;}}if(_12b0){t=e.target;if(_12af.onItemClick){var _12b1;while(t&&!(_12b1=_12ad.byNode(t))){t=t.parentNode;}if(_12b1&&_12b1.onClick&&_12b1.getParent){_12b1.getParent().onItemClick(_12b1,e);}}return;}}}if(this._opened){if(_12af.focus&&(_12af.autoFocus!==false||(e.type=="mouseup"&&!this.hovering))){this._focusDropDownTimer=this.defer(function(){_12af.focus();delete this._focusDropDownTimer;});}}else{if(this.focus){this.defer("focus");}}},_onDropDownClick:function(e){if(this._stopClickEvents){e.stopPropagation();e.preventDefault();}},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var _12b2={"after":this.isLeftToRight()?"Right":"Left","before":this.isLeftToRight()?"Left":"Right","above":"Up","below":"Down","left":"Left","right":"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";_12aa.add(this._arrowWrapperNode||this._buttonNode,"dijit"+_12b2+"ArrowButton");},postCreate:function(){this.inherited(arguments);var _12b3=this.focusNode||this.domNode;this.own(on(this._buttonNode,touch.press,lang.hitch(this,"_onDropDownMouseDown")),on(this._buttonNode,"click",lang.hitch(this,"_onDropDownClick")),on(_12b3,"keydown",lang.hitch(this,"_onKey")),on(_12b3,"keyup",lang.hitch(this,"_onKeyUp")));},destroy:function(){if(this._opened){this.closeDropDown(true);}if(this.dropDown){if(!this.dropDown._destroyed){this.dropDown.destroyRecursive();}delete this.dropDown;}this.inherited(arguments);},_onKey:function(e){if(this.disabled||this.readOnly){return;}var d=this.dropDown,_12b4=e.target;if(d&&this._opened&&d.handleKey){if(d.handleKey(e)===false){e.stopPropagation();e.preventDefault();return;}}if(d&&this._opened&&e.keyCode==keys.ESCAPE){this.closeDropDown();e.stopPropagation();e.preventDefault();}else{if(!this._opened&&(e.keyCode==keys.DOWN_ARROW||((e.keyCode==keys.ENTER||(e.keyCode==keys.SPACE&&(!this._searchTimer||(e.ctrlKey||e.altKey||e.metaKey))))&&((_12b4.tagName||"").toLowerCase()!=="input"||(_12b4.type&&_12b4.type.toLowerCase()!=="text"))))){this._toggleOnKeyUp=true;e.stopPropagation();e.preventDefault();}}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var d=this.dropDown;if(d&&d.focus){this.defer(lang.hitch(d,"focus"),1);}}},_onBlur:function(){this.closeDropDown(false);this.inherited(arguments);},isLoaded:function(){return true;},loadDropDown:function(_12b5){_12b5();},loadAndOpenDropDown:function(){var d=new _12a8(),_12b6=lang.hitch(this,function(){this.openDropDown();d.resolve(this.dropDown);});if(!this.isLoaded()){this.loadDropDown(_12b6);}else{_12b6();}return d;},toggleDropDown:function(){if(this.disabled||this.readOnly){return;}if(!this._opened){this.loadAndOpenDropDown();}else{this.closeDropDown(true);}},openDropDown:function(){var _12b7=this.dropDown,_12b8=_12b7.domNode,_12b9=this._aroundNode||this.domNode,self=this;var _12ba=popup.open({parent:this,popup:_12b7,around:_12b9,orient:this.dropDownPosition,maxHeight:this.maxHeight,onExecute:function(){self.closeDropDown(true);},onCancel:function(){self.closeDropDown(true);},onClose:function(){_12a9.set(self._popupStateNode,"popupActive",false);_12aa.remove(self._popupStateNode,"dijitHasDropDownOpen");self._set("_opened",false);}});if(this.forceWidth||(this.autoWidth&&_12b9.offsetWidth>_12b7._popupWrapper.offsetWidth)){var _12bb=_12b9.offsetWidth-_12b7._popupWrapper.offsetWidth;var _12bc={w:_12b7.domNode.offsetWidth+_12bb};this._origStyle=_12b8.style.cssText;if(lang.isFunction(_12b7.resize)){_12b7.resize(_12bc);}else{_12ab.setMarginBox(_12b8,_12bc);}if(_12ba.corner[1]=="R"){_12b7._popupWrapper.style.left=(_12b7._popupWrapper.style.left.replace("px","")-_12bb)+"px";}}_12a9.set(this._popupStateNode,"popupActive","true");_12aa.add(this._popupStateNode,"dijitHasDropDownOpen");this._set("_opened",true);this._popupStateNode.setAttribute("aria-expanded","true");this._popupStateNode.setAttribute("aria-owns",_12b7.id);if(_12b8.getAttribute("role")!=="presentation"&&!_12b8.getAttribute("aria-labelledby")){_12b8.setAttribute("aria-labelledby",this.id);}return _12ba;},closeDropDown:function(focus){if(this._focusDropDownTimer){this._focusDropDownTimer.remove();delete this._focusDropDownTimer;}if(this._opened){this._popupStateNode.setAttribute("aria-expanded","false");if(focus&&this.focus){this.focus();}popup.close(this.dropDown);this._opened=false;}if(this._origStyle){this.dropDown.domNode.style.cssText=this._origStyle;delete this._origStyle;}}});});},"dojox/gfx/_base":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/Color","dojo/_base/sniff","dojo/_base/window","dojo/_base/array","dojo/dom","dojo/dom-construct","dojo/dom-geometry"],function(_12bd,lang,Color,has,win,arr,dom,_12be,_12bf){var g=lang.getObject("dojox.gfx",true),b=g._base={};g._hasClass=function(node,_12c0){var cls=node.getAttribute("className");return cls&&(" "+cls+" ").indexOf(" "+_12c0+" ")>=0;};g._addClass=function(node,_12c1){var cls=node.getAttribute("className")||"";if(!cls||(" "+cls+" ").indexOf(" "+_12c1+" ")<0){node.setAttribute("className",cls+(cls?" ":"")+_12c1);}};g._removeClass=function(node,_12c2){var cls=node.getAttribute("className");if(cls){node.setAttribute("className",cls.replace(new RegExp("(^|\\s+)"+_12c2+"(\\s+|$)"),"$1$2"));}};b._getFontMeasurements=function(){var _12c3={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,"small":0,"medium":0,"large":0,"x-large":0,"xx-large":0};var p,_12c4;if(has("ie")){_12c4=win.doc.documentElement.style.fontSize||"";if(!_12c4){win.doc.documentElement.style.fontSize="100%";}}var div=_12be.create("div",{style:{position:"absolute",left:"0",top:"-100px",width:"30px",height:"1000em",borderWidth:"0",margin:"0",padding:"0",outline:"none",lineHeight:"1",overflow:"hidden"}},win.body());for(p in _12c3){div.style.fontSize=p;_12c3[p]=Math.round(div.offsetHeight*12/16)*16/12/1000;}if(has("ie")){win.doc.documentElement.style.fontSize=_12c4;}win.body().removeChild(div);return _12c3;};var _12c5=null;b._getCachedFontMeasurements=function(_12c6){if(_12c6||!_12c5){_12c5=b._getFontMeasurements();}return _12c5;};var _12c7=null,empty={};b._getTextBox=function(text,style,_12c8){var m,s,al=arguments.length;var i,box;if(!_12c7){_12c7=_12be.create("div",{style:{position:"absolute",top:"-10000px",left:"0",visibility:"hidden"}},win.body());}m=_12c7;m.className="";s=m.style;s.borderWidth="0";s.margin="0";s.padding="0";s.outline="0";if(al>1&&style){for(i in style){if(i in empty){continue;}s[i]=style[i];}}if(al>2&&_12c8){m.className=_12c8;}m.innerHTML=text;if(m.getBoundingClientRect){var bcr=m.getBoundingClientRect();box={l:bcr.left,t:bcr.top,w:bcr.width||(bcr.right-bcr.left),h:bcr.height||(bcr.bottom-bcr.top)};}else{box=_12bf.getMarginBox(m);}m.innerHTML="";return box;};b._computeTextLocation=function(_12c9,width,_12ca,_12cb){var loc={},align=_12c9.align;switch(align){case "end":loc.x=_12c9.x-width;break;case "middle":loc.x=_12c9.x-width/2;break;default:loc.x=_12c9.x;break;}var c=_12cb?0.75:1;loc.y=_12c9.y-_12ca*c;return loc;};b._computeTextBoundingBox=function(s){if(!g._base._isRendered(s)){return {x:0,y:0,width:0,height:0};}var loc,_12cc=s.getShape(),font=s.getFont()||g.defaultFont,w=s.getTextWidth(),h=g.normalizedLength(font.size);loc=b._computeTextLocation(_12cc,w,h,true);return {x:loc.x,y:loc.y,width:w,height:h};};b._isRendered=function(s){var p=s.parent;while(p&&p.getParent){p=p.parent;}return p!==null;};var _12cd=0;b._getUniqueId=function(){var id;do{id=_12bd._scopeName+"xUnique"+(++_12cd);}while(dom.byId(id));return id;};var _12ce=has("pointer-events")?"touchAction":has("MSPointer")?"msTouchAction":null;b._fixMsTouchAction=_12ce?function(_12cf){_12cf.rawNode.style[_12ce]="none";}:function(){};lang.mixin(g,{defaultPath:{type:"path",path:""},defaultPolyline:{type:"polyline",points:[]},defaultRect:{type:"rect",x:0,y:0,width:100,height:100,r:0},defaultEllipse:{type:"ellipse",cx:0,cy:0,rx:200,ry:100},defaultCircle:{type:"circle",cx:0,cy:0,r:100},defaultLine:{type:"line",x1:0,y1:0,x2:100,y2:100},defaultImage:{type:"image",x:0,y:0,width:0,height:0,src:""},defaultText:{type:"text",x:0,y:0,text:"",align:"start",decoration:"none",rotated:false,kerning:true},defaultTextPath:{type:"textpath",text:"",align:"start",decoration:"none",rotated:false,kerning:true},defaultStroke:{type:"stroke",color:"black",style:"solid",width:1,cap:"butt",join:4},defaultLinearGradient:{type:"linear",x1:0,y1:0,x2:100,y2:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultRadialGradient:{type:"radial",cx:0,cy:0,r:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultPattern:{type:"pattern",x:0,y:0,width:0,height:0,src:""},defaultFont:{type:"font",style:"normal",variant:"normal",weight:"normal",size:"10pt",family:"serif"},getDefault:(function(){var _12d0={};return function(type){var t=_12d0[type];if(t){return new t();}t=_12d0[type]=new Function();t.prototype=g["default"+type];return new t();};})(),normalizeColor:function(color){return (color instanceof Color)?color:new Color(color);},normalizeParameters:function(_12d1,_12d2){var x;if(_12d2){var empty={};for(x in _12d1){if(x in _12d2&&!(x in empty)){_12d1[x]=_12d2[x];}}}return _12d1;},makeParameters:function(_12d3,_12d4){var i=null;if(!_12d4){return lang.delegate(_12d3);}var _12d5={};for(i in _12d3){if(!(i in _12d5)){_12d5[i]=lang.clone((i in _12d4)?_12d4[i]:_12d3[i]);}}return _12d5;},formatNumber:function(x,_12d6){var val=x.toString();if(val.indexOf("e")>=0){val=x.toFixed(4);}else{var point=val.indexOf(".");if(point>=0&&val.length-point>5){val=x.toFixed(4);}}if(x<0){return val;}return _12d6?" "+val:val;},makeFontString:function(font){return font.style+" "+font.variant+" "+font.weight+" "+font.size+" "+font.family;},splitFontString:function(str){var font=g.getDefault("Font");var t=str.split(/\s+/);do{if(t.length<5){break;}font.style=t[0];font.variant=t[1];font.weight=t[2];var i=t[3].indexOf("/");font.size=i<0?t[3]:t[3].substring(0,i);var j=4;if(i<0){if(t[4]=="/"){j=6;}else{if(t[4].charAt(0)=="/"){j=5;}}}if(j<t.length){font.family=t.slice(j).join(" ");}}while(false);return font;},cm_in_pt:72/2.54,mm_in_pt:7.2/2.54,px_in_pt:function(){return g._base._getCachedFontMeasurements()["12pt"]/12;},pt2px:function(len){return len*g.px_in_pt();},px2pt:function(len){return len/g.px_in_pt();},normalizedLength:function(len){if(len.length===0){return 0;}if(len.length>2){var _12d7=g.px_in_pt();var val=parseFloat(len);switch(len.slice(-2)){case "px":return val;case "pt":return val*_12d7;case "in":return val*72*_12d7;case "pc":return val*12*_12d7;case "mm":return val*g.mm_in_pt*_12d7;case "cm":return val*g.cm_in_pt*_12d7;}}return parseFloat(len);},pathVmlRegExp:/([A-Za-z]+)|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,pathSvgRegExp:/([A-DF-Za-df-z])|([-+]?\d*[.]?\d+(?:[eE][-+]?\d+)?)/g,equalSources:function(a,b){return a&&b&&a===b;},switchTo:function(_12d8){var ns=typeof _12d8=="string"?g[_12d8]:_12d8;if(ns){arr.forEach(["Group","Rect","Ellipse","Circle","Line","Polyline","Image","Text","Path","TextPath","Surface","createSurface","fixTarget"],function(name){g[name]=ns[name];});if(typeof _12d8=="string"){g.renderer=_12d8;}else{arr.some(["svg","vml","canvas","canvasWithEvents","silverlight"],function(r){return (g.renderer=g[r]&&g[r].Surface===g.Surface?r:null);});}}}});return g;});},"dijit/form/_CheckBoxMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(_12d9,_12da){return _12d9("dijit.form._CheckBoxMixin",null,{type:"checkbox",value:"on",readOnly:false,_aria_attr:"aria-checked",_setReadOnlyAttr:function(value){this._set("readOnly",value);_12da.set(this.focusNode,"readOnly",value);},_setLabelAttr:undefined,_getSubmitValue:function(value){return (value==null||value==="")?"on":value;},_setValueAttr:function(_12db){_12db=this._getSubmitValue(_12db);this._set("value",_12db);_12da.set(this.focusNode,"value",_12db);},reset:function(){this.inherited(arguments);this._set("value",this._getSubmitValue(this.params.value));_12da.set(this.focusNode,"value",this.value);},_onClick:function(e){if(this.readOnly){e.stopPropagation();e.preventDefault();return false;}return this.inherited(arguments);}});});},"dojo/html":function(){define(["./_base/kernel","./_base/lang","./_base/array","./_base/declare","./dom","./dom-construct","./parser"],function(_12dc,lang,_12dd,_12de,dom,_12df,_12e0){var _12e1=0;var html={_secureForInnerHtml:function(cont){return cont.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"");},_emptyNode:_12df.empty,_setNodeContent:function(node,cont){_12df.empty(node);if(cont){if(typeof cont=="number"){cont=cont.toString();}if(typeof cont=="string"){cont=_12df.toDom(cont,node.ownerDocument);}if(!cont.nodeType&&lang.isArrayLike(cont)){for(var _12e2=cont.length,i=0;i<cont.length;i=_12e2==cont.length?i+1:0){_12df.place(cont[i],node,"last");}}else{_12df.place(cont,node,"last");}}return node;},_ContentSetter:_12de("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:false,extractContent:false,parseContent:false,parserScope:_12dc._scopeName,startup:true,constructor:function(_12e3,node){lang.mixin(this,_12e3||{});node=this.node=dom.byId(this.node||node);if(!this.id){this.id=["Setter",(node)?node.id||node.tagName:"",_12e1++].join("_");}},set:function(cont,_12e4){if(undefined!==cont){this.content=cont;}if(typeof cont=="number"){cont=cont.toString();}if(_12e4){this._mixin(_12e4);}this.onBegin();this.setContent();var ret=this.onEnd();if(ret&&ret.then){return ret;}else{return this.node;}},setContent:function(){var node=this.node;if(!node){throw new Error(this.declaredClass+": setContent given no node");}try{node=html._setNodeContent(node,this.content);}catch(e){var _12e5=this.onContentError(e);try{node.innerHTML=_12e5;}catch(e){}}this.node=node;},empty:function(){if(this.parseDeferred){if(!this.parseDeferred.isResolved()){this.parseDeferred.cancel();}delete this.parseDeferred;}if(this.parseResults&&this.parseResults.length){_12dd.forEach(this.parseResults,function(w){if(w.destroy){w.destroy();}});delete this.parseResults;}_12df.empty(this.node);},onBegin:function(){var cont=this.content;if(lang.isString(cont)){if(this.cleanContent){cont=html._secureForInnerHtml(cont);}if(this.extractContent){var match=cont.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(match){cont=match[1];}}}this.empty();this.content=cont;return this.node;},onEnd:function(){if(this.parseContent){this._parse();}return this.node;},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;delete this.content;},onContentError:function(err){return "Error occurred setting content: "+err;},onExecError:function(err){return "Error occurred executing scripts: "+err;},_mixin:function(_12e6){var empty={},key;for(key in _12e6){if(key in empty){continue;}this[key]=_12e6[key];}},_parse:function(){var _12e7=this.node;try{var _12e8={};_12dd.forEach(["dir","lang","textDir"],function(name){if(this[name]){_12e8[name]=this[name];}},this);var self=this;this.parseDeferred=_12e0.parse({rootNode:_12e7,noStart:!this.startup,inherited:_12e8,scope:this.parserScope}).then(function(_12e9){return self.parseResults=_12e9;},function(e){self._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);});}catch(e){this._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);}},_onError:function(type,err,_12ea){var _12eb=this["on"+type+"Error"].call(this,err);if(_12ea){}else{if(_12eb){html._setNodeContent(this.node,_12eb,true);}}}}),set:function(node,cont,_12ec){if(undefined==cont){cont="";}if(typeof cont=="number"){cont=cont.toString();}if(!_12ec){return html._setNodeContent(node,cont,true);}else{var op=new html._ContentSetter(lang.mixin(_12ec,{content:cont,node:node}));return op.set();}}};lang.setObject("dojo.html",html);return html;});},"dojox/gfx/svg":function(){define(["dojo/_base/lang","dojo/_base/sniff","dojo/_base/window","dojo/dom","dojo/_base/declare","dojo/_base/array","dojo/dom-geometry","dojo/dom-attr","dojo/_base/Color","./_base","./shape","./path"],function(lang,has,win,dom,_12ed,arr,_12ee,_12ef,Color,g,gs,_12f0){var svg=g.svg={};svg.useSvgWeb=(typeof window.svgweb!="undefined");var _12f1=navigator.userAgent,_12f2=has("ios"),_12f3=has("android"),_12f4=has("chrome")||(_12f3&&_12f3>=4)?"auto":"optimizeLegibility";function _12f5(ns,_12f6){if(win.doc.createElementNS){return win.doc.createElementNS(ns,_12f6);}else{return win.doc.createElement(_12f6);}};function _12f7(node,ns,attr,value){if(node.setAttributeNS){return node.setAttributeNS(ns,attr,value);}else{return node.setAttribute(attr,value);}};function _12f8(text){if(svg.useSvgWeb){return win.doc.createTextNode(text,true);}else{return win.doc.createTextNode(text);}};function _12f9(){if(svg.useSvgWeb){return win.doc.createDocumentFragment(true);}else{return win.doc.createDocumentFragment();}};svg.xmlns={xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"};svg.getRef=function(name){if(!name||name=="none"){return null;}if(name.match(/^url\(#.+\)$/)){return dom.byId(name.slice(5,-1));}if(name.match(/^#dojoUnique\d+$/)){return dom.byId(name.slice(1));}return null;};svg.dasharray={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]};var _12fa=0;svg.Shape=_12ed("dojox.gfx.svg.Shape",gs.Shape,{destroy:function(){if(this.fillStyle&&"type" in this.fillStyle){var fill=this.rawNode.getAttribute("fill"),ref=svg.getRef(fill);if(ref){ref.parentNode.removeChild(ref);}}if(this.clip){var _12fb=this.rawNode.getAttribute("clip-path");if(_12fb){var _12fc=dom.byId(_12fb.match(/gfx_clip[\d]+/)[0]);if(_12fc){_12fc.parentNode.removeChild(_12fc);}}}gs.Shape.prototype.destroy.apply(this,arguments);},setFill:function(fill){if(!fill){this.fillStyle=null;this.rawNode.setAttribute("fill","none");this.rawNode.setAttribute("fill-opacity",0);return this;}var f;var _12fd=function(x){this.setAttribute(x,f[x].toFixed(8));};if(typeof (fill)=="object"&&"type" in fill){switch(fill.type){case "linear":f=g.makeParameters(g.defaultLinearGradient,fill);var _12fe=this._setFillObject(f,"linearGradient");arr.forEach(["x1","y1","x2","y2"],_12fd,_12fe);break;case "radial":f=g.makeParameters(g.defaultRadialGradient,fill);var grad=this._setFillObject(f,"radialGradient");arr.forEach(["cx","cy","r"],_12fd,grad);break;case "pattern":f=g.makeParameters(g.defaultPattern,fill);var _12ff=this._setFillObject(f,"pattern");arr.forEach(["x","y","width","height"],_12fd,_12ff);break;}this.fillStyle=f;return this;}f=g.normalizeColor(fill);this.fillStyle=f;this.rawNode.setAttribute("fill",f.toCss());this.rawNode.setAttribute("fill-opacity",f.a);this.rawNode.setAttribute("fill-rule","evenodd");return this;},setStroke:function(_1300){var rn=this.rawNode;if(!_1300){this.strokeStyle=null;rn.setAttribute("stroke","none");rn.setAttribute("stroke-opacity",0);return this;}if(typeof _1300=="string"||lang.isArray(_1300)||_1300 instanceof Color){_1300={color:_1300};}var s=this.strokeStyle=g.makeParameters(g.defaultStroke,_1300);s.color=g.normalizeColor(s.color);if(s){var w=s.width<0?0:s.width;rn.setAttribute("stroke",s.color.toCss());rn.setAttribute("stroke-opacity",s.color.a);rn.setAttribute("stroke-width",w);rn.setAttribute("stroke-linecap",s.cap);if(typeof s.join=="number"){rn.setAttribute("stroke-linejoin","miter");rn.setAttribute("stroke-miterlimit",s.join);}else{rn.setAttribute("stroke-linejoin",s.join);}var da=s.style.toLowerCase();if(da in svg.dasharray){da=svg.dasharray[da];}if(da instanceof Array){da=lang._toArray(da);var i;for(i=0;i<da.length;++i){da[i]*=w;}if(s.cap!="butt"){for(i=0;i<da.length;i+=2){da[i]-=w;if(da[i]<1){da[i]=1;}}for(i=1;i<da.length;i+=2){da[i]+=w;}}da=da.join(",");}rn.setAttribute("stroke-dasharray",da);rn.setAttribute("dojoGfxStrokeStyle",s.style);}return this;},_getParentSurface:function(){var _1301=this.parent;for(;_1301&&!(_1301 instanceof g.Surface);_1301=_1301.parent){}return _1301;},_setFillObject:function(f,_1302){var svgns=svg.xmlns.svg;this.fillStyle=f;var _1303=this._getParentSurface(),defs=_1303.defNode,fill=this.rawNode.getAttribute("fill"),ref=svg.getRef(fill);if(ref){fill=ref;if(fill.tagName.toLowerCase()!=_1302.toLowerCase()){var id=fill.id;fill.parentNode.removeChild(fill);fill=_12f5(svgns,_1302);fill.setAttribute("id",id);defs.appendChild(fill);}else{while(fill.childNodes.length){fill.removeChild(fill.lastChild);}}}else{fill=_12f5(svgns,_1302);fill.setAttribute("id",g._base._getUniqueId());defs.appendChild(fill);}if(_1302=="pattern"){fill.setAttribute("patternUnits","userSpaceOnUse");var img=_12f5(svgns,"image");img.setAttribute("x",0);img.setAttribute("y",0);img.setAttribute("width",(f.width<0?0:f.width).toFixed(8));img.setAttribute("height",(f.height<0?0:f.height).toFixed(8));_12f7(img,svg.xmlns.xlink,"xlink:href",f.src);fill.appendChild(img);}else{fill.setAttribute("gradientUnits","userSpaceOnUse");for(var i=0;i<f.colors.length;++i){var c=f.colors[i],t=_12f5(svgns,"stop"),cc=c.color=g.normalizeColor(c.color);t.setAttribute("offset",c.offset.toFixed(8));t.setAttribute("stop-color",cc.toCss());t.setAttribute("stop-opacity",cc.a);fill.appendChild(t);}}this.rawNode.setAttribute("fill","url(#"+fill.getAttribute("id")+")");this.rawNode.removeAttribute("fill-opacity");this.rawNode.setAttribute("fill-rule","evenodd");return fill;},_applyTransform:function(){var _1304=this.matrix;if(_1304){var tm=this.matrix;this.rawNode.setAttribute("transform","matrix("+tm.xx.toFixed(8)+","+tm.yx.toFixed(8)+","+tm.xy.toFixed(8)+","+tm.yy.toFixed(8)+","+tm.dx.toFixed(8)+","+tm.dy.toFixed(8)+")");}else{this.rawNode.removeAttribute("transform");}return this;},setRawNode:function(_1305){var r=this.rawNode=_1305;if(this.shape.type!="image"){r.setAttribute("fill","none");}r.setAttribute("fill-opacity",0);r.setAttribute("stroke","none");r.setAttribute("stroke-opacity",0);r.setAttribute("stroke-width",1);r.setAttribute("stroke-linecap","butt");r.setAttribute("stroke-linejoin","miter");r.setAttribute("stroke-miterlimit",4);r.__gfxObject__=this;},setShape:function(_1306){this.shape=g.makeParameters(this.shape,_1306);for(var i in this.shape){if(i!="type"){var v=this.shape[i];if(i==="width"||i==="height"){v=v<0?0:v;}this.rawNode.setAttribute(i,v);}}this.bbox=null;return this;},_moveToFront:function(){this.rawNode.parentNode.appendChild(this.rawNode);return this;},_moveToBack:function(){this.rawNode.parentNode.insertBefore(this.rawNode,this.rawNode.parentNode.firstChild);return this;},setClip:function(clip){this.inherited(arguments);var _1307=clip?"width" in clip?"rect":"cx" in clip?"ellipse":"points" in clip?"polyline":"d" in clip?"path":null:null;if(clip&&!_1307){return this;}if(_1307==="polyline"){clip=lang.clone(clip);clip.points=clip.points.join(",");}var _1308,_1309,_130a=_12ef.get(this.rawNode,"clip-path");if(_130a){_1308=dom.byId(_130a.match(/gfx_clip[\d]+/)[0]);if(_1308){_1308.removeChild(_1308.childNodes[0]);}}if(clip){if(_1308){_1309=_12f5(svg.xmlns.svg,_1307);_1308.appendChild(_1309);}else{var _130b=++_12fa;var _130c="gfx_clip"+_130b;var _130d="url(#"+_130c+")";this.rawNode.setAttribute("clip-path",_130d);_1308=_12f5(svg.xmlns.svg,"clipPath");_1309=_12f5(svg.xmlns.svg,_1307);_1308.appendChild(_1309);this.rawNode.parentNode.insertBefore(_1308,this.rawNode);_12ef.set(_1308,"id",_130c);}_12ef.set(_1309,clip);}else{this.rawNode.removeAttribute("clip-path");if(_1308){_1308.parentNode.removeChild(_1308);}}return this;},_removeClipNode:function(){var _130e,_130f=_12ef.get(this.rawNode,"clip-path");if(_130f){_130e=dom.byId(_130f.match(/gfx_clip[\d]+/)[0]);if(_130e){_130e.parentNode.removeChild(_130e);}}return _130e;}});svg.Group=_12ed("dojox.gfx.svg.Group",svg.Shape,{constructor:function(){gs.Container._init.call(this);},setRawNode:function(_1310){this.rawNode=_1310;this.rawNode.__gfxObject__=this;},destroy:function(){this.clear(true);svg.Shape.prototype.destroy.apply(this,arguments);}});svg.Group.nodeType="g";svg.Rect=_12ed("dojox.gfx.svg.Rect",[svg.Shape,gs.Rect],{setShape:function(_1311){this.shape=g.makeParameters(this.shape,_1311);this.bbox=null;for(var i in this.shape){if(i!="type"&&i!="r"){var v=this.shape[i];if(i==="width"||i==="height"){v=v<0?0:v;}this.rawNode.setAttribute(i,v);}}if(this.shape.r!=null){this.rawNode.setAttribute("ry",this.shape.r);this.rawNode.setAttribute("rx",this.shape.r);}return this;}});svg.Rect.nodeType="rect";svg.Ellipse=_12ed("dojox.gfx.svg.Ellipse",[svg.Shape,gs.Ellipse],{});svg.Ellipse.nodeType="ellipse";svg.Circle=_12ed("dojox.gfx.svg.Circle",[svg.Shape,gs.Circle],{});svg.Circle.nodeType="circle";svg.Line=_12ed("dojox.gfx.svg.Line",[svg.Shape,gs.Line],{});svg.Line.nodeType="line";svg.Polyline=_12ed("dojox.gfx.svg.Polyline",[svg.Shape,gs.Polyline],{setShape:function(_1312,_1313){if(_1312&&_1312 instanceof Array){this.shape=g.makeParameters(this.shape,{points:_1312});if(_1313&&this.shape.points.length){this.shape.points.push(this.shape.points[0]);}}else{this.shape=g.makeParameters(this.shape,_1312);}this.bbox=null;this._normalizePoints();var attr=[],p=this.shape.points;for(var i=0;i<p.length;++i){attr.push(p[i].x.toFixed(8),p[i].y.toFixed(8));}this.rawNode.setAttribute("points",attr.join(" "));return this;}});svg.Polyline.nodeType="polyline";svg.Image=_12ed("dojox.gfx.svg.Image",[svg.Shape,gs.Image],{setShape:function(_1314){this.shape=g.makeParameters(this.shape,_1314);this.bbox=null;var _1315=this.rawNode;for(var i in this.shape){if(i!="type"&&i!="src"){var v=this.shape[i];if(i==="width"||i==="height"){v=v<0?0:v;}_1315.setAttribute(i,v);}}_1315.setAttribute("preserveAspectRatio","none");_12f7(_1315,svg.xmlns.xlink,"xlink:href",this.shape.src);_1315.__gfxObject__=this;return this;}});svg.Image.nodeType="image";svg.Text=_12ed("dojox.gfx.svg.Text",[svg.Shape,gs.Text],{setShape:function(_1316){this.shape=g.makeParameters(this.shape,_1316);this.bbox=null;var r=this.rawNode,s=this.shape;r.setAttribute("x",s.x);r.setAttribute("y",s.y);r.setAttribute("text-anchor",s.align);r.setAttribute("text-decoration",s.decoration);r.setAttribute("rotate",s.rotated?90:0);r.setAttribute("kerning",s.kerning?"auto":0);r.setAttribute("text-rendering",_12f4);if(r.firstChild){r.firstChild.nodeValue=s.text;}else{r.appendChild(_12f8(s.text));}return this;},getTextWidth:function(){var _1317=this.rawNode,_1318=_1317.parentNode,_1319=_1317.cloneNode(true);_1319.style.visibility="hidden";var _131a=0,_131b=_1319.firstChild.nodeValue;_1318.appendChild(_1319);if(_131b!=""){while(!_131a){if(_1319.getBBox){_131a=parseInt(_1319.getBBox().width);}else{_131a=68;}}}_1318.removeChild(_1319);return _131a;},getBoundingBox:function(){var s=this.getShape(),bbox=null;if(s.text){try{bbox=this.rawNode.getBBox();}catch(e){bbox={x:0,y:0,width:0,height:0};}}return bbox;}});svg.Text.nodeType="text";svg.Path=_12ed("dojox.gfx.svg.Path",[svg.Shape,_12f0.Path],{_updateWithSegment:function(_131c){this.inherited(arguments);if(typeof (this.shape.path)=="string"){this.rawNode.setAttribute("d",this.shape.path);}},setShape:function(_131d){this.inherited(arguments);if(this.shape.path){this.rawNode.setAttribute("d",this.shape.path);}else{this.rawNode.removeAttribute("d");}return this;}});svg.Path.nodeType="path";svg.TextPath=_12ed("dojox.gfx.svg.TextPath",[svg.Shape,_12f0.TextPath],{_updateWithSegment:function(_131e){this.inherited(arguments);this._setTextPath();},setShape:function(_131f){this.inherited(arguments);this._setTextPath();return this;},_setTextPath:function(){if(typeof this.shape.path!="string"){return;}var r=this.rawNode;if(!r.firstChild){var tp=_12f5(svg.xmlns.svg,"textPath"),tx=_12f8("");tp.appendChild(tx);r.appendChild(tp);}var ref=r.firstChild.getAttributeNS(svg.xmlns.xlink,"href"),path=ref&&svg.getRef(ref);if(!path){var _1320=this._getParentSurface();if(_1320){var defs=_1320.defNode;path=_12f5(svg.xmlns.svg,"path");var id=g._base._getUniqueId();path.setAttribute("id",id);defs.appendChild(path);_12f7(r.firstChild,svg.xmlns.xlink,"xlink:href","#"+id);}}if(path){path.setAttribute("d",this.shape.path);}},_setText:function(){var r=this.rawNode;if(!r.firstChild){var tp=_12f5(svg.xmlns.svg,"textPath"),tx=_12f8("");tp.appendChild(tx);r.appendChild(tp);}r=r.firstChild;var t=this.text;r.setAttribute("alignment-baseline","middle");switch(t.align){case "middle":r.setAttribute("text-anchor","middle");r.setAttribute("startOffset","50%");break;case "end":r.setAttribute("text-anchor","end");r.setAttribute("startOffset","100%");break;default:r.setAttribute("text-anchor","start");r.setAttribute("startOffset","0%");break;}r.setAttribute("baseline-shift","0.5ex");r.setAttribute("text-decoration",t.decoration);r.setAttribute("rotate",t.rotated?90:0);r.setAttribute("kerning",t.kerning?"auto":0);r.firstChild.data=t.text;}});svg.TextPath.nodeType="text";var _1321=(function(){var _1322=/WebKit\/(\d*)/.exec(_12f1);return _1322?_1322[1]:0;})()>534;svg.Surface=_12ed("dojox.gfx.svg.Surface",gs.Surface,{constructor:function(){gs.Container._init.call(this);},destroy:function(){gs.Container.clear.call(this,true);this.defNode=null;this.inherited(arguments);},setDimensions:function(width,_1323){if(!this.rawNode){return this;}var w=width<0?0:width,h=_1323<0?0:_1323;this.rawNode.setAttribute("width",w);this.rawNode.setAttribute("height",h);if(_1321){this.rawNode.style.width=w;this.rawNode.style.height=h;}return this;},getDimensions:function(){var t=this.rawNode?{width:g.normalizedLength(this.rawNode.getAttribute("width")),height:g.normalizedLength(this.rawNode.getAttribute("height"))}:null;return t;}});svg.createSurface=function(_1324,width,_1325){var s=new svg.Surface();s.rawNode=_12f5(svg.xmlns.svg,"svg");s.rawNode.setAttribute("overflow","hidden");if(width){s.rawNode.setAttribute("width",width<0?0:width);}if(_1325){s.rawNode.setAttribute("height",_1325<0?0:_1325);}var _1326=_12f5(svg.xmlns.svg,"defs");s.rawNode.appendChild(_1326);s.defNode=_1326;s._parent=dom.byId(_1324);s._parent.appendChild(s.rawNode);g._base._fixMsTouchAction(s);return s;};var Font={_setFont:function(){var f=this.fontStyle;this.rawNode.setAttribute("font-style",f.style);this.rawNode.setAttribute("font-variant",f.variant);this.rawNode.setAttribute("font-weight",f.weight);this.rawNode.setAttribute("font-size",f.size);this.rawNode.setAttribute("font-family",f.family);}};var C=gs.Container;var _1327=svg.Container={openBatch:function(){if(!this._batch){this.fragment=_12f9();}++this._batch;return this;},closeBatch:function(){this._batch=this._batch>0?--this._batch:0;if(this.fragment&&!this._batch){this.rawNode.appendChild(this.fragment);delete this.fragment;}return this;},add:function(shape){if(this!=shape.getParent()){if(this.fragment){this.fragment.appendChild(shape.rawNode);}else{this.rawNode.appendChild(shape.rawNode);}C.add.apply(this,arguments);shape.setClip(shape.clip);}return this;},remove:function(shape,_1328){if(this==shape.getParent()){if(this.rawNode==shape.rawNode.parentNode){this.rawNode.removeChild(shape.rawNode);}if(this.fragment&&this.fragment==shape.rawNode.parentNode){this.fragment.removeChild(shape.rawNode);}shape._removeClipNode();C.remove.apply(this,arguments);}return this;},clear:function(){var r=this.rawNode;while(r.lastChild){r.removeChild(r.lastChild);}var _1329=this.defNode;if(_1329){while(_1329.lastChild){_1329.removeChild(_1329.lastChild);}r.appendChild(_1329);}return C.clear.apply(this,arguments);},getBoundingBox:C.getBoundingBox,_moveChildToFront:C._moveChildToFront,_moveChildToBack:C._moveChildToBack};var _132a=svg.Creator={createObject:function(_132b,_132c){if(!this.rawNode){return null;}var shape=new _132b(),node=_12f5(svg.xmlns.svg,_132b.nodeType);shape.setRawNode(node);shape.setShape(_132c);this.add(shape);return shape;}};lang.extend(svg.Text,Font);lang.extend(svg.TextPath,Font);lang.extend(svg.Group,_1327);lang.extend(svg.Group,gs.Creator);lang.extend(svg.Group,_132a);lang.extend(svg.Surface,_1327);lang.extend(svg.Surface,gs.Creator);lang.extend(svg.Surface,_132a);svg.fixTarget=function(event,_132d){if(!event.gfxTarget){if(_12f2&&event.target.wholeText){event.gfxTarget=event.target.parentElement.__gfxObject__;}else{event.gfxTarget=event.target.__gfxObject__;}}return true;};if(svg.useSvgWeb){svg.createSurface=function(_132e,width,_132f){var s=new svg.Surface();width=width<0?0:width;_132f=_132f<0?0:_132f;if(!width||!_132f){var pos=_12ee.position(_132e);width=width||pos.w;_132f=_132f||pos.h;}_132e=dom.byId(_132e);var id=_132e.id?_132e.id+"_svgweb":g._base._getUniqueId();var _1330=_12f5(svg.xmlns.svg,"svg");_1330.id=id;_1330.setAttribute("width",width);_1330.setAttribute("height",_132f);svgweb.appendChild(_1330,_132e);_1330.addEventListener("SVGLoad",function(){s.rawNode=this;s.isLoaded=true;var _1331=_12f5(svg.xmlns.svg,"defs");s.rawNode.appendChild(_1331);s.defNode=_1331;if(s.onLoad){s.onLoad(s);}},false);s.isLoaded=false;return s;};svg.Surface.extend({destroy:function(){var _1332=this.rawNode;svgweb.removeChild(_1332,_1332.parentNode);}});var _1333={connect:function(name,_1334,_1335){if(name.substring(0,2)==="on"){name=name.substring(2);}if(arguments.length==2){_1335=_1334;}else{_1335=lang.hitch(_1334,_1335);}this.getEventSource().addEventListener(name,_1335,false);return [this,name,_1335];},disconnect:function(token){this.getEventSource().removeEventListener(token[1],token[2],false);delete token[0];}};lang.extend(svg.Shape,_1333);lang.extend(svg.Surface,_1333);}return svg;});},"dojox/charting/action2d/PlotAction":function(){define(["dojo/_base/connect","dojo/_base/declare","./Base","dojo/fx/easing","dojox/lang/functional"],function(hub,_1336,Base,dfe,df){var _1337=400,_1338=dfe.backOut;return _1336("dojox.charting.action2d.PlotAction",Base,{overOutEvents:{onmouseover:1,onmouseout:1},constructor:function(chart,plot,_1339){this.anim={};if(!_1339){_1339={};}this.duration=_1339.duration?_1339.duration:_1337;this.easing=_1339.easing?_1339.easing:_1338;},connect:function(){this.handle=this.chart.connectToPlot(this.plot.name,this,"process");},disconnect:function(){if(this.handle){hub.disconnect(this.handle);this.handle=null;}},reset:function(){},destroy:function(){this.inherited(arguments);df.forIn(this.anim,function(o){df.forIn(o,function(anim){anim.action.stop(true);});});this.anim={};}});});},"dijit/layout/LayoutContainer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-style","dojo/_base/lang","../_WidgetBase","./_LayoutWidget","./utils"],function(array,_133a,_133b,_133c,lang,_133d,_133e,_133f){var _1340=_133a("dijit.layout.LayoutContainer",_133e,{design:"headline",baseClass:"dijitLayoutContainer",startup:function(){if(this._started){return;}array.forEach(this.getChildren(),this._setupChild,this);this.inherited(arguments);},_setupChild:function(child){this.inherited(arguments);var _1341=child.region;if(_1341){_133b.add(child.domNode,this.baseClass+"Pane");}},_getOrderedChildren:function(){var _1342=array.map(this.getChildren(),function(child,idx){return {pane:child,weight:[child.region=="center"?Infinity:0,child.layoutPriority,(this.design=="sidebar"?1:-1)*(/top|bottom/.test(child.region)?1:-1),idx]};},this);_1342.sort(function(a,b){var aw=a.weight,bw=b.weight;for(var i=0;i<aw.length;i++){if(aw[i]!=bw[i]){return aw[i]-bw[i];}}return 0;});return array.map(_1342,function(w){return w.pane;});},layout:function(){_133f.layoutChildren(this.domNode,this._contentBox,this._getOrderedChildren());},addChild:function(child,_1343){this.inherited(arguments);if(this._started){this.layout();}},removeChild:function(child){this.inherited(arguments);if(this._started){this.layout();}_133b.remove(child.domNode,this.baseClass+"Pane");_133c.set(child.domNode,{top:"auto",bottom:"auto",left:"auto",right:"auto",position:"static"});_133c.set(child.domNode,/top|bottom/.test(child.region)?"width":"height","auto");}});_1340.ChildWidgetProperties={region:"",layoutAlign:"",layoutPriority:0};lang.extend(_133d,_1340.ChildWidgetProperties);return _1340;});},"dojox/charting/plot2d/CartesianBase":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/_base/connect","dojo/has","./Base","../scaler/primitive","dojox/gfx","dojox/gfx/fx","dojox/lang/utils"],function(lang,_1344,hub,has,Base,_1345,gfx,fx,du){var _1346=function(){return false;};return _1344("dojox.charting.plot2d.CartesianBase",Base,{baseParams:{hAxis:"x",vAxis:"y",labels:false,labelOffset:10,fixed:true,precision:1,labelStyle:"inside",htmlLabels:true,omitLabels:true,labelFunc:null},constructor:function(chart,_1347){this.axes=["hAxis","vAxis"];this.zoom=null;this.zoomQueue=[];this.lastWindow={vscale:1,hscale:1,xoffset:0,yoffset:0};this.hAxis=(_1347&&_1347.hAxis)||"x";this.vAxis=(_1347&&_1347.vAxis)||"y";this.series=[];this.opt=lang.clone(this.baseParams);du.updateWithObject(this.opt,_1347);},clear:function(){this.inherited(arguments);this._hAxis=null;this._vAxis=null;return this;},cleanGroup:function(_1348,_1349){this.inherited(arguments);if(!_1349&&this.chart._nativeClip){var _134a=this.chart.offsets,dim=this.chart.dim;var w=Math.max(0,dim.width-_134a.l-_134a.r),h=Math.max(0,dim.height-_134a.t-_134a.b);this.group.setClip({x:_134a.l,y:_134a.t,width:w,height:h});if(!this._clippedGroup){this._clippedGroup=this.group.createGroup();}}},purgeGroup:function(){this.inherited(arguments);this._clippedGroup=null;},getGroup:function(){return this._clippedGroup||this.group;},setAxis:function(axis){if(axis){this[axis.vertical?"_vAxis":"_hAxis"]=axis;}return this;},toPage:function(coord){var ah=this._hAxis,av=this._vAxis,sh=ah.getScaler(),sv=av.getScaler(),th=sh.scaler.getTransformerFromModel(sh),tv=sv.scaler.getTransformerFromModel(sv),c=this.chart.getCoords(),o=this.chart.offsets,dim=this.chart.dim;var t=function(coord){var r={};r.x=th(coord[ah.name])+c.x+o.l;r.y=c.y+dim.height-o.b-tv(coord[av.name]);return r;};return coord?t(coord):t;},toData:function(coord){var ah=this._hAxis,av=this._vAxis,sh=ah.getScaler(),sv=av.getScaler(),th=sh.scaler.getTransformerFromPlot(sh),tv=sv.scaler.getTransformerFromPlot(sv),c=this.chart.getCoords(),o=this.chart.offsets,dim=this.chart.dim;var t=function(coord){var r={};r[ah.name]=th(coord.x-c.x-o.l);r[av.name]=tv(c.y+dim.height-coord.y-o.b);return r;};return coord?t(coord):t;},isDirty:function(){return this.dirty||this._hAxis&&this._hAxis.dirty||this._vAxis&&this._vAxis.dirty;},createLabel:function(group,value,bbox,theme){if(this.opt.labels){var x,y,label=this.opt.labelFunc?this.opt.labelFunc.apply(this,[value,this.opt.fixed,this.opt.precision]):this._getLabel(isNaN(value.y)?value:value.y);if(this.opt.labelStyle=="inside"){var lbox=gfx._base._getTextBox(label,{font:theme.series.font});x=bbox.x+bbox.width/2;y=bbox.y+bbox.height/2+lbox.h/4;if(lbox.w>bbox.width||lbox.h>bbox.height){return;}}else{x=bbox.x+bbox.width/2;y=bbox.y-this.opt.labelOffset;}this.renderLabel(group,x,y,label,theme,this.opt.labelStyle=="inside");}},performZoom:function(dim,_134b){var vs=this._vAxis.scale||1,hs=this._hAxis.scale||1,_134c=dim.height-_134b.b,_134d=this._hScaler.bounds,_134e=(_134d.from-_134d.lower)*_134d.scale,_134f=this._vScaler.bounds,_1350=(_134f.from-_134f.lower)*_134f.scale,_1351=vs/this.lastWindow.vscale,_1352=hs/this.lastWindow.hscale,_1353=(this.lastWindow.xoffset-_134e)/((this.lastWindow.hscale==1)?hs:this.lastWindow.hscale),_1354=(_1350-this.lastWindow.yoffset)/((this.lastWindow.vscale==1)?vs:this.lastWindow.vscale),shape=this.getGroup(),anim=fx.animateTransform(lang.delegate({shape:shape,duration:1200,transform:[{name:"translate",start:[0,0],end:[_134b.l*(1-_1352),_134c*(1-_1351)]},{name:"scale",start:[1,1],end:[_1352,_1351]},{name:"original"},{name:"translate",start:[0,0],end:[_1353,_1354]}]},this.zoom));lang.mixin(this.lastWindow,{vscale:vs,hscale:hs,xoffset:_134e,yoffset:_1350});this.zoomQueue.push(anim);hub.connect(anim,"onEnd",this,function(){this.zoom=null;this.zoomQueue.shift();if(this.zoomQueue.length>0){this.zoomQueue[0].play();}});if(this.zoomQueue.length==1){this.zoomQueue[0].play();}return this;},initializeScalers:function(dim,stats){if(this._hAxis){if(!this._hAxis.initialized()){this._hAxis.calculate(stats.hmin,stats.hmax,dim.width);}this._hScaler=this._hAxis.getScaler();}else{this._hScaler=_1345.buildScaler(stats.hmin,stats.hmax,dim.width);}if(this._vAxis){if(!this._vAxis.initialized()){this._vAxis.calculate(stats.vmin,stats.vmax,dim.height);}this._vScaler=this._vAxis.getScaler();}else{this._vScaler=_1345.buildScaler(stats.vmin,stats.vmax,dim.height);}return this;},isNullValue:function(value){if(value===null||typeof value=="undefined"){return true;}var h=this._hAxis?this._hAxis.isNullValue:_1346,v=this._vAxis?this._vAxis.isNullValue:_1346;if(typeof value=="number"){return h(1)||v(value);}return h(isNaN(value.x)?1:value.x)||value.y===null||v(value.y);}});});},"dojox/charting/plot2d/_PlotEvents":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dojo/_base/connect"],function(lang,arr,_1355,hub){return _1355("dojox.charting.plot2d._PlotEvents",null,{constructor:function(){this._shapeEvents=[];this._eventSeries={};},destroy:function(){this.resetEvents();this.inherited(arguments);},plotEvent:function(o){},raiseEvent:function(o){this.plotEvent(o);var t=lang.delegate(o);t.originalEvent=o.type;t.originalPlot=o.plot;t.type="onindirect";arr.forEach(this.chart.stack,function(plot){if(plot!==this&&plot.plotEvent){t.plot=plot;plot.plotEvent(t);}},this);},connect:function(_1356,_1357){this.dirty=true;return hub.connect(this,"plotEvent",_1356,_1357);},events:function(){return !!this.plotEvent.after;},resetEvents:function(){if(this._shapeEvents.length){arr.forEach(this._shapeEvents,function(item){item.shape.disconnect(item.handle);});this._shapeEvents=[];}this.raiseEvent({type:"onplotreset",plot:this});},_connectSingleEvent:function(o,_1358){this._shapeEvents.push({shape:o.eventMask,handle:o.eventMask.connect(_1358,this,function(e){o.type=_1358;o.event=e;this.raiseEvent(o);o.event=null;})});},_connectEvents:function(o){if(o){o.chart=this.chart;o.plot=this;o.hAxis=this.hAxis||null;o.vAxis=this.vAxis||null;o.eventMask=o.eventMask||o.shape;this._connectSingleEvent(o,"onmouseover");this._connectSingleEvent(o,"onmouseout");this._connectSingleEvent(o,"onclick");}},_reconnectEvents:function(_1359){var a=this._eventSeries[_1359];if(a){arr.forEach(a,this._connectEvents,this);}},fireEvent:function(_135a,_135b,index,_135c){var s=this._eventSeries[_135a];if(s&&s.length&&index<s.length){var o=s[index];o.type=_135b;o.event=_135c||null;this.raiseEvent(o);o.event=null;}}});});},"dijit/layout/utils":function(){define(["dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang"],function(array,_135d,_135e,_135f,lang){function _1360(word){return word.substring(0,1).toUpperCase()+word.substring(1);};function size(_1361,dim){var _1362=_1361.resize?_1361.resize(dim):_135e.setMarginBox(_1361.domNode,dim);if(_1362){lang.mixin(_1361,_1362);}else{lang.mixin(_1361,_135e.getMarginBox(_1361.domNode));lang.mixin(_1361,dim);}};var utils={marginBox2contentBox:function(node,mb){var cs=_135f.getComputedStyle(node);var me=_135e.getMarginExtents(node,cs);var pb=_135e.getPadBorderExtents(node,cs);return {l:_135f.toPixelValue(node,cs.paddingLeft),t:_135f.toPixelValue(node,cs.paddingTop),w:mb.w-(me.w+pb.w),h:mb.h-(me.h+pb.h)};},layoutChildren:function(_1363,dim,_1364,_1365,_1366){dim=lang.mixin({},dim);_135d.add(_1363,"dijitLayoutContainer");_1364=array.filter(_1364,function(item){return item.region!="center"&&item.layoutAlign!="client";}).concat(array.filter(_1364,function(item){return item.region=="center"||item.layoutAlign=="client";}));array.forEach(_1364,function(child){var elm=child.domNode,pos=(child.region||child.layoutAlign);if(!pos){throw new Error("No region setting for "+child.id);}var _1367=elm.style;_1367.left=dim.l+"px";_1367.top=dim.t+"px";_1367.position="absolute";_135d.add(elm,"dijitAlign"+_1360(pos));var _1368={};if(_1365&&_1365==child.id){_1368[child.region=="top"||child.region=="bottom"?"h":"w"]=_1366;}if(pos=="leading"){pos=child.isLeftToRight()?"left":"right";}if(pos=="trailing"){pos=child.isLeftToRight()?"right":"left";}if(pos=="top"||pos=="bottom"){_1368.w=dim.w;size(child,_1368);dim.h-=child.h;if(pos=="top"){dim.t+=child.h;}else{_1367.top=dim.t+dim.h+"px";}}else{if(pos=="left"||pos=="right"){_1368.h=dim.h;size(child,_1368);dim.w-=child.w;if(pos=="left"){dim.l+=child.w;}else{_1367.left=dim.l+dim.w+"px";}}else{if(pos=="client"||pos=="center"){size(child,dim);}}}});}};lang.setObject("dijit.layout.utils",utils);return utils;});},"dijit/ProgressBar":function(){define(["require","dojo/_base/declare","dojo/dom-class","dojo/_base/lang","dojo/number","./_Widget","./_TemplatedMixin","dojo/text!./templates/ProgressBar.html"],function(_1369,_136a,_136b,lang,_136c,_136d,_136e,_136f){return _136a("dijit.ProgressBar",[_136d,_136e],{progress:"0",value:"",maximum:100,places:0,indeterminate:false,label:"",name:"",templateString:_136f,_indeterminateHighContrastImagePath:_1369.toUrl("./themes/a11y/indeterminate_progress.gif"),postMixInProperties:function(){this.inherited(arguments);if(!(this.params&&"value" in this.params)){this.value=this.indeterminate?Infinity:this.progress;}},buildRendering:function(){this.inherited(arguments);this.indeterminateHighContrastImage.setAttribute("src",this._indeterminateHighContrastImagePath.toString());this.update();},_setDirAttr:function(val){var rtl=val.toLowerCase()=="rtl";_136b.toggle(this.domNode,"dijitProgressBarRtl",rtl);_136b.toggle(this.domNode,"dijitProgressBarIndeterminateRtl",this.indeterminate&&rtl);this.inherited(arguments);},update:function(_1370){lang.mixin(this,_1370||{});var tip=this.internalProgress,ap=this.domNode;var _1371=1;if(this.indeterminate){ap.removeAttribute("aria-valuenow");}else{if(String(this.progress).indexOf("%")!=-1){_1371=Math.min(parseFloat(this.progress)/100,1);this.progress=_1371*this.maximum;}else{this.progress=Math.min(this.progress,this.maximum);_1371=this.maximum?this.progress/this.maximum:0;}ap.setAttribute("aria-valuenow",this.progress);}ap.setAttribute("aria-labelledby",this.labelNode.id);ap.setAttribute("aria-valuemin",0);ap.setAttribute("aria-valuemax",this.maximum);this.labelNode.innerHTML=this.report(_1371);_136b.toggle(this.domNode,"dijitProgressBarIndeterminate",this.indeterminate);_136b.toggle(this.domNode,"dijitProgressBarIndeterminateRtl",this.indeterminate&&!this.isLeftToRight());tip.style.width=(_1371*100)+"%";this.onChange();},_setValueAttr:function(v){this._set("value",v);if(v==Infinity){this.update({indeterminate:true});}else{this.update({indeterminate:false,progress:v});}},_setLabelAttr:function(label){this._set("label",label);this.update();},_setIndeterminateAttr:function(_1372){this._set("indeterminate",_1372);this.update();},report:function(_1373){return this.label?this.label:(this.indeterminate?"&#160;":_136c.format(_1373,{type:"percent",places:this.places,locale:this.lang}));},onChange:function(){}});});},"dijit/form/ValidationTextBox":function(){define(["dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/i18n","./TextBox","../Tooltip","dojo/text!./templates/ValidationTextBox.html","dojo/i18n!./nls/validate"],function(_1374,_1375,lang,i18n,_1376,_1377,_1378){var _1379=_1374("dijit.form.ValidationTextBox",_1376,{templateString:_1378,required:false,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},pattern:".*",regExp:"",regExpGen:function(){},state:"",tooltipPosition:[],_deprecateRegExp:function(attr,value){if(value!=_1379.prototype[attr]){_1375.deprecated("ValidationTextBox id="+this.id+", set('"+attr+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0");this.set("pattern",value);}},_setRegExpGenAttr:function(_137a){this._deprecateRegExp("regExpGen",_137a);this._set("regExpGen",this._computeRegexp);},_setRegExpAttr:function(value){this._deprecateRegExp("regExp",value);},_setValueAttr:function(){this.inherited(arguments);this._refreshState();},validator:function(value,_137b){return (new RegExp("^(?:"+this._computeRegexp(_137b)+")"+(this.required?"":"?")+"$")).test(value)&&(!this.required||!this._isEmpty(value))&&(this._isEmpty(value)||this.parse(value,_137b)!==undefined);},_isValidSubset:function(){return this.textbox.value.search(this._partialre)==0;},isValid:function(){return this.validator(this.textbox.value,this.get("constraints"));},_isEmpty:function(value){return (this.trim?/^\s*$/:/^$/).test(value);},getErrorMessage:function(){var _137c=this.invalidMessage=="$_unset_$"?this.messages.invalidMessage:!this.invalidMessage?this.promptMessage:this.invalidMessage;var _137d=this.missingMessage=="$_unset_$"?this.messages.missingMessage:!this.missingMessage?_137c:this.missingMessage;return (this.required&&this._isEmpty(this.textbox.value))?_137d:_137c;},getPromptMessage:function(){return this.promptMessage;},_maskValidSubsetError:true,validate:function(_137e){var _137f="";var _1380=this.disabled||this.isValid(_137e);if(_1380){this._maskValidSubsetError=true;}var _1381=this._isEmpty(this.textbox.value);var _1382=!_1380&&_137e&&this._isValidSubset();this._set("state",_1380?"":(((((!this._hasBeenBlurred||_137e)&&_1381)||_1382)&&(this._maskValidSubsetError||(_1382&&!this._hasBeenBlurred&&_137e)))?"Incomplete":"Error"));this.focusNode.setAttribute("aria-invalid",this.state=="Error"?"true":"false");if(this.state=="Error"){this._maskValidSubsetError=_137e&&_1382;_137f=this.getErrorMessage(_137e);}else{if(this.state=="Incomplete"){_137f=this.getPromptMessage(_137e);this._maskValidSubsetError=!this._hasBeenBlurred||_137e;}else{if(_1381){_137f=this.getPromptMessage(_137e);}}}this.set("message",_137f);return _1380;},displayMessage:function(_1383){if(_1383&&this.focused){_1377.show(_1383,this.domNode,this.tooltipPosition,!this.isLeftToRight());}else{_1377.hide(this.domNode);}},_refreshState:function(){if(this._created){this.validate(this.focused);}this.inherited(arguments);},constructor:function(_1384){this.constraints=lang.clone(this.constraints);this.baseClass+=" dijitValidationTextBox";},startup:function(){this.inherited(arguments);this._refreshState();},_setConstraintsAttr:function(_1385){if(!_1385.locale&&this.lang){_1385.locale=this.lang;}this._set("constraints",_1385);this._refreshState();},_setPatternAttr:function(_1386){this._set("pattern",_1386);this._refreshState();},_computeRegexp:function(_1387){var p=this.pattern;if(typeof p=="function"){p=p.call(this,_1387);}if(p!=this._lastRegExp){var _1388="";this._lastRegExp=p;if(p!=".*"){p.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(re){switch(re.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":_1388+=re;break;case ")":_1388+="|$)";break;default:_1388+="(?:"+re+"|$)";break;}});}try{"".search(_1388);}catch(e){_1388=this.pattern;}this._partialre="^(?:"+_1388+")$";}return p;},postMixInProperties:function(){this.inherited(arguments);this.messages=i18n.getLocalization("dijit.form","validate",this.lang);this._setConstraintsAttr(this.constraints);},_setDisabledAttr:function(value){this.inherited(arguments);this._refreshState();},_setRequiredAttr:function(value){this._set("required",value);this.focusNode.setAttribute("aria-required",value);this._refreshState();},_setMessageAttr:function(_1389){this._set("message",_1389);this.displayMessage(_1389);},reset:function(){this._maskValidSubsetError=true;this.inherited(arguments);},_onBlur:function(){this.displayMessage("");this.inherited(arguments);},destroy:function(){_1377.hide(this.domNode);this.inherited(arguments);}});return _1379;});},"dojox/charting/plot2d/StackedColumns":function(){define(["dojo/_base/declare","dojo/_base/lang","./Columns","./commonStacked"],function(_138a,lang,_138b,_138c){return _138a("dojox.charting.plot2d.StackedColumns",_138b,{getSeriesStats:function(){var stats=_138c.collectStats(this.series,lang.hitch(this,"isNullValue"));stats.hmin-=0.5;stats.hmax+=0.5;return stats;},rearrangeValues:function(_138d,_138e,_138f){return _138c.rearrangeValues.call(this,_138d,_138e,_138f);}});});},"dijit/form/NumberTextBox":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/i18n","dojo/string","dojo/number","./RangeBoundTextBox"],function(_1390,lang,i18n,_1391,_1392,_1393){var _1394=function(_1395){var _1395=_1395||{},_1396=i18n.getLocalization("dojo.cldr","number",i18n.normalizeLocale(_1395.locale)),_1397=_1395.pattern?_1395.pattern:_1396[(_1395.type||"decimal")+"Format"];var _1398;if(typeof _1395.places=="number"){_1398=_1395.places;}else{if(typeof _1395.places==="string"&&_1395.places.length>0){_1398=_1395.places.replace(/.*,/,"");}else{_1398=(_1397.indexOf(".")!=-1?_1397.split(".")[1].replace(/[^#0]/g,"").length:0);}}return {sep:_1396.decimal,places:_1398};};var _1399=_1390("dijit.form.NumberTextBoxMixin",null,{pattern:function(_139a){return "("+(this.focused&&this.editOptions?this._regExpGenerator(lang.delegate(_139a,this.editOptions))+"|":"")+this._regExpGenerator(_139a)+")";},value:NaN,editOptions:{pattern:"#.######"},_formatter:_1392.format,_regExpGenerator:_1392.regexp,_decimalInfo:_1394(),postMixInProperties:function(){this.inherited(arguments);this._set("type","text");},_setConstraintsAttr:function(_139b){var _139c=typeof _139b.places=="number"?_139b.places:0;if(_139c){_139c++;}if(typeof _139b.max!="number"){_139b.max=9*Math.pow(10,15-_139c);}if(typeof _139b.min!="number"){_139b.min=-9*Math.pow(10,15-_139c);}this.inherited(arguments,[_139b]);if(this.focusNode&&this.focusNode.value&&!isNaN(this.value)){this.set("value",this.value);}this._decimalInfo=_1394(_139b);},_onFocus:function(){if(this.disabled||this.readOnly){return;}var val=this.get("value");if(typeof val=="number"&&!isNaN(val)){var _139d=this.format(val,this.constraints);if(_139d!==undefined){this.textbox.value=_139d;}}this.inherited(arguments);},format:function(value,_139e){var _139f=String(value);if(typeof value!="number"){return _139f;}if(isNaN(value)){return "";}if(!("rangeCheck" in this&&this.rangeCheck(value,_139e))&&_139e.exponent!==false&&/\de[-+]?\d/i.test(_139f)){return _139f;}if(this.editOptions&&this.focused){_139e=lang.mixin({},_139e,this.editOptions);}return this._formatter(value,_139e);},_parser:_1392.parse,parse:function(value,_13a0){var _13a1=lang.mixin({},_13a0,(this.editOptions&&this.focused)?this.editOptions:{});if(this.focused&&_13a1.places!=null){var _13a2=_13a1.places;var _13a3=typeof _13a2==="number"?_13a2:Number(_13a2.split(",").pop());_13a1.places="0,"+_13a3;}var v=this._parser(value,_13a1);if(this.editOptions&&this.focused&&isNaN(v)){v=this._parser(value,_13a0);}return v;},_getDisplayedValueAttr:function(){var v=this.inherited(arguments);return isNaN(v)?this.textbox.value:v;},filter:function(value){if(value==null||typeof value=="string"&&value==""){return NaN;}else{if(typeof value=="number"&&!isNaN(value)&&value!=0){value=_1392.round(value,this._decimalInfo.places);}}return this.inherited(arguments,[value]);},serialize:function(value,_13a4){return (typeof value!="number"||isNaN(value))?"":this.inherited(arguments);},_setBlurValue:function(){var val=lang.hitch(lang.delegate(this,{focused:true}),"get")("value");this._setValueAttr(val,true);},_setValueAttr:function(value,_13a5,_13a6){if(value!==undefined&&_13a6===undefined){_13a6=String(value);if(typeof value=="number"){if(isNaN(value)){_13a6="";}else{if(("rangeCheck" in this&&this.rangeCheck(value,this.constraints))||this.constraints.exponent===false||!/\de[-+]?\d/i.test(_13a6)){_13a6=undefined;}}}else{if(!value){_13a6="";value=NaN;}else{value=undefined;}}}this.inherited(arguments,[value,_13a5,_13a6]);},_getValueAttr:function(){var v=this.inherited(arguments);if(isNaN(v)&&this.textbox.value!==""){if(this.constraints.exponent!==false&&/\de[-+]?\d/i.test(this.textbox.value)&&(new RegExp("^"+_1392._realNumberRegexp(lang.delegate(this.constraints))+"$").test(this.textbox.value))){var n=Number(this.textbox.value);return isNaN(n)?undefined:n;}else{return undefined;}}else{return v;}},isValid:function(_13a7){if(!this.focused||this._isEmpty(this.textbox.value)){return this.inherited(arguments);}else{var v=this.get("value");if(!isNaN(v)&&this.rangeCheck(v,this.constraints)){if(this.constraints.exponent!==false&&/\de[-+]?\d/i.test(this.textbox.value)){return true;}else{return this.inherited(arguments);}}else{return false;}}},_isValidSubset:function(){var _13a8=(typeof this.constraints.min=="number"),_13a9=(typeof this.constraints.max=="number"),_13aa=this.get("value");if(isNaN(_13aa)||(!_13a8&&!_13a9)){return this.inherited(arguments);}var _13ab=_13aa|0,_13ac=_13aa<0,_13ad=this.textbox.value.indexOf(this._decimalInfo.sep)!=-1,_13ae=this.maxLength||20,_13af=_13ae-this.textbox.value.length,_13b0=_13ad?this.textbox.value.split(this._decimalInfo.sep)[1].replace(/[^0-9]/g,""):"";var _13b1=_13ad?_13ab+"."+_13b0:_13ab+"";var _13b2=_1391.rep("9",_13af),_13b3=_13aa,_13b4=_13aa;if(_13ac){_13b3=Number(_13b1+_13b2);}else{_13b4=Number(_13b1+_13b2);}return !((_13a8&&_13b4<this.constraints.min)||(_13a9&&_13b3>this.constraints.max));}});var _13b5=_1390("dijit.form.NumberTextBox",[_1393,_1399],{baseClass:"dijitTextBox dijitNumberTextBox"});_13b5.Mixin=_1399;return _13b5;});},"dijit/form/_ComboBoxMenuMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/has","dojo/i18n","dojo/i18n!./nls/ComboBox"],function(array,_13b6,_13b7,has,i18n){var _13b8=_13b6("dijit.form._ComboBoxMenuMixin"+(has("dojo-bidi")?"_NoBidi":""),null,{_messages:null,postMixInProperties:function(){this.inherited(arguments);this._messages=i18n.getLocalization("dijit.form","ComboBox",this.lang);},buildRendering:function(){this.inherited(arguments);this.previousButton.innerHTML=this._messages["previousMessage"];this.nextButton.innerHTML=this._messages["nextMessage"];},_setValueAttr:function(value){this._set("value",value);this.onChange(value);},onClick:function(node){if(node==this.previousButton){this._setSelectedAttr(null);this.onPage(-1);}else{if(node==this.nextButton){this._setSelectedAttr(null);this.onPage(1);}else{this.onChange(node);}}},onChange:function(){},onPage:function(){},onClose:function(){this._setSelectedAttr(null);},_createOption:function(item,_13b9){var _13ba=this._createMenuItem();var _13bb=_13b9(item);if(_13bb.html){_13ba.innerHTML=_13bb.label;}else{_13ba.appendChild(_13ba.ownerDocument.createTextNode(_13bb.label));}if(_13ba.innerHTML==""){_13ba.innerHTML="&#160;";}return _13ba;},createOptions:function(_13bc,_13bd,_13be){this.items=_13bc;this.previousButton.style.display=(_13bd.start==0)?"none":"";_13b7.set(this.previousButton,"id",this.id+"_prev");array.forEach(_13bc,function(item,i){var _13bf=this._createOption(item,_13be);_13bf.setAttribute("item",i);_13b7.set(_13bf,"id",this.id+i);this.nextButton.parentNode.insertBefore(_13bf,this.nextButton);},this);var _13c0=false;if(_13bc.total&&!_13bc.total.then&&_13bc.total!=-1){if((_13bd.start+_13bd.count)<_13bc.total){_13c0=true;}else{if((_13bd.start+_13bd.count)>_13bc.total&&_13bd.count==_13bc.length){_13c0=true;}}}else{if(_13bd.count==_13bc.length){_13c0=true;}}this.nextButton.style.display=_13c0?"":"none";_13b7.set(this.nextButton,"id",this.id+"_next");},clearResultList:function(){var _13c1=this.containerNode;while(_13c1.childNodes.length>2){_13c1.removeChild(_13c1.childNodes[_13c1.childNodes.length-2]);}this._setSelectedAttr(null);},highlightFirstOption:function(){this.selectFirstNode();},highlightLastOption:function(){this.selectLastNode();},selectFirstNode:function(){this.inherited(arguments);if(this.getHighlightedOption()==this.previousButton){this.selectNextNode();}},selectLastNode:function(){this.inherited(arguments);if(this.getHighlightedOption()==this.nextButton){this.selectPreviousNode();}},getHighlightedOption:function(){return this.selected;}});if(has("dojo-bidi")){_13b8=_13b6("dijit.form._ComboBoxMenuMixin",_13b8,{_createOption:function(){var _13c2=this.inherited(arguments);this.applyTextDir(_13c2);return _13c2;}});}return _13b8;});},"dojox/collections/_base":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array"],function(dojo,lang,arr){var _13c3=lang.getObject("dojox.collections",true);_13c3.DictionaryEntry=function(k,v){this.key=k;this.value=v;this.valueOf=function(){return this.value;};this.toString=function(){return String(this.value);};};_13c3.Iterator=function(a){var _13c4=0;this.element=a[_13c4]||null;this.atEnd=function(){return (_13c4>=a.length);};this.get=function(){if(this.atEnd()){return null;}this.element=a[_13c4++];return this.element;};this.map=function(fn,scope){return arr.map(a,fn,scope);};this.reset=function(){_13c4=0;this.element=a[_13c4];};};_13c3.DictionaryIterator=function(obj){var a=[];var _13c5={};for(var p in obj){if(!_13c5[p]){a.push(obj[p]);}}var _13c6=0;this.element=a[_13c6]||null;this.atEnd=function(){return (_13c6>=a.length);};this.get=function(){if(this.atEnd()){return null;}this.element=a[_13c6++];return this.element;};this.map=function(fn,scope){return arr.map(a,fn,scope);};this.reset=function(){_13c6=0;this.element=a[_13c6];};};return _13c3;});},"put-selector/put":function(){(function(_13c7){var _13c8,_13c9=/[-+,> ]/;_13c7([],_13c8=function(doc,_13ca){"use strict";_13c9=_13ca||_13c9;var _13cb=/(?:\s*([-+ ,<>]))?\s*(\.|!\.?|#)?([-\w%$|]+)?(?:\[([^\]=]+)=?['"]?([^\]'"]*)['"]?\])?/g,_13cc,_13cd,_13ce=false,doc=doc||document,_13cf=typeof doc.createElement=="object";function _13d0(_13d1,text){_13d1.appendChild(doc.createTextNode(text));};function put(_13d2){var _13d3,_13d4,_13d5,_13d6,_13d7,args=arguments,_13d8=args[0];function _13d9(){if(_13d7&&_13d6&&_13d7!=_13d6){(_13d6==_13d2&&(_13d3||(_13d3=_13c9.test(_13da)&&doc.createDocumentFragment()))?_13d3:_13d6).insertBefore(_13d7,_13d5||null);}};for(var i=0;i<args.length;i++){var _13da=args[i];if(typeof _13da=="object"){_13d4=false;if(_13da instanceof Array){_13d7=doc.createDocumentFragment();for(var key=0;key<_13da.length;key++){_13d7.appendChild(put(_13da[key]));}_13da=_13d7;}if(_13da.nodeType){_13d7=_13da;_13d9();_13d6=_13da;_13d5=0;}else{for(var key in _13da){_13d7[key]=_13da[key];}}}else{if(_13d4){_13d4=false;_13d0(_13d7,_13da);}else{if(i<1){_13d2=null;}_13d4=true;var _13db=_13da.replace(_13cb,function(t,_13dc,_13dd,value,_13de,_13df){if(_13dc){_13d9();if(_13dc=="-"||_13dc=="+"){_13d6=(_13d5=(_13d7||_13d6)).parentNode;_13d7=null;if(_13dc=="+"){_13d5=_13d5.nextSibling;}}else{if(_13dc=="<"){_13d6=_13d7=(_13d7||_13d6).parentNode;}else{if(_13dc==","){_13d6=_13d2;}else{if(_13d7){_13d6=_13d7;}}_13d7=null;}_13d5=0;}if(_13d7){_13d6=_13d7;}}var tag=!_13dd&&value;if(tag||(!_13d7&&(_13dd||_13de))){if(tag=="$"){_13d0(_13d6,args[++i]);}else{tag=tag||put.defaultTag;var _13e0=_13cf&&args[i+1]&&args[i+1].name;if(_13e0){tag="<"+tag+" name=\""+_13e0+"\">";}_13d7=_13ce&&~(_13cd=tag.indexOf("|"))?doc.createElementNS(_13ce[tag.slice(0,_13cd)],tag.slice(_13cd+1)):doc.createElement(tag);}}if(_13dd){if(value=="$"){value=args[++i];}if(_13dd=="#"){_13d7.id=value;}else{var _13e1=_13d7.className;var _13e2=_13e1&&(" "+_13e1+" ").replace(" "+value+" "," ");if(_13dd=="."){_13d7.className=_13e1?(_13e2+value).substring(1):value;}else{if(_13da=="!"){var _13e3;if(_13cf){put("div",_13d7,"<").innerHTML="";}else{if(_13e3=_13d7.parentNode){_13e3.removeChild(_13d7);}}}else{_13e2=_13e2.substring(1,_13e2.length-1);if(_13e2!=_13e1){_13d7.className=_13e2;}}}}}if(_13de){if(_13df=="$"){_13df=args[++i];}if(_13de=="style"){_13d7.style.cssText=_13df;}else{var _13e4=_13de.charAt(0)=="!"?(_13de=_13de.substring(1))&&"removeAttribute":"setAttribute";_13df=_13df===""?_13de:_13df;_13ce&&~(_13cd=_13de.indexOf("|"))?_13d7[_13e4+"NS"](_13ce[_13de.slice(0,_13cd)],_13de.slice(_13cd+1),_13df):_13d7[_13e4](_13de,_13df);}}return "";});if(_13db){throw new SyntaxError("Unexpected char "+_13db+" in "+_13da);}_13d9();_13d6=_13d8=_13d7||_13d6;}}}if(_13d2&&_13d3){_13d2.appendChild(_13d3);}return _13d8;};put.addNamespace=function(name,uri){if(doc.createElementNS){(_13ce||(_13ce={}))[name]=uri;}else{doc.namespaces.add(name,uri);}};put.defaultTag="div";put.forDocument=_13c8;return put;});})(function(id,deps,_13e5){_13e5=_13e5||deps;if(typeof define==="function"){define([],function(){return _13e5();});}else{if(typeof window=="undefined"){require("./node-html")(module,_13e5);}else{put=_13e5();}}});},"dijit/Tree":function(){define(["dojo/_base/array","dojo/aspect","dojo/cookie","dojo/_base/declare","dojo/Deferred","dojo/promise/all","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/errors/create","dojo/fx","dojo/has","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/on","dojo/topic","dojo/touch","dojo/when","./a11yclick","./focus","./registry","./_base/manager","./_Widget","./_TemplatedMixin","./_Container","./_Contained","./_CssStateMixin","./_KeyNavMixin","dojo/text!./templates/TreeNode.html","dojo/text!./templates/Tree.html","./tree/TreeStoreModel","./tree/ForestStoreModel","./tree/_dndSelector","dojo/query!css2"],function(array,_13e6,_13e7,_13e8,_13e9,all,dom,_13ea,_13eb,_13ec,_13ed,_13ee,has,_13ef,keys,lang,on,topic,touch,when,_13f0,focus,_13f1,_13f2,_13f3,_13f4,_13f5,_13f6,_13f7,_13f8,_13f9,_13fa,_13fb,_13fc,_13fd){function _13fe(d){return lang.delegate(d.promise||d,{addCallback:function(_13ff){this.then(_13ff);},addErrback:function(_1400){this.otherwise(_1400);}});};var _1401=_13e8("dijit._TreeNode",[_13f3,_13f4,_13f5,_13f6,_13f7],{item:null,isTreeNode:true,label:"",_setLabelAttr:function(val){this.labelNode[this.labelType=="html"?"innerHTML":"innerText" in this.labelNode?"innerText":"textContent"]=val;this._set("label",val);if(has("dojo-bidi")){this.applyTextDir(this.labelNode);}},labelType:"text",isExpandable:null,isExpanded:false,state:"NotLoaded",templateString:_13f9,baseClass:"dijitTreeNode",cssStateNodes:{rowNode:"dijitTreeRow"},_setTooltipAttr:{node:"rowNode",type:"attribute",attribute:"title"},buildRendering:function(){this.inherited(arguments);this._setExpando();this._updateItemClasses(this.item);if(this.isExpandable){this.labelNode.setAttribute("aria-expanded",this.isExpanded);}this.setSelected(false);},_setIndentAttr:function(_1402){var _1403=(Math.max(_1402,0)*this.tree._nodePixelIndent)+"px";_13ec.set(this.domNode,"backgroundPosition",_1403+" 0px");_13ec.set(this.rowNode,this.isLeftToRight()?"paddingLeft":"paddingRight",_1403);array.forEach(this.getChildren(),function(child){child.set("indent",_1402+1);});this._set("indent",_1402);},markProcessing:function(){this.state="Loading";this._setExpando(true);},unmarkProcessing:function(){this._setExpando(false);},_updateItemClasses:function(item){var tree=this.tree,model=tree.model;if(tree._v10Compat&&item===model.root){item=null;}this._applyClassAndStyle(item,"icon","Icon");this._applyClassAndStyle(item,"label","Label");this._applyClassAndStyle(item,"row","Row");this.tree._startPaint(true);},_applyClassAndStyle:function(item,lower,upper){var _1404="_"+lower+"Class";var _1405=lower+"Node";var _1406=this[_1404];this[_1404]=this.tree["get"+upper+"Class"](item,this.isExpanded);_13ea.replace(this[_1405],this[_1404]||"",_1406||"");_13ec.set(this[_1405],this.tree["get"+upper+"Style"](item,this.isExpanded)||{});},_updateLayout:function(){var _1407=this.getParent(),_1408=!_1407||!_1407.rowNode||_1407.rowNode.style.display=="none";_13ea.toggle(this.domNode,"dijitTreeIsRoot",_1408);_13ea.toggle(this.domNode,"dijitTreeIsLast",!_1408&&!this.getNextSibling());},_setExpando:function(_1409){var _140a=["dijitTreeExpandoLoading","dijitTreeExpandoOpened","dijitTreeExpandoClosed","dijitTreeExpandoLeaf"],_140b=["*","-","+","*"],idx=_1409?0:(this.isExpandable?(this.isExpanded?1:2):3);_13ea.replace(this.expandoNode,_140a[idx],_140a);this.expandoNodeText.innerHTML=_140b[idx];},expand:function(){if(this._expandDeferred){return _13fe(this._expandDeferred);}if(this._collapseDeferred){this._collapseDeferred.cancel();delete this._collapseDeferred;}this.isExpanded=true;this.labelNode.setAttribute("aria-expanded","true");if(this.tree.showRoot||this!==this.tree.rootNode){this.containerNode.setAttribute("role","group");}_13ea.add(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);if(this==this.tree.rootNode&&this.tree.showRoot){this.tree.domNode.setAttribute("aria-expanded","true");}var _140c=_13ee.wipeIn({node:this.containerNode,duration:_13f2.defaultDuration});var def=(this._expandDeferred=new _13e9(function(){_140c.stop();}));_13e6.after(_140c,"onEnd",function(){def.resolve(true);},true);_140c.play();return _13fe(def);},collapse:function(){if(this._collapseDeferred){return _13fe(this._collapseDeferred);}if(this._expandDeferred){this._expandDeferred.cancel();delete this._expandDeferred;}this.isExpanded=false;this.labelNode.setAttribute("aria-expanded","false");if(this==this.tree.rootNode&&this.tree.showRoot){this.tree.domNode.setAttribute("aria-expanded","false");}_13ea.remove(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);var _140d=_13ee.wipeOut({node:this.containerNode,duration:_13f2.defaultDuration});var def=(this._collapseDeferred=new _13e9(function(){_140d.stop();}));_13e6.after(_140d,"onEnd",function(){def.resolve(true);},true);_140d.play();return _13fe(def);},indent:0,setChildItems:function(items){var tree=this.tree,model=tree.model,defs=[];var _140e=tree.focusedChild;var _140f=this.getChildren();array.forEach(_140f,function(child){_13f5.prototype.removeChild.call(this,child);},this);this.defer(function(){array.forEach(_140f,function(node){if(!node._destroyed&&!node.getParent()){tree.dndController.removeTreeNode(node);function _1410(node){var id=model.getIdentity(node.item),ary=tree._itemNodesMap[id];if(ary.length==1){delete tree._itemNodesMap[id];}else{var index=array.indexOf(ary,node);if(index!=-1){ary.splice(index,1);}}array.forEach(node.getChildren(),_1410);};_1410(node);if(tree.persist){var _1411=array.map(node.getTreePath(),function(item){return tree.model.getIdentity(item);}).join("/");for(var path in tree._openedNodes){if(path.substr(0,_1411.length)==_1411){delete tree._openedNodes[path];}}tree._saveExpandedNodes();}if(tree.lastFocusedChild&&!dom.isDescendant(tree.lastFocusedChild,tree.domNode)){delete tree.lastFocusedChild;}if(_140e&&!dom.isDescendant(_140e,tree.domNode)){tree.focus();}node.destroyRecursive();}});});this.state="Loaded";if(items&&items.length>0){this.isExpandable=true;array.forEach(items,function(item){var id=model.getIdentity(item),_1412=tree._itemNodesMap[id],node;if(_1412){for(var i=0;i<_1412.length;i++){if(_1412[i]&&!_1412[i].getParent()){node=_1412[i];node.set("indent",this.indent+1);break;}}}if(!node){node=this.tree._createTreeNode({item:item,tree:tree,isExpandable:model.mayHaveChildren(item),label:tree.getLabel(item),labelType:(tree.model&&tree.model.labelType)||"text",tooltip:tree.getTooltip(item),ownerDocument:tree.ownerDocument,dir:tree.dir,lang:tree.lang,textDir:tree.textDir,indent:this.indent+1});if(_1412){_1412.push(node);}else{tree._itemNodesMap[id]=[node];}}this.addChild(node);if(this.tree.autoExpand||this.tree._state(node)){defs.push(tree._expandNode(node));}},this);array.forEach(this.getChildren(),function(child){child._updateLayout();});}else{this.isExpandable=false;}if(this._setExpando){this._setExpando(false);}this._updateItemClasses(this.item);var def=all(defs);this.tree._startPaint(def);return _13fe(def);},getTreePath:function(){var node=this;var path=[];while(node&&node!==this.tree.rootNode){path.unshift(node.item);node=node.getParent();}path.unshift(this.tree.rootNode.item);return path;},getIdentity:function(){return this.tree.model.getIdentity(this.item);},removeChild:function(node){this.inherited(arguments);var _1413=this.getChildren();if(_1413.length==0){this.isExpandable=false;this.collapse();}array.forEach(_1413,function(child){child._updateLayout();});},makeExpandable:function(){this.isExpandable=true;this._setExpando(false);},setSelected:function(_1414){this.labelNode.setAttribute("aria-selected",_1414?"true":"false");_13ea.toggle(this.rowNode,"dijitTreeRowSelected",_1414);},focus:function(){focus.focus(this.focusNode);}});if(has("dojo-bidi")){_1401.extend({_setTextDirAttr:function(_1415){if(_1415&&((this.textDir!=_1415)||!this._created)){this._set("textDir",_1415);this.applyTextDir(this.labelNode);array.forEach(this.getChildren(),function(_1416){_1416.set("textDir",_1415);},this);}}});}var Tree=_13e8("dijit.Tree",[_13f3,_13f8,_13f4,_13f7],{baseClass:"dijitTree",store:null,model:null,query:null,label:"",showRoot:true,childrenAttr:["children"],paths:[],path:[],selectedItems:null,selectedItem:null,openOnClick:false,openOnDblClick:false,templateString:_13fa,persist:false,autoExpand:false,dndController:_13fd,dndParams:["onDndDrop","itemCreator","onDndCancel","checkAcceptance","checkItemAcceptance","dragThreshold","betweenThreshold"],onDndDrop:null,itemCreator:null,onDndCancel:null,checkAcceptance:null,checkItemAcceptance:null,dragThreshold:5,betweenThreshold:0,_nodePixelIndent:19,_publish:function(_1417,_1418){topic.publish(this.id,lang.mixin({tree:this,event:_1417},_1418||{}));},postMixInProperties:function(){this.tree=this;if(this.autoExpand){this.persist=false;}this._itemNodesMap={};if(!this.cookieName&&this.id){this.cookieName=this.id+"SaveStateCookie";}this.expandChildrenDeferred=new _13e9();this.pendingCommandsPromise=this.expandChildrenDeferred.promise;this.inherited(arguments);},postCreate:function(){this._initState();var self=this;this.own(on(this.containerNode,on.selector(".dijitTreeNode",touch.enter),function(evt){self._onNodeMouseEnter(_13f1.byNode(this),evt);}),on(this.containerNode,on.selector(".dijitTreeNode",touch.leave),function(evt){self._onNodeMouseLeave(_13f1.byNode(this),evt);}),on(this.containerNode,on.selector(".dijitTreeRow",_13f0.press),function(evt){self._onNodePress(_13f1.getEnclosingWidget(this),evt);}),on(this.containerNode,on.selector(".dijitTreeRow",_13f0),function(evt){self._onClick(_13f1.getEnclosingWidget(this),evt);}),on(this.containerNode,on.selector(".dijitTreeRow","dblclick"),function(evt){self._onDblClick(_13f1.getEnclosingWidget(this),evt);}));if(!this.model){this._store2model();}this.own(_13e6.after(this.model,"onChange",lang.hitch(this,"_onItemChange"),true),_13e6.after(this.model,"onChildrenChange",lang.hitch(this,"_onItemChildrenChange"),true),_13e6.after(this.model,"onDelete",lang.hitch(this,"_onItemDelete"),true));this.inherited(arguments);if(this.dndController){if(lang.isString(this.dndController)){this.dndController=lang.getObject(this.dndController);}var _1419={};for(var i=0;i<this.dndParams.length;i++){if(this[this.dndParams[i]]){_1419[this.dndParams[i]]=this[this.dndParams[i]];}}this.dndController=new this.dndController(this,_1419);}this._load();this.onLoadDeferred=_13fe(this.pendingCommandsPromise);this.onLoadDeferred.then(lang.hitch(this,"onLoad"));},_store2model:function(){this._v10Compat=true;_13ef.deprecated("Tree: from version 2.0, should specify a model object rather than a store/query");var _141a={id:this.id+"_ForestStoreModel",store:this.store,query:this.query,childrenAttrs:this.childrenAttr};if(this.params.mayHaveChildren){_141a.mayHaveChildren=lang.hitch(this,"mayHaveChildren");}if(this.params.getItemChildren){_141a.getChildren=lang.hitch(this,function(item,_141b,_141c){this.getItemChildren((this._v10Compat&&item===this.model.root)?null:item,_141b,_141c);});}this.model=new _13fc(_141a);this.showRoot=Boolean(this.label);},onLoad:function(){},_load:function(){this.model.getRoot(lang.hitch(this,function(item){var rn=(this.rootNode=this.tree._createTreeNode({item:item,tree:this,isExpandable:true,label:this.label||this.getLabel(item),labelType:this.model.labelType||"text",textDir:this.textDir,indent:this.showRoot?0:-1}));if(!this.showRoot){rn.rowNode.style.display="none";this.domNode.setAttribute("role","presentation");this.domNode.removeAttribute("aria-expanded");this.domNode.removeAttribute("aria-multiselectable");if(this["aria-label"]){rn.containerNode.setAttribute("aria-label",this["aria-label"]);this.domNode.removeAttribute("aria-label");}else{if(this["aria-labelledby"]){rn.containerNode.setAttribute("aria-labelledby",this["aria-labelledby"]);this.domNode.removeAttribute("aria-labelledby");}}rn.labelNode.setAttribute("role","presentation");rn.labelNode.removeAttribute("aria-selected");rn.containerNode.setAttribute("role","tree");rn.containerNode.setAttribute("aria-expanded","true");rn.containerNode.setAttribute("aria-multiselectable",!this.dndController.singular);}else{this.domNode.setAttribute("aria-multiselectable",!this.dndController.singular);this.rootLoadingIndicator.style.display="none";}this.containerNode.appendChild(rn.domNode);var _141d=this.model.getIdentity(item);if(this._itemNodesMap[_141d]){this._itemNodesMap[_141d].push(rn);}else{this._itemNodesMap[_141d]=[rn];}rn._updateLayout();this._expandNode(rn).then(lang.hitch(this,function(){if(!this._destroyed){this.rootLoadingIndicator.style.display="none";this.expandChildrenDeferred.resolve(true);}}));}),lang.hitch(this,function(err){}));},getNodesByItem:function(item){if(!item){return [];}var _141e=lang.isString(item)?item:this.model.getIdentity(item);return [].concat(this._itemNodesMap[_141e]);},_setSelectedItemAttr:function(item){this.set("selectedItems",[item]);},_setSelectedItemsAttr:function(items){var tree=this;return this.pendingCommandsPromise=this.pendingCommandsPromise.always(lang.hitch(this,function(){var _141f=array.map(items,function(item){return (!item||lang.isString(item))?item:tree.model.getIdentity(item);});var nodes=[];array.forEach(_141f,function(id){nodes=nodes.concat(tree._itemNodesMap[id]||[]);});this.set("selectedNodes",nodes);}));},_setPathAttr:function(path){if(path.length){return _13fe(this.set("paths",[path]).then(function(paths){return paths[0];}));}else{return _13fe(this.set("paths",[]).then(function(paths){return paths[0];}));}},_setPathsAttr:function(paths){var tree=this;function _1420(path,nodes){var _1421=path.shift();var _1422=array.filter(nodes,function(node){return node.getIdentity()==_1421;})[0];if(!!_1422){if(path.length){return tree._expandNode(_1422).then(function(){return _1420(path,_1422.getChildren());});}else{return _1422;}}else{throw new Tree.PathError("Could not expand path at "+_1421);}};return _13fe(this.pendingCommandsPromise=this.pendingCommandsPromise.always(function(){return all(array.map(paths,function(path){path=array.map(path,function(item){return item&&lang.isObject(item)?tree.model.getIdentity(item):item;});if(path.length){return _1420(path,[tree.rootNode]);}else{throw new Tree.PathError("Empty path");}}));}).then(function setNodes(_1423){tree.set("selectedNodes",_1423);return tree.paths;}));},_setSelectedNodeAttr:function(node){this.set("selectedNodes",[node]);},_setSelectedNodesAttr:function(nodes){this.dndController.setSelection(nodes);},expandAll:function(){var _1424=this;function _1425(node){return _1424._expandNode(node).then(function(){var _1426=array.filter(node.getChildren()||[],function(node){return node.isExpandable;});return all(array.map(_1426,_1425));});};return _13fe(_1425(this.rootNode));},collapseAll:function(){var _1427=this;function _1428(node){var _1429=array.filter(node.getChildren()||[],function(node){return node.isExpandable;}),defs=all(array.map(_1429,_1428));if(!node.isExpanded||(node==_1427.rootNode&&!_1427.showRoot)){return defs;}else{return defs.then(function(){return _1427._collapseNode(node);});}};return _13fe(_1428(this.rootNode));},mayHaveChildren:function(){},getItemChildren:function(){},getLabel:function(item){return this.model.getLabel(item);},getIconClass:function(item,_142a){return (!item||this.model.mayHaveChildren(item))?(_142a?"dijitFolderOpened":"dijitFolderClosed"):"dijitLeaf";},getLabelClass:function(){},getRowClass:function(){},getIconStyle:function(){},getLabelStyle:function(){},getRowStyle:function(){},getTooltip:function(){return "";},_onDownArrow:function(evt,node){var _142b=this._getNext(node);if(_142b&&_142b.isTreeNode){this.focusNode(_142b);}},_onUpArrow:function(evt,node){var _142c=node.getPreviousSibling();if(_142c){node=_142c;while(node.isExpandable&&node.isExpanded&&node.hasChildren()){var _142d=node.getChildren();node=_142d[_142d.length-1];}}else{var _142e=node.getParent();if(!(!this.showRoot&&_142e===this.rootNode)){node=_142e;}}if(node&&node.isTreeNode){this.focusNode(node);}},_onRightArrow:function(evt,node){if(node.isExpandable&&!node.isExpanded){this._expandNode(node);}else{if(node.hasChildren()){node=node.getChildren()[0];if(node&&node.isTreeNode){this.focusNode(node);}}}},_onLeftArrow:function(evt,node){if(node.isExpandable&&node.isExpanded){this._collapseNode(node);}else{var _142f=node.getParent();if(_142f&&_142f.isTreeNode&&!(!this.showRoot&&_142f===this.rootNode)){this.focusNode(_142f);}}},focusLastChild:function(){var node=this._getLast();if(node&&node.isTreeNode){this.focusNode(node);}},_getFirst:function(){return this.showRoot?this.rootNode:this.rootNode.getChildren()[0];},_getLast:function(){var node=this.rootNode;while(node.isExpanded){var c=node.getChildren();if(!c.length){break;}node=c[c.length-1];}return node;},_getNext:function(node){if(node.isExpandable&&node.isExpanded&&node.hasChildren()){return node.getChildren()[0];}else{while(node&&node.isTreeNode){var _1430=node.getNextSibling();if(_1430){return _1430;}node=node.getParent();}return null;}},childSelector:".dijitTreeRow",isExpandoNode:function(node,_1431){return dom.isDescendant(node,_1431.expandoNode)||dom.isDescendant(node,_1431.expandoNodeText);},_onNodePress:function(_1432,e){this.focusNode(_1432);},__click:function(_1433,e,_1434,func){var _1435=e.target,_1436=this.isExpandoNode(_1435,_1433);if(_1433.isExpandable&&(_1434||_1436)){this._onExpandoClick({node:_1433});}else{this._publish("execute",{item:_1433.item,node:_1433,evt:e});this[func](_1433.item,_1433,e);this.focusNode(_1433);}e.stopPropagation();e.preventDefault();},_onClick:function(_1437,e){this.__click(_1437,e,this.openOnClick,"onClick");},_onDblClick:function(_1438,e){this.__click(_1438,e,this.openOnDblClick,"onDblClick");},_onExpandoClick:function(_1439){var node=_1439.node;this.focusNode(node);if(node.isExpanded){this._collapseNode(node);}else{this._expandNode(node);}},onClick:function(){},onDblClick:function(){},onOpen:function(){},onClose:function(){},_getNextNode:function(node){_13ef.deprecated(this.declaredClass+"::_getNextNode(node) is deprecated. Use _getNext(node) instead.","","2.0");return this._getNext(node);},_getRootOrFirstNode:function(){_13ef.deprecated(this.declaredClass+"::_getRootOrFirstNode() is deprecated. Use _getFirst() instead.","","2.0");return this._getFirst();},_collapseNode:function(node){if(node._expandNodeDeferred){delete node._expandNodeDeferred;}if(node.state=="Loading"){return;}if(node.isExpanded){var ret=node.collapse();this.onClose(node.item,node);this._state(node,false);this._startPaint(ret);return ret;}},_expandNode:function(node){if(node._expandNodeDeferred){return node._expandNodeDeferred;}var model=this.model,item=node.item,_143a=this;if(!node._loadDeferred){node.markProcessing();node._loadDeferred=new _13e9();model.getChildren(item,function(items){node.unmarkProcessing();node.setChildItems(items).then(function(){node._loadDeferred.resolve(items);});},function(err){node._loadDeferred.reject(err);});}var def=node._loadDeferred.then(lang.hitch(this,function(){var def2=node.expand();this.onOpen(node.item,node);this._state(node,true);return def2;}));this._startPaint(def);return def;},focusNode:function(node){var _143b=this.domNode.scrollLeft;this.focusChild(node);this.domNode.scrollLeft=_143b;},_onNodeMouseEnter:function(){},_onNodeMouseLeave:function(){},_onItemChange:function(item){var model=this.model,_143c=model.getIdentity(item),nodes=this._itemNodesMap[_143c];if(nodes){var label=this.getLabel(item),_143d=this.getTooltip(item);array.forEach(nodes,function(node){node.set({item:item,label:label,tooltip:_143d});node._updateItemClasses(item);});}},_onItemChildrenChange:function(_143e,_143f){var model=this.model,_1440=model.getIdentity(_143e),_1441=this._itemNodesMap[_1440];if(_1441){array.forEach(_1441,function(_1442){_1442.setChildItems(_143f);});}},_onItemDelete:function(item){var model=this.model,_1443=model.getIdentity(item),nodes=this._itemNodesMap[_1443];if(nodes){array.forEach(nodes,function(node){this.dndController.removeTreeNode(node);var _1444=node.getParent();if(_1444){_1444.removeChild(node);}if(this.lastFocusedChild&&!dom.isDescendant(this.lastFocusedChild,this.domNode)){delete this.lastFocusedChild;}if(this.focusedChild&&!dom.isDescendant(this.focusedChild,this.domNode)){this.focus();}node.destroyRecursive();},this);delete this._itemNodesMap[_1443];}},_initState:function(){this._openedNodes={};if(this.persist&&this.cookieName){var oreo=_13e7(this.cookieName);if(oreo){array.forEach(oreo.split(","),function(item){this._openedNodes[item]=true;},this);}}},_state:function(node,_1445){if(!this.persist){return false;}var path=array.map(node.getTreePath(),function(item){return this.model.getIdentity(item);},this).join("/");if(arguments.length===1){return this._openedNodes[path];}else{if(_1445){this._openedNodes[path]=true;}else{delete this._openedNodes[path];}this._saveExpandedNodes();}},_saveExpandedNodes:function(){if(this.persist&&this.cookieName){var ary=[];for(var id in this._openedNodes){ary.push(id);}_13e7(this.cookieName,ary.join(","),{expires:365});}},destroy:function(){if(this._curSearch){this._curSearch.timer.remove();delete this._curSearch;}if(this.rootNode){this.rootNode.destroyRecursive();}if(this.dndController&&!lang.isString(this.dndController)){this.dndController.destroy();}this.rootNode=null;this.inherited(arguments);},destroyRecursive:function(){this.destroy();},resize:function(_1446){if(_1446){_13eb.setMarginBox(this.domNode,_1446);}this._nodePixelIndent=_13eb.position(this.tree.indentDetector).w||this._nodePixelIndent;this.expandChildrenDeferred.then(lang.hitch(this,function(){this.rootNode.set("indent",this.showRoot?0:-1);this._adjustWidths();}));},_outstandingPaintOperations:0,_startPaint:function(p){this._outstandingPaintOperations++;if(this._adjustWidthsTimer){this._adjustWidthsTimer.remove();delete this._adjustWidthsTimer;}var oc=lang.hitch(this,function(){this._outstandingPaintOperations--;if(this._outstandingPaintOperations<=0&&!this._adjustWidthsTimer&&this._started){this._adjustWidthsTimer=this.defer("_adjustWidths");}});when(p,oc,oc);},_adjustWidths:function(){if(this._adjustWidthsTimer){this._adjustWidthsTimer.remove();delete this._adjustWidthsTimer;}this.containerNode.style.width="auto";this.containerNode.style.width=this.domNode.scrollWidth>this.domNode.offsetWidth?"auto":"100%";},_createTreeNode:function(args){return new _1401(args);},focus:function(){if(this.lastFocusedChild){this.focusNode(this.lastFocusedChild);}else{this.focusFirstChild();}}});if(has("dojo-bidi")){Tree.extend({_setTextDirAttr:function(_1447){if(_1447&&this.textDir!=_1447){this._set("textDir",_1447);this.rootNode.set("textDir",_1447);}}});}Tree.PathError=_13ed("TreePathError");Tree._TreeNode=_1401;return Tree;});},"dijit/form/Button":function(){define(["require","dojo/_base/declare","dojo/dom-class","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/ready","./_FormWidget","./_ButtonMixin","dojo/text!./templates/Button.html","../a11yclick"],function(_1448,_1449,_144a,has,_144b,lang,ready,_144c,_144d,_144e){if(has("dijit-legacy-requires")){ready(0,function(){var _144f=["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"];_1448(_144f);});}var _1450=_1449("dijit.form.Button"+(has("dojo-bidi")?"_NoBidi":""),[_144c,_144d],{showLabel:true,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:_144e,_setValueAttr:"valueNode",_setNameAttr:function(name){if(this.valueNode){this.valueNode.setAttribute("name",name);}},postCreate:function(){this.inherited(arguments);this._setLabelFromContainer();},_setLabelFromContainer:function(){if(this.containerNode&&!this.label){this.label=lang.trim(this.containerNode.innerHTML);this.onLabelSet();}},_setShowLabelAttr:function(val){if(this.containerNode){_144a.toggle(this.containerNode,"dijitDisplayNone",!val);}this._set("showLabel",val);},setLabel:function(_1451){_144b.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_1451);},onLabelSet:function(){this.inherited(arguments);if(!this.showLabel&&!("title" in this.params)){this.titleNode.title=lang.trim(this.containerNode.innerText||this.containerNode.textContent||"");}}});if(has("dojo-bidi")){_1450=_1449("dijit.form.Button",_1450,{onLabelSet:function(){this.inherited(arguments);if(this.titleNode.title){this.applyTextDir(this.titleNode,this.titleNode.title);}},_setTextDirAttr:function(_1452){if(this._created&&this.textDir!=_1452){this._set("textDir",_1452);this._setLabelAttr(this.label);}}});}return _1450;});},"dijit/form/_ExpandingTextAreaMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/has","dojo/_base/lang","dojo/on","dojo/_base/window","../Viewport"],function(_1453,_1454,has,lang,on,win,_1455){has.add("textarea-needs-help-shrinking",function(){var body=win.body(),te=_1454.create("textarea",{rows:"5",cols:"20",value:" ",style:{zoom:1,fontSize:"12px",height:"96px",overflow:"hidden",visibility:"hidden",position:"absolute",border:"5px solid white",margin:"0",padding:"0",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"}},body,"last");var _1456=te.scrollHeight>=te.clientHeight;body.removeChild(te);return _1456;});return _1453("dijit.form._ExpandingTextAreaMixin",null,{_setValueAttr:function(){this.inherited(arguments);this.resize();},postCreate:function(){this.inherited(arguments);var _1457=this.textbox;_1457.style.overflowY="hidden";this.own(on(_1457,"focus, resize",lang.hitch(this,"_resizeLater")));},startup:function(){this.inherited(arguments);this.own(_1455.on("resize",lang.hitch(this,"_resizeLater")));this._resizeLater();},_onInput:function(e){this.inherited(arguments);this.resize();},_estimateHeight:function(){var _1458=this.textbox;_1458.rows=(_1458.value.match(/\n/g)||[]).length+1;},_resizeLater:function(){this.defer("resize");},resize:function(){var _1459=this.textbox;function _145a(){var empty=false;if(_1459.value===""){_1459.value=" ";empty=true;}var sh=_1459.scrollHeight;if(empty){_1459.value="";}return sh;};if(_1459.style.overflowY=="hidden"){_1459.scrollTop=0;}if(this.busyResizing){return;}this.busyResizing=true;if(_145a()||_1459.offsetHeight){var newH=_145a()+Math.max(_1459.offsetHeight-_1459.clientHeight,0);var _145b=newH+"px";if(_145b!=_1459.style.height){_1459.style.height=_145b;_1459.rows=1;}if(has("textarea-needs-help-shrinking")){var _145c=_145a(),_145d=_145c,_145e=_1459.style.minHeight,_145f=4,_1460,_1461=_1459.scrollTop;_1459.style.minHeight=_145b;_1459.style.height="auto";while(newH>0){_1459.style.minHeight=Math.max(newH-_145f,4)+"px";_1460=_145a();var _1462=_145d-_1460;newH-=_1462;if(_1462<_145f){break;}_145d=_1460;_145f<<=1;}_1459.style.height=newH+"px";_1459.style.minHeight=_145e;_1459.scrollTop=_1461;}_1459.style.overflowY=_145a()>_1459.clientHeight?"auto":"hidden";if(_1459.style.overflowY=="hidden"){_1459.scrollTop=0;}}else{this._estimateHeight();}this.busyResizing=false;}});});},"prcommon2/geographical/GeographicalTree":function(){define(["dojo/_base/declare","ttl/BaseWidgetAMD","dijit/layout/BorderContainer","dojo/text!../geographical/templates/GeographicalTree.html","dojo/request","ttl/utilities2","dojo/json","dojo/_base/lang","dojo/topic","dojox/data/JsonRestStore","dijit/tree/ForestStoreModel","dijit/Tree"],function(_1463,_1464,_1465,_1466,_1467,_1468,json,lang,topic,_1469,_146a,Tree){return _1463("prcommon2.geographical.GeographicalTree",[_1464,_1465],{templateString:_1466,constructor:function(){this.json_store=new _1469({target:"/geographical/resttree",labelAttribute:"name"});this.myModel=new _146a({store:this.json_store,deferItemLoadingUntilExpand:true,query:"root",childrenAttrs:["children"]});this._dialog=null;},postCreate:function(){this.treenode=new Tree({model:this.myModel,showRoot:true,label:"Countries",persist:false});this.tree.domNode.appendChild(this.treenode.domNode);this.treenode.startup();dojo.connect(this.treenode,"onDblClick",lang.hitch(this,this._select_node));this.inherited(arguments);},_select_node:function(e){topic.publish(PRCOMMON.Events.Geographical_Selected,{geographicalid:e.id,geographicalname:e.name});},_close:function(){if(this._dialog){this._dialog.hide();}else{topic.publish(PRCOMMON.Events.Dialog_Close,"geog_close");}},_setDialogAttr:function(_146b){this._dialog=_146b;}});});},"prcommon2/prevents":function(){define(["dojo/_base/declare"],function(_146c){return _146c("prcommon2.prevents",null,{Employee_Deleted:"/employee/deleted",Employee_Updated:"/employee/update",SearchSession_Added:"/searchsession/add",SearchSession_Deleted:"/searchsession/delete",Outlet_Deleted:"/outlet/deleted",Outlet_Updated:"/outlet/update",Outlet_Overrides:"/outlet/overrides",SearchSession_Changed:"/searchsession/changed",Advance_Session_Changed:"/advance/sessionchanged",Display_Retry:"/display/retry",Employee_Add:"/employee/add",Employee_Override:"/employee/overrides",Display_Clear:"/display/clear",Display_Load:"/display/load",Display_Name:"/display/name",Dialog_Close:"/dialog/close",Display_ReLoad:"/display/refresh",Display_View_Changed:"/display/chnaged",Search_PartialMatch:"/search/partialmatch",Search_Total:"/search/searchtotal",Collateral_Add:"/collateral/add",Project_Add:"/projects/add",Project_Update:"/projects/update",Project_Delete:"/projects/delete",List_Deleted:"/lists/delete",List_Add:"/lists/add",User_Added:"/user/added",Word_Html_Data:"/email.html",Geographical_Area_Delete:"/geographical/delete",Geographical_Area_Update:"/geographical/update",Geographical_Area_Add:"/geographical/add",Interest_Delete:"/interest/delete",Interest_Update:"/interest/update",Interest_Add:"/interest/add",Coverage_Moved:"/coverage/moved",Person_Added:"/person/add",Person_Update:"/person/update",Person_Delete:"/person/delete",PressReleaseStart:"/pressrelease/start",Crm_Note_Add:"/crm/add",Crm_Note_Update:"/crm/update",Crm_Note_Delete:"/crm/delete",Monthly_Payments:"/payment/taken",Message_Sent:"/messages/sent",Button_Pressed:"/button/pressed",Feature_Deleted:"/feature/deleted",Feature_Added:"/feature/added",Feature_Updated:"/feature/update",Feature_List_Add:"/featurelist/add",Feature_List_Update:"/featurelist/update",Feature_List_Update:"/featurelist/delete",Geographical_Selected:"/geographical/selected",BouncedEmail_Completed:"/events/bouncedcompleted",Financial_ReLoad:"/financial/refresh",Publisher_Added:"/publisher/add",Publisher_Update:"/publisher/update",Publisher_Deleted:"/publisher/deleted",Circulation_Sources_Added:"/circulationsources/add",Circulation_Sources_Update:"/circulationsources/update",Circulation_Dates_Added:"/circulationdates/add",Circulation_Dates_Update:"/circulationdates/update",Circulation_Dates_Deleted:"/circulationdates/deleted",Web_Sources_Added:"/websources/add",Web_Sources_Update:"/websources/update",Web_Dates_Added:"/webdates/add",Web_Dates_Update:"/webdates/update",Web_Dates_Deleted:"/webdates/deleted",Market_Sector_Added:"/marketsector/add",Market_Sector_Update:"/marketsector/update",Market_Sector_Deleted:"/marketsector/deleted",Production_Company_Added:"/production/add",Production_Company_Update:"/production/update",Production_Company_Deleted:"/production/delete",Lanquage_Added:"/lang/add",Lanquage_Update:"/lang/update",Desk_Added:"/desk/add",Desk_Updated:"/desk/update",Desk_Deleted:"/desk/delete",Show_Customer_Main:"/m/show",Expire_Date_Changed:"/m/exp",Task_Refresh:"/m/t_refresh",Employee_Quest_Deleted:"/eq/deleted",Employee_Quest_Updated:"/eq/update",Employee_Quest_Add:"/eq/add",Edit_Notes:"/crm/edit_notes",Update_Notes:"crm/notes_updated",Task_Add:"/task/add",Task_Update:"task/updated",Brief_Note_Add:"i/bn/add",Brief_Note_Upd:"i/bn/upd"});});},"dojox/lang/functional/object":function(){define(["dojo/_base/kernel","dojo/_base/lang","./lambda"],function(_146d,lang,df){var empty={};lang.mixin(df,{keys:function(obj){var t=[];for(var i in obj){if(!(i in empty)){t.push(i);}}return t;},values:function(obj){var t=[];for(var i in obj){if(!(i in empty)){t.push(obj[i]);}}return t;},filterIn:function(obj,f,o){o=o||_146d.global;f=df.lambda(f);var t={},v,i;for(i in obj){if(!(i in empty)){v=obj[i];if(f.call(o,v,i,obj)){t[i]=v;}}}return t;},forIn:function(obj,f,o){o=o||_146d.global;f=df.lambda(f);for(var i in obj){if(!(i in empty)){f.call(o,obj[i],i,obj);}}return o;},mapIn:function(obj,f,o){o=o||_146d.global;f=df.lambda(f);var t={},i;for(i in obj){if(!(i in empty)){t[i]=f.call(o,obj[i],i,obj);}}return t;}});return df;});},"dijit/CalendarLite":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/cldr/supplemental","dojo/date","dojo/date/locale","dojo/date/stamp","dojo/dom","dojo/dom-class","dojo/_base/lang","dojo/on","dojo/sniff","dojo/string","./_WidgetBase","./_TemplatedMixin","dojo/text!./templates/Calendar.html","./a11yclick","./hccss"],function(array,_146e,_146f,date,_1470,stamp,dom,_1471,lang,on,has,_1472,_1473,_1474,_1475){var _1476=_146e("dijit.CalendarLite",[_1473,_1474],{templateString:_1475,dowTemplateString:"<th class=\"dijitReset dijitCalendarDayLabelTemplate\" role=\"columnheader\" scope=\"col\"><span class=\"dijitCalendarDayLabel\">${d}</span></th>",dateTemplateString:"<td class=\"dijitReset\" role=\"gridcell\" data-dojo-attach-point=\"dateCells\"><span class=\"dijitCalendarDateLabel\" data-dojo-attach-point=\"dateLabels\"></span></td>",weekTemplateString:"<tr class=\"dijitReset dijitCalendarWeekTemplate\" role=\"row\">${d}${d}${d}${d}${d}${d}${d}</tr>",value:new Date(""),datePackage:"",dayWidth:"narrow",tabIndex:"0",dayOffset:-1,currentFocus:new Date(),_setSummaryAttr:"gridNode",baseClass:"dijitCalendar dijitCalendarLite",_isValidDate:function(value){return value&&!isNaN(value)&&typeof value=="object"&&value.toString()!=this.constructor.prototype.value.toString();},_getValueAttr:function(){var _1477=this._get("value");if(_1477&&!isNaN(_1477)){var value=new this.dateClassObj(_1477);value.setHours(0,0,0,0);if(value.getDate()<_1477.getDate()){value=this.dateModule.add(value,"hour",1);}return value;}else{return null;}},_setValueAttr:function(value,_1478){if(typeof value=="string"){value=stamp.fromISOString(value);}value=this._patchDate(value);if(this._isValidDate(value)&&!this.isDisabledDate(value,this.lang)){this._set("value",value);this.set("currentFocus",value);this._markSelectedDates([value]);if(this._created&&(_1478||typeof _1478=="undefined")){this.onChange(this.get("value"));}}else{this._set("value",null);this._markSelectedDates([]);}},_patchDate:function(value){if(value){value=new this.dateClassObj(value);value.setHours(1,0,0,0);}return value;},_setText:function(node,text){while(node.firstChild){node.removeChild(node.firstChild);}node.appendChild(node.ownerDocument.createTextNode(text));},_populateGrid:function(){var month=new this.dateClassObj(this.currentFocus);month.setDate(1);month=this._patchDate(month);var _1479=month.getDay(),_147a=this.dateModule.getDaysInMonth(month),_147b=this.dateModule.getDaysInMonth(this.dateModule.add(month,"month",-1)),today=new this.dateClassObj(),_147c=this.dayOffset>=0?this.dayOffset:_146f.getFirstDayOfWeek(this.lang);if(_147c>_1479){_147c-=7;}if(!this.summary){var _147d=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,month);this.gridNode.setAttribute("summary",_147d[month.getMonth()]);}this._date2cell={};array.forEach(this.dateCells,function(_147e,idx){var i=idx+_147c;var date=new this.dateClassObj(month),_147f,clazz="dijitCalendar",adj=0;if(i<_1479){_147f=_147b-_1479+i+1;adj=-1;clazz+="Previous";}else{if(i>=(_1479+_147a)){_147f=i-_1479-_147a+1;adj=1;clazz+="Next";}else{_147f=i-_1479+1;clazz+="Current";}}if(adj){date=this.dateModule.add(date,"month",adj);}date.setDate(_147f);if(!this.dateModule.compare(date,today,"date")){clazz="dijitCalendarCurrentDate "+clazz;}if(this.isDisabledDate(date,this.lang)){clazz="dijitCalendarDisabledDate "+clazz;_147e.setAttribute("aria-disabled","true");}else{clazz="dijitCalendarEnabledDate "+clazz;_147e.removeAttribute("aria-disabled");_147e.setAttribute("aria-selected","false");}var _1480=this.getClassForDate(date,this.lang);if(_1480){clazz=_1480+" "+clazz;}_147e.className=clazz+"Month dijitCalendarDateTemplate";var _1481=date.valueOf();this._date2cell[_1481]=_147e;_147e.dijitDateValue=_1481;this._setText(this.dateLabels[idx],date.getDateLocalized?date.getDateLocalized(this.lang):date.getDate());},this);},_populateControls:function(){var month=new this.dateClassObj(this.currentFocus);month.setDate(1);this.monthWidget.set("month",month);var y=month.getFullYear()-1;var d=new this.dateClassObj();array.forEach(["previous","current","next"],function(name){d.setFullYear(y++);this._setText(this[name+"YearLabelNode"],this.dateLocaleModule.format(d,{selector:"year",locale:this.lang}));},this);},goToToday:function(){this.set("value",new this.dateClassObj());},constructor:function(_1482){this.dateModule=_1482.datePackage?lang.getObject(_1482.datePackage,false):date;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=_1482.datePackage?lang.getObject(_1482.datePackage+".locale",false):_1470;},_createMonthWidget:function(){return _1476._MonthWidget({id:this.id+"_mddb",lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode);},buildRendering:function(){var d=this.dowTemplateString,_1483=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang),_1484=this.dayOffset>=0?this.dayOffset:_146f.getFirstDayOfWeek(this.lang);this.dayCellsHtml=_1472.substitute([d,d,d,d,d,d,d].join(""),{d:""},function(){return _1483[_1484++%7];});var r=_1472.substitute(this.weekTemplateString,{d:this.dateTemplateString});this.dateRowsHtml=[r,r,r,r,r,r].join("");this.dateCells=[];this.dateLabels=[];this.inherited(arguments);dom.setSelectable(this.domNode,false);var _1485=new this.dateClassObj(this.currentFocus);this.monthWidget=this._createMonthWidget();this.set("currentFocus",_1485,false);},postCreate:function(){this.inherited(arguments);this._connectControls();},_connectControls:function(){var _1486=lang.hitch(this,function(_1487,part,_1488){this[_1487].dojoClick=true;return on(this[_1487],"click",lang.hitch(this,function(){this._setCurrentFocusAttr(this.dateModule.add(this.currentFocus,part,_1488));}));});this.own(_1486("incrementMonth","month",1),_1486("decrementMonth","month",-1),_1486("nextYearLabelNode","year",1),_1486("previousYearLabelNode","year",-1));},_setCurrentFocusAttr:function(date,_1489){var _148a=this.currentFocus,_148b=this._getNodeByDate(_148a);date=this._patchDate(date);this._set("currentFocus",date);if(!this._date2cell||this.dateModule.difference(_148a,date,"month")!=0){this._populateGrid();this._populateControls();this._markSelectedDates([this.value]);}var _148c=this._getNodeByDate(date);_148c.setAttribute("tabIndex",this.tabIndex);if(this.focused||_1489){_148c.focus();}if(_148b&&_148b!=_148c){if(has("webkit")){_148b.setAttribute("tabIndex","-1");}else{_148b.removeAttribute("tabIndex");}}},focus:function(){this._setCurrentFocusAttr(this.currentFocus,true);},_onDayClick:function(evt){evt.stopPropagation();evt.preventDefault();for(var node=evt.target;node&&!node.dijitDateValue;node=node.parentNode){}if(node&&!_1471.contains(node,"dijitCalendarDisabledDate")){this.set("value",node.dijitDateValue);}},_getNodeByDate:function(value){value=this._patchDate(value);return value&&this._date2cell?this._date2cell[value.valueOf()]:null;},_markSelectedDates:function(dates){function mark(_148d,cell){_1471.toggle(cell,"dijitCalendarSelectedDate",_148d);cell.setAttribute("aria-selected",_148d?"true":"false");};array.forEach(this._selectedCells||[],lang.partial(mark,false));this._selectedCells=array.filter(array.map(dates,this._getNodeByDate,this),function(n){return n;});array.forEach(this._selectedCells,lang.partial(mark,true));},onChange:function(){},isDisabledDate:function(){},getClassForDate:function(){}});_1476._MonthWidget=_146e("dijit.CalendarLite._MonthWidget",_1473,{_setMonthAttr:function(month){var _148e=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,month),_148f=(has("ie")==6?"":"<div class='dijitSpacer'>"+array.map(_148e,function(s){return "<div>"+s+"</div>";}).join("")+"</div>");this.domNode.innerHTML=_148f+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+_148e[month.getMonth()]+"</div>";}});return _1476;});},"dojox/charting/plot2d/Lines":function(){define(["dojo/_base/declare","./Default"],function(_1490,_1491){return _1490("dojox.charting.plot2d.Lines",_1491,{constructor:function(){this.opt.lines=true;}});});},"dojox/charting/SimpleTheme":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dojo/_base/Color","dojox/lang/utils","dojox/gfx/gradutils"],function(lang,arr,_1492,Color,dlu,dgg){var _1493=_1492("dojox.charting.SimpleTheme",null,{shapeSpaces:{shape:1,shapeX:1,shapeY:1},constructor:function(_1494){_1494=_1494||{};var def=_1493.defaultTheme;arr.forEach(["chart","plotarea","axis","grid","series","marker","indicator"],function(name){this[name]=lang.delegate(def[name],_1494[name]);},this);if(_1494.seriesThemes&&_1494.seriesThemes.length){this.colors=null;this.seriesThemes=_1494.seriesThemes.slice(0);}else{this.seriesThemes=null;this.colors=(_1494.colors||_1493.defaultColors).slice(0);}this.markerThemes=null;if(_1494.markerThemes&&_1494.markerThemes.length){this.markerThemes=_1494.markerThemes.slice(0);}this.markers=_1494.markers?lang.clone(_1494.markers):lang.delegate(_1493.defaultMarkers);this.noGradConv=_1494.noGradConv;this.noRadialConv=_1494.noRadialConv;if(_1494.reverseFills){this.reverseFills();}this._current=0;this._buildMarkerArray();},clone:function(){var theme=new this.constructor({chart:this.chart,plotarea:this.plotarea,axis:this.axis,grid:this.grid,series:this.series,marker:this.marker,colors:this.colors,markers:this.markers,indicator:this.indicator,seriesThemes:this.seriesThemes,markerThemes:this.markerThemes,noGradConv:this.noGradConv,noRadialConv:this.noRadialConv});arr.forEach(["clone","clear","next","skip","addMixin","post","getTick"],function(name){if(this.hasOwnProperty(name)){theme[name]=this[name];}},this);return theme;},clear:function(){this._current=0;},next:function(_1495,mixin,_1496){var merge=dlu.merge,_1497,_1498;if(this.colors){_1497=lang.delegate(this.series);_1498=lang.delegate(this.marker);var color=new Color(this.colors[this._current%this.colors.length]),old;if(_1497.stroke&&_1497.stroke.color){_1497.stroke=lang.delegate(_1497.stroke);old=new Color(_1497.stroke.color);_1497.stroke.color=new Color(color);_1497.stroke.color.a=old.a;}else{_1497.stroke={color:color};}if(_1498.stroke&&_1498.stroke.color){_1498.stroke=lang.delegate(_1498.stroke);old=new Color(_1498.stroke.color);_1498.stroke.color=new Color(color);_1498.stroke.color.a=old.a;}else{_1498.stroke={color:color};}if(!_1497.fill||_1497.fill.type){_1497.fill=color;}else{old=new Color(_1497.fill);_1497.fill=new Color(color);_1497.fill.a=old.a;}if(!_1498.fill||_1498.fill.type){_1498.fill=color;}else{old=new Color(_1498.fill);_1498.fill=new Color(color);_1498.fill.a=old.a;}}else{_1497=this.seriesThemes?merge(this.series,this.seriesThemes[this._current%this.seriesThemes.length]):this.series;_1498=this.markerThemes?merge(this.marker,this.markerThemes[this._current%this.markerThemes.length]):_1497;}var _1499=_1498&&_1498.symbol||this._markers[this._current%this._markers.length];var theme={series:_1497,marker:_1498,symbol:_1499};++this._current;if(mixin){theme=this.addMixin(theme,_1495,mixin);}if(_1496){theme=this.post(theme,_1495);}return theme;},skip:function(){++this._current;},addMixin:function(theme,_149a,mixin,_149b){if(lang.isArray(mixin)){arr.forEach(mixin,function(m){theme=this.addMixin(theme,_149a,m);},this);}else{var t={};if("color" in mixin){if(_149a=="line"||_149a=="area"){lang.setObject("series.stroke.color",mixin.color,t);lang.setObject("marker.stroke.color",mixin.color,t);}else{lang.setObject("series.fill",mixin.color,t);}}arr.forEach(["stroke","outline","shadow","fill","filter","font","fontColor","labelWiring"],function(name){var _149c="marker"+name.charAt(0).toUpperCase()+name.substr(1),b=_149c in mixin;if(name in mixin){lang.setObject("series."+name,mixin[name],t);if(!b){lang.setObject("marker."+name,mixin[name],t);}}if(b){lang.setObject("marker."+name,mixin[_149c],t);}});if("marker" in mixin){t.symbol=mixin.marker;t.symbol=mixin.marker;}theme=dlu.merge(theme,t);}if(_149b){theme=this.post(theme,_149a);}return theme;},post:function(theme,_149d){var fill=theme.series.fill,t;if(!this.noGradConv&&this.shapeSpaces[fill.space]&&fill.type=="linear"){if(_149d=="bar"){t={x1:fill.y1,y1:fill.x1,x2:fill.y2,y2:fill.x2};}else{if(!this.noRadialConv&&fill.space=="shape"&&(_149d=="slice"||_149d=="circle")){t={type:"radial",cx:0,cy:0,r:100};}}if(t){return dlu.merge(theme,{series:{fill:t}});}}return theme;},getTick:function(name,mixin){var tick=this.axis.tick,_149e=name+"Tick",merge=dlu.merge;if(tick){if(this.axis[_149e]){tick=merge(tick,this.axis[_149e]);}}else{tick=this.axis[_149e];}if(mixin){if(tick){if(mixin[_149e]){tick=merge(tick,mixin[_149e]);}}else{tick=mixin[_149e];}}return tick;},inspectObjects:function(f){arr.forEach(["chart","plotarea","axis","grid","series","marker","indicator"],function(name){f(this[name]);},this);if(this.seriesThemes){arr.forEach(this.seriesThemes,f);}if(this.markerThemes){arr.forEach(this.markerThemes,f);}},reverseFills:function(){this.inspectObjects(function(o){if(o&&o.fill){o.fill=dgg.reverse(o.fill);}});},addMarker:function(name,_149f){this.markers[name]=_149f;this._buildMarkerArray();},setMarkers:function(obj){this.markers=obj;this._buildMarkerArray();},_buildMarkerArray:function(){this._markers=[];for(var p in this.markers){this._markers.push(this.markers[p]);}}});lang.mixin(_1493,{defaultMarkers:{CIRCLE:"m-3,0 c0,-4 6,-4 6,0 m-6,0 c0,4 6,4 6,0",SQUARE:"m-3,-3 l0,6 6,0 0,-6 z",DIAMOND:"m0,-3 l3,3 -3,3 -3,-3 z",CROSS:"m0,-3 l0,6 m-3,-3 l6,0",X:"m-3,-3 l6,6 m0,-6 l-6,6",TRIANGLE:"m-3,3 l3,-6 3,6 z",TRIANGLE_INVERTED:"m-3,-3 l3,6 3,-6 z"},defaultColors:["#54544c","#858e94","#6e767a","#948585","#474747"],defaultTheme:{chart:{stroke:null,fill:"white",pageStyle:null,titleGap:20,titlePos:"top",titleFont:"normal normal bold 14pt Tahoma",titleFontColor:"#333",titleAlign:"middle"},plotarea:{stroke:null,fill:"white"},axis:{stroke:{color:"#333",width:1},tick:{color:"#666",position:"center",font:"normal normal normal 7pt Tahoma",fontColor:"#333",labelGap:4},majorTick:{width:1,length:6},minorTick:{width:0.8,length:3},microTick:{width:0.5,length:1},title:{gap:15,font:"normal normal normal 11pt Tahoma",fontColor:"#333",orientation:"axis"}},series:{stroke:{width:1.5,color:"#333"},outline:{width:0.1,color:"#ccc"},shadow:null,fill:"#ccc",font:"normal normal normal 8pt Tahoma",fontColor:"#000",labelWiring:{width:1,color:"#ccc"}},marker:{stroke:{width:1.5,color:"#333"},outline:{width:0.1,color:"#ccc"},shadow:null,fill:"#ccc",font:"normal normal normal 8pt Tahoma",fontColor:"#000"},indicator:{lineStroke:{width:1.5,color:"#333"},lineOutline:{width:0.1,color:"#ccc"},lineShadow:null,lineFill:null,stroke:{width:1.5,color:"#333"},outline:{width:0.1,color:"#ccc"},shadow:null,fill:"#ccc",radius:3,font:"normal normal normal 10pt Tahoma",fontColor:"#000",markerFill:"#ccc",markerSymbol:"m-3,0 c0,-4 6,-4 6,0 m-6,0 c0,4 6,4 6,0",markerStroke:{width:1.5,color:"#333"},markerOutline:{width:0.1,color:"#ccc"},markerShadow:null}}});return _1493;});},"dijit/Toolbar":function(){define(["require","dojo/_base/declare","dojo/has","dojo/keys","dojo/ready","./_Widget","./_KeyNavContainer","./_TemplatedMixin"],function(_14a0,_14a1,has,keys,ready,_14a2,_14a3,_14a4){if(has("dijit-legacy-requires")){ready(0,function(){var _14a5=["dijit/ToolbarSeparator"];_14a0(_14a5);});}return _14a1("dijit.Toolbar",[_14a2,_14a4,_14a3],{templateString:"<div class=\"dijit\" role=\"toolbar\" tabIndex=\"${tabIndex}\" data-dojo-attach-point=\"containerNode\">"+"</div>",baseClass:"dijitToolbar",_onLeftArrow:function(){this.focusPrev();},_onRightArrow:function(){this.focusNext();}});});},"dojox/data/ServiceStore":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array"],function(_14a6,lang,array){return _14a6("dojox.data.ServiceStore",lang.getObject("dojox.data.ClientFilter",0)||null,{service:null,constructor:function(_14a7){this.byId=this.fetchItemByIdentity;this._index={};if(_14a7){lang.mixin(this,_14a7);}this.idAttribute=(_14a7&&_14a7.idAttribute)||(this.schema&&this.schema._idAttr);},schema:null,idAttribute:"id",labelAttribute:"label",syncMode:false,estimateCountFactor:1,getSchema:function(){return this.schema;},loadLazyValues:true,getValue:function(item,_14a8,_14a9){var value=item[_14a8];return value||(_14a8 in item?value:item._loadObject?(dojox.rpc._sync=true)&&arguments.callee.call(this,dojox.data.ServiceStore.prototype.loadItem({item:item})||{},_14a8,_14a9):_14a9);},getValues:function(item,_14aa){var val=this.getValue(item,_14aa);return val instanceof Array?val:val===undefined?[]:[val];},getAttributes:function(item){var res=[];for(var i in item){if(item.hasOwnProperty(i)&&!(i.charAt(0)=="_"&&i.charAt(1)=="_")){res.push(i);}}return res;},hasAttribute:function(item,_14ab){return _14ab in item;},containsValue:function(item,_14ac,value){return array.indexOf(this.getValues(item,_14ac),value)>-1;},isItem:function(item){return (typeof item=="object")&&item&&!(item instanceof Date);},isItemLoaded:function(item){return item&&!item._loadObject;},loadItem:function(args){var item;if(args.item._loadObject){args.item._loadObject(function(_14ad){item=_14ad;delete item._loadObject;var func=_14ad instanceof Error?args.onError:args.onItem;if(func){func.call(args.scope,_14ad);}});}else{if(args.onItem){args.onItem.call(args.scope,args.item);}}return item;},_currentId:0,_processResults:function(_14ae,_14af){if(_14ae&&typeof _14ae=="object"){var id=_14ae.__id;if(!id){if(this.idAttribute){id=_14ae[this.idAttribute];}else{id=this._currentId++;}if(id!==undefined){var _14b0=this._index[id];if(_14b0){for(var j in _14b0){delete _14b0[j];}_14ae=lang.mixin(_14b0,_14ae);}_14ae.__id=id;this._index[id]=_14ae;}}for(var i in _14ae){_14ae[i]=this._processResults(_14ae[i],_14af).items;}var count=_14ae.length;}return {totalCount:_14af.request.count==count?(_14af.request.start||0)+count*this.estimateCountFactor:count,items:_14ae};},close:function(_14b1){return _14b1&&_14b1.abort&&_14b1.abort();},fetch:function(args){args=args||{};if("syncMode" in args?args.syncMode:this.syncMode){dojox.rpc._sync=true;}var self=this;var scope=args.scope||self;var _14b2=this.cachingFetch?this.cachingFetch(args):this._doQuery(args);_14b2.request=args;_14b2.addCallback(function(_14b3){if(args.clientFetch){_14b3=self.clientSideFetch({query:args.clientFetch,sort:args.sort,start:args.start,count:args.count},_14b3);}var _14b4=self._processResults(_14b3,_14b2);_14b3=args.results=_14b4.items;if(args.onBegin){args.onBegin.call(scope,_14b4.totalCount,args);}if(args.onItem){for(var i=0;i<_14b3.length;i++){args.onItem.call(scope,_14b3[i],args);}}if(args.onComplete){args.onComplete.call(scope,args.onItem?null:_14b3,args);}return _14b3;});_14b2.addErrback(args.onError&&function(err){return args.onError.call(scope,err,args);});args.abort=function(){_14b2.cancel();};args.store=this;return args;},_doQuery:function(args){var query=typeof args.queryStr=="string"?args.queryStr:args.query;return this.service(query);},getFeatures:function(){return {"dojo.data.api.Read":true,"dojo.data.api.Identity":true,"dojo.data.api.Schema":this.schema};},getLabel:function(item){return this.getValue(item,this.labelAttribute);},getLabelAttributes:function(item){return [this.labelAttribute];},getIdentity:function(item){return item.__id;},getIdentityAttributes:function(item){return [this.idAttribute];},fetchItemByIdentity:function(args){var item=this._index[(args._prefix||"")+args.identity];if(item){if(item._loadObject){args.item=item;return this.loadItem(args);}else{if(args.onItem){args.onItem.call(args.scope,item);}}}else{return this.fetch({query:args.identity,onComplete:args.onItem,onError:args.onError,scope:args.scope}).results;}return item;}});});},"dijit/TooltipDialog":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","./focus","./layout/ContentPane","./_DialogMixin","./form/_FormMixin","./_TemplatedMixin","dojo/text!./templates/TooltipDialog.html","./main"],function(_14b5,_14b6,has,keys,lang,on,focus,_14b7,_14b8,_14b9,_14ba,_14bb,dijit){var _14bc=_14b5("dijit.TooltipDialog",[_14b7,_14ba,_14b9,_14b8],{title:"",doLayout:false,autofocus:true,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:_14bb,_setTitleAttr:"containerNode",postCreate:function(){this.inherited(arguments);this.own(on(this.domNode,"keydown",lang.hitch(this,"_onKey")));},orient:function(node,_14bd,_14be){var newC={"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft","BR-TL":"dijitTooltipBelow dijitTooltipABLeft","BL-TR":"dijitTooltipBelow dijitTooltipABRight","TL-BR":"dijitTooltipAbove dijitTooltipABRight","TR-BL":"dijitTooltipAbove dijitTooltipABLeft"}[_14bd+"-"+_14be];_14b6.replace(this.domNode,newC,this._currentOrientClass||"");this._currentOrientClass=newC;},focus:function(){this._getFocusItems();focus.focus(this._firstFocusItem);},onOpen:function(pos){this.orient(this.domNode,pos.aroundCorner,pos.corner);var _14bf=pos.aroundNodePos;if(pos.corner.charAt(0)=="M"&&pos.aroundCorner.charAt(0)=="M"){this.connectorNode.style.top=_14bf.y+((_14bf.h-this.connectorNode.offsetHeight)>>1)-pos.y+"px";this.connectorNode.style.left="";}else{if(pos.corner.charAt(1)=="M"&&pos.aroundCorner.charAt(1)=="M"){this.connectorNode.style.left=_14bf.x+((_14bf.w-this.connectorNode.offsetWidth)>>1)-pos.x+"px";}}this._onShow();},onClose:function(){this.onHide();},_onKey:function(evt){if(evt.keyCode==keys.ESCAPE){this.defer("onCancel");evt.stopPropagation();evt.preventDefault();}else{if(evt.keyCode==keys.TAB){var node=evt.target;this._getFocusItems();if(this._firstFocusItem==this._lastFocusItem){evt.stopPropagation();evt.preventDefault();}else{if(node==this._firstFocusItem&&evt.shiftKey){focus.focus(this._lastFocusItem);evt.stopPropagation();evt.preventDefault();}else{if(node==this._lastFocusItem&&!evt.shiftKey){focus.focus(this._firstFocusItem);evt.stopPropagation();evt.preventDefault();}else{evt.stopPropagation();}}}}}}});if(has("dojo-bidi")){_14bc.extend({_setTitleAttr:function(title){this.containerNode.title=(this.textDir&&this.enforceTextDirWithUcc)?this.enforceTextDirWithUcc(null,title):title;this._set("title",title);},_setTextDirAttr:function(_14c0){if(!this._created||this.textDir!=_14c0){this._set("textDir",_14c0);if(this.textDir&&this.title){this.containerNode.title=this.enforceTextDirWithUcc(null,this.title);}}}});}return _14bc;});},"url:prcommon2/reports/templates/ReportBuilder.html":"<div>\r\n\t<table data-dojo-attach-point=\"waitbar\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\">\r\n\t\t<tr><td align=\"left\" valign=\"middle\" style=\"padding:0px 3px;width:100%;vertical-align:middle\" class=\"square_button_red\">\r\n\t\t\t<button data-dojo-props='type:\"button\",title:\"Cancel\"' data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:stop\" data-dojo-attach-point=\"cancelbtn\"><i class=\"fa fa-times fa-lg\"></i>&nbsp;&nbsp;Cancel</button>\r\n\t\t</td>\r\n\t\t<td align=\"right\" valign=\"middle\" style=\"padding:5px 3px;vertical-align:'middle'\">\r\n\t\t\t<i class=\"fa fa-spinner fa-2x fa-pulse\" style=\"color:#4296d0\"></i>\r\n\t\t</td><td width=\"80px\" nowrap valign=\"middle\" style=\"padding: 6px 8px 6px 4px;vertical-align:'middle';\">\r\n\t\t\tPlease wait...\r\n\t\t</td></tr>\r\n\t</table>\r\n\t<form data-dojo-attach-point=\"reportForm\" target=\"_blank\" method=\"post\" action=\"/reports/view\">\r\n\t\t<input type=\"hidden\" name=\"reportid\" data-dojo-attach-point=\"reportid\">\r\n\t\t<input type=\"hidden\" name=\"cache_buster\" data-dojo-attach-point=\"cache_buster\">\r\n\t</form>\r\n</div>\r\n\r\n\r\n","url:prcommon2/search/templates/PrmaxOutletTypes.html":"<div class=\"prmaxoutlettype\">\r\n\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\" >\r\n\t\t<tr><td width=\"20%\"   class=\"prmaxrowtag\">Media Channels</td>\r\n\t\t\t\t<td width=\"5%\" ><img height=\"16px\" width=\"16px\" data-dojo-attach-point=\"togglectrl\" data-dojo-attach-event=\"onclick:_toggle\" src=\"/prmax_common_s/images/toopen.gif\" class=\"toggleselect\"></img>\r\n\t\t\t\t<td align=\"right\" valign=\"top\" ><div data-dojo-attach-point=\"countnode\" data-dojo-type=\"prcommon2/search/SearchCount\"></div></td>\r\n\t\t</tr>\r\n\t</table>\r\n\t<div style=\"border 2px solid black\">\r\n\t\t<div data-dojo-attach-point=\"selectarea\" style=\"display:none\" >\r\n\t\t\t<table width=\"100%\" class=\"prmaxtable\" >\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t <td width=\"33%\">\r\n\t\t\t\t\t <div class=\"box1\">\r\n\t\t\t\t\t <input  data-dojo-attach-point=\"node1\" data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='style:\"float:left\",\"class\":\"check_input prmaxdefault\",type:\"checkbox\",value:\"1\"' />\r\n\t\t\t\t\t <label data-dojo-attach-point=\"node1label\" class=\"labeltag\" >National Newspapers</label><div class=\"imagebox\" style=\"display:inline\">&nbsp;<img src=\"/prmax_common_s/images/outlet_fill.gif\" data-dojo-attach-point=\"node1button\" ></img></a></div>\r\n\t\t\t\t\t </div>\r\n\t\t\t\t\t </td>\r\n\t\t\t\t\t<td width=\"33%\">\r\n\t\t\t\t\t <div class=\"box1\">\r\n\t\t\t\t\t<input data-dojo-props='style:\"float:left\",\"class\":\"check_input prmaxdefault\",type:\"checkbox\",value:\"2\"' data-dojo-attach-point=\"node2\" data-dojo-type=\"dijit/form/CheckBox\"/>\r\n\t\t\t\t\t<label  data-dojo-attach-point=\"node2label\" class=\"labeltag\" >Regional Newspapers</label>\r\n\t\t\t\t\t<div class=\"imagebox\" style=\"display:inline\">&nbsp;<img src=\"/prmax_common_s/images/outlet_fill.gif\" data-dojo-attach-point=\"node2button\"></div>\r\n\t\t\t\t\t</div></td>\r\n\t\t\t\t\t<td width=\"33%\">\r\n\t\t\t\t\t <div class=\"box1\">\r\n\t\t\t\t\t<input data-dojo-attach-point=\"node3\" data-dojo-type=\"dijit/form/CheckBox\" data--dojo-props='style:\"float:left\",\"class\":\"check_input prmaxdefault\",type:\"checkbox\",value:\"3\"' />\r\n\t\t\t\t\t<label data-dojo-attach-point=\"node3label\" class=\"labeltag\" >B2B Magazines</label>\r\n\t\t\t\t\t<div class=\"imagebox\" style=\"display:inline\">&nbsp;<img src=\"/prmax_common_s/images/outlet_fill.gif\" data-dojo-attach-point=\"node3button\"></div>\r\n\t\t\t\t\t</div></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t <td width=\"33%\">\r\n\t\t\t\t\t <div class=\"box1\">\r\n\t\t\t\t\t<input data-dojo-props='style:\"float:left\",\"class\":\"check_input prmaxdefault\",type:\"checkbox\",value:\"4\"' data-dojo-attach-point=\"node4\" data-dojo-type=\"dijit/form/CheckBox\" />\r\n\t\t\t\t\t<label data-dojo-attach-point=\"node4label\" class=\"labeltag\" >Consumer Magazines</label>\r\n\t\t\t\t\t<div class=\"imagebox\" style=\"display:inline\">&nbsp;<img src=\"/prmax_common_s/images/outlet_fill.gif\" data-dojo-attach-point=\"node4button\"></div>\r\n\t\t\t\t\t</div></td>\r\n\t\t\t\t\t <td width=\"33%\">\r\n\t\t\t\t\t <div class=\"box1\">\r\n\t\t\t\t\t<input data-dojo-props='style:\"float:left\",\"class\":\"prmaxdefault\",type:\"checkbox\",value:\"5\"' data-dojo-attach-point=\"node5\" data-dojo-type=\"dijit/form/CheckBox\" />\r\n\t\t\t\t\t<label class=\"labeltag\" data-dojo-attach-point=\"node5label\" >Radio</label>\r\n\t\t\t\t\t<div class=\"imagebox\" style=\"display:inline\">&nbsp;<img src=\"/prmax_common_s/images/outlet_fill.gif\" data-dojo-attach-point=\"node5button\"></div>\r\n\t\t\t\t\t</div></td>\r\n\t\t\t\t\t <td width=\"33%\">\r\n\t\t\t\t\t <div class=\"box1\">\r\n\t\t\t\t\t<input data-dojo-props='style:\"float:left\",\"class\":\"prmaxdefault\",type:\"checkbox\",value:\"6\"' data-dojo-attach-point=\"node6\" data-dojo-type=\"dijit/form/CheckBox\" />\r\n\t\t\t\t\t<label class=\"labeltag\" data-dojo-attach-point=\"node6label\" >TV</label>\r\n\t\t\t\t\t<div class=\"imagebox\" style=\"display:inline\">&nbsp;<img src=\"/prmax_common_s/images/outlet_fill.gif\" data-dojo-attach-point=\"node6button\"></div>\r\n\t\t\t\t\t</div></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t <td width=\"33%\">\r\n\t\t\t\t\t <div class=\"box1\">\r\n\t\t\t\t\t<input  data-dojo-attach-point=\"node7\" data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='style:\"float:left\",\"class\":\"prmaxdefault\",type:\"checkbox\",value:\"7\"' /><label class=\"labeltag\" data-dojo-attach-point=\"node7label\" >Influencers</label>\r\n\t\t\t\t\t<div class=\"imagebox\" style=\"display:inline\">&nbsp;<img src=\"/prmax_common_s/images/outlet_fill.gif\" data-dojo-attach-point=\"node7button\"></div>\r\n\t\t\t\t\t</div></td>\r\n\t\t\t\t\t <td width=\"33%\">\r\n\t\t\t\t\t <div class=\"box1\">\r\n\t\t\t\t\t<input  data-dojo-attach-point=\"node8\" data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='style:\"float:left\",\"class\":\"prmaxdefault\",type:\"checkbox\",value:\"8\"' /><label class=\"labeltag\" data-dojo-attach-point=\"node8label\" >News Services</label>\r\n\t\t\t\t\t<div class=\"imagebox\" style=\"display:inline\">&nbsp;<img src=\"/prmax_common_s/images/outlet_fill.gif\" data-dojo-attach-point=\"node8button\"></div>\r\n\t\t\t\t\t</div></td>\r\n\t\t\t\t\t <td width=\"33%\">\r\n\t\t\t\t\t <div class=\"box1\">\r\n\t\t\t\t\t<input  data-dojo-attach-point=\"node9\"  data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='style:\"float:left\",\"class\":\"prmaxdefault\",type:\"checkbox\",value:\"9\"' /><label class=\"labeltag\" data-dojo-attach-point=\"node9label\" >Parliamentary</label>\r\n\t\t\t\t\t<div class=\"imagebox\" style=\"display:inline\">&nbsp;<img src=\"/prmax_common_s/images/outlet_fill.gif\" data-dojo-attach-point=\"node9button\"></div>\r\n\t\t\t\t\t</div></td>\r\n\t\t\t\t</tr>\r\n\t\t\t</table>\r\n\t\t\t<br/>\r\n\t\t\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\" >\r\n\t\t\t\t  <tr><td width=\"48%\"><select style=\"width:100%\" data-dojo-attach-point=\"outlet_type_list\" size=\"${size}\" class=\"lists\" multiple=\"multiple\" ></select></td>\r\n\t\t\t\t  <td >\r\n\t\t\t\t  <button data-dojo-attach-point=\"button_all\" data-dojo-props='\"class\":\"button_add_add\",style:\"padding:0px;margin:0px\",disabled:true,type:\"button\"' data-dojo-attach-event=\"onClick:_outlet_type_select_all\" data-dojo-type=\"dijit/form/Button\"><div class=\"std_movement_button\">&gt;&gt;</div></button><br/>\r\n\t\t\t\t  <button data-dojo-attach-point=\"button_single\" data-dojo-props='\"class\":\"button_add_single\",style:\"padding:0px;margin:0px\",disabled:true,type:\"button\"' data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:_outlet_type_select_single\"><div class=\"std_movement_button\">&gt;&nbsp;</div></button><br/>\r\n\t\t\t\t  <button data-dojo-attach-point=\"button_del_all\" data-dojo-props='\"class\":\"button_del_all\",style:\"padding:0px;margin:0px\",disabled:true,type:\"button\"'  data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:_outlet_type_remove_all\"><div class=\"std_movement_button\">&lt;&lt;</div></button><br/>\r\n\t\t\t\t  <button data-dojo-attach-point=\"button_del_single\" data-dojo-props='\"class\":\"button_del_single\",style:\"padding:0px;margin:0px\",disabled:true,type:\"button\"'  data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:_outlet_type_remove_single\"><div class=\"std_movement_button\">&lt;&nbsp;</div></button></td>\r\n\t\t\t\t  <td width=\"48%\"><select style=\"width:100%\" data-dojo-attach-point=\"outlet_type_select\" size=\"${size}\" class=\"lists\" multiple=\"multiple\" ></select></td></tr>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n","url:prcommon2/clippings/templates/add_layout.html":"<div>\r\n    <form data-dojo-attach-point=\"form\" data-dojo-type=\"dijit/form/Form\" data-dojo-props='\"onSubmit\":\"return false\"'>\r\n<!--        <input data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-attach-point=\"icustomerid\" data-dojo-props='\"class\":\"prmaxhidden\", name:\"icustomerid\",type:\"text\"'/>\r\n-->\r\n        <table width=\"100%\" class=\"prmaxtable\" >\r\n            <tr><td align=\"right\" width=\"20%\" class=\"prmaxrowtag\"><label>Layout</label></td><td><input data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-attach-point=\"emaillayoutid\" data-dojo-props='required:true,name:\"emaillayoutdescription\",trim:true,type:\"text\"'></td></tr>\r\n        \r\n            <tr><td class=\"prmaxrowtag\" colspan=\"2\" align=\"right\"><button data-dojo-attach-event=\"onClick:_save\" data-dojo-attach-point=\"savebtn\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='type:\"button\",busyLabel:\"Please Wait Saving...\",label:\"Save\",\"class\":\"btnright\"'></button></td></tr>\r\n\r\n        </table></br></br>\r\n    </form></br></br>\r\n    \r\n</div>\r\n\r\n","url:prcommon2/outlet/templates/OutletSelectDetails.html":"<div>\r\n\t<div data-dojo-type=\"dijit/layout/TabContainer\" data-dojo-props='region:\"center\"'>\r\n\t\t<div data-dojo-attach-point=\"details\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='style:\"width:100%;height:100%\",title:\"Outlet Details\",\"class\":\"scrollpanel\"'>\r\n\t\t\t<table cellspacing=\"0\" cellpadding=\"1\" width=\"99%\" style=\"margin-top:5px\">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Outlet Name</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"outletname\",type:\"text\", disabled:true, style:\"width:400px;\"' data-dojo-attach-point=\"outletname\" data-dojo-type=\"dijit/form/TextBox\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Web</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<span><input data-dojo-props='name:\"www\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"www\" data-dojo-type=\"dijit/form/TextBox\"/></span>\r\n\t\t\t\t\t\t<span><div data-dojo-attach-point=\"www_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Address</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"address\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"address\" data-dojo-type=\"dijit/form/TextBox\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Country</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"country\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"country\" data-dojo-type=\"dijit/form/FilteringSelect\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Tel</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"tel\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"tel\" data-dojo-type=\"dijit/form/TextBox\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Email</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"email\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"email\" data-dojo-type=\"dijit/form/TextBox\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Twitter</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<span><input data-dojo-props='name:\"twitter\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"twitter\" data-dojo-type=\"dijit/form/TextBox\"/></span>\r\n\t\t\t\t\t\t<span><div data-dojo-attach-point=\"twitter_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Facebook</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<span><input data-dojo-props='name:\"facebook\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"facebook\" data-dojo-type=\"dijit/form/TextBox\"/></span>\r\n\t\t\t\t\t\t<span><div data-dojo-attach-point=\"facebook_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Instagram</td>\r\n\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<span><input data-dojo-props='name:\"instagram\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"instagram\" data-dojo-type=\"dijit/form/TextBox\"/></span>\r\n\t\t\t\t\t\t<span><div data-dojo-attach-point=\"instagram_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Circulation</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"circulation\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"circulation\" data-dojo-type=\"dijit/form/TextBox\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Frequency</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"frequency\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"frequency\" data-dojo-type=\"dijit/form/FilteringSelect\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Cost</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"cost\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"cost\" data-dojo-type=\"dijit/form/FilteringSelect\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Sqcm</td>\r\n\t\t\t\t\t<td><input data-dojo-props='sqcm:\"type\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"sqcm\" data-dojo-type=\"dijit/form/TextBox\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" class=\"prmaxrowtag\" width=\"20%\">Type</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"prmax_outlettypeid\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"prmax_outlettypeid\" data-dojo-type=\"dijit/form/FilteringSelect\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" valign=\"top\" class=\"prmaxrowtag\" width=\"20%\">Keywords</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"keywords\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"keywords\" data-dojo-type=\"dijit/form/Textarea\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t\t<div data-dojo-attach-point=\"profile\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='style:\"width:100%;height:100%\",title:\"Outlet Profile\",\"class\":\"scrollpanel\"'>\r\n\t\t\t<table cellspacing=\"0\" cellpadding=\"1\" width=\"99%\" style=\"margin-top:5px\">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" valign=\"top\" class=\"prmaxrowtag\" width=\"20%\">Profile</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"profile\",type:\"text\", disabled:true, style:\"width:400px;\"' data-dojo-attach-point=\"profile\" data-dojo-type=\"dijit/form/Textarea\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" valign=\"top\" class=\"prmaxrowtag\" width=\"20%\">Publisher</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"publisherid\", type:\"text\", disabled:true, style:\"width:400px;\"' data-dojo-attach-point=\"publisherid\" data-dojo-type=\"dijit/form/FilteringSelect\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" valign=\"top\" class=\"prmaxrowtag\" width=\"20%\">Editorial Profile</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"editorialprofile\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"editorialprofile\" data-dojo-type=\"dijit/form/Textarea\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" valign=\"top\" class=\"prmaxrowtag\" width=\"20%\">Language</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"language\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"language\" data-dojo-type=\"dijit/form/FilteringSelect\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" valign=\"top\" class=\"prmaxrowtag\" width=\"20%\">Readership/Audience</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"readership\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"readership\" data-dojo-type=\"dijit/form/Textarea\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" valign=\"top\" class=\"prmaxrowtag\" width=\"20%\">PAMco</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"nrsreadership\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"nrsreadership\" data-dojo-type=\"dijit/form/Textarea\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" valign=\"top\" class=\"prmaxrowtag\" width=\"20%\">JICREG Readership</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"jicregreadership\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"jicregreadership\" data-dojo-type=\"dijit/form/Textarea\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" valign=\"top\" class=\"prmaxrowtag\" width=\"20%\">Coverage</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"coverage\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"coverage\" data-dojo-type=\"dijit/form/Textarea\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" valign=\"top\" class=\"prmaxrowtag\" width=\"20%\">Broadcast Times</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"broadcasttimes\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"broadcasttimes\" data-dojo-type=\"dijit/form/Textarea\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"right\" valign=\"top\" class=\"prmaxrowtag\" width=\"20%\">Series Members</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"serieschildren\",type:\"text\",disabled:true, style:\"width:400px\"' data-dojo-attach-point=\"serieschildren\" data-dojo-type=\"dijit/form/Textarea\"/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='style:\"width:100%;height:40px\",region:\"bottom\"'>\r\n\t\t<table cellspacing=\"0\" cellpadding=\"1\" width=\"99%\">\r\n\t\t\t<tr>\r\n\t\t\t\t<td width=\"33%\" align=\"left\" data-dojo-attach-point=\"close_button\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Close\"' data-dojo-attach-event=\"onClick:_close\"></button></td>\r\n\t\t\t</tr>\r\n\t\t</table>\r\n\t</div>\r\n</div>\r\n","url:dijit/form/templates/Select.html":"<table class=\"dijit dijitReset dijitInline dijitLeft\"\r\n\tdata-dojo-attach-point=\"_buttonNode,tableNode,focusNode,_popupStateNode\" cellspacing='0' cellpadding='0'\r\n\trole=\"listbox\" aria-haspopup=\"true\"\r\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\r\n\t\t><td class=\"dijitReset dijitStretch dijitButtonContents\" role=\"presentation\"\r\n\t\t\t><div class=\"dijitReset dijitInputField dijitButtonText\"  data-dojo-attach-point=\"containerNode,textDirNode\" role=\"presentation\"></div\r\n\t\t\t><div class=\"dijitReset dijitValidationContainer\"\r\n\t\t\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\r\n\t\t\t/></div\r\n\t\t\t><input type=\"hidden\" ${!nameAttrSetting} data-dojo-attach-point=\"valueNode\" value=\"${value}\" aria-hidden=\"true\"\r\n\t\t/></td\r\n\t\t><td class=\"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\"\r\n\t\t\tdata-dojo-attach-point=\"titleNode\" role=\"presentation\"\r\n\t\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\r\n\t\t\t\t${_buttonInputDisabled}\r\n\t\t/></td\r\n\t></tr></tbody\r\n></table>\r\n","url:dijit/form/templates/TextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\" id=\"widget_${id}\" role=\"presentation\"\r\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\r\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\r\n\t\t\t${!nameAttrSetting} type='${type}'\r\n\t/></div\r\n></div>\r\n","url:prcommon2/web/templates/WebButton.html":"<span>\r\n\t<button data-dojo-attach-point=\"webbutton\" data-dojo-attach-event=\"onClick:_open_url_new_tab\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",source:\"\"'><i class=\"fa fa-eye\" aria-hidden=\"true\"></i></button>\r\n<span>\r\n","url:prcommon2/clippings/templates/edit_private.html":"<div>\r\n\t<div data-dojo-attach-point=\"frame\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='style:\"margin:10px;width:600px;height:100%\",\"class\":\"common_prmax_layout\"'>\r\n\t\t<h1 style=\"text-align:center\" data-dojo-attach-point=\"heading_text\">Add Private Clipping</h1>\r\n\t\t<form data-dojo-attach-point=\"formnode\" data-dojo-type=\"dijit/form/Form\" data-dojo-props='\"onSubmit\":\"return false\"'>\r\n\t\t\t<input data-dojo-attach-point=\"clippingid\" data-dojo-props='value:\"\",name:\"clippingid\",type:\"hidden\"' data-dojo-type=\"dijit/form/TextBox\"/>\r\n\t\t\t<label class=\"label_align_r label_tag label_size_3\">Type</label><select data-dojo-props='name:\"clippingstypeid\",autoComplete:true,labelType:\"html\",style:\"width:10em\",value:3' data-dojo-type=\"dijit/form/Select\" data-dojo-attach-point=\"clippingstypeid\" data-dojo-attach-event=\"onChange:_swap_view\"></select><br/>\r\n\t\t\t<label class=\"label_align_r label_tag label_size_3\">Tone</label><select data-dojo-props='name:\"clippingstoneid\",autoComplete:true,labelType:\"html\",style:\"width:10em\",value:3' data-dojo-type=\"dijit/form/Select\" data-dojo-attach-point=\"clippingstoneid\" ></select><br/>\r\n\t\t\t<label class=\"label_align_r label_tag label_size_3\">Title</label><input data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-attach-point=\"clip_title\" data-dojo-props='placeHolder:\"Enter Clipping Title\",required:true,name:\"clip_title\",maxLength:128,trim:true,type:\"text\",style:\"width:28em\"'><br/>\r\n\t\t\t<label class=\"label_align_r label_tag label_size_3\">Abstract</label><input data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-attach-point=\"clip_abstract\" data-dojo-props='placeHolder:\"Sumamry text\",required:false,name:\"clip_abstract\",maxLength:128,trim:true,type:\"text\",style:\"width:28em\"'><br/>\r\n\t\t\t<label class=\"label_align_r label_tag label_size_3\">Url</label><input data-dojo-attach-point=\"clip_link\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='placeHolder:\"url of clipping\",name:\"clip_link\",pattern:dojox.validate.regexp.url,type:\"text\",maxlength:80,trim:true,style:\"width:28em\"'/><br/>\r\n\t\t\t<label class=\"label_align_r label_tag label_size_3\">Outlet</label><div style=\"width:28em\" data-dojo-props='name:\"outletid\",mode:\"clippings\", placeHolder:\"Select outlet if required\",required:false,source_url:\"/search2/list_rest\"' data-dojo-type=\"prcommon2/outlet/OutletSelect\" data-dojo-attach-point=\"outletid\"></div><br/>\r\n\t\t\t<label class=\"label_align_r label_tag label_size_3\">Date</label><input data-dojo-props='type:\"text\",name:\"clip_source_date\",required:\"true\",style:\"width:7em\"' data-dojo-attach-point=\"clip_source_date\" data-dojo-type=\"dijit/form/DateTextBox\" ><br/>\r\n\t\t\t<label data-dojo-attach-point=\"client_label_1\" class=\"label_align_r label_tag label_size_3\">Client</label><select data-dojo-props='pageSize:20,placeHolder:\"No Selection\",name:\"clientid\",autoComplete:true,searchAttr:\"clientname\",labelType:\"html\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"clientid\" data-dojo-attach-event=\"onChange:_client_change\"></select><br/>\r\n\t\t\t<label data-dojo-attach-point=\"issue_label_1\" class=\"label_align_r label_tag label_size_3\">Issue</label><select data-dojo-props='pageSize:20,placeHolder:\"No Selection\",name:\"issueid\",autoComplete:true,searchAttr:\"name\",labelType:\"html\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"issueid\" ></select><br/>\r\n\t\t\t<label data-dojo-attach-point=\"statement_1\" class=\"label_align_r label_tag label_size_3 prmaxhidden\">Statement</label><select data-dojo-props='pageSize:20,name:\"statementid\",autoComplete:true,searchAttr:\"statementdescription\",labelType:\"html\",\"class\":\"prmaxhidden\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"statementid\" ></select><br/>\r\n\t\t\t<label class=\"label_align_r label_tag label_size_3\">Release</label><select data-dojo-props='pageSize:20,name:\"emailtemplateid\",autoComplete:true,searchAttr:\"emailtemplatename\",labelType:\"html\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"emailtemplateid\" ></select><br/>\r\n\t\t\t<label class=\"label_align_r label_tag label_size_3\">Circulation</label><input data-dojo-props='name:\"clip_circulation\",type:\"text\",trim:true, constraints:{min:0,max:999999}, style:\"width:7em\"' data-dojo-attach-point=\"clip_circulation\" data-dojo-type=\"dijit/form/NumberTextBox\"><br/>\r\n\t\t\t<div data-dojo-attach-point=\"print_view\" class=\"prmaxhidden\">\r\n\t\t\t\t<label class=\"label_align_r label_tag label_size_3\">Page</label><input data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-attach-point=\"clip_source_page\" data-dojo-props='required:false,name:\"clip_source_page\",maxLength:128,trim:true,type:\"text\"'><br/>\r\n\t\t\t\t<label class=\"label_align_r label_tag label_size_3\">Size</label><input data-dojo-props='name:\"clip_article_size\",type:\"text\",trim:true, constraints:{min:0,max:999999}, style:\"width:5em\"' data-dojo-attach-point=\"clip_article_size\" data-dojo-type=\"dijit/form/NumberTextBox\"><br/>\r\n\t\t\t\t<label class=\"label_align_r label_tag label_size_3\">Words</label><input data-dojo-props='name:\"clip_words\",type:\"text\",trim:true, constraints:{min:0,max:999999}, style:\"width:5em\"' data-dojo-attach-point=\"clip_words\" data-dojo-type=\"dijit/form/NumberTextBox\"><br/>\r\n\t\t\t\t<label class=\"label_align_r label_tag label_size_3\">Readership</label><input data-dojo-props='name:\"clip_readership\",type:\"text\",trim:true, constraints:{min:0,max:999999}, style:\"width:5em\"' data-dojo-attach-point=\"clip_readership\" data-dojo-type=\"dijit/form/NumberTextBox\"><br/>\r\n\t\t\t\t<label class=\"label_align_r label_tag label_size_3\">Rate</label><input data-dojo-props='type:\"text\",name:\"clip_disrate\",trim:\"true\",style:\"width:8em\",constraints:{fractional:true,places:\"0,2\",min:0.00,max:999999.00}' data-dojo-type=\"dijit/form/CurrencyTextBox\" data-dojo-attach-point=\"clip_disrate\"><br/>\r\n\t\t\t</div>\r\n\t\t\t<label class=\"label_align_r label_tag label_size_3\">Text</label><div class=\"stdframe\" style=\"height:150px;padding-left:5px\"><textarea data-dojo-attach-point=\"clip_text\" data-dojo-props='name:\"clip_text\",trim:true,required:true,style:\"width:99%;height:80%\"' data-dojo-type=\"dijit/form/Textarea\" ></textarea></div><br/><br/>\r\n\t\t\t<button data-dojo-attach-event=\"onClick:_clear\" data-dojo-attach-point=\"clearbtn\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Clear\",\"class\":\"btnleft\"'></button>\r\n\t\t\t<button data-dojo-attach-event=\"onClick:_delete\" data-dojo-attach-point=\"deletebtn\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='type:\"button\",busyLabel:\"Please Wait Deleting...\",label:\"Delete Clipping\",\"class\":\"btnleft prmaxhidden\"'></button>\r\n\t\t\t<button data-dojo-attach-event=\"onClick:_save\" data-dojo-attach-point=\"savebtn\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='type:\"button\",busyLabel:\"Please Wait Saving...\",label:\"Save\",\"class\":\"btnright\"'></button>\r\n\t\t\t<br/><br/><br/><br/>\r\n\t\t</form>\r\n\t</div>\r\n</div>\r\n","url:dijit/templates/MenuSeparator.html":"<tr class=\"dijitMenuSeparator\" role=\"separator\">\r\n\t<td class=\"dijitMenuSeparatorIconCell\">\r\n\t\t<div class=\"dijitMenuSeparatorTop\"></div>\r\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\r\n\t</td>\r\n\t<td colspan=\"3\" class=\"dijitMenuSeparatorLabelCell\">\r\n\t\t<div class=\"dijitMenuSeparatorTop dijitMenuSeparatorLabel\"></div>\r\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\r\n\t</td>\r\n</tr>\r\n","url:prcommon2/clippings/templates/add_header.html":"<div>\r\n    <form data-dojo-attach-point=\"form\" data-dojo-type=\"dijit/form/Form\" data-dojo-props='\"onSubmit\":\"return false\"'>\r\n        <input data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-attach-point=\"icustomerid\" data-dojo-props='\"class\":\"prmaxhidden\", name:\"icustomerid\",type:\"text\"'/>\r\n        <table width=\"100%\" class=\"prmaxtable\" >\r\n            <tr><td align=\"right\" width=\"20%\" class=\"prmaxrowtag\"><label>Description</label></td><td><input data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-attach-point=\"emailheaderid\" data-dojo-props='required:true,name:\"emailheaderdescription\",trim:true,type:\"text\"'></td></tr>\r\n            <tr><td align=\"right\" width=\"20%\" class=\"prmaxrowtag\"><label>HTML</label></td><td><input data-dojo-type=\"dijit/form/SimpleTextarea\" data-dojo-attach-point=\"htmltext\" data-dojo-props='required:true,name:\"htmltext\",trim:true,type:\"text\",style:\"width:300px\",rows:\"10\"'></td></tr>\r\n        \r\n            <tr><td class=\"prmaxrowtag\" colspan=\"2\" align=\"right\"><button data-dojo-attach-event=\"onClick:_save\" data-dojo-attach-point=\"savebtn\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='type:\"button\",busyLabel:\"Please Wait Saving...\",label:\"Save\",\"class\":\"btnright\"'></button></td></tr>\r\n\r\n        </table></br></br>\r\n    </form></br></br>\r\n    \r\n</div>\r\n\r\n","url:dijit/templates/Calendar.html":"<div class=\"dijitCalendarContainer dijitInline\" role=\"presentation\" aria-labelledby=\"${id}_mddb ${id}_year\">\r\n\t<div class=\"dijitReset dijitCalendarMonthContainer\" role=\"presentation\">\r\n\t\t<div class='dijitReset dijitCalendarArrow dijitCalendarDecrementArrow' data-dojo-attach-point=\"decrementMonth\">\r\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarDecrease\" role=\"presentation\"/>\r\n\t\t\t<span data-dojo-attach-point=\"decreaseArrowNode\" class=\"dijitA11ySideArrow\">-</span>\r\n\t\t</div>\r\n\t\t<div class='dijitReset dijitCalendarArrow dijitCalendarIncrementArrow' data-dojo-attach-point=\"incrementMonth\">\r\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarIncrease\" role=\"presentation\"/>\r\n\t\t\t<span data-dojo-attach-point=\"increaseArrowNode\" class=\"dijitA11ySideArrow\">+</span>\r\n\t\t</div>\r\n\t\t<div data-dojo-attach-point=\"monthNode\" class=\"dijitInline\"></div>\r\n\t</div>\r\n\t<table cellspacing=\"0\" cellpadding=\"0\" role=\"grid\" data-dojo-attach-point=\"gridNode\">\r\n\t\t<thead>\r\n\t\t\t<tr role=\"row\">\r\n\t\t\t\t${!dayCellsHtml}\r\n\t\t\t</tr>\r\n\t\t</thead>\r\n\t\t<tbody data-dojo-attach-point=\"dateRowsNode\" data-dojo-attach-event=\"ondijitclick: _onDayClick\" class=\"dijitReset dijitCalendarBodyContainer\">\r\n\t\t\t\t${!dateRowsHtml}\r\n\t\t</tbody>\r\n\t</table>\r\n\t<div class=\"dijitReset dijitCalendarYearContainer\" role=\"presentation\">\r\n\t\t<div class=\"dijitCalendarYearLabel\">\r\n\t\t\t<span data-dojo-attach-point=\"previousYearLabelNode\" class=\"dijitInline dijitCalendarPreviousYear\" role=\"button\"></span>\r\n\t\t\t<span data-dojo-attach-point=\"currentYearLabelNode\" class=\"dijitInline dijitCalendarSelectedYear\" role=\"button\" id=\"${id}_year\"></span>\r\n\t\t\t<span data-dojo-attach-point=\"nextYearLabelNode\" class=\"dijitInline dijitCalendarNextYear\" role=\"button\"></span>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","url:prcommon2/search/templates/standard.html":"<table width=\"99%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\r\n<tr><td width=\"20%\" ><span class=\"prmaxrowtag\">${displayname}</span></td>\r\n<td width=\"60%\" ><input data-dojo-type=\"dijit/form/TextBox\" data-dojo-props='style:\"width:100%\",\"class\":\"prmaxinput\",type:\"text\",trim:true,maxlength:255' data-dojo-attach-point=\"datanode\" data-dojo-attach-event=\"onBlur:_on_change\"  /></td>\r\n<td align=\"right\"><div data-dojo-attach-point=\"countnode\" data-dojo-type=\"prcommon2/search/SearchCount\"></div></td></tr></table >\r\n","url:dijit/templates/Tooltip.html":"<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\" data-dojo-attach-event=\"mouseenter:onMouseEnter,mouseleave:onMouseLeave\"\r\n\t><div class=\"dijitTooltipConnector\" data-dojo-attach-point=\"connectorNode\"></div\r\n\t><div class=\"dijitTooltipContainer dijitTooltipContents\" data-dojo-attach-point=\"containerNode\" role='alert'></div\r\n></div>\r\n","url:dijit/templates/ProgressBar.html":"<div class=\"dijitProgressBar dijitProgressBarEmpty\" role=\"progressbar\"\r\n\t><div  data-dojo-attach-point=\"internalProgress\" class=\"dijitProgressBarFull\"\r\n\t\t><div class=\"dijitProgressBarTile\" role=\"presentation\"></div\r\n\t\t><span style=\"visibility:hidden\">&#160;</span\r\n\t></div\r\n\t><div data-dojo-attach-point=\"labelNode\" class=\"dijitProgressBarLabel\" id=\"${id}_label\"></div\r\n\t><span data-dojo-attach-point=\"indeterminateHighContrastImage\"\r\n\t\t   class=\"dijitInline dijitProgressBarIndeterminateHighContrastImage\"></span\r\n></div>\r\n","url:prcommon2/clippings/charts/templates/lineschart.html":"<div>\r\n    <div data-dojo-type=\"prcommon2/clippings/filter\" data-dojo-attach-point=\"filter_view\" data-dojo-props='region:\"top\", style:\"height:50px;background-color:${back_colour};width:100%;overflow:hidden\"'></div>\r\n    <div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"center\",style:\"width:100%;height:400px;overflow:hidden;background-color:${back_colour};color:${fore_color}\"'>\r\n        <div style=\"height:400px;width:100%;float:left\" data-dojo-attach-point=\"chart_node_loading_no_data\" class=\"prmaxhidden\">\r\n            <div data-dojo-attach-point=\"chart_node_loading\" style=\"height:400px\">\r\n                <table width=\"100%\" height=\"100%\">\r\n                    <tr>\r\n                        <td style=\"text-align:left;vertical-align:middle\"></td>\r\n                        <td style=\"text-align:center;vertical-align:middle\">\r\n                            <p>Loading Clippings</p><br/><i class=\"fa fa-spinner fa-2x fa-pulse\" style=\"color:#0282A9\"></i>\r\n                        </td>\r\n                        <td style=\"text-align:left;vertical-align:middle\"></td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n            <div data-dojo-attach-point=\"chart_node_no_data\" class=\"prmaxhidden\"  style=\"height:400px\">\r\n                <table width=\"100%\" height=\"100%\">\r\n                    <tr>\r\n                        <td style=\"text-align:left;vertical-align:middle\"></td>\r\n                        <td style=\"text-align:center;vertical-align:middle\">\r\n                            <span class='fa-stack fa-lg'><i class='fa fa-ban fa-3x fa-stack-2x text-danger'></i></span><p>No Results</p>\r\n                        </td>\r\n                        <td style=\"text-align:left;vertical-align:middle\"></td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n        </div>\r\n        <div style=\"height:400px;width:15%;float:left;margin:0 0 0 15px\" data-dojo-attach-point=\"report_legend_view\" class=\"prmaxhidden\"><br/>\r\n            <div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='style:\"height:34px;padding:0x;margin:0px;overflow:hidden\"'>\r\n                <button data-dojo-attach-event=\"onClick:_preferences\" data-dojo-attach-point=\"preferencesbtn\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='iconClass:\"fa fa-print\",type:\"button\",label:\"Report\"'></button>\r\n                <div data-dojo-attach-point=\"preferences_dlg\" data-dojo-type=\"dijit/Dialog\"title=\"Report Preferences\" data-dojo-props='style:\"width:300px\"'>\r\n                    <div data-dojo-type=\"prcommon2/clippings/charts/preferences\" data-dojo-attach-point=\"preferences_ctrl\"></div>\r\n                </div>\r\n            </div>\r\n            <p>CHANNELS FILTER:</p><br/><br/>\r\n            <div data-dojo-attach-point=\"legend_node_outer\" style=\"height:400px\">\r\n                <div data-dojo-attach-point=\"legend_node\" style=\"height:400px\"></div>\r\n            </div>\r\n        </div>\r\n        <div style=\"height:400px;width:70%;float:left\">\r\n            <div data-dojo-attach-point=\"chart_node\" style=\"height:400px\"></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n","url:dojox/form/resources/PasswordValidator.html":"<div dojoAttachPoint=\"containerNode\">\r\n\t<input type=\"hidden\" name=\"${name}\" value=\"\" dojoAttachPoint=\"focusNode\" />\r\n</div>","url:dijit/form/templates/ComboButton.html":"<table class=\"dijit dijitReset dijitInline dijitLeft\"\r\n\tcellspacing='0' cellpadding='0' role=\"presentation\"\r\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\r\n\t\t><td class=\"dijitReset dijitStretch dijitButtonNode\" data-dojo-attach-point=\"buttonNode\" data-dojo-attach-event=\"ondijitclick:__onClick,onkeydown:_onButtonKeyDown\"\r\n\t\t><div id=\"${id}_button\" class=\"dijitReset dijitButtonContents\"\r\n\t\t\tdata-dojo-attach-point=\"titleNode\"\r\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\r\n\t\t\t><div class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\" role=\"presentation\"></div\r\n\t\t\t><div class=\"dijitReset dijitInline dijitButtonText\" id=\"${id}_label\" data-dojo-attach-point=\"containerNode\" role=\"presentation\"></div\r\n\t\t></div\r\n\t\t></td\r\n\t\t><td id=\"${id}_arrow\" class='dijitReset dijitRight dijitButtonNode dijitArrowButton'\r\n\t\t\tdata-dojo-attach-point=\"_popupStateNode,focusNode,_buttonNode\"\r\n\t\t\tdata-dojo-attach-event=\"onkeydown:_onArrowKeyDown\"\r\n\t\t\ttitle=\"${optionsTitle}\"\r\n\t\t\trole=\"button\" aria-haspopup=\"true\"\r\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" role=\"presentation\"></div\r\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" role=\"presentation\">&#9660;</div\r\n\t\t></td\r\n\t\t><td style=\"display:none !important;\"\r\n\t\t\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" data-dojo-attach-point=\"valueNode\"\r\n\t\t\t\tclass=\"dijitOffScreen\" aria-hidden=\"true\" data-dojo-attach-event=\"onclick:_onClick\"\r\n\t\t/></td></tr></tbody\r\n></table>\r\n","url:prcommon2/geographical/templates/Geographical.html":"<div class=\"dojogeographicalPane\" data-dojo-attach-point=\"containerNode\" >\r\n\t<div>\r\n\t\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\" >\r\n\t\t\t<tr><td width=\"20%\"   class=\"prmaxrowtag\">${displaytitle}</td>\r\n\t\t\t\t\t<td width=\"5%\" ><img height=\"16px\" width=\"16px\" data-dojo-attach-point=\"togglectrl\" data-dojo-attach-event=\"onclick:_toggle\" src=\"/prmax_common_s/images/toopen.gif\" class=\"toggleselect\"></img></td>\r\n\t\t\t\t\t<td align=\"right\" valign=\"top\" ><div data-dojo-attach-point=\"countnode\" data-dojo-type=\"prcommon2/search/SearchCount\"></div></td>\r\n\t\t\t</tr></table>\r\n\t\t<div style=\"border 2px solid black\">\r\n\t\t\t<div data-dojo-attach-point=\"selectarea\" class=\"prmaxselectmultiple\" style=\"display:none\" >\r\n\t\t\t\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\" >\r\n\t\t\t\t\t  <tr><td width=\"47%\"></td><td width=\"5%\"></td><td width=\"47%\"></td></tr>\r\n\t\t\t\t\t  <tr><td colspan=\"3\">\r\n\t\t\t\t\t\t  <table style=\"width:100%\" class=\"prmaxtable\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" >\r\n\t\t\t\t\t\t\t  <tr>\r\n\t\t\t\t\t\t\t\t  <td data-dojo-attach-point=\"master_type_text\"><span class=\"prmaxrowtag\">Select</span><input data-dojo-props='\"class\":\"prmaxfocus prmaxinput\",type:\"text\",style:\"width:100px\"' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"geographical_list_select\" data-dojo-attach-event=\"onkeyup:_geographical_select_func\" /></td>\r\n\t\t\t\t\t\t<td style=\"padding-left:10px\"> <span class=\"prmaxrowtag\" >Filter By</span>\r\n\t\t\t\t\t\t\t\t<input data-dojo-attach-event=\"onClick:_show_no_filter\" data-dojo-attach-point=\"filter_radio_restriction\" data-dojo-type=\"dijit/form/RadioButton\" data-dojo-props='name:\"geog_selection\",\"class\":\"prmaxdefault\",checked:\"checked\",type:\"radio\",value:\"-1\"'/><label data-dojo-attach-point=\"filter_radio_restriction_label\" class=\"prmaxlabeltag\" >All</label>\r\n\t\t\t\t\t\t\t\t<input data-dojo-attach-event=\"onClick:_show_all\" data-dojo-attach-point=\"filter_radio_town\" data-dojo-type=\"dijit/form/RadioButton\" data-dojo-props='name:\"geog_selection\",\"class\":\"prmaxdefault\",type:\"radio\",value:\"1\"'/><label data-dojo-attach-point=\"filter_radio_town_label\" class=\"prmaxlabeltag\" >Towns</label>\r\n\t\t\t\t\t\t\t\t<input data-dojo-attach-event=\"onClick:_show_all\" data-dojo-attach-point=\"filter_radio_county\" data-dojo-type=\"dijit/form/RadioButton\" data-dojo-props='name:\"geog_selection\",\"class\":\"prmaxdefault\",type:\"radio\",value:\"2\"'/><label data-dojo-attach-point=\"filter_radio_county_label\" class=\"prmaxlabeltag\" >Counties</label>\r\n\t\t\t\t\t\t\t\t<input data-dojo-attach-event=\"onClick:_show_all\" data-dojo-attach-point=\"filter_radio_region\" data-dojo-type=\"dijit/form/RadioButton\" data-dojo-props='name:\"geog_selection\",\"class\":\"prmaxdefault\",type:\"radio\",value:\"3\"'/><label data-dojo-attach-point=\"filter_radio_region_label\" class=\"prmaxlabeltag\" >Regions</label>\r\n\t\t\t\t\t\t\t\t<input data-dojo-attach-event=\"onClick:_show_all\" data-dojo-attach-point=\"filter_radio_nation\" data-dojo-type=\"dijit/form/RadioButton\" data-dojo-props='name:\"geog_selection\",\"class\":\"prmaxdefault\",type:\"radio\",value:\"6\"'/><label data-dojo-attach-point=\"filter_radio_nation_label\" class=\"prmaxlabeltag\" >Nation</label>\r\n\t\t\t\t\t\t</td><td width=\"5%\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\"' data-dojo-attach-event=\"onClick:_tree_view\">Tree</button></td>\r\n\t\t\t\t\t\t</tr></table>\r\n\t\t\t\t\t</td></tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td><select style=\"width:100%\" data-dojo-attach-point=\"geographical_list\" size=\"${size}\" class=\"lists\" multiple=\"multiple\" ></select></td>\r\n\t\t\t\t\t\t  <td>\r\n\t\t\t\t\t\t\t<button data-dojo-attach-point=\"button_all\" data-dojo-props='\"class\":\"button_add_all\",style:\"padding:0px;margin:0px\",disabled:true,type:\"button\"' data-dojo-attach-event=\"onClick:geographical_select_all\" data-dojo-type=\"dijit/form/Button\"><div class=\"std_movement_button\">&gt;&gt;</div></button><br/>\r\n\t\t\t\t\t\t\t<button data-dojo-attach-point=\"button_single\" data-dojo-props='\"class\":\"button_add_single\",style:\"padding:0px;margin:0px\",disabled:true,type:\"button\"' data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:geographical_select_single\"><div class=\"std_movement_button\">&gt;&nbsp;</div></button><br/>\r\n\t\t\t\t\t\t\t<button data-dojo-attach-point=\"button_del_all\" data-dojo-props='\"class\":\"button_del_all\",style:\"padding:0px;margin:0px\",disabled:true,type:\"button\"' data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:geographical_remove_all\"><div class=\"std_movement_button\">&lt;&lt;</div></button><br/>\r\n\t\t\t\t\t\t\t<button data-dojo-attach-point=\"button_del_single\" data-dojo-props='\"class\":\"button_del_single\",style:\"padding:0px;margin:0px\",disabled:true,type:\"button\"' data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:geographical_remove_single\"><div class=\"std_movement_button\">&lt;&nbsp;</div></button>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td ><select data-dojo-attach-point=\"geographical_select\" style=\"width:100%\" size=\"${size}\" class=lists\",multiple=\"multiple\" data-dojo-attach-event=\"onchange:geographical_update_selection\"></select></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t </div>\r\n\t<div data-dojo-attach-point=\"geog_tree_dlg\" data-dojo-type=\"dijit/Dialog\" title =\"Geographical Tree View\">\r\n\t\t<div data-dojo-attach-point=\"geog_tree\" data-dojo-type=\"prcommon2/geographical/GeographicalTree\" style=\"width:400px;height:500px\"></div>\r\n\t</div>\r\n\r\n </div>\r\n","url:prcommon2/roles/templates/Roles.html":"<div >\r\n\t<div class=\"dojoInterestPane\" >\r\n\t\t<div data-dojo-attach-point=\"selectarea\" style=\"display:none\" >\r\n\t\t\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\r\n\t\t\t\t  <tr><td width=\"47%\"></td><td width=\"5%\"></td><td width=\"48%\" ></td></tr>\r\n\t\t\t\t  <tr><td colspan=\"3\">\r\n\t\t\t\t  <table style=\"width:100%\" class=\"prmaxtable\" >\r\n\t\t\t\t\t  <tr>\r\n\t\t\t\t\t  <td width=\"70%\" data-dojo-attach-point=\"master_type_text\"><span class=\"prmaxrowtag\">Select </span><input class=\"prmaxfocus prmaxinput\" type=\"text\" data-dojo-type=\"dijit/form/TextBox\" data-dojo-props='style:\"width:150px\"' data-dojo-attach-point=\"interest_list_select\" data-dojo-attach-event=\"onkeyup:interest_select_event\" /></td>\r\n\t\t\t\t\t<td><div data-dojo-attach-point=\"show_search_integration\" class=\"prmaxhidden\"><label data-dojo-attach-point=\"search_only_label\">Default to Primary</label><input data-dojo-attach-point=\"search_only\"  data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='\"class\":\"prmaxdefault\",type:\"checkbox\",value:\"1\"' /></div></td></tr>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t  </td></tr>\r\n\t\t\t\t  <tr><td ><select style=\"width:100%\" name=\"roles\" data-dojo-attach-point=\"interest_list\" size=\"${size}\" class=\"lists\" multiple=\"multiple\" ></select></td>\r\n\t\t\t\t  <td >\r\n\t\t\t\t\t<button class=\"button_add_all\" style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"button_all\" data-dojo-props='disabled:true,type:\"button\"' data-dojo-attach-event=\"onClick:interest_select_all\" data-dojo-type=\"dijit/form/Button\"><div class=\"std_movement_button\">&gt;&gt;</div></button><br/>\r\n\t\t\t\t\t<button class=\"button_add_single\" style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"button_single\" data-dojo-props='disabled:true,type:\"button\"' data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:interest_select_single\"><div class=\"std_movement_button\">&gt;&nbsp;</div></button><br/>\r\n\t\t\t\t\t<button class=\"button_del_all\" style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"button_del_all\" data-dojo-props='disabled:true,type:\"button\"' data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:interest_remove_all\"><div class=\"std_movement_button\">&lt;&lt;</div></button><br/>\r\n\t\t\t\t\t<button class=\"button_del_single\" style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"button_del_single\" data-dojo-props='disabled:true,type:\"button\"' data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:interest_remove_single\"><div class=\"std_movement_button\">&lt;&nbsp;</div></button></td>\r\n\t\t\t\t  <td ><select style=\"width:100%\" data-dojo-attach-point=\"interest_select\" size=\"${size}\" class=\"lists\"  data-dojo-attach-event=\"onchange:interest_update_selection\"></select></td>\r\n\t\t\t\t  <td>\r\n\t\t\t\t\t<button  style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"up\" data-dojo-props='disabled:true,type:\"button\"' data-dojo-attach-event=\"onClick:_up_button\" data-dojo-type=\"dijit/form/Button\"><div style=\"width:2em\">Up</div></button><br/>\r\n\t\t\t\t\t<button style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"down\" data-dojo-props='disabled:true,type:\"button\"' data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:_down_button\"><div style=\"width:2em\">Down</div></button><br/>\r\n\t\t\t\t  </td></tr>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","url:prcommon2/clippings/templates/filter.html":"<div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='style:\"overflow:hidden;background-color:black;color:white\"' class=\"std_menu_view\" >\r\n\t\t<button data-dojo-attach-event=\"onClick:_show_extended\" data-dojo-attach-point=\"showextbtn\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='style:\"float:left;margin:0px;padding:0px\",type:\"button\",label:\"Filter\",iconClass:\"fa fa-filter fa-3x\"'></button>\r\n\t\t<p style=\"border:1px solid green;float:left\" data-dojo-attach-point=\"filter_details\">No Filter Selected</p>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"filter_dlg\" data-dojo-type=\"dijit/Dialog\" title='<i class=\"fa fa-filter\" aria-hidden=\"true\"></i> Filter' data-dojo-props='style:\"width:450px;height:320px\"'>\r\n\t\t<span class=\"common_prmax_layout\">\r\n\t\t\t<label data-dojo-attach-point=\"client_label_1\" class=\"label_1\"></label><select data-dojo-props='placeHolder:\"No Selection\",autoComplete:true,searchAttr:\"clientname\",labelType:\"html\",style:\"width:8em\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"clientid\" data-dojo-attach-event=\"onChange:_change_filter\"></select></br>\r\n\t\t\t<label data-dojo-attach-point=\"issue_label_1\" class=\"label_1\"></label><select data-dojo-props='placeHolder:\"No Selection\",name:\"issueid\",autoComplete:true,searchAttr:\"name\",required:false,invalidMessage:\"Select\",labelType:\"html\",style:\"width:8em\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"issueid\"></select></br>\r\n\t\t\t<label class=\"label_1\">Dates</label><div data-dojo-type=\"prcommon2/date/daterange\" data-dojo-attach-point=\"date_search\"></div></br>\r\n\t\t\t<label class=\"label_1\">Tone</label><div style=\"position:relative;top:2px;height:30px\"><div data-dojo-type=\"prcommon2/clippings/selecttone\" data-dojo-attach-point=\"tone_ctrl\"></div></div><br/>\r\n\t\t\t<label class=\"label_1\">Text</label><input data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"textid\" data-dojo-props='placeHolder:\"Search text\",required:false,name:\"textid\",trim:true,type:\"text\",style:\"width:20em\"'><br/>\r\n\t\t\t<label data-dojo-attach-point=\"clippingstype_label\" class=\"label_1 prmaxhidden\">Types</label><select data-dojo-props='name:\"clippingstypeid\",autoComplete:true,labelType:\"html\",style:\"width:10em;color:black\",value:-1, class:\"prmaxhidden\"' data-dojo-type=\"dijit/form/Select\" data-dojo-attach-point=\"clippingstypeid\" data-dojo-attach-event=\"onChange:_swap_view\"></select><br data-dojo-attach-point=\"clippingstype_label_2\" class=\"prmaxhidden\"/>\r\n\t\t\t<label class=\"label_1\">Release</label><select data-dojo-props='placeHolder:\"No Selection\",name:\"emailtemplateid\",autoComplete:true,searchAttr:\"emailtemplatename\",labelType:\"html\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"emailtemplateid\" ></select><br/>\r\n\t\t\t<label data-dojo-attach-point=\"statement_view_1\" class=\"label_1 prmaxhidden\">Statement</label><select data-dojo-props='placeHolder:\"No Selection\",name:\"statementid\",autoComplete:true,searchAttr:\"statementdescription\",labelType:\"html\",\"class\":\"prmaxhidden\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"statementid\" ></select><br data-dojo-attach-point=\"statement_view_2\" class=\"prmaxhidden\"/>\r\n\t\t\t<button data-dojo-attach-point=\"clearbtn\" data-dojo-attach-event=\"onClick:_clear\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='style:\"float:left;padding:0px;margin:0px\",type:\"button\",label:\"Clear\",\"class\":\"dijitReset\"'></button>\r\n\t\t\t<button data-dojo-attach-event=\"onClick:_update\" data-dojo-attach-point=\"updbtn\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='style:\"float:right\",type:\"button\",busyLabel:\"Please Wait Refreshing ...\",label:\"Refresh\"'></button>\r\n\t\t\t<br/><br/><br/><br/><br/>\r\n\t\t</span>\r\n\t\t<br/><br/><br/><br/>\r\n\t</div>\r\n</div>\r\n","url:prcommon2/search/templates/Frequency.html":"<div class=\"frequencies\">\r\n\t<table width=\"99%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\" >\r\n\t\t<tr><td width=\"20%\"   class=\"prmaxrowtag\">Frequency</td>\r\n\t\t\t\t<td width=\"75%\" ><select data-dojo-attach-point=\"select\" data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-props='searchAttr:\"name\",labelType:\"html\"' data-dojo-attach-event=\"onChange:_changed\" ></td>\r\n\t\t\t\t<td width=\"5%\"align=\"right\" valign=\"top\" ><div data-dojo-attach-point=\"countnode\" data-dojo-type=\"prcommon2/search/SearchCount\"></div></td>\r\n\t\t</tr>\r\n\t</table>\r\n</div>\r\n\r\n","url:prcommon2/search/templates/Publisher.html":"<div>\r\n\t<table width=\"99%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\" >\r\n\t\t<tr><td width=\"20%\" class=\"prmaxrowtag\">Publisher</td>\r\n\t\t\t\t<td width=\"75%\" ><select data-dojo-attach-point=\"select\" data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-props='pageSize:20,name:\"publisherid\",autoComplete:true,searchAttr:\"publishername\",required:false,labelType:\"html\",placeholder:\"All\",value:-1' data-dojo-attach-event=\"onChange:_changed\" ></td>\r\n\t\t\t\t<td width=\"5%\"align=\"right\" valign=\"top\" ><div data-dojo-attach-point=\"countnode\" data-dojo-type=\"prcommon2/search/SearchCount\"></div></td>\r\n\t\t</tr>\r\n\t</table>\r\n</div>\r\n","url:prcommon2/clippings/templates/selecttone.html":"<div data-dojo-attach-point=\"tones_node\" class=\"dijitInline dijitLeft dijitDownArrowButton dijitSelectFixedWidth dijitValidationTextBoxFixedWidth dijit dijitReset dijitSelect dijitValidationTextBox\">\r\n\t<p style=\"border:1px solid white;color:black;width:180px\" data-dojo-attach-point=\"selected_tones\">&nbsp;</p>\r\n\t<div class=\"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\" data-dojo-attach-point=\"_buttonNode\" role=\"presentation\" data-dojo-attach-event=\"onClick:_toggle\"><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\" \" type=\"text\" tabindex=\"-1\" readonly=\"readonly\" role=\"button presentation\" aria-hidden=\"true\"></div>\r\n\t<div data-dojo-attach-point=\"tone_view\" style=\"height:6em;width:12em\" data-dojo-type=\"dijit/TooltipDialog\" data-dojo-attach-event=\"onBlur:_close_tooltip\">\r\n\t\t<div style=\"float:right\" data-dojo-attach-event='onClick:_close_pop_up'><i class=\"fa fa-close\"></i></div>\r\n\t\t<label><input data-dojo-attach-point=\"very_pos\" data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='type:\"checkbox\",checked:true,value:\"1\",tvalue:1,sname:\"VPos\"' data-dojo-attach-event=\"onClick:_change_tones\" />Very Positive</label><br/>\r\n\t\t<label><input data-dojo-attach-point=\"pos\" data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='type:\"checkbox\",checked:true,value:\"2\",tvalue:2,sname:\"Pos\"' data-dojo-attach-event=\"onClick:_change_tones\"/>Positive</label><br/>\r\n\t\t<label><input data-dojo-attach-point=\"neutral\" data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='type:\"checkbox\",checked:true,value:\"3\",tvalue:3,sname:\"Neu\"' data-dojo-attach-event=\"onClick:_change_tones\"/>Neutral</label><br/>\r\n\t\t<label><input data-dojo-attach-point=\"neg\" data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='type:\"checkbox\",checked:true,value:\"4\",tvalue:4,sname:\"Neg\"' data-dojo-attach-event=\"onClick:_change_tones\"/>Negative</label><br/>\r\n\t\t<label><input data-dojo-attach-point=\"very_neg\" data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='type:\"checkbox\",checked:true,value:\"5\",tvalue:5,sname:\"VNeg\"' data-dojo-attach-event=\"onClick:_change_tones\"/>Very Negative</label><br/>\r\n\t\t<hr/>\r\n\t\t<div style=\"width:100%;text-align:center\">\r\n\t\t\t<button data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Select All\"' data-dojo-attach-event=\"onClick:_select_all\"></button>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n","url:prcommon2/date/templates/daterange.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\">\r\n\t<div style=\"width:100%\" class=\"dijit dijitReset daterange\">\r\n\t\t<select data-dojo-type=\"dijit/form/Select\" data-dojo-props='style:\"margin-right:5px;float:left;width:80px\",autocomplete:false,\"class\":\"dijit dijitReset\"' data-dojo-attach-point=\"option\" data-dojo-attach-event=\"onChange:_option_changed\"></select>\r\n\t\t<input data-dojo-attach-point=\"from_date_box\" class=\"prmaxhidden dijit dijitReset\" data-dojo-props='style:\"margin-right:5px;float:left;width:94px\",type:\"text\"' data-dojo-type=\"dijit/form/DateTextBox\" data-dojo-attach-event=\"onChange:_date_changed\"/>\r\n\t\t<label data-dojo-attach-point=\"to_box_label\" style=\"height:100%;float:left;margin-right:7px;vertical-align:center\" class=\"dijit dijitReset prmaxhidden and_label\">&nbsp;and&nbsp;</label>\r\n\t\t<input data-dojo-attach-point=\"to_date_box\" class=\"prmaxhidden dijit dijitReset\" data-dojo-props='style:\"float:left;width:94px\",type:\"text\"' data-dojo-type=\"dijit/form/DateTextBox\" data-dojo-attach-event=\"onChange:_date_changed\" />\r\n\t</div>\r\n</div>\r\n\r\n","url:prcommon2/clippings/templates/frame.html":"<div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"top\", style:\"height:50px;width:100%;overflow:hidden;background-color:${back_colour};border-bottom:2px solid white\", \"class\":\"std_menu_view\"'>\r\n\t\t<div data-dojo-attach-point=\"logo_view\" style=\"float:left\"><img height=\"50px\" width=\"160px\" src=\"/static/images/adept/banner_prmax_logo.png\"></img>&nbsp;&nbsp;&nbsp;</div>\r\n\t\t<div data-dojo-type=\"dijit/form/Button\" data-dojo-props='iconClass:\"fa fa-pie-chart fa-3x\",showLabel:false,label:\"Show Summary\"' data-dojo-attach-event=\"onClick:_summary_btn_event\"></div>\r\n\t\t<div data-dojo-type=\"dijit/form/Button\" data-dojo-props='iconClass:\"fa fa-line-chart fa-3x\",showLabel:false,label:\"Time\"' data-dojo-attach-event=\"onClick:_time_btn_event\"></div>\r\n\t\t<div data-dojo-type=\"dijit/form/Button\" data-dojo-props='iconClass:\"fa fa-info-circle fa-3x\",showLabel:false,label:\"Show Details\"' data-dojo-attach-event=\"onClick:_details_btn_event\"></div>\r\n\t\t<div data-dojo-type=\"dijit/form/Button\" data-dojo-props='iconClass:\"fa fa-plus fa-3x\",showLabel:false,label:\"Add Private Clipping\"' data-dojo-attach-event=\"onClick:_add_btn_event\"></div>\r\n\t\t<div data-dojo-type=\"dijit/form/Button\" data-dojo-props='iconClass:\"fa fa-sliders fa-3x\",showLabel:false,label:\"Options\"' data-dojo-attach-event=\"onClick:_options_btn_event\" data-dojo-attach-point=\"options_btn\"></div>\r\n\t\t<div data-dojo-type=\"dijit/form/Button\" data-dojo-props='iconClass:\"fa fa-columns fa-3x\",showLabel:false,label:\"Dashboard\"' data-dojo-attach-event=\"onClick:_dashboard_btn_event\" data-dojo-attach-point=\"dashboard_btn\"></div>\r\n\t\t<div data-dojo-type=\"dijit/form/Button\" data-dojo-props='iconClass:\"fa fa-cog fa-3x\",showLabel:false,label:\"Dashboard Settings\"' data-dojo-attach-event=\"onClick:_dashboardsettings_btn_event\" data-dojo-attach-point=\"dashboardsettings_btn\"></div>\r\n\t\t<div data-dojo-type=\"dijit/form/Button\" data-dojo-props='\"class\":\"prmaxhidden\",iconClass:\"fa fa-envelope-o fa-3x\",showLabel:false,label:\"Sent Clippings Emails\"' data-dojo-attach-event=\"onClick:_email_btn_event\" data-dojo-attach-point=\"emailsbtn\"></div>\r\n\t\t<div data-dojo-type=\"dijit/form/Button\" data-dojo-props='\"class\":\"prmaxhidden\",iconClass:\"fa fa-print fa-3x\",showLabel:false,label:\"Output\"' data-dojo-attach-event=\"onClick:_output_std_btn_event\" data-dojo-attach-point=\"outputbtn\"></div>\r\n\t\t<div data-dojo-type=\"dijit/form/Button\" data-dojo-props='\"class\":\"prmaxhidden\",iconClass:\"fa fa-check fa-3x\",showLabel:false,label:\"Select/Deselect All Clippings\"' data-dojo-attach-event=\"onClick:_selectall_btn_event\" data-dojo-attach-point=\"selectallbtn\"></div>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/BorderContainer\" data-dojo-props='region:\"center\",gutters:false' >\r\n\t\t<div data-dojo-type=\"dijit/layout/StackContainer\" data-dojo-attach-point=\"controls\" data-dojo-props=\"region:'center',preload:false\">\r\n\t\t\t<div data-dojo-attach-point=\"lineschart\" data-dojo-type=\"prcommon2/clippings/charts/lineschart\" data-dojo-props='style:\"width:100%;height:100%\",selected:\"selected\",back_colour:\"${back_panel_colour}\",fore_color:\"${fore_color}\"'></div>\r\n\t\t\t<div data-dojo-attach-point=\"clippings_view\" data-dojo-type=\"prcommon2/clippings/detailedviewer\" data-dojo-props='style:\"width:100%;height:100%\",preload:true'></div>\r\n\t\t\t<div data-dojo-attach-point=\"piechart\" data-dojo-type=\"prcommon2/clippings/charts/piechart\" data-dojo-props='style:\"width:100%;height:100%\",back_colour:\"${back_panel_colour}\",fore_color:\"${fore_color}\"'></div>\r\n\t\t\t<div data-dojo-attach-point=\"add_private\" data-dojo-type=\"prcommon2/clippings/edit_private\" class=\"scrollpanel\"></div>\r\n\t\t\t<div data-dojo-attach-point=\"options_view\" data-dojo-type=\"prcommon2/clippings/optionsviewer\" class=\"scrollpanel\"></div>\r\n\t\t\t<div data-dojo-attach-point=\"dashboard_view\" data-dojo-type=\"prcommon2/clippings/dashboard\" class=\"scrollpanel\"></div>\r\n\t\t\t<div data-dojo-attach-point=\"dashboardsettings_view\" data-dojo-type=\"prcommon2/clippings/dashboardsettings\" class=\"scrollpanel\"></div>\r\n\t\t</div>\r\n\t\t<div data-dojo-attach-point=\"email_dlg\" data-dojo-type=\"dijit/Dialog\" title=\"Email Clippings\" data-dojo-props='style:\"width:500px\"'>\r\n\t\t\t<div data-dojo-type=\"prcommon2/clippings/emails\" data-dojo-attach-point=\"emails_ctrl\"></div>\r\n\t\t</div>\r\n\t\t<div data-dojo-attach-point=\"output_std_dlg\" data-dojo-type=\"dijit/Dialog\" title=\"Output\" data-dojo-props='style:\"width:500px;height:300px\"'>\r\n\t\t\t<div data-dojo-type=\"prcommon2/clippings/output_std\" data-dojo-attach-point=\"output_std_ctrl\"></div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","url:prcommon2/clippings/templates/detailedviewer.html":"<div>\r\n\t<div data-dojo-type=\"prcommon2/clippings/filter\" data-dojo-attach-point=\"filter_view\" data-dojo-props='region:\"top\", style:\"height:50px;background-color:black;width:100%;overflow:hidden\",showextended:true'></div>\r\n\t<div data-dojo-props='region:\"left\",splitter:true,style:\"width:50%;height:100%\"' data-dojo-attach-point=\"clippings_grid_view\" data-dojo-type=\"dijit/layout/ContentPane\"></div>\r\n\t<div data-dojo-type=\"dijit/layout/StackContainer\" data-dojo-props='region:\"center\",splitter:true,' data-dojo-attach-point=\"clippings_view_ctrl\">\r\n\t\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-attach-point=\"blank_view\" data-dojo-props='style:\"width:100%;height:100%\", \"class\":\"bordered\"'></div>\r\n\t\t<div data-dojo-attach-point=\"clippings_view\" data-dojo-type=\"dijit/layout/TabContainer\" data-dojo-props='style:\"width:100%;height:100%\"' >\r\n\t\t\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-attach-point=\"clipping_view\" data-dojo-props='iconClass:\"fa fa-info\",title:\"Clipping\",style:\"width:100%;height:100%\"'></div>\r\n\t\t\t<div data-dojo-type=\"prcommon2/clippings/analysis/edit\" data-dojo-attach-point=\"clipping_analysis_view\" data-dojo-props='iconClass:\"fa fa-eye\",title:\"Analysis\",style:\"width:100%;height:100%\"'></div>\r\n\t\t\t<div data-dojo-type=\"prcommon2/clippings/edit\" data-dojo-attach-point=\"clipping_edit_view\" data-dojo-props='iconClass:\"fa fa-pencil-square-o\",title:\"Edit\",style:\"width:100%;height:100%\"'></div>\r\n\t\t\t<div data-dojo-type=\"prcommon2/clippings/edit_private\" data-dojo-attach-point=\"clipping_edit_private_view\" data-dojo-props='iconClass:\"fa fa-pencil-square-o\",title:\"Edit\",style:\"width:100%;height:100%\",mode:\"edit\"'></div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","url:dijit/templates/Menu.html":"<table class=\"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable\" role=\"menu\" tabIndex=\"${tabIndex}\"\r\n\t   cellspacing=\"0\">\r\n\t<tbody class=\"dijitReset\" data-dojo-attach-point=\"containerNode\"></tbody>\r\n</table>\r\n","url:prcommon2/search/templates/Countries.html":"<div data-dojo-attach-point=\"containerNode\" >\r\n\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\" >\r\n\t\t<tr><td width=\"20%\" class=\"prmaxrowtag\">${displaytitle}</td>\r\n\t\t\t\t<td width=\"5%\" ><img height=\"16px\" width=\"16px\" data-dojo-attach-point=\"togglectrl\" data-dojo-attach-event=\"onclick:_toggle\" src=\"/prmax_common_s/images/toopen.gif\" class=\"toggleselect\"></img></td>\r\n\t\t\t\t<td align=\"right\" valign=\"top\" ><div data-dojo-attach-point=\"countnode\" data-dojo-type=\"prcommon2/search/SearchCount\"></div></td>\r\n\t\t</tr>\r\n\t</table>\r\n\t<div class=\"dojoInterestPane\" >\r\n\t\t<div data-dojo-attach-point=\"selectarea\" style=\"display:none\" >\r\n\t\t\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\" >\r\n\t\t\t\t  <tr><td width=\"47%\"></td><td width=\"5%\"></td><td width=\"48%\" ></td></tr>\r\n\t\t\t\t  <tr><td colspan=\"3\">\r\n\t\t\t\t\t  <table style=\"width:100%\" class=\"prmaxtable\" >\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td width=\"40%\" data-dojo-attach-point=\"master_type_text\"><span class=\"prmaxrowtag\">Select</span><input data-dojo-type=\"dijit/form/TextBox\" data-dojo-props='\"class\":\"prmaxfocus prmaxinput\",type:\"text\",style:\"width:60%\"' data-dojo-attach-point=\"interest_list_select\" data-dojo-attach-event=\"onkeyup:interest_select_event\" /></td>\r\n\t\t\t\t\t\t\t<td width=\"3%\" align=\"right\"><input data-dojo-props='\"class\":\"prmaxdefault\",checked:\"checked\",type:\"checkbox\",value:\"2\"' data-dojo-attach-point=\"andor\" data-dojo-type=\"dijit/form/CheckBox\" data-dojo-attach-event=\"onClick:and_or\"/></td>\r\n\t\t\t\t\t\t\t<td width=\"15%\"><label data-dojo-attach-point=\"andorlabel\" class=\"prmaxlabeltag\" >All</label></td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t  </td></tr>\r\n\t\t\t\t\t  <tr><td ><select style=\"width:100%\" data-dojo-attach-point=\"interest_list\" size=\"${size}\" class=\"lists\" multiple=\"multiple\" ></select></td>\r\n\t\t\t\t  <td>\r\n\t\t\t\t  <button data-dojo-props='style:\"padding:0px;margin:0px\",disabled:\"true\",type:\"button\",\"class\":\"button_add_all\"' data-dojo-attach-point=\"button_all\" data-dojo-attach-event=\"onClick:interest_select_all\" data-dojo-type=\"dijit/form/Button\"><div class=\"std_movement_button\">&gt;&gt;</div></button><br/>\r\n\t\t\t\t  <button data-dojo-props='style:\"padding:0px;margin:0px\",disabled:\"true\",type:\"button\",\"class\":\"button_add_single\"' data-dojo-attach-point=\"button_single\" data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:interest_select_single\"><div class=\"std_movement_button\">&gt;&nbsp;</div></button><br/>\r\n\t\t\t\t  <button data-dojo-props='style:\"padding:0px;margin:0px\",disabled:\"true\",type:\"button\",\"class\":\"button_del_all\"' data-dojo-attach-point=\"button_del_all\" data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:interest_remove_all\"><div class=\"std_movement_button\">&lt;&lt;</div></button><br/>\r\n\t\t\t\t  <button data-dojo-props='style:\"padding:0px;margin:0px\",disabled:\"true\",type:\"button\",\"class\":\"button_del_single\"' data-dojo-attach-point=\"button_del_single\" data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:interest_remove_single\"><div class=\"std_movement_button\">&lt;&nbsp;</div></button></td>\r\n\t\t\t\t  <td ><select style=\"width:100%\" size=\"${size}\" class=\"lists\" multiple=\"multiple\" data-dojo-attach-point=\"interest_select\" data-dojo-attach-event=\"onchange:interest_update_selection\"></select></td>\r\n\t\t\t</tr>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t</div>\r\n</div>","url:dijit/form/templates/CheckBox.html":"<div class=\"dijit dijitReset dijitInline\" role=\"presentation\"\r\n\t><input\r\n\t \t${!nameAttrSetting} type=\"${type}\" role=\"${type}\" aria-checked=\"false\" ${checkedAttrSetting}\r\n\t\tclass=\"dijitReset dijitCheckBoxInput\"\r\n\t\tdata-dojo-attach-point=\"focusNode\"\r\n\t \tdata-dojo-attach-event=\"ondijitclick:_onClick\"\r\n/></div>\r\n","url:prcommon2/search/templates/SearchCount.html":"<div data-dojo-attach-point=\"innerNode\" class=\"prmaxsearchcount\">&nbsp;</div>","url:prcommon2/outlet/templates/OutletSelect.html":"<div class=\"dijit dijitReset dijitInline dijitLeft dijitTextBox dijitValidationContainer dijitInputField dijitTextBox\">\r\n\t<p style=\"float:left;position:relative;top:3px;white-space: nowrap;overflow:hidden;width:60%\" class=\"PlaceHolder dijitReset\" data-dojo-attach-point=\"display\"></p>\r\n\t<button data-dojo-attach-event=\"onClick:_select\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Select an outlet\",style:\"float:right;padding:0px;margin:0px\",iconClass:\"fa fa-search\",showLabel: false',\"class\",\"dijitReset\"></button>\r\n\t<button data-dojo-attach-point=\"clearbtn\" data-dojo-attach-event=\"onClick:_clear\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='style:\"float:right;padding:0px;margin:0px\",type:\"button\",label:\"Clear current selection\",\"class\":\"prmaxhidden dijitReset\",iconClass:\"fa fa-eraser\",showLabel: false'></button>\r\n\t<button data-dojo-attach-point=\"parentbtn\" data-dojo-attach-event=\"onClick:_load_parent_outlet\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='style:\"float:right;padding:0px;margin:0px\",type:\"button\",label:\"Load Parent Outlet\",\"class\":\"prmaxhidden dijitReset\",iconClass:\"fa fa-level-up fa-fw\",showLabel: false'></button>\r\n\t<div data-dojo-attach-point=\"select_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Select Publication\",style:\"height:590px;width:650px;overflow:hidden\"'>\r\n\t\t<div data-dojo-props='style:\"width:100%;height:250px\"' data-dojo-type=\"dijit/layout/ContentPane\">\r\n\t\t\t<div data-dojo-props='style:\"width:100%:height:250px\",\"class\":\"scrollpanel\",searchtypeid:6' data-dojo-attach-point=\"search_form_pane\" data-dojo-type=\"prcommon2/search/OutletSearch\"></div>\r\n\t\t</div>\r\n\t\t<div data-dojo-props='style:\"width:100%;height:250px;overflow:hidden\"' data-dojo-attach-point=\"select_search_view\" data-dojo-type=\"dijit/layout/ContentPane\"></div>\r\n\t\t<div data-dojo-props='style:\"width:100%;height:50px;overflow:hidden\"'  data-dojo-type=\"dijit/layout/ContentPane\">\r\n\t\t\t<button data-dojo-attach-event=\"onClick:_close\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Close\"'></button>\r\n\t\t\t<button data-dojo-attach-point=\"searchbutton\" data-dojo-attach-event=\"onClick:_search\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='style:\"float:right;padding-right:20px\",\"class\":\"prmaxbutton\",busyLabel:\"Searching...\",label:\"Search\"' ></button>\r\n\t\t</div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"selectdetails_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Publication Details\",style:\"width:600px;height:520px\"'>\r\n\t\t<div data-dojo-attach-point=\"selectdetails_ctrl\" data-dojo-type=\"prcommon2/outlet/OutletSelectDetails\" data-dojo-props='style:\"width:590px;height:490px\"'></div>\r\n\t</div>\r\n\r\n</div>\r\n\r\n\r\n\r\n","url:dijit/form/templates/DropDownBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\r\n\tid=\"widget_${id}\"\r\n\trole=\"combobox\"\r\n\taria-haspopup=\"true\"\r\n\tdata-dojo-attach-point=\"_popupStateNode\"\r\n\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer'\r\n\t\tdata-dojo-attach-point=\"_buttonNode\" role=\"presentation\"\r\n\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"button presentation\" aria-hidden=\"true\"\r\n\t\t\t${_buttonInputDisabled}\r\n\t/></div\r\n\t><div class='dijitReset dijitValidationContainer'\r\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\r\n\t/></div\r\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\r\n\t\t><input class='dijitReset dijitInputInner' ${!nameAttrSetting} type=\"${type}\" autocomplete=\"off\"\r\n\t\t\tdata-dojo-attach-point=\"textbox,focusNode\" role=\"textbox\"\r\n\t/></div\r\n></div>\r\n","url:prcommon2/clippings/templates/windowsettings.html":"<div>\r\n    <div data-dojo-attach-point=\"frame\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"left\",splitter:true,style:\"width:750px;height:330px\",\"class\":\"common_prmax_layout\"'>\r\n        <h1 style=\"text-align:center\" data-dojo-attach-point=\"heading_text\">Select Chart Options</h1>       \r\n        <form data-dojo-attach-point=\"formnode\" data-dojo-type=\"dijit/form/Form\" data-dojo-props='\"onSubmit\":\"return false\"'>\r\n            <label class=\"label_align_r label_tag label_size_2\">Mode</label><select data-dojo-attach-point=\"dashboardsettingsmodeid\" data-dojo-props='style:\"width:10em\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-event=\"onChange:_change_mode\"></select>\r\n            <label class=\"label_align_r label_tag label_size_3\" data-dojo-attach-point=\"dashboardsettingsstandardlabel\">Option</label><select data-dojo-attach-point=\"dashboardsettingsstandardid\" data-dojo-props='style:\"width:12em\"' data-dojo-type=\"dijit/form/FilteringSelect\"></select>\r\n            <label class=\"label_align_r label_tag label_size_3\" data-dojo-attach-point=\"dashboardsettingsstandardsearchbylabel\">Results By</label><select data-dojo-attach-point=\"dashboardsettingsstandardsearchbyid\" data-dojo-props='style:\"width:12em\"' data-dojo-type=\"dijit/form/FilteringSelect\"></select>\r\n            <label class=\"label_align_r label_tag label_size_3 prmaxhidden\" data-dojo-attach-point=\"questionlabel\">Question</label><select data-dojo-attach-point='questionid' data-dojo-props='placeHolder:\"No Selection\",style:\"width:12em\",\"class\":\"prmaxhidden\"' data-dojo-type=\"dijit/form/FilteringSelect\"></select><br/>\r\n            <label class=\"label_align_r label_tag label_size_2\">Chart View</label><select data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-props='style:\"width:10em;color:black\"' data-dojo-attach-point=\"chartviewid\" data-dojo-attach-event=\"onChange:_chartview_change\"></select><br/><br/><br/>\r\n            \r\n            <label class=\"label_align_r label_tag label_size_2\">Data Filters:</label><br/>\r\n            <label class=\"label_align_r label_tag label_size_2\">Dates</label><select data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-props='style:\"width:10em;color:black\"' data-dojo-attach-point=\"daterangeid\" data-dojo-attach-event=\"onChange: _change_daterange\"></select>\r\n            <label class=\"label_align_r label_tag label_size_3\" data-dojo-attach-point=\"groupby_label\">Group by</label><select data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-props='style:\"width:12em;color:black\"' data-dojo-attach-point=\"groupbyid\"></select><br/>\r\n            <label class=\"label_align_r label_tag label_size_2\" data-dojo-attach-point=\"by_client_label\">By Client</label><input data-dojo-attach-point=\"by_client\" data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='\"class\":\"prmaxdefault\",type:\"checkbox\"' data-dojo-attach-event=\"onClick: _by_client\"/>\r\n            <label data-dojo-attach-point=\"client_label_1\" class=\"label_align_r label_tag label_size_3 prmaxhidden\">Client</label><select data-dojo-props='pageSize:20,placeHolder:\"No Selection\",name:\"clientid\",autoComplete:true,searchAttr:\"clientname\",labelType:\"html\",\"class\":\"prmaxhidden\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"clientid\" data-dojo-attach-event=\"onChange:_client_change\"></select><br/>\r\n            <label class=\"label_align_r label_tag label_size_2\" data-dojo-attach-point=\"by_issue_label\">By Issue</label><input data-dojo-attach-point=\"by_issue\" data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='\"class\":\"prmaxdefault\",type:\"checkbox\"' data-dojo-attach-event=\"onClick: _by_issue\"/>\r\n            <label data-dojo-attach-point=\"issue_label_1\" class=\"label_align_r label_tag label_size_3 prmaxhidden\">Issue</label><select data-dojo-props='pageSize:20,placeHolder:\"No Selection\",name:\"issueid\",autoComplete:true,searchAttr:\"name\",labelType:\"html\",\"class\":\"prmaxhidden\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"issueid\" ></select><br/><br/>\r\n            \r\n            </br>\r\n            <button data-dojo-attach-event=\"onClick:_clear\" data-dojo-attach-point=\"clearbtn\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Clear\",\"class\":\"btnleft\"'></button>\r\n            <button data-dojo-attach-event=\"onClick:_save_settings\" data-dojo-attach-point=\"savesettingsbtn\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='type:\"button\",busyLabel:\"Please Wait Saving...\",label:\"Save\",\"class\":\"btnright\"'></button>\r\n            <br/><br/><br/><br/>\r\n        </form>\r\n    </div>\r\n</div>\r\n","url:dijit/form/templates/ValidationTextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\r\n\tid=\"widget_${id}\" role=\"presentation\"\r\n\t><div class='dijitReset dijitValidationContainer'\r\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\r\n\t/></div\r\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\r\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\r\n\t\t\t${!nameAttrSetting} type='${type}'\r\n\t/></div\r\n></div>\r\n","url:dijit/templates/TreeNode.html":"<div class=\"dijitTreeNode\" role=\"presentation\"\r\n\t><div data-dojo-attach-point=\"rowNode\" class=\"dijitTreeRow\" role=\"presentation\"\r\n\t\t><span data-dojo-attach-point=\"expandoNode\" class=\"dijitInline dijitTreeExpando\" role=\"presentation\"></span\r\n\t\t><span data-dojo-attach-point=\"expandoNodeText\" class=\"dijitExpandoText\" role=\"presentation\"></span\r\n\t\t><span data-dojo-attach-point=\"contentNode\"\r\n\t\t\tclass=\"dijitTreeContent\" role=\"presentation\">\r\n\t\t\t<span role=\"presentation\" class=\"dijitInline dijitIcon dijitTreeIcon\" data-dojo-attach-point=\"iconNode\"></span\r\n\t\t\t><span data-dojo-attach-point=\"labelNode,focusNode\" class=\"dijitTreeLabel\" role=\"treeitem\"\r\n\t\t\t\t   tabindex=\"-1\" aria-selected=\"false\" id=\"${id}_label\"></span>\r\n\t\t</span\r\n\t></div>\r\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitTreeNodeContainer\" role=\"presentation\"\r\n\t\t style=\"display: none;\" aria-labelledby=\"${id}_label\"></div>\r\n</div>\r\n","url:prcommon2/clippings/charts/templates/piechart.html":"<div>\r\n    <div data-dojo-type=\"prcommon2/clippings/filter\" data-dojo-attach-point=\"filter_view\" data-dojo-props='region:\"top\", style:\"height:40px;background-color:${back_colour};width:100%;overflow:hidden\"'></div>\r\n    <div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"center\",style:\"width:100%;height:400px;overflow:hidden;background-color:${back_colour};color:${fore_color}\"'>\r\n        <div style=\"height:400px;width:15%;float:left;margin:0 0 0 15px\"><br/>\r\n            <div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='style:\"height:30px;width:100%;padding:0x;margin:0px\"'>\r\n                <button data-dojo-attach-event=\"onClick:_preferences\" data-dojo-attach-point=\"preferencesbtn\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='iconClass:\"fa fa-print\",type:\"button\",label:\"Report\"'></button>\r\n                <div data-dojo-attach-point=\"preferences_dlg\" data-dojo-type=\"dijit/Dialog\" title=\"Report Preferences\" data-dojo-props='style:\"width:300px\"'>\r\n                    <div data-dojo-type=\"prcommon2/clippings/charts/preferences\" data-dojo-attach-point=\"preferences_ctrl\"></div>\r\n                </div>\r\n            </div>\r\n            <p>CHANNELS FILTER:</p><br/><br/>\r\n            <div data-dojo-attach-point=\"legend_node_outer\" style=\"height:400px\">\r\n                <div data-dojo-attach-point=\"legend_node\" style=\"height:400px\"></div>\r\n            </div>\r\n        </div>\r\n        <div style=\"height:400px;width:715px;float:left\">\r\n            <div data-dojo-attach-point=\"chart_node\" style=\"height:400px\"></div>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n","url:prcommon2/clippings/templates/dashboard.html":"<div>\r\n\t<div data-dojo-attach-point=\"row1cp\" data-dojo-type=\"dijit/layout/BorderContainer\" data-dojo-props='region:\"top\",style:\"width:100%;height:50%;background-color:black\"'>\r\n\t\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"left\",style:\"width:30%;height:98%\", \"class\":\"bordered\"' data-dojo-attach-point=\"window1\">\r\n\r\n\t\t\t<div style=\"height:275px;width:100%;float:left\" data-dojo-attach-point=\"chart_node_loading_no_data1\" >\r\n\t\t\t\t<div data-dojo-attach-point=\"chart_node_loading\" style=\"height:275px\">\r\n\t\t\t\t\t<table width=\"100%\" height=\"100%\">\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td style=\"text-align:left;vertical-align:middle\"></td>\r\n\t\t\t\t\t\t\t<td style=\"text-align:center;vertical-align:middle\">\r\n\t\t\t\t\t\t\t\t<p>Loading Chart</p><i class=\"fa fa-spinner fa-2x fa-pulse\" style=\"color:#0282A9\"></i>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t<td style=\"text-align:left;vertical-align:middle\"></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div style=\"height:275px;width:100%;float:left\" data-dojo-attach-point=\"chart_node_loading_data1\" class=\"prmaxhidden\">\r\n\t\t\t\t<button data-dojo-attach-event=\"onClick:_rep1\" data-dojo-attach-point=\"reportbtn1\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='\"class\":\"prmaxhidden\",style:\"float:right\",type:\"button\"'><i class=\"fa fa-print\"></i></button>\r\n\t\t\t\t<button data-dojo-attach-event=\"onClick:_set1\" data-dojo-attach-point=\"settingsbtn1\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='style:\"float:right\",type:\"button\"'><i class=\"fa fa-cog\"></i></button>\r\n\t\t\t\t<div data-dojo-attach-point=\"chart_node_1\" style=\"height:275px\"></div>\r\n\t\t\t</div>\r\n<!--\r\n\t\t\t<div style=\"height:50px;width:100%;float:right;margin:0 0 0 15px\" data-dojo-attach-point=\"legend_view_1\"><br/>\r\n\t\t\t\t<div data-dojo-attach-point=\"legend_node_outer_1\" style=\"height:50px\">\r\n\t\t\t\t\t<div data-dojo-attach-point=\"legend_node_1\" style=\"height:50px\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n-->\r\n\t\t</div>\r\n\t\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"center\",style:\"width:30%;height:98%\", \"class\":\"bordered\"' data-dojo-attach-point=\"window2\">\r\n\t\t\t<div style=\"height:275px;width:100%;float:left\" data-dojo-attach-point=\"chart_node_loading_no_data2\" >\r\n\t\t\t\t<div data-dojo-attach-point=\"chart_node_loading\" style=\"height:275px\">\r\n\t\t\t\t\t<table width=\"100%\" height=\"100%\">\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td style=\"text-align:left;vertical-align:middle\"></td>\r\n\t\t\t\t\t\t\t<td style=\"text-align:center;vertical-align:middle\">\r\n\t\t\t\t\t\t\t\t<p>Loading Chart</p><i class=\"fa fa-spinner fa-2x fa-pulse\" style=\"color:#0282A9\"></i>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t<td style=\"text-align:left;vertical-align:middle\"></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div style=\"height:275px;width:100%;float:left\" data-dojo-attach-point=\"chart_node_loading_data2\" class=\"prmaxhidden\">\r\n\t\t\t\t<button data-dojo-attach-event=\"onClick:_rep2\" data-dojo-attach-point=\"reportbtn2\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='\"class\":\"prmaxhidden\",style:\"float:right\",type:\"button\"'><i class=\"fa fa-print\"></i></button>\r\n\t\t\t\t<button data-dojo-attach-event=\"onClick:_set2\" data-dojo-attach-point=\"settingsbtn2\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='style:\"float:right\",type:\"button\"'><i class=\"fa fa-cog\"></i></button>\r\n\t\t\t\t<div data-dojo-attach-point=\"chart_node_2\" style=\"height:275px\"></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"right\",splitter:true, style:\"width:30%;height:98%\", \"class\":\"bordered\"' data-dojo-attach-point=\"window3\">\r\n\t\t\t<div style=\"height:275px;width:100%;float:left\" data-dojo-attach-point=\"chart_node_loading_no_data3\" >\r\n\t\t\t\t<div data-dojo-attach-point=\"chart_node_loading\" style=\"height:275px\">\r\n\t\t\t\t\t<table width=\"100%\" height=\"100%\">\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td style=\"text-align:left;vertical-align:middle\"></td>\r\n\t\t\t\t\t\t\t<td style=\"text-align:center;vertical-align:middle\">\r\n\t\t\t\t\t\t\t\t<p>Loading Chart</p><i class=\"fa fa-spinner fa-2x fa-pulse\" style=\"color:#0282A9\"></i>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t<td style=\"text-align:left;vertical-align:middle\"></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div style=\"height:275px;width:100%;float:left\" data-dojo-attach-point=\"chart_node_loading_data3\" class=\"prmaxhidden\">\r\n\t\t\t\t<button data-dojo-attach-event=\"onClick:_rep3\" data-dojo-attach-point=\"reportbtn3\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='\"class\":\"prmaxhidden\",style:\"float:right\",type:\"button\"'><i class=\"fa fa-print\"></i></button>\r\n\t\t\t\t<button data-dojo-attach-event=\"onClick:_set3\" data-dojo-attach-point=\"settingsbtn3\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='style:\"float:right\",type:\"button\"'><i class=\"fa fa-cog\"></i></button>\r\n\t\t\t\t<div data-dojo-attach-point=\"chart_node_3\" style=\"height:275px\"></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<div data-dojo-attach-point=\"row2cp\" data-dojo-type=\"dijit/layout/BorderContainer\" data-dojo-props='region:\"bottom\",style:\"width:100%;height:50%;background-color:black\"'>\r\n\t\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"left\",style:\"width:30%;height:98%\", \"class\":\"bordered\"' data-dojo-attach-point=\"window4\">\r\n\t\t\t<div style=\"height:275px;width:100%;float:left\" data-dojo-attach-point=\"chart_node_loading_no_data4\" >\r\n\t\t\t\t<div data-dojo-attach-point=\"chart_node_loading\" style=\"height:275px\">\r\n\t\t\t\t\t<table width=\"100%\" height=\"100%\">\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td style=\"text-align:left;vertical-align:middle\"></td>\r\n\t\t\t\t\t\t\t<td style=\"text-align:center;vertical-align:middle\">\r\n\t\t\t\t\t\t\t\t<p>Loading Chart</p><i class=\"fa fa-spinner fa-2x fa-pulse\" style=\"color:#0282A9\"></i>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t<td style=\"text-align:left;vertical-align:middle\"></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div style=\"height:275px;width:100%;float:left\" data-dojo-attach-point=\"chart_node_loading_data4\" class=\"prmaxhidden\">\r\n\t\t\t\t<button data-dojo-attach-event=\"onClick:_rep4\" data-dojo-attach-point=\"reportbtn4\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='\"class\":\"prmaxhidden\",style:\"float:right\",type:\"button\"'><i class=\"fa fa-print\"></i></button>\r\n\t\t\t\t<button data-dojo-attach-event=\"onClick:_set4\" data-dojo-attach-point=\"settingsbtn4\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='style:\"float:right\",type:\"button\"'><i class=\"fa fa-cog\"></i></button>\r\n\t\t\t\t<div data-dojo-attach-point=\"chart_node_4\" style=\"height:275px\"></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t\r\n\t\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"center\",style:\"width:30%;height:98%\", \"class\":\"bordered\"' data-dojo-attach-point=\"window5\">\r\n\t\t\t<div style=\"height:275px;width:100%;float:left\" data-dojo-attach-point=\"chart_node_loading_no_data5\" >\r\n\t\t\t\t<div data-dojo-attach-point=\"chart_node_loading\" style=\"height:275px\">\r\n\t\t\t\t\t<table width=\"100%\" height=\"100%\">\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td style=\"text-align:left;vertical-align:middle\"></td>\r\n\t\t\t\t\t\t\t<td style=\"text-align:center;vertical-align:middle\">\r\n\t\t\t\t\t\t\t\t<p>Loading Chart</p><i class=\"fa fa-spinner fa-2x fa-pulse\" style=\"color:#0282A9\"></i>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t<td style=\"text-align:left;vertical-align:middle\"></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div style=\"height:275px;width:100%;float:left\" data-dojo-attach-point=\"chart_node_loading_data5\" class=\"prmaxhidden\">\r\n\t\t\t\t<button data-dojo-attach-event=\"onClick:_rep5\" data-dojo-attach-point=\"reportbtn5\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='\"class\":\"prmaxhidden\",style:\"float:right\",type:\"button\"'><i class=\"fa fa-print\"></i></button>\r\n\t\t\t\t<button data-dojo-attach-event=\"onClick:_set5\" data-dojo-attach-point=\"settingsbtn5\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='style:\"float:right\",type:\"button\"'><i class=\"fa fa-cog\"></i></button>\r\n\t\t\t\t<div data-dojo-attach-point=\"chart_node_5\" style=\"height:275px\"></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"right\",splitter:true, style:\"width:30%;height:98%\", \"class\":\"bordered\"' data-dojo-attach-point=\"window6\">\r\n\t\t\t<div style=\"height:275px;width:100%;float:left\" data-dojo-attach-point=\"chart_node_loading_no_data6\" >\r\n\t\t\t\t<div data-dojo-attach-point=\"chart_node_loading\" style=\"height:275px\">\r\n\t\t\t\t\t<table width=\"100%\" height=\"100%\">\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td style=\"text-align:left;vertical-align:middle\"></td>\r\n\t\t\t\t\t\t\t<td style=\"text-align:center;vertical-align:middle\">\r\n\t\t\t\t\t\t\t\t<p>Loading Chart</p><i class=\"fa fa-spinner fa-2x fa-pulse\" style=\"color:#0282A9\"></i>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t<td style=\"text-align:left;vertical-align:middle\"></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div style=\"height:275px;width:100%;float:left\" data-dojo-attach-point=\"chart_node_loading_data6\" class=\"prmaxhidden\">\r\n\t\t\t\t<button data-dojo-attach-event=\"onClick:_rep6\" data-dojo-attach-point=\"reportbtn6\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='\"class\":\"prmaxhidden\",style:\"float:right\",type:\"button\"'><i class=\"fa fa-print\"></i></button>\r\n\t\t\t\t<button data-dojo-attach-event=\"onClick:_set6\" data-dojo-attach-point=\"settingsbtn6\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='style:\"float:right\",type:\"button\"'><i class=\"fa fa-cog\"></i></button>\r\n\t\t\t\t<div data-dojo-attach-point=\"chart_node_6\" style=\"height:275px\"></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"report_dlg\" data-dojo-type=\"dijit/Dialog\" title=\"Chart Report\" data-dojo-props='style:\"width:300px\"'>\r\n\t\t<div data-dojo-type=\"prcommon2/reports/ReportBuilder\" data-dojo-attach-point=\"report_node\"></div>\r\n\t</div>\r\n\t\t<div data-dojo-attach-point=\"settings_dlg\" data-dojo-type=\"dijit/Dialog\" title=\"Chart Settings\" data-dojo-props='style:\"width:750px;height:330px\"'>\r\n\t\t<div data-dojo-type=\"prcommon2/clippings/windowsettings\" data-dojo-attach-point=\"settings_ctrl\"></div>\r\n\t</div>\r\n\r\n\r\n\t<div data-dojo-attach-point=\"output_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Output\",style:\"width:300px\"'>\r\n\t\t<div data-dojo-type=\"prcommon2/clippings/output\" data-dojo-attach-point=\"output_ctrl\" ></div>\r\n\t</div>\r\n\r\n\r\n\t\r\n</div>\r\n","url:prcommon2/clippings/templates/edit.html":"<div>\r\n\t<form data-dojo-attach-point=\"formnode\" data-dojo-type=\"dijit/form/Form\" data-dojo-props='\"class\":\"common_prmax_layout prmaxdefault\",\"onSubmit\":\"return false\"'>\r\n\t\t<input data-dojo-attach-point=\"clippingid\" data-dojo-props='value:\"\",name:\"clippingid\",type:\"hidden\"' data-dojo-type=\"dijit/form/TextBox\"/><br/>\r\n\t\t<label data-dojo-attach-point=\"client_label_1\" class=\"label_align_r label_tag label_size_1\">Client</label><select data-dojo-props='name:\"clientid\",autoComplete:true,searchAttr:\"clientname\",labelType:\"html\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"clientid\" data-dojo-attach-event=\"onChange:_client_change\"></select><br/>\r\n\t\t<label data-dojo-attach-point=\"issue_label_1\" class=\"label_align_r label_tag label_size_1\">Issue</label><select data-dojo-props='name:\"issueid\",autoComplete:true,searchAttr:\"name\",labelType:\"html\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"issueid\" ></select><br/>\r\n\t\t<label class=\"label_align_r label_tag label_size_1\">Release</label><select data-dojo-props='name:\"emailtemplateid\",autoComplete:true,searchAttr:\"emailtemplatename\",labelType:\"html\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"emailtemplateid\" ></select><br/>\r\n\t\t<label class=\"label_align_r label_tag label_size_1\">Tone</label><select data-dojo-props='name:\"clippingstoneid\",autoComplete:true,labelType:\"html\",style:\"width:10em\",value:3' data-dojo-type=\"dijit/form/Select\" data-dojo-attach-point=\"clippingstoneid\" ></select><br/>\r\n\t\t<label class=\"label_align_r label_tag label_size_1\">Outlet</label><div data-dojo-props='name:\"outletid\",placeHolder:\"Select outlet if required\",required:false,source_url:\"/search2/list_rest\"' data-dojo-type=\"prcommon2/outlet/OutletSelect\" data-dojo-attach-point=\"outletid\"></div><br/>\r\n\t\t<label data-dojo-attach-point=\"statement_1\" class=\"label_align_r label_tag label_size_1 prmaxhidden\">Statement</label><select data-dojo-props='name:\"statementid\",autoComplete:true,searchAttr:\"statementdescription\",labelType:\"html\",\"class\":\"prmaxhidden\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"statementid\" ></select><br/>\r\n\t\t<br/>\r\n\t\t<button data-dojo-attach-event=\"onClick:_delete\" data-dojo-attach-point=\"deletebtn\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='type:\"button\",busyLabel:\"Please Wait Deleting...\",label:\"Delete Clipping\",\"class\":\"btnleft\"'></button>\r\n\t\t<button data-dojo-attach-event=\"onClick:_save\" data-dojo-attach-point=\"savebtn\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='type:\"button\",busyLabel:\"Please Wait Saving...\",label:\"Save\",\"class\":\"btnleft\",style:\"padding-left:130px\"'></button>\r\n\t</form>\r\n</div>\r\n","url:dijit/templates/TooltipDialog.html":"<div role=\"alertdialog\" tabIndex=\"-1\">\r\n\t<div class=\"dijitTooltipContainer\" role=\"presentation\">\r\n\t\t<div data-dojo-attach-point=\"contentsNode\" class=\"dijitTooltipContents dijitTooltipFocusNode\">\r\n\t\t\t<div data-dojo-attach-point=\"containerNode\"></div>\r\n\t\t\t${!actionBarTemplate}\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"dijitTooltipConnector\" role=\"presentation\" data-dojo-attach-point=\"connectorNode\"></div>\r\n</div>\r\n","url:dijit/layout/templates/_TabButton.html":"<div role=\"presentation\" data-dojo-attach-point=\"titleNode,innerDiv,tabContent\" class=\"dijitTabInner dijitTabContent\">\r\n\t<span role=\"presentation\" class=\"dijitInline dijitIcon dijitTabButtonIcon\" data-dojo-attach-point=\"iconNode\"></span>\r\n\t<span data-dojo-attach-point='containerNode,focusNode' class='tabLabel'></span>\r\n\t<span class=\"dijitInline dijitTabCloseButton dijitTabCloseIcon\" data-dojo-attach-point='closeNode'\r\n\t\t  role=\"presentation\">\r\n\t\t<span data-dojo-attach-point='closeText' class='dijitTabCloseText'>[x]</span\r\n\t\t\t\t></span>\r\n</div>\r\n","url:prcommon2/search/templates/SearchRoles.html":"<div class=\"searchroles\">\r\n\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\" >\r\n\t\t<tr>\r\n\t\t\t<td width=\"20%\"   class=\"prmaxrowtag\">Job Roles</td>\r\n\t\t\t<td width=\"5%\" ><i data-dojo-attach-point=\"togglectrl\" data-dojo-attach-event=\"onclick:_toggle\" class=\"fa fa-plus-circle\" style=\"color:#7F7F7F\"></i></td>\r\n\t\t\t<td align=\"right\" valign=\"top\" ><div data-dojo-attach-point=\"countnode\" data-dojo-type=\"prcommon2/search/SearchCount\"></div></td>\r\n\t\t</tr>\r\n\t</table>\r\n\t<div data-dojo-attach-point=\"selectarea\" class=\"prmaxselectmultiple\" style=\"display:none\">\r\n\t\t<div  data-dojo-attach-point=\"roles_search\"  data-dojo-type=\"prcommon2/roles/Roles\" data-dojo-props='startopen:true, size:6, searchmode:true, selectonly:false,orderbtns:false' ></div>\r\n\t</div>\r\n</div>","url:prcommon2/clippings/templates/add_server.html":"<div>\r\n    <form data-dojo-attach-point=\"form\" data-dojo-type=\"dijit/form/Form\" data-dojo-props='\"onSubmit\":\"return false\"'>\r\n        <input data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"customerid\" data-dojo-props='\"class\":\"prmaxhidden\", name:\"customerid\",type:\"text\"'/>\r\n        <table width=\"100%\" class=\"prmaxtable\">\r\n            <tr><td align=\"right\"  width=\"30%\" class=\"prmaxrowtag\">From:</td><td><input data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-attach-point=\"fromemailaddress\" data-dojo-props='pattern:dojox.validate.regexp.emailAddress,required:true,name:\"fromemailaddress\",type:\"text\",style:\"width:24em\",placeHolder:\"Email address of Sender\"'></td></tr>\r\n            <tr><td align=\"right\" width=\"30%\" class=\"prmaxrowtag\">Server Type:</td><td><select data-dojo-props='name:\"servertypeid\",autoComplete:true,labelType:\"html\",style:\"width:10em\"' data-dojo-type=\"dijit/form/Select\" data-dojo-attach-point=\"servertypeid\" data-dojo-attach-event=\"onChange:_server_type\"></select></td></tr>\r\n            <tr><td align=\"right\" width=\"30%\" class=\"prmaxrowtag\">Username:</td><td><input data-dojo-props='\"class\":\"prmaxinput\",trim:true,name:\"username\",type:\"text\",required:true,placeHolder:\"Email server login name\"' data-dojo-attach-point=\"username\" data-dojo-type=\"dijit.form.ValidationTextBox\" ></td></tr>\r\n\t\t\t<tr data-dojo-attach-point=\"url_view\" class=\"prmaxhidden\"><td align=\"right\" width=\"30%\" class=\"prmaxrowtag\">Host:</td><td><input data-dojo-props='\"class\":\"prmaxinput\",pattern:dojox.validate.regexp.url,trim:true,name:\"host\",type:\"text\",required:false' data-dojo-attach-point=\"host\" data-dojo-type=\"dijit.form.ValidationTextBox\" ></td></tr>\r\n            <tr>\r\n\t\t\t\t<td colspan=\"2\">\r\n\t\t\t\t\t<div data-dojo-type=\"dojox.form.PasswordValidator\" name=\"password\" class=\"prmaxrowtag\" data-dojo-attach-point=\"password\">\r\n\t\t\t\t\t\t<table class=\"prmaxtable\" width=\"100%\" >\r\n                        \t<tr><td align=\"right\" width=\"31%\" class=\"prmaxrowtag\">Password:</td><td><input class=\"prmaxrequired\" type=\"password\" pwType=\"new\" /></td></tr>\r\n\t\t\t\t\t\t\t<tr><td align=\"right\" width=\"31%\" class=\"prmaxrowtag\" >Verify:</td><td><input class=\"prmaxrequired\" type=\"password\" pwType=\"verify\" /></td></tr>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr><td><br/></td></tr>\r\n            <tr>\r\n\t\t\t\t<td class=\"prmaxrowtag\" align=\"left\"><button data-dojo-attach-event=\"onClick:_send_test\" data-dojo-attach-point=\"sendtestbtn\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='type:\"button\",busyLabel:\"Please Wait...\",label:\"Send Test Email\"'></button></td>\r\n            \t<td class=\"prmaxrowtag\" colspan=\"2\" align=\"right\"><button data-dojo-attach-event=\"onClick:_save\" data-dojo-attach-point=\"savebtn\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='type:\"button\",busyLabel:\"Please Wait Saving...\",label:\"Save\"'></button></td>\r\n            </tr>\r\n        </table>\r\n    </form>\r\n</div>\r\n\r\n","url:dijit/form/templates/Button.html":"<span class=\"dijit dijitReset dijitInline\" role=\"presentation\"\r\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\r\n\t\tdata-dojo-attach-event=\"ondijitclick:__onClick\" role=\"presentation\"\r\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\r\n\t\t\tdata-dojo-attach-point=\"titleNode,focusNode\"\r\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\r\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\"></span\r\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\r\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\r\n\t\t\t\tid=\"${id}_label\"\r\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\r\n\t\t\t></span\r\n\t\t></span\r\n\t></span\r\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\r\n\t\tdata-dojo-attach-event=\"onclick:_onClick\"\r\n\t\ttabIndex=\"-1\" aria-hidden=\"true\" data-dojo-attach-point=\"valueNode\"\r\n/></span>\r\n","url:prcommon2/clippings/charts/templates/preferences.html":"<div>\r\n<span class=\"common_prmax_layout\"><br/>\r\n\t<form data-dojo-attach-point=\"form_output\" data-dojo-type=\"dijit/form/Form\" data-dojo-props='onSubmit:\"return false\"'>\r\n\t\t<label data-dojo-attach-point=\"all_label\">All Channels&nbsp;<input data-dojo-attach-point=\"all_channels\" data-dojo-props=\"name:'channels',value:'0',type:'radio',checked:true\" data-dojo-type=\"dijit/form/RadioButton\" data-dojo-attach-event=\"onClick:_change_preferences\"/></label><br>\r\n\t\t<label data-dojo-attach-point=\"selected_label\">Selected Channels&nbsp;<input data-dojo-attach-point=\"selected_channels\" data-dojo-props=\"name:'channels',value:'1',type:'radio'\" data-dojo-type=\"dijit/form/RadioButton\"  data-dojo-attach-event=\"onClick:_change_preferences\"/></label><br><br>\r\n\r\n\r\n\t\t<button data-dojo-attach-event=\"onClick:_close\" data-dojo-attach-point=\"closebtn\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Close\",style:\"float:left;align:left\"'></button>\r\n\t\t<button data-dojo-attach-event=\"onClick:_report\" data-dojo-attach-point=\"reportbtn\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Report\",style:\"float:right;align:right\"'></button>\r\n\t\t<div data-dojo-attach-point=\"report_preferences_report_dlg\" data-dojo-type=\"dijit/Dialog\" title=\"Clippings Report\" data-dojo-props='style:\"width:300px\"'>\r\n\t\t\t<div data-dojo-type=\"prcommon2/reports/ReportBuilder\" data-dojo-attach-point=\"report_preferences\"></div>\r\n\t\t</div>\r\n\t\t<br/><br/>\r\n\t</form>\r\n</span>\r\n</div>\r\n","url:prcommon2/geographical/templates/GeographicalTree.html":"<div>\r\n\t<div data-dojo-attach-point=\"tree\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"center\"' ></div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"bottom\",style:\"width:100%;height:2em\"'>\r\n\t\t<button data-dojo-props='type:\"button\",style:\"float:right;padding-right:10px\"' data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:_close\">Close</button>\r\n\t</div>\r\n</div>\r\n","url:prcommon2/clippings/templates/add_footer.html":"<div>\r\n    <form data-dojo-attach-point=\"form\" data-dojo-type=\"dijit/form/Form\" data-dojo-props='\"onSubmit\":\"return false\"'>\r\n        <input data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-attach-point=\"icustomerid\" data-dojo-props='\"class\":\"prmaxhidden\", name:\"icustomerid\",type:\"text\"'/>\r\n        <table width=\"100%\" class=\"prmaxtable\" >\r\n            <tr><td align=\"right\" width=\"20%\" class=\"prmaxrowtag\"><label>Description</label></td><td><input data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-attach-point=\"emailfooterid\" data-dojo-props='required:true,name:\"emailfooterdescription\",trim:true,type:\"text\"'></td></tr>\r\n            <tr><td align=\"right\" width=\"20%\" class=\"prmaxrowtag\"><label>HTML</label></td><td><input data-dojo-type=\"dijit/form/SimpleTextarea\" data-dojo-attach-point=\"htmltext\" data-dojo-props='required:true,name:\"htmltext\",trim:true,type:\"text\",style:\"width:300px\",rows:\"10\"'></td></tr>\r\n        \r\n            <tr><td class=\"prmaxrowtag\" colspan=\"2\" align=\"right\"><button data-dojo-attach-event=\"onClick:_save\" data-dojo-attach-point=\"savebtn\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='type:\"button\",busyLabel:\"Please Wait Saving...\",label:\"Save\",\"class\":\"btnright\"'></button></td></tr>\r\n\r\n        </table></br></br>\r\n    </form></br></br>\r\n    \r\n</div>\r\n","url:prcommon2/clippings/templates/output.html":"<div>\r\n<span class=\"common_prmax_layout\"><br/>\r\n\t<form data-dojo-attach-point=\"form_output\" data-dojo-type=\"dijit/form/Form\" data-dojo-props='onSubmit:\"return false\"'>\r\n\t\t<label class=\"label_1\">Output Format</label><br/>\r\n\t\t<label data-dojo-attach-point=\"pdf_label\">Pdf&nbsp;<input data-dojo-attach-point=\"pdf\" data-dojo-props=\"name:'reportoutputtypeid',value:'0',type:'radio',checked:true\" data-dojo-type=\"dijit/form/RadioButton\"></label><br />\r\n\t\t<label data-dojo-attach-point=\"excel_label\">Excel&nbsp;<input data-dojo-attach-point=\"excel\" data-dojo-props=\"name:'reportoutputtypeid',value:'4',type:'radio'\" data-dojo-type=\"dijit/form/RadioButton\"></label><br/>\r\n\r\n\t\t<button data-dojo-attach-event=\"onClick:_close\" data-dojo-attach-point=\"closebtn\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Close\",\"class\":\"btnleft prmaxhidden\"'></button>\r\n\t\t<button data-dojo-attach-event=\"onClick:_do_report\" data-dojo-attach-point=\"reportbtn\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Generate\",\"class\":\"btnright\"'></button>\r\n\t\t<br/><br/>\r\n\t</form>\r\n</span>\r\n\t<div data-dojo-attach-point=\"report_dlg\" data-dojo-type=\"dijit/Dialog\" title=\"Chart Report\" data-dojo-props='style:\"width:300px\"'>\r\n\t\t<div data-dojo-type=\"prcommon2/reports/ReportBuilder\" data-dojo-attach-point=\"report_node\"></div>\r\n\t</div>\r\n</div>\r\n","url:dijit/templates/Tree.html":"<div role=\"tree\">\r\n\t<div class=\"dijitInline dijitTreeIndent\" style=\"position: absolute; top: -9999px\" data-dojo-attach-point=\"indentDetector\"></div>\r\n\t<div class=\"dijitTreeExpando dijitTreeExpandoLoading\" data-dojo-attach-point=\"rootLoadingIndicator\"></div>\r\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitTreeContainer\" role=\"presentation\">\r\n\t</div>\r\n</div>\r\n","url:dijit/layout/templates/ScrollingTabController.html":"<div class=\"dijitTabListContainer-${tabPosition}\" style=\"visibility:hidden\">\r\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerMenuButton\"\r\n\t\t class=\"tabStripButton-${tabPosition}\"\r\n\t\t id=\"${id}_menuBtn\"\r\n\t\t data-dojo-props=\"containerId: '${containerId}', iconClass: 'dijitTabStripMenuIcon',\r\n\t\t\t\t\tdropDownPosition: ['below-alt', 'above-alt']\"\r\n\t\t data-dojo-attach-point=\"_menuBtn\" showLabel=\"false\" title=\"\">&#9660;</div>\r\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\r\n\t\t class=\"tabStripButton-${tabPosition}\"\r\n\t\t id=\"${id}_leftBtn\"\r\n\t\t data-dojo-props=\"iconClass:'dijitTabStripSlideLeftIcon', showLabel:false, title:''\"\r\n\t\t data-dojo-attach-point=\"_leftBtn\" data-dojo-attach-event=\"onClick: doSlideLeft\">&#9664;</div>\r\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\r\n\t\t class=\"tabStripButton-${tabPosition}\"\r\n\t\t id=\"${id}_rightBtn\"\r\n\t\t data-dojo-props=\"iconClass:'dijitTabStripSlideRightIcon', showLabel:false, title:''\"\r\n\t\t data-dojo-attach-point=\"_rightBtn\" data-dojo-attach-event=\"onClick: doSlideRight\">&#9654;</div>\r\n\t<div class='dijitTabListWrapper' data-dojo-attach-point='tablistWrapper'>\r\n\t\t<div role='tablist' data-dojo-attach-event='onkeydown:onkeydown'\r\n\t\t\t data-dojo-attach-point='containerNode' class='nowrapTabStrip'></div>\r\n\t</div>\r\n</div>","url:dijit/templates/Dialog.html":"<div class=\"dijitDialog\" role=\"dialog\" aria-labelledby=\"${id}_title\">\r\n\t<div data-dojo-attach-point=\"titleBar\" class=\"dijitDialogTitleBar\">\r\n\t\t<span data-dojo-attach-point=\"titleNode\" class=\"dijitDialogTitle\" id=\"${id}_title\"\r\n\t\t\t\trole=\"heading\" level=\"1\"></span>\r\n\t\t<span data-dojo-attach-point=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" data-dojo-attach-event=\"ondijitclick: onCancel\" title=\"${buttonCancel}\" role=\"button\" tabindex=\"-1\">\r\n\t\t\t<span data-dojo-attach-point=\"closeText\" class=\"closeText\" title=\"${buttonCancel}\">x</span>\r\n\t\t</span>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitDialogPaneContent\"></div>\r\n\t${!actionBarTemplate}\r\n</div>\r\n\r\n","url:prcommon2/search/templates/Circulation.html":"<div class=\"circulation\">\r\n\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\" >\r\n\t\t<tr><td width=\"20%\"   class=\"prmaxrowtag\">Circulation</td>\r\n\t\t\t\t<td width=\"5%\" ><img height=\"16px\" width=\"16px\" data-dojo-attach-point=\"togglectrl\" data-dojo-attach-event=\"onclick:_toggle\" src=\"/prmax_common_s/images/toopen.gif\" class=\"toggleselect\"></img>\r\n\t\t\t\t<td align=\"right\" valign=\"top\" ><div data-dojo-attach-point=\"countnode\" data-dojo-type=\"prcommon2/search/SearchCount\"></div></td>\r\n\t\t</tr>\r\n\t</table>\r\n\t<div style=\"border 2px solid black\">\r\n\t\t<div data-dojo-attach-point=\"selectarea\" style=\"display:none\" >\r\n\t\t\t<table width=\"100%\" class=\"prmaxtable\">\r\n\t\t\t  <tr>\r\n\t\t\t  <td width=\"8%\"><input data-dojo-attach-point=\"node_1\"  data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='\"class\":\"prmaxdefault\",type:\"checkbox\",value:\"1\"' data-dojo-attach-event=\"onClick:check_count\"/></td><td width=\"23%\"><label data-dojo-attach-point=\"node_1_label\" class=\"labeltag\">1-500</label></td>\r\n\t\t\t  <td width=\"8%\"><input data-dojo-attach-point=\"node_2\" data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='\"class\":\"prmaxdefault\",type:\"checkbox\",value:\"2\"' data-dojo-attach-event=\"onClick:check_count\"/></td><td width=\"26%\"><label data-dojo-attach-point=\"node_2_label\" class=\"labeltag\">501-2500</label></td>\r\n\t\t\t  <td width=\"8%\"><input data-dojo-attach-point=\"node_3\" data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='\"class\":\"prmaxdefault\",type:\"checkbox\",value:\"3\"' data-dojo-attach-event=\"onClick:check_count\"/></td><td width=\"21%\"><label data-dojo-attach-point=\"node_3_label\" class=\"labeltag\">2501-10k</label></td>\r\n\t\t\t  </tr>\r\n\t\t\t  <tr>\r\n\t\t\t  <td width=\"8%\"><input data-dojo-attach-point=\"node_4\" data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='\"class\":\"prmaxdefault\",type:\"checkbox\",value:\"4\"' data-dojo-attach-event=\"onClick:check_count\"/></td><td width=\"23%\"><label data-dojo-attach-point=\"node_4_label\" class=\"labeltag\">10001-50k</label></td>\r\n\t\t\t  <td width=\"8%\"><input data-dojo-attach-point=\"node_5\" data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='\"class\":\"prmaxdefault\",type:\"checkbox\",value:\"5\"' data-dojo-attach-event=\"onClick:check_count\"/></td><td width=\"26%\"><label data-dojo-attach-point=\"node_5_label\" class=\"labeltag\">50001-100k</label></td>\r\n\t\t\t  <td width=\"8%\"><input data-dojo-attach-point=\"node_6\" data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='\"class\":\"prmaxdefault\",type:\"checkbox\",value:\"6\"' data-dojo-attach-event=\"onClick:check_count\"/></td><td width=\"21%\"><label data-dojo-attach-point=\"node_6_label\" class=\"labeltag\">100001+</label></td>\r\n\t\t\t</tr>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n","url:dijit/templates/MenuItem.html":"<tr class=\"dijitReset\" data-dojo-attach-point=\"focusNode\" role=\"menuitem\" tabIndex=\"-1\">\r\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\r\n\t\t<span role=\"presentation\" class=\"dijitInline dijitIcon dijitMenuItemIcon\" data-dojo-attach-point=\"iconNode\"></span>\r\n\t</td>\r\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode,textDirNode\"\r\n\t\trole=\"presentation\"></td>\r\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\r\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">\r\n\t\t<span data-dojo-attach-point=\"arrowWrapper\" style=\"visibility: hidden\">\r\n\t\t\t<span class=\"dijitInline dijitIcon dijitMenuExpand\"></span>\r\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\r\n\t\t</span>\r\n\t</td>\r\n</tr>\r\n","url:prcommon2/interests/templates/Interests.html":"<div data-dojo-attach-point=\"containerNode\" >\r\n\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\">\r\n\t\t<tr><td width=\"20%\"   class=\"prmaxrowtag\">${displaytitle}</td>\r\n\t\t\t\t<td width=\"5%\" ><img height=\"16px\" width=\"16px\" data-dojo-attach-point=\"togglectrl\" data-dojo-attach-event=\"onclick:_toggle\" src=\"/prmax_common_s/images/toopen.gif\" class=\"toggleselect\"></img></td>\r\n\t\t\t\t<td align=\"right\" valign=\"top\" ><div data-dojo-attach-point=\"countnode\" data-dojo-type=\"prcommon2/search/SearchCount\"></div></td>\r\n\t\t</tr>\r\n\t</table>\r\n\t<div class=\"dojoInterestPane\" >\r\n\t\t<div data-dojo-attach-point=\"selectarea\" class=\"prmaxselectmultiple\" style=\"display:none\" >\r\n\t\t\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\" >\r\n\t\t\t\t  <tr><td width=\"47%\"></td><td width=\"5%\"></td><td width=\"48%\" ></td></tr>\r\n\t\t\t\t  <tr><td colspan=\"3\">\r\n\t\t\t\t  <table style=\"width:100%\" class=\"prmaxtable\" >\r\n\t\t\t\t  <tr>\r\n\t\t\t\t\t\t<td width=\"40%\" data-dojo-attach-point=\"master_type_text\"><span class=\"prmaxrowtag\">Select</span><input class=\"prmaxfocus prmaxinput\" type=\"text\" data-dojo-type=\"dijit/form/TextBox\" style=\"width:60%\" data-dojo-attach-point=\"interest_list_select\" data-dojo-attach-event=\"onkeyup:interest_select\" /></td>\r\n\t\t\t\t\t\t<td width=\"40%\"><select data-dojo-props='style:\"width:100%\",autoComplete:true,searchAttr:\"name\",labelType:\"html\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"master_type\"data-dojo-attach-event=\"onChange:change_filter\"></td>\r\n\t\t\t\t\t\t<td width=\"3%\" align=\"right\"><input class=\"prmaxdefault\" data-dojo-attach-point=\"andor\"  data-dojo-type=\"dijit/form/CheckBox\" checked type=\"checkbox\" value=\"2\" data-dojo-attach-event=\"onClick:and_or\"/></td>\r\n\t\t\t\t\t\t<td width=\"15%\"><label data-dojo-attach-point=\"andorlabel\" class=\"prmaxlabeltag\" >All</label></td>\r\n\t\t\t\t\t\t<td width=\"3%\" align=\"right\" data-dojo-attach-point=\"show_help_btn\" class=\"prmaxhidden\"><div data-dojo-attach-event=\"onClick:_show_help\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='iconClass:\"PRMaxSmallCommonIcon PRMaxSmallHelpIcon\",style:\"padding:0px;margin:0px\"'></div></td>\r\n\t\t\t\t  </tr></table>\r\n\t\t\t\t  </td></tr>\r\n\t\t\t\t  <tr><td ><select style=\"width:100%\" data-dojo-attach-point=\"interest_list\" size=\"${size}\" class=\"lists\" multiple=\"multiple\" ></select></td>\r\n\t\t\t\t  <td >\r\n\t\t\t\t  <button class=\"button_add_all\"  style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"button_all\" disabled=\"true\" type=\"button\" data-dojo-attach-event=\"onClick:interest_select_all\" data-dojo-type=\"dijit/form/Button\"><div class=\"std_movement_button\">&gt;&gt;</div></button><br data-dojo-attach-point=\"button_all_line\" />\r\n\t\t\t\t  <button class=\"button_add_single\" style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"button_single\" disabled=\"true\" type=\"button\" data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:interest_select_single\"><div class=\"std_movement_button\">&gt;&nbsp;</div></button><br/>\r\n\t\t\t\t  <button class=\"button_del_all\" style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"button_del_all\" disabled=\"true\" type=\"button\" data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:interest_remove_all\"><div class=\"std_movement_button\">&lt;&lt;</div></button><br data-dojo-attach-point=\"button_del_all_line\" />\r\n\t\t\t\t  <button class=\"button_del_single\" style=\"padding:0px;margin:0px\" data-dojo-attach-point=\"button_del_single\" disabled=\"true\" type=\"button\" data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:interest_remove_single\"><div class=\"std_movement_button\">&lt;&nbsp;</div></button></td>\r\n\t\t\t\t  <td ><select style=\"width:100%\" data-dojo-attach-point=\"interest_select\" size=\"${size}\" class=\"lists\" multiple=\"multiple\" data-dojo-attach-event=\"onchange:interest_update_selection\"></select></td></tr>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/Tooltip\" data-dojo-attach-point=\"andor_tip\" data-dojo-props='showDelay:800'>\r\n\t\t<div class=\"tooltipframe\" ><b>All Search Options</b><br/>If this option is selected then the resulting search will be all the unique items in all the interests <br/>added together, if it's not checked then the result is only those items that have entries in all the interests<br/></div>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/Dialog\" data-dojo-attach-point=\"show_help_dialog\" data-dojo-props='title:\"Editing Keywords\",style:\"width:400px\"'>\r\n\t\t<div class=\"tooltipframe\" >\r\n\t\t\t<p>To add an interest search using the Select box. Once you have found the interest you want click on it and select the right pointing arrow head button</p>\r\n\t\t\t<p>To delete click on the interest in the right hand pane and then select the left pointing arrow head button</p>\r\n\t\t\t<div data-dojo-attach-event=\"onClick:_hide_help\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='label:\"Close\",style:\"float:right\"'></div></td>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","url:prcommon2/clippings/templates/output_std.html":"<div>\r\n<span class=\"common_prmax_layout\"><br/>\r\n\t<form data-dojo-attach-point=\"form_output\" data-dojo-type=\"dijit/form/Form\" data-dojo-props='onSubmit:\"return false\", style:\"height:300px;width:500px\"'>\r\n\t\t<label class=\"label_1\">Output Format</label>\r\n\t\t<label data-dojo-attach-point=\"pdf_label\">Pdf&nbsp;<input data-dojo-attach-point=\"pdf\" data-dojo-props=\"name:'reportoutputtypeid',value:'0',type:'radio',checked:true\" data-dojo-type=\"dijit/form/RadioButton\" data-dojo-attach-event=\"onClick:_change_format\"></label>\r\n\t\t<label data-dojo-attach-point=\"csv_label\">Csv&nbsp;<input data-dojo-attach-point=\"csv\" data-dojo-props=\"name:'reportoutputtypeid',value:'2',type:'radio'\" data-dojo-type=\"dijit/form/RadioButton\" data-dojo-attach-event=\"onClick:_change_format\"></label>\r\n\t\t<label data-dojo-attach-point=\"excel_label\">Excel&nbsp;<input data-dojo-attach-point=\"excel\" data-dojo-props=\"name:'reportoutputtypeid',value:'4',type:'radio'\" data-dojo-type=\"dijit/form/RadioButton\" data-dojo-attach-event=\"onClick:_change_format\"></label><br/><br/>\r\n\t\t\r\n\t\t<label class=\"label_1\">Source</label>\r\n\t\t<label data-dojo-attach-point=\"selected_label\">Selected&nbsp;<input data-dojo-attach-point=\"source_selected\" data-dojo-props=\"type:'radio',checked:true\" data-dojo-type=\"dijit/form/RadioButton\" data-dojo-attach-event=\"onClick:_change_source\"></label>\r\n\t\t<label data-dojo-attach-point=\"criteria_label\">Criteria&nbsp;<input data-dojo-attach-point=\"source_criteria\" data-dojo-props=\"type:'radio'\" data-dojo-type=\"dijit/form/RadioButton\"  data-dojo-attach-event=\"onClick:_change_source\"></label></br></br>\r\n\t\t\r\n\t\t<label data-dojo-attach-point=\"reporttitle_label\">Report Title&nbsp;</label><input data-dojo-attach-point=\"reporttitle\" data-dojo-props='style:\"width:300px\",name:\"reporttitle\",trim:true,type:\"text\"' data-dojo-type=\"dijit/form/ValidationTextBox\"></label></br></br>\r\n\r\n\t\t<label data-dojo-attach-point=\"client_label\" class=\"label_1 prmaxhidden\"></label><select data-dojo-props='\"class\":\"prmaxhidden\", placeHolder:\"No Selection\",autoComplete:true,searchAttr:\"clientname\",labelType:\"html\",style:\"width:8em\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"clientid\"></select></br>\r\n\t\t<label data-dojo-attach-point=\"issue_label\" class=\"label_1 prmaxhidden\"></label><select data-dojo-props='\"class\":\"prmaxhidden\",placeHolder:\"No Selection\",name:\"issueid\",autoComplete:true,searchAttr:\"name\",required:false,invalidMessage:\"Select\",labelType:\"html\",style:\"width:8em\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"issueid\"></select></br>\r\n\t\t<label data-dojo-attach-point=\"drange_label\" class=\"label_1 prmaxhidden\">Dates</label><div data-dojo-props='\"class\":\"prmaxhidden\"' data-dojo-type=\"prcommon2/date/daterange\" data-dojo-attach-point=\"drange\"></div></br></br>\r\n\r\n\t\t<button data-dojo-attach-event=\"onClick:_close\" data-dojo-attach-point=\"closebtn\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Close\",\"class\":\"btnleft\"'></button>\r\n\t\t<button data-dojo-attach-event=\"onClick:_do_report\" data-dojo-attach-point=\"reportbtn\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Generate\",\"class\":\"btnright\"'></button>\r\n\r\n\t\t<br/><br/>\r\n\t</form>\r\n</span>\r\n\t<div data-dojo-attach-point=\"report_dlg\" data-dojo-type=\"dijit/Dialog\" title=\"Clippings Report\" data-dojo-props='style:\"width:300px\"'>\r\n\t\t<div data-dojo-type=\"prcommon2/reports/ReportBuilder\" data-dojo-attach-point=\"report_node\"></div>\r\n\t</div>\r\n\r\n</div>\r\n","url:prcommon2/search/templates/OutletSearch.html":"<div class=\"searchform\">\r\n\t<div class=\"paddingcell\" >\r\n\t\t<form data-dojo-props='onsubmit:\"return false\",\"class\":\"prmaxtable\",name:\"std_search_outlet\",formid:\"std_search_outlet_form\"' data-dojo-attach-point=\"form_name\" data-dojo-type=\"ttl/Form2\" >\r\n\t\t<input data-dojo-props='type:\"hidden\",value:\"outlet\",name:\"search_type\"' data-dojo-type=\"dijit/form/TextBox\" />\r\n\t\t<br/>\r\n\t\t<div  data-dojo-props='usepartial:true,displayname:\"Outlet Name\",keytypeid:1,name:\"outlet_searchname\",value:\"\"' data-dojo-attach-point=\"std_search_outlet_outlet_name\" data-dojo-type=\"prcommon2/search/standard\"></div>\r\n\t\t<hr/>\r\n\t\t<div data-dojo-props='style:\"width:99%\",keytypeid:23,name:\"outlet_outlettypes\"' data-dojo-type=\"prcommon2/search/PrmaxOutletTypes\"></div>\r\n\t\t<hr/>\r\n\t\t<div data-dojo-props='style:\"width:99%\",keytypeid:6,size:8,name:\"outlet_interests\"' data-dojo-type=\"prcommon2/interests/Interests\"></div>\r\n\t\t<hr/>\r\n\t\t<div  data-dojo-type=\"prcommon2/search/SearchRoles\" data-dojo-props='keytypeid:119,name:\"outlet_roles\",style:\"width:99%\",showdefaultoption:false' data-dojo-attach-point=\"search_outlet_roles\" ></div>\r\n\t\t<hr/>\r\n\t\t<div data-dojo-props='style:\"width:99%\",keytypeid:50,name:\"outlet_coverage\"' data-dojo-attach-point=\"outlet_coverage\" data-dojo-type=\"prcommon2/geographical/Geographical\" ></div>\r\n\t\t<hr/>\r\n\t\t<div data-dojo-props='style:\"width:99%\",displayname:\"Circulation\",keytypeid:4,name:\"outlet_circulation\"' data-dojo-type=\"prcommon2/search/Circulation\"></div>\r\n\t\t<hr/>\r\n\t\t<div data-dojo-props='displayname:\"Profile\",keytypeid:102,name:\"outlet_profile\",value:\"\"' data-dojo-type=\"prcommon2/search/standard\"></div>\r\n\t\t<hr/>\r\n\t\t<div data-dojo-props='displayname:\"Frequency\",keytypeid:3,name:\"outlet_frequency\"' data-dojo-type=\"prcommon2/search/Frequency\"></div>\r\n\t\t<hr/>\r\n\t\t<div data-dojo-props='displayname:\"Publisher\",keytypeid:137,name:\"outlet_publisher\"' data-dojo-type=\"prcommon2/search/Publisher\"></div>\r\n\t\t<hr/>\r\n\t\t<div data-dojo-props='usepartial:true,displayname:\"Feature\",keytypeid:128,name:\"outlet_advance_feature\",value:\"\"' data-dojo-type=\"prcommon2/search/standard\"></div>\r\n\t\t<hr/>\r\n\t\t<div data-dojo-props='style:\"width:99%\",keytypeid:24,name:\"outlet_countryid\"' data-dojo-type=\"prcommon2/search/Countries\"></div>\r\n\t\t<input data-dojo-props='type:\"hidden\",name:\"searchtypeid\",value:1' data-dojo-attach-point=\"searchtypeid\" data-dojo-type=\"dijit/form/TextBox\"/>\r\n\t\t<input type=\"submit\" style=\"display:none\"/>\r\n\t\t</form>\r\n\t</div>\r\n</div>","url:prcommon2/clippings/templates/optionsviewer.html":"<div>\r\n\t\t<div data-dojo-attach-point=\"frame\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"left\",splitter:true,style:\"width:30%;height:100%\",\"class\":\"common_prmax_layout bordered\"'>\r\n\t\t\t<h1 style=\"text-align:center\" data-dojo-attach-point=\"heading_text\">Select Chart Options</h1>\r\n\t\t\t<form data-dojo-attach-point=\"formnode\" data-dojo-type=\"dijit/form/Form\" data-dojo-props='\"onSubmit\":\"return false\"'>\r\n\t\t\t\t<label class=\"label_align_r label_tag label_size_2\">Global Analysis</label><select data-dojo-attach-point='question' data-dojo-props='placeHolder:\"No Selection\",name:\"question\",autoComplete:true,searchAttr:\"questiontext\",labelType:\"html\",style:\"width:15em\"' data-dojo-type=\"dijit/form/FilteringSelect\"></select><br/>\r\n\r\n\t\t\t\t<label data-dojo-attach-point=\"client_label_1\" class=\"label_align_r label_tag label_size_2\">Client</label><select data-dojo-props='pageSize:20,placeHolder:\"No Selection\",name:\"clientid\",autoComplete:true,searchAttr:\"clientname\",labelType:\"html\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"clientid\" data-dojo-attach-event=\"onChange:_client_change\"></select><br/>\r\n\t\t\t\t<label data-dojo-attach-point=\"issue_label_1\" class=\"label_align_r label_tag label_size_2\">Issue</label><select data-dojo-props='pageSize:20,placeHolder:\"No Selection\",name:\"issueid\",autoComplete:true,searchAttr:\"name\",labelType:\"html\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"issueid\" ></select><br/>\r\n\t\t\t\t<label data-dojo-attach-point=\"statement_1\" class=\"label_align_r label_tag label_size_2\">Statement</label><select data-dojo-props='pageSize:20,name:\"statementid\",autoComplete:true,searchAttr:\"statementdescription\",labelType:\"html\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"statementid\" ></select><br/>\r\n\t\t\t\t<label class=\"label_align_r label_tag label_size_2\">Release</label><select data-dojo-props='pageSize:20,name:\"emailtemplateid\",autoComplete:true,searchAttr:\"emailtemplatename\",labelType:\"html\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"emailtemplateid\" ></select><br/>\r\n\r\n\r\n\t\t\t\t<label class=\"label_align_r label_tag label_size_2\">Chart View</label>\r\n\t\t\t\t\t<select data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-props='style:\"width:7em;color:black\"' data-dojo-attach-point=\"option\">\r\n\t\t\t\t\t\t<option value=0>Pie Chart</option>\r\n\t\t\t\t\t\t<option value=1>Lines Chart</option>\r\n\t\t\t\t\t</select><br/>\t\t\t\t\r\n\t\t\t\t<label class=\"label_align_r label_tag label_size_2\">Dates</label><div data-dojo-type=\"prcommon2/date/daterange\" data-dojo-attach-point=\"date_search\"></div></br>\r\n\t\t\t\t<button data-dojo-attach-event=\"onClick:_clear\" data-dojo-attach-point=\"clearbtn\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Clear\",\"class\":\"btnleft\"'></button>\r\n\t\t\t\t<button data-dojo-attach-event=\"onClick:_run_options\" data-dojo-attach-point=\"runoptionsbtn\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='type:\"button\",busyLabel:\"Please Wait Saving...\",label:\"Run\",\"class\":\"btnright\"'></button>\r\n\t\t\t\t<br/><br/><br/><br/>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t\t<div data-dojo-type=\"dijit/layout/StackContainer\" data-dojo-props='region:\"center\",splitter:true,' data-dojo-attach-point=\"chart_view_ctrl\">\r\n\t\t\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-attach-point=\"blank_view\" data-dojo-props='style:\"width:100%;height:100%\", \"class\":\"bordered\"'></div>\r\n\t\t\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"center\",splitter:true, style:\"width:100%;height:100%\", \"class\":\"bordered\"' data-dojo-attach-point=\"pie_chart_viewer\">\r\n\t\t\t\t<div style=\"height:400px;width:715px;float:left\">\r\n\t\t\t\t\t<div data-dojo-attach-point=\"pie_chart_node\" style=\"height:400px\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"center\",splitter:true, style:\"width:100%;height:100%\", \"class\":\"bordered\"' data-dojo-attach-point=\"lines_chart_viewer\">\r\n\t\t\t\t<div style=\"height:400px;width:70%;float:left\">\r\n\t\t\t\t\t<div data-dojo-attach-point=\"lines_chart_node\" style=\"height:400px\"></div>\r\n\t\t\t\t</div>\r\n\r\n\r\n\r\n\t\t\t\t<div style=\"height:400px;width:15%;float:right;margin:0 0 0 15px\" data-dojo-attach-point=\"legend_view\"><br/>\r\n\t\t\t\t\t<div data-dojo-attach-point=\"legend_node_outer\" style=\"height:400px\">\r\n\t\t\t\t\t\t<div data-dojo-attach-point=\"legend_node\" style=\"height:400px\"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\r\n\r\n\t\t\t</div>\r\n\t\t</div>\r\n</div>\r\n","url:dijit/layout/templates/_ScrollingTabControllerButton.html":"<div data-dojo-attach-event=\"ondijitclick:_onClick\" class=\"dijitTabInnerDiv dijitTabContent dijitButtonContents\"  data-dojo-attach-point=\"focusNode\" role=\"button\">\r\n\t<span role=\"presentation\" class=\"dijitInline dijitTabStripIcon\" data-dojo-attach-point=\"iconNode\"></span>\r\n\t<span data-dojo-attach-point=\"containerNode,titleNode\" class=\"dijitButtonText\"></span>\r\n</div>","url:dijit/layout/templates/TabContainer.html":"<div class=\"dijitTabContainer\">\r\n\t<div class=\"dijitTabListWrapper\" data-dojo-attach-point=\"tablistNode\"></div>\r\n\t<div data-dojo-attach-point=\"tablistSpacer\" class=\"dijitTabSpacer ${baseClass}-spacer\"></div>\r\n\t<div class=\"dijitTabPaneWrapper ${baseClass}-container\" data-dojo-attach-point=\"containerNode\"></div>\r\n</div>\r\n","url:prcommon2/clippings/analysis/templates/edit.html":"<div>\r\n\t<div data-dojo-attach-point=\"borderControl\" data-dojo-type=\"dijit/layout/BorderContainer\"  style=\"width:100%;height:100%;overflow: hidden\" data-dojo-props=\"gutters:false\">\r\n\t\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-attach-point=\"controls\" data-dojo-props='region:\"top\",style:\"height:44px;width:100%;overflow:hidden\"'>\r\n\t\t\t<div data-dojo-type=\"dijit/Toolbar\" data-dojo-props='style:\"height:99%;width:100%;padding:0px;margin:0px\"'>\r\n\t\t\t\t<div data-dojo-attach-point=\"save_analysis_btn\" data-dojo-attach-event=\"onClick:_save\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='iconClass:\"fa fa-floppy-o fa-3x\",label:\"Update Analysis\"'></div>\r\n\t\t\t\t<div data-dojo-attach-point=\"upd_analysis_btn\" data-dojo-attach-event=\"onClick:_update\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='iconClass:\"fa fa-cog fa-3x\",label:\"Setup Analysis\",\"class\":\"prmaxhidden\"'></div>\r\n \t\t\t</div>\r\n\t\t</div>\r\n\t\t<div data-dojo-type=\"dijit/layout/StackContainer\" data-dojo-props='region:\"center\",splitter:false' data-dojo-attach-point=\"analysis_view_ctrl\">\r\n\t\t\t<div data-dojo-attach-point=\"display_zone\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='style:\"width:100%;height:100%\",selected:\"selected\"'></div>\r\n\t\t\t<div data-dojo-attach-point=\"edit_zone\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='style:\"width:100%;height:100%\"'></div>\r\n\t</div>\r\n</div>\r\n","url:prcommon2/clippings/templates/emails.html":"<div>\r\n    <form data-dojo-attach-point=\"form\" data-dojo-type=\"dijit/form/Form\" data-dojo-props='\"onSubmit\":\"return false\"'>\r\n        <table width=\"100%\" class=\"prmaxtable\" >\r\n            <tr><td align=\"right\" width=\"15%\" class=\"prmaxrowtag\"><label>Subject</label></td><td><input data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-attach-point=\"emailsubject\" data-dojo-props='placeHolder:\"Enter Email Subject\",required:true,name:\"emailsubject\",trim:true,type:\"text\",style:\"width:300px\"'></td></tr>\r\n            <tr><td align=\"right\" width=\"15%\" class=\"prmaxrowtag\"><label>From</label></td><td><span><select data-dojo-props='name:\"fromemailaddress\",autoComplete:true,labelType:\"html\", style:\"width:300px\",required:true,placeHolder:\"Select from email\"' data-dojo-type=\"dijit/form/Select\" data-dojo-attach-point=\"customeremailserverid\" ></select></span>\r\n            <span style=\"margin-left:10px\"><button data-dojo-attach-event=\"onClick:_add_server\" data-dojo-type=\"dijit.form.Button\" data-dojo-props='type:\"button\",\"class\":\"prmaxdefault\"' >Add</button><br/></span>\r\n            </td></tr>\r\n            <tr><td align=\"right\" width=\"15%\" class=\"prmaxrowtag\"><label>To</label></td><td><input data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-attach-point=\"toemailaddress\" data-dojo-props='placeHolder:\"Enter Email Address\",required:true,name:\"toemailaddress\",trim:true,type:\"text\",style:\"width:300px\"'></td></tr>\r\n            <tr><td align=\"right\" width=\"15%\" class=\"prmaxrowtag\"><label>Header</label></td><td><span><select data-dojo-props='name:\"emailheaderid\",autoComplete:true,labelType:\"html\",style:\"width:300px\"' data-dojo-type=\"dijit/form/Select\" data-dojo-attach-point=\"emailheaderid\" ></select></span>\r\n            <span style=\"margin-left:10px\"><button data-dojo-attach-event=\"onClick:_add_header\" data-dojo-type=\"dijit.form.Button\" data-dojo-props='type:\"button\",\"class\":\"prmaxdefault\"' >Add</button><br/></span>\r\n            </td></tr>\r\n            <tr><td align=\"right\" width=\"15%\" class=\"prmaxrowtag\"><label>Footer</label></td><td><span><select data-dojo-props='name:\"emailfooterid\",autoComplete:true,labelType:\"html\",style:\"width:300px\"' data-dojo-type=\"dijit/form/Select\" data-dojo-attach-point=\"emailfooterid\" ></select></span>\r\n            <span style=\"margin-left:10px\"><button data-dojo-attach-event=\"onClick:_add_footer\" data-dojo-type=\"dijit.form.Button\" data-dojo-props='type:\"button\",\"class\":\"prmaxdefault\"' >Add</button><br/></span>\r\n            </td></tr>\r\n            <tr><td align=\"right\" width=\"15%\" class=\"prmaxrowtag\"><label>Layout</label></td><td><span><select data-dojo-props='name:\"emaillayoutid\",autoComplete:true,labelType:\"html\",style:\"width:300px\"' data-dojo-type=\"dijit/form/Select\" data-dojo-attach-point=\"emaillayoutid\" ></select></span>\r\n            </td></tr>\r\n            <tr><td class=\"prmaxrowtag\" colspan=\"2\" align=\"right\"><button data-dojo-attach-event=\"onClick:_send\" data-dojo-attach-point=\"sendbtn\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='iconClass:\"fa fa-envelope-o fa-2x\",type:\"button\",busyLabel:\"Please Wait Sending...\",label:\"Send\",\"class\":\"btnright\"'></button></td></tr>\r\n        </table></br></br>\r\n    </form>\r\n    <div data-dojo-type=\"dijit.Dialog\" data-dojo-attach-point=\"add_server_dialog\" data-dojo-props='title:\"Add Email Server\"'>\r\n        <div data-dojo-type=\"prcommon2.clippings.add_server\" data-dojo-props='style:\"width:500px;height:240px\"' data-dojo-attach-point=\"add_server_ctrl\"></div>\r\n    </div>\r\n    <div data-dojo-type=\"dijit.Dialog\" data-dojo-attach-point=\"add_header_dialog\" data-dojo-props='title:\"Add Email Header\",style:\"width:400px;height:300px\"'>\r\n        <div data-dojo-type=\"prcommon2.clippings.add_header\" data-dojo-attach-point=\"add_header_ctrl\"></div>\r\n    </div>\r\n    <div data-dojo-type=\"dijit.Dialog\" data-dojo-attach-point=\"add_footer_dialog\" data-dojo-props='title:\"Add Email Footer\",style:\"width:400px;height:300px\"'>\r\n        <div data-dojo-type=\"prcommon2.clippings.add_footer\" data-dojo-attach-point=\"add_footer_ctrl\"></div>\r\n    </div>\r\n    <div data-dojo-type=\"dijit.Dialog\" data-dojo-attach-point=\"add_layout_dialog\" data-dojo-props='title:\"Add Email Layout\",style:\"width:300px;height:100px\"'>\r\n        <div data-dojo-type=\"prcommon2.clippings.add_layout\" data-dojo-attach-point=\"add_layout_ctrl\"></div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n","url:dijit/form/templates/DropDownButton.html":"<span class=\"dijit dijitReset dijitInline\"\r\n\t><span class='dijitReset dijitInline dijitButtonNode'\r\n\t\tdata-dojo-attach-event=\"ondijitclick:__onClick\" data-dojo-attach-point=\"_buttonNode\"\r\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\r\n\t\t\tdata-dojo-attach-point=\"focusNode,titleNode,_arrowWrapperNode,_popupStateNode\"\r\n\t\t\trole=\"button\" aria-haspopup=\"true\" aria-labelledby=\"${id}_label\"\r\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\"\r\n\t\t\t\tdata-dojo-attach-point=\"iconNode\"\r\n\t\t\t></span\r\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\r\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\r\n\t\t\t\tid=\"${id}_label\"\r\n\t\t\t></span\r\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\"></span\r\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\r\n\t\t></span\r\n\t></span\r\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\r\n\t\tdata-dojo-attach-event=\"onclick:_onClick\" data-dojo-attach-point=\"valueNode\" aria-hidden=\"true\"\r\n/></span>\r\n","url:prcommon2/clippings/templates/dashboardsettings.html":"<div>\r\n\t<div data-dojo-attach-point=\"frame\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"left\",splitter:true,style:\"width:100%;height:100%\",\"class\":\"common_prmax_layout bordered\"'>\r\n\t\t<h1 style=\"text-align:center\" data-dojo-attach-point=\"heading_text\">Select Chart Options</h1>\r\n\t\t<form data-dojo-attach-point=\"formnode\" data-dojo-type=\"dijit/form/Form\" data-dojo-props='\"onSubmit\":\"return false\"'>\r\n\t\t\t<label class=\"label_align_r label_tag label_size_2\">Select window</label>\r\n\t\t\t<table>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td><button style=\"width:80px\" data-dojo-attach-event=\"onClick:_win1\" data-dojo-attach-point=\"winbtn1\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Window 1\",\"class\":\"btnleft\"'></button></td>\r\n\t\t\t\t\t<td><button style=\"width:80px\" data-dojo-attach-event=\"onClick:_win2\" data-dojo-attach-point=\"winbtn2\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Window 2\",\"class\":\"btnleft\"'></button></td>\r\n\t\t\t\t\t<td><button style=\"width:80px\" data-dojo-attach-event=\"onClick:_win3\" data-dojo-attach-point=\"winbtn3\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Window 3\",\"class\":\"btnleft\"'></button><br/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td><button style=\"width:80px\" data-dojo-attach-event=\"onClick:_win4\" data-dojo-attach-point=\"winbtn4\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Window 4\",\"class\":\"btnleft\"'></button></td>\r\n\t\t\t\t\t<td><button style=\"width:80px\" data-dojo-attach-event=\"onClick:_win5\" data-dojo-attach-point=\"winbtn5\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Window 5\",\"class\":\"btnleft\"'></button></td>\r\n\t\t\t\t\t<td><button style=\"width:80px\" data-dojo-attach-event=\"onClick:_win6\" data-dojo-attach-point=\"winbtn6\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Window 6\",\"class\":\"btnleft\"'></button><br/></td>\r\n\t\t\t\t</tr>\r\n\t\t\t</table>\r\n\t\t\t<br/>\r\n\t\t\t<label class=\"label_align_r label_tag label_size_2\">Mode</label><select data-dojo-attach-point=\"dashboardsettingsmodeid\" data-dojo-props='style:\"width:10em\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-event=\"onChange:_change_mode\"></select>\r\n\t\t\t<label class=\"label_align_r label_tag label_size_3\" data-dojo-attach-point=\"dashboardsettingsstandardlabel\">Option</label><select data-dojo-attach-point=\"dashboardsettingsstandardid\" data-dojo-props='style:\"width:12em\"' data-dojo-type=\"dijit/form/FilteringSelect\"></select>\r\n\t\t\t<label class=\"label_align_r label_tag label_size_3\" data-dojo-attach-point=\"dashboardsettingsstandardsearchbylabel\">Results By</label><select data-dojo-attach-point=\"dashboardsettingsstandardsearchbyid\" data-dojo-props='style:\"width:12em\"' data-dojo-type=\"dijit/form/FilteringSelect\"></select>\r\n\t\t\t<label class=\"label_align_r label_tag label_size_3 prmaxhidden\" data-dojo-attach-point=\"questionlabel\">Question</label><select data-dojo-attach-point='questionid' data-dojo-props='placeHolder:\"No Selection\",style:\"width:12em\",\"class\":\"prmaxhidden\"' data-dojo-type=\"dijit/form/FilteringSelect\"></select><br/>\r\n\t\t\t<label class=\"label_align_r label_tag label_size_2\">Chart View</label><select data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-props='style:\"width:10em;color:black\"' data-dojo-attach-point=\"chartviewid\" data-dojo-attach-event=\"onChange:_chartview_change\"></select><br/><br/><br/>\r\n\t\t\t\r\n\t\t\t<label class=\"label_align_r label_tag label_size_2\">Data Filters:</label><br/>\r\n\t\t\t<label class=\"label_align_r label_tag label_size_2\">Dates</label><select data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-props='style:\"width:10em;color:black\"' data-dojo-attach-point=\"daterangeid\"  data-dojo-attach-event=\"onChange: _change_daterange\"></select>\r\n\t\t\t<label class=\"label_align_r label_tag label_size_3\" data-dojo-attach-point=\"groupby_label\">Group by</label><select data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-props='style:\"width:12em;color:black\"' data-dojo-attach-point=\"groupbyid\"></select><br/>\r\n\t\t\t<label class=\"label_align_r label_tag label_size_2\" data-dojo-attach-point=\"by_client_label\">By Client</label><input data-dojo-attach-point=\"by_client\" data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='\"class\":\"prmaxdefault\",type:\"checkbox\"' data-dojo-attach-event=\"onClick: _by_client\"/>\r\n\t\t\t<label data-dojo-attach-point=\"client_label_1\" class=\"label_align_r label_tag label_size_3 prmaxhidden\">Client</label><select data-dojo-props='pageSize:20,placeHolder:\"No Selection\",name:\"clientid\",autoComplete:true,searchAttr:\"clientname\",labelType:\"html\",\"class\":\"prmaxhidden\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"clientid\" data-dojo-attach-event=\"onChange:_client_change\"></select><br/>\r\n\t\t\t<label class=\"label_align_r label_tag label_size_2\" data-dojo-attach-point=\"by_issue_label\">By Issue</label><input data-dojo-attach-point=\"by_issue\" data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='\"class\":\"prmaxdefault\",type:\"checkbox\"' data-dojo-attach-event=\"onClick: _by_issue\"/>\r\n\t\t\t<label data-dojo-attach-point=\"issue_label_1\" class=\"label_align_r label_tag label_size_3 prmaxhidden\">Issue</label><select data-dojo-props='pageSize:20,placeHolder:\"No Selection\",name:\"issueid\",autoComplete:true,searchAttr:\"name\",labelType:\"html\",\"class\":\"prmaxhidden\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"issueid\" ></select><br/><br/>\r\n\t\t\t\r\n\t\t\t</br>\r\n\t\t\t<button data-dojo-attach-event=\"onClick:_clear\" data-dojo-attach-point=\"clearbtn\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Clear\",\"class\":\"btnleft\"'></button>\r\n\t\t\t<button data-dojo-attach-event=\"onClick:_save_settings\" data-dojo-attach-point=\"savesettingsbtn\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='type:\"button\",busyLabel:\"Please Wait Saving...\",label:\"Save\",\"class\":\"btnright\"'></button>\r\n\t\t\t<br/><br/><br/><br/>\r\n\t\t</form>\r\n\t</div>\r\n</div>\r\n","*now":function(r){r(["dojo/i18n!*preload*dojo/nls/prmaxclippings*[\"ar\",\"ca\",\"cs\",\"da\",\"de\",\"el\",\"en-gb\",\"en-us\",\"es-es\",\"fi-fi\",\"fr-fr\",\"he-il\",\"hu\",\"it-it\",\"ja-jp\",\"ko-kr\",\"nl-nl\",\"nb\",\"pl\",\"pt-br\",\"pt-pt\",\"ru\",\"sk\",\"sl\",\"sv\",\"th\",\"tr\",\"zh-tw\",\"zh-cn\",\"ROOT\"]"]);}}});define("dojo/prmaxclippings",[],1);