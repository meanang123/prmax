/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["prcommon.crm.solidsocial.addsearchprofile"]){dojo._hasResource["prcommon.crm.solidsocial.addsearchprofile"]=true;dojo.provide("prcommon.crm.solidsocial.addsearchprofile");dojo.require("prcommon.documents.adddialog");dojo.declare("prcommon.crm.solidsocial.addsearchprofile",[ttl.BaseWidget],{widgetsInTemplate:true,templateString:"<div >\r\n\t<div data-dojo-type=\"dijit.layout.ContentPane\"  data-dojo-props='style:\"width:600px;height:600px\",\"class\":\"common_prmax_layout\"'>\r\n\t<br/>\r\n\t\t<form data-dojo-attach-point=\"form\" data-dojo-type=\"dijit.form.Form\" data-dojo-props='onSubmit:\"return false\",style:\"padding:0px;margin:0px\"'>\r\n\t\t\t<input data-dojo-props='name:\"issueid\",type:\"hidden\",value:\"-1\"' data-dojo-attach-point=\"issueid\" data-dojo-type=\"dijit.form.TextBox\"/><br/>\r\n\t\t\t<label class=\"label_2\">Keywords</label><input data-dojo-attach-point=\"keywords\" data-dojo-props='name:\"keywords\",type:\"text\",required:true,trim:true,style:\"float:left\"' data-dojo-type=\"dijit.form.ValidationTextBox\"/><br/>\r\n\t\t\t<br/>\r\n\t\t\t<button data-dojo-attach-event=\"onClick:_close\" data-dojo-attach-point=\"closebtn\" data-dojo-type=\"dijit.form.Button\" data-dojo-props='type:\"button\",label:\"Close\",\"class\":\"btnleft prmaxhidden\"'></button><button data-dojo-attach-event=\"onClick:_save\" data-dojo-attach-point=\"savebtn\" data-dojo-type=\"dojox.form.BusyButton\" data-dojo-props='type:\"button\",busyLabel:\"Please Wait Adding...\",label:\"Add\",\"class\":\"btnright\"'></button>\r\n\t\t</form>\r\n\t</div>\r\n</div>\r\n",constructor:function(){this._save_call_back=dojo.hitch(this,this._save_call);this._dialog=null;},postCreate:function(){this.inherited(arguments);},clear:function(){},_close:function(){this._clear();if(this._dialog){this._dialog.hide();}},load:function(_1){this.issueid.set("value",_1);},_save:function(){var _2=this.form.get("value");dojo.xhrPost(ttl.utilities.makeParams({load:this._save_call_back,url:"/crm/issues/addsearchprofile",content:_2}));},_save_call:function(_3){if(_3.success=="OK"){this._close();dojo.publish("/crm/issue/profile_new",[this.issueid.get(value)]);}else{alert("Problem adding");this.savebtn.cancel();}}});}