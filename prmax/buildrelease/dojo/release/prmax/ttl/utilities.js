/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["ttl.utilities"]){dojo._hasResource["ttl.utilities"]=true;dojo.provide("ttl.utilities");dojo.require("dojo.number");ttl.utilities.gotoDialogPageStatic=function(_1){ttl.utilities.openPage(_1,"_newtab");};ttl.utilities.openCommonPage=function(_2){ttl.utilities.openPage(_2,"_newtab");};ttl.utilities.openPage=function(_3,_4){var _5=_4;if(dojo.isIE){_5="_blank";}var _6=window.open(_3,_5,"alwaysRaised status=0,menubar=0,resizable=1,width=640,height=480,scrollbars=1,addressbar=0,location=1");_6.resizeTo(640,480);_6.focus();};ttl.utilities.testPopUpBlocker=function(){var _7=false;var _8=window.open("http://localhost/start","","directories=no,height=100,width=100,menubar=no,resizable=no,scrollbars=no,status=no,titlebar=no,top=0,location=no");if(_8){_8.close();}else{_7=true;}return _7;};ttl.utilities.openStdWindow=function(_9,_a){var _b=_a;if(dojo.isIE){_b="_blank";}var _c=window.open(_9,_b);_c.focus();};ttl.utilities.defaultParams={preventCache:true,timeout:30000,handleAs:"json",url:"/error"};ttl.utilities.makeParams=function(_d){var _e=dojo.mixin(ttl.utilities.defaultParams,_d||{});if(_e["error"]==null){_e["error"]=ttl.utilities.xhrPostError;}return _e;};ttl.utilities.makeParamsIgnore=function(_f){var res=dojo.mixin(ttl.utilities.defaultParams,_f||{});res["error"]=ttl.utilities.globalerrorchecker;return res;};ttl.utilities.unescapeHtml=function(str){str=str.replace(/&amp;/gm,"&").replace(/&lt;/gm,"<").replace(/&gt;/gm,">").replace(/&quot;/gm,"\"");str=str.replace(/&#39;/gm,"'");return str;};ttl.utilities.stdFormClearFunction=function(e){if(typeof (this[e])!="undefined"){if(this[e].type=="text"){this[e].setValue("");}if(this[e].type=="checkbox"){this[e].setValue(false);}}};ttl.utilities.xhrPostError=function(_10,_11){ttl.utilities.errorchecker(_10);if(TTL.isDebug==false){return;}try{alert("Problem with call to server :\nstatus: "+_10.status+"\nmessage :"+_10.message+"\nresponseText :"+_10.responseText);}catch(e){alert("Problem with call to server\n"+_10);}};ttl.utilities.errorchecker=function(_12){var _13=false;try{if(_12.status==403){_13=true;}}catch(a){}if(_13){window.location.href="/login";throw "Security Failure";}};ttl.utilities.globalerrorchecker=function(){if(arguments.length==3){ttl.utilities.errorchecker(arguments[1]);}else{if(arguments.length==2){ttl.utilities.errorchecker(arguments[0]);}}};ttl.utilities.onDownloadError=function(_14){ttl.utilities.errorchecker(_14);return this.errorMessage;};ttl.utilities.callFailedError=function(_15){if(TTL.isDebug==false){return;}try{alert("Problem :\nError: "+_15.data.error);}catch(e){alert("Problem with call to server\n"+_15);}};ttl.utilities.showMessageStd=function(_16,_17){var _18=dijit.byId("toast");if(_18){_18.contentNode.innerHTML="";_18.setContent(_16,"message",_17||1000);_18.show();}};ttl.utilities.showMessageError=function(_19){var _1a=dijit.byId("toast");if(_1a){_1a.contentNode.innerHTML="";_1a.setContent(_19,"error",0);_1a.show();}};ttl.utilities.hideMessage=function(){var _1b=dijit.byId("toast");if(_1b){_1b.hide();_1b.contentNode.innerHTML="";}};ttl.utilities.isNumber=function(_1c){var ok=true;var str=_1c;var re=/^[-]?\d*\.?\d*$/;str=str.toString();if(!str.match(re)){ok=false;}try{parseFloat(_1c);}catch(e){ok=false;}return ok;};ttl.utilities.getOuterSize=function(_1d){var c=dojo.coords(_1d);c.x=c.y=c.l=c.t=0;return c;};ttl.utilities.resize=function(obj){var c=this.getOuterSize(obj.parentNode||obj.parent);obj.domNode.style.height=c.h+"px";};ttl.utilities.formValidator=function(_1e){var _1f=null;return dojo.every(_1e.getDescendants(),function(_20){if(_20.get("disabled")==true){return true;}var _21=!_20.isValid||_20.isValid();if(_21==false){if(_20.isFocusable()){try{_20.focus();}catch(e){}}else{_21=true;}}return _21;});};ttl.utilities.getPreventCache=function(_22){return dojo.mixin({"dojo.preventCache":new Date().valueOf()},_22||{});};ttl.utilities.getTabButton=function(_23,_24){var _25=null;for(var x=0;x<_23.tablist._buttons.length;x++){if(x==_24){_25=_23.tablist._buttons[x];break;}}return _25;};ttl.utilities.round_decimals=function(_26,_27){var _28=_26*Math.pow(10,_27);var _29=Math.round(_28);var _2a=_29/Math.pow(10,_27);return ttl.utilities.pad_with_zeros(_2a,_27);};ttl.utilities.pad_with_zeros=function(_2b,_2c){var _2d=_2b.toString();var _2e=_2d.indexOf(".");if(_2e==-1){decimal_part_length=0;_2d+=_2c>0?".":"";}else{decimal_part_length=_2d.length-_2e-1;}var _2f=_2c-decimal_part_length;if(_2f>0){for(var _30=1;_30<=_2f;_30++){_2d+="0";}}return _2d;};ttl.utilities.formatButtonCell=function(_31){if(_31==true){return "<i class=\"fa fa-check\" style=\"color:blue\"></i>";}else{return "<i class=\"fa fa-check\" style=\"color:#f6f6f6\"></i>";}};ttl.utilities.outletType=function(_32){if(_32==null){return "...";}var _33="";switch(_32){case "national":_33="blue";break;case "regional":_33="green";break;case "business":_33="yellow";break;case "consumer":_33="orange";break;case "television":_33="purple";break;case "radio":_33="black";break;case "internet":_33="pink";break;case "news":_33="indigo";break;case "others":_33="white";break;case "freelance":_33="white";break;case "parliamentary":_33="gray";break;}return "<div style='background-color:"+_33+";width:6px;height:100%'>&nbsp;</div>";};ttl.utilities.formatRowCtrl=function(_34){return "<i class=\"fa fa-chevron-right\"></i>";};ttl.utilities.formatRowCtrlExists=function(_35){if(_35==true){return "<i class=\"fa fa-chevron-right\"></i>";}else{return "&nbsp;";}};ttl.utilities.format_row_ctrl=function(_36){return "<i class=\"fa fa-bars\" ></i>";};ttl.utilities.formatRowCtrlLarge=function(_37){return "<i class=\"fa fa-chevron-right fa-lg\"></i>";};ttl.utilities.formatDeletedCtrl=function(_38){if(_38==2){return "<i class=\"fa fa-times\" style=\"color:red\"></i>";}else{return "&nbsp;";}};ttl.utilities.deleteRowCtrl=function(_39){return "<i class=\"fa fa-times\" style=\"color:red\"></i>";};ttl.utilities.editRowCtrl=function(_3a){return "<img height=\"10px\" width=\"10px\" style=\"padding:0x;margin:0px\" src=\"/prcommon/images/edit.gif\"></img>";};ttl.utilities.formatCopyCtrl=function(_3b){return "<img height=\"10px\" width=\"10px\" style=\"padding:0x;margin:0px\" src=\"/prcommon/images/copy.gif\"></img>";};ttl.utilities.add_new_line=function(_3c){return _3c?_3c.replace("====","<br />"):"";};ttl.utilities.toJsonDate=function(_3d){if(_3d==null){return "";}else{return _3d.getFullYear()+"-"+(_3d.getMonth()+1)+"-"+_3d.getDate();}};ttl.utilities.toJsonDate2=function(_3e){if(_3e==null){return "";}else{var y=_3e.getFullYear();}var m=_3e.getMonth()+1;var d=_3e.getDate();return y+"-"+(m<=9?"0"+m:m)+"-"+(d<=9?"0"+d:d);};ttl.utilities.toJsonTime=function(_3f){if(_3f==null){return "";}else{return _3f.getHours()+":"+_3f.getMinutes()+":"+_3f.getSeconds();}};ttl.utilities.fromJsonDate=function(_40){if(_40==null||_40===""){return new Date();}else{var f=_40.split("-");return new Date(parseInt(f[0]),parseInt(f[1])-1,parseInt(f[2]));}};ttl.utilities.fromObjectDate=function(_41){if(_41==null||_41===""){return new Date();}else{return new Date(new Date(_41.year,_41.month-1,_41.day));}};ttl.utilities.parseDate=function(_42){var _43=null;var tmp=_42.split("/");if(tmp.length<3){tmp=_42.split("-");}if(tmp.length==3){_43=new Date(parseInt(tmp[2]),parseInt(tmp[1])-1,parseInt(tmp[0]));}return _43;};ttl.utilities.getModelItem=function(){if(arguments[0].i.i!=null){this.tmp_row=arguments[0].i;}else{this.tmp_row=arguments[0];}};ttl.utilities.sleepStupidly=function(_44){var _45=new Date().getTime()+_44;while(new Date().getTime()<_45){}};ttl.utilities.open_close_panel=function(_46,pid){var _47=dojo.byId(pid);var _48=dojo.style(_47,"display")=="block"?"none":"block";dojo.style(_47,"display",_48);_46.src=_48=="block"?"<i class=\"fa-minus-circle\"></i>":"<i class=\"fa-plus-circle\"></i>";};ttl.utilities.formatContactInfo=function(_49){if(isNaN(_49)){return "...";}else{if(_49!=-1){return "<img src='/static/images/private.gif' width='10' height='10' style='padding:0px;margin:0px'/>";}else{return "";}}};ttl.utilities.Display_Money=function(_4a){if(isNaN(_4a)){return "...";}else{try{return dojo.number.format(parseFloat(_4a),{places:2});}catch(e){return "0.00";}}};ttl.utilities.documentExists=function(_4b){if(_4b==null){return "...";}if(_4b==true){return "<img src='/static/images/pdf.gif' width='16' height='16' style='padding:0px;margin:0px'/>";}return "";};ttl.utilities.genericView=function(_4c){if(_4c==null){return "...";}if(_4c==true){return "<img src='/static/images/view.png' width='16' height='16' style='padding:0px;margin:0px'/>";}return "";};ttl.utilities.pdfView=function(_4d){return "<img src='/static/images/view.png' width='16' height='16' style='padding:0px;margin:0px'/>";};ttl.utilities.formatMb=function(_4e){if(_4e==null){return "...";}return dojo.number.format(parseFloat(_4e)/1000000,{places:2})+"MB";};ttl.utilities.jscDate=function(_4f){return new Date(_4f.getFullYear(),_4f.getMonth(),_4f.getDate(),0,0,0,0);};ttl.utilities.Display_Int_Money=function(_50){try{return dojo.number.format(parseFloat(_50)/100,{places:2});}catch(e){return "0.00";}};ttl.utilities.fonticon=function(_51){if(_51==null){return "...";}var _52="";switch(_51){case "News":_52="fa fa-newspaper-o";break;case "Twitter":_52="fa fa-twitter-square";break;case "Facebook":_52="fa fa-facebook-square";break;case "Forums":_52="fa fa-forumbee";break;case "Blogs":_52="fa fa-bold";break;case "Instagram":_52="fa fa-instagram";break;case "YouTube":_52="fa fa-youtube-square";break;case "GooglePlus":_52="fa fa-google-plus-official";break;case "Tumblr":_52="fa fa-tumblr-square";break;case "VKontakte":_52="fa fa-check-square";break;case "Chat":_52="fa fa-weixin";break;}return "<div class='"+_52+" fa-lg';width:6px;height:100%'>&nbsp;</div>";};}