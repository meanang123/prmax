/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["prmax.employee.ChangeEmployee"]){dojo._hasResource["prmax.employee.ChangeEmployee"]=true;dojo.provide("prmax.employee.ChangeEmployee");dojo.require("dijit._Templated");dojo.require("dijit._Widget");dojo.require("dijit._Container");dojo.require("prcommon.interests.Interests");dojo.require("ttl.utilities");dojo.declare("prmax.employee.ChangeEmployee",[ttl.BaseWidget],{outletid:-1,employeeid:-1,current:"",widgetsInTemplate:true,templateString:"<div>\r\n<form dojoAttachPoint=\"formNode\" dojoType=\"dijit.form.Form\">\r\n <table style=\"width:98%;border-collapse:collapse;\" cellspacing=\"0\" cellpadding=\"0\" border=\"1\">\r\n <tr><td width=\"30%\">Currently Selected Contact</td><td>${current}</td></tr>\r\n <tr><td width=\"30%\" colspan=2\">&nbsp;</td></tr>\r\n <tr><td colspan=\"2\">\r\n <select style=\"width:100%\" size=25 multiple='true' name=\"select\" dojoAttachPoint=\"select\"></select></td></tr>\r\n<tr><td colspan=\"2\" align=\"right\"><button disabled=\"disabled\" dojoAttachPoint=\"saveNode\" type=\"submit\" dojoType=\"dojox.form.BusyButton\" type=\"submit\" busyLabel=\"Please Wait Saving...\" label=\"Save\"></button></td></tr>\r\n</table></form>\r\n</div>\r\n",constructor:function(){this._LoadCall=dojo.hitch(this,this._Load);},startup:function(){dojo.xhrPost(ttl.utilities.makeParams({load:this._LoadCall,url:"/employees/listcombo",content:{outletid:this.outletid,limit:10000,offset:0}}));this.inherited(arguments);},_Load:function(_1){for(var _2 in _1.items){var _3=_1.items[_2];this.select.options[this.select.options.length]=new Option(_3.contactname,_3.employeeid);if(_3.employeeid==this.employeeid){this.select.options[this.select.options.length-1].selected=true;}}this.saveNode.set("disabled",false);},_Saved:function(_4,_5){this.saveNode.set("disabled",false);},Load:function(){},Save:function(){},Clear:function(){}});}