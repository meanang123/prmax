/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["prmax.dataadmin.employees.ContactInterests"]){dojo._hasResource["prmax.dataadmin.employees.ContactInterests"]=true;dojo.provide("prmax.dataadmin.employees.ContactInterests");dojo.declare("prmax.dataadmin.employees.ContactInterests",[prcommon.search.std_search,ttl.BaseWidget],{widgetsInTemplate:true,templateString:"<div style=\"width:500px\" >\r\n\t<form  class=\"prmaxdefault\" dojoAttachPoint=\"form\" dojoType=\"dijit.form.Form\" onsubmit=\"return false;\">\r\n\t\t<table width=\"100%\" class=\"prmaxtable\" cellpadding=\"0\" cellspacing=\"0\"  border =\"0\">\r\n\t\t\t<tr><td align=\"left\" class=\"prmaxrowtag\" width=\"40%\"></td><td></td><tr>\r\n\t\t\t<tr><td colspan=\"2\"><div style=\"width:99%\" keytypeid=\"-1\" restrict=\"0\" size=\"8\" name=\"interests\" startopen=\"true\" selectonly=\"true\" dojoType=\"prcommon.interests.Interests\"></div></td></tr>\r\n\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Remove Existing Keywords</td><td><input name=\"append_mode\" dojoType=\"dijit.form.CheckBox\" dojoAttachPoint=\"append_mode\" name=\"append_mode\"></td></tr>\r\n\t\t\t<tr><td colspan=\"2\">&nbsp;</td></tr>\r\n\t\t\t<tr><td colspan=\"2\" align=\"right\"><button dojoType=\"dijit.form.Button\" type=\"submit\" name=\"submit\">Change Contact Keywords</button></td></tr>\r\n\t\t</table>\r\n\t</form>\r\n</div>\r\n",constructor:function(){this._ChangedCallBack=dojo.hitch(this,this._ChangedCall);},postCreate:function(){dojo.connect(this.form,"onSubmit",dojo.hitch(this,this._ChangeInterests));this.inherited(arguments);},_ChangeInterests:function(){if(confirm("Change Keywords from the Selected Contact to these Keywords")){dojo.xhrPost(ttl.utilities.makeParams({load:this._ChangedCallBack,url:"/employees/research_contact_interests",content:this.form.get("value")}));}},_ChangedCall:function(_1){if(_1.success=="OK"){alert("Contact Keywords Changed");dojo.publish(PRCOMMON.Events.Dialog_Close,["contact_int_ch"]);}else{alert("Problem Changing Contact Keywords");}}});}