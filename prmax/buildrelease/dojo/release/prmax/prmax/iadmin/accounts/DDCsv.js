/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["prmax.iadmin.accounts.DDCsv"]){dojo._hasResource["prmax.iadmin.accounts.DDCsv"]=true;dojo.provide("prmax.iadmin.accounts.DDCsv");dojo.require("ttl.BaseWidget");dojo.declare("prmax.iadmin.accounts.DDCsv",[ttl.BaseWidget],{widgetsInTemplate:true,templateString:"<div>\r\n\t<form target=\"_newtab\" action=\"/iadmin/payment_dd_csv\" dojoAttachEvent=\"onsubmit:_CreateCsv\" >\r\n\t\t<table width=\"700px\" cellpadding=\"0\" cellpadding=\"0\" >\r\n\t\t\t<tr><td colspan=\"2\"><div class=\"prmaxrowdisplaylarge\" style=\"text-align:center;display:inline\">Create DD Csv </div></td>\r\n\t\t\t<tr><td class=\"prmaxrowlabel\" align=\"right\" >DD Day</td><td><select data-dojo-props='\"class\":\"prmaxrequired\",required:\"true\",name:\"pay_montly_day\",autoComplete:\"true\",style:\"width:3em\"' data-dojo-attach-point=\"pay_montly_day\" data-dojo-type=\"dijit.form.FilteringSelect\" ><option value=\"1\">1</option><option value=\"8\">8</option><option value=\"15\">15</option><option value=\"22\">22</option></select></td></tr>\r\n\t\t\t<tr><td colspan=\"2\"><br/><br/><br/></td></tr>\r\n\t\t\t<tr><td><button data-dojo-props='type:\"button\",label:\"Reset Monthly Figures\"' data-dojo-type=\"dijit.form.Button\" data-dojo-attach-event=\"onClick:_ClearDown\" ></button></td>\r\n\t\t\t<td class=\"prmaxrowlabel\" align=\"left\"><button type=\"submit\" dojoType=\"dijit.form.Button\" label=\"Create DD Csv\" ></button></td>\r\n\t\t\t</tr>\r\n\t\t</table>\r\n\t</form>\r\n\t<br/><br/><br/>\r\n\t<table width=\"700px\" cellpadding=\"0\" cellpadding=\"0\" >\r\n\t\t<tr><td><form target=\"_newtab\" action=\"/iadmin/payment_dd_csv_draft\" method=\"post\" dojoAttachEvent=\"onsubmit:_DraftInvoices\" >\r\n\t\t\t<input type=\"hidden\"  dojoAttachPoint=\"tmp_cache\" name = \"tmp_cache\" dojoType=\"dijit.form.TextBox\" >\r\n\t\t\t<input type=\"hidden\"  dojoAttachPoint=\"pay_montly_day2\" name = \"pay_montly_day\" dojoType=\"dijit.form.TextBox\" >\r\n\t\t\t<button type=\"submit\" dojoType=\"dijit.form.Button\" label=\"See Draft List\" ></button></td></tr>\r\n\t</table>\r\n</div>\r\n",_CreateCsv:function(){if(confirm("Create DD Csv")){return true;}return false;},_DraftInvoices:function(){this.tmp_cache.set("value",new Date());this.pay_montly_day2.set("value",this.pay_montly_day.get("value"));return true;},_ClearDown:function(){if(confirm("Reset the Montly Payment Values to the Default Values")){dojo.xhrPost(ttl.utilities.makeParams({load:this._LoadCustomerCall,url:"/iadmin/payment_dd_reset",content:{"pay_montly_day":this.pay_montly_day.get("value")}}));}}});}