/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["prmax.lists.view"]){dojo._hasResource["prmax.lists.view"]=true;dojo.provide("prmax.lists.view");dojo.require("prmax.lists.standinglist");dojo.require("prcommon.advance.listsview");dojo.require("prmax.pressrelease.seo.view");dojo.declare("prmax.lists.view",[ttl.BaseWidget],{widgetsInTemplate:true,templateString:"<div>\r\n\t<div data-dojo-attach-point=\"borderCtrl\" data-dojo-type=\"dijit.layout.BorderContainer\" data-dojo-props='style:\"width:100%;height:100%\"'>\r\n\t\t<div data-dojo-attach-point=\"tabCtrl\" data-dojo-type=\"dijit.layout.TabContainer\" data-dojo-props='region:\"center\"'>\r\n\t\t\t<div data-dojo-type=\"dijit.layout.BorderContainer\" style=\"width:100%;height:100%\" data-dojo-attach-point=\"standingtab_view\" data-dojo-props='title:\"Media\",${startup_standing}' >\r\n\t\t\t\t<div data-dojo-attach-point=\"standing\" data-dojo-type=\"prmax.lists.standinglist\" data-dojo-props='region:\"center\",style:\"width:100%;height:100%\"'></div>\r\n\t\t\t</div>\r\n\t\t\t<div data-dojo-type=\"dijit.layout.BorderContainer\" style=\"width:100%;height:100%\" data-dojo-attach-point=\"distributionstab_view\" data-dojo-props='title:\"Distributions\",${startup_distributions}' >\r\n\t\t\t\t<div data-dojo-attach-point=\"distribution\" data-dojo-type=\"prmax.pressrelease.view\" data-dojo-props='region:\"center\",display:\"Distribution Lists\",startup_mode:\"${startup_mode}\"'></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n",startup_standing:"selected:\"selected\"",startup_distributions:"",startup_mode:"\"Display All\"",refresh:function(_1,_2){this._ShowView(_1);this.standing.refresh(_2);this.distribution.refresh(_2);if(this.advance!=null){this.advance.refresh();}if(this.seo_pane!=null){this.seo_pane.refresh();}this.borderCtrl.resize(arguments[0]);},postCreate:function(){if(PRMAX.utils.settings.advancefeatures){var _3=new dijit.layout.BorderContainer({"data-dojo-attach-point":"advance_view",style:"width:100%;height:100%",title:"Features"});this.advance=new prcommon.advance.listsview({"data-dojo-attach-point":"advance",region:"center"});_3.addChild(this.advance);this.tabCtrl.addChild(_3);}if(PRMAX.utils.settings.seo&&PRMAX.utils.settings.no_distribution==false){var _3=new dijit.layout.BorderContainer({"data-dojo-attach-point":"seo_view",style:"width:100%;height:100%",title:"SEO"});this.seo_pane=new prmax.pressrelease.seo.view({"data-dojo-attach-point":"seo",region:"center"});_3.addChild(this.seo_pane);this.tabCtrl.addChild(_3);}dojo.attr(this.distributionstab_view,"title",PRMAX.utils.settings.distribution_description_plural);this.inherited(arguments);},startup:function(){this.inherited(arguments);if(PRMAX.utils.settings.no_distribution==true){this.distributionstab_view.controlButton.domNode.style.display="none";}},resize:function(){this.inherited(arguments);},_ShowView:function(_4){if(_4=="distributions"){this.tabCtrl.selectChild(this.distributionstab_view);}if(_4=="standing"){this.tabCtrl.selectChild(this.standingtab_view);}}});}