//>>built
require({cache:{"url:prcommon2/geographical/templates/GeographicalTree.html":"<div>\r\n\t<div data-dojo-attach-point=\"tree\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"center\"' ></div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"bottom\",style:\"width:100%;height:2em\"'>\r\n\t\t<button data-dojo-props='type:\"button\",style:\"float:right;padding-right:10px\"' data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:_close\">Close</button>\r\n\t</div>\r\n</div>\r\n"}});define("prcommon2/geographical/GeographicalTree",["dojo/_base/declare","ttl/BaseWidgetAMD","dijit/layout/BorderContainer","dojo/text!../geographical/templates/GeographicalTree.html","dojo/request","ttl/utilities2","dojo/json","dojo/_base/lang","dojo/topic","dojox/data/JsonRestStore","dijit/tree/ForestStoreModel","dijit/Tree"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c){return _1("prcommon2.geographical.GeographicalTree",[_2,_3],{templateString:_4,constructor:function(){this.json_store=new _a({target:"/geographical/resttree",labelAttribute:"name"});this.myModel=new _b({store:this.json_store,deferItemLoadingUntilExpand:true,query:"root",childrenAttrs:["children"]});this._dialog=null;},postCreate:function(){this.treenode=new _c({model:this.myModel,showRoot:true,label:"Countries",persist:false});this.tree.domNode.appendChild(this.treenode.domNode);this.treenode.startup();dojo.connect(this.treenode,"onDblClick",_8.hitch(this,this._select_node));this.inherited(arguments);},_select_node:function(e){_9.publish(PRCOMMON.Events.Geographical_Selected,{geographicalid:e.id,geographicalname:e.name});},_close:function(){if(this._dialog){this._dialog.hide();}else{_9.publish(PRCOMMON.Events.Dialog_Close,"geog_close");}},_setDialogAttr:function(_d){this._dialog=_d;}});});