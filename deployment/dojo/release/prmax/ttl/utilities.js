//>>built
define("ttl/utilities",["dijit","dojo","dojox","dojo/require!dojo/number"],function(_1,_2,_3){_2.provide("ttl.utilities");_2.require("dojo.number");ttl.utilities.gotoDialogPageStatic=function(_4){ttl.utilities.openPage(_4,"_newtab");};ttl.utilities.openCommonPage=function(_5){ttl.utilities.openPage(_5,"_newtab");};ttl.utilities.openPage=function(_6,_7){var _8=_7;if(_2.isIE){_8="_blank";}var _9=window.open(_6,_8,"alwaysRaised status=0,menubar=0,resizable=1,width=640,height=480,scrollbars=1,addressbar=0,location=1");_9.resizeTo(640,480);_9.focus();};ttl.utilities.testPopUpBlocker=function(){var _a=false;var _b=window.open("http://localhost/start","","directories=no,height=100,width=100,menubar=no,resizable=no,scrollbars=no,status=no,titlebar=no,top=0,location=no");if(_b){_b.close();}else{_a=true;}return _a;};ttl.utilities.openStdWindow=function(_c,_d){var _e=_d;if(_2.isIE){_e="_blank";}var _f=window.open(_c,_e);_f.focus();};ttl.utilities.defaultParams={preventCache:true,timeout:30000,handleAs:"json",url:"/error"};ttl.utilities.makeParams=function(_10){var res=_2.mixin(ttl.utilities.defaultParams,_10||{});if(res["error"]==null){res["error"]=ttl.utilities.xhrPostError;}return res;};ttl.utilities.makeParamsIgnore=function(_11){var res=_2.mixin(ttl.utilities.defaultParams,_11||{});res["error"]=ttl.utilities.globalerrorchecker;return res;};ttl.utilities.unescapeHtml=function(str){str=str.replace(/&amp;/gm,"&").replace(/&lt;/gm,"<").replace(/&gt;/gm,">").replace(/&quot;/gm,"\"");str=str.replace(/&#39;/gm,"'");return str;};ttl.utilities.stdFormClearFunction=function(e){if(typeof (this[e])!="undefined"){if(this[e].type=="text"){this[e].setValue("");}if(this[e].type=="checkbox"){this[e].setValue(false);}}};ttl.utilities.xhrPostError=function(_12,_13){ttl.utilities.errorchecker(_12);if(TTL.isDebug==false){return;}try{alert("Problem with call to server :\nstatus: "+_12.status+"\nmessage :"+_12.message+"\nresponseText :"+_12.responseText);}catch(e){alert("Problem with call to server\n"+_12);}};ttl.utilities.errorchecker=function(_14){var _15=false;try{if(_14.status==403){_15=true;}}catch(a){}if(_15){window.location.href="/login";throw "Security Failure";}};ttl.utilities.globalerrorchecker=function(){if(arguments.length==3){ttl.utilities.errorchecker(arguments[1]);}else{if(arguments.length==2){ttl.utilities.errorchecker(arguments[0]);}}};ttl.utilities.onDownloadError=function(_16){ttl.utilities.errorchecker(_16);return this.errorMessage;};ttl.utilities.callFailedError=function(_17){if(TTL.isDebug==false){return;}try{alert("Problem :\nError: "+_17.data.error);}catch(e){alert("Problem with call to server\n"+_17);}};ttl.utilities.showMessageStd=function(_18,_19){var _1a=_1.byId("toast");if(_1a){_1a.contentNode.innerHTML="";_1a.setContent(_18,"message",_19||1000);_1a.show();}};ttl.utilities.showMessageError=function(_1b){var _1c=_1.byId("toast");if(_1c){_1c.contentNode.innerHTML="";_1c.setContent(_1b,"error",0);_1c.show();}};ttl.utilities.hideMessage=function(){var _1d=_1.byId("toast");if(_1d){_1d.hide();_1d.contentNode.innerHTML="";}};ttl.utilities.isNumber=function(_1e){var ok=true;var str=_1e;var re=/^[-]?\d*\.?\d*$/;str=str.toString();if(!str.match(re)){ok=false;}try{parseFloat(_1e);}catch(e){ok=false;}return ok;};ttl.utilities.getOuterSize=function(_1f){var c=_2.coords(_1f);c.x=c.y=c.l=c.t=0;return c;};ttl.utilities.resize=function(obj){var c=this.getOuterSize(obj.parentNode||obj.parent);obj.domNode.style.height=c.h+"px";};ttl.utilities.formValidator=function(_20){var _21=null;return _2.every(_20.getDescendants(),function(_22){if(_22.get("disabled")==true){return true;}var _23=!_22.isValid||_22.isValid();if(_23==false){if(_22.isFocusable()){try{_22.focus();}catch(e){}}else{_23=true;}}return _23;});};ttl.utilities.getPreventCache=function(_24){return _2.mixin({"dojo.preventCache":new Date().valueOf()},_24||{});};ttl.utilities.getTabButton=function(_25,_26){var _27=null;for(var x=0;x<_25.tablist._buttons.length;x++){if(x==_26){_27=_25.tablist._buttons[x];break;}}return _27;};ttl.utilities.round_decimals=function(_28,_29){var _2a=_28*Math.pow(10,_29);var _2b=Math.round(_2a);var _2c=_2b/Math.pow(10,_29);return ttl.utilities.pad_with_zeros(_2c,_29);};ttl.utilities.pad_with_zeros=function(_2d,_2e){var _2f=_2d.toString();var _30=_2f.indexOf(".");if(_30==-1){decimal_part_length=0;_2f+=_2e>0?".":"";}else{decimal_part_length=_2f.length-_30-1;}var _31=_2e-decimal_part_length;if(_31>0){for(var _32=1;_32<=_31;_32++){_2f+="0";}}return _2f;};ttl.utilities.formatButtonCell=function(_33){if(_33==true){return "<i class=\"fa fa-check\" style=\"color:blue\"></i>";}else{return "<i class=\"fa fa-check\" style=\"color:#f6f6f6\"></i>";}};ttl.utilities.outletType=function(_34){if(_34==null){return "...";}var _35="";switch(_34){case "national":_35="blue";break;case "regional":_35="green";break;case "business":_35="yellow";break;case "consumer":_35="orange";break;case "television":_35="purple";break;case "radio":_35="black";break;case "internet":_35="pink";break;case "news":_35="indigo";break;case "others":_35="white";break;case "freelance":_35="white";break;case "parliamentary":_35="gray";break;}return "<div style='background-color:"+_35+";width:6px;height:100%'>&nbsp;</div>";};ttl.utilities.formatRowCtrl=function(_36){return "<i class=\"fa fa-chevron-right\"></i>";};ttl.utilities.formatRowCtrlExists=function(_37){if(_37==true){return "<i class=\"fa fa-chevron-right\"></i>";}else{return "&nbsp;";}};ttl.utilities.format_row_ctrl=function(_38){return "<i class=\"fa fa-bars\" ></i>";};ttl.utilities.formatRowCtrlLarge=function(_39){return "<i class=\"fa fa-chevron-right fa-lg\"></i>";};ttl.utilities.formatDeletedCtrl=function(_3a){if(_3a==2){return "<i class=\"fa fa-times\" style=\"color:red\"></i>";}else{return "&nbsp;";}};ttl.utilities.deleteRowCtrl=function(_3b){return "<i class=\"fa fa-times\" style=\"color:red\"></i>";};ttl.utilities.editRowCtrl=function(_3c){return "<img height=\"10px\" width=\"10px\" style=\"padding:0x;margin:0px\" src=\"/prcommon/images/edit.gif\"></img>";};ttl.utilities.formatCopyCtrl=function(_3d){return "<img height=\"10px\" width=\"10px\" style=\"padding:0x;margin:0px\" src=\"/prcommon/images/copy.gif\"></img>";};ttl.utilities.add_new_line=function(_3e){return _3e?_3e.replace("====","<br />"):"";};ttl.utilities.toJsonDate=function(_3f){if(_3f==null){return "";}else{return _3f.getFullYear()+"-"+(_3f.getMonth()+1)+"-"+_3f.getDate();}};ttl.utilities.toJsonDate2=function(_40){if(_40==null){return "";}else{var y=_40.getFullYear();}var m=_40.getMonth()+1;var d=_40.getDate();return y+"-"+(m<=9?"0"+m:m)+"-"+(d<=9?"0"+d:d);};ttl.utilities.toJsonTime=function(_41){if(_41==null){return "";}else{return _41.getHours()+":"+_41.getMinutes()+":"+_41.getSeconds();}};ttl.utilities.fromJsonDate=function(_42){if(_42==null||_42===""){return new Date();}else{var f=_42.split("-");return new Date(parseInt(f[0]),parseInt(f[1])-1,parseInt(f[2]));}};ttl.utilities.fromObjectDate=function(_43){if(_43==null||_43===""){return new Date();}else{return new Date(new Date(_43.year,_43.month-1,_43.day));}};ttl.utilities.parseDate=function(_44){var _45=null;var tmp=_44.split("/");if(tmp.length<3){tmp=_44.split("-");}if(tmp.length==3){_45=new Date(parseInt(tmp[2]),parseInt(tmp[1])-1,parseInt(tmp[0]));}return _45;};ttl.utilities.getModelItem=function(){if(arguments[0].i.i!=null){this.tmp_row=arguments[0].i;}else{this.tmp_row=arguments[0];}};ttl.utilities.sleepStupidly=function(_46){var _47=new Date().getTime()+_46;while(new Date().getTime()<_47){}};ttl.utilities.open_close_panel=function(_48,pid){var _49=_2.byId(pid);var _4a=_2.style(_49,"display")=="block"?"none":"block";_2.style(_49,"display",_4a);_48.src=_4a=="block"?"<i class=\"fa-minus-circle\"></i>":"<i class=\"fa-plus-circle\"></i>";};ttl.utilities.formatContactInfo=function(_4b){if(isNaN(_4b)){return "...";}else{if(_4b!=-1){return "<img src='/static/images/private.gif' width='10' height='10' style='padding:0px;margin:0px'/>";}else{return "";}}};ttl.utilities.Display_Money=function(_4c){if(isNaN(_4c)){return "...";}else{try{return _2.number.format(parseFloat(_4c),{places:2});}catch(e){return "0.00";}}};ttl.utilities.documentExists=function(_4d){if(_4d==null){return "...";}if(_4d==true){return "<img src='/static/images/pdf.gif' width='16' height='16' style='padding:0px;margin:0px'/>";}return "";};ttl.utilities.genericView=function(_4e){if(_4e==null){return "...";}if(_4e==true){return "<img src='/static/images/view.png' width='16' height='16' style='padding:0px;margin:0px'/>";}return "";};ttl.utilities.pdfView=function(_4f){return "<img src='/static/images/view.png' width='16' height='16' style='padding:0px;margin:0px'/>";};ttl.utilities.formatMb=function(_50){if(_50==null){return "...";}return _2.number.format(parseFloat(_50)/1000000,{places:2})+"MB";};ttl.utilities.jscDate=function(_51){return new Date(_51.getFullYear(),_51.getMonth(),_51.getDate(),0,0,0,0);};ttl.utilities.Display_Int_Money=function(_52){try{return _2.number.format(parseFloat(_52)/100,{places:2});}catch(e){return "0.00";}};ttl.utilities.fonticon=function(_53){if(_53==null){return "...";}var _54="";switch(_53){case "News":_54="fa fa-newspaper-o";break;case "Twitter":_54="fa fa-twitter-square";break;case "Facebook":_54="fa fa-facebook-square";break;case "Forums":_54="fa fa-forumbee";break;case "Blogs":_54="fa fa-bold";break;case "Instagram":_54="fa fa-instagram";break;case "YouTube":_54="fa fa-youtube-square";break;case "GooglePlus":_54="fa fa-google-plus-official";break;case "Tumblr":_54="fa fa-tumblr-square";break;case "VKontakte":_54="fa fa-check-square";break;case "Chat":_54="fa fa-weixin";break;}return "<div class='"+_54+" fa-lg';width:6px;height:100%'>&nbsp;</div>";};});