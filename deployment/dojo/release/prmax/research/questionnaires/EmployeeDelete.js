//>>built
require({cache:{"url:research/questionnaires/templates/EmployeeDelete.html":"<div >\r\n\t<div data-dojo-attach-point=\"dialog_ctrl\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Delete Contact\",style:\"width:400px\"'>\r\n\t\t<form  data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\" data-dojo-props='onsubmit:\"return false;\"'>\r\n\t\t\t<input data-dojo-props='type:\"hidden\",name:\"objectid\",value:\"-1\"' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"objectid\">\r\n\t\t\t\t<p class=\"prmaxrowtag\" style=\"text-align:center\" data-dojo-attach-point=\"employee_name\"></p>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<label class=\"prmaxrowtag\"><input data-dojo-attach-point=\"delete_completely\" data-dojo-type=\"dijit/form/RadioButton\" data-dojo-props='name:\"delete_option\",\"class\":\"prmaxdefault\",checked:\"checked\",type:\"radio\",value:\"1\"'/>Delete completely</label><br/>\r\n\t\t\t\t<label class=\"prmaxrowtag\"><input data-dojo-attach-point=\"delete_and_retain\" data-dojo-type=\"dijit/form/RadioButton\" data-dojo-props='name:\"delete_option\",\"class\":\"prmaxdefault\",type:\"radio\",value:\"2\"'/>Delete contact and retain role</label><br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<button data-dojo-attach-point=\"savenode\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='style:\"float:right\",type:\"button\",label:\"Delete Contact\",busyLabel:\"Please Wait Saving ...\"' data-dojo-attach-event=\"onClick:_delete_contact\"></button>\r\n\t\t\t\t<br/>\r\n\t\t</form>\r\n\t</div>\r\n</div>\r\n"}});define("research/questionnaires/EmployeeDelete",["dojo/_base/declare","ttl/BaseWidgetAMD","dijit/layout/ContentPane","dojo/text!../questionnaires/templates/EmployeeDelete.html","dojo/request","ttl/utilities2","dojo/_base/lang","dojo/topic","dojo/dom-attr","dojo/dom-class","dijit/form/RadioButton","dojox/form/BusyButton"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a){return _1("research.questionnaires.EmployeeDelete",[_2,_3],{templateString:_4,constructor:function(){this._delete_call_back=_7.hitch(this,this._delete_call);this._error_call_back=_7.hitch(this,this._error_call);},load:function(_b,_c,_d){this.objectid.set("value",_b);_9.set(this.employee_name,"text",_c+_d);this.savenode.cancel();this.dialog_ctrl.show();},_delete_call:function(_e){if(_e.success=="OK"){alert("Contact Deleted");this.dialog_ctrl.hide();this.objectid.set("value","-1");_9.set(this.employee_name,"text","");if(_e.data.series==true){alert("Series members were affected. Please run employee synchronisation process");}_8.publish("/quest/emp_del",_e.data.objectid);}else{alert("Problem with Employee ");}this.savenode.cancel();},_delete_contact:function(){if(_6.form_validator(this.form)==false){alert("Not all required field filled in");throw "N";}_5.post("/research/admin/projects/delete_employee_feedback",_6.make_params({data:this.form.get("value")})).then(this._delete_call_back,this._error_call_back);},clear:function(){_9.set(this.employee_name,"innerHTML","");this.objectid.set("value","-1");},_error_call:function(){this.savenode.cancel();}});});