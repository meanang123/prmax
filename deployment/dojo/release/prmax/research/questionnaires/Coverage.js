//>>built
require({cache:{"url:research/questionnaires/templates/Coverage.html":"<div >\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='style:\"overflow:auto;overflow-x:hidden\",region:\"center\"' >\r\n\t\t<form  data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\" data-dojo-props='onsubmit:\"return false;\"'>\r\n\t\t\t<input data-dojo-props='type:\"hidden\",name:\"researchprojectitemid\",value:\"-1\"' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"researchprojectitemid\">\r\n\t\t\t<table width=\"100%\" cellspacing=\"0\" cellpadding=\"0\">\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\" width=\"150px\">Geo. Coverage</td><td ><div data-dojo-attach-point=\"coverage\" data-dojo-type=\"prcommon2/geographical/Geographical\" data-dojo-props='name:\"coverage\",selectonly:true,size:6,displaytitle:\"\",startopen:true,title:\"Select\"'></div></td></tr>\r\n\t\t\t\t<tr><td class=\"prmaxrowtag\">User FeedBack</td></tr>\r\n\t\t\t\t<tr><td style=\"padding:5px\" class=\"prmaxrowemphasise\" colspan=\"2\" data-dojo-attach-point=\"feedback\"></td></tr>\r\n\t\t\t</table>\r\n\t\t</form>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"bottom\", style:\"width:100%;height:40px;padding:5px\"' >\r\n\t\t\t<label class=\"prmaxrowtag\">Reason Code</label><select data-dojo-attach-point=\"reasoncodeid\" data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-props='name:\"reasoncodeid\",searchAttr:\"name\",labelType:\"html\",\"class\":\"prmaxrequired\"'></select>\r\n\t\t\t<button data-dojo-attach-event=\"onClick:_update_coding\" data-dojo-attach-point=\"savenode\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='style:\"float:right\",type:\"button\",busyLabel:\"Please Wait Saving...\",label:\"Save\"'></button>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"publisher_add_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Publisher Add\"'>\r\n\t\t<div data-dojo-attach-point=\"publisher_add_ctrl\" data-dojo-type=\"prcommon2/publisher/PublisherAdd\"></div>\r\n\t</div>\r\n</div>\r\n"}});define("research/questionnaires/Coverage",["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../questionnaires/templates/Coverage.html","dijit/layout/BorderContainer","dijit/layout/ContentPane","dojo/topic","dojo/_base/lang","ttl/utilities2","dojo/request","dojo/dom-attr","dijit/layout/ContentPane","dijit/form/Form","dijit/form/TextBox"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a){return _1("research.questionnaires.Coverage",[_2,_4],{templateString:_3,constructor:function(){this._update_call_back=_7.hitch(this,this._update_call);this._error_call_back=_7.hitch(this,this._error_call);},postCreate:function(){this.inherited(arguments);this.reasoncodeid.set("store",PRCOMMON.utils.stores.Research_Reason_Add_Codes());this.reasoncodeid.set("value",PRCOMMON.utils.stores.Reason_Add_Default);},load:function(_b,_c,_d){this.coverage.set("value",_c.coverage);_a.set(this.feedback,"innerHTML","");for(var _e in _d){var _f=_d[_e];switch(_f.fieldid){case 54:_a.set(this.feedback,"innerHTML",_f.value);break;}}this.researchprojectitemid.set("value",_b.researchprojectitemid);this.savenode.cancel();},clear:function(){this.savenode.cancel();_a.set(this.feedback,"innerHTML","");},_update_coding:function(){if(_8.form_validator(this.form)==false){alert("Not all required field filled in");this.savenode.cancel();throw "N";}var _10=this.form.get("value");_10["reasoncodeid"]=this.reasoncodeid.get("value");_9.post("/research/admin/projects/user_feed_coverage",_8.make_params({data:_10})).then(this._update_call_back,this._error_call_back);},_update_call:function(_11){if(_11.success=="OK"){alert("Coverage Updated");}else{alert("Problem");}this.savenode.cancel();},_error_call:function(){this.savenode.cancel();}});});