//>>built
require({cache:{"url:research/outlets/templates/OutletEditMainDetails.html":"<div >\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='style:\"overflow:auto;overflow-x:hidden\",region:\"center\"' >\r\n\t\t<form  data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\" data-dojo-props='onsubmit:\"return false;\"'>\r\n\t\t\t<input data-dojo-props='type:\"hidden\",name:\"outletid\",value:\"-1\"' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-point=\"outletid\">\r\n\t\t\t<input data-dojo-props='type:\"hidden\",name:\"searchtypeid\",value:\"3\"' data-dojo-type=\"dijit/form/TextBox\" >\r\n\t\t\t<table width=\"98%\" cellspacing=\"0\" cellpadding=\"0\">\r\n\t\t\t\t<tr><td width=\"120px\" align=\"right\" class=\"prmaxrowtag\">Outlets Name</td><td><input data-dojo-props='style:\"width:90%\",\"class\":\"prmaxrequired\",name:\"outletname\",type:\"text\",trim:true,required:true,invalidMessage:\"Please enter outletname\"' data-dojo-attach-point=\"outletname\" data-dojo-type=\"dijit/form/ValidationTextBox\" ></input></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Sort Name</td><td><input data-dojo-props='style:\"width:90%\",\"class\":\"prmaxrequired\",name:\"sortname\",type:\"text\",trim:true,required:true,invalidMessage:\"Please enter sortname\",uppercase:true' data-dojo-attach-point=\"sortname\" data-dojo-type=\"dijit/form/ValidationTextBox\" ></input></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Sub Title</td><td ><div class=\"framesmall\" ><textarea data-dojo-attach-point=\"subtitle\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"subtitle\",style:\"width:99%;height:99%\"'  ></textarea></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Official Journal of</td><td ><div class=\"framesmall\" ><textarea data-dojo-attach-point=\"officialjournalof\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"officialjournalof\",style:\"width:99%;height:99%\"'  ></textarea></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Incorporating</td><td ><div class=\"framesmall\" ><textarea data-dojo-attach-point=\"incorporating\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"incorporating\",style:\"width:99%;height:99%\"'  ></textarea></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">House/Street</td><td><input data-dojo-attach-point=\"address1\" data-dojo-props='name:\"address1\",type:\"text\",trim:true,required:false,style:\"width:70%\"' data-dojo-type=\"dijit/form/ValidationTextBox\"></input></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Street/District</td><td><input data-dojo-attach-point=\"address2\"data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"address2\",type:\"text\",trim:true,style:\"width:70%\"'></input></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Town</td><td><input data-dojo-attach-point=\"townname\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"townname\",type:\"text\",trim:true,style:\"width:70%\"' ></input></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">County</td><td><input data-dojo-attach-point=\"county\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"county\",type:\"text\",trim:true,style:\"width:70%\"' ></input></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Post Code</td><td><input data-dojo-attach-point=\"postcode\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"postcode\",type:\"text\",trim:true,style:\"width:10em\"' ></input></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Country</td><td><select data-dojo-props='style:\"width:90%\",\"class\":\"prmaxrequired\",name:\"countryid\",autoComplete:true,searchAttr:\"name\",required:true,invalidMessage:\"Please select Country Name\",labelType:\"html\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"countryid\"></select></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Tel</td><td><input data-dojo-attach-point=\"tel\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"tel\",type:\"text\",maxlength:40,trim:true,style:\"width:60%\"' /></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Fax</td><td><input data-dojo-attach-point=\"fax\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"fax\",type:\"text\",maxlength:40, trim:true,style:\"width:60%\"'/></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Email</td><td><input data-dojo-attach-point=\"email\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"email\",type:\"text\",pattern:dojox.validate.regexp.emailAddress, trim:true,invalidMessage:\"invalid email address\",size:20,maxlength:70,style:\"width:90%\"'></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Www</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<span><input data-dojo-attach-point=\"www\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"www\",type:\"text\",maxlength:\"120\",pattern:dojox.validate.regexp.url,style:\"width:90%\"' /></span>\r\n\t\t\t\t\t\t<span><div data-dojo-attach-point=\"www_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Twitter</td>\r\n\t\t\t\t\t<td><span><input data-dojo-attach-point=\"twitter\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='name:\"twitter\",pattern:dojox.validate.regexp.url,type:\"text\",maxlength:80,trim:true,style:\"width:90%\"'/></span>\r\n\t\t\t\t\t\t<span><div data-dojo-attach-point=\"twitter_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Facebook</td>\r\n\t\t\t\t\t<td><span><input data-dojo-attach-point=\"facebook\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"facebook\",type:\"text\",maxlength:80,pattern:dojox.validate.regexp.url,trim:true,style:\"width:90%\"'/></span>\r\n\t\t\t\t\t\t<span><div data-dojo-attach-point=\"facebook_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Linkedin</td>\r\n\t\t\t\t\t<td><span><input data-dojo-attach-point=\"linkedin\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"linkedin\",type:\"text\",maxlength:80,pattern:dojox.validate.regexp.url,trim:true,style:\"width:90%\"' /></span>\r\n\t\t\t\t\t\t<span><div data-dojo-attach-point=\"linkedin_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Instagram</td>\r\n\t\t\t\t\t<td><span><input data-dojo-attach-point=\"instagram\" data-dojo-type=\"dijit/form/ValidationTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"instagram\",type:\"text\",maxlength:80,pattern:dojox.validate.regexp.url,trim:true,style:\"width:90%\"' /></span>\r\n\t\t\t\t\t\t<span><div data-dojo-attach-point=\"instagram_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Circulation</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<span><input data-dojo-attach-point=\"circulation\" data-dojo-type=\"dijit/form/NumberTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"circulation\",type:\"text\",value:0,constraints:{min:0,max:999999999}, trim:true'/></span>\r\n\t\t\t\t\t\t<span><div data-dojo-attach-point=\"circulation_show\" data-dojo-type=\"prcommon2/web/WebButton\"></div></span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Circulation Source</td><td><select data-dojo-props='style:\"width:15em\",name:\"circulationsourceid\",autoComplete:true,searchAttr:\"circulationsourcedescription\",required:false,placeHolder:\"No Selection\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"circulationsourceid\"></select></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Circulation Date</td><td><select data-dojo-props='style:\"width:15em\",name:\"circulationauditdateid\",autoComplete:true,searchAttr:\"circulationauditdatedescription\",required:false,placeHolder:\"No Selection\",pageSize:20' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"circulationauditdateid\"></select></td></tr>\r\n\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Web Browsers</td><td><input data-dojo-attach-point=\"webbrowsers\" data-dojo-type=\"dijit/form/NumberTextBox\" data-dojo-props='\"class\":\"prmaxinput\",name:\"webbrowsers\",type:\"text\",value:0,constraints:{min:0,max:999999999}, trim:true'/></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Web Source</td><td><select data-dojo-props='style:\"width:15em\",name:\"websourceid\",autoComplete:true,searchAttr:\"websourcedescription\",required:false,placeHolder:\"No Selection\"' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"websourceid\"></select></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Web Date</td><td><select data-dojo-props='style:\"width:15em\",name:\"webauditdateid\",autoComplete:true,searchAttr:\"webauditdatedescription\",required:false,placeHolder:\"No Selection\",pageSize:20' data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-attach-point=\"webauditdateid\"></select></td></tr>\r\n\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Frequency</td><td>\t<select data-dojo-type=\"dijit/form/FilteringSelect\" data-dojo-props='name:\"frequencyid\",autoComplete:true,searchAttr:\"name\",required:true,invalidMessage:\"Please select frequency\",labelType:\"html\"' data-dojo-attach-point=\"frequency\"></select></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\" valign=\"top\">Frequency Notes</td><td ><div class=\"stdtextframe\" ><textarea data-dojo-attach-point=\"frequencynotes\" data-dojo-type=\"dijit/form/Textarea\" data-dojo-props='name:\"frequencynotes\",style:\"width:99%;height:99%\"'  ></textarea></div></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Cost</td><td><select data-dojo-props='style:\"width:10em\",name:\"outletpriceid\",autoComplete:true,searchAttr:\"name\",required:false,placeHolder:\"\"' data-dojo-type=\"dijit/form/Select\" data-dojo-attach-point=\"outletpriceid\"></select></td></tr>\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Media Access Type</td><td><select data-dojo-props='style:\"width:10em\",name:\"mediaaccesstypeid\",autoComplete:true,searchAttr:\"name\",required:false,placeHolder:\"\"' data-dojo-type=\"dijit/form/Select\" data-dojo-attach-point=\"mediaaccesstypeid\"></select></td></tr>\r\n\t\t\t\t\r\n\t\t\t\t<tr><td align=\"right\" class=\"prmaxrowtag\">Do not synchronise</td><td><p data-dojo-attach-point=\"no_sync\" data-dojo-type=\"dijit/form/CheckBox\" data-dojo-props='type:\"checkbox\"' ></p></td></tr>\r\n\r\n\t\t\t</table>\r\n\t\t</form>\r\n\t</div>\r\n\t<div data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props='region:\"bottom\",style:\"width:100%;height:3em;padding-right:3px;\"'>\r\n\t\t<table width=\"99%\" cellspacing=\"0\" cellpadding=\"0\">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"left\"><button data-dojo-attach-event=\"onClick:_delete\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='type:\"button\",label:\"Delete Outlet\"'></button></td>\r\n\t\t\t\t\t<td align=\"left\"><button data-dojo-attach-event=\"onClick:_synchronise\" data-dojo-attach-point='synchrbtn' data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='type:\"button\",\"class\":\"prmaxhidden\",label:\"Synchronise\"'></button></td>\r\n\t\t\t\t\t\t<div data-dojo-attach-point=\"synchronise_dlg\" data-dojo-type=\"dijit/Dialog\" title=\"Synchronise Employees\" data-dojo-props='style:\"width:350px\"'>\r\n\t\t\t\t\t\t\t<div data-dojo-type=\"prcommon2/dialogs/SynchroniseDialog\" data-dojo-attach-point=\"synchronise_node\"></div>\r\n\t\t\t\t\t\t</div>\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t<td align=\"right\"><label class=\"prmaxrowtag\">Reason</label><select data-dojo-attach-point=\"reasoncodeid\" data-dojo-type =\"dijit/form/FilteringSelect\" data-dojo-props='name:\"reasoncodeid\",searchAttr:\"name\",labelType:\"html\",\"class\":\"prmaxrequired\",style:\"width:120px\"'></select></td>\r\n\t\t\t\t\t<td align=\"right\"><button data-dojo-attach-point=\"updatebtn\" data-dojo-attach-event=\"onClick:_update\" data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='type:\"button\",busyLabel:\"Please Wait Saving Outlet...\",label:\"Save\"'></button></td>\r\n\t\t\t\t</tr>\r\n\t\t</table>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"outlet_delete_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Delete Outlet\"'>\r\n\t\t<div data-dojo-attach-point=\"outlet_delete_ctrl\" data-dojo-type=\"research/outlets/OutletDelete\"></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"circulationsource_add_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Circulation Source Add\"'>\r\n\t\t<div data-dojo-attach-point=\"circulationsource_add_ctrl\" data-dojo-type=\"prcommon2/circulation/CirculationSourcesAdd\"></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"circulationdates_add_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Circulation Dates Add\"'>\r\n\t\t<div data-dojo-attach-point=\"circulationdates_add_ctrl\" data-dojo-type=\"prcommon2/circulation/CirculationDatesAdd\"></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"websource_add_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Web Source Add\"'>\r\n\t\t<div data-dojo-attach-point=\"websource_add_ctrl\" data-dojo-type=\"prcommon2/web/WebSourcesAdd\"></div>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"webdates_add_dlg\" data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Web Dates Add\"'>\r\n\t\t<div data-dojo-attach-point=\"webdates_add_ctrl\" data-dojo-type=\"prcommon2/web/WebDatesAdd\"></div>\r\n\t</div>\r\n</div>\r\n"}});define("research/outlets/OutletEditMainDetails",["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../outlets/templates/OutletEditMainDetails.html","dijit/layout/BorderContainer","dojo/topic","dojo/_base/lang","ttl/utilities2","dojo/request","dojo/dom-attr","dojox/data/JsonRestStore","dojo/data/ItemFileReadStore","dijit/layout/ContentPane","dijit/form/Form","dijit/form/ValidationTextBox","dijit/form/FilteringSelect","dojox/validate/regexp","dijit/form/Button","dijit/form/NumberTextBox","prcommon2/interests/Interests","prcommon2/geographical/Geographical","dojox/form/BusyButton","dijit/Dialog","dojox/validate","research/outlets/OutletDelete","prcommon2/web/WebSourcesAdd","prcommon2/web/WebDatesAdd","prcommon2/circulation/CirculationSourcesAdd","prcommon2/circulation/CirculationDatesAdd","prcommon2/web/WebButton","prcommon2/dialogs/SynchroniseDialog"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b){return _1("research.outlets.OutletEditMainDetails",[_2,_4],{templateString:_3,gutters:true,constructor:function(){this._updated_call_back=_6.hitch(this,this._updated_call);this._media_only_call_back=_6.hitch(this,this._media_only_call);this._synchronise_call_back=_6.hitch(this,this._synchronise_call);this._complete_call_back=_6.hitch(this,this._complete_call);this._deleted_call_back=_6.hitch(this,this._deleted_call);this._circulationsources=new _a({target:"/research/admin/circulationsources/list",labelAttribute:"circulationsourcedescription",idProperty:"circulationsourceid"});this._circulationauditdates=new _a({target:"/research/admin/circulationdates/list",labelAttribute:"circulationauditdatedescription",idProperty:"circulationauditdateid"});this._websources=new _a({target:"/research/admin/websources/list",labelAttribute:"websourcedescription",idProperty:"websourceid"});this._webauditdates=new _a({target:"/research/admin/webdates/list",labelAttribute:"webauditdatedescription",idProperty:"webauditdateid"});this._costs=new _b({url:"/common/lookups?searchtype=outletprices"});this._mediaaccesstypes=new _b({url:"/common/lookups?searchtype=mediaaccesstypes"});_5.subscribe(PRCOMMON.Events.Outlet_Updated,_6.hitch(this,this._outlet_update_event));},postCreate:function(){this.frequency.set("store",PRCOMMON.utils.stores.Frequency());this.reasoncodeid.set("store",PRCOMMON.utils.stores.Research_Reason_Update_Codes());this.reasoncodeid.set("value",PRCOMMON.utils.stores.Reason_Upd_Default);this.countryid.set("store",PRCOMMON.utils.stores.Countries());this.circulationsource_add_ctrl.set("dialog",this.circulationsource_add_dlg);this.circulationsourceid.set("store",this._circulationsources);this.circulationdates_add_ctrl.set("dialog",this.circulationdates_add_dlg);this.circulationauditdateid.set("store",this._circulationauditdates);this.websource_add_ctrl.set("dialog",this.websource_add_dlg);this.websourceid.set("store",this._websources);this.webdates_add_ctrl.set("dialog",this.webdates_add_dlg);this.webauditdateid.set("store",this._webauditdates);this.outletpriceid.set("store",this._costs);this.mediaaccesstypeid.set("store",this._mediaaccesstypes);this.www_show.set("source",this.www);this.facebook_show.set("source",this.facebook);this.twitter_show.set("source",this.twitter);this.linkedin_show.set("source",this.linkedin);this.instagram_show.set("source",this.instagram);this.circulation_show.set("source","https://www.abc.org.uk/");this.inherited(arguments);},_deleted_call:function(_c){if(_c.success=="DEL"){if(confirm("Outlet '"+_c.data.outlet_name+"' with domain '"+_c.data.domain+"' has previously asked to be deleted.\nDo you want to proceed?")){var _d=this.form.get("value");_d["reasoncodeid"]=this.reasoncodeid.get("value");_d["no_sync"]=this.no_sync.get("checked");_8.post("/research/admin/outlets/research_main_update",_7.make_params({data:_d})).then(this._updated_call_back);}}else{var _d=this.form.get("value");_d["reasoncodeid"]=this.reasoncodeid.get("value");_d["no_sync"]=this.no_sync.get("checked");_8.post("/research/admin/outlets/research_main_update",_7.make_params({data:_d})).then(this._updated_call_back);}this.updatebtn.cancel();},_updated_call:function(_e){if(_e.success=="OK"){alert("Updated");_5.publish(PRCOMMON.Events.Outlet_Updated,_e.data);this._clear_reason();}else{alert("Failed to updated");}this.updatebtn.cancel();},_outlet_update_event:function(_f){if(_f.comm.tel!=this.tel.get("value")){this.tel.set("value",_f.comm.tel);}if(_f.comm.fax!=this.fax.get("value")){this.fax.set("value",_f.comm.fax);}},clear:function(){},_clear_reason:function(){this.reasoncodeid.set("value",PRCOMMON.utils.stores.Reason_Upd_Default);this.updatebtn.cancel();},load:function(_10,_11,_12){this._clear_reason();this._outletid=_10;this.outletname.set("value",_11.outlet.outletname);this.sortname.set("value",_11.outlet.sortname);this.countryid.set("value",_11.outlet.countryid);this.address1.set("value",_11.address.address1);this.address2.set("value",_11.address.address2);this.townname.set("value",_11.address.townname);this.county.set("value",_11.address.county);this.postcode.set("value",_11.address.postcode);this.circulation.set("value",_11.outlet.circulation);this.webbrowsers.set("value",_11.outlet.webbrowsers);this.frequency.set("value",_11.outlet.frequencyid);this.www.set("value",_11.outlet.www);this.email.set("value",_11.communications.email);this.tel.set("value",_11.communications.tel);this.fax.set("value",_11.communications.fax);this.linkedin.set("value",_11.communications.linkedin);this.twitter.set("value",_11.communications.twitter);this.facebook.set("value",_11.communications.facebook);this.instagram.set("value",_11.communications.instagram);this.circulationsourceid.set("value",_11.outlet.circulationsourceid);this.circulationauditdateid.set("value",_11.outlet.circulationauditdateid);this.websourceid.set("value",_11.outlet.websourceid);this.webauditdateid.set("value",_11.outlet.webauditdateid);if(_11.outlet.outletpriceid==null){this.outletpriceid.set("value",1);}else{this.outletpriceid.set("value",_11.outlet.outletpriceid);}if(_11.outlet.mediaaccesstypeid==null){this.mediaaccesstypeid.set("value",1);}else{this.mediaaccesstypeid.set("value",_11.outlet.mediaaccesstypeid);}if(_12.profile){this.subtitle.set("value",_12.profile.subtitle);this.officialjournalof.set("value",_12.profile.officialjournalof);this.incorporating.set("value",_12.profile.incorporating);this.frequencynotes.set("value",_12.profile.frequencynotes);}else{this.subtitle.set("value","");this.officialjournalof.set("value","");this.incorporating.set("value","");this.frequencynotes.set("value","");}this.no_sync.set("value",_11.researchdetails.no_sync);this.outletid.set("value",_11.outlet.outletid);this.reasoncodeid.set("value",PRCOMMON.utils.stores.Reason_Upd_Default);},_setCheckedAttr:function(_13){this.no_sync.set("checked",_13);},_update:function(){if(_7.form_validator(this.form)==false){alert("Not all required field filled in");this.updatebtn.cancel();throw "N";}var _14=this.form.get("value");_14["no_sync"]=this.no_sync.get("checked");_8.post("/research/admin/outlets/research_check",_7.make_params({data:_14})).then(this._deleted_call_back);},_delete:function(){this.outlet_delete_ctrl.load(this._outletid,this.outletname.get("value"),this.outlet_delete_dlg);this.outlet_delete_dlg.show();},_media_only_call:function(_15){if(_15.success=="OK"){alert("Social Media Only Updated");}else{alert("Problem Updating Social Media Only");}},_update_media_only:function(){if(this.twitter.isValid()==false||this.facebook.isValid()==false||this.instagram.isValid()==false||this.linkedin.isValid()==false){alert("Invalid Data");return false;}_8.post("/research/admin/outlets/research_update_media",_7.make_params({data:this.form.get("value")})).then(this._media_only_call_back);},_new_circulation_source:function(){this.circulationsource_add_ctrl.clear();this.circulationsource_add_dlg.show();},_new_circulation_date:function(){this.circulationdates_add_ctrl.clear();this.circulationdates_add_dlg.show();},_add_circulation_source_event:function(_16){this.circulationsourceid.set("value",_16.circulationsourceid);},_add_circulation_dates_event:function(_17){this.circulationauditdateid.set("value",_17.circulationauditdateid);},_new_web_source:function(){this.websource_add_ctrl.clear();this.websource_add_dlg.show();},_new_web_date:function(){this.webdates_add_ctrl.clear();this.webdates_add_dlg.show();},_add_web_source_event:function(_18){this.websourceid.set("value",_18.websourceid);},_add_web_dates_event:function(_19){this.webauditdateid.set("value",_19.webauditdateid);},_synchronise:function(){var _1a={};var _1b=this._outletid;_1a["outletid"]=_1b;this.synchronise_dlg.show();this.synchronise_node.SetCompleted(this._complete_call_back);this.synchronise_node.start(_1a);},_synchronise_call:function(_1c){if(_1c.success=="OK"){alert("Employees Synchronised");this._complete_call();}else{alert("Employees Synchronisation Failed");}},_complete_call:function(){this.synchrbtn.cancel();this.synchronise_dlg.hide();}});});