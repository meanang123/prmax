//>>built
require({cache:{"url:research/employees/templates/EmployeeSelect.html":"<div>\r\n\t<div data-dojo-attach-point=\"select_view\"><input data-dojo-props='name:\"contacttype\",value:\"N\"' data-dojo-attach-event=\"onClick:_contact_mode_no_contact\" data-dojo-attach-point=\"nocontactnode\" data-dojo-type=\"dijit/form/RadioButton\"> </input><label data-dojo-attach-point=\"nocontactlabel\">No Person</label>\r\n\t\t<input data-dojo-props='name:\"contacttype\",value:\"S\",checked:true' data-dojo-attach-event=\"onClick:_contact_mode_contact\" data-dojo-attach-point=\"selectcontactnode\" data-dojo-type=\"dijit/form/RadioButton\"> </input><label data-dojo-attach-point=\"selectcontactlabel\">Select Person</label>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"selectcontactform\" class=\"prmaxvisible prmaxdefault\" >\r\n\t\t<table style=\"width:100%\" class=\"prmaxtable\" cellspacing=\"0\" cellpadding=\"0\">\r\n\t\t\t<tr><td class=\"prmaxrowtag\" data-dojo-attach-point=\"displayname_ctrl\">Person</td><td>\r\n\t\t\t\t<td><div data-dojo-type=\"prcommon2/contact/ContactSelectMain\" data-dojo-props='name:\"contactid\"' data-dojo-attach-point=\"contactid\"></div></td>\r\n\t\t\t</tr>\r\n\t\t</table>\r\n\t</div>\r\n</div>\r\n"}});define("research/employees/EmployeeSelect",["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../employees/templates/EmployeeSelect.html","dojo/request","ttl/utilities2","dojo/json","dojo/_base/lang","dojo/topic","dojox/data/JsonRestStore","dojo/store/Observable","dojo/dom-attr","dojo/dom-class","dijit/form/RadioButton","dijit/form/FilteringSelect","dijit/form/Button","research/employees/PersonNew","prcommon2/contact/ContactSelect","prcommon2/contact/ContactSelectMain","research/employees/ContactMerge",],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c){return _1("research.employees.EmployeeSelect",[_2],{templateString:_3,required:false,nonew:false,name:"eselect",mustexists:false,constructor:function(){this._shopadd=true;_8.subscribe(PRCOMMON.Events.Person_Added,_7.hitch(this,this._add_event));},postCreate:function(){_b.set(this.nocontactlabel,"for",this.nocontactnode.id);_b.set(this.selectcontactlabel,"for",this.selectcontactnode.id);this.contactid.set("callback",_7.hitch(this,this._selected_from_extended));if(this.mustexists==true){_c.add(this.select_view,"prmaxhidden");this.selectcontactnode.set("checked",true);_c.add(this.displayname_ctrl,"prmaxhidden");}this.inherited(arguments);},set_outletid:function(_d){this.outletid=_d;this.contactid._outletid=_d;},_add_event:function(_e){this.contactid.set("value",_e.contactid);},_setCheckedAttr:function(_f){this.nocontactnode.set("checked",_f);this.selectcontactnode.set("checked",true);this._change_mode(false);},set_no_contact:function(){this.nocontactnode.set("checked",true);this._change_mode(true);},_getValueAttr:function(){return this.contactid._contact.contactid.get("value");},_setValueAttr:function(_10){this.contactid.set("value",_10);},isValid:function(){var _11=true;var _12=true;var v=this.contactid.get("value");if(v==""||v==-1||v==0||v==null){_12=false;}if(this.required==true){if(_12==false){_11=false;}}else{if(this.nocontactnode.get("checked")==false&&_12==false){_11=false;}}return _11;},isFocusable:function(){return true;},focus:function(){this.contactid.focus();},clear:function(){this.contactid.set("value",null);this._shopadd=false;},_contact_mode_no_contact:function(){this._change_mode(true);},_contact_mode_contact:function(){this._change_mode(false);},_change_mode:function(_13){_c.remove(this.selectcontactform,_13?"prmaxvisible":"prmaxhidden");_c.add(this.selectcontactform,_13?"prmaxhidden":"prmaxvisible");if(_13){_c.remove(this.contactid,"prmaxrequired");}else{_c.add(this.contactid,"prmaxrequired");}this.contactid.set("disabled",_13);this._shopadd=false;},_update_after_add:function(_14){this.contactid.set("value",_14.contactid);this._shopadd=false;this._add_contact_show();},_selected_from_extended:function(_15){this.contactid.set("value",_15.contactid);},});});