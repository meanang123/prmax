//>>built
require({cache:{"url:control/customer/templates/dd_return_payment.html":"<div>\r\n\t<form data-dojo-attach-point=\"form\"  onsubmit=\"return false\" data-dojo-type=\"dijit/form/Form\">\r\n\t\t<input type=\"hidden\" name=\"icustomerid\" data-dojo-attach-point=\"icustomerid\" data-dojo-type=\"dijit/form/TextBox\">\r\n\t\t<table width=\"700px\" cellpadding=\"0\" cellpadding=\"0\" >\r\n\t\t\t<tr><td colspan=\"2\"><div class=\"prmaxrowdisplaylarge\" style=\"text-align:center;display:inline\">Reject Last DD for </div><div class=\"prmaxrowdisplaylarge\" style=\"display:inline\" data-dojo-attach-point=\"customername\"></div></td>\r\n\t\t\t<tr><td class=\"prmaxrowlabel\" align=\"right\">Reason Code</td><td><select data-dojo-props='\"class\":\"prmaxinput\",name=\"paymentreturnreasonid\",style:\"width:10em\",autoComplete:\"true\"' data-dojo-attach-point=\"paymentreturnreasonid\" data-dojo-type=\"dijit/form/FilteringSelect\"></select></td></tr>\r\n\t\t\t<tr><td class=\"prmaxrowlabel\" align=\"right\" valign=\"top\">Reason</td><td><div class=\"dialogprofileframe\" ><textarea data-dojo-attach-point=\"reason\" data-dojo-props='name:\"reason\",\"class\":\"dijitTextarea\",style:\"width:99%;height:99%\"' data-dojo-type=\"dijit/form/Textarea\"></textarea></div></td></tr>\r\n\t\t\t<tr><td class=\"prmaxrowlabel\" colspan=\"4\" align=\"right\"><button data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='busyLabel:\"Please Wait\",type:\"button\"' data-dojo-attach-event=\"onClick:_cancel_payment\" data-dojo-attach-point=\"okbtn\">Cancel DD Payment</button></td>\r\n\t\t</table>\r\n\t</form>\r\n\r\n</div>\r\n"}});define("control/customer/dd_return_payment",["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../customer/templates/dd_return_payment.html","dijit/layout/BorderContainer","dojo/request","ttl/utilities2","dojo/_base/lang","dojo/topic","dojo/dom-class","dojo/dom-attr","dojo/data/ItemFileReadStore","dijit/form/Form","dijit/form/Button","dijit/form/Textarea","dijit/form/TextBox","dojox/form/BusyButton","dijit/form/FilteringSelect"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b){return _1("control/customer/dd_return_payment",[_2,_4],{templateString:_3,gutters:false,constructor:function(){this._failed_call_back=_7.hitch(this,this._failed_call);this.paymentreturnreasons=new _b({url:"/common/lookups?searchtype=paymentreturnreasons",onError:_6.globalerrorchecker,clearOnClose:true,urlPreventCache:true});},postCreate:function(){this.inherited(arguments);this.paymentreturnreasonid.store=this.paymentreturnreasons;this.paymentreturnreasonid.set("value",1);this.inherited(arguments);},_clear:function(){this.icustomerid.set("value",null);this.reason.set("value","");this.okbtn.cancel();},_failed_call:function(_c){if(_c.success=="OK"){alert("DD cancelled");this._clear();this._dialog.hide();}else{alert("Problem Failing Last DD");}this.okbtn.cancel();},_cancel_payment:function(){if(confirm("Fail Last DD Payment")){var _d=this.form.get("value");_5.post("/payment/payment_dd_failed",_6.make_params({data:_d})).then(this._failed_call_back);}else{this.okbtn.cancel();}},setCustomer:function(_e,_f,_10,_11){this.okbtn.cancel();this.icustomerid.set("value",_e);this._email=_10;_a.set(this.customername,"innerHTML",_f);this._dialog=_11;}});});