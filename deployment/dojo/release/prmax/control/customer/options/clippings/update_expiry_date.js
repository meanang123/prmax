//>>built
define("control/customer/options/clippings/update_expiry_date",["dijit","dojo","dojox","dojo/require!ttl/BaseWidget"],function(_1,_2,_3){_2.provide("prmax.iadmin.clippings.update_expiry_date");_2.require("ttl.BaseWidget");_2.declare("prmax.iadmin.clippings.update_expiry_date",[ttl.BaseWidget],{widgetsInTemplate:true,templatePath:_2.moduleUrl("prmax.iadmin.clippings","templates/update_expiry_date.html"),constructor:function(){this._update_expiry_date_call_back=_2.hitch(this,this._update_expiry_date_call);},postCreate:function(){this._clear();this.inherited(arguments);},load:function(_4,_5){this._dialog=_4;this._icustomerid=_5;},_close:function(){this._dialog.hide();},_update_expiry_date:function(){if(ttl.utilities.formValidator(this.form)==false){alert("Please Enter Details");return false;}var _6={};_6["enddate"]=ttl.utilities.toJsonDate(this.enddate.get("value"));_6["icustomerid"]=this._icustomerid;_2.xhrPost(ttl.utilities.makeParams({load:_2.hitch(this,this._update_expiry_date_call_back),url:"/iadmin/clippings/update_expiry_date",content:_6}));},_update_expiry_date_call:function(_7){if(_7.success=="OK"){this._dialog.hide();this._clear();_2.publish("/clippings/order/update_expiry_date",[ttl.utilities.toJsonDate2(this.enddate.get("value"))]);}else{alert("Problem Updating Expiry Date");}},_clear:function(){this.enddate.set("value",this.end_date);},clear:function(){this._clear();},});});