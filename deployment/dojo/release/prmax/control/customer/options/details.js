//>>built
require({cache:{"url:control/customer/options/templates/details.html":"<div class=\"common_prmax_layout\">\r\n<br/>\r\n\t<table style=\"width:100%;border-collapse:collapse;\" cellpadding=\"0\" cellspacing=\"0\">\r\n\t\t<tr><td class=\"prmaxrowtag\">Name</td><td class=\"prmaxrowdisplay\" data-dojo-attach-point=\"displayname\"></td></tr>\r\n\t\t<tr><td class=\"prmaxrowtag\">Customer Source</td><td data-dojo-attach-point=\"customersourcedescription\"></td></tr>\r\n\r\n\t\t<tr><td class=\"prmaxrowtag\">Status</td><td>\r\n\t\t\t<select data-dojo-attach-point=\"statusid\" data-dojo-props=\"autoComplete:true,labelType:'html'\" data-dojo-type=\"dijit/form/FilteringSelect\"></select>\r\n\t\t\t<button data-dojo-type=\"dojox/form/BusyButton\" data-dojo-props='label:\"Change Status\"' data-dojo-attach-point=\"statusidbutton\" data-dojo-attach-event=\"onClick:_ChangeStatus\"></button>\r\n\t\t</td></tr>\r\n\t\t<tr><td class=\"prmaxrowtag\">Customer type</td><td>\r\n\t\t\t<select data-dojo-attach-point=\"customertypeid\" data-dojo-props=\"autoComplete:true,labelType:'html'\" data-dojo-type=\"dijit/form/FilteringSelect\"></select>\r\n\t\t\t<button data-dojo-attach-event=\"onClick:_CustomerType\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='label:\"Set Customer Type\",type:\"button\"' ></button>\r\n\t\t</td></tr>\r\n\t\t<tr><td class=\"prmaxrowtag\">Expire Date</td>\r\n\t\t\t<td><div style=\"display:inline\" class=\"prmaxrowtag\" data-dojo-attach-point=\"expire_display\"></div>&nbsp;\r\n\t\t\t\t<button data-dojo-type=\"dijit/form/Button\" data-dojo-props='label:\"Set Expire Date\",type:\"button\"' data-dojo-attach-event=\"onClick:_SetExpireDate\" ></button>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t\t<tr><td class=\"prmaxrowtag\">Concurrent Count</td><td>\r\n\t\t\t<form data-dojo-attach-point=\"setusercountform\"  onsubmit=\"return false\" data-dojo-type=\"dijit/form/Form\">\r\n\t\t\t\t<input data-dojo-props='type:\"text\",name:\"logins\"' data-dojo-type=\"dijit/form/NumberTextBox\" data-dojo-attach-point=\"logins\" >\r\n\t\t\t\t<button data-dojo-attach-point=\"setusercount\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='label:\"Set User Count\",type:\"submit\"' ></button>\r\n\t\t\t</form>\r\n\t\t</td></tr>\r\n\t\t<tr><td class=\"prmaxrowtag\">User Name Count</td><td>\r\n\t\t\t<form data-dojo-attach-point=\"setupernamecount\"  onsubmit=\"return false\" data-dojo-type=\"dijit/form/Form\">\r\n\t\t\t\t<input data-dojo-props='type:\"text\",name:\"nbrofusersaccounts\"' data-dojo-type=\"dijit/form/NumberTextBox\" data-dojo-attach-point=\"nbrofusersaccounts\" >\r\n\t\t\t\t<button data-dojo-attach-point=\"setusercount\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='label:\"Set User Name Count\",type:\"submit\"'></button>\r\n\t\t\t</form>\r\n\t\t</td></tr>\r\n\t\t<tr><td class=\"prmaxrowtag\">Collateral Limit</td><td>\r\n\t\t\t<form data-dojo-attach-point=\"collaterallimitform\"  onsubmit=\"return false\" data-dojo-type=\"dijit/form/Form\">\r\n\t\t\t\t<input data-dojo-props='type:\"text\",name:\"collateral_size\"' data-dojo-type=\"dijit/form/NumberTextBox\" data-dojo-attach-point=\"collateral_size\" >\r\n\t\t\t\t<button data-dojo-attach-point=\"collateral_sizecollateral_size_btn\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='label:\"Set Collateral Size\",type:\"submit\"'></button>\r\n\t\t\t</form>\r\n\t\t</td></tr>\r\n\t\t<tr><td class=\"prmaxrowtag\">Email Day Limit</td><td>\r\n\t\t\t<form data-dojo-attach-point=\"emaillimitform\"  onsubmit=\"return false\" data-dojo-type=\"dijit/form/Form\">\r\n\t\t\t\t<input data-dojo-props='type:\"text\",name:\"max_emails_for_day\"' data-dojo-type=\"dijit/form/NumberTextBox\" data-dojo-attach-point=\"max_emails_for_day\" >\r\n\t\t\t\t<button data-dojo-attach-point=\"email_limit_btn\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='label:\"Set Email Day Limit\",type:\"submit\"'></button>\r\n\t\t\t</form>\r\n\t\t</td></tr>\r\n\t\t<tr><td class=\"prmaxrowtag\" valign=\"top\">Demo Status</td><td>\r\n\t\t\t<form data-dojo-attach-point=\"demoaccountform\"  onsubmit=\"return false\" data-dojo-type=\"dijit/form/Form\">\r\n\t\t\t\t<table style=\"width:100%;border-collapse:collapse;\" cellspacing=\"0\" cellpadding=\"0\">\r\n\t\t\t\t\t<tr><td class=\"prmaxrowtag\" width=\"20%\">Core</td><td align=\"left\"><input data-dojo-props='type:\"text\",name:\"demo\"' data-dojo-type=\"dijit/form/CheckBox\" data-dojo-attach-point=\"demoaccount_check\"></td></tr>\r\n\t\t\t\t\t<tr><td class=\"prmaxrowtag\">Features</td><td><input data-dojo-props='type:\"text\",name:\"isadvancedemo\"' data-dojo-type=\"dijit/form/CheckBox\" data-dojo-attach-point=\"isadvancedemo\"></td></tr>\r\n\t\t\t\t\t<tr><td class=\"prmaxrowtag\">Monitoring</td><td><input data-dojo-props='type:\"text\",name:\"ismonitoringdemo\"' data-dojo-type=\"dijit/form/CheckBox\" data-dojo-attach-point=\"ismonitoringdemo\"></td></tr>\r\n\t\t\t\t\t<tr><td></td><td><button data-dojo-attach-point=\"demoaccountset\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='label:\"Change Demo Status\",type:\"submit\"'></button>\r\n\t\t\t\t\t<button data-dojo-attach-point=\"reactive_demo\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='label:\"Re-Activate Demo\",type:\"button\",\"class\":\"prmaxhidden\"' data-dojo-attach-event=\"onClick:_ReActiveDemo\" ></button></td></tr>\r\n\t\t\t\t</table>\r\n\t\t\t</form>\r\n\t\t</td></tr>\r\n\t\t<tr><td class=\"prmaxrowtag\">Email Enabled</td><td>\r\n\t\t\t<form data-dojo-attach-point=\"emailenabledform\"  data-dojo-props='onsubmit:\"return false\"' data-dojo-type=\"dijit/form/Form\">\r\n\t\t\t\t<input data-dojo-props='type:\"text\",name:\"useemail\",value:\"1\"' data-dojo-type=\"dijit/form/CheckBox\" data-dojo-attach-point=\"useemail_check\">\r\n\t\t\t\t<label> Email Test Mode</label>\r\n\t\t\t\t<input data-dojo-props='type:\"text\",name:\"emailistestmode\",value:\"1\"' data-dojo-type=\"dijit/form/CheckBox\" data-dojo-attach-point=\"emailistestmode_check\">\r\n\t\t\t\t<button data-dojo-attach-point=\"useemailset\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='label:\"Change Email Status\",type:\"submit\"'></button>\r\n\t\t\t</form>\r\n\t\t</td></tr>\r\n\t\t<tr><td class=\"prmaxrowtag\">Is Internal Account</td><td>\r\n\t\t\t\t<input data-dojo-props='type:\"text\",name:\"isinternal\"' data-dojo-type=\"dijit/form/CheckBox\" data-dojo-attach-point=\"isinternal\">\r\n\t\t\t\t<button data-dojo-type=\"dijit/form/Button\" data-dojo-props='label:\"Change Internal Status\",type:\"button\"' data-dojo-attach-event=\"onClick:_ChangeInternalStatus\"></button>\r\n\t\t</td></tr>\r\n\t\t<tr><td class=\"prmaxrowtag\">Delete Account</td>\r\n\t\t\t<td><button data-dojo-attach-point=\"deleteaccount\" data-dojo-attach-event=\"onClick: _DeleteAccount\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='label:\"Delete Account\",type:\"button\"' ></button></td></tr>\r\n\t\t<tr><td class=\"prmaxrowtag\" valign=\"top\">Modules</td><td>\r\n\t\t\t<table>\r\n\t\t\t\t<tr><td class=\"prmaxrowtag\" align=\"right\">Professional</td>\r\n\t\t\t\t\t<td><input data-dojo-attach-point=\"is_bundle\" data-dojo-props='name:\"is_bundle\",type:\"checkBox\",value:true' data-dojo-type=\"dijit/form/CheckBox\" data-dojo-attach-event=\"_bundle_settings\"></td><td></td></tr>\r\n\t\t\t\t<tr><td class=\"prmaxrowtag\" align=\"right\">Features</td>\r\n\t\t\t\t\t<td><input data-dojo-attach-point=\"advancefeatures\" data-dojo-props='name:\"advancefeatures\",type:\"checkBox\",value:true' data-dojo-type=\"dijit/form/CheckBox\" ></td><td></td></tr>\r\n\t\t\t\t<tr><td class=\"prmaxrowtag\" align=\"right\">Crm</td>\r\n\t\t\t\t\t<td><input data-dojo-attach-point=\"crm\" data-dojo-props='name:\"crm\",type:\"checkBox\",value:true' data-dojo-type=\"dijit/form/CheckBox\"></td></tr>\r\n\t\t\t\t<tr><td class=\"prmaxrowtag\" align=\"right\">International Data</td>\r\n\t\t\t\t\t<td><input data-dojo-attach-point=\"has_international_data\" data-dojo-props='name:\"has_international_data\",type:\"checkBox\",value:true' data-dojo-type=\"dijit/form/CheckBox\"></td></tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td class=\"prmaxrowtag\" align=\"right\">Monitoring</td>\r\n\t\t\t\t\t<td><input data-dojo-attach-point=\"updatum\" data-dojo-props='name:\"updatum\",type:\"checkBox\",value:true' data-dojo-type=\"dijit/form/CheckBox\" data-dojo-attach-event=\"onClick:_CheckLayout\" ></td>\r\n\t\t\t\t\t<td><table width=\"100%\" data-dojo-attach-point=\"max_users_monitoring\" class=\"prmaxhidden\"><tr><td class=\"prmaxrowtag\">Max Logins</td>\r\n\t\t\t\t\t<td><input data-dojo-props='name:\"maxmonitoringusers\",type:\"text\"' data-dojo-type=\"dijit/form/NumberTextBox\" data-dojo-attach-point=\"maxmonitoringusers\" ></td></tr></table></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr><td class=\"prmaxrowtag\" align=\"right\">News Room's</td>\r\n\t\t\t\t<td><input data-dojo-attach-point=\"has_news_rooms\" data-dojo-props='name:\"has_news_rooms\",type:\"checkBox\",value:true' data-dojo-type=\"dijit/form/CheckBox\"></td><td></td></tr>\r\n\t\t\t\t<tr><td class=\"prmaxrowtag\" align=\"right\">SEO</td>\r\n\t\t\t\t<td><input data-dojo-attach-point=\"seo\" data-dojo-props='name:\"seo\",type:\"checkBox\",value:true' data-dojo-type=\"dijit/form/CheckBox\"></td></tr>\r\n\t\t\t\t<tr><td class=\"prmaxrowtag\" align=\"right\">Journo Requests</td>\r\n\t\t\t\t<td><input data-dojo-attach-point=\"has_journorequests\" data-dojo-props='name:\"has_journorequests\",type:\"checkBox\",value:true' data-dojo-type=\"dijit/form/CheckBox\"></td></tr>\r\n\t\t\t\t<tr><td class=\"prmaxrowtag\" align=\"right\">Clippings</td>\r\n\t\t\t\t<td><input data-dojo-attach-point=\"has_clippings\" data-dojo-props='name:\"has_clippings\",type:\"checkBox\",value:true' data-dojo-type=\"dijit/form/CheckBox\" ></td>\r\n\t\t\t\t<td><button data-dojo-attach-event=\"onClick:_UpdateModules\" data-dojo-type=\"dijit/form/Button\" data-dojo-props='label:\"Update Modules\",type:\"button\"' ></button></td></tr>\r\n\t\t\t</table></td>\r\n\t\t</tr>\r\n\t\t<tr><td class=\"prmaxrowtag\">Support User</td><td>\r\n\t\t\t\t<select data-dojo-attach-point=\"support_userid\" data-dojo-props=\"autoComplete:true,searchAttr:'name',labelType:'html',required:true\" data-dojo-type=\"dijit/form/FilteringSelect\" ></select>\r\n\t\t\t\t<button data-dojo-props='\"class\":\"prmaxbutton\",type:\"button\",label:\"Set Support User to Customer\"' data-dojo-attach-event=\"onClick:_SetCustomer\" data-dojo-type=\"dijit/form/Button\"></button>\r\n\t\t</td></tr>\r\n\t\t<tr><td class=\"prmaxrowtag\">SEO Free Qty</td>\r\n\t\t\t<td class=\"prmaxrowtag\"><button data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick:_SetSeoCount\" data-dojo-props='label:\"Set SEO Free Count\"'></button></td></tr>\r\n\t\t<tr><td class=\"prmaxrowtag\">Extended Email Subject</td><td>\r\n\t\t\t\t<input data-dojo-props='type:\"text\",name:\"has_extended_email_subject\"' data-dojo-type=\"dijit/form/CheckBox\" data-dojo-attach-point=\"has_extended_email_subject\">\r\n\t\t\t\t<button data-dojo-type=\"dijit/form/Button\" data-dojo-props='label:\"Change Extended Subject\",type:\"button\"' data-dojo-attach-event=\"onClick:_change_extended_subject\"></button>\r\n\t\t</td></tr>\r\n\t</table>\r\n<div data-dojo-attach-point=\"expirectrl\" data-dojo-type=\"control/customer/options/SetExpireDate\" ></div>\r\n<div data-dojo-type=\"dijit/Dialog\" data-dojo-props='title:\"Re-Activate Demo\"' data-dojo-attach-point=\"reactiveatedialog\">\r\n\t<div data-dojo-attach-point=\"reactiveatectrl\" data-dojo-type=\"control/customer/options/ReActivateDemo\"></div>\r\n</div>\r\n<div data-dojo-type=\"control/customer/options/SetFreeSEOCount\" data-dojo-attach-point=\"seofree\"></div>\r\n\r\n\r\n</div>\r\n"}});define("control/customer/options/details",["dojo/_base/declare","ttl/BaseWidgetAMD","dojo/text!../options/templates/details.html","dijit/layout/BorderContainer","dijit/layout/ContentPane","ttl/utilities2","dojo/request","dojo/_base/lang","dojo/dom-style","dojo/dom-attr","dojo/dom-class","dojo/data/ItemFileReadStore","dijit/ProgressBar","dijit/form/FilteringSelect","dijit/form/Button","dijit/form/Form","dijit/form/NumberTextBox","dojox/form/BusyButton","dijit/form/CheckBox","control/customer/options/SetExpireDate","control/customer/options/ReActivateDemo","control/customer/options/SetFreeSEOCount"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c){return _1("control.customer.options.details",[_2],{templateString:_3,constructor:function(){this._customersourceid=new _c({url:"/common/lookups?searchtype=customersources"});this._clippingsourceid=new _c({url:"/common/lookups?searchtype=clippingsource&nofilter=1"});this._statusid=new _c({url:"/common/lookups?searchtype=customerstatus"});this._ChangeStatusResponseCall=_8.hitch(this,this._ChangeStatusResponse);this._SetUserCountResponseCall=_8.hitch(this,this._SetUserCountResponse);this._ChangeDemoStatusResponseCall=_8.hitch(this,this._ChangeDemoStatusResponse);this._ChangeEmailStatusResponseCall=_8.hitch(this,this._ChangeEmailStatusResponse);this._DeleteAccountResponseCall=_8.hitch(this,this._DeleteAccountResponse);this._SetUserNameCountResponseCall=_8.hitch(this,this._SetUserNameCountResponse);this._UpdatedInternalStatusCallBack=_8.hitch(this,this._UpdatedInternalStatusCall);this._SetCustomerCallBack=_8.hitch(this,this._SetCustomerCall);this._change_extended_subject_call_back=_8.hitch(this,this._change_extended_subject_call);this.user_model=new _c({url:"/customer/users_support"});},postCreate:function(){this.customertypeid.set("store",PRCOMMON.utils.stores.Customer_Types());this.statusid.set("store",this._statusid);this.support_userid.set("store",this.user_model);dojo.connect(this.setusercountform,"onSubmit",dojo.hitch(this,this._SetUserCount));dojo.connect(this.setupernamecount,"onSubmit",dojo.hitch(this,this._SetUserNameCount));dojo.connect(this.demoaccountform,"onSubmit",dojo.hitch(this,this._ChangeDemoStatus));dojo.connect(this.emailenabledform,"onSubmit",dojo.hitch(this,this._ChangeEmailStatus));dojo.connect(this.collaterallimitform,"onSubmit",dojo.hitch(this,this._Set_Collateral_Limit));dojo.connect(this.emaillimitform,"onSubmit",dojo.hitch(this,this._set_email_day_limit));this.inherited(arguments);},_SetExpireDate:function(_d){this.expirectrl.Load(this._customerid);},_CustomerType:function(){if(confirm("Change Customer Type")){_7.post("/customer/update_customertypeid",_6.make_params({data:{customerid:this._customer.customerid,customertypeid:this.customertypeid.get("value")}})).then(this._UpdatedCustomerTypeCallBack);}},_ChangeStatus:function(){_7.post("/customer/changestatus",_6.make_params({data:{customerid:this._customer.customerid,customerstatusid:this.statusid.get("value")}})).then(this._ChangeStatusResponseCall);},_ChangeStatusResponse:function(_e){if(_e.success=="OK"){alert("Status Changed was Successful");}else{alert("Status Changed Failed ");}this.statusidbutton.cancel();},_SetUserCountResponse:function(_f){if(_f.success=="OK"){alert("Concurrent User Count Re-Set");}else{alert("Problem Resetting Concurrent User Count");}},_SetUserCount:function(){if(_6.form_validator(this.setusercountform)==false){alert("form invalid");return false;}var _10=this.setusercountform.get("value");_10["icustomerid"]=this._customerid;_7.post("/customer/set_login_count",_6.make_params({data:_10})).then(this._SetUserCountResponseCall);},_SetUserNameCountResponse:function(_11){if(_11.success=="OK"){alert("Nbr of User Names Re-Set");}else{alert("Problem Resetting Nbr of User Names");}},_SetUserNameCount:function(){if(_6.form_validator(this.setupernamecount)==false){alert("form invalid");return false;}var _12=this.setupernamecount.get("value");_12["icustomerid"]=this._customerid;_7.post("/customer/set_users_count",_6.make_params({data:_12})).then(this._SetUserNameCountResponseCall);},_Set_Collateral_Limit:function(){if(_6.form_validator(this.collateral_size)==false){alert("form invalid");return false;}var _13=this.collaterallimitform.get("value");_13["icustomerid"]=this._customerid;_7.post("/customer/set_collateral_limit",_6.make_params({data:_13})).then(this._Set_Collateral_Limit_Response);},_Set_Collateral_Limit_Response:function(_14){if(_14.success=="OK"){alert("Collateral Limit Updated");}else{alert("Collateral Limit Update Failed");}},_set_email_day_limit:function(){if(_6.form_validator(this.emaillimitform)==false){alert("form invalid");return false;}var _15=this.emaillimitform.get("value");_15["icustomerid"]=this._customerid;_7.post("/customer/set_max_emails_for_day",_6.make_params({data:_15})).then(this._set_email_day_limit_call);},_set_email_day_limit_call:function(_16){if(_16.success=="OK"){alert("Email Limit Updated");}else{alert("Email Limit Update Failed");}},_ChangeDemoStatusResponse:function(_17){if(_17.success=="OK"){alert("Demo Status Changed");}else{alert("Problem Changing Demo Status ");}},_ChangeDemoStatus:function(){var _18=dojo.mixin({"icustomerid":this._customerid},this.demoaccountform.get("value"));_7.post("/customer/set_demo_status",_6.make_params({data:_18})).then(this._ChangeDemoStatusResponseCall);},_ReActiveDemo:function(){this.reactiveatectrl.Load(this._customerid,this.reactiveatedialog);},_ChangeEmailStatusResponse:function(_19){if(_19.success=="OK"){alert("Email Status Changed");}else{alert("Problem Changing Email Status ");}},_ChangeEmailStatus:function(){var _1a=_8.mixin({"icustomerid":this._customerid},this.emailenabledform.get("value"));_7.post("/customer/set_email_status",_6.make_params({data:_1a})).then(this._ChangeEmailStatusResponseCall);},_UpdatedInternalStatusCall:function(_1b){if(_1b.success=="OK"){alert("Status Changed");}else{alert("Problem Changing Status");}},_ChangeInternalStatus:function(){if(confirm("Change Status")){_7.post("/customer/update_internal_status",_6.make_params({data:{icustomerid:this._customerid,isinternal:this.isinternal.get("value")}})).then(this._UpdatedInternalStatusCallBack);}},_DeleteAccountResponse:function(_1c){if(_1c.success=="OK"){this.customergrid.setQuery(_6.get_prevent_cache({}));this.customergrid.selection.clear();_a.set(this.detailsview.domNode,"display","none");_b.add(this.userdetails,"prmaxhidden");alert("Account Deleted");}else{if(_1c.success=="FD"){alert("Record has been marked as Deleted but has not been delete because it has Financial Information attached");}else{alert("Problem Deleteing Account");}}},_DeleteAccount:function(){if(confirm("Do You Wish to Delete Account ?")){if(confirm("Are you REALLY Sure?")){_7.post("/customer/delete_customer",_6.make_params({data:{"icustomerid":this._customerid}})).then(this._DeleteAccountResponseCall);}}},_bundle_settings:function(){},_UpdateModulesCall:function(_1d){if(_1d.success=="OK"){alert("Module Updated");this._CheckLayout(_1d.data.cust,_1d.data.mediaaccesstype);}else{alert("Module Update Failed");}},_UpdateModules:function(){_7.post("/customer/update_customer_modules",_6.make_params({data:{"icustomerid":this._customerid,crm:this.crm.get("value"),advancefeatures:this.advancefeatures.get("value"),updatum:this.updatum.get("value"),seo:this.seo.get("value"),maxmonitoringusers:this.maxmonitoringusers.get("value"),is_bundle:this.is_bundle.get("value"),has_news_rooms:this.has_news_rooms.get("value"),has_international_data:this.has_international_data.get("value"),has_clippings:this.has_clippings.get("value"),has_journorequests:this.has_journorequests.get("value")}})).then(this._UpdateModulesCall);},_CheckLayout:function(_1e,_1f,_20){if(this.updatum.get("checked")){_b.remove(this.max_users_monitoring,"prmaxhidden");}else{_b.add(this.max_users_monitoring,"prmaxhidden");}this.financialcontrol.Show_Hide_Fields(_1e);this.datasets.load(null,_1e.has_international_data);var _21=(_1e.has_clippings)?"":"none";this.clippings.controlButton.domNode.style.display=_21;_21=(_1e.has_international_data)?"":"none";this.datasets.controlButton.domNode.style.display=_21;this.extendedsettings.load(_1e,_1f);this.emailserver.load(_1e,_20);},_SetCustomerCall:function(_22){if(_22.success=="OK"){alert("Support Customer updated");}else{alert("pRoblem Updating Support Customer");}},_SetCustomer:function(){var _23=this.support_userid.get("value");if(_23==null||_23===""){alert("No User Specified");return;}if(confirm("Set Support Customer")){_7.post("/customer/support_customer_set",_6.make_params({data:{iuserid:_23,icustomerid:this._customerid}})).then(this._SetCustomerCallBack);}},_SetSeoCount:function(){this.seofree.Load(this._customerid);},_change_extended_subject:function(){_7.post("/customer/update_extended_subject",_6.make_params({data:{"icustomerid":this._customerid,has_extended_email_subject:this.has_extended_email_subject.get("value")}})).then(this._change_extended_subject_call_back);},_change_extended_subject_call:function(_24){if(_24.success=="OK"){alert("Updated");}else{alert("Problem Updating");}},load:function(_25,_26){this._customer=_25;this._customerid=_25.customerid;this._customertypeid=_25.customertypeid;this.statusid.set("value",_25.customerstatusid);dojo.attr(this.displayname,"innerHTML",_25.customername);dojo.attr(this.customersourcedescription,"innerHTML",_26.customersourcedescription);this.customertypeid.set("value",_25.customertypeid);dojo.attr(this.expire_display,"innerHTML",_25.licence_expire_display);this.logins.set("value",_25.logins);this.nbrofusersaccounts.set("value",_25.maxnbrofusersaccounts);this.collateral_size.set("value",_25.collateral_size);this.max_emails_for_day.set("value",_25.max_emails_for_day);this.demoaccount_check.set("value",_25.isdemo);this.isadvancedemo.set("value",_25.isadvancedemo);this.ismonitoringdemo.set("value",_25.ismonitoringdemo);if(_25.isdemo){_b.remove(this.reactive_demo.domNode,"prmaxhidden");}else{_b.add(this.reactive_demo.domNode,"prmaxhidden");}this.useemail_check.set("value",_25.useemail);this.emailistestmode_check.set("value",_25.emailistestmode);this.isinternal.set("value",_25.isinternal);this.crm.set("value",_25.crm);this.seo.set("value",_25.seo);this.updatum.set("value",_25.updatum);this.maxmonitoringusers.set("value",_25.maxmonitoringusers);this.is_bundle.set("value",_25.is_bundle);this.has_news_rooms.set("value",_25.has_news_rooms);this.has_journorequests.set("value",_25.has_journorequests);this.has_international_data.set("value",_25.has_international_data);this.has_clippings.set("value",_25.has_clippings);this.advancefeatures.set("value",_25.advancefeatures);this.has_extended_email_subject.set("value",_25.has_extended_email_subject);},});});